/*! For license information please see ultra-card.js.LICENSE.txt */
(()=>{"use strict";var e,t,i={30:(e,t,i)=>{i.d(t,{m:()=>d});var n=i(183),o=i(662),a=i(914);i(768);class r{static render(e,t,i){const o=e.design||{},r=t=>{const n=Object.assign({},o);Object.keys(t).forEach((e=>{const i=t[e];""===i||null==i?delete n[e]:n[e]=i}));const a={design:n};Object.prototype.hasOwnProperty.call(t,"background_color")&&(a.background_color=t.background_color||void 0,a.background_color||delete a.background_color),i(a),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-design-update",{detail:{moduleId:e.id,updates:t}}))};return n.qy`
      <div class="uc-global-design-tab">
        ${a.Q.injectCleanFormStyles()}

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <!-- Padding Section with Direct Inputs to Avoid HA Form Validation Issues -->
          <div class="form-field-container">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Padding
            </div>
            <div
              class="field-description"
              style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
            >
              Spacing inside the module container (top/right/bottom/left).
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Top</label
                >
                <input
                  type="text"
                  .value=${o.padding_top||""}
                  @input=${e=>r({padding_top:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Right</label
                >
                <input
                  type="text"
                  .value=${o.padding_right||""}
                  @input=${e=>r({padding_right:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Bottom</label
                >
                <input
                  type="text"
                  .value=${o.padding_bottom||""}
                  @input=${e=>r({padding_bottom:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Left</label
                >
                <input
                  type="text"
                  .value=${o.padding_left||""}
                  @input=${e=>r({padding_left:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <!-- Background Color with Ultra Color Picker -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Background Color
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
            >
              Background color for the module container.
            </div>
            <ultra-color-picker
              .value=${o.background_color||""}
              .defaultValue=${"transparent"}
              .hass=${t}
              @value-changed=${e=>r({background_color:e.detail.value})}
            ></ultra-color-picker>
          </div>

          <!-- Background Image Settings -->
          ${a.Q.renderField("Background Image","Background image for the module container.",t,{background_image_type:o.background_image_type||"none",background_image:o.background_image||"",background_image_entity:o.background_image_entity||"",background_size:o.background_size||"cover",background_repeat:o.background_repeat||"no-repeat",background_position:o.background_position||"center center"},[a.Q.createSchemaItem("background_image_type",{select:{options:[{value:"none",label:"None"},{value:"upload",label:"Upload/Local"},{value:"url",label:"URL"},{value:"entity",label:"Entity"}],mode:"dropdown"}}),a.Q.createSchemaItem("background_image",{text:{}}),a.Q.createSchemaItem("background_image_entity",{entity:{}}),a.Q.createSchemaItem("background_size",{select:{options:[{value:"cover",label:"Cover"},{value:"contain",label:"Contain"},{value:"auto",label:"Auto"},{value:"custom",label:"Custom"}],mode:"dropdown"}}),a.Q.createSchemaItem("background_repeat",{select:{options:[{value:"no-repeat",label:"No Repeat"},{value:"repeat",label:"Repeat"},{value:"repeat-x",label:"Repeat X"},{value:"repeat-y",label:"Repeat Y"}],mode:"dropdown"}}),a.Q.createSchemaItem("background_position",{select:{options:[{value:"left top",label:"Left Top"},{value:"left center",label:"Left Center"},{value:"left bottom",label:"Left Bottom"},{value:"center top",label:"Center Top"},{value:"center center",label:"Center"},{value:"center bottom",label:"Center Bottom"},{value:"right top",label:"Right Top"},{value:"right center",label:"Right Center"},{value:"right bottom",label:"Right Bottom"}],mode:"dropdown"}})],(e=>r(e.detail.value)))}
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <!-- Sizes Section with Direct Inputs -->
          <div class="form-field-container">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Sizes
            </div>
            <div
              class="field-description"
              style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
            >
              Control the dimensions and size constraints of the module container.
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Width</label
                >
                <input
                  type="text"
                  .value=${o.width||""}
                  @input=${e=>r({width:e.target.value})}
                  placeholder="auto, 200px, 100%, 14rem, 10vw"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Height</label
                >
                <input
                  type="text"
                  .value=${o.height||""}
                  @input=${e=>r({height:e.target.value})}
                  placeholder="auto, 200px, 15rem, 10vh"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Max Width</label
                >
                <input
                  type="text"
                  .value=${o.max_width||""}
                  @input=${e=>r({max_width:e.target.value})}
                  placeholder="200px, 100%, 14rem, 10vw"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Max Height</label
                >
                <input
                  type="text"
                  .value=${o.max_height||""}
                  @input=${e=>r({max_height:e.target.value})}
                  placeholder="200px, 15rem, 10vh"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Min Width</label
                >
                <input
                  type="text"
                  .value=${o.min_width||""}
                  @input=${e=>r({min_width:e.target.value})}
                  placeholder="200px, 100%, 14rem, 10vw"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Min Height</label
                >
                <input
                  type="text"
                  .value=${o.min_height||""}
                  @input=${e=>r({min_height:e.target.value})}
                  placeholder="200px, 15rem, 10vh"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px;"
        >
          <!-- Typography Section with Direct Inputs to Avoid HA Form Validation Issues -->
          <div class="form-field-container">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Typography
            </div>
            <div
              class="field-description"
              style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
            >
              Text color and font properties.
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Color</label
                >
                <input
                  type="text"
                  .value=${o.color||""}
                  @input=${e=>r({color:e.target.value})}
                  placeholder="var(--primary-text-color), #fff, red"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Font Size</label
                >
                <input
                  type="text"
                  .value=${o.font_size||""}
                  @input=${e=>r({font_size:e.target.value})}
                  placeholder="16px, 1.2rem, 1.5em"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Font Family</label
                >
                <input
                  type="text"
                  .value=${o.font_family||""}
                  @input=${e=>r({font_family:e.target.value})}
                  placeholder="Arial, sans-serif"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Font Weight</label
                >
                <input
                  type="text"
                  .value=${o.font_weight||""}
                  @input=${e=>r({font_weight:e.target.value})}
                  placeholder="400, 600, bold"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;"
        >
          ${a.Q.renderField("Border","Container border style.",t,{border_style:o.border_style||"none",border_width:o.border_width||0,border_color:o.border_color||"var(--divider-color)",border_radius:o.border_radius||0},[a.Q.createSchemaItem("border_style",{select:{options:[{value:"none",label:"None"},{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"}]}}),a.Q.createSchemaItem("border_width",{number:{min:0,max:20}}),a.Q.createSchemaItem("border_color",{text:{}}),a.Q.createSchemaItem("border_radius",{number:{min:0,max:64}})],(e=>r(e.detail.value)))}
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;"
        >
          ${a.Q.renderField("Shadow","Box shadow properties.",t,{box_shadow_h:o.box_shadow_h||0,box_shadow_v:o.box_shadow_v||0,box_shadow_blur:o.box_shadow_blur||0,box_shadow_spread:o.box_shadow_spread||0,box_shadow_color:o.box_shadow_color||"rgba(0,0,0,0.2)"},[a.Q.createSchemaItem("box_shadow_h",{number:{min:-50,max:50}}),a.Q.createSchemaItem("box_shadow_v",{number:{min:-50,max:50}}),a.Q.createSchemaItem("box_shadow_blur",{number:{min:0,max:200}}),a.Q.createSchemaItem("box_shadow_spread",{number:{min:-50,max:50}}),a.Q.createSchemaItem("box_shadow_color",{text:{}})],(e=>r(e.detail.value)))}
        </div>
      </div>
      ${(()=>{try{const i=e.renderDesignExtensions;if("function"==typeof i)return i(t,(e=>r(e)))}catch(e){}return n.qy``})()}
    `}}var l=i(371),s=i(575);class d{constructor(){this.renderUcForm=(e,t,i,n,o=!0)=>s.U.renderForm(e,t,i,n,o),this.renderFieldSection=(e,t,i,n,o,a)=>s.U.renderFieldSection(e,t,i,n,o,a),this.renderSettingsSection=(e,t,i)=>s.U.renderSettingsSection(e,t,i),this.injectUcFormStyles=()=>s.U.injectCleanFormStyles(),this.entityField=s.U.entity,this.textField=s.U.text,this.selectField=s.U.select,this.iconField=s.U.icon,this.booleanField=s.U.boolean,this.numberField=s.U.number,this.colorField=s.U.color,this.gridField=s.U.grid,this.expandableField=s.U.expandable}renderActionsTab(e,t,i,n){return o.A.render(e,t,(e=>n(e)))}renderOtherTab(e,t,i,n){return l.X.render(e,t,(e=>n(e)))}renderDesignTab(e,t,i,n){return r.render(e,t,(e=>n(e)))}validate(e){const t=[];return e.id||t.push("Module ID is required"),e.type||t.push("Module type is required"),{valid:0===t.length,errors:t}}generateId(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}renderFormField(e,t,i){return n.qy`
      <div class="form-field">
        <label class="form-label">${e}</label>
        ${t} ${i?n.qy`<div class="form-description">${i}</div>`:""}
      </div>
    `}renderColorPicker(e,t,i,o){return this.renderFormField(e,n.qy`
        <input
          type="color"
          .value=${t||"#000000"}
          @change=${e=>i(e.target.value)}
        />
      `,o)}renderNumberInput(e,t,i,o={},a){var r;const l=null!==(r=o.defaultValue)&&void 0!==r?r:0;return this.renderFormField(e,n.qy`
        <input
          type="number"
          .value=${null!=t?t:""}
          placeholder=${l.toString()}
          min=${o.min||0}
          max=${o.max||1e3}
          step=${o.step||1}
          @input=${e=>{const t=e.target.value.trim();i(""===t?l:Number(t))}}
        />
      `,a)}renderTextInput(e,t,i,o,a){return this.renderFormField(e,n.qy`
        <input
          type="text"
          .value=${t||""}
          placeholder=${o||""}
          @input=${e=>i(e.target.value)}
        />
      `,a)}renderEntityPicker(e,t,i,o,a,r,l){return this.renderFormField("",n.qy`
        <ha-form
          .hass=${o}
          .data=${{entity:t||""}}
          .schema=${[{name:"entity",selector:{entity:{}},label:e,description:r||""}]}
          .computeLabel=${e=>e.label||e.name}
          .computeDescription=${e=>e.description||""}
          @value-changed=${e=>i(e.detail.value.entity)}
        ></ha-form>
      `,"")}renderTextArea(e,t,i,o,a){return this.renderFormField(e,n.qy`
        <textarea
          .value=${t||""}
          placeholder=${o||""}
          rows="3"
          @input=${e=>i(e.target.value)}
        ></textarea>
      `,a)}renderSelect(e,t,i,o,a){return this.renderFormField(e,n.qy`
        <select
          .value=${t||""}
          @change=${e=>o(e.target.value)}
        >
          ${i.map((e=>n.qy`<option value="${e.value}">${e.label}</option>`))}
        </select>
      `,a)}renderCheckbox(e,t,i,o){return this.renderFormField("",n.qy`
        <label class="checkbox-wrapper">
          <input
            type="checkbox"
            .checked=${t||!1}
            @change=${e=>i(e.target.checked)}
          />
          ${e}
        </label>
      `,o)}renderConditionalFieldsGroup(e,t){return n.qy`
      <div class="conditional-fields-group">
        <div class="conditional-fields-header">${e}</div>
        <div class="conditional-fields-content">${t}</div>
      </div>
    `}}},57:(e,t,i)=>{i.d(t,{formatEntityState:()=>o});var n=i(340);const o=(e,t,i)=>{var o,a;const r=!1!==(null==i?void 0:i.includeUnit),l=null===(o=null==e?void 0:e.states)||void 0===o?void 0:o[t];if(!e||!l)return void 0!==(null==i?void 0:i.state)?String(i.state):"";const s=e.formatEntityState,d=s?s(l,void 0!==(null==i?void 0:i.state)?String(i.state):void 0):(0,n.nu)(e.localize,l,e.locale,null==i?void 0:i.state);if(r)return d;const c=null===(a=l.attributes)||void 0===a?void 0:a.unit_of_measurement;if(c&&"string"==typeof d){const e=` ${c}`;if(d.endsWith(e))return d.slice(0,-e.length)}return d}},70:(e,t,i)=>{i.d(t,{s:()=>c});var n=i(183),o=i(30),a=i(662),r=i(371),l=i(796),s=i(381),d=i(456);class c extends o.m{constructor(){super(...arguments),this.metadata={type:"markdown",title:"Markdown Module",description:"Display rich markdown content",author:"WJD Designs",version:"1.0.0",icon:"mdi:language-markdown",category:"content",tags:["markdown","content","rich-text","formatting","template"]}}createDefault(e,t){return{id:e||this.generateId("markdown"),type:"markdown",markdown_content:"# Welcome to Markdown\n\nThis is a **markdown** module that supports:\n\n- *Italic* and **bold** text\n- [Links](https://example.com)\n- `inline code`\n- Lists and more!\n\n## Features\n1. Headers (H1-H6)\n2. Tables\n3. Code blocks\n4. And much more...\n\n> This is a blockquote example\n\n| Column 1 | Column 2 | Column 3 |\n|----------|----------|----------|\n| Row 1    | Data     | More     |\n| Row 2    | Content  | Here     |",enable_html:!1,enable_tables:!0,enable_code_highlighting:!0,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const r=e,l=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Content Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,d.kg)("editor.markdown.content.title",l,"Markdown Content")}
          </div>
          <div class="field-group">
            <ha-form
              .hass=${t}
              .data=${{markdown_content:r.markdown_content||""}}
              .schema=${[{name:"markdown_content",label:(0,d.kg)("editor.markdown.content.label",l,"Content"),description:(0,d.kg)("editor.markdown.content.desc",l,"Enter your markdown content with full formatting support"),selector:{text:{multiline:!0}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>o({markdown_content:e.detail.value.markdown_content})}
            ></ha-form>
          </div>
        </div>

        <!-- Feature Settings Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,d.kg)("editor.markdown.features.title",l,"Markdown Features")}
          </div>

          <div class="three-column-grid">
            <div class="field-group">
              <ha-form
                .hass=${t}
                .data=${{enable_html:r.enable_html||!1}}
                .schema=${[{name:"enable_html",label:(0,d.kg)("editor.markdown.enable_html",l,"Enable HTML"),description:(0,d.kg)("editor.markdown.enable_html_desc",l,"Allow HTML tags in markdown content"),selector:{boolean:{}}}]}
                .computeLabel=${e=>e.label||e.name}
                .computeDescription=${e=>e.description||""}
                @value-changed=${e=>o({enable_html:e.detail.value.enable_html})}
              ></ha-form>
            </div>

            <div class="field-group">
              <ha-form
                .hass=${t}
                .data=${{enable_tables:!1!==r.enable_tables}}
                .schema=${[{name:"enable_tables",label:(0,d.kg)("editor.markdown.enable_tables",l,"Enable Tables"),description:(0,d.kg)("editor.markdown.enable_tables_desc",l,"Support for markdown table syntax"),selector:{boolean:{}}}]}
                .computeLabel=${e=>e.label||e.name}
                .computeDescription=${e=>e.description||""}
                @value-changed=${e=>o({enable_tables:e.detail.value.enable_tables})}
              ></ha-form>
            </div>

            <div class="field-group">
              <ha-form
                .hass=${t}
                .data=${{enable_code_highlighting:!1!==r.enable_code_highlighting}}
                .schema=${[{name:"enable_code_highlighting",label:(0,d.kg)("editor.markdown.code_highlighting",l,"Code Highlighting"),description:(0,d.kg)("editor.markdown.code_highlighting_desc",l,"Syntax highlighting for code blocks"),selector:{boolean:{}}}]}
                .computeLabel=${e=>e.label||e.name}
                .computeDescription=${e=>e.description||""}
                @value-changed=${e=>o({enable_code_highlighting:e.detail.value.enable_code_highlighting})}
              ></ha-form>
            </div>
          </div>
        </div>
      </div>
    `}renderActionsTab(e,t,i,n){return a.A.render(e,t,(e=>n(e)))}renderPreview(e,t){const i=e,o=i,a=i.design||{},r={padding:a.padding_top||a.padding_bottom||a.padding_left||a.padding_right||o.padding_top||o.padding_bottom||o.padding_left||o.padding_right?`${this.addPixelUnit(a.padding_top||o.padding_top)||"8px"} ${this.addPixelUnit(a.padding_right||o.padding_right)||"0px"} ${this.addPixelUnit(a.padding_bottom||o.padding_bottom)||"8px"} ${this.addPixelUnit(a.padding_left||o.padding_left)||"0px"}`:"8px 0",margin:a.margin_top||a.margin_bottom||a.margin_left||a.margin_right||o.margin_top||o.margin_bottom||o.margin_left||o.margin_right?`${this.addPixelUnit(a.margin_top||o.margin_top)||"0px"} ${this.addPixelUnit(a.margin_right||o.margin_right)||"0px"} ${this.addPixelUnit(a.margin_bottom||o.margin_bottom)||"0px"} ${this.addPixelUnit(a.margin_left||o.margin_left)||"0px"}`:"0",background:a.background_color&&"transparent"!==a.background_color?a.background_color:o.background_color&&"transparent"!==o.background_color?o.background_color:"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},o),a),t),backgroundSize:a.background_size||o.background_size||"cover",backgroundPosition:a.background_position||o.background_position||"center",backgroundRepeat:a.background_repeat||o.background_repeat||"no-repeat",border:(a.border_style||o.border_style)&&"none"!==(a.border_style||o.border_style)?`${this.addPixelUnit(a.border_width||o.border_width)||"1px"} ${a.border_style||o.border_style} ${a.border_color||o.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(a.border_radius||o.border_radius)||"0",position:a.position||o.position||"static",top:a.top||o.top||"auto",bottom:a.bottom||o.bottom||"auto",left:a.left||o.left||"auto",right:a.right||o.right||"auto",zIndex:a.z_index||o.z_index||"auto",width:a.width||o.width||"100%",height:a.height||o.height||"auto",maxWidth:a.max_width||o.max_width||"100%",maxHeight:a.max_height||o.max_height||"none",minWidth:a.min_width||o.min_width||"none",minHeight:a.min_height||o.min_height||"auto",overflow:a.overflow||o.overflow||"visible",clipPath:a.clip_path||o.clip_path||"none",backdropFilter:a.backdrop_filter||o.backdrop_filter||"none",boxShadow:a.box_shadow_h&&a.box_shadow_v?`${a.box_shadow_h||"0"} ${a.box_shadow_v||"0"} ${a.box_shadow_blur||"0"} ${a.box_shadow_spread||"0"} ${a.box_shadow_color||"rgba(0,0,0,0.1)"}`:o.box_shadow_h&&o.box_shadow_v?`${o.box_shadow_h||"0"} ${o.box_shadow_v||"0"} ${o.box_shadow_blur||"0"} ${o.box_shadow_spread||"0"} ${o.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},s={fontSize:a.font_size&&a.font_size||(o.font_size?`${o.font_size}px`:`${i.font_size||14}px`),fontFamily:a.font_family||o.font_family||i.font_family||"Roboto",color:a&&a.color||o.color||i.color||"var(--primary-text-color)",textAlign:(a.text_align&&"inherit"!==a.text_align?a.text_align:void 0)||o.text_align||i.alignment||"left",lineHeight:a.line_height||o.line_height||i.line_height||1.6,letterSpacing:a.letter_spacing||o.letter_spacing||i.letter_spacing||"normal",padding:a.padding_top||a.padding_bottom||a.padding_left||a.padding_right||o.padding_top||o.padding_bottom||o.padding_left||o.padding_right?`${this.addPixelUnit(a.padding_top||o.padding_top)||"8px"} ${this.addPixelUnit(a.padding_right||o.padding_right)||"0px"} ${this.addPixelUnit(a.padding_bottom||o.padding_bottom)||"8px"} ${this.addPixelUnit(a.padding_left||o.padding_left)||"0px"}`:"8px 0",maxHeight:(a.max_height&&"none"!==a.max_height?a.max_height:void 0)||(i.max_height&&"none"!==i.max_height?i.max_height:"none"),overflow:(a.max_height&&"none"!==a.max_height?a.overflow||"visible":void 0)||i.max_height&&"none"!==i.max_height&&i.overflow_behavior||"visible",textShadow:a.text_shadow_h&&a.text_shadow_v?`${a.text_shadow_h||"0"} ${a.text_shadow_v||"0"} ${a.text_shadow_blur||"0"} ${a.text_shadow_color||"rgba(0,0,0,0.5)"}`:o.text_shadow_h&&o.text_shadow_v?`${o.text_shadow_h||"0"} ${o.text_shadow_v||"0"} ${o.text_shadow_blur||"0"} ${o.text_shadow_color||"rgba(0,0,0,0.5)"}`:"none",boxShadow:a.box_shadow_h&&a.box_shadow_v?`${a.box_shadow_h||"0"} ${a.box_shadow_v||"0"} ${a.box_shadow_blur||"0"} ${a.box_shadow_spread||"0"} ${a.box_shadow_color||"rgba(0,0,0,0.1)"}`:o.box_shadow_h&&o.box_shadow_v?`${o.box_shadow_h||"0"} ${o.box_shadow_v||"0"} ${o.box_shadow_blur||"0"} ${o.box_shadow_spread||"0"} ${o.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none"},d=(e=>{var t;if(!e)return"";let n=e;if(i.enable_html||(n=n.replace(/<(?![/]?(h[1-6]|p|strong|em|code|pre|blockquote|ul|ol|li|a|hr|table|thead|tbody|tr|th|td)\b)[^>]*>/g,(e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;")))),n=n.replace(/^#{6} (.*$)/gim,"<h6>$1</h6>").replace(/^#{5} (.*$)/gim,"<h5>$1</h5>").replace(/^#{4} (.*$)/gim,"<h4>$1</h4>").replace(/^#{3} (.*$)/gim,"<h3>$1</h3>").replace(/^#{2} (.*$)/gim,"<h2>$1</h2>").replace(/^#{1} (.*$)/gim,"<h1>$1</h1>").replace(/\*\*\*(.*?)\*\*\*/g,"<strong><em>$1</em></strong>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>').replace(/^> (.*$)/gim,"<blockquote>$1</blockquote>").replace(/^---$/gim,"<hr>").replace(/^\*\*\*$/gim,"<hr>"),!1!==i.enable_code_highlighting?(n=n.replace(/```(\w+)?\n([\s\S]*?)```/g,((e,t,i)=>`<pre><code${t?` class="language-${t}"`:""}>${i.trim()}</code></pre>`)),n=n.replace(/`(.*?)`/g,"<code>$1</code>")):(n=n.replace(/```[\s\S]*?```/g,(e=>`<pre><code>${e.replace(/```(\w+)?\n?/,"").replace(/```$/,"").trim()}</code></pre>`)),n=n.replace(/`(.*?)`/g,"<code>$1</code>")),!1!==i.enable_tables){const e=n.split("\n");let i=!1,o="",a=[];for(let n=0;n<e.length;n++){const r=e[n].trim();if(r.includes("|")&&r.split("|").length>2)if(i){const e=r.split("|").filter((e=>e.trim()));o+="<tr>",e.forEach((e=>{o+=`<td>${e.trim()}</td>`})),o+="</tr>"}else{i=!0,o="<table>";const a=null===(t=e[n+1])||void 0===t?void 0:t.trim();if(a&&/^[\|\-\s:]+$/.test(a)){o+="<thead>";const e=r.split("|").filter((e=>e.trim()));o+="<tr>",e.forEach((e=>{o+=`<th>${e.trim()}</th>`})),o+="</tr></thead><tbody>",n++}else{o+="<tbody>";const e=r.split("|").filter((e=>e.trim()));o+="<tr>",e.forEach((e=>{o+=`<td>${e.trim()}</td>`})),o+="</tr>"}}else i&&(i=!1,o+="</tbody></table>",a.push(o),o=""),a.push(r)}i&&(o+="</tbody></table>",a.push(o)),n=a.join("\n")}return n=n.replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br/>"),n="<p>"+n+"</p>",n=n.replace(/<p><\/p>/g,""),n=n.replace(/<p>(<h[1-6]>.*?<\/h[1-6]>)<\/p>/g,"$1"),n=n.replace(/<p>(<blockquote>.*?<\/blockquote>)<\/p>/g,"$1"),n=n.replace(/<p>(<hr>)<\/p>/g,"$1"),n=n.replace(/<p>(<table>[\s\S]*?<\/table>)<\/p>/g,"$1"),n=n.replace(/<p>(<pre>[\s\S]*?<\/pre>)<\/p>/g,"$1"),n=n.replace(/^[-*+] (.*$)/gim,"<li>$1</li>"),n=n.replace(/^(\d+)\. (.*$)/gim,"<li>$2</li>"),n=n.replace(/(<li>[\s\S]*?<\/li>(?:\s*<li>[\s\S]*?<\/li>)*)/g,"<ul>$1</ul>"),n})(i.markdown_content||"");let c=null,u=null,p=!1,g=0,m=0;const _=n.qy`<div class="markdown-content" .innerHTML=${d}></div>`;return n.qy`
      <div
        class="markdown-module-container"
        style="${this.styleObjectToCss(r)}; cursor: ${i.tap_action&&"nothing"!==i.tap_action.action||i.hold_action&&"nothing"!==i.hold_action.action||i.double_tap_action&&"nothing"!==i.double_tap_action.action?"pointer":"default"};"
        @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),p=!1,u=setTimeout((()=>{p=!0,i.hold_action&&"nothing"!==i.hold_action.action&&l.K.handleAction(i.hold_action,t,e.target)}),500)}}
        @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),u&&(clearTimeout(u),u=null),p)return void(p=!1);const n=Date.now();n-m<300&&1===g?(c&&(clearTimeout(c),c=null),g=0,i.double_tap_action&&"nothing"!==i.double_tap_action.action&&l.K.handleAction(i.double_tap_action,t,e.target)):(g=1,m=n,c=setTimeout((()=>{g=0,i.tap_action&&"nothing"!==i.tap_action.action&&l.K.handleAction(i.tap_action,t,e.target)}),300))}}
      >
        <div class="markdown-module-preview" style=${this.styleObjectToCss(s)}>
          ${_}
        </div>
      </div>
    `}renderLogicTab(e,t,i,n){return r.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.markdown_content&&""!==t.markdown_content.trim()||i.push("Markdown content is required"),t.font_size&&(t.font_size<1||t.font_size>200)&&i.push("Font size must be between 1 and 200 pixels"),t.link&&""!==t.link.trim())try{new URL(t.link)}catch(e){t.link.startsWith("/")||t.link.startsWith("#")||i.push('Link must be a valid URL or start with "/" for relative paths')}return{valid:0===i.length,errors:i}}getStyles(){return"\n      .markdown-module-preview {\n        min-height: 20px;\n        word-wrap: break-word;\n      }\n      \n\n      .markdown-content {\n        width: 100%;\n      }\n      \n             /* Module-specific grid layouts */\n       .two-column-grid {\n         display: grid;\n         grid-template-columns: 1fr 1fr;\n         gap: 20px;\n         margin-bottom: 20px;\n       }\n\n       .three-column-grid {\n         display: grid;\n         grid-template-columns: 1fr 1fr 1fr;\n         gap: 16px;\n         margin-bottom: 20px;\n       }\n       \n       @media (max-width: 768px) {\n         .two-column-grid,\n         .three-column-grid {\n           grid-template-columns: 1fr;\n           gap: 16px;\n         }\n       }\n\n      .markdown-content h1,\n      .markdown-content h2,\n      .markdown-content h3,\n      .markdown-content h4,\n      .markdown-content h5,\n      .markdown-content h6 {\n        margin: 16px 0 8px 0;\n        font-weight: 600;\n        line-height: 1.2;\n      }\n\n      .markdown-content h1 { font-size: 2em; }\n      .markdown-content h2 { font-size: 1.5em; }\n      .markdown-content h3 { font-size: 1.25em; }\n      .markdown-content h4 { font-size: 1.1em; }\n      .markdown-content h5 { font-size: 1em; font-weight: 700; }\n      .markdown-content h6 { font-size: 0.9em; font-weight: 700; }\n\n      .markdown-content p {\n        margin: 8px 0;\n        line-height: inherit;\n      }\n\n      .markdown-content ul,\n      .markdown-content ol {\n        margin: 8px 0;\n        padding-left: 20px;\n      }\n\n      .markdown-content li {\n        margin: 4px 0;\n        line-height: inherit;\n      }\n\n      .markdown-content code {\n        background: var(--secondary-background-color);\n        padding: 2px 4px;\n        border-radius: 3px;\n        font-family: 'Courier New', monospace;\n        font-size: 0.9em;\n      }\n\n      .markdown-content blockquote {\n        border-left: 4px solid var(--primary-color);\n        margin: 16px 0;\n        padding: 8px 16px;\n        background: var(--secondary-background-color);\n        font-style: italic;\n      }\n\n      .markdown-content a {\n        color: var(--primary-color);\n        text-decoration: none;\n      }\n\n      .markdown-content a:hover {\n        text-decoration: underline;\n      }\n\n      .markdown-content strong {\n        font-weight: 600;\n      }\n\n      .markdown-content em {\n        font-style: italic;\n      }\n\n      .markdown-content br {\n        line-height: inherit;\n      }\n      \n      .markdown-content hr {\n        border: none;\n        border-top: 1px solid var(--divider-color);\n        margin: 16px 0;\n      }\n      \n      .markdown-content table {\n        border-collapse: collapse;\n        width: 100%;\n        margin: 16px 0;\n      }\n      \n      .markdown-content th,\n      .markdown-content td {\n        border: 1px solid var(--divider-color);\n        padding: 8px 12px;\n        text-align: left;\n      }\n      \n      .markdown-content th {\n        background: var(--secondary-background-color);\n        font-weight: 600;\n      }\n    "}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}getBackgroundImageCSS(e,t){var i,n;const o=e.background_image_type,a=e.background_image,r=e.background_image_entity;if(!o||"none"===o)return"none";switch(o){case"upload":if(a)return`url("${(0,s.V)(t,a)}")`;break;case"url":if(a)return`url("${a}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const o=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(n=e.attributes)||void 0===n?void 0:n.image)||("string"==typeof e.state?e.state:"");if(o&&"unknown"!==o&&"unavailable"!==o)return`url("${(0,s.V)(t,o)}")`}}}return"none"}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},101:(e,t,i)=>{i.d(t,{b:()=>p});var n=i(183),o=i(30),a=i(796),r=i(381),l=i(341),s=i(987),d=i(371),c=i(456),u=i(397);class p extends o.m{constructor(){super(...arguments),this.metadata={type:"horizontal",title:"Horizontal Layout",description:"Arrange modules in rows with flexible horizontal and vertical alignment and spacing",author:"WJD Designs",version:"1.0.0",icon:"mdi:view-column",category:"layout",tags:["layout","horizontal","vertical","alignment","container","flexbox"]}}createDefault(e,t){return{id:e||this.generateId("horizontal"),type:"horizontal",alignment:"center",vertical_alignment:"center",gap:.7,wrap:!1,modules:[],tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const r=e,l=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}

      <div class="module-general-settings">
        <!-- Layout Configuration Section -->
        ${this.renderSettingsSection((0,c.kg)("editor.horizontal.layout.title",l,"Layout Configuration"),(0,c.kg)("editor.horizontal.layout.desc",l,"Configure how items are arranged horizontally within the container."),[{title:(0,c.kg)("editor.horizontal.alignment.horizontal",l,"Horizontal Alignment"),description:(0,c.kg)("editor.horizontal.alignment.horizontal_desc",l,"Choose how items are aligned horizontally within the container."),hass:t,data:{alignment:r.alignment||"center"},schema:[this.selectField("alignment",[{value:"left",label:(0,c.kg)("editor.common.left",l,"Left")},{value:"center",label:(0,c.kg)("editor.common.center",l,"Center")},{value:"right",label:(0,c.kg)("editor.common.right",l,"Right")},{value:"space-between",label:(0,c.kg)("editor.common.space_between",l,"Space Between")},{value:"space-around",label:(0,c.kg)("editor.common.space_around",l,"Space Around")},{value:"justify",label:(0,c.kg)("editor.common.justify",l,"Justify")}])],onChange:e=>o(e.detail.value)},{title:(0,c.kg)("editor.horizontal.alignment.vertical",l,"Vertical Alignment"),description:(0,c.kg)("editor.horizontal.alignment.vertical_desc",l,"Choose how items are aligned vertically within the container."),hass:t,data:{vertical_alignment:r.vertical_alignment||"center"},schema:[this.selectField("vertical_alignment",[{value:"top",label:(0,c.kg)("editor.common.top",l,"Top")},{value:"center",label:(0,c.kg)("editor.common.center",l,"Center")},{value:"bottom",label:(0,c.kg)("editor.common.bottom",l,"Bottom")},{value:"stretch",label:(0,c.kg)("editor.common.stretch",l,"Stretch")},{value:"baseline",label:(0,c.kg)("editor.common.baseline",l,"Baseline")}])],onChange:e=>o(e.detail.value)}])}

        <!-- Allow Wrapping Toggle -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <div style="display: flex; align-items: center; justify-content: space-between;">
            <div style="flex: 1;">
              <div
                class="field-title"
                style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
              >
                ${(0,c.kg)("editor.horizontal.wrapping.title",l,"Allow Wrapping")}
              </div>
              <div
                class="field-description"
                style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8; line-height: 1.4;"
              >
                ${(0,c.kg)("editor.horizontal.wrapping.desc",l,"Allow items to wrap to the next line when they exceed the container width.")}
              </div>
            </div>
            <div style="margin-left: 16px;">
              <ha-switch
                .checked=${r.wrap||!1}
                @change=${e=>{const t=e.target;o({wrap:t.checked})}}
              ></ha-switch>
            </div>
          </div>
        </div>

        <!-- Gap Between Items Field with Custom Slider -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.horizontal.gap.title",l,"Gap Configuration")}
          </div>

          <div style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              ${(0,c.kg)("editor.horizontal.gap.between_items",l,"Gap Between Items")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              ${(0,c.kg)("editor.horizontal.gap.desc",l,"Set the spacing between horizontal items (in rem units). Use negative values to overlap items.")}
            </div>
            <div
              class="gap-control-container"
              style="display: flex; align-items: center; gap: 12px;"
            >
              <input
                type="range"
                class="gap-slider"
                min="-5"
                max="10"
                step="0.1"
                .value="${r.gap||.7}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);o({gap:i})}}
              />
              <input
                type="number"
                class="gap-input"
                style="width: 50px !important; max-width: 50px !important; min-width: 50px !important; padding: 4px 6px !important; font-size: 13px !important;"
                min="-5"
                max="10"
                step="0.1"
                .value="${r.gap||.7}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||o({gap:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||.7,n="ArrowUp"===e.key?.1:-.1,a=Math.max(-5,Math.min(10,i+n)),r=Math.round(10*a)/10;o({gap:r})}}}
              />
              <button
                class="reset-btn"
                @click=${()=>o({gap:.7})}
                title="${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","0.7")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    `}renderPreview(e,t){var i,o;const r=e,l=(null===(i=null==t?void 0:t.locale)||void 0===i?void 0:i.language)||"en",d=r,p=Object.assign(Object.assign({},d),d.design||{}),g=r.modules&&r.modules.length>0,m=r.gap||.7,_=void 0!==r.alignment&&null!==r.alignment?r.alignment:"center",h={padding:this.getPaddingCSS(p),margin:this.getMarginCSS(p),background:this.getBackgroundCSS(p),backgroundImage:this.getBackgroundImageCSS(p,t),backgroundSize:p.background_size||"cover",backgroundPosition:p.background_position||"center",backgroundRepeat:p.background_repeat||"no-repeat",border:p.border_width?this.getBorderCSS(p):"none",borderRadius:this.addPixelUnit(p.border_radius)||"0",position:p.position||(p.z_index?"relative":"static"),zIndex:p.z_index||"auto",width:p.width||"100%",height:p.height||void 0,maxWidth:p.max_width||void 0,minWidth:p.min_width||void 0,maxHeight:p.max_height||void 0,boxShadow:p.box_shadow||void 0,backdropFilter:p.backdrop_filter||void 0,clipPath:p.clip_path||void 0,display:"flex",flexDirection:"row",justifyContent:this.getJustifyContent(_||"center"),gap:m>=0?`${m}rem`:"0",flexWrap:r.wrap?"wrap":"nowrap",alignItems:this.getAlignItems(r.vertical_alignment||"center"),minHeight:p.min_height||"60px",overflowX:"visible",overflowY:"visible",boxSizing:"border-box"};let v=null,b=null,f=!1,y=0,k=0;const x=null===(o=r.design)||void 0===o?void 0:o.hover_effect,w=s.k.getHoverEffectClass(x);return n.qy`
      <style>
        ${this.getStyles()}
      </style>
      <div class="horizontal-module-preview">
        <div
          class="horizontal-preview-content ${w}"
          style="${this.styleObjectToCss(h)}; cursor: ${r.tap_action&&"nothing"!==r.tap_action.action||r.hold_action&&"nothing"!==r.hold_action.action||r.double_tap_action&&"nothing"!==r.double_tap_action.action?"pointer":"default"};"
          data-wrap=${r.wrap?"true":"false"}
          @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),f=!1,b=setTimeout((()=>{f=!0,r.hold_action&&"nothing"!==r.hold_action.action&&a.K.handleAction(r.hold_action,t,e.target)}),500)}}
          @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),b&&(clearTimeout(b),b=null),f)return void(f=!1);const i=Date.now();i-k<300&&1===y?(v&&(clearTimeout(v),v=null),y=0,r.double_tap_action&&"nothing"!==r.double_tap_action.action&&a.K.handleAction(r.double_tap_action,t,e.target)):(y=1,k=i,v=setTimeout((()=>{y=0,r.tap_action&&"nothing"!==r.tap_action.action&&a.K.handleAction(r.tap_action,t,e.target)}),300))}}
        >
          ${g?(()=>{u.S.setHass(t);const e=r.modules.filter((e=>{var t,i,n,o;const a=e,r=u.S.evaluateModuleVisibility(a),l=u.S.evaluateLogicProperties({logic_entity:null===(t=null==a?void 0:a.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=null==a?void 0:a.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(n=null==a?void 0:a.design)||void 0===n?void 0:n.logic_operator,logic_value:null===(o=null==a?void 0:a.design)||void 0===o?void 0:o.logic_value});return r&&l}));return e.map(((e,i)=>{const o=m<0&&i>0?`0 0 0 ${m}rem`:"0",a=m<0,l="bar"===(null==e?void 0:e.type),s="justify"===r.alignment,c=l||s?1:0,u=l?1:0,p=l?"0":"content",g=l?"80px":"0";return n.qy`
                    <div
                      class="child-module-preview ${a?"negative-gap":""}"
                      style="
                          overflow: visible;
                          flex-grow: ${c};
                          flex-shrink: ${u};
                          flex-basis: ${p};
                          min-width: ${g};
                          width: ${"auto"};
                          align-self: ${"auto"};
                          box-sizing: border-box;
                          margin: ${o};
                          ${a?"padding: 0; border: none; background: transparent;":""}
                        "
                    >
                      ${this._renderChildModulePreview(e,t,d)}
                    </div>
                  `}))})():n.qy`
                <div class="empty-layout-message">
                  <span
                    >${(0,c.kg)("editor.horizontal.empty.no_modules",l,"No modules added yet")}</span
                  >
                  <small
                    >${(0,c.kg)("editor.horizontal.empty.add_modules",l,"Add modules in the layout builder to see them here")}</small
                  >
                </div>
              `}
        </div>
      </div>
    `}_renderChildModulePreview(e,t,i){var o,a,r,s,d,c,p,g,m,_,h,v;let b=e;i&&(b=this.applyLayoutDesignToChild(e,i));const f=i;if(f&&f.alignment){const e=b;e.alignment||(e.alignment=f.alignment)}u.S.setHass(t);const y=b,k=u.S.evaluateModuleVisibility(y),x=u.S.evaluateLogicProperties({logic_entity:null===(o=null==y?void 0:y.design)||void 0===o?void 0:o.logic_entity,logic_attribute:null===(a=null==y?void 0:y.design)||void 0===a?void 0:a.logic_attribute,logic_operator:null===(r=null==y?void 0:y.design)||void 0===r?void 0:r.logic_operator,logic_value:null===(s=null==y?void 0:y.design)||void 0===s?void 0:s.logic_value});if(!k||!x)return n.qy``;const w=(0,l.oD)().getModule(b.type);if(w){const e=w.renderPreview(b,t),i=b,o=i.animation_type||(null===(d=i.design)||void 0===d?void 0:d.animation_type);if(o&&"none"!==o){const a=i.animation_duration||(null===(c=i.design)||void 0===c?void 0:c.animation_duration)||"2s",r=i.animation_delay||(null===(p=i.design)||void 0===p?void 0:p.animation_delay)||"0s",l=i.animation_timing||(null===(g=i.design)||void 0===g?void 0:g.animation_timing)||"ease",s=i.animation_entity||(null===(m=i.design)||void 0===m?void 0:m.animation_entity),d=i.animation_trigger_type||(null===(_=i.design)||void 0===_?void 0:_.animation_trigger_type)||"state",u=i.animation_attribute||(null===(h=i.design)||void 0===h?void 0:h.animation_attribute),b=i.animation_state||(null===(v=i.design)||void 0===v?void 0:v.animation_state);let f=!1;if(s){if(b&&t&&t.states[s]){const e=t.states[s];f="attribute"===d&&u?String(e.attributes[u])===b:e.state===b}}else f=!0;if(f)return n.qy`
            <div
              class="module-animation-wrapper animation-${o}"
              style="
                --animation-duration: ${a};
                --animation-delay: ${r};
                --animation-timing: ${l};
              "
            >
              ${e}
            </div>
          `}return e}return n.qy`
      <div class="unknown-child-module">
        <ha-icon icon="mdi:help-circle"></ha-icon>
        <span>Unknown Module: ${b.type}</span>
      </div>
    `}applyLayoutDesignToChild(e,t){const i=Object.assign({},e);return t.color&&(i.color=t.color),t.font_size&&(i.font_size=t.font_size),t.font_family&&(i.font_family=t.font_family),t.font_weight&&(i.font_weight=t.font_weight),t.text_align&&(i.text_align=t.text_align),t.line_height&&(i.line_height=t.line_height),t.letter_spacing&&(i.letter_spacing=t.letter_spacing),t.text_transform&&(i.text_transform=t.text_transform),t.font_style&&(i.font_style=t.font_style),t.text_shadow_h&&(i.text_shadow_h=t.text_shadow_h),t.text_shadow_v&&(i.text_shadow_v=t.text_shadow_v),t.text_shadow_blur&&(i.text_shadow_blur=t.text_shadow_blur),t.text_shadow_color&&(i.text_shadow_color=t.text_shadow_color),t.box_shadow_h&&(i.box_shadow_h=t.box_shadow_h),t.box_shadow_v&&(i.box_shadow_v=t.box_shadow_v),t.box_shadow_blur&&(i.box_shadow_blur=t.box_shadow_blur),t.box_shadow_spread&&(i.box_shadow_spread=t.box_shadow_spread),t.box_shadow_color&&(i.box_shadow_color=t.box_shadow_color),t.animation_type&&(i.animation_type=t.animation_type),t.animation_entity&&(i.animation_entity=t.animation_entity),t.animation_trigger_type&&(i.animation_trigger_type=t.animation_trigger_type),t.animation_attribute&&(i.animation_attribute=t.animation_attribute),t.animation_state&&(i.animation_state=t.animation_state),t.intro_animation&&(i.intro_animation=t.intro_animation),t.outro_animation&&(i.outro_animation=t.outro_animation),t.animation_duration&&(i.animation_duration=t.animation_duration),t.animation_delay&&(i.animation_delay=t.animation_delay),t.animation_timing&&(i.animation_timing=t.animation_timing),t.alignment&&(i.alignment=t.alignment),i}renderLogicTab(e,t,i,n){return d.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.gap&&(t.gap<-5||t.gap>10)&&i.push("Gap must be between -5 and 10 rem"),t.vertical_alignment&&!["top","center","bottom","stretch","baseline"].includes(t.vertical_alignment)&&i.push("Vertical alignment must be one of: top, center, bottom, stretch, baseline"),t.modules&&t.modules.length>0)for(const e of t.modules)"vertical"===e.type&&i.push("Vertical layout modules cannot be placed inside horizontal layout modules"),"horizontal"===e.type&&i.push("Horizontal layout modules cannot be nested inside other horizontal layout modules");return{valid:0===i.length,errors:i}}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"8px"} ${this.addPixelUnit(e.padding_right)||"8px"} ${this.addPixelUnit(e.padding_bottom)||"8px"} ${this.addPixelUnit(e.padding_left)||"8px"}`:"8px"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0"} ${this.addPixelUnit(e.margin_right)||"0"} ${this.addPixelUnit(e.margin_bottom)||"0"} ${this.addPixelUnit(e.margin_left)||"0"}`:"0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){var i,n;if(!e.background_image_type||"none"===e.background_image_type)return e.background_image?`url("${e.background_image}")`:"none";switch(e.background_image_type){case"upload":if(e.background_image)return`url("${(0,r.V)(t,e.background_image)}")`;break;case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const o=t.states[e.background_image_entity];let a="";if((null===(i=o.attributes)||void 0===i?void 0:i.entity_picture)?a=o.attributes.entity_picture:(null===(n=o.attributes)||void 0===n?void 0:n.image)?a=o.attributes.image:o.state&&"string"==typeof o.state&&(o.state.startsWith("/")||o.state.startsWith("http"))&&(a=o.state),a)return`url("${(0,r.V)(t,a)}")`}}return"none"}getBorderCSS(e){return`${this.addPixelUnit(e.border_width)||"0"} ${e.border_style||"solid"} ${e.border_color||"transparent"}`}getJustifyContent(e){switch(e){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end";case"space-between":case"justify":return"space-between";case"space-around":return"space-around"}}getAlignItems(e){switch(e){case"top":default:return"flex-start";case"center":return"center";case"bottom":return"flex-end";case"stretch":return"stretch";case"baseline":return"baseline"}}getStyles(){return'\n      /* Horizontal Module Styles */\n      .horizontal-module-preview {\n        width: 100%;\n        min-height: 60px; /* Minimum height to make vertical alignment visible */\n      }\n\n      .horizontal-preview-content {\n        background: transparent;\n        border-radius: 6px;\n        border: none;\n        transition: all 0.2s ease;\n      }\n\n      .child-module-preview {\n        background: transparent;\n        border: none;\n        border-radius: 4px;\n        padding: 0;\n        transition: all 0.2s ease;\n        /* Ensure modules maintain readable size */\n        min-width: max-content;\n        min-height: 0;\n        overflow: visible;\n        box-sizing: border-box;\n      }\n\n      .child-module-preview.negative-gap {\n        background: transparent !important;\n        border: none !important;\n        border-radius: 0 !important;\n        padding: 0 !important;\n      }\n\n      /* Legacy hover effects removed - now handled by new hover effects system */\n\n      .empty-layout-message {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        gap: 4px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n        text-align: center;\n        width: 100%;\n        padding: 20px;\n      }\n\n      .empty-layout-message span {\n        font-size: 14px;\n        font-weight: 500;\n      }\n\n      .empty-layout-message small {\n        font-size: 12px;\n        opacity: 0.8;\n      }\n\n      .unknown-child-module {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n      }\n\n      /* Ensure module defaults play nicely in a horizontal row */\n      .child-module-preview .icon-module-preview {\n        /* Icon modules should size to content in rows */\n        width: auto !important;\n        max-width: 100% !important;\n      }\n\n      .child-module-preview .icon-module-container {\n        /* Override any inline width from icon module when inside horizontal rows */\n        width: auto !important;\n        max-width: 100% !important;\n        flex: 0 0 auto !important;\n      }\n\n      .child-module-preview .bar-module-preview {\n        /* Bars should expand to available space in rows */\n        width: 100% !important;\n        max-width: 100% !important;\n      }\n\n      /* When wrapping is enabled, allow items to maintain their natural size */\n      .horizontal-preview-content[data-wrap="true"] .child-module-preview {\n        flex-shrink: 1;\n        min-width: 0;\n      }\n\n      /* When wrapping is disabled, compress items to fit in one line */\n      .horizontal-preview-content:not([data-wrap="true"]) .child-module-preview {\n        flex-shrink: 1;\n        min-width: 0;\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n        \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Custom Range Slider Styling */\n      input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        outline: none;\n        opacity: 0.7;\n        transition: opacity 0.2s;\n      }\n\n      input[type="range"]:hover {\n        opacity: 1;\n      }\n\n      input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-webkit-slider-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-moz-range-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-track {\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        border: none;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n    '}}},139:(e,t,i)=>{i.d(t,{P2:()=>n,aR:()=>o});const n="/hacsfiles/Ultra-Card/assets/Ultra.jpg",o="/hacsfiles/Ultra-Card/dist/assets/Ultra.jpg"},183:(e,t,i)=>{i.d(t,{WF:()=>a,AH:()=>n.AH,qy:()=>o.qy,JW:()=>o.JW});var n=i(885),o=i(247);class a extends n.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,o.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return o.c0}}a._$litElement$=!0,a.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:a});const r=globalThis.litElementPolyfillSupport;r?.({LitElement:a}),(globalThis.litElementVersions??=[]).push("4.1.1")},201:(e,t,i)=>{i.d(t,{OA:()=>n,WL:()=>a,u$:()=>o});const n={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=e=>(...t)=>({_$litDirective$:e,values:t});class a{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},247:(e,t,i)=>{i.d(t,{JW:()=>z,XX:()=>U,c0:()=>S,ge:()=>N,qy:()=>$,s6:()=>C});const n=globalThis,o=n.trustedTypes,a=o?o.createPolicy("lit-html",{createHTML:e=>e}):void 0,r="$lit$",l=`lit$${Math.random().toFixed(9).slice(2)}$`,s="?"+l,d=`<${s}>`,c=document,u=()=>c.createComment(""),p=e=>null===e||"object"!=typeof e&&"function"!=typeof e,g=Array.isArray,m=e=>g(e)||"function"==typeof e?.[Symbol.iterator],_="[ \t\n\f\r]",h=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,b=/>/g,f=RegExp(`>|${_}(?:([^\\s"'>=/]+)(${_}*=${_}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),y=/'/g,k=/"/g,x=/^(?:script|style|textarea|title)$/i,w=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),$=w(1),z=w(2),S=(w(3),Symbol.for("lit-noChange")),C=Symbol.for("lit-nothing"),A=new WeakMap,j=c.createTreeWalker(c,129);function T(e,t){if(!g(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==a?a.createHTML(t):t}const I=(e,t)=>{const i=e.length-1,n=[];let o,a=2===t?"<svg>":3===t?"<math>":"",s=h;for(let t=0;t<i;t++){const i=e[t];let c,u,p=-1,g=0;for(;g<i.length&&(s.lastIndex=g,u=s.exec(i),null!==u);)g=s.lastIndex,s===h?"!--"===u[1]?s=v:void 0!==u[1]?s=b:void 0!==u[2]?(x.test(u[2])&&(o=RegExp("</"+u[2],"g")),s=f):void 0!==u[3]&&(s=f):s===f?">"===u[0]?(s=o??h,p=-1):void 0===u[1]?p=-2:(p=s.lastIndex-u[2].length,c=u[1],s=void 0===u[3]?f:'"'===u[3]?k:y):s===k||s===y?s=f:s===v||s===b?s=h:(s=f,o=void 0);const m=s===f&&e[t+1].startsWith("/>")?" ":"";a+=s===h?i+d:p>=0?(n.push(c),i.slice(0,p)+r+i.slice(p)+l+m):i+l+(-2===p?t:m)}return[T(e,a+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),n]};class E{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let a=0,d=0;const c=e.length-1,p=this.parts,[g,m]=I(e,t);if(this.el=E.createElement(g,i),j.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=j.nextNode())&&p.length<c;){if(1===n.nodeType){if(n.hasAttributes())for(const e of n.getAttributeNames())if(e.endsWith(r)){const t=m[d++],i=n.getAttribute(e).split(l),o=/([.?@])?(.*)/.exec(t);p.push({type:1,index:a,name:o[2],strings:i,ctor:"."===o[1]?R:"?"===o[1]?O:"@"===o[1]?V:D}),n.removeAttribute(e)}else e.startsWith(l)&&(p.push({type:6,index:a}),n.removeAttribute(e));if(x.test(n.tagName)){const e=n.textContent.split(l),t=e.length-1;if(t>0){n.textContent=o?o.emptyScript:"";for(let i=0;i<t;i++)n.append(e[i],u()),j.nextNode(),p.push({type:2,index:++a});n.append(e[t],u())}}}else if(8===n.nodeType)if(n.data===s)p.push({type:2,index:a});else{let e=-1;for(;-1!==(e=n.data.indexOf(l,e+1));)p.push({type:7,index:a}),e+=l.length-1}a++}}static createElement(e,t){const i=c.createElement("template");return i.innerHTML=e,i}}function P(e,t,i=e,n){if(t===S)return t;let o=void 0!==n?i._$Co?.[n]:i._$Cl;const a=p(t)?void 0:t._$litDirective$;return o?.constructor!==a&&(o?._$AO?.(!1),void 0===a?o=void 0:(o=new a(e),o._$AT(e,i,n)),void 0!==n?(i._$Co??=[])[n]=o:i._$Cl=o),void 0!==o&&(t=P(e,o._$AS(e,t.values),o,n)),t}class M{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,n=(e?.creationScope??c).importNode(t,!0);j.currentNode=n;let o=j.nextNode(),a=0,r=0,l=i[0];for(;void 0!==l;){if(a===l.index){let t;2===l.type?t=new L(o,o.nextSibling,this,e):1===l.type?t=new l.ctor(o,l.name,l.strings,this,e):6===l.type&&(t=new B(o,this,e)),this._$AV.push(t),l=i[++r]}a!==l?.index&&(o=j.nextNode(),a++)}return j.currentNode=c,n}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class L{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,n){this.type=2,this._$AH=C,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=P(this,e,t),p(e)?e===C||null==e||""===e?(this._$AH!==C&&this._$AR(),this._$AH=C):e!==this._$AH&&e!==S&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):m(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==C&&p(this._$AH)?this._$AA.nextSibling.data=e:this.T(c.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,n="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=E.createElement(T(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===n)this._$AH.p(t);else{const e=new M(n,this),i=e.u(this.options);e.p(t),this.T(i),this._$AH=e}}_$AC(e){let t=A.get(e.strings);return void 0===t&&A.set(e.strings,t=new E(e)),t}k(e){g(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const o of e)n===t.length?t.push(i=new L(this.O(u()),this.O(u()),this,this.options)):i=t[n],i._$AI(o),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class D{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,n,o){this.type=1,this._$AH=C,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=C}_$AI(e,t=this,i,n){const o=this.strings;let a=!1;if(void 0===o)e=P(this,e,t,0),a=!p(e)||e!==this._$AH&&e!==S,a&&(this._$AH=e);else{const n=e;let r,l;for(e=o[0],r=0;r<o.length-1;r++)l=P(this,n[i+r],t,r),l===S&&(l=this._$AH[r]),a||=!p(l)||l!==this._$AH[r],l===C?e=C:e!==C&&(e+=(l??"")+o[r+1]),this._$AH[r]=l}a&&!n&&this.j(e)}j(e){e===C?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class R extends D{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===C?void 0:e}}class O extends D{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==C)}}class V extends D{constructor(e,t,i,n,o){super(e,t,i,n,o),this.type=5}_$AI(e,t=this){if((e=P(this,e,t,0)??C)===S)return;const i=this._$AH,n=e===C&&i!==C||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==C&&(i===C||n);n&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class B{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}const N={M:r,P:l,A:s,C:1,L:I,R:M,D:m,V:P,I:L,H:D,N:O,U:V,B:R,F:B},H=n.litHtmlPolyfillSupport;H?.(E,L),(n.litHtmlVersions??=[]).push("3.2.1");const U=(e,t,i)=>{const n=i?.renderBefore??t;let o=n._$litPart$;if(void 0===o){const e=i?.renderBefore??null;n._$litPart$=o=new L(t.insertBefore(u(),e),e,void 0,i??{})}return o._$AI(e),o}},276:(e,t,i)=>{i.d(t,{EM:()=>n,MZ:()=>l,wk:()=>s});const n=e=>(t,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(e,t)})):customElements.define(e,t)};var o=i(885);const a={attribute:!0,type:String,converter:o.W3,reflect:!1,hasChanged:o.Ec},r=(e=a,t,i)=>{const{kind:n,metadata:o}=i;let r=globalThis.litPropertyMetadata.get(o);if(void 0===r&&globalThis.litPropertyMetadata.set(o,r=new Map),r.set(i.name,e),"accessor"===n){const{name:n}=i;return{set(i){const o=t.get.call(this);t.set.call(this,i),this.requestUpdate(n,o,e)},init(t){return void 0!==t&&this.P(n,void 0,e),t}}}if("setter"===n){const{name:n}=i;return function(i){const o=this[n];t.call(this,i),this.requestUpdate(n,o,e)}}throw Error("Unsupported decorator location: "+n)};function l(e){return(t,i)=>"object"==typeof i?r(e,t,i):((e,t,i)=>{const n=t.hasOwnProperty(i);return t.constructor.createProperty(i,n?{...e,wrapped:!0}:e),n?Object.getOwnPropertyDescriptor(t,i):void 0})(e,t,i)}function s(e){return l({...e,state:!0,attribute:!1})}},278:(e,t,i)=>{i.d(t,{O:()=>d});var n=i(183),o=i(30),a=i(662),r=i(371),l=i(796),s=i(456);class d extends o.m{constructor(){super(...arguments),this.metadata={type:"separator",title:"Separator Module",description:"Visual dividers and spacing",author:"WJD Designs",version:"1.0.0",icon:"mdi:minus",category:"content",tags:["separator","divider","spacing","layout"]}}createDefault(e,t){return{id:e||this.generateId("separator"),type:"separator",separator_style:"line",thickness:1,width_percent:100,color:"var(--divider-color)",show_title:!1,title:"",title_size:14,title_color:"var(--secondary-text-color)",title_bold:!1,title_italic:!1,title_uppercase:!1,title_strikethrough:!1,title_underline:!1,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},enable_hover_effect:!0,hover_background_color:"var(--divider-color)",display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const r=e,l=(null===(a=t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Separator Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,s.kg)("editor.separator.config.title",l,"Separator Configuration")}
          </div>

          <!-- Separator Style -->
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,s.kg)("editor.separator.style.title",l,"Separator Style")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
          >
            ${(0,s.kg)("editor.separator.style.desc",l,"Choose the visual style of the separator line.")}
          </div>
          <ha-form
            .hass=${t}
            .data=${{separator_style:r.separator_style||"line"}}
            .schema=${[{name:"separator_style",selector:{select:{options:[{value:"line",label:(0,s.kg)("editor.separator.options.solid",l,"Solid Line")},{value:"double_line",label:(0,s.kg)("editor.separator.options.double",l,"Double Line")},{value:"dotted",label:(0,s.kg)("editor.separator.options.dotted",l,"Dotted Line")},{value:"double_dotted",label:(0,s.kg)("editor.separator.options.double_dotted",l,"Double Dotted")},{value:"shadow",label:(0,s.kg)("editor.separator.options.shadow",l,"Shadow")},{value:"blank",label:(0,s.kg)("editor.separator.options.blank",l,"Blank Space")}],mode:"dropdown"}},label:""}]}
            @value-changed=${e=>{const t=e.detail.value.separator_style,i={separator_style:t};"blank"===t&&(i.show_title=!1),o(i)}}
          ></ha-form>
        </div>

        <!-- Appearance Configuration -->
        ${"blank"!==r.separator_style?n.qy`
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
              >
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
                >
                  ${(0,s.kg)("editor.separator.appearance.title",l,"Appearance")}
                </div>

                <!-- Thickness -->
                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">
                    ${(0,s.kg)("editor.separator.thickness",l,"Thickness (px)")}
                  </div>
                  <div class="field-description">
                    ${(0,s.kg)("editor.separator.thickness_desc",l,"Thickness of the separator line.")}
                  </div>
                  <div
                    class="gap-control-container"
                    style="display: flex; align-items: center; gap: 12px;"
                  >
                    <input
                      type="range"
                      class="gap-slider"
                      min="1"
                      max="20"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseFloat(t.value);o({thickness:i})}}
                    />
                    <input
                      type="number"
                      class="gap-input"
                      min="1"
                      max="20"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||o({thickness:i})}}
                      @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||1,n="ArrowUp"===e.key?1:-1,a=Math.max(1,Math.min(20,i+n));o({thickness:a})}}}
                    />
                    <button
                      class="reset-btn"
                      @click=${()=>o({thickness:1})}
                      title=${(0,s.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","1")}
                    >
                      <ha-icon icon="mdi:refresh"></ha-icon>
                    </button>
                  </div>
                </div>

                <!-- Width -->
                ${"shadow"===r.separator_style||"blank"===r.separator_style?n.qy``:n.qy`
                      <div class="field-container" style="margin-bottom: 24px;">
                        <div class="field-title">
                          ${(0,s.kg)("editor.separator.width",l,"Width (%)")}
                        </div>
                        <div class="field-description">
                          ${(0,s.kg)("editor.separator.width_desc",l,"Width of the separator as percentage of container.")}
                        </div>
                        <div
                          class="gap-control-container"
                          style="display: flex; align-items: center; gap: 12px;"
                        >
                          <input
                            type="range"
                            class="gap-slider"
                            min="10"
                            max="100"
                            step="5"
                            .value="${r.width_percent||100}"
                            @input=${e=>{const t=e.target,i=parseFloat(t.value);o({width_percent:i})}}
                          />
                          <input
                            type="number"
                            class="gap-input"
                            min="10"
                            max="100"
                            step="5"
                            .value="${r.width_percent||100}"
                            @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||o({width_percent:i})}}
                            @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||100,n="ArrowUp"===e.key?5:-5,a=Math.max(10,Math.min(100,i+n));o({width_percent:a})}}}
                          />
                          <button
                            class="reset-btn"
                            @click=${()=>o({width_percent:100})}
                            title=${(0,s.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","100")}
                          >
                            <ha-icon icon="mdi:refresh"></ha-icon>
                          </button>
                        </div>
                      </div>
                    `}

                <!-- Color -->
                <div class="field-group">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,s.kg)("editor.separator.color.title",l,"Color")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                  >
                    ${(0,s.kg)("editor.separator.color.desc",l,"Color of the separator line.")}
                  </div>
                  <ultra-color-picker
                    .label=${""}
                    .value=${r.color||""}
                    .defaultValue=${"var(--divider-color)"}
                    .hass=${t}
                    @value-changed=${e=>{const t=e.detail.value;o({color:t})}}
                  ></ultra-color-picker>
                </div>
              </div>
            `:""}
        ${"blank"!==r.separator_style?n.qy` <!-- Text in Separator -->
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
              >
                <div
                  style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
                >
                  <div
                    class="section-title"
                    style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px; margin-bottom: 0;"
                  >
                    ${(0,s.kg)("editor.separator.show_title",l,"Show Title")}
                  </div>
                  <ha-switch
                    .checked=${r.show_title||!1}
                    @change=${e=>{const t=e.target;o({show_title:t.checked})}}
                  ></ha-switch>
                </div>
                <div
                  class="field-description"
                  style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
                >
                  ${(0,s.kg)("editor.separator.show_title_desc",l,"Add text in the middle of the separator line (e.g., ------ Text ------)")}
                </div>

                ${r.show_title?n.qy`
                      <!-- Text Content -->
                      <div class="field-group" style="margin-bottom: 16px;">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                        >
                          ${(0,s.kg)("editor.separator.text_content.title",l,"Text Content")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                        >
                          ${(0,s.kg)("editor.separator.text_content.desc",l,"Text to display in the middle of the separator.")}
                        </div>
                        <ha-form
                          .hass=${t}
                          .data=${{title:r.title||""}}
                          .schema=${[{name:"title",selector:{text:{}},label:""}]}
                          @value-changed=${e=>o({title:e.detail.value.title})}
                        ></ha-form>
                      </div>

                      <!-- Font Size -->
                      <div class="field-container" style="margin-bottom: 24px;">
                        <div class="field-title">
                          ${(0,s.kg)("editor.separator.font_size",l,"Font Size")}
                        </div>
                        <div class="field-description">
                          ${(0,s.kg)("editor.separator.font_size_desc",l,"Size of the text in pixels.")}
                        </div>
                        <div
                          class="gap-control-container"
                          style="display: flex; align-items: center; gap: 12px;"
                        >
                          <input
                            type="range"
                            class="gap-slider"
                            min="8"
                            max="48"
                            step="1"
                            .value="${r.title_size||14}"
                            @input=${e=>{const t=e.target,i=parseFloat(t.value);o({title_size:i})}}
                          />
                          <input
                            type="number"
                            class="gap-input"
                            min="8"
                            max="48"
                            step="1"
                            .value="${r.title_size||14}"
                            @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||o({title_size:i})}}
                            @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(48,i+n));o({title_size:a})}}}
                          />
                          <button
                            class="reset-btn"
                            @click=${()=>o({title_size:14})}
                            title=${(0,s.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","14")}
                          >
                            <ha-icon icon="mdi:refresh"></ha-icon>
                          </button>
                        </div>
                      </div>

                      <!-- Text Color -->
                      <div class="field-group" style="margin-bottom: 16px;">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                        >
                          ${(0,s.kg)("editor.separator.text_color.title",l,"Text Color")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                        >
                          ${(0,s.kg)("editor.separator.text_color.desc",l,"Color of the separator text.")}
                        </div>
                        <ultra-color-picker
                          .label=${""}
                          .value=${r.title_color||""}
                          .defaultValue=${"var(--secondary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>{const t=e.detail.value;o({title_color:t})}}
                        ></ultra-color-picker>
                      </div>

                      <!-- Text Formatting -->
                      <div class="field-group">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                        >
                          ${(0,s.kg)("editor.separator.text_format.title",l,"Text Formatting")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                        >
                          ${(0,s.kg)("editor.separator.text_format.desc",l,"Apply formatting styles to the separator text.")}
                        </div>
                        <div
                          class="format-buttons"
                          style="display: flex; gap: 8px; flex-wrap: wrap;"
                        >
                          <button
                            class="format-btn ${r.title_bold?"active":""}"
                            @click=${()=>o({title_bold:!r.title_bold})}
                            style="padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: ${r.title_bold?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_bold?"white":"var(--primary-text-color)"};"
                            title=${(0,s.kg)("editor.separator.text_format.bold",l,"Bold")}
                          >
                            <ha-icon icon="mdi:format-bold"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_italic?"active":""}"
                            @click=${()=>o({title_italic:!r.title_italic})}
                            style="padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: ${r.title_italic?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_italic?"white":"var(--primary-text-color)"};"
                            title=${(0,s.kg)("editor.separator.text_format.italic",l,"Italic")}
                          >
                            <ha-icon icon="mdi:format-italic"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_underline?"active":""}"
                            @click=${()=>o({title_underline:!r.title_underline})}
                            style="padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: ${r.title_underline?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_underline?"white":"var(--primary-text-color)"};"
                            title=${(0,s.kg)("editor.separator.text_format.underline",l,"Underline")}
                          >
                            <ha-icon icon="mdi:format-underline"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_uppercase?"active":""}"
                            @click=${()=>o({title_uppercase:!r.title_uppercase})}
                            style="padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: ${r.title_uppercase?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_uppercase?"white":"var(--primary-text-color)"};"
                            title=${(0,s.kg)("editor.separator.text_format.uppercase",l,"Uppercase")}
                          >
                            <ha-icon icon="mdi:format-letter-case-upper"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_strikethrough?"active":""}"
                            @click=${()=>o({title_strikethrough:!r.title_strikethrough})}
                            style="padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: ${r.title_strikethrough?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_strikethrough?"white":"var(--primary-text-color)"};"
                            title=${(0,s.kg)("editor.separator.text_format.strikethrough",l,"Strikethrough")}
                          >
                            <ha-icon icon="mdi:format-strikethrough"></ha-icon>
                          </button>
                        </div>
                      </div>
                    `:n.qy`
                      <div
                        style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                      >
                        ${(0,s.kg)("editor.separator.show_title_toggle.enable_toggle_desc",l,"Enable the toggle above to configure title settings")}
                      </div>
                    `}
              </div>`:n.qy`
              <!-- Spacer (Blank) Thickness Control -->
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
              >
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
                >
                  ${(0,s.kg)("editor.separator.spacer.title",l,"Spacer Height")}
                </div>
                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">
                    ${(0,s.kg)("editor.separator.height",l,"Height (px)")}
                  </div>
                  <div class="field-description">
                    ${(0,s.kg)("editor.separator.height_desc",l,"Controls the visual gap for Blank Space.")}
                  </div>
                  <div
                    class="gap-control-container"
                    style="display: flex; align-items: center; gap: 12px;"
                  >
                    <input
                      type="range"
                      class="gap-slider"
                      min="1"
                      max="300"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseInt(t.value);o({thickness:i})}}
                    />
                    <input
                      type="number"
                      class="gap-input"
                      min="1"
                      max="300"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({thickness:i})}}
                    />
                    <button
                      class="reset-btn"
                      @click=${()=>o({thickness:1})}
                      title=${(0,s.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","1")}
                    >
                      <ha-icon icon="mdi:refresh"></ha-icon>
                    </button>
                  </div>
                </div>
              </div>
            `}
      </div>
    `}renderActionsTab(e,t,i,n){return a.A.render(e,t,(e=>n(e)))}renderPreview(e,t){const i=e,o=i,a=i.design||{},r={padding:a.padding_top||a.padding_bottom||a.padding_left||a.padding_right||o.padding_top||o.padding_bottom||o.padding_left||o.padding_right?`${this.addPixelUnit(a.padding_top||o.padding_top)||"8px"} ${this.addPixelUnit(a.padding_right||o.padding_right)||"0px"} ${this.addPixelUnit(a.padding_bottom||o.padding_bottom)||"8px"} ${this.addPixelUnit(a.padding_left||o.padding_left)||"0px"}`:"8px 0",margin:a.margin_top||a.margin_bottom||a.margin_left||a.margin_right||o.margin_top||o.margin_bottom||o.margin_left||o.margin_right?`${this.addPixelUnit(a.margin_top||o.margin_top)||"0px"} ${this.addPixelUnit(a.margin_right||o.margin_right)||"0px"} ${this.addPixelUnit(a.margin_bottom||o.margin_bottom)||"0px"} ${this.addPixelUnit(a.margin_left||o.margin_left)||"0px"}`:"0",background:a.background_color||o.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},o),a),t),backgroundSize:a.background_size||o.background_size||"cover",backgroundPosition:a.background_position||o.background_position||"center",backgroundRepeat:a.background_repeat||o.background_repeat||"no-repeat",border:(a.border_style||o.border_style)&&"none"!==(a.border_style||o.border_style)?`${this.addPixelUnit(a.border_width||o.border_width)||"1px"} ${a.border_style||o.border_style} ${a.border_color||o.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(a.border_radius||o.border_radius)||"0",position:a.position||o.position||"relative",top:a.top||o.top||"auto",bottom:a.bottom||o.bottom||"auto",left:a.left||o.left||"auto",right:a.right||o.right||"auto",zIndex:a.z_index||o.z_index||"auto",width:a.width||o.width||"100%",height:a.height||o.height||"auto",maxWidth:a.max_width||o.max_width||"100%",maxHeight:a.max_height||o.max_height||"none",minWidth:a.min_width||o.min_width||"none",minHeight:a.min_height||o.min_height||"auto",overflow:a.overflow||o.overflow||"visible",clipPath:a.clip_path||o.clip_path||"none",backdropFilter:a.backdrop_filter||o.backdrop_filter||"none",boxShadow:a.box_shadow_h&&a.box_shadow_v?`${a.box_shadow_h||"0"} ${a.box_shadow_v||"0"} ${a.box_shadow_blur||"0"} ${a.box_shadow_spread||"0"} ${a.box_shadow_color||"rgba(0,0,0,0.1)"}`:o.box_shadow_h&&o.box_shadow_v?`${o.box_shadow_h||"0"} ${o.box_shadow_v||"0"} ${o.box_shadow_blur||"0"} ${o.box_shadow_spread||"0"} ${o.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};if("blank"===i.separator_style)return n.qy`
        <div class="separator-module-container" style=${this.styleObjectToCss(r)}>
          <div
            class="separator-preview blank-separator"
            style="height: ${i.thickness||1}px;"
          ></div>
        </div>
      `;const s=this.getSeparatorStyles(i);let d=null,c=null,u=!1,p=0,g=0;return n.qy`
      <div
        class="separator-module-container"
        style="${this.styleObjectToCss(r)}; cursor: ${i.tap_action&&"nothing"!==i.tap_action.action||i.hold_action&&"nothing"!==i.hold_action.action||i.double_tap_action&&"nothing"!==i.double_tap_action.action?"pointer":"default"};"
        @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),u=!1,c=setTimeout((()=>{u=!0,i.hold_action&&"nothing"!==i.hold_action.action&&l.K.handleAction(i.hold_action,t,e.target)}),500)}}
        @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),c&&(clearTimeout(c),c=null),u)return void(u=!1);const n=Date.now();n-g<300&&1===p?(d&&(clearTimeout(d),d=null),p=0,i.double_tap_action&&"nothing"!==i.double_tap_action.action&&l.K.handleAction(i.double_tap_action,t,e.target)):(p=1,g=n,d=setTimeout((()=>{p=0,i.tap_action&&"nothing"!==i.tap_action.action&&l.K.handleAction(i.tap_action,t,e.target)}),300))}}
      >
        <div class="separator-preview" style="width: 100%; text-align: center;">
          ${i.show_title&&i.title?n.qy`
                <div
                  class="separator-with-title"
                  style=${this.getTitleContainerStyles(i.design||{})}
                >
                  <div
                    class="separator-line-left"
                    style=${this.getSeparatorLineStyles(i,"left")}
                  ></div>
                  <div
                    class="separator-title"
                    style=${this.getTitleStyles(i,i.design||{})}
                  >
                    ${i.title}
                  </div>
                  <div
                    class="separator-line-right"
                    style=${this.getSeparatorLineStyles(i,"right")}
                  ></div>
                </div>
              `:n.qy` <div class="separator-line" style=${s}></div> `}
        </div>
      </div>
    `}renderLogicTab(e,t,i,n){return r.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];return"blank"!==t.separator_style?t.thickness&&(t.thickness<1||t.thickness>50)&&i.push("Thickness must be between 1 and 50 pixels"):t.thickness&&(t.thickness<1||t.thickness>300)&&i.push("Spacer height must be between 1 and 300 pixels"),t.width_percent&&(t.width_percent<1||t.width_percent>100)&&i.push("Width must be between 1 and 100 percent"),!t.show_title||t.title&&""!==t.title.trim()||i.push("Title text is required when show title is enabled"),{valid:0===i.length,errors:i}}getStyles(){return"\n      .separator-preview {\n        min-height: 20px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      \n      .blank-separator {\n        background: transparent;\n        display: block;\n        min-height: 0;\n      }\n      \n      .separator-with-title {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n      }\n      \n      .separator-title {\n        margin: 0;\n        line-height: 1.2;\n        background: var(--card-background-color);\n        padding: 0 8px;\n        position: relative;\n        z-index: 1;\n        white-space: nowrap;\n      }\n      \n      .separator-line,\n      .separator-line-left,\n      .separator-line-right {\n        display: block;\n      }\n      \n      .separator-line-left,\n      .separator-line-right {\n        flex: 1;\n      }\n      \n      /* Format button styles */\n      .format-buttons {\n        display: flex;\n        gap: 8px;\n        flex-wrap: wrap;\n      }\n      \n      .format-btn {\n        padding: 8px;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        min-width: 36px;\n        min-height: 36px;\n      }\n      \n      .format-btn:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n      }\n      \n      .format-btn ha-icon {\n        font-size: 16px;\n      }\n      \n      /* Settings section styling */\n      .settings-section {\n        background: var(--secondary-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 32px;\n      }\n      \n      .section-title {\n        font-size: 18px;\n        font-weight: 700;\n        text-transform: uppercase;\n        color: var(--primary-color);\n        margin-bottom: 16px;\n        padding-bottom: 0;\n        border-bottom: none;\n        letter-spacing: 0.5px;\n      }\n      \n      .field-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin-bottom: 4px;\n      }\n      \n      .field-description {\n        font-size: 13px;\n        font-weight: 400;\n        margin-bottom: 12px;\n        color: var(--secondary-text-color);\n      }\n      \n      .field-group {\n        margin-bottom: 16px;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n    "}getSeparatorStyles(e){const t={width:`${e.width_percent||100}%`,height:`${e.thickness||1}px`,margin:"0 auto"};switch(e.separator_style||"line"){case"line":t.backgroundColor=e.color||"var(--divider-color)";break;case"double_line":t.borderTop=`${e.thickness||1}px solid ${e.color||"var(--divider-color)"}`,t.borderBottom=`${e.thickness||1}px solid ${e.color||"var(--divider-color)"}`,t.height=3*(e.thickness||1)+"px";break;case"dotted":t.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color)"}`,t.height="0";break;case"double_dotted":t.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color)"}`,t.borderBottom=`${e.thickness||1}px dotted ${e.color||"var(--divider-color)"}`,t.height=3*(e.thickness||1)+"px";break;case"shadow":{const i=e.thickness||1,n=Math.max(8*i,14),o=this._colorWithAlpha(e.color||"#000000",.35);t.width="calc(100% + (var(--ha-card-padding, 16px) * 2))",t.margin="0 calc(var(--ha-card-padding, 16px) * -1)",t.height=`${n}px`,t.background=`linear-gradient(to bottom, ${o} 0%, rgba(0,0,0,0) 100%)`;break}}return Object.entries(t).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}getSeparatorLineStyles(e,t){const i={flex:"1",height:`${e.thickness||1}px`,margin:"left"===t?"0 8px 0 0":"0 0 0 8px"},n=(e.design||{}).text_align;switch(n&&"inherit"!==n&&(i.flex="left"===n?"left"===t?"0 0 12px":"1":"right"===n&&"right"===t?"0 0 12px":"1"),e.separator_style||"line"){case"line":i.backgroundColor=e.color||"var(--divider-color)";break;case"double_line":i.borderTop=`${e.thickness||1}px solid ${e.color||"var(--divider-color)"}`,i.borderBottom=`${e.thickness||1}px solid ${e.color||"var(--divider-color)"}`,i.height=3*(e.thickness||1)+"px";break;case"dotted":i.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color)"}`,i.height="0";break;case"double_dotted":i.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color)"}`,i.borderBottom=`${e.thickness||1}px dotted ${e.color||"var(--divider-color)"}`,i.height=3*(e.thickness||1)+"px";break;case"shadow":{const t=e.thickness||1,n=Math.max(8*t,14),o=this._colorWithAlpha(e.color||"#000000",.35),a=this._colorWithAlpha(e.color||"#000000",.22),r=this._colorWithAlpha(e.color||"#000000",.25);i.height=`${n}px`,i.margin="0",i.background=`\n          linear-gradient(to bottom, ${r}, rgba(0,0,0,0) 66%) top/100% 2px no-repeat,\n          radial-gradient(ellipse at center, ${o} 0%, ${a} 55%, rgba(0,0,0,0) 80%) bottom/120% 100% no-repeat\n        `;break}}return Object.entries(i).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}getTitleContainerStyles(e={}){const t=(null==e?void 0:e.text_align)&&"inherit"!==e.text_align?e.text_align:"center",i={position:"relative",display:"flex",alignItems:"center",justifyContent:"left"===t?"flex-start":"right"===t?"flex-end":"center",width:"100%"};return Object.entries(i).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}getTitleStyles(e,t={}){const i={fontSize:void 0!==t.font_size&&null!==t.font_size?"number"==typeof t.font_size?`${t.font_size}px`:String(t.font_size):`${e.title_size||14}px`,color:t.color||e.title_color||"var(--secondary-text-color)",fontWeight:t.font_weight||(e.title_bold?"bold":"normal"),fontStyle:t.font_style||(e.title_italic?"italic":"normal"),textTransform:t.text_transform||(e.title_uppercase?"uppercase":"none"),letterSpacing:t.letter_spacing||void 0,lineHeight:t.line_height||void 0,textAlign:t.text_align||void 0,margin:"0",padding:"0 8px",backgroundColor:"transparent",position:"relative",zIndex:"1"},n=[];return e.title_strikethrough&&n.push("line-through"),e.title_underline&&n.push("underline"),i.textDecoration=n.length>0?n.join(" "):"none",t.text_shadow_h&&t.text_shadow_v&&(i.textShadow=`${t.text_shadow_h||"0"} ${t.text_shadow_v||"0"} ${t.text_shadow_blur||"0"} ${t.text_shadow_color||"rgba(0,0,0,0.25)"}`),Object.entries(i).filter((([e,t])=>null!=t&&""!==t)).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}_colorWithAlpha(e,t){if(!e)return`rgba(0,0,0,${t})`;if(e.startsWith("rgba(")){const i=e.replace("rgba(","").replace(")","").split(",").map((e=>e.trim())),[n,o,a]=i.map(((e,t)=>t<3?Number(e):e));return`rgba(${n||0}, ${o||0}, ${a||0}, ${t})`}if(e.startsWith("rgb(")){const i=e.replace("rgb(","").replace(")","").split(",").map((e=>Number(e.trim()))),[n,o,a]=i;return`rgba(${n||0}, ${o||0}, ${a||0}, ${t})`}if(e.startsWith("#")){const i=e.replace("#",""),n=parseInt(3===i.length?i.split("").map((e=>e+e)).join(""):i,16);return`rgba(${n>>16&255}, ${n>>8&255}, ${255&n}, ${t})`}return`rgba(0,0,0,${t})`}getBackgroundImageCSS(e,t){var i,n;if(!e.background_image_type||"none"===e.background_image_type)return"none";switch(e.background_image_type){case"upload":case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const o=t.states[e.background_image_entity];let a="";if((null===(i=o.attributes)||void 0===i?void 0:i.entity_picture)?a=o.attributes.entity_picture:(null===(n=o.attributes)||void 0===n?void 0:n.image)?a=o.attributes.image:o.state&&"string"==typeof o.state&&(o.state.startsWith("/")||o.state.startsWith("http"))&&(a=o.state),a)return a.startsWith("/local/")||a.startsWith("/media/")||a.startsWith("/"),`url("${a}")`}}return"none"}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},340:(e,t,i)=>{i.d(t,{nu:()=>h,rC:()=>v});var n,o,a,r=function(e,t){return l(t).format(e)},l=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric"})};(a=n||(n={})).language="language",a.system="system",a.comma_decimal="comma_decimal",a.decimal_comma="decimal_comma",a.space_comma="space_comma",a.none="none",function(e){e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24"}(o||(o={}));var s=function(e){if(e.time_format===o.language||e.time_format===o.system){var t=e.time_format===o.language?e.language:void 0,i=(new Date).toLocaleString(t);return i.includes("AM")||i.includes("PM")}return e.time_format===o.am_pm},d=function(e,t){return c(t).format(e)},c=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:s(e)?"numeric":"2-digit",minute:"2-digit",hour12:s(e)})},u=function(e,t){return p(t).format(e)},p=function(e){return new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hour12:s(e)})};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var m=function(e,t,i){var o=t?function(e){switch(e.number_format){case n.comma_decimal:return["en-US","en"];case n.decimal_comma:return["de","es","it"];case n.space_comma:return["fr","sv","cs"];case n.system:return;default:return e.language}}(t):void 0;if(Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)!==n.none&&!Number.isNaN(Number(e))&&Intl)try{return new Intl.NumberFormat(o,_(e,i)).format(Number(e))}catch(t){return console.error(t),new Intl.NumberFormat(void 0,_(e,i)).format(Number(e))}return"string"==typeof e?e:function(e,t){return void 0===t&&(t=2),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}(e,null==i?void 0:i.maximumFractionDigits).toString()+("currency"===(null==i?void 0:i.style)?" "+i.currency:"")},_=function(e,t){var i=g({maximumFractionDigits:2},t);if("string"!=typeof e)return i;if(!t||!t.minimumFractionDigits&&!t.maximumFractionDigits){var n=e.indexOf(".")>-1?e.split(".")[1].length:0;i.minimumFractionDigits=n,i.maximumFractionDigits=n}return i},h=function(e,t,i,n){var o=void 0!==n?n:t.state;if("unknown"===o||"unavailable"===o)return e("state.default."+o);if(function(e){return!!e.attributes.unit_of_measurement||!!e.attributes.state_class}(t)){if("monetary"===t.attributes.device_class)try{return m(o,i,{style:"currency",currency:t.attributes.unit_of_measurement})}catch(e){}return m(o,i)+(t.attributes.unit_of_measurement?" "+t.attributes.unit_of_measurement:"")}var a=function(e){return function(e){return e.substr(0,e.indexOf("."))}(e.entity_id)}(t);if("input_datetime"===a){var l;if(void 0===n)return t.attributes.has_date&&t.attributes.has_time?(l=new Date(t.attributes.year,t.attributes.month-1,t.attributes.day,t.attributes.hour,t.attributes.minute),d(l,i)):t.attributes.has_date?(l=new Date(t.attributes.year,t.attributes.month-1,t.attributes.day),r(l,i)):t.attributes.has_time?((l=new Date).setHours(t.attributes.hour,t.attributes.minute),u(l,i)):t.state;try{var s=n.split(" ");if(2===s.length)return d(new Date(s.join("T")),i);if(1===s.length){if(n.includes("-"))return r(new Date(n+"T00:00"),i);if(n.includes(":")){var c=new Date;return u(new Date(c.toISOString().split("T")[0]+"T"+n),i)}}return n}catch(e){return n}}return"humidifier"===a&&"on"===o&&t.attributes.humidity?t.attributes.humidity+" %":"counter"===a||"number"===a||"input_number"===a?m(o,i):t.attributes.device_class&&e("component."+a+".state."+t.attributes.device_class+"."+o)||e("component."+a+".state._."+o)||o},v=(new Set(["fan","input_boolean","light","switch","group","automation"]),function(e,t,i,n){n=n||{},i=null==i?{}:i;var o=new Event(t,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});return o.detail=i,e.dispatchEvent(o),o});new Set(["call-service","divider","section","weblink","cast","select"])},341:(e,t,i)=>{i.d(t,{oD:()=>I});var n=i(504),o=i(278),a=i(884),r=i(649),l=i(679),s=i(866),d=i(790),c=i(70),u=i(101),p=i(863),g=i(183),m=i(30),_=i(914),h=i(662),v=i(371),b=i(796),f=i(987),y=i(456);class k extends m.m{constructor(){super(...arguments),this.metadata={type:"camera",title:"Camera Module",description:"Display live camera feeds with comprehensive control options",author:"WJD Designs",version:"1.0.0",icon:"mdi:camera",category:"content",tags:["camera","live","feed","security","surveillance"]},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1}createDefault(e,t){return{id:e||this.generateId("camera"),type:"camera",entity:"",camera_name:"",show_name:!0,name_position:"top-left",aspect_ratio_linked:!0,aspect_ratio_value:1.778,image_fit:"cover",crop_left:0,crop_top:0,crop_right:0,crop_bottom:0,show_controls:!1,live_view:!0,auto_refresh:!0,refresh_interval:30,image_quality:"high",show_unavailable:!0,fallback_image:"",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},template_mode:!1,template:"",design:{border_radius:"20px"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,n){var o;const a=e,r=(null===(o=t.locale)||void 0===o?void 0:o.language)||"en";return g.qy`
      ${this.injectUcFormStyles()}
      <div class="camera-module-settings">
        <!-- Camera Configuration Section -->
        ${this.renderSettingsSection((0,y.kg)("editor.camera.config.title",r,"Camera Configuration"),(0,y.kg)("editor.camera.config.desc",r,"Configure the camera entity and display settings."),[{title:(0,y.kg)("editor.camera.entity",r,"Camera Entity"),description:(0,y.kg)("editor.camera.entity_desc",r,"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant."),hass:t,data:{entity:a.entity||""},schema:[this.entityField("entity",["camera"])],onChange:e=>n(e.detail.value)}])}

        <!-- Camera Name Settings with toggle in header -->
        <div class="settings-section">
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,y.kg)("editor.camera.show_name",r,"Show Camera Name")}
            </div>
            <ha-switch
              .checked=${!1!==a.show_name}
              @change=${e=>{const t=e.target;n({show_name:t.checked})}}
            ></ha-switch>
          </div>

          ${!1!==a.show_name?g.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,y.kg)("editor.camera.name",r,"Camera Name"),(0,y.kg)("editor.camera.name_desc",r,"Custom name for the camera. Leave empty to use entity name."),t,{camera_name:a.camera_name||""},[this.textField("camera_name")],(e=>n(e.detail.value)))}
                </div>

                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,y.kg)("editor.camera.name_position.title",r,"Name Position"),(0,y.kg)("editor.camera.name_position.desc",r,"Choose where the camera name appears as an overlay on the camera image."),t,{name_position:a.name_position||"top-left"},[this.selectField("name_position",[{value:"top-left",label:(0,y.kg)("editor.camera.name_position.options.top_left",r,"Top Left")},{value:"top-right",label:(0,y.kg)("editor.camera.name_position.options.top_right",r,"Top Right")},{value:"center",label:(0,y.kg)("editor.camera.name_position.options.center",r,"Center")},{value:"bottom-left",label:(0,y.kg)("editor.camera.name_position.options.bottom_left",r,"Bottom Left")},{value:"bottom-right",label:(0,y.kg)("editor.camera.name_position.options.bottom_right",r,"Bottom Right")}])],(e=>n(e.detail.value)))}
                </div>
              `:g.qy`
                <div
                  style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                >
                  ${(0,y.kg)("editor.camera.show_name_toggle.enable_toggle_desc",r,"Enable the toggle above to configure camera name display")}
                </div>
              `}
        </div>

        <!-- Display Settings Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 32px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,y.kg)("editor.camera.display.title",r,"Display Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,y.kg)("editor.camera.live_view.title",r,"Live View"),(0,y.kg)("editor.camera.live_view.desc",r,"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."),t,{live_view:!1!==a.live_view},[this.booleanField("live_view")],(e=>n(e.detail.value)))}
          </div>

          ${!1===a.live_view?g.qy`
                <div style="margin-top: 24px;">
                  ${this.renderConditionalFieldsGroup((0,y.kg)("editor.camera.auto_refresh.section_title",r,"Auto Refresh Settings"),g.qy`
                      <div style="margin-bottom: 16px;">
                        ${_.Q.renderField((0,y.kg)("editor.camera.auto_refresh.title",r,"Auto Refresh"),(0,y.kg)("editor.camera.auto_refresh.desc",r,"Automatically refresh the camera image at regular intervals"),t,{auto_refresh:!1!==a.auto_refresh},[_.Q.createSchemaItem("auto_refresh",{boolean:{}})],(e=>n({auto_refresh:e.detail.value.auto_refresh})))}
                      </div>

                      ${!1!==a.auto_refresh?g.qy`
                            ${_.Q.renderField((0,y.kg)("editor.camera.refresh_interval.title",r,"Refresh Interval (seconds)"),(0,y.kg)("editor.camera.refresh_interval.desc",r,"How often to refresh the camera image automatically."),t,{refresh_interval:a.refresh_interval||30},[_.Q.createSchemaItem("refresh_interval",{number:{min:5,max:300,mode:"box"}})],(e=>n({refresh_interval:e.detail.value.refresh_interval})))}
                          `:""}
                    `)}
                </div>
              `:""}

          <!-- Dimensions Section -->
          <div style="margin-bottom: 32px;">
            <div
              class="field-title"
              style="font-size: 18px; font-weight: 700; margin-bottom: 16px; color: var(--primary-color);"
            >
              ${(0,y.kg)("editor.camera.dimensions.title",r,"Dimensions")}
            </div>

            <style>
              .number-range-control {
                display: flex;
                gap: 8px;
                align-items: center;
              }

              .range-slider {
                flex: 0 0 65%;
                height: 6px;
                background: var(--divider-color);
                border-radius: 3px;
                outline: none;
                appearance: none;
                -webkit-appearance: none;
                cursor: pointer;
                transition: all 0.2s ease;
                min-width: 0;
              }

              .range-slider::-webkit-slider-thumb {
                appearance: none;
                -webkit-appearance: none;
                width: 18px;
                height: 18px;
                background: var(--primary-color);
                border-radius: 50%;
                cursor: pointer;
                transition: all 0.2s ease;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
              }

              .range-slider::-moz-range-thumb {
                width: 18px;
                height: 18px;
                background: var(--primary-color);
                border-radius: 50%;
                cursor: pointer;
                border: none;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
              }

              .range-slider:hover {
                background: var(--primary-color);
                opacity: 0.7;
              }

              .range-slider:hover::-webkit-slider-thumb {
                transform: scale(1.1);
              }

              .range-slider:hover::-moz-range-thumb {
                transform: scale(1.1);
              }

              .range-input {
                flex: 0 0 20%;
                padding: 6px 8px !important;
                border: 1px solid var(--divider-color);
                border-radius: 4px;
                background: var(--secondary-background-color);
                color: var(--primary-text-color);
                font-size: 13px;
                text-align: center;
                transition: all 0.2s ease;
                box-sizing: border-box;
              }

              .range-input:focus {
                outline: none;
                border-color: var(--primary-color);
                box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
              }

              .range-reset-btn {
                width: 32px;
                height: 32px;
                padding: 0;
                border: 1px solid var(--divider-color);
                border-radius: 4px;
                background: var(--secondary-background-color);
                color: var(--primary-text-color);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s ease;
                flex-shrink: 0;
              }

              .range-reset-btn:hover {
                background: var(--primary-color);
                color: var(--text-primary-color);
                border-color: var(--primary-color);
              }

              .range-reset-btn ha-icon {
                font-size: 14px;
              }

              .aspect-ratio-link-btn {
                width: 40px;
                height: 40px;
                padding: 0;
                border: 2px solid var(--divider-color);
                border-radius: 50%;
                background: var(--secondary-background-color);
                color: var(--primary-text-color);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
                flex-shrink: 0;
                margin: 0 auto;
                position: relative;
              }

              .aspect-ratio-link-btn.linked {
                border-color: var(--primary-color);
                background: var(--primary-color);
                color: white;
                transform: scale(1.05);
              }

              .aspect-ratio-link-btn:hover {
                transform: scale(1.1);
                border-color: var(--primary-color);
              }

              .aspect-ratio-link-btn.linked:hover {
                background: var(--primary-color);
                opacity: 0.9;
              }

              .aspect-ratio-link-btn ha-icon {
                font-size: 20px;
                transition: transform 0.2s ease;
              }

              .dimensions-container {
                display: flex;
                flex-direction: column;
                gap: 16px;
              }

              .dimension-group {
                display: flex;
                flex-direction: column;
                gap: 8px;
              }
            </style>

            <div class="dimensions-container">
              <div class="dimension-group">
                <div class="field-title">
                  ${(0,y.kg)("editor.camera.width",r,"Width (px)")}
                </div>
                <div class="field-description">
                  ${(0,y.kg)("editor.camera.width_desc",r,"Set the width of the camera display. Range: 100-1000px")}
                </div>
                <div class="number-range-control">
                  <input
                    type="range"
                    class="range-slider"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${a.width||320}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);this._handleDimensionChange(a,"width",i,n)}}
                  />
                  <input
                    type="number"
                    class="range-input"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${a.width||320}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||this._handleDimensionChange(a,"width",i,n)}}
                    @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||320,o="ArrowUp"===e.key?1:-1,r=Math.max(100,Math.min(1e3,i+o));this._handleDimensionChange(a,"width",r,n)}}}
                  />
                  <button
                    class="range-reset-btn"
                    @click=${()=>this._handleDimensionChange(a,"width",320,n)}
                    title=${(0,y.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","320")}
                  >
                    <ha-icon icon="mdi:refresh"></ha-icon>
                  </button>
                </div>
              </div>

              <!-- Link/Unlink Button -->
              <div style="display: flex; justify-content: center; margin: 8px 0;">
                <button
                  class="aspect-ratio-link-btn ${!1!==a.aspect_ratio_linked?"linked":""}"
                  @click=${()=>{const e=!a.aspect_ratio_linked,t={aspect_ratio_linked:e};if(e){const e=a.width||320,i=a.height||180;t.aspect_ratio_value=e/i}n(t)}}
                  title="${!1!==a.aspect_ratio_linked?(0,y.kg)("editor.camera.unlink_aspect",r,"Unlink aspect ratio"):(0,y.kg)("editor.camera.link_aspect",r,"Link aspect ratio")}"
                >
                  <ha-icon
                    icon="${!1!==a.aspect_ratio_linked?"mdi:link-variant":"mdi:link-variant-off"}"
                  ></ha-icon>
                </button>
              </div>

              <div class="dimension-group">
                <div class="field-title">
                  ${(0,y.kg)("editor.camera.height",r,"Height (px)")}
                </div>
                <div class="field-description">
                  ${(0,y.kg)("editor.camera.height_desc",r,"Set the height of the camera display. Range: 100-1000px")}
                </div>
                <div class="number-range-control">
                  <input
                    type="range"
                    class="range-slider"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${a.height||180}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);this._handleDimensionChange(a,"height",i,n)}}
                  />
                  <input
                    type="number"
                    class="range-input"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${a.height||180}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||this._handleDimensionChange(a,"height",i,n)}}
                    @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||180,o="ArrowUp"===e.key?1:-1,r=Math.max(100,Math.min(1e3,i+o));this._handleDimensionChange(a,"height",r,n)}}}
                  />
                  <button
                    class="range-reset-btn"
                    @click=${()=>this._handleDimensionChange(a,"height",180,n)}
                    title=${(0,y.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","180")}
                  >
                    <ha-icon icon="mdi:refresh"></ha-icon>
                  </button>
                </div>
              </div>
            </div>

            ${!1!==a.aspect_ratio_linked?g.qy`
                  <div
                    style="margin-top: 12px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.1); border-radius: 8px; border-left: 4px solid var(--primary-color);"
                  >
                    <div
                      style="font-size: 13px; color: var(--primary-color); font-weight: 500; margin-bottom: 4px;"
                    >
                      <ha-icon
                        icon="mdi:link-variant"
                        style="font-size: 14px; margin-right: 6px;"
                      ></ha-icon>
                      ${(0,y.kg)("editor.camera.aspect_linked.title",r,"Aspect Ratio Linked")}
                    </div>
                    <div
                      style="font-size: 12px; color: var(--secondary-text-color); line-height: 1.4;"
                    >
                      ${(0,y.kg)("editor.camera.aspect_linked.desc",r,"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions.").replace("{ratio}",`${(1*(a.aspect_ratio_value||1.778)).toFixed(2)}`)}
                    </div>
                  </div>
                `:g.qy`
                  <div
                    style="margin-top: 12px; padding: 12px; background: rgba(var(--rgb-secondary-text-color), 0.1); border-radius: 8px; border-left: 4px solid var(--secondary-text-color);"
                  >
                    <div
                      style="font-size: 13px; color: var(--secondary-text-color); font-weight: 500; margin-bottom: 4px;"
                    >
                      <ha-icon
                        icon="mdi:link-variant-off"
                        style="font-size: 14px; margin-right: 6px;"
                      ></ha-icon>
                      ${(0,y.kg)("editor.camera.aspect_independent.title",r,"Independent Dimensions")}
                    </div>
                    <div
                      style="font-size: 12px; color: var(--secondary-text-color); line-height: 1.4;"
                    >
                      ${(0,y.kg)("editor.camera.aspect_independent.desc",r,"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio.")}
                    </div>
                  </div>
                `}
          </div>
        </div>

        <!-- Crop & Position Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,y.kg)("editor.camera.crop.title",r,"Crop & Position")}
          </div>
          <div
            class="field-description"
            style="margin-bottom: 20px; color: var(--secondary-text-color); font-style: italic;"
          >
            ${(0,y.kg)("editor.camera.crop.desc",r,"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.")}
          </div>

          <div style="display: flex; flex-direction: column; gap: 20px;">
            <!-- Left Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,y.kg)("editor.camera.crop.left_title",r,"Left Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,y.kg)("editor.camera.crop.left_desc",r,"Crop from the left edge. Higher values show less of the left side.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_left||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);n({crop_left:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_left||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||n({crop_left:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>n({crop_left:0})}
                  title=${(0,y.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Right Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,y.kg)("editor.camera.crop.right_title",r,"Right Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,y.kg)("editor.camera.crop.right_desc",r,"Crop from the right edge. Higher values show less of the right side.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_right||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);n({crop_right:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_right||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||n({crop_right:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>n({crop_right:0})}
                  title=${(0,y.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Top Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,y.kg)("editor.camera.crop.top_title",r,"Top Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,y.kg)("editor.camera.crop.top_desc",r,"Crop from the top edge. Higher values show less of the top area.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_top||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);n({crop_top:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_top||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||n({crop_top:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>n({crop_top:0})}
                  title=${(0,y.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Bottom Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,y.kg)("editor.camera.crop.bottom_title",r,"Bottom Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,y.kg)("editor.camera.crop.bottom_desc",r,"Crop from the bottom edge. Higher values show less of the bottom area.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_bottom||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);n({crop_bottom:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${a.crop_bottom||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||n({crop_bottom:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>n({crop_bottom:0})}
                  title=${(0,y.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>
          </div>

          <!-- Crop Status -->
          ${(a.crop_left||0)+(a.crop_top||0)+(a.crop_right||0)+(a.crop_bottom||0)>0?g.qy`
                <div
                  style="margin-top: 16px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.1); border-radius: 8px; border-left: 4px solid var(--primary-color);"
                >
                  <div
                    style="font-size: 13px; color: var(--primary-color); font-weight: 500; margin-bottom: 4px;"
                  >
                    <ha-icon icon="mdi:crop" style="font-size: 14px; margin-right: 6px;"></ha-icon>
                    ${(0,y.kg)("editor.camera.crop.active_applied",r,"Active Crops Applied")}
                  </div>
                  <div
                    style="font-size: 12px; color: var(--secondary-text-color); line-height: 1.4;"
                  >
                    L: ${a.crop_left||0}% | T: ${a.crop_top||0}% | R:
                    ${a.crop_right||0}% | B: ${a.crop_bottom||0}%
                  </div>
                </div>
              `:""}

          <!-- Reset All Crops Button -->
          <div style="margin-top: 20px; text-align: center;">
            <button
              style="
                padding: 8px 16px;
                border: 1px solid var(--primary-color);
                border-radius: 6px;
                background: transparent;
                color: var(--primary-color);
                cursor: pointer;
                font-size: 13px;
                font-weight: 500;
                transition: all 0.2s ease;
              "
              @click=${()=>n({crop_left:0,crop_top:0,crop_right:0,crop_bottom:0})}
              @mouseover=${e=>{const t=e.target;t.style.background="var(--primary-color)",t.style.color="white"}}
              @mouseout=${e=>{const t=e.target;t.style.background="transparent",t.style.color="var(--primary-color)"}}
            >
              <ha-icon icon="mdi:crop-free" style="margin-right: 6px; font-size: 14px;"></ha-icon>
              ${(0,y.kg)("editor.camera.crop.reset_all",r,"Reset All Crops")}
            </button>
          </div>
        </div>

        <!-- Link configuration intentionally omitted for Camera module per design guidelines -->

        <!-- Template Mode Section -->
        <div
          class="settings-section template-mode-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,y.kg)("editor.camera.template.title",r,"Template Mode")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,y.kg)("editor.camera.template.desc",r,"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{template_mode:a.template_mode||!1}}
              .schema=${[{name:"template_mode",label:(0,y.kg)("editor.camera.template.mode_label",r,"Template Mode"),description:(0,y.kg)("editor.camera.template.mode_desc",r,"Use Home Assistant templating syntax to dynamically select camera entity"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>n({template_mode:e.detail.value.template_mode})}
            ></ha-form>
          </div>

          ${a.template_mode?g.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{template:a.template||""}}
                    .schema=${[{name:"template",label:(0,y.kg)("editor.camera.template.camera_template_label",r,"Camera Template"),description:(0,y.kg)("editor.camera.template.camera_template_desc",r,"Template to dynamically set the camera entity using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>n({template:e.detail.value.template})}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,y.kg)("editor.camera.template.examples_title",r,"Common Examples:")}
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      'camera.outdoor' if is_state('weather.home', 'sunny') else ''
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,y.kg)("editor.camera.template.example1_desc",r,"Show camera when weather is sunny")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      'camera.front_door' if is_state('input_boolean.show_front', 'on') else
                      'camera.back_yard'
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,y.kg)("editor.camera.template.example2_desc",r,"Switch between cameras based on input boolean")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      states('input_select.active_camera')
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,y.kg)("editor.camera.template.example3_desc",r,"Use input select to choose camera entity")}
                    </div>
                  </div>
                </div>
              `:""}
        </div>
      </div>
    `}renderActionsTab(e,t,i,n){return h.A.render(e,t,(e=>n(e)))}renderPreview(e,t){var i;const n=e,o=n,a=o.design||{};let r=n.entity;if(n.template_mode&&n.template)try{let e=n.template;const i=e.match(/states\(['"]([^'"]+)['"]\)/g);i&&i.forEach((i=>{const n=i.match(/states\(['"]([^'"]+)['"]\)/)[1],o=null==t?void 0:t.states[n],a=o?o.state:"unknown";e=e.replace(i,`'${a}'`)}));const o=e.match(/is_state\(['"]([^'"]+)['"],\s*['"]([^'"]+)['"]\)/g);o&&o.forEach((i=>{const[,n,o]=i.match(/is_state\(['"]([^'"]+)['"],\s*['"]([^'"]+)['"]\)/),a=null==t?void 0:t.states[n],r=a&&a.state===o;e=e.replace(i,r?"True":"False")}));const a=e.match(/['"]([^'"]+)['"] if (.+?) else ['"]([^'"]+)['"]/);if(a){const[,e,t,i]=a;r=t.includes("True")?e:i}else{const t=e.match(/['"]([^'"]+)['"]/);t&&(r=t[1])}}catch(e){console.error("Template evaluation error:",e),r=n.entity}const l=r?t.states[r]:null,s=!l||"unavailable"===l.state,d=n.camera_name||(l?l.attributes.friendly_name||l.entity_id:"Camera"),c={width:"100%",maxWidth:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"left"===a.alignment?"flex-start":"right"===a.alignment?"flex-end":"center",justifyContent:"center",color:a.color||this.getTextColor(o),fontFamily:a.font_family||this.getTextFont(o),fontSize:a.font_size?"number"==typeof a.font_size?`${a.font_size}px`:a.font_size:this.getTextSize(o),fontWeight:a.font_weight||this.getTextWeight(o),textTransform:a.text_transform||void 0,letterSpacing:a.letter_spacing||void 0,lineHeight:a.line_height||void 0,textShadow:a.text_shadow||void 0},u=n.crop_left||0,p=n.crop_right||0,m=n.crop_top||0,_=n.crop_bottom||0,h=n.width||320,v=n.height||180,b=h*(100-u-p)/100,y=v*(100-m-_)/100,k={objectFit:"cover",width:`${h}px`,height:`${v}px`,display:"block",position:"absolute",left:-h*u/100+"px",top:-v*m/100+"px",transition:"all 0.3s ease",borderRadius:a.border_radius||"0px"},x={width:a.width||`${Math.max(50,b)}px`,height:a.height||`${Math.max(50,y)}px`,maxWidth:a.max_width||void 0,minWidth:a.min_width||void 0,maxHeight:a.max_height||void 0,minHeight:a.min_height||void 0,position:"relative",overflow:a.overflow||"hidden",borderRadius:a.border_radius||"0px",background:a.background_color||"transparent",backgroundImage:this.getBackgroundImageWithDesign(a,o,t)||void 0,border:this.getBorderWithDesign(a,o)||void 0,padding:"0",margin:this.getMarginWithDesign(a,o),boxShadow:a.box_shadow||void 0,backdropFilter:a.backdrop_filter||void 0,clipPath:a.clip_path||void 0},w=n.name_position||"top-left",$=this.getCameraNamePositionStyles(w,o,a),z=g.qy`
      <div class="camera-module-container" style=${this.styleObjectToCss(c)}>
        <div class="camera-image-container" style=${this.styleObjectToCss(x)}>
          ${r?s?g.qy`
                  <div
                    class="camera-unavailable"
                    style=${this.styleObjectToCss(Object.assign(Object.assign({},k),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"var(--error-color, #f44336)",color:a.color||this.getTextColor(o),position:"static",left:"auto",top:"auto",fontFamily:a.font_family||this.getTextFont(o)}))}
                  >
                    ${n.fallback_image?g.qy`
                          <img
                            src=${n.fallback_image}
                            alt="Fallback"
                            style="max-width: 100%; max-height: 100%; object-fit: cover;"
                          />
                        `:g.qy`
                          <ha-icon
                            icon="mdi:camera-off"
                            style="font-size: 48px; margin-bottom: 8px;"
                          ></ha-icon>
                          <span
                            style="font-weight: ${a.font_weight||this.getTextWeight(o)}; font-size: ${a.font_size?"number"==typeof a.font_size?`${a.font_size}px`:a.font_size:this.getTextSize(o)};"
                            >Camera Unavailable</span
                          >
                          <span
                            style="font-size: ${a.font_size&&"number"==typeof a.font_size?`${Math.max(10,a.font_size-2)}px`:this.getSmallTextSize(o)}; margin-top: 4px; opacity: 0.9;"
                            >Entity: ${r}</span
                          >
                        `}
                  </div>
                  ${!1!==n.show_name?g.qy`
                        <div
                          class="camera-name-overlay"
                          style=${this.styleObjectToCss($)}
                        >
                          ${d}
                        </div>
                      `:""}
                `:g.qy`
                  <!-- Use HA's native camera image component - same as picture-glance card -->
                  <hui-image
                    .hass=${t}
                    .cameraImage=${r}
                    .cameraView=${n.live_view?"live":"auto"}
                    style=${this.styleObjectToCss(k)}
                    class="camera-image"
                    @error=${()=>{}}
                    @load=${()=>{}}
                  ></hui-image>
                  ${!1!==n.show_name?g.qy`
                        <div
                          class="camera-name-overlay"
                          style=${this.styleObjectToCss($)}
                        >
                          ${d}
                        </div>
                      `:""}
                `:g.qy`
                <div
                  class="camera-unavailable"
                  style=${this.styleObjectToCss(Object.assign(Object.assign({},k),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"var(--warning-color, #ff9800)",color:a.color||this.getTextColor(o),position:"static",left:"auto",top:"auto",fontFamily:a.font_family||this.getTextFont(o)}))}
                >
                  <ha-icon
                    icon="mdi:camera-plus"
                    style="font-size: 48px; margin-bottom: 8px;"
                  ></ha-icon>
                  <span
                    style="font-weight: ${a.font_weight||this.getTextWeight(o)}; font-size: ${a.font_size?"number"==typeof a.font_size?`${a.font_size}px`:a.font_size:this.getTextSize(o)};"
                    >No Camera Selected</span
                  >
                  <span
                    style="font-size: ${a.font_size&&"number"==typeof a.font_size?`${Math.max(10,a.font_size-2)}px`:this.getSmallTextSize(o)}; margin-top: 4px; opacity: 0.9;"
                    >Choose a camera entity below</span
                  >
                </div>
                ${!1!==n.show_name?g.qy`
                      <div
                        class="camera-name-overlay"
                        style=${this.styleObjectToCss($)}
                      >
                        ${d}
                      </div>
                    `:""}
              `}
        </div>
      </div>
    `,S=null===(i=n.design)||void 0===i?void 0:i.hover_effect,C=f.k.getHoverEffectClass(S);return this.hasActiveLink(n)?g.qy`<div
          class="camera-module-clickable ${C}"
          @click=${e=>this.handleClick(e,n,t)}
          @dblclick=${e=>this.handleDoubleClick(e,n,t)}
          @mousedown=${e=>this.handleMouseDown(e,n,t)}
          @mouseup=${e=>this.handleMouseUp(e,n,t)}
          @mouseleave=${e=>this.handleMouseLeave(e,n,t)}
          @touchstart=${e=>this.handleTouchStart(e,n,t)}
          @touchend=${e=>this.handleTouchEnd(e,n,t)}
        >
          ${z}
        </div>`:C?g.qy`<div class="camera-module-container ${C}">${z}</div>`:z}renderLogicTab(e,t,i,n){return v.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];return t.template_mode||t.entity&&""!==t.entity.trim()||i.push("Camera entity is required when not using template mode"),!t.template_mode||t.template&&""!==t.template.trim()||i.push("Template code is required when template mode is enabled"),!1!==t.auto_refresh&&t.refresh_interval&&(t.refresh_interval<5||t.refresh_interval>300)&&i.push("Refresh interval must be between 5 and 300 seconds"),t.border_radius&&isNaN(Number(t.border_radius))&&i.push("Border radius must be a number"),t.tap_action&&t.tap_action.action&&i.push(...this.validateAction(t.tap_action)),t.hold_action&&t.hold_action.action&&i.push(...this.validateAction(t.hold_action)),t.double_tap_action&&t.double_tap_action.action&&i.push(...this.validateAction(t.double_tap_action)),{valid:0===i.length,errors:i}}handleClick(e,t,i){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i)}),300)}handleDoubleClick(e,t,i){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i)}handleMouseDown(e,t,i){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i)}),500)}handleMouseUp(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null)}handleMouseLeave(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTouchStart(e,t,i){this.handleMouseDown(e,t,i)}handleTouchEnd(e,t,i){this.handleMouseUp(e,t,i)}handleTapAction(e,t,i){if(!this.isHolding)if(t.tap_action){const n="default"===t.tap_action.action?{action:"more-info",entity:t.entity}:t.tap_action;b.K.handleAction(n,i,e.target)}else t.entity&&b.K.handleAction({action:"more-info",entity:t.entity},i,e.target)}handleHoldAction(e,t,i){t.hold_action&&"nothing"!==t.hold_action.action&&b.K.handleAction(t.hold_action,i,e.target)}handleDoubleAction(e,t,i){t.double_tap_action&&"nothing"!==t.double_tap_action.action&&b.K.handleAction(t.double_tap_action,i,e.target)}_handleDimensionChange(e,t,i,n){const o={};if(!1!==e.aspect_ratio_linked){const n=e.aspect_ratio_value||1.778;"width"===t?(o.width=i,o.height=Math.round(i/n)):(o.height=i,o.width=Math.round(i*n)),o.width&&(o.width<100||o.width>1e3)&&(o.width=Math.max(100,Math.min(1e3,o.width)),o.height=Math.round(o.width/n)),o.height&&(o.height<100||o.height>1e3)&&(o.height=Math.max(100,Math.min(1e3,o.height)),o.width=Math.round(o.height*n))}else o[t]=i;n(o)}getCameraNamePositionStyles(e,t,i={}){const n={position:"absolute",padding:"6px 12px",background:"rgba(0, 0, 0, 0.7)",color:i.color||this.getTextColor(t),fontSize:i.font_size?"number"==typeof i.font_size?`${i.font_size}px`:i.font_size:this.getTextSize(t),fontWeight:i.font_weight||this.getTextWeight(t),fontFamily:i.font_family||this.getTextFont(t),borderRadius:"4px",textTransform:i.text_transform||void 0,letterSpacing:i.letter_spacing||void 0,lineHeight:i.line_height||void 0,zIndex:"10",pointerEvents:"none",backdropFilter:"blur(4px)",maxWidth:"calc(100% - 20px)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textShadow:i.text_shadow||"0 1px 2px rgba(0, 0, 0, 0.8)",transition:"all 0.2s ease"};switch(e){case"top-left":default:return Object.assign(Object.assign({},n),{top:"8px",left:"8px"});case"top-right":return Object.assign(Object.assign({},n),{top:"8px",right:"8px"});case"center":return Object.assign(Object.assign({},n),{top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"});case"bottom-left":return Object.assign(Object.assign({},n),{bottom:"8px",left:"8px"});case"bottom-right":return Object.assign(Object.assign({},n),{bottom:"8px",right:"8px"})}}hasActiveLink(e){const t=e.tap_action&&"nothing"!==e.tap_action.action,i=e.hold_action&&"nothing"!==e.hold_action.action,n=e.double_tap_action&&"nothing"!==e.double_tap_action.action;return t||i||n||!!e.entity}refreshCamera(e,t){document.querySelectorAll('hui-image[class*="camera-image"]').forEach((i=>{i.cameraImage===e&&i.hass===t&&(i.hass=Object.assign({},t),i.requestUpdate())}))}getCameraImageUrl(e,t,i){if(!e||!t)return"";let n;try{n=t.hassUrl?`${t.hassUrl()}/api/camera_proxy/${e}`:`/api/camera_proxy/${e}`;const i=n.includes("?")?"&":"?";n+=`${i}token=${Date.now()}`}catch(t){n=`/api/camera_proxy/${e}?token=${Date.now()}`}return n}async getCameraImageBlob(e,t,i){try{const i=`/api/camera_proxy/${e}?t=${Date.now()}`,n=await fetch(i,{method:"GET",credentials:"include",headers:{Accept:"image/*","Cache-Control":"no-cache",Pragma:"no-cache"}});if(!n.ok)return await this.getCameraImageViaWebSocket(e,t);const o=await n.blob();return URL.createObjectURL(o)}catch(i){return await this.getCameraImageViaWebSocket(e,t)}}async getCameraImageViaWebSocket(e,t){try{const i=t.connection;if(!i)throw new Error("No WebSocket connection available");const n=await i.sendMessagePromise({type:"camera_thumbnail",entity_id:e});if(n&&n.content){const e=atob(n.content),t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);const i=new Uint8Array(t),o=new Blob([i],{type:"image/jpeg"});return URL.createObjectURL(o)}throw new Error("No image content received from WebSocket")}catch(e){return""}}async handleImageError(e,t){var i,n,o,a,r,l,s,d,c,u;const p=e.target;if(!p.dataset.triedBlob&&t.entity){p.dataset.triedBlob="true";try{const e=(null===(i=document.querySelector("home-assistant"))||void 0===i?void 0:i.hass)||(null===(n=document.querySelector("ha-panel-lovelace"))||void 0===n?void 0:n.hass)||(null===(o=window.hassConnection)||void 0===o?void 0:o.hass);if(e){const i=await this.getCameraImageBlob(t.entity,e,t.image_quality);if(i)return void(p.src=i)}}catch(e){}}if(t.fallback_image)p.src=t.fallback_image;else{p.style.display="none";const e=p.closest(".camera-image-container");if(e){const i=t.entity?null===(l=null===(r=null===(a=document.querySelector("home-assistant"))||void 0===a?void 0:a.hass)||void 0===r?void 0:r.states)||void 0===l?void 0:l[t.entity]:null,n=(null===(s=null==i?void 0:i.attributes)||void 0===s?void 0:s.brand)||(null===(d=null==i?void 0:i.attributes)||void 0===d?void 0:d.model)||"Unknown",o=(null===(c=document.querySelector("home-assistant"))||void 0===c||c.hass,t);if(e.innerHTML=`\n          <div style="\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            background-color: var(--warning-color, #ff9800);\n            color: ${this.getTextColor(o)};\n            padding: 20px;\n            border-radius: 8px;\n            text-align: center;\n            min-height: 150px;\n            border: 1px solid rgba(255,255,255,0.2);\n            font-family: ${this.getTextFont(o)};\n          ">\n            <ha-icon icon="mdi:camera-off" style="font-size: 48px; margin-bottom: 12px; opacity: 0.9;"></ha-icon>\n            <span style="font-weight: ${this.getTextWeight(o)}; font-size: ${this.getTextSize(o)}; margin-bottom: 8px;">Camera Load Failed</span>\n            <span style="font-size: ${this.getSmallTextSize(o)}; margin-bottom: 8px; opacity: 0.9;">Entity: ${t.entity}</span>\n            <span style="font-size: ${this.getSmallTextSize(o)}; margin-bottom: 12px; opacity: 0.8;">Camera Type: ${n}</span>\n            <div style="font-size: ${this.getSmallTextSize(o)}; opacity: 0.8; line-height: 1.4; margin-bottom: 12px;">\n              <div style="margin-bottom: 6px;">• Check camera entity is working in HA</div>\n              <div style="margin-bottom: 6px;">• Verify RTSP credentials in HA config</div>\n              <div>• Try refreshing the browser</div>\n            </div>\n            <button \n              onclick="window.retryCamera_${null===(u=t.entity)||void 0===u?void 0:u.replace(/\./g,"_")}"\n              style="\n                background: rgba(255,255,255,0.2);\n                border: 1px solid rgba(255,255,255,0.3);\n                color: white;\n                padding: 8px 16px;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: ${this.getSmallTextSize(o)};\n                font-family: ${this.getTextFont(o)};\n                transition: all 0.2s ease;\n              "\n              onmouseover="this.style.background='rgba(255,255,255,0.3)'"\n              onmouseout="this.style.background='rgba(255,255,255,0.2)'"\n            >\n              🔄 Retry Camera Load\n            </button>\n          </div>\n        `,t.entity){const i=`retryCamera_${t.entity.replace(/\./g,"_")}`;window[i]=async()=>{var i;if(null===(i=document.querySelector("home-assistant"))||void 0===i?void 0:i.hass)try{const i=Date.now(),n=`/api/camera_proxy/${t.entity}?t=${i}`,a=document.createElement("img");a.className="camera-image",a.style.cssText=`\n                  position: absolute;\n                  top: 0;\n                  left: 0;\n                  width: 100%;\n                  height: 100%;\n                  object-fit: ${t.image_fit||"cover"};\n                  border-radius: inherit;\n                `,a.onerror=e=>{"string"!=typeof e&&this.handleImageError(e,t)},a.onload=()=>{e&&(e.innerHTML="",e.appendChild(a))},a.src=n,e&&(e.innerHTML=`\n                    <div style="\n                      display: flex;\n                      align-items: center;\n                      justify-content: center;\n                      flex-direction: column;\n                      background-color: var(--primary-color);\n                      color: ${this.getTextColor(o)};\n                      padding: 20px;\n                      border-radius: 8px;\n                      text-align: center;\n                      min-height: 150px;\n                      font-family: ${this.getTextFont(o)};\n                    ">\n                      <div style="\n                        width: 32px;\n                        height: 32px;\n                        border: 3px solid rgba(255,255,255,0.3);\n                        border-top: 3px solid white;\n                        border-radius: 50%;\n                        animation: spin 1s linear infinite;\n                        margin-bottom: 12px;\n                      "></div>\n                      <span style="font-weight: ${this.getTextWeight(o)}; font-size: ${this.getTextSize(o)};">Retrying Camera Load...</span>\n                      <style>\n                        @keyframes spin {\n                          0% { transform: rotate(0deg); }\n                          100% { transform: rotate(360deg); }\n                        }\n                      </style>\n                    </div>\n                  `)}catch(e){console.error("🎥 Retry failed:",e)}}}}}}renderConditionalFieldsGroup(e,t){return g.qy`
      <div
        class="conditional-fields-group"
        style="margin-top: 16px; padding: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0;"
      >
        <div
          style="font-weight: 600; color: var(--primary-color); margin-bottom: 12px; font-size: 14px;"
        >
          ${e}
        </div>
        ${t}
      </div>
    `}getTextColor(e){return e.text_color||"white"}getTextSize(e){const t=e.text_size||14;return"number"==typeof t?`${t}px`:t}getSmallTextSize(e){const t=e.text_size||14;return`${"number"==typeof t?Math.max(10,t-2):12}px`}getTextWeight(e){return e.text_weight||"500"}getTextFont(e){return e.text_font||'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}styleObjectToCss(e){return Object.entries(e).filter((([e,t])=>null!=t&&""!==t)).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e&&/^\d+$/.test(e)?`${e}px`:e}getPaddingWithDesign(e,t){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${e.padding_top||"8px"} ${e.padding_right||"12px"} ${e.padding_bottom||"8px"} ${e.padding_left||"12px"}`:this.getPaddingCSS(t)}getMarginWithDesign(e,t){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${e.margin_top||"0px"} ${e.margin_right||"0px"} ${e.margin_bottom||"0px"} ${e.margin_left||"0px"}`:this.getMarginCSS(t)}getBorderWithDesign(e,t){return e.border_width&&e.border_style&&e.border_color?`${e.border_width} ${e.border_style} ${e.border_color}`:this.getBorderCSS(t)}getBackgroundImageWithDesign(e,t,i){return"url"===e.background_image_type&&e.background_image?`url('${e.background_image}')`:"entity"===e.background_image_type&&e.background_image_entity&&i.states[e.background_image_entity]?`url('/api/camera_proxy/${e.background_image_entity}')`:this.getBackgroundImageCSS(t,i)}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"8px"} ${this.addPixelUnit(e.padding_right)||"12px"} ${this.addPixelUnit(e.padding_bottom)||"8px"} ${this.addPixelUnit(e.padding_left)||"12px"}`:"8px 12px"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0px"} ${this.addPixelUnit(e.margin_right)||"0px"} ${this.addPixelUnit(e.margin_bottom)||"0px"} ${this.addPixelUnit(e.margin_left)||"0px"}`:"0px"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){return"url"===e.background_image_type&&e.background_image?`url('${e.background_image}')`:"entity"===e.background_image_type&&e.background_image_entity&&t.states[e.background_image_entity]?`url('/api/camera_proxy/${e.background_image_entity}')`:""}getBorderCSS(e){return e.border_width&&e.border_style&&e.border_color?`${e.border_width} ${e.border_style} ${e.border_color}`:""}validateAction(e){const t=[];return"navigate"!==e.action||e.navigation_path||t.push("Navigation path is required for navigate action"),"call-service"!==e.action||e.service&&e.service_data||t.push("Service and service data are required for call-service action"),t}getStyles(){return"\n      .camera-module-container {\n        width: 100%;\n        box-sizing: border-box;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-name-overlay {\n        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);\n        backdrop-filter: blur(4px);\n        -webkit-backdrop-filter: blur(4px);\n        transition: all 0.2s ease;\n      }\n      \n      .camera-image-container {\n        position: relative;\n        overflow: hidden;\n        margin: 0 auto;\n        flex-shrink: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-image {\n        width: 100%;\n        height: 100%;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-unavailable {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        background-color: var(--disabled-color, #f5f5f5);\n        color: var(--secondary-text-color);\n        min-height: 150px;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-module-clickable {\n        cursor: pointer;\n        transition: transform 0.2s ease;\n      }\n      \n      .camera-module-clickable:hover {\n        transform: scale(1.02);\n      }\n      \n      .camera-module-clickable:active {\n        transform: scale(0.98);\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n     \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Conditional fields grouping */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Global design responsive text */\n      .camera-module-container * {\n        transition: font-size 0.3s ease, color 0.3s ease, font-weight 0.3s ease;\n      }\n\n      /* Enhanced animations for global design changes */\n      @keyframes textSizeChange {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.02); }\n        100% { transform: scale(1); }\n      }\n\n      .camera-module-container.design-updating {\n        animation: textSizeChange 0.3s ease;\n      }\n    "}}var x=i(345),w=i(276),$=i(340),z=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let S=class extends g.WF{static get styles(){return g.AH`
      ha-entity-picker {
        width: 100%;
        display: block;
      }
    `}render(){return g.qy`
      <ha-entity-picker
        .hass=${this.hass}
        .label=${this.label}
        .value=${this.value||""}
        .entityFilter=${this.entityFilter}
        @value-changed=${this._valueChanged}
        allow-custom-entity
      ></ha-entity-picker>
    `}_valueChanged(e){e.stopPropagation();const t=e.detail.value;t!==this.value&&(this.value=t,(0,$.rC)(this,"value-changed",{value:t}))}};z([(0,w.MZ)({attribute:!1})],S.prototype,"hass",void 0),z([(0,w.MZ)()],S.prototype,"label",void 0),z([(0,w.MZ)()],S.prototype,"value",void 0),z([(0,w.MZ)()],S.prototype,"entityFilter",void 0),S=z([(0,w.EM)("ultra-card-entity-picker")],S),i(768);var C=i(381),A=i(57);class j extends m.m{constructor(){super(...arguments),this.metadata={type:"graphs",title:"Graphs",description:"Display interactive charts and graphs with Home Assistant data",author:"WJD Designs",version:"1.0.0",icon:"mdi:chart-line",category:"data",tags:["charts","graphs","data","visualization","statistics","analytics"]},this._updateInterval=null,this._historyData={},this._historyError={},this._historyLoading={},this._deferredHistoryScheduled={},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1,this.expandedEntities=new Set}_getCacheStore(){const e=window;if(!e.__ultraGraphsCache)try{const t=localStorage.getItem("__ultraGraphsCache");e.__ultraGraphsCache=t?JSON.parse(t):{}}catch(t){e.__ultraGraphsCache={}}return e.__ultraGraphsCache}_persistCacheStore(e){try{localStorage.setItem("__ultraGraphsCache",JSON.stringify(e))}catch(e){}}_makeCacheKey(e){return`${(e.entities||[]).filter((e=>e.entity)).map((e=>`${e.entity}|${e.attribute||"state"}`)).join(";")}::${e.time_period}`}_tryReadCache(e){const t=this._getCacheStore(),i=this._makeCacheKey(e),n=t[i];if(!n)return null;const o=Date.now();return n.expiresAt&&n.expiresAt>o&&n.data?n.data:(delete t[i],this._persistCacheStore(t),null)}_writeCache(e,t){const i=this._getCacheStore();i[this._makeCacheKey(e)]={expiresAt:Date.now()+3e5,data:t},this._persistCacheStore(i)}createDefault(e,t){return{id:e||this.generateId("graphs"),type:"graphs",name:"New Graph",chart_type:"line",entities:[],time_period:"24h",title:"Chart",chart_width:"100%",chart_width_percent:100,chart_height:345,background_color:"transparent",show_title:!0,chart_alignment:"center",show_display_name:!0,show_entity_value:!0,info_position:"top_left",show_legend:!0,legend_position:"bottom_left",show_grid:!0,smooth_curves:!0,show_tooltips:!0,show_slice_labels:!0,tap_action:{action:"default"},hold_action:{action:"default"},double_tap_action:{action:"default"},template_mode:!1,template:"",display_mode:"always",display_conditions:[]}}getChartTypeOptions(e){return[{value:"line",label:(0,y.kg)("editor.graphs.types.line",e,"Line Chart")},{value:"bar",label:(0,y.kg)("editor.graphs.types.bar",e,"Bar Chart")},{value:"pie",label:(0,y.kg)("editor.graphs.types.pie",e,"Pie Chart")},{value:"donut",label:(0,y.kg)("editor.graphs.types.donut",e,"Donut Chart")}]}getTimePeriodOptions(e){return[{value:"1h",label:(0,y.kg)("editor.graphs.period.1h",e,"Last Hour")},{value:"3h",label:(0,y.kg)("editor.graphs.period.3h",e,"Last 3 Hours")},{value:"6h",label:(0,y.kg)("editor.graphs.period.6h",e,"Last 6 Hours")},{value:"12h",label:(0,y.kg)("editor.graphs.period.12h",e,"Last 12 Hours")},{value:"24h",label:(0,y.kg)("editor.graphs.period.24h",e,"Last 24 Hours")},{value:"2d",label:(0,y.kg)("editor.graphs.period.2d",e,"Last 2 Days")},{value:"7d",label:(0,y.kg)("editor.graphs.period.7d",e,"Last Week")},{value:"30d",label:(0,y.kg)("editor.graphs.period.30d",e,"Last Month")},{value:"90d",label:(0,y.kg)("editor.graphs.period.90d",e,"Last 3 Months")},{value:"365d",label:(0,y.kg)("editor.graphs.period.365d",e,"Last Year")}]}getAggregationOptions(e){return[{value:"mean",label:(0,y.kg)("editor.graphs.agg.mean",e,"Average")},{value:"sum",label:(0,y.kg)("editor.graphs.agg.sum",e,"Sum")},{value:"min",label:(0,y.kg)("editor.graphs.agg.min",e,"Minimum")},{value:"max",label:(0,y.kg)("editor.graphs.agg.max",e,"Maximum")},{value:"median",label:(0,y.kg)("editor.graphs.agg.median",e,"Median")},{value:"first",label:(0,y.kg)("editor.graphs.agg.first",e,"First Value")},{value:"last",label:(0,y.kg)("editor.graphs.agg.last",e,"Last Value")},{value:"count",label:(0,y.kg)("editor.graphs.agg.count",e,"Count")},{value:"delta",label:(0,y.kg)("editor.graphs.agg.delta",e,"Change")}]}getLegendPositionOptions(e){return[{value:"top",label:(0,y.kg)("editor.graphs.position.top",e,"Top")},{value:"bottom",label:(0,y.kg)("editor.graphs.position.bottom",e,"Bottom")},{value:"left",label:(0,y.kg)("editor.graphs.position.left",e,"Left")},{value:"right",label:(0,y.kg)("editor.graphs.position.right",e,"Right")},{value:"none",label:(0,y.kg)("editor.graphs.position.hidden",e,"Hidden")}]}renderGeneralTab(e,t,i,n){var o,a,r,l,s,d,c;const u=e,p=(null===(o=null==t?void 0:t.locale)||void 0===o?void 0:o.language)||"en";return g.qy`
      <div class="uc-graphs-general-tab">
        ${_.Q.injectCleanFormStyles()}

        <!-- Chart Type Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:chart-line" style="color: var(--primary-color);"></ha-icon>
            ${(0,y.kg)("editor.graphs.chart_type.title",p,"Chart Type")}
          </div>

          ${_.Q.renderField((0,y.kg)("editor.graphs.chart_type.type",p,"Type"),(0,y.kg)("editor.graphs.chart_type.desc",p,"Select the visualization style for your data."),t,{chart_type:u.chart_type},[_.Q.createSchemaItem("chart_type",{select:{options:this.getChartTypeOptions(p),mode:"dropdown"}})],(e=>n({chart_type:e.detail.value.chart_type})))}
        </div>

        <!-- Data Sources Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:database" style="color: var(--primary-color);"></ha-icon>
            ${(0,y.kg)("editor.graphs.data_sources.title",p,"Data Sources")}
          </div>

          <div class="entities-grid" style="display: grid; gap: 12px;">
            ${(null===(a=u.entities)||void 0===a?void 0:a.map(((e,i)=>{var o,a,r;return g.qy`
                <div
                  class="entity-card"
                  style="
                    background: var(--primary-background-color); 
                    border-radius: 8px; 
                    padding: 16px; 
                    border-left: 4px solid ${e.color||this._getDefaultColor(i)};
                    position: relative;
                    transition: all 0.2s ease;
                  "
                >
                  ${((null===(o=u.entities)||void 0===o?void 0:o.length)||0)>1?g.qy`
                        <ha-icon-button
                          @click=${()=>this._removeEntity(u,i,n)}
                          style="
                        position: absolute;
                        top: 8px;
                        right: 8px;
                        --mdc-icon-button-size: 32px;
                        --mdc-icon-size: 16px;
                        color: var(--error-color);
                      "
                        >
                          <ha-icon icon="mdi:close"></ha-icon>
                        </ha-icon-button>
                      `:""}

                  <div
                    style="display: grid; gap: 12px; margin-top: ${((null===(a=u.entities)||void 0===a?void 0:a.length)||0)>1?"20px":"0"};"
                  >
                    <!-- Entity Header -->
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                      <div style="flex: 1; display: flex; align-items: center; gap: 8px;">
                        <div
                          style="
                             width: 12px;
                             height: 12px;
                             background: ${e.color||this._getDefaultColor(i)};
                             border-radius: 2px;
                             flex-shrink: 0;
                           "
                        ></div>
                        <span
                          style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);"
                        >
                          ${e.name||(e.entity?(null===(r=t.states[e.entity])||void 0===r?void 0:r.attributes.friendly_name)||e.entity.split(".")[1]:`Entity ${i+1}`)}
                        </span>
                      </div>
                    </div>

                    <!-- Basic Settings (Always Visible) -->
                    <div style="display: grid; gap: 12px;">
                      <!-- Entity Picker -->
                      ${_.Q.renderField((0,y.kg)("editor.graphs.entity.label",p,"Entity"),(0,y.kg)("editor.graphs.entity.desc",p,"Select an entity to plot."),t,{entity:e.entity||""},[_.Q.createSchemaItem("entity",{entity:{}})],(e=>{var t,o;this._updateEntity(u,i,{entity:(null===(t=e.detail.value)||void 0===t?void 0:t.entity)||(null===(o=e.detail.value)||void 0===o?void 0:o.entity)||e.detail.value},n)}))}

                      <!-- Display Name -->
                      <input
                        type="text"
                        .value=${e.name||""}
                        placeholder="${(0,y.kg)("editor.graphs.entity.display_name_placeholder",p,"Display name (optional)")}"
                        @input=${e=>{const t=e.target;this._updateEntity(u,i,{name:t.value},n)}}
                        style="
                          padding: 10px 12px;
                          border: 1px solid var(--divider-color);
                          border-radius: 6px;
                          background: var(--secondary-background-color);
                          color: var(--primary-text-color);
                          font-size: 14px;
                          transition: border-color 0.2s ease;
                        "
                      />

                      <!-- Series Color (below name) -->
                      <div style="margin-top: 4px;">
                        <ultra-color-picker
                          .value=${e.color||this._getDefaultColor(i)}
                          @value-changed=${e=>{this._updateEntity(u,i,{color:e.detail.value},n)}}
                          style="width: 100%; height: 40px;"
                        ></ultra-color-picker>
                      </div>

                      <!-- Primary entity toggle -->
                      <label
                        style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px; background: var(--primary-background-color);"
                      >
                        <ha-switch
                          .checked=${!0===e.is_primary||0===i&&!(u.entities||[]).some((e=>e.is_primary))}
                          @change=${e=>{const t=e.target,o=u.entities||[];let a;a=t.checked?o.map(((e,t)=>Object.assign(Object.assign({},e),{is_primary:t===i}))):o.some(((e,t)=>t!==i&&e.is_primary))?o.map(((e,t)=>t===i?Object.assign(Object.assign({},e),{is_primary:!1}):e)):o.map(((e,t)=>Object.assign(Object.assign({},e),{is_primary:t===i}))),n({entities:a})}}
                        ></ha-switch>
                        <span style="font-size:13px; color: var(--primary-text-color);"
                          >${(0,y.kg)("editor.graphs.entity.use_as_card_info",p,"Use as card info")}</span
                        >
                      </label>
                    </div>

                    <!-- Advanced Options (Collapsible) -->
                    <div
                      class="entity-advanced-options"
                      style="
                        max-height: 0;
                        overflow: hidden;
                        transition: max-height 0.3s ease, opacity 0.2s ease;
                        opacity: 0;
                        border-top: none;
                        margin-top: 0;
                      "
                    >
                      <div style="padding-top: 16px; display: grid; gap: 16px;">
                        <!-- Attribute Selection -->
                        ${_.Q.renderField((0,y.kg)("editor.graphs.entity.attribute",p,"Attribute"),(0,y.kg)("editor.graphs.entity.attribute_desc",p,"Use entity state or select a specific attribute to track."),t,{attribute:e.attribute||""},[_.Q.createSchemaItem("attribute",{select:{options:[{value:"",label:(0,y.kg)("editor.graphs.entity.state_default",p,"State (default)")},...this._getEntityAttributes(e.entity,t)],mode:"dropdown"}})],(e=>{this._updateEntity(u,i,{attribute:e.detail.value.attribute},n)}))}

                        <!-- Line Chart Specific Options -->
                        ${["line","area"].includes(u.chart_type)?g.qy`
                              <div
                                style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"
                              >
                                <label
                                  style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                                >
                                  <ha-switch
                                    .checked=${!1!==e.show_points}
                                    @change=${e=>{const t=e.target;this._updateEntity(u,i,{show_points:t.checked},n)}}
                                  ></ha-switch>
                                  <span style="font-size: 13px; color: var(--primary-text-color);"
                                    >${(0,y.kg)("editor.graphs.line.show_points",p,"Show Points")}</span
                                  >
                                </label>

                                <label
                                  style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                                >
                                  <ha-switch
                                    .checked=${!0===e.fill_area}
                                    @change=${e=>{const t=e.target;this._updateEntity(u,i,{fill_area:t.checked},n)}}
                                  ></ha-switch>
                                  <span style="font-size: 13px; color: var(--primary-text-color);"
                                    >${(0,y.kg)("editor.graphs.line.fill_area",p,"Fill Area")}</span
                                  >
                                </label>
                              </div>

                              <!-- Line Width and Style -->
                              <div
                                style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"
                              >
                                <div>
                                  <label
                                    style="display: block; font-size: 13px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
                                  >
                                    ${(0,y.kg)("editor.graphs.line.line_width",p,"Line Width")}:
                                    ${e.line_width||2}px
                                  </label>
                                  <input
                                    type="range"
                                    min="1"
                                    max="8"
                                    step="1"
                                    .value=${e.line_width||2}
                                    @input=${e=>{const t=e.target;this._updateEntity(u,i,{line_width:parseInt(t.value)},n)}}
                                    style="
                                      width: 100%;
                                      height: 4px;
                                      background: var(--divider-color);
                                      border-radius: 2px;
                                      outline: none;
                                      -webkit-appearance: none;
                                    "
                                  />
                                </div>

                                ${_.Q.renderField((0,y.kg)("editor.graphs.line.line_style",p,"Line Style"),"",t,{line_style:e.line_style||"solid"},[_.Q.createSchemaItem("line_style",{select:{options:[{value:"solid",label:(0,y.kg)("editor.graphs.line_styles.solid",p,"Solid")},{value:"dashed",label:(0,y.kg)("editor.graphs.line_styles.dashed",p,"Dashed")},{value:"dotted",label:(0,y.kg)("editor.graphs.line_styles.dotted",p,"Dotted")}],mode:"dropdown"}})],(e=>{this._updateEntity(u,i,{line_style:e.detail.value.line_style},n)}))}
                              </div>
                            `:""}
                        ${["pie","donut"].includes(u.chart_type)?g.qy`
                              <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                              >
                                <ha-switch
                                  .checked=${!1!==e.label_show_name}
                                  @change=${e=>{const t=e.target;this._updateEntity(u,i,{label_show_name:t.checked},n)}}
                                ></ha-switch>
                                <span style="font-size: 13px; color: var(--primary-text-color);"
                                  >${(0,y.kg)("editor.graphs.pie.show_title",p,"Show Title in Slice")}</span
                                >
                              </label>
                              <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                              >
                                <ha-switch
                                  .checked=${!1!==e.label_show_value}
                                  @change=${e=>{const t=e.target;this._updateEntity(u,i,{label_show_value:t.checked},n)}}
                                ></ha-switch>
                                <span style="font-size: 13px; color: var(--primary-text-color);"
                                  >${(0,y.kg)("editor.graphs.pie.show_value",p,"Show Value in Slice")}</span
                                >
                              </label>
                            `:""}
                      </div>
                    </div>

                    <!-- Expand/Collapse Button -->
                    <div style="display:flex; justify-content:center; margin-top: 12px;">
                      <ha-button
                        @click=${e=>this._toggleEntityOptions(e,i)}
                        style="--mdc-theme-primary: var(--secondary-text-color); background: transparent;"
                      >
                        <span style="display:inline-flex; align-items:center; gap:6px;">
                          <ha-icon
                            icon="mdi:chevron-down"
                            class="entity-toggle-btn"
                            style="--mdc-icon-size:20px;"
                          ></ha-icon>
                          <span
                            >${(0,y.kg)("editor.graphs.entity.expand_options",p,"Expand Options")}</span
                          >
                        </span>
                      </ha-button>
                    </div>
                  </div>
                </div>
              `})))||""}
            ${0===((null===(r=u.entities)||void 0===r?void 0:r.length)||0)?g.qy`
                  <div
                    style="
                  text-align: center; 
                  padding: 40px 20px; 
                  color: var(--secondary-text-color); 
                  background: var(--primary-background-color); 
                  border-radius: 8px; 
                  border: 2px dashed var(--divider-color);
                "
                  >
                    <ha-icon
                      icon="mdi:chart-line"
                      style="font-size: 48px; margin-bottom: 12px; opacity: 0.5;"
                    ></ha-icon>
                    <div style="font-size: 16px; margin-bottom: 4px; font-weight: 500;">
                      ${(0,y.kg)("editor.graphs.data_sources.no_entities",p,"No entities added")}
                    </div>
                    <div style="font-size: 14px; opacity: 0.7;">
                      ${(0,y.kg)("editor.graphs.data_sources.add_first_entity",p,"Add your first entity to create a chart")}
                    </div>
                  </div>
                `:""}

            <ha-button
              @click=${()=>this._addEntity(u,n)}
              style="
                margin-top: 8px; 
                width: 100%;
                --mdc-theme-primary: var(--primary-color);
                --mdc-button-outline-color: var(--primary-color);
              "
            >
              <ha-icon icon="mdi:plus" slot="icon"></ha-icon>
              ${(0,y.kg)("editor.graphs.data_sources.add_entity",p,"Add Entity")}
            </ha-button>
          </div>
        </div>

        <!-- Display Options Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 20px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:cog" style="color: var(--primary-color);"></ha-icon>
            ${(0,y.kg)("editor.graphs.display.title",p,"Display Options")}
          </div>

          <div style="display: grid; gap: 16px;">
            <!-- Show Graph Title Toggle -->
            <label
              style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
            >
              <ha-switch
                .checked=${!1!==u.show_title}
                @change=${e=>{const t=e.target;n({show_title:t.checked})}}
              ></ha-switch>
              <span>${(0,y.kg)("editor.graphs.display.show_title",p,"Show Graph Title")}</span>
            </label>

            <!-- Show Graph Value Toggle -->
            <label
              style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
            >
              <ha-switch
                .checked=${!1!==u.show_entity_value}
                @change=${e=>{const t=e.target;n({show_entity_value:t.checked})}}
              ></ha-switch>
              <span>${(0,y.kg)("editor.graphs.display.show_value",p,"Show Graph Value")}</span>
            </label>

            <!-- Chart Title -->
            ${!1!==u.show_title?g.qy`<div>
                  <label
                    style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
                  >
                    ${(0,y.kg)("editor.graphs.display.chart_title",p,"Chart Title")}
                  </label>
                  <input
                    type="text"
                    .value=${u.title||""}
                    placeholder="${(0,y.kg)("editor.graphs.display.chart_title_placeholder",p,"Enter chart title")}"
                    @input=${e=>{const t=e.target;n({title:t.value})}}
                    style="
                      width: 100%;
                      padding: 10px 12px;
                      border: 1px solid var(--divider-color);
                      border-radius: 6px;
                      background: var(--secondary-background-color);
                      color: var(--primary-text-color);
                      font-size: 14px;
                      transition: border-color 0.2s ease;
                      box-sizing: border-box;
                    "
                  />
                </div>`:""}

            <!-- Time Period -->
            ${_.Q.renderField((0,y.kg)("editor.graphs.display.time_period",p,"Time Period"),(0,y.kg)("editor.graphs.display.time_period_desc",p,"How much historical data to show."),t,{time_period:u.time_period},[_.Q.createSchemaItem("time_period",{select:{options:this.getTimePeriodOptions(p),mode:"dropdown"}})],(e=>{const i=e.detail.value.time_period;n({time_period:i}),delete this._historyData[u.id],delete this._historyError[u.id],delete this._historyLoading[u.id],delete this._deferredHistoryScheduled[u.id];const o=Object.assign(Object.assign({},u),{time_period:i});this._loadHistoryData(o,t),this._triggerHistoryLoad(o,t),this.requestUpdate()}))}

            <!-- Normalize Values Toggle -->
            <div style="margin-bottom: 16px;">
              <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                <ha-switch
                  .checked=${u.normalize_values||!1}
                  @change=${e=>n({normalize_values:e.target.checked})}
                ></ha-switch>
                <span style="font-size: 14px;"
                  >${(0,y.kg)("editor.graphs.display.normalize_values",p,"Normalize values to same scale")}</span
                >
              </label>
              <div
                style="font-size: 12px; color: var(--secondary-text-color); margin-top: 4px; margin-left: 40px;"
              >
                ${(0,y.kg)("editor.graphs.display.normalize_desc",p,"Useful when comparing entities with different units (e.g., % vs miles)")}
              </div>
            </div>

            <!-- Chart Height -->
            <div>
              <label
                style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
              >
                ${(0,y.kg)("editor.graphs.display.chart_height",p,"Chart Height")}
              </label>
              <div
                style="display: grid; grid-template-columns: 1fr auto auto; gap: 8px; align-items: center;"
              >
                <input
                  type="range"
                  min="80"
                  max="400"
                  step="5"
                  .value=${null!==(l=u.chart_height)&&void 0!==l?l:345}
                  @input=${e=>{const t=e.target,i=parseInt(t.value);n({chart_height:i})}}
                  style="
                    width: 100%;
                    height: 4px;
                    background: var(--divider-color);
                    border-radius: 2px;
                    outline: none;
                    -webkit-appearance: none;
                  "
                />
                <span
                  style="font-size: 13px; color: var(--secondary-text-color); min-width: 56px; text-align: right;"
                  >${null!==(s=u.chart_height)&&void 0!==s?s:345}px</span
                >
                <button
                  @click=${()=>n({chart_height:345})}
                  title="${(0,y.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","345px")}"
                  style="
                    width: 32px;
                    height: 32px;
                    padding: 0;
                    border: 1px solid var(--divider-color);
                    border-radius: 4px;
                    background: var(--secondary-background-color);
                    color: var(--primary-text-color);
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.2s ease;
                    flex-shrink: 0;
                  "
                  @mouseenter=${e=>{const t=e.target;t.style.background="var(--primary-color)",t.style.color="var(--text-primary-color)",t.style.borderColor="var(--primary-color)"}}
                  @mouseleave=${e=>{const t=e.target;t.style.background="var(--secondary-background-color)",t.style.color="var(--primary-text-color)",t.style.borderColor="var(--divider-color)"}}
                >
                  <ha-icon icon="mdi:refresh" style="font-size: 18px;"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Chart Width (%) -->
            <div>
              <label
                style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
              >
                ${(0,y.kg)("editor.graphs.display.chart_width",p,"Chart Width (%)")}
              </label>
              <div
                style="display: grid; grid-template-columns: 1fr auto auto; gap: 8px; align-items: center;"
              >
                <input
                  type="range"
                  min="10"
                  max="100"
                  step="1"
                  .value=${null!==(d=u.chart_width_percent)&&void 0!==d?d:100}
                  @input=${e=>{const t=e.target,i=Math.max(10,Math.min(100,parseInt(t.value)));n({chart_width_percent:i})}}
                  style="
                    width: 100%;
                    height: 4px;
                    background: var(--divider-color);
                    border-radius: 2px;
                    outline: none;
                    -webkit-appearance: none;
                  "
                />
                <span
                  style="font-size: 13px; color: var(--secondary-text-color); min-width: 56px; text-align: right;"
                  >${null!==(c=u.chart_width_percent)&&void 0!==c?c:100}%</span
                >
                <button
                  @click=${()=>n({chart_width_percent:100})}
                  title="Reset to default (100%)"
                  style="
                    width: 32px;
                    height: 32px;
                    padding: 0;
                    border: 1px solid var(--divider-color);
                    border-radius: 4px;
                    background: var(--secondary-background-color);
                    color: var(--primary-text-color);
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.2s ease;
                    flex-shrink: 0;
                  "
                  @mouseenter=${e=>{const t=e.target;t.style.background="var(--primary-color)",t.style.color="var(--text-primary-color)",t.style.borderColor="var(--primary-color)"}}
                  @mouseleave=${e=>{const t=e.target;t.style.background="var(--secondary-background-color)",t.style.color="var(--primary-text-color)",t.style.borderColor="var(--divider-color)"}}
                >
                  <ha-icon icon="mdi:refresh" style="font-size: 18px;"></ha-icon>
                </button>
              </div>
              <div style="font-size: 12px; color: var(--secondary-text-color); margin-top: 4px;">
                ${(0,y.kg)("editor.graphs.display.chart_width_desc",p,"Percentage of the available module width. Alignment controls placement.")}
              </div>
            </div>
            ${_.Q.renderField((0,y.kg)("editor.graphs.display.info_position",p,"Info Position"),(0,y.kg)("editor.graphs.display.info_position_desc",p,"Position of the overlay showing the name/value."),t,{info_position:u.info_position||"top_left"},[_.Q.createSchemaItem("info_position",{select:{options:[{value:"top_left",label:(0,y.kg)("editor.graphs.position.top_left",p,"Top Left")},{value:"top_right",label:(0,y.kg)("editor.graphs.position.top_right",p,"Top Right")},{value:"bottom_left",label:(0,y.kg)("editor.graphs.position.bottom_left",p,"Bottom Left")},{value:"bottom_right",label:(0,y.kg)("editor.graphs.position.bottom_right",p,"Bottom Right")},{value:"middle",label:(0,y.kg)("editor.graphs.position.middle",p,"Middle")}],mode:"dropdown"}})],(e=>n({info_position:e.detail.value.info_position})))}

            <!-- Legend Position -->
            ${!1!==u.show_legend?_.Q.renderField((0,y.kg)("editor.graphs.display.legend_position",p,"Legend Position"),(0,y.kg)("editor.graphs.display.legend_position_desc",p,"Where to place the legend when enabled."),t,{legend_position:u.legend_position||"bottom_left"},[_.Q.createSchemaItem("legend_position",{select:{options:[{value:"bottom_left",label:(0,y.kg)("editor.graphs.position.bottom_left",p,"Bottom Left")},{value:"bottom_right",label:(0,y.kg)("editor.graphs.position.bottom_right",p,"Bottom Right")},{value:"top_left",label:(0,y.kg)("editor.graphs.position.top_left",p,"Top Left")},{value:"top_right",label:(0,y.kg)("editor.graphs.position.top_right",p,"Top Right")}],mode:"dropdown"}})],(e=>n({legend_position:e.detail.value.legend_position}))):""}

            <!-- Chart Alignment -->
            ${_.Q.renderField((0,y.kg)("editor.graphs.display.chart_alignment",p,"Chart Alignment"),(0,y.kg)("editor.graphs.display.chart_alignment_desc",p,"Alignment of the chart within its container."),t,{chart_alignment:u.chart_alignment||"center"},[_.Q.createSchemaItem("chart_alignment",{select:{options:[{value:"left",label:(0,y.kg)("editor.graphs.position.left",p,"Left")},{value:"center",label:(0,y.kg)("editor.graphs.position.center",p,"Center")},{value:"right",label:(0,y.kg)("editor.graphs.position.right",p,"Right")}],mode:"dropdown"}})],(e=>n({chart_alignment:e.detail.value.chart_alignment})))}

            <!-- Background Color -->
            <div>
              <label
                style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
              >
                ${(0,y.kg)("editor.graphs.display.background_color",p,"Background Color")}
              </label>
              <ultra-color-picker
                .value=${u.background_color||"transparent"}
                @value-changed=${e=>{n({background_color:e.detail.value})}}
                style="width: 100%; height: 40px;"
              ></ultra-color-picker>
            </div>

            <!-- Chart Options -->
            <label
              style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 8px;"
              >${(0,y.kg)("editor.graphs.display.chart_options",p,"Chart Options")}</label
            >
            <label
              style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
            >
              <ha-switch
                .checked=${!1!==u.show_legend}
                @change=${e=>{const t=e.target;n({show_legend:t.checked})}}
              ></ha-switch>
              <span>${(0,y.kg)("editor.graphs.display.show_legend",p,"Show Legend")}</span>
            </label>
            ${"line"===u.chart_type?g.qy`<label
                  style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                >
                  <ha-switch
                    .checked=${!1!==u.show_grid}
                    @change=${e=>{const t=e.target;n({show_grid:t.checked})}}
                  ></ha-switch>
                  <span>${(0,y.kg)("editor.graphs.display.show_grid",p,"Show Grid")}</span>
                </label>`:""}
            ${["pie","donut"].includes(u.chart_type)?g.qy`
                  <label
                    style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                  >
                    <ha-switch
                      .checked=${Number(u.slice_gap||0)>0}
                      @change=${e=>{const t=e.target,i=(u.entities||[]).filter((e=>null==e?void 0:e.entity)).length,o=Math.max(2,Math.min(4,Math.round(360/Math.max(30*i,1))));n({slice_gap:t.checked?o:0})}}
                    ></ha-switch>
                    <span
                      >${(0,y.kg)("editor.graphs.display.add_slice_gap",p,"Add Slice Gap")}</span
                    >
                  </label>
                `:""}
            ${"line"===u.chart_type?g.qy`
                  <label
                    style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                  >
                    <ha-switch
                      .checked=${!1!==u.smooth_curves}
                      @change=${e=>{const t=e.target;n({smooth_curves:t.checked})}}
                    ></ha-switch>
                    <span
                      >${(0,y.kg)("editor.graphs.display.smooth_lines",p,"Smooth Lines")}</span
                    >
                  </label>
                `:""}
            ${"line"===u.chart_type?g.qy`<label
                  style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                >
                  <ha-switch
                    .checked=${!1!==u.show_tooltips}
                    @change=${e=>{const t=e.target;n({show_tooltips:t.checked})}}
                  ></ha-switch>
                  <span
                    >${(0,y.kg)("editor.graphs.display.show_tooltips",p,"Show Tooltips")}</span
                  >
                </label>`:""}
          </div>
        </div>
      </div>
    `}renderActionsTab(e,t,i,n){const o=e;return h.A.render(o,t,(e=>n(e)))}renderPreview(e,t){var i,n,o,a,r;const l=e,s=l,d=l.design||{};l.template_mode&&l.template&&(this._templateService||(this._templateService=new x.I(t))),this._loadHistoryData(l,t);const c=d.color||s.color||"var(--primary-text-color)",u=d.font_size||s.font_size||void 0,p=d.font_family||s.font_family||void 0,m=d.font_weight||s.font_weight||void 0,_=d.text_transform||s.text_transform||void 0,h=d.font_style||s.font_style||void 0,v=d.letter_spacing||s.letter_spacing||void 0,b=d.line_height||s.line_height||void 0,y=(()=>{const e=d.text_shadow_h||s.text_shadow_h,t=d.text_shadow_v||s.text_shadow_v,i=d.text_shadow_blur||s.text_shadow_blur,n=d.text_shadow_color||s.text_shadow_color;if(e||t||i||n)return`${e||"0px"} ${t||"0px"} ${i||"0px"} ${n||"rgba(0,0,0,0.2)"}`})(),k=d.background_color||s.background_color,w=(e={})=>{const t=[],i=e.color||c;i&&t.push(`color: ${i}`);const n=e.fontSize||u;return n&&t.push(`font-size: ${n}`),p&&t.push(`font-family: ${p}`),m&&t.push(`font-weight: ${m}`),_&&t.push(`text-transform: ${_}`),h&&t.push(`font-style: ${h}`),v&&t.push(`letter-spacing: ${v}`),b&&t.push(`line-height: ${b}`),y&&t.push(`text-shadow: ${y}`),t.join("; ")};let $={padding:d.padding_top||d.padding_bottom||d.padding_left||d.padding_right||s.padding_top||s.padding_bottom||s.padding_left||s.padding_right?`${this.addPixelUnit(d.padding_top||s.padding_top)||"0px"} ${this.addPixelUnit(d.padding_right||s.padding_right)||"0px"} ${this.addPixelUnit(d.padding_bottom||s.padding_bottom)||"0px"} ${this.addPixelUnit(d.padding_left||s.padding_left)||"0px"}`:"0",margin:d.margin_top||d.margin_bottom||d.margin_left||d.margin_right||s.margin_top||s.margin_bottom||s.margin_left||s.margin_right?`${this.addPixelUnit(d.margin_top||s.margin_top)||"0px"} ${this.addPixelUnit(d.margin_right||s.margin_right)||"0px"} ${this.addPixelUnit(d.margin_bottom||s.margin_bottom)||"0px"} ${this.addPixelUnit(d.margin_left||s.margin_left)||"0px"}`:"0",background:d.background_color&&"transparent"!==d.background_color?d.background_color:s.background_color&&"transparent"!==s.background_color?s.background_color:"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},s),d),t),backgroundSize:d.background_size||s.background_size||"cover",backgroundPosition:d.background_position||s.background_position||"center",backgroundRepeat:d.background_repeat||s.background_repeat||"no-repeat",backdropFilter:d.backdrop_filter||s.backdrop_filter||"",border:d.border_style?`${d.border_width||"1px"} ${d.border_style} ${d.border_color||"var(--divider-color)"}`:this.getBorderCSS(s),borderRadius:this.addPixelUnit(d.border_radius||s.border_radius)||"0",width:d.width||s.width||"100%",height:d.height||s.height||"",maxWidth:d.max_width||s.max_width||"",maxHeight:d.max_height||s.max_height||"",minWidth:d.min_width||s.min_width||"",minHeight:d.min_height||s.min_height||"",overflow:d.overflow||s.overflow||"",clipPath:d.clip_path||s.clip_path||"",position:d.position||s.position||"",top:d.top||s.top||"",right:d.right||s.right||"",bottom:d.bottom||s.bottom||"",left:d.left||s.left||"",zIndex:d.z_index||s.z_index||"",boxShadow:d.box_shadow_h||d.box_shadow_v||d.box_shadow_blur||d.box_shadow_spread||d.box_shadow_color?`${d.box_shadow_h||"0px"} ${d.box_shadow_v||"0px"} ${d.box_shadow_blur||"0px"} ${d.box_shadow_spread||"0px"} ${d.box_shadow_color||"rgba(0,0,0,0.2)"}`:"",boxSizing:"border-box",display:"block"};if("line"===l.chart_type&&($.padding="0"),!(l.entities&&l.entities.length>0&&l.entities.some((e=>e.entity)))){const e=k;return g.qy`
        <div class="uc-graphs-module" style="${this.styleObjectToCss($)}">
          <div
            class="chart-placeholder"
            style="
              height: ${Math.min(200,"number"==typeof l.chart_height?l.chart_height:parseInt(String(l.chart_height))||160)}px;
              background: ${this._formatColor(e)||"rgba(0, 0, 0, 0.2)"};
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            ${w({color:c})};
            font-size: 14px;
          "
          >
            <div style="text-align: center;">
              <ha-icon icon="mdi:chart-line" style="font-size: 48px; opacity: 0.5;"></ha-icon>
              <div style="margin-top: 8px;">No entities configured</div>
              <div style="font-size: 12px; opacity: 0.7;">Add entities to display chart</div>
            </div>
          </div>
        </div>
      `}const z=l.entities.find((e=>e.is_primary&&e.entity))||l.entities.find((e=>e.entity)),S=z?t.states[z.entity]:void 0,C=l.title||(null==z?void 0:z.name)||(null===(i=null==S?void 0:S.attributes)||void 0===i?void 0:i.friendly_name)||"Chart Title",j=((null==z?void 0:z.attribute)?null===(n=null==S?void 0:S.attributes)||void 0===n?void 0:n.unit_of_measurement:null===(o=null==S?void 0:S.attributes)||void 0===o?void 0:o.unit_of_measurement)||"",T=z?z.attribute?null===(a=null==S?void 0:S.attributes)||void 0===a?void 0:a[z.attribute]:null==S?void 0:S.state:void 0,I="number"==typeof T?T:parseFloat(T),E=this._prepareSimpleChartData(l,t),P=l.info_position||"top_left",M=(()=>{if(!z||!S)return"";try{const e=void 0!==T?String(T):S.state;return(0,A.formatEntityState)(t,z.entity,{state:e,includeUnit:!0})}catch(e){return`${isNaN(I)?"":I}${j?` ${j}`:""}`}})(),L=["pie","donut"].includes(l.chart_type)?g.qy``:g.qy`
          <div style="position:absolute; ${{top_left:"top:12px; left:16px; text-align:left;",top_right:"top:12px; right:16px; text-align:right;",bottom_left:"bottom:12px; left:16px; text-align:left;",bottom_right:"bottom:12px; right:16px; text-align:right;",middle:"top:50%; left:50%; transform: translate(-50%, -50%); text-align:center;"}[P]}; pointer-events:none; z-index:2;">
            ${!1!==l.show_display_name&&!1!==l.show_title?g.qy`<div
                  style="${w({fontSize:u||"18px"})}; font-weight: 600; ${d.text_align?`text-align:${d.text_align};`:""}"
                >
                  ${C}
                </div>`:""}
            ${!1!==l.show_entity_value?g.qy`<div
                  style="${w({fontSize:u||"28px"})}; line-height: 1.1; font-weight: 600; margin-top: 6px; ${d.text_align?`text-align:${d.text_align};`:""}"
                >
                  ${M}
                </div>`:""}
          </div>
        `,D=this._historyData[l.id],R=!0===this._historyLoading[l.id]&&!D,O=(this.getBackgroundImageCSS(Object.assign(Object.assign({},s),d),t),l.chart_alignment||"center"),V="left"===O?"flex-start":"right"===O?"flex-end":"center",B=this._resolveChartWidth(l),N=g.qy`
      <div class="uc-graphs-module" style="${this.styleObjectToCss($)}">
        <uc-preview-container
          .alignment=${l.chart_alignment||"center"}
          .height=${"number"==typeof l.chart_height?l.chart_height:parseInt(String(l.chart_height))||200}
        >
          <div style="display:flex; width:100%; justify-content:${V}">
            <div style="width:${B}; max-width:100%;">
              ${this._renderSimpleChart(l,E,t,(()=>{const e=l,t=l.design||{},i=t.color||e.color||"var(--primary-text-color)",n=[];return i&&n.push(`color: ${i}`),(t.font_size||e.font_size)&&n.push(`font-size: ${t.font_size||e.font_size}`),(t.font_family||e.font_family)&&n.push(`font-family: ${t.font_family||e.font_family}`),(t.font_weight||e.font_weight)&&n.push(`font-weight: ${t.font_weight||e.font_weight}`),(t.text_transform||e.text_transform)&&n.push(`text-transform: ${t.text_transform||e.text_transform}`),(t.font_style||e.font_style)&&n.push(`font-style: ${t.font_style||e.font_style}`),(t.letter_spacing||e.letter_spacing)&&n.push(`letter-spacing: ${t.letter_spacing||e.letter_spacing}`),(t.line_height||e.line_height)&&n.push(`line-height: ${t.line_height||e.line_height}`),n.join("; ")})(),O)}
            </div>
          </div>
        </uc-preview-container>
        ${L}
        ${!1!==l.show_legend?this._renderLegend(E,l.legend_position||"bottom_left",w({})):""}
        ${R?g.qy`<div
              style="
                position: absolute;
                inset: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                pointer-events: none;
                background: linear-gradient(
                  to bottom,
                  rgba(0,0,0,0.18),
                  rgba(0,0,0,0.12)
                );
              "
            >
              <div
                style="
                  background: rgba(0,0,0,0.35);
                  backdrop-filter: blur(2px);
                  border: 1px solid var(--divider-color);
                  border-radius: 10px;
                  padding: 10px 14px;
                  display: inline-flex;
                  align-items: center;
                  gap: 10px;
                  color: var(--secondary-text-color);
                  box-shadow: 0 2px 8px rgba(0,0,0,0.25);
                "
              >
                <ha-circular-progress active size="small"></ha-circular-progress>
                <span style="font-size: 13px;">Loading history…</span>
              </div>
            </div>`:""}
      </div>
    `,H=null===(r=l.design)||void 0===r?void 0:r.hover_effect,U=f.k.getHoverEffectClass(H);return this.hasActiveLink(l)?g.qy`<div
          class="graphs-module-clickable ${U}"
          style="cursor: pointer; transition: all 0.2s ease; border-radius: 4px;"
          @click=${e=>this.handleClick(e,l,t)}
          @dblclick=${e=>this.handleDoubleClick(e,l,t)}
          @mousedown=${e=>this.handleMouseDown(e,l,t)}
          @mouseup=${e=>this.handleMouseUp(e,l,t)}
          @mouseleave=${e=>this.handleMouseLeave(e,l,t)}
          @touchstart=${e=>this.handleTouchStart(e,l,t)}
          @touchend=${e=>this.handleTouchEnd(e,l,t)}
        >
          ${N}
        </div>`:U?g.qy`<div class="graphs-module-container ${U}">${N}</div>`:N}_prepareSimpleChartData(e,t){var i;const n=[];for(let o=0;o<e.entities.length;o++){const a=e.entities[o];if(!a.entity)continue;const r=t.states[a.entity];if(!r)continue;const l=a.attribute?r.attributes[a.attribute]:r.state,s=parseFloat(l);n.push({name:a.name||r.attributes.friendly_name||a.entity,value:isNaN(s)?0:s,color:this._formatColor(a.color)||this._getDefaultColor(o),unit:r.attributes.unit_of_measurement||"",lineWidth:null!==(i=a.line_width)&&void 0!==i?i:2,showPoints:!1!==a.show_points,fillArea:!0===a.fill_area,lineStyle:a.line_style||"solid",entityId:a.entity})}return n}_formatColor(e){if(!e)return this._getDefaultColor(0);if(Array.isArray(e)&&e.length>=3){const[t,i,n]=e;return isNaN(t)||isNaN(i)||isNaN(n)?this._getDefaultColor(0):`rgb(${Math.round(t)}, ${Math.round(i)}, ${Math.round(n)})`}return"string"==typeof e&&e.startsWith("#")||"string"==typeof e&&e.startsWith("rgb")?e:"string"!=typeof e||!e.startsWith("var(")&&"transparent"!==e?("string"==typeof e&&e.includes("NaN"),this._getDefaultColor(0)):e}_renderSimpleChart(e,t,i,n,o){if(0===t.length)return g.qy` <div style="color: var(--secondary-text-color);">No data available</div> `;const a=("number"==typeof e.chart_height?e.chart_height:parseInt(String(e.chart_height))||345)-80;return["pie","donut"].includes(e.chart_type)?this._renderPieChart(e,t,a,n,i,o):["line","area"].includes(e.chart_type)?this._renderLineChart(e,t,a,i):this._renderBarChart(e,t,a,n,i)}_renderPieChart(e,t,i,n,o,a){const r=t.reduce(((e,t)=>e+t.value),0),l=Math.max(120,Math.min(i,260)),s=l/2,d="donut"===e.chart_type,c=Number(e.slice_gap)||0,u=d?Math.floor(.72*s):c>0?Math.max(2,Math.floor(.04*s)):0,p=s-u;let m=0;const _=t.map((e=>{const t=r>0?m/r*360:0,i=t+(r>0?e.value/r*360:0);return m+=e.value,{startDeg:t,endDeg:i,color:e.color,name:e.name,value:e.value,unit:e.unit,entityId:e.entityId}})),h="left"===a?"0 auto 0 0":"right"===a?"0 0 0 auto":"0 auto";return g.qy`
      <div style="display:block;width:${l}px;height:${l}px;margin:${h};">
        <svg
          width="${l}"
          height="${l}"
          viewBox="${-s} ${-s} ${l} ${l}"
          style="display:block;"
        >
          ${_.map((e=>{const t=((e,t,i,n)=>{const o=e=>e*Math.PI/180,a=Math.cos(o(i))*e,r=Math.sin(o(i))*e,l=Math.cos(o(n))*e,s=Math.sin(o(n))*e,d=n-i>180?1:0;return t<=0?`M0,0 L${a},${r} A${e},${e} 0 ${d} 1 ${l},${s} Z`:`M${a},${r} A${e},${e} 0 ${d} 1 ${l},${s} L${Math.cos(o(n))*t},${Math.sin(o(n))*t} A${t},${t} 0 ${d} 0 ${Math.cos(o(i))*t},${Math.sin(o(i))*t} Z`})(s,u,e.startDeg,e.endDeg);return g.JW`<path d="${t}" fill="${e.color}" stroke="none" />`}))}
          ${c>0?(()=>{const e=e=>e*Math.PI/180,t=Math.max(2,Math.min(6,Math.round(.012*l)));return g.JW`${_.map((i=>{const n=Math.cos(e(i.startDeg)),o=Math.sin(e(i.startDeg)),a=n*(u>0?u:t),r=o*(u>0?u:t),l=n*s,d=o*s;return g.JW`<line x1="${a}" y1="${r}" x2="${l}" y2="${d}" stroke="${"var(--card-background-color)"}" stroke-width="${t}" stroke-linecap="butt" />`}))}`})():""}
          ${""}
          ${_.map((t=>{const i=(t.startDeg+t.endDeg)/2,a=e=>e*Math.PI/180,r=d||u>0?u+.55*p:.55*s,l=Math.cos(a(i))*r,c=Math.sin(a(i))*r,m=t.endDeg-t.startDeg;let _=`${t.value}${t.unit||""}`;if(o&&t.entityId)try{_=(0,A.formatEntityState)(o,t.entityId,{state:t.value,includeUnit:!0})}catch(e){}const h=(e.entities||[]).find((e=>e&&e.entity===t.entityId)),v=(!h||!1!==h.label_show_name)&&m>=15,b=!h||!1!==h.label_show_value;return g.JW`<g transform="translate(${l}, ${c})" style="pointer-events:none;">
            ${v?g.JW`<text text-anchor="middle" style="${n||""}; font-size:12px; font-weight:700; fill: currentColor;">${t.name}</text>`:""}
            ${b?g.JW`<text y="${v?14:0}" text-anchor="middle" style="${n||""}; font-size:12px; fill: currentColor;">${_}</text>`:""}
          </g>`}))}
        </svg>
      </div>
    `}_renderLineChart(e,t,i,n){const o=this._historyData[e.id];let a,r;this._historyError[e.id],this._historyLoading[e.id],o?(a=o.timePoints,r=o.datasets):(a=this._generateTimePoints(e.time_period),r=t.map(((t,i)=>{e.entities[i];const n=t.value||0,o=new Array(a.length).fill(n);return{name:t.name,color:t.color,values:o,lineWidth:t.lineWidth,showPoints:t.showPoints,fillArea:t.fillArea,lineStyle:t.lineStyle,unit:t.unit||"",entityId:t.entityId}}))),r=r.map(((t,i)=>{var n,o,a;const r=null===(n=e.entities)||void 0===n?void 0:n[i];return Object.assign(Object.assign({},t),{color:this._formatColor(null==r?void 0:r.color)||t.color||this._getDefaultColor(i),lineWidth:null!==(a=null!==(o=null==r?void 0:r.line_width)&&void 0!==o?o:t.lineWidth)&&void 0!==a?a:2,showPoints:!1!==(null==r?void 0:r.show_points),fillArea:!0===(null==r?void 0:r.fill_area),lineStyle:(null==r?void 0:r.line_style)||t.lineStyle||"solid"})}));let l=r;e.normalize_values&&(l=r.map((e=>{const t=Math.max(...e.values),i=Math.min(...e.values),n=t-i||1;return Object.assign(Object.assign({},e),{originalValues:e.values,values:e.values.map((e=>(e-i)/n*100)),normalizedMin:i,normalizedMax:t})})));const s=Math.max(...l.flatMap((e=>e.values))),d=Math.min(...l.flatMap((e=>e.values))),c=s-d,u=!1!==e.show_grid,p=e;let m=(e.design||{}).background_color||p.background_color;return m="transparent"===m?"var(--card-background-color)":m?this._formatColor(m):"var(--card-background-color, transparent)",Boolean(o&&"history"===o.source),g.qy`
      <div
        style="width: 100%; height: ${i}px; position: relative; box-sizing: border-box; margin: 0; padding: 0;"
      >
        <!-- Debug info badge with refresh button -->

        ${!1!==e.show_tooltips?g.qy`
              <div
                id="graph-tooltip-${e.id}"
                style="
              position: absolute;
              display: none;
              background: var(--card-background-color);
              border: 1px solid var(--divider-color);
              border-radius: 4px;
              padding: 8px 12px;
              font-size: 14px;
              color: var(--primary-text-color);
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
              pointer-events: none;
              z-index: 1000;
              white-space: nowrap;
            "
              ></div>
            `:""}
        <svg
          width="100%"
          height="100%"
          viewBox="0 0 300 100"
          preserveAspectRatio="none"
          style="display: block; width: 100%; height: 100%; margin: 0; padding: 0;"
        >
          ${u?g.JW`${Array.from({length:4},((e,t)=>{const i=100*(t+1)/5;return g.JW`<line x1="0" y1="${i}" x2="300" y2="${i}" stroke="rgba(255,255,255,.08)" stroke-width="0.5" />`}))}`:""}
          ${(()=>l.map((t=>{var i;const o=t.values.map(((e,t)=>`${t/(a.length-1)*300},${c>0?8+(s-e)/c*92:100}`)),l=(t=>{if(!e.smooth_curves)return t.map(((e,t)=>{const[i,n]=e.split(",");return`${0===t?"M":"L"} ${i} ${n}`})).join(" ");if(t.length<2){const[e,i]=t[0].split(",");return`M ${e} ${i}`}let i="";const n=t.map((e=>{const[t,i]=e.split(",");return{x:parseFloat(t),y:parseFloat(i)}}));i=`M ${n[0].x} ${n[0].y}`;for(let e=0;e<n.length-1;e++){const t=n[Math.max(0,e-1)],o=n[e],a=n[e+1],r=n[Math.min(n.length-1,e+2)],l=.5;i+=` C ${o.x+(a.x-t.x)/6*l} ${o.y+(a.y-t.y)/6*l}, ${a.x-(r.x-o.x)/6*l} ${a.y-(r.y-o.y)/6*l}, ${a.x} ${a.y}`}return i})(o),d=o[o.length-1].split(",")[0],u=this._colorWithAlpha(t.color,.25),p="dashed"===t.lineStyle?"4 3":"dotted"===t.lineStyle?"1 3":"none";return g.JW`<g>
                ${!0===t.fillArea?g.JW`<path d="${l} L ${d} 100 L 0 100 Z" fill="${u}" stroke="none" />`:""}
                <path d="${l}" stroke="${t.color}" stroke-width="${null!==(i=t.lineWidth)&&void 0!==i?i:2}" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="${p}" />
                ${!1!==t.showPoints?g.JW`${t.values.map(((i,o)=>{const l=o/(a.length-1)*300,d=c>0?8+(s-i)/c*92:100,u="transparent"===m?"var(--card-background-color)":m,p=`point-${e.id}-${o}-${r.indexOf(t)}`;return g.JW`
                          <circle 
                            id="${p}"
                            cx="${l}" 
                            cy="${d}" 
                            r="3" 
                            fill="${u}" 
                            stroke="${t.color}" 
                            stroke-width="1.5"
                            style="cursor: ${!1!==e.show_tooltips?"pointer":"default"};"
                            @mouseenter=${!1!==e.show_tooltips?r=>{const l=t.originalValues?t.originalValues[o]:i;let s=`${l}${t.unit||""}`;t.entityId&&(s=(0,A.formatEntityState)(n,t.entityId,{state:l,includeUnit:!0})),this._showTooltip(r,e.id,t.name,s,a[o])}:null}
                            @mouseleave=${!1!==e.show_tooltips?t=>this._hideTooltip(e.id,t):null}
                          >
                            ${!1!==e.show_tooltips?g.JW`
                              <animate 
                                attributeName="r" 
                                begin="mouseenter" 
                                dur="0.2s" 
                                from="3" 
                                to="5" 
                                fill="freeze" 
                              />
                              <animate 
                                attributeName="r" 
                                begin="mouseleave" 
                                dur="0.2s" 
                                from="5" 
                                to="3" 
                                fill="freeze" 
                              />
                            `:""}
                          </circle>
                        `}))}`:""}
              </g>`})))()}
        </svg>
      </div>
    `}_renderLegend(e,t,i){return g.qy`<div
      style="position:absolute; ${{top_left:"top:8px; left:8px; justify-content:flex-start;",top_right:"top:8px; right:8px; justify-content:flex-end;",bottom_left:"bottom:8px; left:8px; justify-content:flex-start;",bottom_right:"bottom:8px; right:8px; justify-content:flex-end;"}[t]}; display:flex; gap:12px; flex-wrap:wrap; font-size:12px; ${i||""}; z-index:2;"
    >
      ${e.map((e=>g.qy`<div style="display:flex; align-items:center; gap:6px;">
            <span style="width:10px; height:10px; background:${e.color}; border-radius:2px;"></span
            ><span>${e.name}</span>
          </div>`))}
    </div>`}_colorWithAlpha(e,t){if(!e)return`rgba(33, 150, 243, ${t})`;if(e.startsWith("#")){const i=e.replace("#",""),n=parseInt(3===i.length?i.split("").map((e=>e+e)).join(""):i,16);return`rgba(${n>>16&255}, ${n>>8&255}, ${255&n}, ${t})`}return e.startsWith("rgb(")?e.replace("rgb(","rgba(").replace(")",`, ${t})`):e}_renderBarChart(e,t,i,n,o){const a=Math.max(...t.map((e=>e.value)));return g.qy`
      <div
        style="width:100%; height:${i}px; display:flex; align-items:center; justify-content:${(()=>{const t=e.chart_alignment||"center";return"left"===t?"flex-start":"right"===t?"flex-end":"center"})()};"
      >
        <div
          style="
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: ${(()=>{const t=e.chart_alignment||"center";return"left"===t?"flex-start":"right"===t?"flex-end":"center"})()};
            gap: 10px;
            padding: 10px 0;
          "
        >
          ${t.map((e=>{const t=a>0?e.value/a*(i-40):0;return g.qy`
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  flex: 0 0 auto;
                  width: 64px;
                "
              >
                <div
                  style="
                  font-size: 12px;
                  ${n||""};
                  margin-bottom: 5px;
                "
                >
                  ${(()=>{let t=`${e.value}${e.unit||""}`;if(o&&e.entityId)try{t=(0,A.formatEntityState)(o,e.entityId,{state:e.value,includeUnit:!0})}catch(e){}return t})()}
                </div>
                <div
                  style="
                  width: 100%;
                  height: ${t}px;
                  background: ${e.color};
                  border-radius: 4px 4px 0 0;
                  transition: height 0.3s ease;
                "
                ></div>
                <div
                  style="
                  font-size: 10px;
                  ${n||""};
                  opacity: 0.8;
                  margin-top: 5px;
                  text-align: center;
                  overflow: hidden;
                  text-overflow: ellipsis;
                  white-space: nowrap;
                  width: 100%;
                "
                >
                  ${e.name}
                </div>
              </div>
            `}))}
        </div>
      </div>
    `}_showTooltip(e,t,i,n,o){const a=e.target,r=a.closest("div"),l=null==r?void 0:r.querySelector(`#graph-tooltip-${t}`);if(!l||!r)return;l.innerHTML=`\n      <div style="font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;">${i}</div>\n      <div style="color: var(--secondary-text-color); font-size: 12px;">${o}</div>\n      <div style="font-size: 16px; margin-top: 4px;">${n}</div>\n    `;const s=r.getBoundingClientRect(),d=a.getBoundingClientRect(),c=d.left-s.left+d.width/2,u=d.top-s.top;l.style.display="block",l.style.left=`${c}px`,l.style.top=u-10+"px",l.style.transform="translate(-50%, -100%)"}_hideTooltip(e,t){if(t){const i=t.currentTarget,n=null==i?void 0:i.closest("div"),o=null==n?void 0:n.querySelector(`#graph-tooltip-${e}`);if(o)return void(o.style.display="none")}document.querySelectorAll(`#graph-tooltip-${e}`).forEach((e=>{e.style.display="none"}))}_generateTimePoints(e){const t=[],i=new Date;let n=12,o="hour";switch(e){case"1h":n=12,o="5min";break;case"24h":n=24,o="hour";break;case"7d":n=7,o="day";break;case"30d":n=30,o="day";break;case"90d":n=12,o="week";break;case"365d":n=12,o="month"}for(let e=n-1;e>=0;e--){const n=new Date(i);"5min"===o?(n.setMinutes(n.getMinutes()-5*e),t.push(n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))):"hour"===o?(n.setHours(n.getHours()-e),t.push(n.toLocaleTimeString([],{hour:"2-digit"}))):"day"===o?(n.setDate(n.getDate()-e),t.push(n.toLocaleDateString([],{month:"short",day:"numeric"}))):"week"===o?(n.setDate(n.getDate()-7*e),t.push(n.toLocaleDateString([],{month:"short",day:"numeric"}))):"month"===o&&(n.setMonth(n.getMonth()-e),t.push(n.toLocaleDateString([],{month:"short"})))}return t}_generateTimeSeriesData(e,t,i){const n=[];let o=isNaN(e)?50:e;const a=i.toLowerCase().includes("odometer")||i.toLowerCase().includes("counter")||i.toLowerCase().includes("total")||i.toLowerCase().includes("mileage"),r=i.toLowerCase().includes("energy")||i.toLowerCase().includes("kwh");let l=this._hashString(i);a&&o>1e3&&(o*=.95);for(let i=0;i<t;i++){const i=(l=1664525*l+1013904223>>>0,(4294967295&l)/4294967296);if(a){const n=.05*e/t;o=o+n+i*n*.5}else if(r)o+=.1*e/t*i;else{const e=(i-.5)*o*.1;o=Math.max(0,o+e)}n.push(Math.round(10*o)/10)}return n}_hashString(e){let t=2166136261;for(let i=0;i<e.length;i++)t^=e.charCodeAt(i),t=Math.imul(t,16777619);return t>>>0}_triggerHistoryLoad(e,t){this._historyLoading[e.id]||(this._historyLoading[e.id]=!0,this._deferredHistoryScheduled[e.id]=!0,this._fetchHistoryDataAsync(e,t))}_loadHistoryData(e,t){if(e.entities&&0!==e.entities.length){if(!this._historyData[e.id]){const t=this._tryReadCache(e);t&&(this._historyData[e.id]=Object.assign(Object.assign({},t),{source:"cache"}))}if(!this._historyData[e.id]){const i=this._tryFastHistoryPath(e,t);i&&(this._historyData[e.id]=i)}this._historyLoading[e.id]||this._deferredHistoryScheduled[e.id]||(this._deferredHistoryScheduled[e.id]=!0,this._historyLoading[e.id]=!0,this._fetchHistoryDataAsync(e,t))}}_tryFastHistoryPath(e,t){try{if(0===e.entities.filter((e=>e.entity)).map((e=>e.entity)).length)return null;const i=this._generateTimePoints(e.time_period),n=e.entities.filter((e=>e.entity)).map(((e,n)=>{var o;const a=t.states[e.entity];if(!a)return null;let r=0;r=e.attribute&&a.attributes[e.attribute]?parseFloat(a.attributes[e.attribute])||0:parseFloat(a.state)||0;const l=new Array(i.length).fill(r);return{name:e.name||a.attributes.friendly_name||e.entity,color:this._formatColor(e.color)||this._getDefaultColor(n),values:l,lineWidth:null!==(o=e.line_width)&&void 0!==o?o:2,showPoints:!1!==e.show_points,fillArea:!0===e.fill_area,lineStyle:e.line_style||"solid",unit:(null==a?void 0:a.attributes.unit_of_measurement)||"",entityId:e.entity}})).filter((e=>null!==e));if(0===n.length)return null;const o=n.flatMap((e=>e.values));return{timePoints:i,datasets:n,min:Math.min(...o),max:Math.max(...o),lastUpdated:Date.now(),source:"fast-path"}}catch(e){return null}}async _fetchHistoryDataAsync(e,t){try{const i=new Date;let n=24;switch(e.time_period){case"1h":n=1;break;case"3h":n=3;break;case"6h":n=6;break;case"12h":n=12;break;case"24h":default:n=24;break;case"2d":n=48;break;case"7d":n=168;break;case"30d":n=720;break;case"90d":n=2160;break;case"365d":n=8760}const o=new Date(i.getTime()-60*n*60*1e3),a=e.entities.filter((e=>e.entity)).map((e=>e.entity));if(0===a.length)return;window.ultraCardGraphDebug={entityIds:a,startTime:o.toISOString(),endTime:i.toISOString(),status:"fetching"},Math.min(100,4*n),a.forEach((e=>{t.states[e]}));let r={};try{let e,n;try{n=await t.callWS({type:"history/history_during_period",start_time:o.toISOString(),end_time:i.toISOString(),entity_ids:a,include_start_time_state:!0,significant_changes_only:!1,minimal_response:!1}),e=n&&"object"==typeof n?a.map((e=>n[e]||[])).filter((e=>e.length>0)):[]}catch(n){const r=o.toISOString();e=await t.callApi("GET",`history/period/${r}`,{filter_entity_id:a.join(","),end_time:i.toISOString()})}if(window.ultraCardGraphDebug.response=e,window.ultraCardGraphDebug.status="success",n&&"object"==typeof n&&!Array.isArray(n)?Object.entries(n).forEach((([e,t])=>{Array.isArray(t)&&t.length>0&&(r[e]=t)})):Array.isArray(e)&&e.forEach((e=>{if(Array.isArray(e)&&e.length>0){const t=e[0].entity_id;r[t]=e}})),0===Object.keys(r).length)throw new Error("No history data returned from API")}catch(e){window.ultraCardGraphDebug.error=e,window.ultraCardGraphDebug.errorDetails={message:e.message,status:e.status,statusText:e.statusText,body:e.body,stack:e.stack},window.ultraCardGraphDebug.status="error";for(const e of a){const i=t.states[e];i&&(r[e]=[{entity_id:e,state:i.state,last_changed:(new Date).toISOString(),last_updated:(new Date).toISOString(),attributes:i.attributes}])}}const l=this._generateTimePoints(e.time_period),s=e.entities.map(((e,n)=>{var a;if(!e.entity)return null;let s;if(Array.isArray(r))s=r;else{if(!r[e.entity])return null;s=r[e.entity]}const d=t.states[e.entity],c=this._processHistoryData(s,l,e.attribute,o,i);return{name:e.name||(null==d?void 0:d.attributes.friendly_name)||e.entity,color:this._formatColor(e.color)||this._getDefaultColor(n),values:c,lineWidth:null!==(a=e.line_width)&&void 0!==a?a:2,showPoints:!1!==e.show_points,fillArea:!0===e.fill_area,lineStyle:e.line_style||"solid",unit:(null==d?void 0:d.attributes.unit_of_measurement)||"",entityId:e.entity}})).filter((e=>null!==e)),d=s.flatMap((e=>e.values)),c=Math.min(...d),u=Math.max(...d);this._historyData[e.id]={timePoints:l,datasets:s,min:c,max:u,lastUpdated:Date.now(),source:"history"},this._historyLoading[e.id]=!1,this._writeCache(e,this._historyData[e.id]),this.requestUpdate()}catch(t){this._historyError[e.id]="Failed to load history data",this._historyLoading[e.id]=!1,this.requestUpdate()}}_processHistoryData(e,t,i,n,o){if(!e||0===e.length)return new Array(t.length).fill(0);const a=[],r=e=>{if(null==e)return null;if("number"==typeof e&&isFinite(e))return e;const t=String(e).trim().toLowerCase();if("unknown"===t||"unavailable"===t||"none"===t||"null"===t)return null;const i=parseFloat(t);return isNaN(i)?null:i},l=(null==n?void 0:n.getTime())||Date.now()-864e5,s=((null==o?void 0:o.getTime())||Date.now())-l,d=e.map((e=>{let t;if(void 0!==e.s&&void 0!==e.lu)t={state:e.s,attributes:e.a||{},timestamp:1e3*e.lu};else{if(void 0===e.state||void 0===e.last_changed)return null;t={state:e.state,attributes:e.attributes||{},timestamp:new Date(e.last_changed).getTime()}}return"unavailable"===t.state||"unknown"===t.state?null:t})).filter((e=>null!==e)).sort(((e,t)=>e.timestamp-t.timestamp));return t.forEach(((e,n)=>{const o=n/(t.length-1),c=l+s*o;let u=null;for(let e=d.length-1;e>=0;e--){const t=d[e];if(t.timestamp<=c){const e=i?t.attributes[i]:t.state,n=r(e);if(null!==n){u=n;break}}}if(null===u)for(let e=d.length-1;e>=0;e--){const t=d[e],n=i?t.attributes[i]:t.state,o=r(n);if(null!==o){u=o;break}}a.push(null!=u?u:0)})),a}_coerceNumber(e){if(null==e)return null;if("number"==typeof e&&isFinite(e))return e;const t=String(e).trim().toLowerCase();if("unknown"===t||"unavailable"===t||"none"===t||"null"===t)return null;const i=parseFloat(t);return isNaN(i)?null:i}_getDefaultColor(e){const t=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#FFEB3B","#795548","#607D8B","#E91E63"];return t[e%t.length]}_addEntity(e,t){var i;const n={id:this.generateId("entity"),entity:"",name:"",attribute:"",color:this._getDefaultColor((null===(i=e.entities)||void 0===i?void 0:i.length)||0),show_points:!0,fill_area:!0,line_width:2,line_style:"solid"};t({entities:[...e.entities||[],n]})}_removeEntity(e,t,i){const n=[...e.entities||[]];n.splice(t,1),i({entities:n})}_updateEntity(e,t,i,n){const o=[...e.entities||[]];o[t]=Object.assign(Object.assign({},o[t]),i),delete this._historyData[e.id],delete this._historyError[e.id],delete this._historyLoading[e.id],delete this._deferredHistoryScheduled[e.id],n({entities:o})}_toggleEntityOptions(e,t){var i;e.stopPropagation();const n=null===(i=e.target)||void 0===i?void 0:i.closest(".entity-card"),o=null==n?void 0:n.querySelector(".entity-advanced-options"),a=null==n?void 0:n.querySelector(".entity-toggle-btn");o&&a&&(this.expandedEntities.has(t)?(this.expandedEntities.delete(t),o.style.maxHeight="0",o.style.opacity="0",o.style.marginTop="0",o.style.borderTop="none",a.style.transform="rotate(0deg)"):(this.expandedEntities.add(t),o.style.maxHeight=o.scrollHeight+"px",o.style.opacity="1",o.style.marginTop="16px",o.style.borderTop="1px solid var(--divider-color)",a.style.transform="rotate(180deg)"))}_getEntityAttributes(e,t){if(!e||!t.states[e])return[];const i=t.states[e].attributes;return Object.keys(i).filter((e=>!["friendly_name","icon","entity_picture"].includes(e))).map((e=>({value:e,label:e})))}_renderSizeControl(e,t,i,n,o,a,r,l,s,d){return g.qy`
      <div class="field-container" style="margin-bottom: 16px;">
        <div
          class="field-title"
          style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
        >
          ${s}
        </div>
        <div
          class="field-description"
          style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
        >
          ${d}
        </div>
        <style>
          .number-range-control {
            display: flex;
            gap: 8px;
            align-items: center;
          }

          .range-slider {
            flex: 0 0 65%;
            height: 6px;
            background: var(--divider-color);
            border-radius: 3px;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 0;
          }

          .range-slider::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }

          .range-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }

          .range-slider:hover {
            background: var(--primary-color);
            opacity: 0.7;
          }

          .range-slider:hover::-webkit-slider-thumb {
            transform: scale(1.1);
          }

          .range-slider:hover::-moz-range-thumb {
            transform: scale(1.1);
          }

          .range-input {
            flex: 0 0 20%;
            padding: 6px 8px !important;
            border: 1px solid var(--divider-color);
            border-radius: 4px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
            font-size: 13px;
            text-align: center;
            transition: all 0.2s ease;
            box-sizing: border-box;
          }

          .range-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
          }

          .range-reset-btn {
            width: 32px;
            height: 32px;
            padding: 0;
            border: 1px solid var(--divider-color);
            border-radius: 4px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
          }

          .range-reset-btn:hover {
            background: var(--primary-color);
            color: var(--text-primary-color);
            border-color: var(--primary-color);
          }

          .range-reset-btn ha-icon {
            font-size: 14px;
          }
        </style>
        <div class="number-range-control">
          <input
            type="range"
            class="range-slider"
            min="${a}"
            max="${r}"
            step="1"
            .value="${o}"
            @input=${o=>{const a=o.target,r=parseInt(a.value);t>=0?this._updateEntity(e,t,{[n]:r},i):i({[n]:r})}}
          />
          <input
            type="number"
            class="range-input"
            min="${a}"
            max="${r}"
            step="1"
            .value="${o}"
            @input=${o=>{const a=o.target,r=parseInt(a.value);isNaN(r)||(t>=0?this._updateEntity(e,t,{[n]:r},i):i({[n]:r}))}}
            @keydown=${o=>{if("ArrowUp"===o.key||"ArrowDown"===o.key){o.preventDefault();const s=o.target,d=parseInt(s.value)||l,c="ArrowUp"===o.key?1:-1,u=Math.max(a,Math.min(r,d+c));t>=0?this._updateEntity(e,t,{[n]:u},i):i({[n]:u})}}}
          />
          <button
            class="range-reset-btn"
            @click=${()=>{t>=0?this._updateEntity(e,t,{[n]:l},i):i({[n]:l})}}
            title="Reset to default (${l})"
          >
            <ha-icon icon="mdi:refresh"></ha-icon>
          </button>
        </div>
      </div>
    `}hasActiveLink(e){const t=e.tap_action&&"default"!==e.tap_action.action&&"nothing"!==e.tap_action.action,i=e.hold_action&&"default"!==e.hold_action.action&&"nothing"!==e.hold_action.action,n=e.double_tap_action&&"default"!==e.double_tap_action.action&&"nothing"!==e.double_tap_action.action;return t||i||n}handleClick(e,t,i){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i)}),300)}handleDoubleClick(e,t,i){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i)}handleMouseDown(e,t,i){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i)}),500)}handleMouseUp(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null)}handleMouseLeave(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTouchStart(e,t,i){this.handleMouseDown(e,t,i)}handleTouchEnd(e,t,i){this.handleMouseUp(e,t,i)}handleTapAction(e,t,i){if(!this.isHolding&&t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action){const n=Object.assign({},t.tap_action);b.K.handleAction(n,i,e.target)}}handleHoldAction(e,t,i){if(t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action){const n=Object.assign({},t.hold_action);b.K.handleAction(n,i,e.target)}}handleDoubleAction(e,t,i){if(t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action){const n=Object.assign({},t.double_tap_action);b.K.handleAction(n,i,e.target)}}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}_resolveChartWidth(e){const t=e.chart_width_percent;if("number"==typeof t&&isFinite(t))return`${Math.max(10,Math.min(100,Math.round(t)))}%`;const i=e.chart_width;return"string"==typeof i&&""!==i.trim()?i.trim():"100%"}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"0px"} ${this.addPixelUnit(e.padding_right)||"0px"} ${this.addPixelUnit(e.padding_bottom)||"0px"} ${this.addPixelUnit(e.padding_left)||"0px"}`:"0"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0px"} ${this.addPixelUnit(e.margin_right)||"0px"} ${this.addPixelUnit(e.margin_bottom)||"0px"} ${this.addPixelUnit(e.margin_left)||"0px"}`:"0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){var i,n;const o=e.background_image_type,a=e.background_image,r=e.background_image_entity;if(!o||"none"===o)return"none";switch(o){case"upload":if(a)return`url("${(0,C.V)(t,a)}")`;break;case"url":if(a)return`url("${a}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const o=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(n=e.attributes)||void 0===n?void 0:n.image)||("string"==typeof e.state?e.state:"");if(o&&"unknown"!==o&&"unavailable"!==o)return`url("${(0,C.V)(t,o)}")`}}}return"none"}getBorderCSS(e){const t=e.border;return t&&"none"!==t.style?`${t.width||1}px ${t.style||"solid"} ${t.color||"#ccc"}`:"none"}renderLogicTab(e,t,i,n){return v.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];return t.chart_type||i.push("Chart type is required"),t.entities&&0!==t.entities.length?t.entities.forEach(((e,t)=>{e.entity||i.push(`Entity ${t+1}: Entity selection is required`)})):i.push("At least one entity is required"),"custom"===t.time_period&&(t.custom_time_start||i.push("Custom start time is required"),t.custom_time_end||i.push("Custom end time is required")),!t.template_mode||t.template&&""!==t.template.trim()||i.push("Template code is required when template mode is enabled"),{valid:0===i.length,errors:i}}getStyles(){return'\n      .uc-graphs-module {\n        width: 100%;\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n      }\n\n      .entity-card {\n        transition: all 0.2s ease;\n      }\n\n      .entity-card:hover {\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      .entity-advanced-options {\n        transition: max-height 0.3s ease, opacity 0.2s ease;\n        opacity: 0;\n      }\n\n      .entity-advanced-options[data-expanded="true"] {\n        opacity: 1;\n      }\n\n      .entity-toggle-button ha-icon {\n        transition: transform 0.2s ease;\n      }\n\n      .entity-header {\n        cursor: pointer;\n      }\n\n      .entity-header:hover .entity-toggle-button {\n        color: var(--primary-color);\n      }\n\n      .uc-graphs-general-tab,\n      .uc-graphs-actions-tab,\n      .uc-graphs-other-tab {\n        padding: 16px;\n      }\n\n      .entities-repeater {\n        margin: 16px 0;\n      }\n\n      .entity-item {\n        background: var(--card-background-color);\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 12px;\n      }\n\n      .entity-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 12px;\n      }\n\n      .entity-number {\n        font-weight: 500;\n        color: var(--primary-text-color);\n      }\n\n      .chart-container {\n        position: relative;\n        width: 100%;\n        margin: 0 !important;\n        padding: 0 !important;\n        box-sizing: border-box;\n      }\n\n      .chart-title {\n        font-weight: 500;\n        margin-bottom: 8px;\n      }\n\n      .chart-legend {\n        margin-top: 12px;\n      }\n\n      .chart-legend.legend-top {\n        margin-top: 0;\n        margin-bottom: 12px;\n      }\n\n      .chart-legend.legend-left,\n      .chart-legend.legend-right {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .chart-legend.legend-left {\n        left: 0;\n      }\n\n      .chart-legend.legend-right {\n        right: 0;\n      }\n\n      .graphs-module-clickable {\n        cursor: pointer;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      .graphs-module-clickable.hover-enabled:hover {\n        transform: scale(1.02);\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n    \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Conditional fields grouping */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Number range control styles */\n      .number-range-control {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n      }\n\n      .range-slider {\n        flex: 0 0 65%;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        min-width: 0;\n      }\n\n      .range-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider::-moz-range-thumb {\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .range-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-input {\n        flex: 0 0 20%;\n        padding: 6px 8px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        box-sizing: border-box;\n      }\n\n      .range-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .range-reset-btn {\n        width: 32px;\n        height: 32px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .range-reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .range-reset-btn ha-icon {\n        font-size: 14px;\n      }\n\n      /* Responsive styles */\n      @media (max-width: 768px) {\n        .chart-container {\n          min-height: 200px;\n        }\n      }\n\n      /* Animation styles */\n      .uc-graphs-module[data-animation="true"] {\n        animation: fadeIn 0.5s ease-in-out;\n      }\n\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n          transform: translateY(10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n\n      /* Hover effects */\n      .uc-graphs-module:hover {\n        transition: box-shadow 0.3s ease;\n      }\n\n      /* Loading state */\n      .chart-loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        color: var(--secondary-text-color);\n      }\n\n      .chart-error {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        color: var(--error-color);\n        text-align: center;\n        padding: 20px;\n      }\n    '}cleanup(){this.clickTimeout&&clearTimeout(this.clickTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this._updateInterval&&clearInterval(this._updateInterval)}requestUpdate(){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-update"))}}class T{constructor(){this.modules=new Map,this.modulesByCategory=new Map,this.registerCoreModules()}static getInstance(){return T.instance||(T.instance=new T),T.instance}registerCoreModules(){this.registerModule(new n.o),this.registerModule(new o.O),this.registerModule(new a.Y),this.registerModule(new r.f),this.registerModule(new l.Q),this.registerModule(new s.k),this.registerModule(new d.R),this.registerModule(new c.s),this.registerModule(new u.b),this.registerModule(new p.j),this.registerModule(new k),this.registerModule(new j)}registerModule(e){const t=e.metadata.type;this.modules.has(t)&&console.warn(`Module with type "${t}" is already registered. Overriding...`),this.modules.set(t,e),this.updateCategoryMap(e)}unregisterModule(e){return!!this.modules.get(e)&&(this.modules.delete(e),this.updateCategoryMaps(),!0)}getModule(e){return this.modules.get(e)}getAllModules(){return Array.from(this.modules.values())}getModulesByCategory(e){return this.modulesByCategory.get(e)||[]}getCategories(){return Array.from(this.modulesByCategory.keys())}getAllModuleMetadata(){return this.getAllModules().map((e=>e.metadata))}searchModules(e){const t=e.toLowerCase();return this.getAllModules().filter((e=>{const i=e.metadata;return i.title.toLowerCase().includes(t)||i.description.toLowerCase().includes(t)||i.tags.some((e=>e.toLowerCase().includes(t)))||i.type.toLowerCase().includes(t)}))}createDefaultModule(e,t,i){const n=this.getModule(e);if(!n)return console.error(`Module type "${e}" not found in registry`),null;try{return n.createDefault(t,i)}catch(t){return console.error(`Error creating default module for type "${e}":`,t),null}}validateModule(e){const t=this.getModule(e.type);return t?t.validate(e):{valid:!1,errors:[`Unknown module type: ${e.type}`]}}getAllModuleStyles(){let e="";for(const t of this.getAllModules())t.getStyles&&(e+=`\n/* Styles for ${t.metadata.title} */\n`,e+=t.getStyles(),e+="\n");return e+=this.getCommonFormStyles(),e}isModuleRegistered(e){return this.modules.has(e)}getRegistryStats(){const e=this.getAllModules(),t={},i=new Set;return e.forEach((e=>{const n=e.metadata.category;t[n]=(t[n]||0)+1,i.add(e.metadata.author)})),{totalModules:e.length,modulesByCategory:t,authors:Array.from(i)}}updateCategoryMap(e){const t=e.metadata.category;this.modulesByCategory.has(t)||this.modulesByCategory.set(t,[]);const i=this.modulesByCategory.get(t),n=i.findIndex((t=>t.metadata.type===e.metadata.type));n>=0?i[n]=e:i.push(e)}updateCategoryMaps(){this.modulesByCategory.clear(),this.getAllModules().forEach((e=>this.updateCategoryMap(e)))}getCommonFormStyles(){return'\n      /* Common form styles for all modules */\n      .module-general-settings {\n        padding: 0;\n      }\n      \n      .form-field {\n        margin-bottom: 16px;\n      }\n      \n      .form-label {\n        display: block;\n        font-weight: 500;\n        margin-bottom: 4px;\n        font-size: 14px;\n        color: var(--primary-text-color);\n      }\n      \n      .form-description {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        margin-top: 4px;\n        line-height: 1.3;\n      }\n\n      /* Container Module Global Styles */\n      .container-module {\n        --container-drag-handle-opacity: 0.8;\n        --container-badge-opacity: 0.9;\n      }\n\n      .container-module:hover {\n        --container-drag-handle-opacity: 1;\n        --container-badge-opacity: 1;\n      }\n\n      /* Container-specific colors that can be overridden by individual modules */\n      .horizontal-module-preview.container-module {\n        --container-primary-color: #9c27b0; /* Purple for horizontal */\n        --container-secondary-color: #e1bee7;\n        --container-accent-color: #7b1fa2;\n        --container-border-color: #ba68c8;\n      }\n\n      .vertical-module-preview.container-module {\n        --container-primary-color: #3f51b5; /* Indigo for vertical */\n        --container-secondary-color: #c5cae9;\n        --container-accent-color: #303f9f;\n        --container-border-color: #7986cb;\n      }\n      \n      .form-field input[type="text"],\n      .form-field input[type="number"],\n      .form-field select,\n      .form-field textarea {\n        width: 100%;\n        padding: 8px 12px;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 14px;\n        font-family: inherit;\n        box-sizing: border-box;\n      }\n      \n      .form-field input[type="color"] {\n        width: 60px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        cursor: pointer;\n        background: none;\n      }\n      \n      .form-field input:focus,\n      .form-field select:focus,\n      .form-field textarea:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 1px var(--primary-color);\n      }\n      \n      .form-field textarea {\n        resize: vertical;\n        min-height: 60px;\n        font-family: monospace;\n      }\n      \n      .checkbox-wrapper {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-size: 14px;\n        cursor: pointer;\n        color: var(--primary-text-color);\n      }\n      \n      .checkbox-wrapper input[type="checkbox"] {\n        margin: 0;\n        cursor: pointer;\n      }\n      \n      .checkbox-group {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n        gap: 8px;\n        margin-top: 8px;\n      }\n    '}}const I=()=>T.getInstance()},345:(e,t,i)=>{i.d(t,{I:()=>n});class n{constructor(e){this.hass=e,this._templateSubscriptions=new Map,this._templateResults=new Map,this._evaluationCache=new Map,this.CACHE_TTL=1e3}getTemplateResult(e){const t=this._evaluationCache.get(e);return t&&Date.now()-t.timestamp<this.CACHE_TTL?t.value:this._templateResults.get(e)}hasTemplateSubscription(e){return this._templateSubscriptions.has(e)}getAllTemplateResults(){return this._templateResults}async evaluateTemplate(e){var t;if(!e||!this.hass)return!1;const i=e.trim();if(!i)return!1;const n=`eval_${i}`,o=this._evaluationCache.get(n);if(o&&Date.now()-o.timestamp<this.CACHE_TTL)return o.value;try{const e=await this.hass.callApi("POST","template",{template:i}),t=e.toLowerCase().trim();let o;if(["true","on","yes","1"].includes(t))o=!0;else if(["false","off","no","0","unavailable","unknown","none",""].includes(t))o=!1;else{const i=parseFloat(t);isNaN(i)?(console.warn(`[UltraVehicleCard] Template evaluated to ambiguous string '${e}', interpreting as false.`),o=!1):o=0!==i}return this._evaluationCache.set(n,{value:o,timestamp:Date.now(),stringValue:e}),o}catch(e){const n=(null===(t=e.error)||void 0===t?void 0:t.message)||e.message||String(e);return console.error(`[UltraVehicleCard] Error evaluating template via API: ${i}. Error: ${n}`),!1}}async subscribeToTemplate(e,t,i){if(e&&this.hass){if(this._templateSubscriptions.has(t)){try{const e=this._templateSubscriptions.get(t);if(e){const t=await e;t&&"function"==typeof t&&await t()}}catch(e){}this._templateSubscriptions.delete(t)}try{const n=new Promise(((n,o)=>{n(this.hass.connection.subscribeMessage((e=>{const n=e.result;this.hass.__uvc_template_strings||(this.hass.__uvc_template_strings={}),this.hass.__uvc_template_strings[t]=n;const o=this.parseTemplateResult(n,t);o!==this._templateResults.get(t)&&i&&i(),this._templateResults.set(t,o),this._evaluationCache.set(t,{value:o,timestamp:Date.now(),stringValue:n})}),{type:"render_template",template:e}))}));this._templateSubscriptions.set(t,n)}catch(t){console.error(`[UltraVehicleCard] Failed to subscribe to template: ${e}`,t)}}}parseTemplateResult(e,t){if(t&&t.startsWith("info_entity_"))return!0;if(t&&t.startsWith("state_text_"))return!0;if(null==e)return!1;if("boolean"==typeof e)return e;if("number"==typeof e)return 0!==e;if("string"==typeof e){const t=e.toLowerCase().trim();return"true"===t||"on"===t||"yes"===t||"active"===t||"home"===t||"1"===t||"open"===t||"unlocked"===t||"false"!==t&&"off"!==t&&"no"!==t&&"inactive"!==t&&"not_home"!==t&&"away"!==t&&"0"!==t&&"closed"!==t&&"locked"!==t&&"unavailable"!==t&&"unknown"!==t&&""!==t}return console.warn(`[UltraVehicleCard] Template evaluated to ambiguous type '${typeof e}', interpreting as false.`),!1}async unsubscribeAllTemplates(){for(const[e,t]of this._templateSubscriptions.entries())try{if(t){const e=await Promise.resolve(t).catch((e=>null));if(e&&"function"==typeof e)try{await e()}catch(e){}}}catch(e){}this._templateSubscriptions.clear(),this._templateResults.clear(),this._evaluationCache.clear()}updateHass(e){this.hass=e,this._evaluationCache.clear()}}},371:(e,t,i)=>{i.d(t,{X:()=>r});var n=i(183),o=i(914),a=i(456);class r{static render(e,t,i){var r;const l=e.display_conditions||[],s=e.display_mode||"always",d=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en";return n.qy`
      <div class="uc-global-logic-tab">
        ${o.Q.injectCleanFormStyles()}
        <!-- Display Mode -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          ${o.Q.renderField((0,a.kg)("editor.layout_logic.display_title",d,"Display this Module"),(0,a.kg)("editor.layout_logic.display_desc",d,'Control when this module is shown. Choose "Always" to keep it visible. Select "If EVERY" or "If ANY" to display it only when the conditions you add below evaluate to true.'),t,{display_mode:s},[o.Q.createSchemaItem("display_mode",{select:{options:[{value:"always",label:(0,a.kg)("editor.layout_logic.always",d,"Always")},{value:"every",label:(0,a.kg)("editor.layout_logic.every",d,"If EVERY condition below is met")},{value:"any",label:(0,a.kg)("editor.layout_logic.any",d,"If ANY condition below is met")}],mode:"dropdown"}})],(e=>{i({display_mode:e.detail.value.display_mode})}))}
        </div>

        <!-- Conditions List -->
        ${"always"!==s?n.qy`
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
              >
                <div
                  style="display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px;"
                >
                  <div style="font-size: 16px; font-weight: 700;">
                    ${(0,a.kg)("editor.layout_logic.conditions",d,"Conditions")}
                  </div>
                  <button
                    class="add-condition"
                    @click=${()=>{const e={id:`cond_${Date.now()}_${Math.random().toString(36).slice(2,7)}`,type:"entity_state",ui_expanded:!0,entity:"",operator:"=",value:""},t=[...l,e];i({display_conditions:t})}}
                    style="display:flex; align-items:center; gap:8px; padding:6px 10px; border:1px dashed var(--primary-color); background:none; color:var(--primary-color); border-radius:6px; cursor:pointer;"
                    title="${(0,a.kg)("editor.layout_logic.add_condition",d,"Add Condition")}"
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                    ${(0,a.kg)("editor.layout_logic.add_condition",d,"Add Condition")}
                  </button>
                </div>

                <div style="display:flex; flex-direction: column; gap: 12px;">
                  ${0===l.length?n.qy`
                        <div
                          style="text-align: center; padding: 24px; color: var(--secondary-text-color); font-style: italic;"
                        >
                          ${(0,a.kg)("editor.layout_logic.no_conditions",d,'No conditions added yet. Click "Add Condition" to get started.')}
                        </div>
                      `:""}
                  ${l.map(((e,r)=>{const s=t=>{const n=[...l];n[r]=Object.assign(Object.assign({},e),t),i({display_conditions:n})},c=!1!==e.ui_expanded,u=e.custom_name||`${(0,a.kg)("editor.layout_logic.condition_header",d,"Condition")} ${r+1}`;return n.qy` <div
                      class="uc-condition-item"
                      draggable="true"
                      @dragstart=${e=>{e.dataTransfer&&(e.dataTransfer.setData("text/plain",String(r)),e.dataTransfer.effectAllowed="move")}}
                      @dragover=${e=>{e.preventDefault()}}
                      @drop=${e=>{if(e.preventDefault(),!e.dataTransfer)return;const t=Number(e.dataTransfer.getData("text/plain")),n=r;if(isNaN(t)||t===n)return;const o=[...l],[a]=o.splice(t,1);o.splice(n,0,a),i({display_conditions:o})}}
                      style="border:1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color); overflow: hidden;"
                    >
                      <div
                        class="uc-condition-header"
                        style="display:flex; align-items:center; justify-content: space-between; gap:10px; padding: 12px 14px; border-bottom: 1px solid var(--divider-color);"
                      >
                        <div style="display:flex; align-items:center; gap:10px; min-width:0;">
                          <button
                            @click=${()=>s({ui_expanded:!c})}
                            title=${c?"Collapse":"Expand"}
                            style="background:none; border:none; color:var(--secondary-text-color); cursor:pointer;"
                          >
                            <ha-icon
                              icon=${c?"mdi:chevron-down":"mdi:chevron-right"}
                            ></ha-icon>
                          </button>
                          <span
                            style="font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"
                            >${u}</span
                          >
                        </div>
                        <div style="display:flex; align-items:center; gap:4px; flex-shrink:0;">
                          <button
                            @click=${()=>{const t=Object.assign(Object.assign({},e),{id:`cond_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}),n=[...l];n.splice(r+1,0,t),i({display_conditions:n})}}
                            style="background:none; border:none; padding:4px; cursor:pointer; color: var(--secondary-text-color);"
                            title="Duplicate Condition"
                          >
                            <ha-icon
                              icon="mdi:content-copy"
                              style="--mdi-icon-size: 18px;"
                            ></ha-icon>
                          </button>
                          <button
                            @click=${()=>{const e=l.filter(((e,t)=>t!==r));i({display_conditions:e})}}
                            style="background:none; border:none; padding:4px; cursor:pointer; color: var(--error-color);"
                            title="Remove Condition"
                          >
                            <ha-icon
                              icon="mdi:trash-can-outline"
                              style="--mdi-icon-size: 18px;"
                            ></ha-icon>
                          </button>
                          <button
                            class="condition-drag-handle"
                            title="Drag to reorder"
                            style="background:none; border:none; padding:4px; cursor:grab; display:inline-flex; align-items:center; justify-content:center; color: var(--secondary-text-color);"
                          >
                            <ha-icon icon="mdi:dots-grid" style="--mdi-icon-size: 18px;"></ha-icon>
                          </button>
                        </div>
                      </div>

                      ${c?n.qy`
                            <div
                              style="padding: 12px 14px; display:flex; flex-direction:column; gap:12px;"
                            >
                              ${o.Q.renderField((0,a.kg)("editor.layout_logic.custom_name",d,"Custom Name"),(0,a.kg)("editor.layout_logic.custom_name_desc",d,"Optional: Give this condition a custom name for easier identification"),t,{custom_name:e.custom_name||""},[o.Q.createSchemaItem("custom_name",{text:{}})],(e=>s(e.detail.value)))}
                              ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_type",d,"Condition Type"),"",t,{type:e.type||"entity_state"},[o.Q.createSchemaItem("type",{select:{options:[{value:"entity_state",label:(0,a.kg)("editor.layout_logic.condition_types.entity_state",d,"Entity State")},{value:"entity_attribute",label:(0,a.kg)("editor.layout_logic.condition_types.entity_attribute",d,"Entity Attribute")},{value:"time",label:(0,a.kg)("editor.layout_logic.condition_types.time",d,"Time Range")},{value:"template",label:(0,a.kg)("editor.layout_logic.condition_types.template",d,"Template")}],mode:"dropdown"}})],(e=>{const t=e.detail.value.type,i={type:t};"entity_state"===t?Object.assign(i,{entity:"",operator:"=",value:""}):"entity_attribute"===t?Object.assign(i,{entity:"",attribute:"",operator:"=",value:""}):"time"===t?Object.assign(i,{time_from:"00:00",time_to:"23:59"}):"template"===t&&Object.assign(i,{template:""}),s(i)}))}
                              ${"entity_state"===(e.type||"entity_state")?n.qy`
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.entity",d,"Entity"),"",t,{entity:e.entity||""},[o.Q.createSchemaItem("entity",{entity:{}})],(e=>s(e.detail.value)))}
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.operator",d,"Operator"),"",t,{operator:e.operator||"="},[o.Q.createSchemaItem("operator",{select:{options:[{value:"=",label:"="},{value:"!=",label:"!="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="},{value:"contains",label:"contains"},{value:"not_contains",label:"not_contains"},{value:"has_value",label:"has_value"},{value:"no_value",label:"no_value"}],mode:"dropdown"}})],(e=>s(e.detail.value)))}
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.value",d,"Value"),"",t,{value:e.value||""},[o.Q.createSchemaItem("value",{text:{}})],(e=>s(e.detail.value)))}
                                  `:"entity_attribute"===e.type?n.qy`
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.entity",d,"Entity"),"",t,{entity:e.entity||""},[o.Q.createSchemaItem("entity",{entity:{}})],(e=>s(e.detail.value)))}
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.attribute",d,"Attribute"),"",t,{attribute:e.attribute||""},[o.Q.createSchemaItem("attribute",{text:{}})],(e=>s(e.detail.value)))}
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.operator",d,"Operator"),"",t,{operator:e.operator||"="},[o.Q.createSchemaItem("operator",{select:{options:[{value:"=",label:"="},{value:"!=",label:"!="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="},{value:"contains",label:"contains"},{value:"not_contains",label:"not_contains"}],mode:"dropdown"}})],(e=>s(e.detail.value)))}
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.value",d,"Value"),"",t,{value:e.value||""},[o.Q.createSchemaItem("value",{text:{}})],(e=>s(e.detail.value)))}
                                  `:"time"===e.type?n.qy`
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.time_from",d,"From"),"",t,{time_from:e.time_from||"00:00"},[o.Q.createSchemaItem("time_from",{text:{}})],(e=>s(e.detail.value)))}
                                    ${o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.time_to",d,"To"),"",t,{time_to:e.time_to||"23:59"},[o.Q.createSchemaItem("time_to",{text:{}})],(e=>s(e.detail.value)))}
                                  `:o.Q.renderField((0,a.kg)("editor.layout_logic.condition_fields.template",d,"Template"),"Jinja2 template that should evaluate to true/false.",t,{template:e.template||""},[o.Q.createSchemaItem("template",{text:{multiline:!0}})],(e=>s(e.detail.value)))}
                            </div>
                          `:""}
                    </div>`}))}
                </div>
              </div>
            `:""}
      </div>
    `}}},381:(e,t,i)=>{async function n(e,t){var i;if(!t)throw console.error("[UPLOAD] Missing file."),new Error("No file provided for upload.");if(!(e&&e.auth&&e.auth.data&&e.auth.data.access_token))throw console.error("[UPLOAD] Missing Home Assistant authentication details."),new Error("Authentication details are missing.");const n=new FormData;n.append("file",t);let o="";o=e.connection&&"string"==typeof(null===(i=e.connection.options)||void 0===i?void 0:i.url)?e.connection.options.url.replace(/^ws/,"http"):"function"==typeof e.hassUrl?e.hassUrl():`${window.location.protocol}//${window.location.host}`;const a=`${o.replace(/\/$/,"")}/api/image/upload`;try{const t=await fetch(a,{method:"POST",headers:{Authorization:`Bearer ${e.auth.data.access_token}`},body:n});if(!t.ok){const e=await t.text();throw console.error(`[UPLOAD] Failed to upload image via ${a}: ${t.status} ${t.statusText}`,e),new Error(`Failed to upload image via ${a}: ${t.statusText}`)}const i=await t.json();if(!i||!i.id)throw console.error(`[UPLOAD] Invalid response from ${a}: missing id`,i),new Error(`Invalid response from ${a}: missing id`);return`/api/image/serve/${i.id}`}catch(e){throw console.error(`[UPLOAD] Error during fetch to ${a}:`,e),new Error(`Upload via ${a} failed: ${e instanceof Error?e.message:"Unknown network error"}`)}}function o(e,t){if(!t)return"";if(t.startsWith("http"))return t;if(t.startsWith("data:image/"))return t;if(t.includes("/api/image/serve/")){const i=t.match(/\/api\/image\/serve\/([^\/]+)/);if(i&&i[1]){const n=i[1];try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/api/image/serve/${n}/original`}catch(e){return t}}return t}if(t.startsWith("local/")||t.includes("/local/")||t.startsWith("media-source://")){const i=t.replace(/^\/?local\//,"").replace(/^media-source:\/\/media_source\/local\//,"");return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/local/${i}`}return t.startsWith("/")?`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}${t}`:t}i.d(t,{V:()=>o,m:()=>n})},397:(e,t,i)=>{i.d(t,{S:()=>a});var n=i(345);class o{constructor(){this.hass=null,this.templateService=null}static getInstance(){return o.instance||(o.instance=new o),o.instance}setHass(e){this.hass=e,e&&(this.templateService=new n.I(e))}evaluateDisplayConditions(e,t="always"){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if("always"===t||!e||0===e.length)return!0;const i=e.map((e=>this.evaluateSingleCondition(e)));switch(t){case"every":return i.every((e=>e));case"any":return i.some((e=>e));default:return!0}}evaluateModuleVisibility(e){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if(e.template_mode&&e.template){const t={id:`template_${e.id}`,type:"template",template:e.template};return this.evaluateTemplateCondition(t)}return this.evaluateDisplayConditions(e.display_conditions||[],e.display_mode||"always")}evaluateRowVisibility(e){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if(e.template_mode&&e.template){const t={id:`template_${e.id}`,type:"template",template:e.template};return this.evaluateTemplateCondition(t)}return this.evaluateDisplayConditions(e.display_conditions||[],e.display_mode||"always")}evaluateColumnVisibility(e){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if(e.template_mode&&e.template){const t={id:`template_${e.id}`,type:"template",template:e.template};return this.evaluateTemplateCondition(t)}return this.evaluateDisplayConditions(e.display_conditions||[],e.display_mode||"always")}evaluateSingleCondition(e){if(!1===e.enabled)return!0;switch(e.type){case"entity_state":case"entity":return this.evaluateEntityStateCondition(e);case"entity_attribute":return this.evaluateEntityAttributeCondition(e);case"time":return this.evaluateTimeCondition(e);case"template":return this.evaluateTemplateCondition(e);default:return console.warn("[LogicService] Unknown condition type:",e.type),!0}}evaluateEntityStateCondition(e){if(!e.entity||!this.hass)return!0;const t=this.hass.states[e.entity];if(!t)return console.warn(`[LogicService] Entity not found: ${e.entity}`),!0;const i=e.operator||"=",n=e.value,o=t.state;switch(i){case"=":return o===String(n);case"!=":return o!==String(n);case">":const e=this.tryParseNumber(o),t=this.tryParseNumber(n);return null!==e&&null!==t&&e>t;case">=":const a=this.tryParseNumber(o),r=this.tryParseNumber(n);return null!==a&&null!==r&&a>=r;case"<":const l=this.tryParseNumber(o),s=this.tryParseNumber(n);return null!==l&&null!==s&&l<s;case"<=":const d=this.tryParseNumber(o),c=this.tryParseNumber(n);return null!==d&&null!==c&&d<=c;case"contains":return String(o).toLowerCase().includes(String(n).toLowerCase());case"not_contains":return!String(o).toLowerCase().includes(String(n).toLowerCase());case"has_value":return null!=o&&""!==o;case"no_value":return null==o||""===o;default:return console.warn(`[LogicService] Unknown operator: ${i}`),!0}}evaluateEntityAttributeCondition(e){if(!e.entity||!e.attribute||!this.hass)return!0;const t=this.hass.states[e.entity];if(!t)return console.warn(`[LogicService] Entity not found: ${e.entity}`),!0;const i=t.attributes[e.attribute];if(void 0===i)return console.warn(`[LogicService] Attribute '${e.attribute}' not found on entity '${e.entity}'`),!0;const n=e.operator||"=",o=e.value,a=i;switch(n){case"=":return String(a)===String(o);case"!=":return String(a)!==String(o);case">":const e=this.tryParseNumber(a),t=this.tryParseNumber(o);return null!==e&&null!==t&&e>t;case">=":const i=this.tryParseNumber(a),r=this.tryParseNumber(o);return null!==i&&null!==r&&i>=r;case"<":const l=this.tryParseNumber(a),s=this.tryParseNumber(o);return null!==l&&null!==s&&l<s;case"<=":const d=this.tryParseNumber(a),c=this.tryParseNumber(o);return null!==d&&null!==c&&d<=c;case"contains":return String(a).toLowerCase().includes(String(o).toLowerCase());case"not_contains":return!String(a).toLowerCase().includes(String(o).toLowerCase());case"has_value":return null!=a&&""!==a;case"no_value":return null==a||""===a;default:return console.warn(`[LogicService] Unknown operator: ${n}`),!0}}evaluateTimeCondition(e){if(!e.time_from||!e.time_to)return!0;const t=new Date,i=60*t.getHours()+t.getMinutes(),[n,o]=e.time_from.split(":").map(Number),[a,r]=e.time_to.split(":").map(Number),l=60*n+o,s=60*a+r;return l<=s?i>=l&&i<=s:i>=l||i<=s}evaluateTemplateCondition(e){if(!e.template||!this.hass)return!0;try{const t=`logic_condition_${e.id}_${e.template}`;if(this.templateService)if(this.templateService.hasTemplateSubscription(t)){const e=this.templateService.getTemplateResult(t);if(void 0!==e)return e}else this.templateService.subscribeToTemplate(e.template,t,(()=>{}));this.hass.callApi&&this.hass.callApi("POST","template",{template:e.template}).then((e=>{const i=e.toLowerCase().trim();let n;if(["true","on","yes","1"].includes(i))n=!0;else if(["false","off","no","0","unavailable","unknown","none",""].includes(i))n=!1;else{const e=parseFloat(i);n=!isNaN(e)&&0!==e}this.templateService&&this.templateService._templateResults.set(t,n)})).catch((e=>{console.warn("[LogicService] Error evaluating template via API:",e)}));const i=e.template;if(i.includes("{% if ")&&i.includes(" %}")){const e=i.match(/\{\%\s*if\s+(.+?)\s*\%\}/);if(e){const t=e[1].match(/states\(['"]([^'"]+)['"]\)\s*(==|!=)\s*['"]([^'"]+)['"]/);if(t){const e=t[1],i=t[2],n=t[3],o=this.hass.states[e];if(o){const e=o.state;if("=="===i)return e===n;if("!="===i)return e!==n}}}}const n=/\{\{\s*states\(['"]([^'"]+)['"]\)\s*\}\}/g;let o,a=i;for(;null!==(o=n.exec(i));){const e=o[1],t=this.hass.states[e],i=t?t.state:"unknown";a=a.replace(o[0],i)}if(a!==i){const e=a.toLowerCase().trim();if(["true","on","yes","1"].includes(e))return!0;if(["false","off","no","0","unavailable","unknown","none",""].includes(e))return!1}return!0}catch(e){return console.warn("[LogicService] Error evaluating template condition:",e),!0}}tryParseNumber(e){if("number"==typeof e)return e;if("string"==typeof e){const t=parseFloat(e);return isNaN(t)?null:t}return null}evaluateLogicProperties(e){if(!e.logic_entity||!this.hass)return!0;const t={id:"logic-property",type:e.logic_attribute?"entity_attribute":"entity_state",entity:e.logic_entity,attribute:e.logic_attribute,operator:e.logic_operator||"=",value:e.logic_value};return this.evaluateSingleCondition(t)}}const a=o.getInstance()},400:(e,t,i)=>{i.d(t,{s:()=>n});class n{static getEntityIcon(e,t){if(!e||!(null==t?void 0:t.states[e]))return null;const i=t.states[e];return this._getHomeAssistantComputedIcon(e,i,t)||this._getEnhancedIconForEntity(e,i)}static _getHomeAssistantComputedIcon(e,t,i){var n,o,a,r,l;if(null===(n=t.attributes)||void 0===n?void 0:n.icon)return t.attributes.icon;try{if(null===(a=null===(o=window.customCards)||void 0===o?void 0:o.helpers)||void 0===a?void 0:a.stateIcon){const e=window.customCards.helpers.stateIcon(t);if(e)return e}const n=[window.stateIcon,window.computeStateIcon,window.computeEntityIcon,null===(r=window.hassIcons)||void 0===r?void 0:r.stateIcon,null===(l=window.hassIcons)||void 0===l?void 0:l.computeStateIcon,i.stateIcon,i.computeStateIcon,i.computeEntityIcon];for(const e of n)if("function"==typeof e)try{const i=e(t);if(i)return i}catch(e){}if(i.entities&&i.entities[e]){const t=i.entities[e];if(t.icon)return t.icon}if(e.startsWith("weather.")){const e={"clear-night":"mdi:weather-night",cloudy:"mdi:weather-cloudy",fog:"mdi:weather-fog",hail:"mdi:weather-hail",lightning:"mdi:weather-lightning","lightning-rainy":"mdi:weather-lightning-rainy",partlycloudy:"mdi:weather-partly-cloudy",pouring:"mdi:weather-pouring",rainy:"mdi:weather-rainy",snowy:"mdi:weather-snowy","snowy-rainy":"mdi:weather-snowy-rainy",sunny:"mdi:weather-sunny",windy:"mdi:weather-windy","windy-variant":"mdi:weather-windy-variant",exceptional:"mdi:weather-exceptional"},i=t.state;if(e[i])return e[i]}}catch(e){console.debug("Failed to compute HA icon, falling back to enhanced detection:",e)}return null}static _getEnhancedIconForEntity(e,t){var i,n,o;const a=e.split(".")[0],r=e.split(".")[1]||"",l=null===(i=t.attributes)||void 0===i?void 0:i.device_class,s=null===(n=t.attributes)||void 0===n?void 0:n.unit_of_measurement,d=(null===(o=t.attributes)||void 0===o?void 0:o.friendly_name)||"",c=t.state,u=r.toLowerCase(),p=d.toLowerCase();return this._isBatteryRelated(u,p,l,s)?this._isChargingRelated(u,p)?this._getChargingBatteryIcon(c,s):this._getBatteryIcon(c,s):this._isTemperatureRelated(u,p,l,s)?"mdi:thermometer":this._isHumidityRelated(u,p,l,s)?"mdi:water-percent":this._isPowerRelated(u,p,l,s)?"mdi:flash":this._isSignalRelated(u,p)?"mdi:wifi":"binary_sensor"===a&&this._isDoorWindowRelated(u,p)?"on"===c?"mdi:door-open":"mdi:door-closed":"binary_sensor"===a&&this._isMotionRelated(u,p)?"on"===c?"mdi:motion-sensor":"mdi:motion-sensor-off":this._isIlluminanceRelated(u,p,l,s)?"mdi:brightness-5":this._isPressureRelated(u,p,l,s)?"mdi:gauge":this._getDefaultIconForDomain(a,l,c)}static _isBatteryRelated(e,t,i,n){return"battery"===i||e.includes("battery")||e.includes("charge")||e.includes("power_level")||t.includes("battery")||t.includes("charge")||"%"===n}static _isChargingRelated(e,t){return["charging","charge_target","charging_target","charge_limit"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _getBatteryIcon(e,t){const i=parseFloat(e);return isNaN(i)?"mdi:battery-unknown":i>=95?"mdi:battery":i>=85?"mdi:battery-90":i>=75?"mdi:battery-80":i>=65?"mdi:battery-70":i>=55?"mdi:battery-60":i>=45?"mdi:battery-50":i>=35?"mdi:battery-40":i>=25?"mdi:battery-30":i>=15?"mdi:battery-20":i>=5?"mdi:battery-10":"mdi:battery-alert"}static _getChargingBatteryIcon(e,t){const i=parseFloat(e);return isNaN(i)?"mdi:battery-charging":i>=95?"mdi:battery-charging-100":i>=85?"mdi:battery-charging-90":i>=75?"mdi:battery-charging-80":i>=65?"mdi:battery-charging-70":i>=55?"mdi:battery-charging-60":i>=45?"mdi:battery-charging-50":i>=35?"mdi:battery-charging-40":i>=25?"mdi:battery-charging-30":i>=15?"mdi:battery-charging-20":i>=5?"mdi:battery-charging-10":"mdi:battery-charging-outline"}static _isTemperatureRelated(e,t,i,n){return"temperature"===i||e.includes("temp")||t.includes("temperature")||"°C"===n||"°F"===n||"K"===n}static _isHumidityRelated(e,t,i,n){return"humidity"===i||e.includes("humidity")||t.includes("humidity")||"%"===n&&(e.includes("humid")||t.includes("humid"))}static _isPowerRelated(e,t,i,n){return"power"===i||"energy"===i||e.includes("power")||e.includes("energy")||e.includes("consumption")||"W"===n||"kW"===n||"kWh"===n||"Wh"===n}static _isSignalRelated(e,t){return["signal","rssi","wifi","network"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _isDoorWindowRelated(e,t){return["door","window","gate"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _isMotionRelated(e,t){return["motion","movement","occupancy","presence"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _isIlluminanceRelated(e,t,i,n){return"illuminance"===i||e.includes("illuminance")||e.includes("brightness")||e.includes("lux")||"lx"===n||"lux"===n}static _isPressureRelated(e,t,i,n){return"pressure"===i||e.includes("pressure")||t.includes("pressure")||"hPa"===n||"mbar"===n||"Pa"===n||"psi"===n}static _getDefaultIconForDomain(e,t,i){return{alarm_control_panel:"mdi:shield",automation:"mdi:robot",binary_sensor:"mdi:radiobox-blank",button:"mdi:button-pointer",calendar:"mdi:calendar",camera:"mdi:video",climate:"mdi:thermostat",cover:"mdi:window-shutter",device_tracker:"mdi:account",fan:"mdi:fan",group:"mdi:google-circles-communities",humidifier:"mdi:air-humidifier",input_boolean:"mdi:toggle-switch",input_button:"mdi:button-pointer",input_datetime:"mdi:calendar-clock",input_number:"mdi:ray-vertex",input_select:"mdi:format-list-bulleted",input_text:"mdi:form-textbox",light:"mdi:lightbulb",lock:"mdi:lock",media_player:"mdi:speaker",number:"mdi:ray-vertex",person:"mdi:account",plant:"mdi:flower",remote:"mdi:remote",scene:"mdi:palette",script:"mdi:script-text",select:"mdi:format-list-bulleted",sensor:"mdi:eye",siren:"mdi:bullhorn",sun:"mdi:white-balance-sunny",switch:"mdi:toggle-switch",timer:"mdi:timer",vacuum:"mdi:robot-vacuum",water_heater:"mdi:thermometer",weather:"mdi:weather-partly-cloudy",zone:"mdi:map-marker"}[e]||"mdi:eye"}}},456:(e,t,i)=>{i.d(t,{kg:()=>P});const n=JSON.parse('{"editor":{"tabs":{"layout":"Layout Builder","settings":"Settings","about":"About"},"settings":{"title":"Card Settings","description":"Configure global card appearance and behavior."},"appearance":{"title":"Appearance","description":"Control the visual appearance of your card"},"spacing":{"title":"Spacing","description":"Control the spacing and positioning of your card"},"fields":{"card_background_color":"Card Background Color","card_background_color_desc":"The background color of the entire card","border_radius":"Border Radius","border_radius_desc":"Rounded corners for the card (in pixels)","card_padding":"Card Padding","card_padding_desc":"Internal spacing within the card","card_margin":"Card Margin","card_margin_desc":"External spacing around the card","unit_px":"px","reset_default":"Reset to default","reset_default_value":"Reset to default ({value})"},"tooltips":{"enter_fullscreen":"Enter Full Screen","return_dashboard":"Return to Dashboard","dashboard":"Dashboard"},"common":{"left":"Left","center":"Center","right":"Right","top":"Top","bottom":"Bottom","none":"None","state":"State","attribute":"Attribute","attribute_name":"Attribute Name","entity":"Entity","space_between":"Space Between","space_around":"Space Around","justify":"Justify","stretch":"Stretch","baseline":"Baseline"},"horizontal":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged horizontally within the container."},"alignment":{"horizontal":"Horizontal Alignment","horizontal_desc":"Choose how elements are aligned horizontally within the container.","vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"wrapping":{"title":"Allow Wrapping","desc":"Allow elements to wrap to the next line when they exceed the container width."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between horizontal elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"vertical":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged vertically within the container."},"alignment":{"vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between vertical elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"layout":{"live_preview":"Live Preview","toggle_preview":"Toggle preview","drag_to_move_module":"Drag to move module","edit_module":"Edit Module","duplicate_module":"Duplicate Module","delete_module":"Delete Module","drag_to_move_layout":"Drag to move layout module","horizontal_layout":"Horizontal Layout","vertical_layout":"Vertical Layout","add_module_to_layout":"Add Module to Layout","layout_settings":"Layout Settings","duplicate_layout":"Duplicate Layout","delete_layout":"Delete Layout","click_to_add_module":"Click to add a module","drop_modules_here":"Drop modules here","drag_to_reorder":"Drag to reorder","edit_child_module":"Edit Child Module","duplicate_child_module":"Duplicate Child Module","delete_child_module":"Delete Child Module","module_settings_title":"Module Settings","child_module_settings_title":"Child Module Settings","general_tab":"General","actions_tab":"Actions","other_tab":"Other","logic_tab":"Logic","design_tab":"Design","drag_to_resize":"Drag to resize","hidden_by_logic":"Hidden by Logic","add_row":"Add Row","add_row_tooltip":"Add a new row to your layout","row_settings":"Row Settings","column_settings":"Column Settings","row_background_color":"Row Background Color","column_gap":"Column Gap (px)","vertical_alignment":"Vertical Alignment","horizontal_alignment":"Horizontal Alignment","column_preview":"Column Preview","modules_count":"{count} modules","alignment_top":"Top","alignment_center":"Center","alignment_bottom":"Bottom","alignment_stretch":"Stretch","alignment_left":"Left","alignment_right":"Right"},"layout_logic":{"display_title":"Display this Element","display_desc":"Control when this element is shown. Choose \\"Always\\" to keep it visible. Select \\"If EVERY condition below is met\\" or \\"If ANY condition below is met\\" to display it only when the conditions you add below evaluate to true.","always":"Always","every":"If EVERY condition below is met","any":"If ANY condition below is met","conditions":"Conditions","add_condition":"Add Condition","no_conditions":"No conditions added yet. Click \\"Add Condition\\" to get started.","condition_types":{"entity_state":"Entity State","entity_attribute":"Entity Attribute","time":"Time Range","template":"Template"},"condition_fields":{"entity":"Entity","operator":"Operator","value":"Value","attribute":"Attribute","time_from":"From","time_to":"To","template":"Template"},"condition_header":"Condition","custom_name":"Custom Name","custom_name_desc":"Optional: Give this condition a custom name for easier identification","condition_type":"Condition Type"},"hover_effects":{"title":"Hover Effects","description":"Configure visual effects that appear when hovering over this module, row, or column.","effect":"Hover Effect","effect_desc":"Select the visual effect to apply when hovering","effects":{"none":"None","highlight":"Highlight","outline":"Outline","grow":"Grow","shrink":"Shrink","pulse":"Pulse","bounce":"Bounce","float":"Float","glow":"Glow","shadow":"Shadow","rotate":"Rotate","skew":"Skew","wobble":"Wobble","buzz":"Buzz","fade":"Fade"}},"about":{"developed_by":"Developed by","desc1":"A powerful modular card builder for Home Assistant","desc2":"Create custom layouts with a professional page-builder interface","desc3":"Modular layout system with conditional logic and professional design tools","github_repo":"Check Out Our Github","join_discord":"Join Our Discord","support_title":"Support Ultra Card","support_desc":"Your generous tips fuel the development of amazing features for this card! Without support from users like you, continued innovation wouldn\'t be possible.","leave_tip":"LEAVE A TIP (PAYPAL)","version":"Version"},"actions":{"title":"Link Configuration","description":"Configure what happens when users interact with this element. Choose different actions for tap, hold, and double-tap gestures.","tap_action":"Tap Action","tap_action_desc":"Action performed when tapping/clicking the module","hold_action":"Hold Action","hold_action_desc":"Action performed when holding down on the module","double_tap_action":"Double Tap Action","double_tap_action_desc":"Action performed when double-tapping the module","tap_behavior":"Tap Behavior","tap_behavior_desc":"Action to perform when the element is tapped/clicked.","hold_behavior":"Hold Behavior","hold_behavior_desc":"Action to perform when the element is pressed and held.","double_tap_behavior":"Double Tap Behavior","double_tap_behavior_desc":"Action to perform when the element is double-tapped/clicked."},"icon":{"entity_config":{"title":"ENTITY CONFIGURATION","desc":"Configure the entity and active/inactive states"},"entity":"Entity","entity_desc":"Select the entity this icon represents","inactive_state":"Inactive State","inactive_state_desc":"State value considered \\"inactive\\" (leave blank to use actual entity state)","active_state":"Active State","active_state_desc":"State value considered \\"active\\" (leave blank to use actual entity state)","icon_section":{"title":"Icon Configuration"},"inactive_icon":"Inactive Icon","inactive_icon_desc":"Icon to show when inactive","inactive_icon_config":"Inactive Icon Configuration","inactive_icon_config_desc":"Configure inactive icon settings","active_icon":"Active Icon","active_icon_desc":"Icon to show when active","icon_color_inactive":"Color when inactive","icon_color_active":"Color when active","background_shape_inactive":"Background shape when inactive","background_shape_active":"Background shape when active","background_color_inactive":"Background color when inactive","background_color_active":"Background color when active","icon_size_inactive":"Icon size when inactive","icon_size_active":"Icon size when active","inactive_icon_color":"Inactive icon color","active_icon_color":"Active icon color","inactive_icon_background":"Inactive icon background","active_icon_background":"Active icon background","inactive_icon_background_color":"Inactive icon background color","active_icon_background_color":"Active icon background color","name_section":{"title":"Name Configuration"},"inactive_name":"Inactive Name","inactive_name_desc":"Custom name when inactive","inactive_name_config":"Inactive Name Configuration","inactive_name_config_desc":"Configure inactive name settings","active_name":"Active Name","active_name_desc":"Custom name when active","custom_inactive_name":"Custom Inactive Name","custom_inactive_name_desc":"Override entity name when inactive (leave empty to use entity name)","custom_active_name":"Custom Active Name","custom_active_name_desc":"Override entity name when active (leave empty to use entity name)","name_color_inactive":"Name color when inactive","name_color_active":"Name color when active","name_size_inactive":"Name text size when inactive","name_size_active":"Name text size when active","inactive_name_color":"Inactive name color","active_name_color":"Active name color","state_section":{"title":"State Configuration"},"inactive_state_color":"Inactive state color","active_state_color":"Active state color","inactive_state_text":"Inactive state text","active_state_text":"Active state text","inactive_state_config":"Inactive State Configuration","inactive_state_config_desc":"Configure inactive state settings","custom_inactive_state":"Custom Inactive State","custom_inactive_state_desc":"Custom text when inactive (leave empty to use actual state)","custom_active_state":"Custom Active State","custom_active_state_desc":"Custom text when active (leave empty to use actual state)","state_color_inactive":"State color when inactive","state_color_active":"State color when active","state_size_inactive":"State text size when inactive","state_size_active":"State text size when active","background_section":{"title":"Inactive Background","desc":"Configure inactive background settings"},"template_section":{"title":"Advanced Template Mode","desc":"Use Jinja2 templates for advanced icon control. Templates can control visibility (true/false to show/hide icons) and customize state text. Return custom text for Active State, return actual entity state for Inactive State."},"template_mode":"Advanced Template Mode","template":"Template","animation_section":{"title":"Icon Animation","desc":"Configure animations for active and inactive states"},"active_animation":"Active Animation","active_animation_desc":"Animation when icon is active","inactive_animation":"Inactive Animation","inactive_animation_desc":"Animation when icon is inactive","animation_none":"None","animation_pulse":"Pulse","animation_spin":"Spin","animation_bounce":"Bounce","animation_flash":"Flash","animation_shake":"Shake","animation_vibrate":"Vibrate","animation_rotate_left":"Rotate Left","animation_rotate_right":"Rotate Right","animation_fade":"Fade","animation_scale":"Scale","animation_tada":"Tada"},"text":{"content_section":{"title":"Content Configuration","desc":"Configure the text content and basic settings for this module."},"text_content":"Text Content","text_content_desc":"Enter the text content to display in this module.","icon_section":{"title":"Icon Configuration","desc":"Choose an icon to display alongside the text content."},"icon":"Icon","icon_desc":"Choose an icon to display alongside the text. Leave empty for no icon.","icon_position":"Icon Position","icon_position_desc":"Choose where to position the icon relative to the text.","before_text":"Before Text","after_text":"After Text","template_mode":"Template Mode","template_mode_desc":"Use Home Assistant templating syntax to render text","value_template":"Value Template","value_template_desc":"Template to render the text using Jinja2 syntax","examples_title":"Common Examples:","example_basic":"Basic value","example_percent":"With percent"},"markdown":{"content":{"title":"Markdown Content","label":"Content","desc":"Enter your markdown content with full formatting support"},"features":{"title":"Markdown Features"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks"},"bar":{"bar_settings":{"title":"Bar Settings","desc":"Configure how the bar percentage is calculated and displayed."},"perc_type":{"entity":"Entity (0-100)","attribute":"Entity Attribute","difference":"Difference","template":"Template"},"attribute_section":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings"},"attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")","diff_section":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings"},"current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)","template_section":{"title":"Template Configuration","desc":"Configure template settings"},"percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings","attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")"},"diff_config":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings","current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)"},"template_config":{"title":"Template Configuration","desc":"Configure template settings","percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Bar Percentage Entity","desc_present":"The entity that provides the percentage value for the bar.","desc_empty":"Select an entity that provides a percentage value (0-100). Battery sensors are ideal for bars.","no_entity_warning":"No entity selected - Please choose a sensor with values between 0-100"},"limit_entity":{"title":"Limit Value Entity (Optional)","desc":"Optional: Add a vertical indicator line on the bar (e.g. charge limit for EV battery)."},"appearance":{"title":"Bar Appearance","direction":"Fill Direction","direction_desc":"Choose which direction the bar fills from as the value increases.","left_to_right":"Left to Right","right_to_left":"Right to Left","height":"Bar Height","height_desc":"Adjust the thickness of the progress bar in pixels.","border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the bar.","style":"Bar Style","style_desc":"Choose the visual style of the progress bar.","style_flat":"Flat (Default)","style_glossy":"Glossy","style_embossed":"Embossed","style_inset":"Inset","style_gradient":"Gradient Overlay","style_neon":"Neon Glow","style_outline":"Outline","style_glass":"Glass","style_metallic":"Metallic","style_neumorphic":"Neumorphic","style_dashed":"Dashed","style_dots":"Dots","width":"Bar Width","width_desc":"Set the bar width as percentage of container.","alignment":"Bar Alignment","alignment_desc":"Choose how to align the bar when it\'s less than 100% width."},"labels":{"alignment":"Label Alignment","alignment_desc":"Control how left and right labels are positioned."},"percentage":{"title":"Percentage Text Display","desc":"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.","text_size":"Text Size","text_size_desc":"Adjust the size of percentage text shown on the bar.","text_alignment":"Percentage Text Alignment"},"left":{"title":"Left Side","desc":"Configure the title and entity value shown on the left side of the bar. This is useful for displaying labels like \'Range\' or \'Battery\' alongside their values.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the left side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure left side settings"},"right":{"title":"Right Side","desc":"Configure the title and entity value shown on the right side of the bar. This is ideal for complementary information like \'Time to Full\' or secondary measurements.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the right side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure right side settings"},"colors":{"title":"Colors","bar_color":"Bar Color","background_color":"Background Color","border_color":"Border Color","limit_indicator":"Limit Indicator","percentage_text":"Percentage Text","left_side":"Left Side Colors","right_side":"Right Side Colors","title_color":"Title Color","value_color":"Value Color"},"gradient":{"title":"Gradient Mode","desc":"Apply a color gradient to the bar fill. When enabled, choose how the gradient is displayed and customize color stops below.","full":"Full","cropped":"Cropped","value_based":"Value Based"},"animation":{"title":"Bar Animation","desc":"Animate the bar fill using presets like charging stripes, pulse, glow and more. You can trigger animations based on an entity\'s state or attribute, and optionally override the animation when another condition is met.","trigger":{"title":"Animation Trigger","desc":"Select an entity to watch and define the value + animation to apply when it matches.","entity_desc":"Entity to evaluate for animation trigger","type":"Trigger Type","type_desc":"Choose whether to compare entity state or an attribute","attribute_name_desc":"Attribute name to compare (e.g., charging_status)","match_value":"Match Value","match_value_desc":"Text to compare against state or attribute (comparison is text-based)."},"type":"Animation Type","type_desc":"Select how the bar should animate when triggered.","types":{"charging":"Charging (Diagonal Lines)","pulse":"Pulse","blinking":"Blinking","bouncing":"Bouncing","glow":"Glow","rainbow":"Rainbow","bubbles":"Bubbles","fill":"Fill","ripple":"Ripple","traffic":"Traffic (Barber Pole)","heartbeat":"Heartbeat","flicker":"Flicker","shimmer":"Shimmer","vibrate":"Vibrate"},"override":{"title":"Action Animation Override","desc":"Select an action entity and state to define when this animation should override the regular animation","entity_desc":"Entity to evaluate for override trigger","type_desc":"Animation to use when override condition matches.","attribute_name_desc":"Attribute name to compare","match_value":"Override Match Value","match_value_desc":"Text comparison against state or attribute","type":"Override Animation Type"}}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Entity Attribute"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Entity","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Entity Attribute Configuration"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Attribute Name","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Image","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity"},"entity":"Entity","line":{"show_points":"Show Points","fill_area":"Fill Area","line_width":"Line Width","line_style":"Line Style"},"line_styles":{"solid":"Solid","dashed":"Dashed","dotted":"Dotted"},"display":{"title":"Display Options","show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","background_color":"Background Color","chart_options":"Chart Options","show_legend":"Show Legend","show_grid":"Show Grid","smooth_lines":"Smooth Lines","show_tooltips":"Show Tooltips","add_slice_gap":"Add Slice Gap"},"agg":{"mean":"Average","sum":"Sum","min":"Minimum","max":"Maximum","median":"Median","first":"First Value","last":"Last Value","count":"Count","delta":"Change"},"position":{"top":"Top","bottom":"Bottom","left":"Left","right":"Right","hidden":"Hidden","top_left":"Top Left","top_right":"Top Right","bottom_left":"Bottom Left","bottom_right":"Bottom Right","middle":"Center","center":"Center"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"reset_345":"Reset to default (345px)","reset_100":"Reset to default (100%)","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribute","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)"},"info":{"entity_section":{"title":"ENTITY CONFIGURATION"},"entity":"Entity","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Icon","icon_desc":"Choose an icon to display","icon_color":"Icon Color","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Color","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Color","template":{"title":"Template Mode","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Template Mode","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Value Template","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Value Size","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Icon Position","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Common Examples:","example_basic":"Basic value","example_units":"With units","example_round":"Round to 1 decimal"},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"align":{"left":"Left","center":"Center","right":"Right","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Before Text","after":"After Text","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"icon_field":"Icon","show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Icon Position","icon_position_desc":"Position of the icon relative to text","colors":{"title":"Colors","background":"Background Color","text":"Text Color"},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"None","color":"Color Change","scale":"Scale","glow":"Glow","lift":"Lift (translate Y)","hover_color":"Hover Color","glow_color":"Glow Color","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Entity","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Tap Action","desc":"Action to perform when button is tapped"},"hold":{"title":"Hold Action","desc":"Action to perform when button is held down"},"double":{"title":"Double Tap Action","desc":"Action to perform when button is double-tapped"}},"layout_extra":{"module_name":"Module Name:","module_name_placeholder":"Give this module a custom name to make it easier to identify in the editor.","module_name_help":"Give this module a custom name to make it easier to identify in the editor."},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"},"name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Center","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Template Mode","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Template Mode","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Common Examples:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Appearance"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Color","desc":"Color of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"},"text_content":{"title":"Text Content","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Color","desc":"Color of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space."},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Text","text_color":"Text Color","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":"– Default –","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"None","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Background","background_color":"Background Color","background_image_type":"Background Image Type","bg_none":"None","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Spacing","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Width","height":"Height","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Border Radius","border_style":"Border Style","border_width":"Border Width","border_color":"Border Color","margin":"Margin","padding":"Padding","top":"Top","right":"Right","bottom":"Bottom","left":"Left","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Color","box_shadow_color":"Box Shadow Color","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Animation Type","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"None","ease":"Ease","border_style_none":"None","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":"– Default –","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Text Module","image":"Image Module","icon":"Icon Module","bar":"Bar Module","info":"Info Module","button":"Button Module","separator":"Separator Module","markdown":"Markdown Module","camera":"Camera Module","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text"}}}');var o=i.t(n,2);const a=JSON.parse('{"editor":{"tabs":{"layout":"Konstruktor rozvržení","settings":"Nastavení","about":"O aplikaci"},"settings":{"title":"Nastavení karty","description":"Konfigurace globálního vzhledu a chování karty."},"appearance":{"title":"Vzhled","description":"Ovládání vizuálního vzhledu vaší karty"},"spacing":{"title":"Rozestupy","description":"Ovládání rozestupů a umístění vaší karty"},"fields":{"card_background_color":"Barva pozadí karty","card_background_color_desc":"Barva pozadí celé karty","border_radius":"Poloměr ohraničení","border_radius_desc":"Zaoblené rohy karty (v pixelech)","card_padding":"Vnitřní okraje karty","card_padding_desc":"Vnitřní rozestupy uvnitř karty","card_margin":"Vnější okraje karty","card_margin_desc":"Vnější rozestupy kolem karty","unit_px":"px","reset_default":"Obnovit výchozí","reset_default_value":"Obnovit výchozí ({value})"},"tooltips":{"enter_fullscreen":"Přejít na celou obrazovku","return_dashboard":"Návrat na nástěnku","dashboard":"Nástěnka"},"layout":{"live_preview":"Živý náhled","toggle_preview":"Přepnout náhled","drag_to_move_module":"Přetáhněte pro přesun modulu","edit_module":"Upravit modul","duplicate_module":"Duplikovat modul","delete_module":"Smazat modul","drag_to_move_layout":"Přetáhněte pro přesun modulu rozvržení","horizontal_layout":"Horizontální rozvržení","vertical_layout":"Vertikální rozvržení","add_module_to_layout":"Přidat modul do rozvržení","layout_settings":"Nastavení rozvržení","duplicate_layout":"Duplikovat rozvržení","delete_layout":"Smazat rozvržení","click_to_add_module":"Klikněte pro přidání modulu","drop_modules_here":"Přetáhněte moduly sem","drag_to_reorder":"Přetáhněte pro změnu pořadí","edit_child_module":"Upravit podřízený modul","duplicate_child_module":"Duplikovat podřízený modul","delete_child_module":"Smazat podřízený modul","module_settings_title":"Nastavení modulu","general_tab":"Obecné","actions_tab":"Akce","other_tab":"Ostatní","logic_tab":"Logika","design_tab":"Vzhled","drag_to_resize":"Přetáhněte pro změnu velikosti","hidden_by_logic":"Skryto logikou","child_module_settings_title":"Nastavení podřízeného modulu","add_row":"Přidat řádek","add_row_tooltip":"Přidejte nový řádek do vašeho rozvržení","row_settings":"Nastavení řádku","column_settings":"Nastavení sloupce","row_background_color":"Barva pozadí řádku","column_gap":"Mezera mezi sloupci (px)","vertical_alignment":"Vertikální zarovnání","horizontal_alignment":"Horizontální zarovnání","column_preview":"Náhled sloupce","modules_count":"{count} modulů","alignment_top":"Nahoře","alignment_center":"Střed","alignment_bottom":"Dole","alignment_stretch":"Roztáhnout","alignment_left":"Vlevo","alignment_right":"Vpravo"},"about":{"developed_by":"Vyvinuto","desc1":"Výkonný modulární stavitel karet pro Home Assistant","desc2":"Vytvářejte vlastní rozvržení s profesionálním rozhraním pro tvorbu stránek","desc3":"Modulární systém rozvržení s podmíněnou logikou a profesionálními nástroji pro design","github_repo":"GitHub repozitář","version":"Verze","join_discord":"Připojte se k našemu Discordu","support_title":"Podpořte Ultra Card","support_desc":"Vaše štědré příspěvky podporují vývoj úžasných funkcí pro tuto kartu! Bez podpory uživatelů jako jste vy by pokračující inovace nebyly možné.","leave_tip":"ZANECHAT PŘÍSPĚVEK (PAYPAL)"},"actions":{"title":"Konfigurace akcí","description":"Konfigurujte, jak tento modul reaguje na interakce uživatelů. Používá nativní systém akcí Home Assistantu pro konzistentní chování na vašem dashboardu.","tap_action":"Akce při klepnutí","tap_action_desc":"Akce provedená při klepnutí/kliknutí na modul","hold_action":"Akce při podržení","hold_action_desc":"Akce provedená při podržení modulu","double_tap_action":"Akce při dvojitém klepnutí","double_tap_action_desc":"Akce provedená při dvojitém klepnutí na modul","tap_behavior":"Chování při klepnutí","tap_behavior_desc":"Akce k provedení při klepnutí/kliknutí na prvek.","hold_behavior":"Chování při podržení","hold_behavior_desc":"Akce k provedení při stisknutí a podržení prvku.","double_tap_behavior":"Chování při dvojitém klepnutí","double_tap_behavior_desc":"Akce k provedení při dvojitém klepnutí/kliknutí na prvek."},"icon":{"entity_config":{"title":"KONFIGURACE ENTITY","desc":"Konfigurace entity a aktivních/neaktivních stavů"},"entity":"Entita","entity_desc":"Vyberte entitu, kterou tato ikona představuje","inactive_state":"Neaktivní stav","inactive_state_desc":"Hodnota stavu považovaná za \\"neaktivní\\" (ponechte prázdné pro použití skutečného stavu entity)","active_state":"Aktivní stav","active_state_desc":"Hodnota stavu považovaná za \\"aktivní\\" (ponechte prázdné pro použití skutečného stavu entity)","active_animation":"Aktivní animace","active_animation_desc":"Animace při aktivní ikoně","active_icon":"Aktivní ikona","active_icon_background":"Pozadí aktivní ikony","active_icon_background_color":"Barva pozadí aktivní ikony","active_icon_color":"Barva aktivní ikony","active_icon_desc":"Ikona zobrazovaná při aktivním stavu","active_name":"Aktivní název","active_name_color":"Barva aktivního názvu","active_name_desc":"Vlastní název při aktivním stavu","active_state_color":"Barva aktivního stavu","active_state_text":"Text aktivního stavu","animation_bounce":"Poskakování","animation_fade":"Mizení","animation_flash":"Blikání","animation_none":"Žádný","animation_pulse":"Pulsování","animation_rotate_left":"Rotace vlevo","animation_rotate_right":"Rotace vpravo","animation_scale":"Škálování","animation_section":{"desc":"Konfigurace animací pro aktivní a neaktivní stavy","title":"Animace ikony"},"animation_shake":"Třesení","animation_spin":"Otáčení","animation_tada":"Tada","animation_vibrate":"Vibrace","background_color_active":"Barva pozadí při aktivním stavu","background_color_inactive":"Barva pozadí při neaktivním stavu","background_section":{"desc":"Konfigurace nastavení neaktivního pozadí","title":"Neaktivní pozadí"},"background_shape_active":"Tvar pozadí při aktivním stavu","background_shape_inactive":"Tvar pozadí při neaktivním stavu","custom_active_name":"Vlastní aktivní název","custom_active_name_desc":"Přepsat název entity při aktivním stavu (ponechte prázdné pro použití názvu entity)","custom_active_state":"Vlastní aktivní stav","custom_active_state_desc":"Vlastní text při aktivním stavu (ponechte prázdné pro skutečný stav)","custom_inactive_name":"Vlastní neaktivní název","custom_inactive_name_desc":"Přepsat název entity při neaktivním stavu (ponechte prázdné pro použití názvu entity)","custom_inactive_state":"Vlastní neaktivní stav","custom_inactive_state_desc":"Vlastní text při neaktivním stavu (ponechte prázdné pro skutečný stav)","icon_color_active":"Barva při aktivním stavu","icon_color_inactive":"Barva při neaktivním stavu","icon_section":{"title":"Konfigurace ikony"},"icon_size_active":"Velikost ikony při aktivním stavu","icon_size_inactive":"Velikost ikony při neaktivním stavu","inactive_animation":"Neaktivní animace","inactive_animation_desc":"Animace při neaktivní ikoně","inactive_icon":"Neaktivní ikona","inactive_icon_background":"Pozadí neaktivní ikony","inactive_icon_background_color":"Barva pozadí neaktivní ikony","inactive_icon_color":"Barva neaktivní ikony","inactive_icon_config":"Konfigurace neaktivní ikony","inactive_icon_config_desc":"Konfigurace nastavení neaktivní ikony","inactive_icon_desc":"Ikona zobrazovaná při neaktivním stavu","inactive_name":"Neaktivní název","inactive_name_color":"Barva neaktivního názvu","inactive_name_config":"Konfigurace neaktivního názvu","inactive_name_config_desc":"Konfigurace nastavení neaktivního názvu","inactive_name_desc":"Vlastní název při neaktivním stavu","inactive_state_color":"Barva neaktivního stavu","inactive_state_config":"Konfigurace neaktivního stavu","inactive_state_config_desc":"Konfigurace nastavení neaktivního stavu","inactive_state_text":"Text neaktivního stavu","name_color_active":"Barva názvu při aktivním stavu","name_color_inactive":"Barva názvu při neaktivním stavu","name_section":{"title":"Konfigurace názvu"},"name_size_active":"Velikost textu názvu při aktivním stavu","name_size_inactive":"Velikost textu názvu při neaktivním stavu","state_color_active":"Barva stavu při aktivním stavu","state_color_inactive":"Barva stavu při neaktivním stavu","state_section":{"title":"Konfigurace stavu"},"state_size_active":"Velikost textu stavu při aktivním stavu","state_size_inactive":"Velikost textu stavu při neaktivním stavu","template":"Šablona","template_mode":"Pokročilý režim šablony","template_section":{"desc":"Použijte šablony Jinja2 pro pokročilé ovládání ikon. Šablony mohou ovládat viditelnost (true/false pro zobrazení/skrytí ikon) a přizpůsobit text stavu. Vraťte vlastní text pro aktivní stav, vraťte skutečný stav entity pro neaktivní stav.","title":"Pokročilý režim šablony"}},"text":{"content_section":{"title":"Konfigurace obsahu","desc":"Konfigurace textového obsahu a základních nastavení pro tento modul."},"text_content":"Textový obsah","text_content_desc":"Zadejte textový obsah k zobrazení v tomto modulu.","icon_section":{"title":"Konfigurace ikony","desc":"Vyberte ikonu k zobrazení vedle textového obsahu."},"icon":"Ikona","icon_desc":"Vyberte ikonu k zobrazení vedle textu. Ponechte prázdné pro žádnou ikonu.","icon_position":"Pozice ikony","icon_position_desc":"Vyberte, kde umístit ikonu vzhledem k textu.","before_text":"Před textem","after_text":"Za textem","template_mode":"Režim šablony","template_mode_desc":"Použijte syntaxi šablon Home Assistantu pro vykreslení textu","value_template":"Šablona hodnoty","value_template_desc":"Šablona pro vykreslení textu pomocí syntaxe Jinja2","examples_title":"Běžné příklady:","example_basic":"Základní hodnota","example_percent":"S procenty"},"bar":{"bar_settings":{"title":"Nastavení pruhu","desc":"Konfigurace způsobu výpočtu a zobrazení procent pruhu."},"perc_type":{"entity":"Entita (0-100)","attribute":"Atribut entity","difference":"Rozdíl","template":"Šablona"},"attribute_section":{"title":"Konfigurace atributu entity","desc":"Konfigurace nastavení atributu entity"},"attribute_entity":"Entita atributu","attribute_entity_desc":"Vyberte entitu obsahující atribut s procentuální hodnotou","attribute_name":"Název atributu","attribute_name_desc":"Zadejte název atributu obsahujícího procentuální hodnotu (např. \\"battery_level\\")","diff_section":{"title":"Konfigurace výpočtu rozdílu","desc":"Konfigurace nastavení výpočtu rozdílu"},"current_entity":"Entita aktuální hodnoty","current_entity_desc":"Entita představující aktuální/spotřebované množství (např. spotřebované palivo, vybité baterie)","total_entity":"Entita celkové hodnoty","total_entity_desc":"Entita představující celkové/maximální množství (např. kapacita nádrže, kapacita baterie)","template_section":{"title":"Konfigurace šablony","desc":"Konfigurace nastavení šablony"},"percentage_template":"Šablona procent","percentage_template_desc":"Zadejte šablonu Jinja2, která vrací číslo mezi 0-100 pro procenta. Příklad: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animujte výplň pruhu pomocí předvoleb jako nabíjecí pruhy, pulsování, záře a další. Můžete spustit animace na základě stavu nebo atributu entity a volitelně přepsat animaci při splnění jiné podmínky.","override":{"attribute_name_desc":"Název atributu k porovnání","desc":"Vyberte akční entitu a stav pro definování, kdy má tato animace přepsat běžnou animaci","entity_desc":"Entita k vyhodnocení pro přepsání spouštěče","match_value":"Hodnota shody přepsání","match_value_desc":"Textové porovnání se stavem nebo atributem","title":"Přepsání animace akce","type":"Typ přepsání animace","type_desc":"Animace k použití při shodě podmínky přepsání."},"title":"Animace pruhu","trigger":{"attribute_name_desc":"Název atributu k porovnání (např. charging_status)","desc":"Vyberte entitu ke sledování a definujte hodnotu + animaci k použití při shodě.","entity_desc":"Entita k vyhodnocení pro spouštěč animace","match_value":"Hodnota shody","match_value_desc":"Text k porovnání se stavem nebo atributem (porovnání je textové).","title":"Spouštěč animace","type":"Typ spouštěče","type_desc":"Vyberte, zda porovnávat stav entity nebo atribut"},"type":"Typ animace","type_desc":"Vyberte, jak se má pruh animovat při spuštění.","types":{"blinking":"Blikání","bouncing":"Poskakování","bubbles":"Bubliny","charging":"Nabíjení (diagonální čáry)","fill":"Plnění","flicker":"Třepotání","glow":"Záře","heartbeat":"Tlukot srdce","pulse":"Pulsování","rainbow":"Duha","ripple":"Vlnění","shimmer":"Třpyt","traffic":"Provoz (holičský sloup)","vibrate":"Vibrace"}},"appearance":{"direction":"Směr plnění","direction_desc":"Vyberte směr, kterým se pruh plní při zvyšování hodnoty.","left_to_right":"Zleva doprava","right_to_left":"Zprava doleva","alignment":"Zarovnání pruhu","alignment_desc":"Vyberte způsob zarovnání pruhu, když je šířka menší než 100%.","border_radius":"Poloměr ohraničení","border_radius_desc":"Ovládání zaoblených rohů pruhu.","height":"Výška pruhu","height_desc":"Upravte tloušťku indikátoru průběhu v pixelech.","style":"Styl pruhu","style_dashed":"Čárkovaný","style_desc":"Vyberte vizuální styl indikátoru průběhu.","style_dots":"Tečky","style_embossed":"Reliéfní","style_flat":"Plochý (výchozí)","style_glass":"Sklo","style_glossy":"Lesklý","style_gradient":"Gradientní překrytí","style_inset":"Zapuštěný","style_metallic":"Kovový","style_neon":"Neonová záře","style_neumorphic":"Neumorfní","style_outline":"Obrys","title":"Vzhled pruhu","width":"Šířka pruhu","width_desc":"Nastavte šířku pruhu jako procento kontejneru."},"attr_config":{"attribute_entity":"Entita atributu","attribute_entity_desc":"Vyberte entitu obsahující atribut s procentuální hodnotou","attribute_name":"Název atributu","attribute_name_desc":"Zadejte název atributu obsahujícího procentuální hodnotu (např. \\"battery_level\\")","desc":"Konfigurace nastavení atributu entity","title":"Konfigurace atributu entity"},"colors":{"background_color":"Barva pozadí","bar_color":"Barva pruhu","border_color":"Barva ohraničení","left_side":"Barvy levé strany","limit_indicator":"Indikátor limitu","percentage_text":"Text procent","right_side":"Barvy pravé strany","title":"Barvy","title_color":"Barva nadpisu","value_color":"Barva hodnoty"},"diff_config":{"current_entity":"Entita aktuální hodnoty","current_entity_desc":"Entita představující aktuální/spotřebované množství (např. spotřebované palivo, vybité baterie)","desc":"Konfigurace nastavení výpočtu rozdílu","title":"Konfigurace výpočtu rozdílu","total_entity":"Entita celkové hodnoty","total_entity_desc":"Entita představující celkové/maximální množství (např. kapacita nádrže, kapacita baterie)"},"entity":{"desc_empty":"Vyberte entitu poskytující procentuální hodnotu (0-100). Senzory baterie jsou ideální pro pruhy.","desc_present":"Entita poskytující procentuální hodnotu pro pruh.","no_entity_warning":"Žádná entita nevybrána - Vyberte prosím senzor s hodnotami mezi 0-100","title":"Entita procent pruhu"},"gradient":{"cropped":"Oříznutý","desc":"Použijte barevný gradient na výplň pruhu. Po aktivaci vyberte způsob zobrazení gradientu a přizpůsobte body barev níže.","full":"Plný","title":"Režim gradientu","value_based":"Založený na hodnotě"},"labels":{"alignment":"Zarovnání štítku","alignment_desc":"Ovládání umístění levých a pravých štítků."},"left":{"desc":"Konfigurace nadpisu a hodnoty entity zobrazené na levé straně pruhu. To je užitečné pro zobrazení štítků jako \'Dosah\' nebo \'Baterie\' spolu s jejich hodnotami.","enable_toggle":"Aktivujte přepínač výše pro konfiguraci nastavení levé strany","template_desc":"Použijte šablonu pro formátování zobrazené hodnoty. Šablony používají syntaxi Jinja2 Home Assistantu.","template_mode":"Režim šablony","title":"Levá strana","title_size":"Velikost nadpisu","value_size":"Velikost hodnoty","value_template":"Šablona hodnoty","value_template_desc":"Šablona pro formátování hodnoty levé strany pomocí syntaxe Jinja2"},"limit_entity":{"desc":"Volitelné: Přidejte vertikální indikátorovou čáru na pruh (např. limit nabití pro EV baterii).","title":"Entita limitní hodnoty (volitelné)"},"percentage":{"desc":"Ovládání viditelnosti a vzhledu procentuálních hodnot zobrazených přímo na pruhu. Tato čísla poskytují jasný vizuální indikátor aktuální úrovně.","text_alignment":"Zarovnání textu procent","text_size":"Velikost textu","text_size_desc":"Upravte velikost textu procent zobrazeného na pruhu.","title":"Zobrazení textu procent"},"right":{"desc":"Konfigurace nadpisu a hodnoty entity zobrazené na pravé straně pruhu. To je ideální pro doplňující informace jako \'Čas do plného nabití\' nebo sekundární měření.","enable_toggle":"Aktivujte přepínač výše pro konfiguraci nastavení pravé strany","template_desc":"Použijte šablonu pro formátování zobrazené hodnoty. Šablony používají syntaxi Jinja2 Home Assistantu.","template_mode":"Režim šablony","title":"Pravá strana","title_size":"Velikost nadpisu","value_size":"Velikost hodnoty","value_template":"Šablona hodnoty","value_template_desc":"Šablona pro formátování hodnoty pravé strany pomocí syntaxe Jinja2"},"template_config":{"desc":"Konfigurace nastavení šablony","percentage_template":"Šablona procent","percentage_template_desc":"Zadejte šablonu Jinja2, která vrací číslo mezi 0-100 pro procenta. Příklad: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Konfigurace šablony"}},"image":{"settings":"Nastavení obrázku","source_type":"Typ zdroje obrázku","source_type_desc":"Vyberte způsob specifikace zdroje obrázku.","source":{"default":"Výchozí obrázek","url":"URL obrázku","upload":"Nahrát obrázek","entity":"Obrázek entity","attribute":"Atribut entity"},"url_section":{"title":"Konfigurace URL obrázku"},"image_url":"URL obrázku","image_url_desc":"Zadejte přímou URL obrázku, který chcete zobrazit.","upload_section":{"title":"Konfigurace nahrání obrázku"},"upload":"Nahrát obrázek","upload_desc":"Klikněte pro nahrání souboru obrázku z vašeho zařízení.","entity_section":{"title":"Konfigurace obrázku entity"},"entity":"Entita","entity_desc":"Vyberte entitu s obrázkem (např. osoba, kamery).","attribute_section":{"title":"Konfigurace atributu entity"},"entity_attr_desc":"Vyberte entitu obsahující URL obrázku v jednom ze svých atributů.","attribute_name":"Název atributu","attribute_name_desc":"Zadejte cestu atributu obsahující URL obrázku (podporována tečková notace, např. vehicle_data.vehicleDetails.generalDashboard).","width":"Šířka (%)","width_desc":"Nastavte šířku jako procento kontejneru.","height":"Výška (px)","height_desc":"Nastavte výšku v pixelech.","crop_fit":"Ořez a přizpůsobení","crop_fit_desc":"Ovládání způsobu, jak se obrázek vejde do kontejneru.","fit":{"cover":"Pokrýt (oříznout pro vyplnění)","contain":"Obsahovat (vejde celý obrázek)","fill":"Vyplnit (roztáhnout pro přizpůsobení)","scale_down":"Zmenšit","none":"Žádné (původní velikost)"},"border_radius":"Poloměr ohraničení","border_radius_desc":"Ovládání zaoblených rohů obrázku.","tap_actions":"Akce klepnutí","filters":"Filtry","filter":{"blur":"Rozmazání","blur_desc":"Použijte efekt rozmazání na váš obrázek.","brightness":"Jas (%)","brightness_desc":"Upravte jas vašeho obrázku.","contrast":"Kontrast (%)","contrast_desc":"Upravte kontrast vašeho obrázku.","saturation":"Sytost (%)","saturation_desc":"Upravte sytost vašeho obrázku."},"hover":{"title":"Efekty při najetí","effect_type":"Typ efektu","effect_type_desc":"Vyberte typ efektu při najetí.","scale":"Škálování (přiblížení/oddálení)","rotate":"Rotace","fade":"Mizení (změna průhlednosti)","blur":"Rozmazání","brightness":"Jas","glow":"Záře (stín rámečku)","slide":"Posouvání (překlad)","scale_amount":"Škálování (%)","scale_amount_desc":"Upravte škálování obrázku při najetí.","rotate_amount":"Rotace (°)","rotate_amount_desc":"Rotujte obrázek při najetí.","opacity":"Průhlednost (%)","opacity_desc":"Změňte průhlednost obrázku při najetí.","blur_amount":"Rozmazání (px)","blur_amount_desc":"Použijte efekt rozmazání na obrázek při najetí.","brightness_amount":"Jas (%)","brightness_amount_desc":"Upravte jas obrázku při najetí.","glow_intensity":"Intenzita záře","glow_intensity_desc":"Vyberte intenzitu efektu záře při najetí.","glow_light":"Slabá záře","glow_medium":"Střední záře","glow_heavy":"Silná záře","glow_custom":"Vlastní stín","translate_x":"Horizontální (px)","translate_x_desc":"Posuňte obrázek horizontálně při najetí.","translate_y":"Vertikální (px)","translate_y_desc":"Posuňte obrázek vertikálně při najetí."},"alt":"Obrázek","no_source":"Žádný zdroj obrázku nenakonfigurován"},"graphs":{"chart_type":{"title":"Typ grafu","type":"Typ","desc":"Vyberte styl vizualizace pro vaše data."},"types":{"line":"Čárový graf","bar":"Sloupcový graf","pie":"Koláčový graf","donut":"Kobliha graf"},"data_sources":{"title":"Zdroje dat","add_entity":"Přidat entitu","add_first_entity":"Přidejte svou první entitu pro vytvoření grafu","no_entities":"Žádné entity nepřidány"},"entity":"Entita","entity_desc":"Vyberte entitu k zobrazení.","display_name_optional":"Zobrazovaný název (volitelný)","use_as_card_info":"Použít jako informace karty","attribute":"Atribut","attribute_desc":"Použijte stav entity nebo vyberte konkrétní atribut ke sledování.","attribute_state_default":"Stav (výchozí)","show_points":"Zobrazit body","fill_area":"Vyplnit oblast","line_style":"Styl čáry","line_solid":"Plná","line_dashed":"Čárkovaný","line_dotted":"Tečkovaná","pie_show_title":"Zobrazit nadpis v sekci","pie_show_value":"Zobrazit hodnotu v sekci","expand_options":"Rozbalit možnosti","no_entities":"Žádné entity nepřidány","add_first_entity":"Přidejte svou první entitu pro vytvoření grafu","add_entity":"Přidat entitu","display_options":{"title":"Možnosti zobrazení"},"show_title":"Zobrazit nadpis grafu","show_value":"Zobrazit hodnotu grafu","chart_title":"Nadpis grafu","chart_title_placeholder":"Zadejte nadpis grafu","time_period":"Časové období","time_period_desc":"Kolik historických dat zobrazit.","period":{"1h":"Poslední hodina","3h":"Poslední 3 hodiny","6h":"Poslední 6 hodin","12h":"Poslední 12 hodin","24h":"Poslední 24 hodin","2d":"Poslední 2 dny","7d":"Poslední týden","30d":"Poslední měsíc","90d":"Poslední 3 měsíce","365d":"Poslední rok"},"normalize_values":"Normalizovat hodnoty na stejnou škálu","normalize_desc":"Užitečné při porovnávání entit s různými jednotkami (např. % vs míle)","chart_height":"Výška grafu","reset_345":"Obnovit výchozí (345px)","chart_width":"Šířka grafu (%)","reset_100":"Obnovit výchozí (100%)","agg":{"count":"Počet","delta":"Změna","first":"První hodnota","last":"Poslední hodnota","max":"Maximum","mean":"Průměr","median":"Medián","min":"Minimum","sum":"Součet"},"display":{"add_slice_gap":"Přidat mezeru mezi sekcemi","background_color":"Barva pozadí","chart_alignment":"Zarovnání grafu","chart_alignment_desc":"Zarovnání grafu v jeho kontejneru.","chart_height":"Výška grafu","chart_options":"Možnosti grafu","chart_title":"Nadpis grafu","chart_title_placeholder":"Zadejte nadpis grafu","chart_width":"Šířka grafu (%)","chart_width_desc":"Procento dostupné šířky modulu. Zarovnání ovládá umístění.","info_position":"Pozice informací","info_position_desc":"Pozice překrytí zobrazující název/hodnotu.","legend_position":"Pozice legendy","legend_position_desc":"Kde umístit legendu při aktivaci.","normalize_desc":"Užitečné při porovnávání entit s různými jednotkami (např. % vs míle)","normalize_values":"Normalizovat hodnoty na stejnou škálu","show_grid":"Zobrazit mřížku","show_legend":"Zobrazit legendu","show_title":"Zobrazit nadpis grafu","show_tooltips":"Zobrazit nápovědy","show_value":"Zobrazit hodnotu grafu","smooth_lines":"Hladké čáry","time_period":"Časové období","time_period_desc":"Kolik historických dat zobrazit.","title":"Možnosti zobrazení"},"line":{"fill_area":"Vyplnit oblast","line_style":"Styl čáry","line_width":"Šířka čáry","show_points":"Zobrazit body"},"line_styles":{"dashed":"Čárkovaný","dotted":"Tečkovaná","solid":"Plná"},"pie":{"show_title":"Zobrazit nadpis v sekci","show_value":"Zobrazit hodnotu v sekci"},"position":{"bottom":"Dole","bottom_left":"Vlevo dole","bottom_right":"Vpravo dole","center":"Střed","hidden":"Skrytý","left":"Vlevo","middle":"Střed","right":"Vpravo","top":"Nahoře","top_left":"Vlevo nahoře","top_right":"Vpravo nahoře"}},"button":{"basic":{"title":"Základní nastavení","desc":"Konfigurace vzhledu tlačítka a textového obsahu."},"text":{"title":"Text tlačítka","desc":"Text zobrazovaný na tlačítku (ponechte prázdné pouze pro ikonu)."},"style":{"title":"Styl tlačítka","desc":"Vizuální styl tlačítka"},"alignment":{"title":"Zarovnání","desc":"Způsob zarovnání tlačítka v jeho kontejneru"},"styles":{"flat":"Plochý (výchozí)","glossy":"Lesklý","embossed":"Reliéfní","inset":"Zapuštěný","gradient_overlay":"Gradientní překrytí","neon_glow":"Neonová záře","outline":"Obrys","glass":"Sklo","metallic":"Kovový"},"align":{"left":"Vlevo","center":"Střed","right":"Vpravo","justify":"Zarovnat (plná šířka)"},"icon":{"title":"Nastavení ikony","desc":"Konfigurace zobrazení a umístění ikony pro tlačítko.","before":"Před textem","after":"Za textem","enable_toggle_desc":"Aktivujte přepínač výše pro konfiguraci nastavení ikony"},"colors":{"title":"Barvy","background":"Barva pozadí","text":"Barva textu"},"hover":{"effect_type":"Typ efektu","effect_type_desc":"Vyberte efekt při najetí pro toto tlačítko.","none":"Žádný","color":"Změna barvy","scale":"Škálování","glow":"Záře","lift":"Zvednutí (překlad Y)","hover_color":"Barva při najetí","glow_color":"Barva záře","title":"Efekty při najetí","enable_toggle_desc":"Aktivujte přepínač výše pro konfiguraci efektů při najetí"},"actions":{"type":"Typ akce","type_desc":"Vyberte, co se stane při kliknutí na tlačítko","entity":"Entita","entity_desc":"Vyberte entitu pro interakci","navigation_path":"Navigační cesta","navigation_path_desc":"Cesta pro navigaci (např. /dashboard/energy)","service":"Služba","service_desc":"Služba k volání (např. light.turn_on)","service_data":"Data služby (JSON)","service_data_desc":"Volitelná data předaná službě (formát JSON)"},"tap":{"title":"Akce při klepnutí","desc":"Akce k provedení při klepnutí na tlačítko"},"hold":{"title":"Akce při podržení","desc":"Akce k provedení při podržení tlačítka"},"double":{"title":"Akce při dvojitém klepnutí","desc":"Akce k provedení při dvojitém klepnutí na tlačítko"},"show_icon":"Zobrazit ikonu","show_icon_desc":"Zobrazit ikonu na tlačítku","icon_desc":"Ikona k zobrazení (např. mdi:home)","icon_position":"Pozice ikony","icon_position_desc":"Pozice ikony vzhledem k textu","icon_field":"Ikona"},"info":{"entity_section":{"title":"KONFIGURACE ENTITY"},"entity":"Entita","entity_desc":"Vyberte entitu k zobrazení","icon_section":{"title":"Nastavení ikony"},"show_icon":"Zobrazit ikonu","show_icon_desc":"Zobrazit ikonu vedle hodnoty entity","icon":"Ikona","icon_desc":"Vyberte ikonu k zobrazení","icon_color":"Barva ikony","name_section":{"title":"Nastavení názvu"},"show_name":"Zobrazit název","show_name_desc":"Zobrazit název entity nad hodnotou","custom_name":"Vlastní název","custom_name_desc":"Přepsat název entity vlastním názvem","name_color":"Barva názvu","state_section":{"title":"Nastavení stavu"},"show_state":"Zobrazit stav","show_state_desc":"Zobrazit stav/hodnotu entity","show_units":"Zobrazit jednotky","show_units_desc":"Zobrazit měrnou jednotku (pokud je dostupná)","state_color":"Barva stavu","template":{"title":"Režim šablony","desc":"Použijte šablonu pro formátování hodnoty entity. Šablony umožňují použít syntaxi šablon Home Assistantu pro složité formátování.","mode":"Režim šablony","mode_desc":"Použijte syntaxi šablon Home Assistantu pro formátování hodnoty","value":"Šablona hodnoty","value_desc":"Šablona pro formátování hodnoty entity pomocí syntaxe Jinja2"},"size_section":{"title":"Nastavení velikosti"},"icon_size":"Velikost ikony","icon_size_desc":"Velikost ikony v pixelech","name_size":"Velikost názvu","name_size_desc":"Velikost textu názvu entity v pixelech","value_size":"Velikost hodnoty","value_size_desc":"Velikost textu hodnoty entity v pixelech","icon_gap":"Mezera ikony","icon_gap_desc":"Mezera mezi ikonou a obsahem v pixelech","layout_section":{"title":"Rozvržení a umístění"},"icon_position":"Pozice ikony","overall_alignment":"Celkové zarovnání","icon_alignment":"Zarovnání ikony","content_alignment":"Zarovnání obsahu","examples_title":"Běžné příklady:","example_basic":"Základní hodnota","example_units":"S jednotkami","example_round":"Zaokrouhlit na 1 desetinné místo"},"camera":{"config":{"title":"Konfigurace kamery","desc":"Konfigurace entity kamery a nastavení zobrazení."},"entity":"Entita kamery","entity_desc":"Vyberte entitu kamery k zobrazení. Měla by to být entita kamery nebo mjpeg z Home Assistantu.","name":"Název kamery","name_desc":"Vlastní název pro kameru. Ponechte prázdné pro použití názvu entity.","show_name":"Zobrazit název kamery","show_name_desc":"Zobrazit název kamery v kanálu","name_position":{"group_title":"Pozice názvu kamery","title":"Pozice názvu","desc":"Vyberte, kde se název kamery objeví jako překrytí na obrázku kamery.","options":{"top_left":"Vlevo nahoře","top_right":"Vpravo nahoře","center":"Střed","bottom_left":"Vlevo dole","bottom_right":"Vpravo dole"}},"display":{"title":"Nastavení zobrazení"},"live_view":{"title":"Živý náhled","desc":"Aktivujte pro zobrazení živého streamu kamery (vyžaduje integraci stream). Při deaktivaci zobrazuje statické snímky."},"auto_refresh":{"section_title":"Nastavení automatického obnovení","title":"Automatické obnovení","desc":"Automaticky obnovovat obrázek kamery v pravidelných intervalech"},"refresh_interval":{"title":"Interval obnovení (sekundy)","desc":"Jak často automaticky obnovovat obrázek kamery."},"dimensions":{"title":"Rozměry"},"width":"Šířka (px)","width_desc":"Nastavte šířku zobrazení kamery. Rozsah: 100-1000px","height":"Výška (px)","height_desc":"Nastavte výšku zobrazení kamery. Rozsah: 100-1000px","link_aspect":"Propojit poměr stran","unlink_aspect":"Odpojit poměr stran","aspect_linked":{"title":"Poměr stran propojen","desc":"Rozměry udržují poměr {ratio}:1. Úprava jednoho rozměru automaticky aktualizuje druhý pro zachování proporcí."},"aspect_independent":{"title":"Nezávislé rozměry","desc":"Šířka a výška mohou být upraveny nezávisle. Klikněte na tlačítko propojení výše pro zachování poměru stran."},"crop":{"title":"Ořez a pozice","desc":"Upravte ořez a pozici zobrazení kamery. Užitečné pro zaměření na konkrétní oblasti nebo odstranění nežádoucích okrajů.","left_title":"Levý ořez (%)","left_desc":"Ořez z levého okraje. Vyšší hodnoty zobrazují méně z levé strany.","right_title":"Pravý ořez (%)","right_desc":"Ořez z pravého okraje. Vyšší hodnoty zobrazují méně z pravé strany.","top_title":"Horní ořez (%)","top_desc":"Ořez z horního okraje. Vyšší hodnoty zobrazují méně z horní oblasti.","bottom_title":"Dolní ořez (%)","bottom_desc":"Ořez z dolního okraje. Vyšší hodnoty zobrazují méně z dolní oblasti.","active_applied":"Aktivní ořezy použity","reset_all":"Obnovit všechny ořezy"},"template":{"title":"Režim šablony","desc":"Použijte šablonu pro dynamické nastavení entity kamery. Šablony umožňují použít syntaxi šablon Home Assistantu pro podmíněný výběr kamery.","mode_label":"Režim šablony","mode_desc":"Použijte syntaxi šablon Home Assistantu pro dynamický výběr entity kamery","camera_template_label":"Šablona kamery","camera_template_desc":"Šablona pro dynamické nastavení entity kamery pomocí syntaxe Jinja2","examples_title":"Běžné příklady:","example1_desc":"Zobrazit kameru při slunečném počasí","example2_desc":"Přepínat mezi kamerami na základě vstupního boolean","example3_desc":"Použít input select pro výběr entity kamery"},"show_name_toggle":{"enable_toggle_desc":"Aktivujte přepínač výše pro konfiguraci zobrazení názvu kamery"}},"separator":{"config":{"title":"Konfigurace oddělovače"},"style":{"title":"Styl oddělovače","desc":"Vyberte vizuální styl oddělovací čáry."},"options":{"solid":"Plná čára","double":"Dvojitá čára","dotted":"Tečkovaná čára","double_dotted":"Dvojitě tečkovaná","shadow":"Stín","blank":"Prázdné místo"},"appearance":{"title":"Vzhled"},"thickness":"Tloušťka (px)","thickness_desc":"Tloušťka oddělovací čáry.","width":"Šířka (%)","width_desc":"Šířka oddělovače jako procento kontejneru.","color":{"title":"Barva","desc":"Barva oddělovací čáry."},"show_title":"Zobrazit nadpis","show_title_desc":"Přidejte text do středu oddělovací čáry (např. ------ Text ------)","text_content":{"title":"Textový obsah","desc":"Text zobrazovaný ve středu oddělovače."},"font_size":"Velikost písma","font_size_desc":"Velikost textu v pixelech.","text_color":{"title":"Barva textu","desc":"Barva textu oddělovače."},"text_format":{"title":"Formátování textu","desc":"Použijte styly formátování na text oddělovače.","bold":"Tučné","italic":"Kurzíva","underline":"Podtržené","uppercase":"Velká písmena","strikethrough":"Přeškrtnuté"},"spacer":{"title":"Výška rozestupu"},"height":"Výška (px)","height_desc":"Ovládá vizuální mezeru pro prázdné místo.","show_title_toggle":{"enable_toggle_desc":"Aktivujte přepínač výše pro konfiguraci nastavení nadpisu"}},"layout_extra":{"module_name":"Název modulu:","module_name_placeholder":"Dejte tomuto modulu vlastní název, aby se lépe identifikoval v editoru.","module_name_help":"Dejte tomuto modulu vlastní název, aby se lépe identifikoval v editoru."},"layout_logic":{"display_title":"Zobrazit tento prvek","display_desc":"Ovládání, kdy je tento prvek zobrazen. Vyberte \\"Vždy\\" pro zachování viditelnosti. Vyberte \\"Pokud jsou splněny VŠECHNY podmínky níže\\" nebo \\"Pokud je splněna JAKÁKOLI podmínka níže\\" pro zobrazení pouze když podmínky, které přidáte níže, jsou vyhodnoceny jako pravdivé.","always":"Vždy","every":"Pokud jsou splněny VŠECHNY podmínky níže","any":"Pokud je splněna JAKÁKOLI podmínka níže","conditions":"Podmínky","add_condition":"Přidat podmínku","no_conditions":"Zatím nejsou přidány žádné podmínky. Klikněte na \\"Přidat podmínku\\" pro začátek.","condition_types":{"entity_state":"Stav entity","entity_attribute":"Atribut entity","time":"Časový rozsah","template":"Šablona"},"condition_fields":{"entity":"Entita","operator":"Operátor","value":"Hodnota","attribute":"Atribut","time_from":"Od","time_to":"Do","template":"Šablona"},"condition_header":"Podmínka","custom_name":"Vlastní název","custom_name_desc":"Volitelné: Dejte této podmínce vlastní název pro snadnější identifikaci","condition_type":"Typ podmínky"},"hover_effects":{"title":"Efekty při najetí","description":"Konfigurujte vizuální efekty, které se zobrazí při najetí myší na tento modul, řádek nebo sloupec.","effect":"Efekt při najetí","effect_desc":"Vyberte vizuální efekt, který se použije při najetí myší","effects":{"none":"Žádný","highlight":"Zvýraznění","outline":"Obrys","grow":"Zvětšení","shrink":"Zmenšení","pulse":"Pulsování","bounce":"Odskok","float":"Plavání","glow":"Záření","shadow":"Stín","rotate":"Rotace","skew":"Naklonění","wobble":"Kolísání","buzz":"Vibrace","fade":"Miznění"}},"design":{"copy":"Kopírovat","paste":"Vložit","reset_all":"Obnovit vše","copy_tooltip":"Kopírovat aktuální nastavení vzhledu (funguje napříč všemi Ultra kartami)","paste_tooltip_has":"Vložit zkopírovaná nastavení vzhledu (z mezikarty schránky)","paste_tooltip_none":"Žádná nastavení vzhledu v mezikarty schránce","reset_all_tooltip":"Obnovit všechna nastavení vzhledu na výchozí","text_section":"Text","text_color":"Barva textu","alignment":"Zarovnání","inherit_alignment":"Zdědit (bez zarovnání)","font_size":"Velikost písma","font_size_placeholder":"16px (výchozí), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Obnovit velikost písma na výchozí","line_height":"Výška řádku","line_height_placeholder":"0 (výchozí), 28px, 1.7","reset_line_height":"Obnovit výšku řádku na výchozí","letter_spacing":"Rozestup písmen","letter_spacing_placeholder":"auto (výchozí), 1px, -0.04em","reset_letter_spacing":"Obnovit rozestup písmen na výchozí","font":"Písmo","font_weight":"Tloušťka písma","text_transform":"Transformace textu","font_style":"Styl písma","default_option":"– Výchozí –","weight_thin":"100 - Tenké","weight_light":"300 - Světlé","weight_normal":"400 - Normální","weight_medium":"500 - Střední","weight_semi_bold":"600 - Polo tučné","weight_bold":"700 - Tučné","weight_black":"900 - Černé","transform_none":"Žádný","transform_uppercase":"VELKÁ PÍSMENA","transform_lowercase":"malá písmena","transform_capitalize":"Velká první písmena","style_normal":"Normální","style_italic":"Kurzíva","style_oblique":"Šikmé","background_section":"Pozadí","background_color":"Barva pozadí","background_image_type":"Typ obrázku pozadí","bg_none":"Žádný","bg_upload":"Nahrát obrázek","bg_entity":"Obrázek entity","bg_url":"URL obrázku","sizes_section":"Velikosti","spacing_section":"Rozestupy","border_section":"Ohraničení","text_shadow_section":"Stín textu","box_shadow_section":"Stín rámečku","position_section":"Pozice","overflow_section":"Přetečení","animations_section":"Animace","width":"Šířka","height":"Výška","max_width":"Maximální šířka","max_height":"Maximální výška","min_width":"Minimální šířka","min_height":"Minimální výška","border_radius":"Poloměr ohraničení","border_style":"Styl ohraničení","border_width":"Šířka ohraničení","border_color":"Barva ohraničení","margin":"Okraj","padding":"Vnitřní okraj","top":"Nahoře","right":"Vpravo","bottom":"Dole","left":"Vlevo","unlock_sides":"Odemknout pro nezávislé úpravy stran","lock_sides":"Zamknout pro společné úpravy všech stran","horizontal_shift":"Horizontální posun","vertical_shift":"Vertikální posun","blur":"Rozmazání","text_shadow_color":"Barva stínu textu","box_shadow_color":"Barva stínu rámečku","overflow":"Přetečení","clip_path":"Cesta ořezu","upload_bg_image":"Nahrát obrázek pozadí","bg_image_entity":"Entita obrázku pozadí","bg_image_url":"URL obrázku pozadí","choose_file":"Vybrat soubor","no_file_chosen":"Žádný soubor nevybrán","backdrop_filter":"Filtr pozadí","spread":"Rozšíření","visible_default":"Viditelné (výchozí)","examples":"Příklady","state_based_animation":"Animace založená na stavu","animation_type":"Typ animace","animation_duration":"Doba trvání animace","animation_duration_desc":"Doba trvání animace (např. 2s, 500ms, 1.5s)","intro_outro_animations":"Úvodní a závěrečné animace","intro_animation":"Úvodní animace","outro_animation":"Závěrečná animace","duration":"Doba trvání","delay":"Zpoždění","timing":"Načasování","none":"Žádný","ease":"Zmírnění","border_style_none":"Žádný","border_style_solid":"Plná","border_style_dashed":"Čárkovaný","border_style_dotted":"Tečkovaná","border_style_double":"Double","position_default":"– Výchozí –","position_static":"Statická","position_relative":"Relativní","position_absolute":"Absolutní","position_fixed":"Pevná","position_sticky":"Lepkavá"},"modules":{"text":"Textový modul","image":"Obrázkový modul","icon":"Ikonový modul","bar":"Sloupcový modul","info":"Informační modul","button":"Tlačítkový modul","separator":"Modul oddělovače","markdown":"Markdown modul","camera":"Kamerový modul","graphs":"Modul grafů","no_text_configured":"Žádný text nenakonfigurován","no_image_configured":"Žádný obrázek nenakonfigurován","uploaded_image":"Nahraný obrázek","icons_configured":"{count} ikon nakonfigurováno","no_icons_configured":"Žádné ikony nenakonfigurovány","default_entity_suggestion":"Entita: sensor.battery_level","sample_text":"Ukázkový text"},"common":{"attribute":"Atribut","attribute_name":"Název atributu","baseline":"Základní linie","bottom":"Dole","center":"Střed","entity":"Entita","justify":"Zarovnat","left":"Vlevo","none":"Žádný","right":"Vpravo","space_around":"Mezera kolem","space_between":"Mezera mezi","state":"Stav","stretch":"Roztáhnout","top":"Nahoře"},"horizontal":{"alignment":{"horizontal":"Horizontální zarovnání","horizontal_desc":"Vyberte způsob horizontálního zarovnání prvků v kontejneru.","vertical":"Vertikální zarovnání","vertical_desc":"Vyberte způsob vertikálního zarovnání prvků v kontejneru."},"empty":{"add_modules":"Přidejte moduly v konstruktoru rozvržení pro jejich zobrazení zde","no_modules":"Zatím nejsou přidány žádné moduly"},"gap":{"between_items":"Mezera mezi položkami","desc":"Nastavte rozestupy mezi horizontálními prvky (v jednotkách rem). Použijte záporné hodnoty pro překrývání prvků.","title":"Konfigurace mezer"},"layout":{"desc":"Konfigurace způsobu horizontálního uspořádání prvků v kontejneru.","title":"Konfigurace rozvržení"},"wrapping":{"desc":"Povolit prvkům přejít na další řádek při překročení šířky kontejneru.","title":"Povolit zalamování"}},"markdown":{"code_highlighting":"Zvýraznění kódu","code_highlighting_desc":"Zvýraznění syntaxe pro bloky kódu","content":{"desc":"Zadejte váš markdown obsah s plnou podporou formátování","label":"Obsah","title":"Markdown obsah"},"enable_html":"Povolit HTML","enable_html_desc":"Povolit HTML tagy v markdown obsahu","enable_tables":"Povolit tabulky","enable_tables_desc":"Podpora syntaxe markdown tabulek","features":{"title":"Funkce Markdown"}},"vertical":{"alignment":{"vertical":"Vertikální zarovnání","vertical_desc":"Vyberte způsob vertikálního zarovnání prvků v kontejneru."},"empty":{"add_modules":"Přidejte moduly v konstruktoru rozvržení pro jejich zobrazení zde","no_modules":"Zatím nejsou přidány žádné moduly"},"gap":{"between_items":"Mezera mezi položkami","desc":"Nastavte rozestupy mezi vertikálními prvky (v jednotkách rem). Použijte záporné hodnoty pro překrývání prvků.","title":"Konfigurace mezer"},"layout":{"desc":"Konfigurace způsobu vertikálního uspořádání prvků v kontejneru.","title":"Konfigurace rozvržení"}}}}');var r=i.t(a,2);const l=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbygger","settings":"Indstillinger","about":"Om"},"settings":{"title":"Kortindstillinger","description":"Konfigurer kortets generelle udseende og adfærd."},"appearance":{"title":"Udseende","description":"Kontroller det visuelle udtryk for dit kort"},"spacing":{"title":"Mellemrum","description":"Kontroller mellemrum og positionering af dit kort"},"fields":{"card_background_color":"Kortets baggrundsfarve","card_background_color_desc":"Baggrundsfarve for hele kortet","border_radius":"Hjørneradius","border_radius_desc":"Afrundede hjørner for kortet (i pixel)","card_padding":"Indre afstand","card_padding_desc":"Indvendig afstand i kortet","card_margin":"Ydre margin","card_margin_desc":"Ydre afstand omkring kortet","unit_px":"px","reset_default":"Nulstil til standard","reset_default_value":"Nulstil til standard ({value})"},"tooltips":{"enter_fullscreen":"Fuld skærm","return_dashboard":"Tilbage til dashboard","dashboard":"Dashboard"},"layout":{"live_preview":"Live forhåndsvisning","toggle_preview":"Skift forhåndsvisning","drag_to_move_module":"Træk for at flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliker modul","delete_module":"Slet modul","drag_to_move_layout":"Træk for at flytte layout","horizontal_layout":"Vandret layout","vertical_layout":"Lodret layout","add_module_to_layout":"Tilføj modul til layout","layout_settings":"Layoutindstillinger","duplicate_layout":"Dupliker layout","delete_layout":"Slet layout","click_to_add_module":"Klik for at tilføje et modul","drop_modules_here":"Slip moduler her","drag_to_reorder":"Træk for at omarrangere","edit_child_module":"Rediger undermodul","duplicate_child_module":"Dupliker undermodul","delete_child_module":"Slet undermodul","module_settings_title":"Modulindstillinger","general_tab":"Generelt","actions_tab":"Handlinger","other_tab":"Andet","logic_tab":"Logik","design_tab":"Design","drag_to_resize":"Træk for at ændre størrelse","hidden_by_logic":"Skjult af logik","child_module_settings_title":"Indstillinger for undermodul","add_row":"Tilføj række","add_row_tooltip":"Tilføj en ny række til dit layout","row_settings":"Rækkeindstillinger","column_settings":"Kolonneindstillinger","row_background_color":"Rækkens baggrundsfarve","column_gap":"Kolonneafstand (px)","vertical_alignment":"Lodret justering","horizontal_alignment":"Vandret justering","column_preview":"Forhåndsvisning af kolonne","modules_count":"{count} moduler","alignment_top":"Øverst","alignment_center":"Center","alignment_bottom":"Nederst","alignment_stretch":"Stræk","alignment_left":"Venstre","alignment_right":"Højre"},"about":{"developed_by":"Udviklet af","desc1":"En kraftfuld modulær kortbygger til Home Assistant","desc2":"Opret brugerdefinerede layouts med en professionel sidebygger-grænseflade","desc3":"Modulært layout-system med betinget logik og professionelle designværktøjer","github_repo":"GitHub-arkiv","version":"Version","join_discord":"Deltag på vores Discord","support_title":"Støt Ultra Card","support_desc":"Dine generøse bidrag driver udviklingen af fantastiske funktioner til dette kort! Uden støtte fra brugere som dig, ville fortsat innovation ikke være mulig.","leave_tip":"GIV ET BIDRAG (PAYPAL)"},"actions":{"title":"Handlingskonfiguration","description":"Konfigurer hvordan modulet reagerer på brugerinteraktioner. Bruger Home Assistants indbyggede handlingssystem for ensartet adfærd på dit dashboard.","tap_action":"Tryk-handling","tap_action_desc":"Handling der udføres ved tryk/klik på modulet","hold_action":"Hold-handling","hold_action_desc":"Handling der udføres ved at holde nede på modulet","double_tap_action":"Dobbelttryk-handling","double_tap_action_desc":"Handling der udføres ved dobbelttryk på modulet","tap_behavior":"Tryk-adfærd","tap_behavior_desc":"Handling der udføres når elementet trykkes/klikkes.","hold_behavior":"Hold-adfærd","hold_behavior_desc":"Handling der udføres når elementet holdes nede.","double_tap_behavior":"Dobbelttryk-adfærd","double_tap_behavior_desc":"Handling der udføres når elementet dobbelttrykkes/klikkes."},"icon":{"entity_config":{"title":"ENTITETSKONFIGURATION","desc":"Konfigurer entitet og aktive/inaktive tilstande"},"entity":"Entitet","entity_desc":"Vælg den entitet, som dette ikon repræsenterer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsværdi der betragtes som \\"inaktiv\\" (lad stå tom for at bruge faktisk entitetstilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsværdi der betragtes som \\"aktiv\\" (lad stå tom for at bruge faktisk entitetstilstand)","active_animation":"Aktiv animation","active_animation_desc":"Animation når ikon er aktiv","active_icon":"Aktivt ikon","active_icon_background":"Aktivt ikon baggrund","active_icon_background_color":"Aktivt ikon baggrundsfarve","active_icon_color":"Aktivt ikon farve","active_icon_desc":"Ikon der skal vises når aktiv","active_name":"Aktivt navn","active_name_color":"Aktivt navn farve","active_name_desc":"Brugerdefineret navn når aktiv","active_state_color":"Aktiv tilstandsfarve","active_state_text":"Aktiv tilstandstekst","animation_bounce":"Hop","animation_fade":"Fade","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter højre","animation_scale":"Skalering","animation_section":{"desc":"Konfigurer animationer for aktive og inaktive tilstande","title":"Ikonanimation"},"animation_shake":"Ryst","animation_spin":"Spin","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Baggrundsfarve når aktiv","background_color_inactive":"Baggrundsfarve når inaktiv","background_section":{"desc":"Konfigurer indstillinger for inaktiv baggrund","title":"Inaktiv baggrund"},"background_shape_active":"Baggrundsform når aktiv","background_shape_inactive":"Baggrundsform når inaktiv","custom_active_name":"Brugerdefineret aktivt navn","custom_active_name_desc":"Overskriv entitetsnavn når aktiv (lad stå tom for at bruge entitetsnavn)","custom_active_state":"Brugerdefineret aktiv tilstand","custom_active_state_desc":"Brugerdefineret tekst når aktiv (lad stå tom for at bruge faktisk tilstand)","custom_inactive_name":"Brugerdefineret inaktivt navn","custom_inactive_name_desc":"Overskriv entitetsnavn når inaktiv (lad stå tom for at bruge entitetsnavn)","custom_inactive_state":"Brugerdefineret inaktiv tilstand","custom_inactive_state_desc":"Brugerdefineret tekst når inaktiv (lad stå tom for at bruge faktisk tilstand)","icon_color_active":"Farve når aktiv","icon_color_inactive":"Farve når inaktiv","icon_section":{"title":"Ikonkonfiguration"},"icon_size_active":"Ikonstørrelse når aktiv","icon_size_inactive":"Ikonstørrelse når inaktiv","inactive_animation":"Inaktiv animation","inactive_animation_desc":"Animation når ikon er inaktiv","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Inaktivt ikon baggrund","inactive_icon_background_color":"Inaktivt ikon baggrundsfarve","inactive_icon_color":"Inaktivt ikon farve","inactive_icon_config":"Konfiguration af inaktivt ikon","inactive_icon_config_desc":"Konfigurer indstillinger for inaktivt ikon","inactive_icon_desc":"Ikon der skal vises når inaktiv","inactive_name":"Inaktivt navn","inactive_name_color":"Inaktivt navn farve","inactive_name_config":"Konfiguration af inaktivt navn","inactive_name_config_desc":"Konfigurer indstillinger for inaktivt navn","inactive_name_desc":"Brugerdefineret navn når inaktiv","inactive_state_color":"Inaktiv tilstandsfarve","inactive_state_config":"Konfiguration af inaktiv tilstand","inactive_state_config_desc":"Konfigurer indstillinger for inaktiv tilstand","inactive_state_text":"Inaktiv tilstandstekst","name_color_active":"Navnefarve når aktiv","name_color_inactive":"Navnefarve når inaktiv","name_section":{"title":"Navnekonfiguration"},"name_size_active":"Navnetekststørrelse når aktiv","name_size_inactive":"Navnetekststørrelse når inaktiv","state_color_active":"Tilstandsfarve når aktiv","state_color_inactive":"Tilstandsfarve når inaktiv","state_section":{"title":"Tilstandskonfiguration"},"state_size_active":"Tilstandstekststørrelse når aktiv","state_size_inactive":"Tilstandstekststørrelse når inaktiv","template":"Skabelon","template_mode":"Avanceret skabelontilstand","template_section":{"desc":"Brug Jinja2-skabeloner til avanceret ikonstyring. Skabeloner kan styre synlighed (sand/falsk for at vise/skjule ikoner) og tilpasse tilstandstekst. Returnér brugerdefineret tekst for aktiv tilstand, returnér faktisk entitetstilstand for inaktiv.","title":"Avanceret skabelontilstand"}},"text":{"content_section":{"title":"Indholdskonfiguration","desc":"Konfigurer tekstindhold og grundlæggende indstillinger for dette modul."},"text_content":"Tekstindhold","text_content_desc":"Indtast den tekst, der skal vises i dette modul.","icon_section":{"title":"Ikonkonfiguration","desc":"Vælg et ikon, der vises sammen med tekstindholdet."},"icon":"Ikon","icon_desc":"Vælg et ikon der vises sammen med teksten. Lad stå tom for intet ikon.","icon_position":"Ikonposition","icon_position_desc":"Vælg hvor ikonet skal placeres i forhold til teksten.","before_text":"Før tekst","after_text":"Efter tekst","template_mode":"Skabelontilstand","template_mode_desc":"Brug Home Assistants skabelonsyntaks til at gengive tekst","value_template":"Værdi-skabelon","value_template_desc":"Skabelon til at gengive teksten ved hjælp af Jinja2-syntaks","examples_title":"Almindelige eksempler:","example_basic":"Grundværdi","example_percent":"Med procent"},"bar":{"bar_settings":{"title":"Bjælkeindstillinger","desc":"Konfigurer hvordan bjælkeprocenten beregnes og vises."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattribut","difference":"Forskel","template":"Skabelon"},"attribute_section":{"title":"Konfiguration af entitetsattribut","desc":"Konfigurer entitetsattributindstillinger"},"attribute_entity":"Attributentitet","attribute_entity_desc":"Vælg entiteten der indeholder attributten med procentværdien","attribute_name":"Attributnavn","attribute_name_desc":"Indtast navnet på attributten der indeholder procentværdien (f.eks. \\"battery_level\\")","diff_section":{"title":"Konfiguration af forskelberegning","desc":"Konfigurer indstillinger for forskelberegning"},"current_entity":"Nuværende værdi-entitet","current_entity_desc":"Entitet der repræsenterer den nuværende/brugte mængde (f.eks. brugt brændstof, forbrugt batteri)","total_entity":"Total værdi-entitet","total_entity_desc":"Entitet der repræsenterer den totale/maksimale mængde (f.eks. brændstofkapacitet, batterikapacitet)","template_section":{"title":"Skabelonkonfiguration","desc":"Konfigurer skabelonindstillinger"},"percentage_template":"Procentskabelon","percentage_template_desc":"Indtast en Jinja2-skabelon der returnerer et tal mellem 0-100 for procenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer bjælkefyldet ved hjælp af forudindstillinger som ladestriber, puls, glød og mere. Du kan udløse animationer baseret på en entitets tilstand eller attribut, og eventuelt overstyre animationen når en anden betingelse er opfyldt.","override":{"attribute_name_desc":"Attributnavn der skal sammenlignes","desc":"Vælg en handlingsentitet og tilstand for at definere hvornår denne animation skal overstyre den almindelige animation","entity_desc":"Entitet der skal evalueres for overstyring af trigger","match_value":"Overstyring af matchværdi","match_value_desc":"Tekstsammenligning mod tilstand eller attribut","title":"Overstyring af handlingsanimation","type":"Overstyring af animationstype","type_desc":"Animation der skal bruges når overstyringsbetingelsen matcher."},"title":"Bjælkeanimation","trigger":{"attribute_name_desc":"Attributnavn der skal sammenlignes (f.eks. charging_status)","desc":"Vælg en entitet der skal overvåges og definer værdien + animation der skal anvendes når den matcher.","entity_desc":"Entitet der skal evalueres for animationstrigger","match_value":"Matchværdi","match_value_desc":"Tekst der skal sammenlignes med tilstand eller attribut (sammenligning er tekstbaseret).","title":"Animationstrigger","type":"Triggertype","type_desc":"Vælg om der skal sammenlignes entitetstilstand eller en attribut"},"type":"Animationstype","type_desc":"Vælg hvordan bjælken skal animeres når den udløses.","types":{"blinking":"Blinkende","bouncing":"Hoppende","bubbles":"Bobler","charging":"Opladning (diagonale linjer)","fill":"Fyld","flicker":"Flimmer","glow":"Glød","heartbeat":"Hjerteslag","pulse":"Puls","rainbow":"Regnbue","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafik (barberstang)","vibrate":"Vibrer"}},"appearance":{"direction":"Fylderetning","direction_desc":"Vælg retningen bjælken fylder i når værdien stiger.","left_to_right":"Venstre til højre","right_to_left":"Højre til venstre","alignment":"Bjælkejustering","alignment_desc":"Vælg hvordan bjælken skal justeres når den er mindre end 100% bredde.","border_radius":"Kantradius","border_radius_desc":"Kontroller de afrundede hjørner af bjælken.","height":"Bjælkehøjde","height_desc":"Juster tykkelsen af fremskridtsbjælken i pixels.","style":"Bjælkestil","style_dashed":"Stiplet","style_desc":"Vælg den visuelle stil af fremskridtsbjælken.","style_dots":"Prikker","style_embossed":"Præget","style_flat":"Flad (standard)","style_glass":"Glas","style_glossy":"Blank","style_gradient":"Gradientoverlay","style_inset":"Indsat","style_metallic":"Metallisk","style_neon":"Neonglød","style_neumorphic":"Neumorfisk","style_outline":"Kontur","title":"Bjælkeudseende","width":"Bjælkebredde","width_desc":"Indstil bjælkebredden som procent af container."},"attr_config":{"attribute_entity":"Attributentitet","attribute_entity_desc":"Vælg entiteten der indeholder attributten med procentværdien","attribute_name":"Attributnavn","attribute_name_desc":"Indtast navnet på attributten der indeholder procentværdien (f.eks. \\"battery_level\\")","desc":"Konfigurer entitetsattributindstillinger","title":"Konfiguration af entitetsattribut"},"colors":{"background_color":"Baggrundsfarve","bar_color":"Bjælkefarve","border_color":"Kantfarve","left_side":"Venstre side farver","limit_indicator":"Grænseindikator","percentage_text":"Procenttekst","right_side":"Højre side farver","title":"Farver","title_color":"Titelfarve","value_color":"Værdifarve"},"diff_config":{"current_entity":"Nuværende værdi-entitet","current_entity_desc":"Entitet der repræsenterer den nuværende/brugte mængde (f.eks. brugt brændstof, forbrugt batteri)","desc":"Konfigurer indstillinger for forskelberegning","title":"Konfiguration af forskelberegning","total_entity":"Total værdi-entitet","total_entity_desc":"Entitet der repræsenterer den totale/maksimale mængde (f.eks. brændstofkapacitet, batterikapacitet)"},"entity":{"desc_empty":"Vælg en entitet der giver en procentværdi (0-100). Batterisensorer er ideelle til bjælker.","desc_present":"Entiteten der giver procentværdien for bjælken.","no_entity_warning":"Ingen entitet valgt - Vælg venligst en sensor med værdier mellem 0-100","title":"Bjælke procent-entitet"},"gradient":{"cropped":"Beskåret","desc":"Anvend en farvegradient på bjælkefyldet. Når aktiveret, vælg hvordan gradienten vises og tilpas farvestop nedenfor.","full":"Fuld","title":"Gradienttilstand","value_based":"Værdibaseret"},"labels":{"alignment":"Etikettejustering","alignment_desc":"Kontroller hvordan venstre og højre etiketter er positioneret."},"left":{"desc":"Konfigurer titlen og entitetsværdien vist på venstre side af bjælken. Dette er nyttigt til at vise etiketter som \'Rækkevidde\' eller \'Batteri\' sammen med deres værdier.","enable_toggle":"Aktiver skifteren ovenfor for at konfigurere venstre side indstillinger","template_desc":"Brug en skabelon til at formatere den viste værdi. Skabeloner bruger Home Assistants Jinja2-syntaks.","template_mode":"Skabelontilstand","title":"Venstre side","title_size":"Titelstørrelse","value_size":"Værdistørrelse","value_template":"Værdiskabelon","value_template_desc":"Skabelon til formatering af venstre side værdien ved hjælp af Jinja2-syntaks"},"limit_entity":{"desc":"Valgfrit: Tilføj en vertikal indikatorlinje på bjælken (f.eks. ladegrænse for EV-batteri).","title":"Grænseværdi-entitet (valgfrit)"},"percentage":{"desc":"Kontroller synligheden og udseendet af procentværdier vist direkte på bjælken. Disse tal giver en klar visuel indikator for det nuværende niveau.","text_alignment":"Procenttekst justering","text_size":"Tekststørrelse","text_size_desc":"Juster størrelsen af procenttekst vist på bjælken.","title":"Procenttekst visning"},"right":{"desc":"Konfigurer titlen og entitetsværdien vist på højre side af bjælken. Dette er ideelt til supplerende information som \'Tid til fuld\' eller sekundære målinger.","enable_toggle":"Aktiver skifteren ovenfor for at konfigurere højre side indstillinger","template_desc":"Brug en skabelon til at formatere den viste værdi. Skabeloner bruger Home Assistants Jinja2-syntaks.","template_mode":"Skabelontilstand","title":"Højre side","title_size":"Titelstørrelse","value_size":"Værdistørrelse","value_template":"Værdiskabelon","value_template_desc":"Skabelon til formatering af højre side værdien ved hjælp af Jinja2-syntaks"},"template_config":{"desc":"Konfigurer skabelonindstillinger","percentage_template":"Procentskabelon","percentage_template_desc":"Indtast en Jinja2-skabelon der returnerer et tal mellem 0-100 for procenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Skabelonkonfiguration"}},"image":{"settings":"Billedindstillinger","source_type":"Type af billedkilde","source_type_desc":"Vælg hvordan du vil angive billedkilden.","source":{"default":"Standardbillede","url":"Billede-URL","upload":"Upload billede","entity":"Entitetsbillede","attribute":"Entitetsattribut"},"url_section":{"title":"Konfiguration af billede-URL"},"image_url":"Billede-URL","image_url_desc":"Indtast den direkte URL til billedet, du vil vise.","upload_section":{"title":"Konfiguration af billedupload"},"upload":"Upload billede","upload_desc":"Klik for at uploade en billedfil fra din enhed.","entity_section":{"title":"Konfiguration af entitetsbillede"},"entity":"Entitet","entity_desc":"Vælg en entitet der har et billede (fx person, kamera).","attribute_section":{"title":"Konfiguration af entitetsattribut"},"entity_attr_desc":"Vælg den entitet der indeholder billed-URL\'en i en af sine attributter.","attribute_name":"Attributnavn","attribute_name_desc":"Indtast attributstien der indeholder billed-URL\'en (punktnotation understøttes, fx vehicle_data.vehicleDetails.generalDashboard).","width":"Bredde (%)","width_desc":"Angiv bredden som en procentdel af beholderen.","height":"Højde (px)","height_desc":"Angiv højden i pixel.","crop_fit":"Beskær & tilpas","crop_fit_desc":"Kontroller hvordan billedet passer i sin beholder.","fit":{"cover":"Dæk (beskær for at udfylde)","contain":"Indeholder (tilpas hele billedet)","fill":"Fyld (stræk for at tilpasse)","scale_down":"Skaler ned","none":"Ingen (oprindelig størrelse)"},"border_radius":"Hjørneradius","border_radius_desc":"Kontroller billedets afrundede hjørner.","tap_actions":"Tryk-handlinger","filters":"Filtre","filter":{"blur":"Sløring","blur_desc":"Anvend en sløringseffekt på dit billede.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrken på dit billede.","contrast":"Kontrast (%)","contrast_desc":"Ændr kontrasten på dit billede.","saturation":"Mætning (%)","saturation_desc":"Juster mætningsniveauet på dit billede."},"hover":{"title":"Hover-effekter","effect_type":"Effekttype","effect_type_desc":"Vælg typen af hover-effekt.","scale":"Skalér (zoom ind/ud)","rotate":"Roter","fade":"Fade (ændring af opacitet)","blur":"Slør","brightness":"Lysstyrke","glow":"Glød (kasseskægge)","slide":"Glid (translation)","scale_amount":"Skalering (%)","scale_amount_desc":"Juster billedets skalering ved hover.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Roter billedet ved hover.","opacity":"Opacitet (%)","opacity_desc":"Ændr billedets opacitet ved hover.","blur_amount":"Sløring (px)","blur_amount_desc":"Anvend sløring på billedet ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrken ved hover.","glow_intensity":"Glød-intensitet","glow_intensity_desc":"Vælg intensiteten af glødeffekten ved hover.","glow_light":"Let glød","glow_medium":"Middel glød","glow_heavy":"Kraftig glød","glow_custom":"Brugerdefineret skygge","translate_x":"Vandret (px)","translate_x_desc":"Flyt billedet vandret ved hover.","translate_y":"Lodret (px)","translate_y_desc":"Flyt billedet lodret ved hover."},"alt":"Billede","no_source":"Ingen billedkilde konfigureret"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Vælg visualiseringsstil for dine data."},"types":{"line":"Linjediagram","bar":"Søjlediagram","pie":"Cirkeldiagram","donut":"Donutdiagram"},"data_sources":{"title":"Datakilder","add_entity":"Tilføj entitet","add_first_entity":"Tilføj din første entitet for at oprette et diagram","no_entities":"Ingen entiteter tilføjet"},"entity":"Entitet","entity_desc":"Vælg en entitet der skal plottes.","display_name_optional":"Visningsnavn (valgfrit)","use_as_card_info":"Brug som kortinfo","attribute":"Attribut","attribute_desc":"Brug entitetstilstand eller vælg en specifik attribut at følge.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkter","fill_area":"Udfyld område","line_style":"Linjestil","line_solid":"Fuld","line_dashed":"Stiplet","line_dotted":"Prikket","pie_show_title":"Vis titel i sektor","pie_show_value":"Vis værdi i sektor","expand_options":"Udvid indstillinger","no_entities":"Ingen entiteter tilføjet","add_first_entity":"Tilføj din første entitet for at oprette et diagram","add_entity":"Tilføj entitet","display_options":{"title":"Visningsindstillinger"},"show_title":"Vis diagramtitel","show_value":"Vis diagramværdi","chart_title":"Diagramtitel","chart_title_placeholder":"Indtast diagramtitel","time_period":"Tidsperiode","time_period_desc":"Hvor mange historiske data der skal vises.","period":{"1h":"Seneste time","3h":"Seneste 3 timer","6h":"Seneste 6 timer","12h":"Seneste 12 timer","24h":"Seneste 24 timer","2d":"Seneste 2 dage","7d":"Seneste uge","30d":"Seneste måned","90d":"Seneste 3 måneder","365d":"Seneste år"},"normalize_values":"Normalisér værdier til samme skala","normalize_desc":"Nyttigt ved sammenligning af entiteter med forskellige enheder (fx % vs miles)","chart_height":"Diagramhøjde","reset_345":"Nulstil til standard (345px)","chart_width":"Diagrambredde (%)","reset_100":"Nulstil til standard (100%)","agg":{"count":"Antal","delta":"Ændring","first":"Første værdi","last":"Sidste værdi","max":"Maksimum","mean":"Gennemsnit","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Tilføj sektormellemrum","background_color":"Baggrundsfarve","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering af diagrammet i dets beholder.","chart_height":"Diagramhøjde","chart_options":"Diagramindstillinger","chart_title":"Diagramtitel","chart_title_placeholder":"Indtast diagramtitel","chart_width":"Diagrambredde (%)","chart_width_desc":"Procentdel af modulets tilgængelige bredde. Justering styrer placering.","info_position":"Info-position","info_position_desc":"Position for overlejring der viser navn/værdi.","legend_position":"Forklaringsposition","legend_position_desc":"Hvor forklaringen placeres når aktiveret.","normalize_desc":"Nyttigt ved sammenligning af entiteter med forskellige enheder (fx % vs miles)","normalize_values":"Normalisér værdier til samme skala","show_grid":"Vis gitter","show_legend":"Vis forklaring","show_title":"Vis diagramtitel","show_tooltips":"Vis værktøjstips","show_value":"Vis diagramværdi","smooth_lines":"Udglattede linjer","time_period":"Tidsperiode","time_period_desc":"Hvor mange historiske data der skal vises.","title":"Visningsindstillinger"},"line":{"fill_area":"Udfyld område","line_style":"Linjestil","line_width":"Linjebredde","show_points":"Vis punkter"},"line_styles":{"dashed":"Stiplet","dotted":"Prikket","solid":"Fuld"},"pie":{"show_title":"Vis titel i sektor","show_value":"Vis værdi i sektor"},"position":{"bottom":"Bund","bottom_left":"Nederst til venstre","bottom_right":"Nederst til højre","center":"Center","hidden":"Skjult","left":"Venstre","middle":"Midten","right":"Højre","top":"Top","top_left":"Øverst til venstre","top_right":"Øverst til højre"}},"button":{"basic":{"title":"Grundindstillinger","desc":"Konfigurer knappens udseende og tekstindhold."},"text":{"title":"Knaptekst","desc":"Tekst der vises på knappen (lad stå tom for kun ikon)."},"style":{"title":"Knapstil","desc":"Knapens visuelle stil"},"alignment":{"title":"Justering","desc":"Hvordan knappen justeres i sin beholder"},"styles":{"flat":"Flad (standard)","glossy":"Blank","embossed":"Præget","inset":"Indsat","gradient_overlay":"Farveovergang","neon_glow":"Neonglød","outline":"Kontur","glass":"Glas","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Center","right":"Højre","justify":"Juster (fuld bredde)"},"icon":{"title":"Ikonindstillinger","desc":"Konfigurer ikonvisning og -placering for knappen.","before":"Før tekst","after":"Efter tekst","enable_toggle_desc":"Aktivér skifteren ovenfor for at konfigurere ikonindstillinger"},"colors":{"title":"Farver","background":"Baggrundsfarve","text":"Tekstfarve"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Vælg hover-effekt for denne knap.","none":"Ingen","color":"Farveskift","scale":"Skalér","glow":"Glød","lift":"Løft (Y-translation)","hover_color":"Farve ved hover","glow_color":"Glødfarve","title":"Hover-effekter","enable_toggle_desc":"Aktivér skifteren ovenfor for at konfigurere hover-effekter"},"actions":{"type":"Handlingstype","type_desc":"Vælg hvad der sker, når knappen klikkes","entity":"Entitet","entity_desc":"Vælg den entitet der interageres med","navigation_path":"Navigationssti","navigation_path_desc":"Sti at navigere til (fx /dashboard/energy)","service":"Tjeneste","service_desc":"Service der skal kaldes (fx light.turn_on)","service_data":"Service-data (JSON)","service_data_desc":"Valgfrie data der sendes til servicen (JSON-format)"},"tap":{"title":"Tryk-handling","desc":"Handling der udføres når knappen trykkes"},"hold":{"title":"Hold-handling","desc":"Handling der udføres når knappen holdes nede"},"double":{"title":"Dobbelttryk-handling","desc":"Handling der udføres når knappen dobbelttrykkes"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon på knappen","icon_desc":"Ikon der vises (fx mdi:home)","icon_position":"Ikonposition","icon_position_desc":"Ikonets position i forhold til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURATION"},"entity":"Entitet","entity_desc":"Vælg entiteten der skal vises","icon_section":{"title":"Ikonindstillinger"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon ved siden af entitetsværdien","icon":"Ikon","icon_desc":"Vælg et ikon der skal vises","icon_color":"Ikonfarve","name_section":{"title":"Navneindstillinger"},"show_name":"Vis navn","show_name_desc":"Vis entitetsnavnet over værdien","custom_name":"Brugerdefineret navn","custom_name_desc":"Overskriv entitetsnavnet med et brugerdefineret navn","name_color":"Navnefarve","state_section":{"title":"Tilstandsindstillinger"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/værdi","show_units":"Vis enheder","show_units_desc":"Vis måleenheden (hvis tilgængelig)","state_color":"Tilstandsfarve","template":{"title":"Skabelontilstand","desc":"Brug en skabelon til at formatere entitetsværdien. Skabeloner giver dig mulighed for at bruge Home Assistants skabelonsyntaks til kompleks formatering.","mode":"Skabelontilstand","mode_desc":"Brug Home Assistants skabelonsyntaks til at formatere værdien","value":"Værdiskabelon","value_desc":"Skabelon til formatering af entitetsværdien ved hjælp af Jinja2-syntaks"},"size_section":{"title":"Størrelsesindstillinger"},"icon_size":"Ikonstørrelse","icon_size_desc":"Størrelse af ikonet i pixels","name_size":"Navnestørrelse","name_size_desc":"Størrelse af entitetsnavnets tekst i pixels","value_size":"Værdistørrelse","value_size_desc":"Størrelse af entitetsværdiens tekst i pixels","icon_gap":"Ikonafstand","icon_gap_desc":"Afstand mellem ikon og indhold i pixels","layout_section":{"title":"Layout og positionering"},"icon_position":"Ikonposition","overall_alignment":"Samlet justering","icon_alignment":"Ikonjustering","content_alignment":"Indholdsjustering","examples_title":"Almindelige eksempler:","example_basic":"Grundværdi","example_units":"Med enheder","example_round":"Afrund til 1 decimal"},"camera":{"config":{"title":"Kamerakonfiguration","desc":"Konfigurer kameraentiteten og visningsindstillinger."},"entity":"Kameraentitet","entity_desc":"Vælg kameraentiteten der skal vises. Dette skal være en kamera- eller mjpeg-entitet fra Home Assistant.","name":"Kameranavn","name_desc":"Brugerdefineret navn til kameraet. Lad stå tomt for at bruge entitetsnavnet.","show_name":"Vis kameranavn","show_name_desc":"Vis kameranavnet på feedet","name_position":{"group_title":"Position af kameranavn","title":"Navneposition","desc":"Vælg hvor kameranavnet vises som et overlay på kamerabilledet.","options":{"top_left":"Øverst til venstre","top_right":"Øverst til højre","center":"Center","bottom_left":"Nederst til venstre","bottom_right":"Nederst til højre"}},"display":{"title":"Visningsindstillinger"},"live_view":{"title":"Live visning","desc":"Aktiver for at vise live kamerastream (kræver stream-integration). Når deaktiveret, vises stillbilleder."},"auto_refresh":{"section_title":"Indstillinger for automatisk opdatering","title":"Automatisk opdatering","desc":"Opdater automatisk kamerabilledet med jævne mellemrum"},"refresh_interval":{"title":"Opdateringsinterval (sekunder)","desc":"Hvor ofte kamerabilledet skal opdateres automatisk."},"dimensions":{"title":"Dimensioner"},"width":"Bredde (px)","width_desc":"Indstil bredden af kameravisningen. Område: 100-1000px","height":"Højde (px)","height_desc":"Indstil højden af kameravisningen. Område: 100-1000px","link_aspect":"Sammenkæd billedformat","unlink_aspect":"Frakobl billedformat","aspect_linked":{"title":"Billedformat sammenkædet","desc":"Dimensioner opretholder {ratio}:1 forhold. Justering af én dimension opdaterer automatisk den anden for at bevare proportioner."},"aspect_independent":{"title":"Uafhængige dimensioner","desc":"Bredde og højde kan justeres uafhængigt. Klik på sammenkædningsknappen ovenfor for at bevare billedformatet."},"crop":{"title":"Beskær og position","desc":"Juster beskæring og position af kameravisningen. Nyttigt til at fokusere på specifikke områder eller fjerne uønskede kanter.","left_title":"Venstre beskæring (%)","left_desc":"Beskær fra venstre kant. Højere værdier viser mindre af venstre side.","right_title":"Højre beskæring (%)","right_desc":"Beskær fra højre kant. Højere værdier viser mindre af højre side.","top_title":"Top beskæring (%)","top_desc":"Beskær fra øverste kant. Højere værdier viser mindre af det øverste område.","bottom_title":"Bund beskæring (%)","bottom_desc":"Beskær fra nederste kant. Højere værdier viser mindre af det nederste område.","active_applied":"Aktive beskæringer anvendt","reset_all":"Nulstil alle beskæringer"},"template":{"title":"Skabelontilstand","desc":"Brug en skabelon til dynamisk at indstille kameraentiteten. Skabeloner giver mulighed for at bruge Home Assistants skabelonsyntaks til betinget kameravalg.","mode_label":"Skabelontilstand","mode_desc":"Brug Home Assistants skabelonsyntaks til dynamisk at vælge kameraentitet","camera_template_label":"Kameraskabelon","camera_template_desc":"Skabelon til dynamisk indstilling af kameraentiteten ved hjælp af Jinja2-syntaks","examples_title":"Almindelige eksempler:","example1_desc":"Vis kamera når vejret er solrigt","example2_desc":"Skift mellem kameraer baseret på input boolean","example3_desc":"Brug input select til at vælge kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktiver skifteren ovenfor for at konfigurere visning af kameranavn"}},"separator":{"config":{"title":"Separator-konfiguration"},"style":{"title":"Separator-stil","desc":"Vælg den visuelle stil for separationslinjen."},"options":{"solid":"Fuld linje","double":"Dobbelt linje","dotted":"Prikket linje","double_dotted":"Dobbelt prikker","shadow":"Skygge","blank":"Tomt mellemrum"},"appearance":{"title":"Udseende"},"thickness":"Tykkelse (px)","thickness_desc":"Tykkelsen på separationslinjen.","width":"Bredde (%)","width_desc":"Separatorens bredde som procent af beholderen.","color":{"title":"Farve","desc":"Farve på separationslinjen."},"show_title":"Vis titel","show_title_desc":"Tilføj tekst i midten af separationslinjen (fx ------ Tekst ------)","text_content":{"title":"Tekstindhold","desc":"Tekst der vises i midten af separationslinjen."},"font_size":"Skriftstørrelse","font_size_desc":"Tekstens størrelse i pixel.","text_color":{"title":"Tekstfarve","desc":"Farve på separatorens tekst."},"text_format":{"title":"Tekstformatering","desc":"Anvend formateringsstile på separatorens tekst.","bold":"Fed","italic":"Kursiv","underline":"Understreget","uppercase":"Store bogstaver","strikethrough":"Gennemstreget"},"spacer":{"title":"Mellemrums-højde"},"height":"Højde (px)","height_desc":"Kontrollerer det visuelle mellemrum for Tomt mellemrum.","show_title_toggle":{"enable_toggle_desc":"Aktivér skifteren ovenfor for at konfigurere titelindstillinger"}},"layout_extra":{"module_name":"Modulnavn:","module_name_placeholder":"Giv dette modul et brugerdefineret navn for at gøre det lettere at identificere i editoren.","module_name_help":"Giv dette modul et brugerdefineret navn for at gøre det lettere at identificere i editoren."},"layout_logic":{"display_title":"Vis dette element","display_desc":"Kontrollér hvornår dette element vises. Vælg \\"Altid\\" for at holde det synligt. Vælg \\"Hvis ALLE betingelser nedenfor er opfyldt\\" eller \\"Hvis ENHVER betingelse nedenfor er opfyldt\\" for kun at vise det, når de tilføjede betingelser er sande.","always":"Altid","every":"Hvis ALLE betingelser er opfyldt","any":"Hvis ENHVER betingelse er opfyldt","conditions":"Betingelser","add_condition":"Tilføj betingelse","no_conditions":"Ingen betingelser tilføjet endnu. Klik \\"Tilføj betingelse\\" for at starte.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattribut","time":"Tidsinterval","template":"Skabelon"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Værdi","attribute":"Attribut","time_from":"Fra","time_to":"Til","template":"Skabelon"},"condition_header":"Betingelse","custom_name":"Brugernavn","custom_name_desc":"Valgfrit: Giv denne betingelse et navn for nemmere identifikation","condition_type":"Betingelsestype"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurer visuelle effekter, der vises når du holder musen over dette modul, række eller kolonne.","effect":"Hover-effekt","effect_desc":"Vælg den visuelle effekt, der skal anvendes ved hover","effects":{"none":"Ingen","highlight":"Fremhæv","outline":"Kontur","grow":"Voks","shrink":"Skrump","pulse":"Pulsere","bounce":"Hoppe","float":"Svæve","glow":"Glød","shadow":"Skygge","rotate":"Roter","skew":"Skæv","wobble":"Vakle","buzz":"Vibrere","fade":"Fade"}},"design":{"copy":"Kopier","paste":"Indsæt","reset_all":"Nulstil alt","copy_tooltip":"Kopier nuværende designindstillinger (virker på tværs af alle Ultra Cards)","paste_tooltip_has":"Indsæt kopierede designindstillinger (fra tværkort-udklipsholder)","paste_tooltip_none":"Ingen designindstillinger i tværkort-udklipsholder","reset_all_tooltip":"Nulstil alle designindstillinger til standard","text_section":"Tekst","text_color":"Tekstfarve","alignment":"Justering","inherit_alignment":"Arv (ingen justering)","font_size":"Skriftstørrelse","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Nulstil skriftstørrelse til standard","line_height":"Linjehøjde","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Nulstil linjehøjde til standard","letter_spacing":"Bogstavafstand","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Nulstil bogstavafstand til standard","font":"Skrifttype","font_weight":"Skriftvægt","text_transform":"Teksttransformation","font_style":"Skriftstil","default_option":"– Standard –","weight_thin":"100 - Tynd","weight_light":"300 - Let","weight_normal":"400 - Normal","weight_medium":"500 - Mellem","weight_semi_bold":"600 - Halvfed","weight_bold":"700 - Fed","weight_black":"900 - Sort","transform_none":"Ingen","transform_uppercase":"STORE BOGSTAVER","transform_lowercase":"små bogstaver","transform_capitalize":"Stort begyndelsesbogstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skrå","background_section":"Baggrund","background_color":"Baggrundsfarve","background_image_type":"Baggrundsbilledtype","bg_none":"Ingen","bg_upload":"Upload billede","bg_entity":"Entitetsbillede","bg_url":"Billede-URL","sizes_section":"Størrelser","spacing_section":"Spacing","border_section":"Kant","text_shadow_section":"Tekstskygge","box_shadow_section":"Boksskygge","position_section":"Position","overflow_section":"Overløb","animations_section":"Animationer","width":"Bredde","height":"Højde","max_width":"Maks bredde","max_height":"Maks højde","min_width":"Min bredde","min_height":"Min højde","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredde","border_color":"Kantfarve","margin":"Margin","padding":"Polstring","top":"Top","right":"Højre","bottom":"Bund","left":"Venstre","unlock_sides":"Lås op for at redigere sider uafhængigt","lock_sides":"Lås for at redigere alle sider sammen","horizontal_shift":"Vandret forskydning","vertical_shift":"Lodret forskydning","blur":"Sløring","text_shadow_color":"Tekstskyggefarve","box_shadow_color":"Boksskyggefarve","overflow":"Overløb","clip_path":"Klippesti","upload_bg_image":"Upload baggrundsbillede","bg_image_entity":"Baggrundsbillede-entitet","bg_image_url":"Baggrundsbillede-URL","choose_file":"Vælg fil","no_file_chosen":"Ingen fil valgt","backdrop_filter":"Baggrundsfilter","spread":"Spredning","visible_default":"Synlig (standard)","examples":"Eksempler","state_based_animation":"Tilstandsbaseret animation","animation_type":"Animationstype","animation_duration":"Animationsvarighed","animation_duration_desc":"Varighed for animationen (f.eks. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outro-animationer","intro_animation":"Intro-animation","outro_animation":"Outro-animation","duration":"Varighed","delay":"Forsinkelse","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Fuld linje","border_style_dashed":"Stiplet","border_style_dotted":"Prikket","border_style_double":"Double","position_default":"– Standard –","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolut","position_fixed":"Fast","position_sticky":"Klæbrig"},"modules":{"text":"Tekstmodul","image":"Billede modul","icon":"Ikon modul","bar":"Bjælke modul","info":"Info-modul","button":"Knap modul","separator":"Separator-modul","markdown":"Markdown-modul","camera":"Kamera modul","graphs":"Diagram-modul","no_text_configured":"Ingen tekst konfigureret","no_image_configured":"Intet billede konfigureret","uploaded_image":"Uploadet billede","icons_configured":"{count} ikoner konfigureret","no_icons_configured":"Ingen ikoner konfigureret","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst"},"common":{"attribute":"Attribut","attribute_name":"Attributnavn","baseline":"Grundlinje","bottom":"Bund","center":"Center","entity":"Entitet","justify":"Justér","left":"Venstre","none":"Ingen","right":"Højre","space_around":"Plads omkring","space_between":"Plads mellem","state":"Tilstand","stretch":"Stræk","top":"Top"},"horizontal":{"alignment":{"horizontal":"Vandret justering","horizontal_desc":"Vælg hvordan elementer justeres vandret i beholderen.","vertical":"Lodret justering","vertical_desc":"Vælg hvordan elementer justeres lodret i beholderen."},"empty":{"add_modules":"Tilføj moduler i layoutbyggeren for at se dem her","no_modules":"Ingen moduler tilføjet endnu"},"gap":{"between_items":"Mellemrum mellem elementer","desc":"Angiv mellemrum mellem vandrette elementer (i rem). Brug negative værdier for overlap.","title":"Mellemrumskonfiguration"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres vandret i beholderen.","title":"Layoutkonfiguration"},"wrapping":{"desc":"Tillad at elementer brydes til næste linje når de overstiger beholderens bredde.","title":"Tillad linjeskift"}},"markdown":{"code_highlighting":"Kodefremhævning","code_highlighting_desc":"Syntaksfremhævning for kodeblokke","content":{"desc":"Indtast dit Markdown-indhold med fuld formatteringsunderstøttelse","label":"Indhold","title":"Markdown-indhold"},"enable_html":"Aktivér HTML","enable_html_desc":"Tillad HTML-tags i Markdown-indhold","enable_tables":"Aktivér tabeller","enable_tables_desc":"Understøttelse af Markdown-tabelsyntaks","features":{"title":"Markdown-funktioner"}},"vertical":{"alignment":{"vertical":"Lodret justering","vertical_desc":"Vælg hvordan elementer justeres lodret i beholderen."},"empty":{"add_modules":"Tilføj moduler i layoutbyggeren for at se dem her","no_modules":"Ingen moduler tilføjet endnu"},"gap":{"between_items":"Mellemrum mellem elementer","desc":"Angiv mellemrum mellem lodrette elementer (i rem). Brug negative værdier for overlap.","title":"Mellemrumskonfiguration"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres lodret i beholderen.","title":"Layoutkonfiguration"}}}}');var s=i.t(l,2);const d=JSON.parse('{"editor":{"tabs":{"layout":"Layout-Builder","settings":"Einstellungen","about":"Über"},"settings":{"title":"Karten-Einstellungen","description":"Konfigurieren Sie das globale Erscheinungsbild und Verhalten der Karte."},"appearance":{"title":"Erscheinungsbild","description":"Steuern Sie das visuelle Erscheinungsbild Ihrer Karte"},"spacing":{"title":"Abstand","description":"Steuern Sie den Abstand und die Positionierung Ihrer Karte"},"fields":{"card_background_color":"Karten-Hintergrundfarbe","card_background_color_desc":"Die Hintergrundfarbe der gesamten Karte","border_radius":"Rahmen-Radius","border_radius_desc":"Abgerundete Ecken für die Karte (in Pixeln)","card_padding":"Karten-Innenabstand","card_padding_desc":"Interner Abstand innerhalb der Karte","card_margin":"Karten-Außenabstand","card_margin_desc":"Externer Abstand um die Karte","unit_px":"px","reset_default":"Auf Standard zurücksetzen","reset_default_value":"Auf Standard zurücksetzen ({value})"},"tooltips":{"enter_fullscreen":"Vollbild aktivieren","return_dashboard":"Zurück zum Dashboard","dashboard":"Dashboard"},"common":{"left":"Links","center":"Mitte","right":"Rechts","top":"Oben","bottom":"Unten","none":"Keine","state":"Zustand","attribute":"Attribut","attribute_name":"Attributname","entity":"Entität","space_between":"Abstand zwischen","space_around":"Abstand um","justify":"Ausrichten","stretch":"Strecken","baseline":"Grundlinie"},"horizontal":{"layout":{"title":"Layout-Konfiguration","desc":"Konfigurieren Sie, wie Elemente horizontal im Container angeordnet werden."},"alignment":{"horizontal":"Horizontale Ausrichtung","horizontal_desc":"Wählen Sie, wie Elemente horizontal im Container ausgerichtet werden.","vertical":"Vertikale Ausrichtung","vertical_desc":"Wählen Sie, wie Elemente vertikal im Container ausgerichtet werden."},"wrapping":{"title":"Umbruch erlauben","desc":"Erlaubt Elementen, zur nächsten Zeile zu wechseln, wenn sie die Container-Breite überschreiten."},"gap":{"title":"Abstand-Konfiguration","between_items":"Abstand zwischen Elementen","desc":"Setzen Sie den Abstand zwischen horizontalen Elementen (in rem-Einheiten). Verwenden Sie negative Werte zum Überlappen von Elementen."},"empty":{"no_modules":"Noch keine Module hinzugefügt","add_modules":"Fügen Sie Module im Layout-Builder hinzu, um sie hier zu sehen"}},"vertical":{"layout":{"title":"Layout-Konfiguration","desc":"Konfigurieren Sie, wie Elemente vertikal im Container angeordnet werden."},"alignment":{"vertical":"Vertikale Ausrichtung","vertical_desc":"Wählen Sie, wie Elemente vertikal im Container ausgerichtet werden."},"gap":{"title":"Abstand-Konfiguration","between_items":"Abstand zwischen Elementen","desc":"Setzen Sie den Abstand zwischen vertikalen Elementen (in rem-Einheiten). Verwenden Sie negative Werte zum Überlappen von Elementen."},"empty":{"no_modules":"Noch keine Module hinzugefügt","add_modules":"Fügen Sie Module im Layout-Builder hinzu, um sie hier zu sehen"}},"layout":{"live_preview":"Live-Vorschau","toggle_preview":"Vorschau umschalten","drag_to_move_module":"Ziehen zum Verschieben des Moduls","edit_module":"Modul bearbeiten","duplicate_module":"Modul duplizieren","delete_module":"Modul löschen","drag_to_move_layout":"Ziehen zum Verschieben des Layout-Moduls","horizontal_layout":"Horizontales Layout","vertical_layout":"Vertikales Layout","add_module_to_layout":"Modul zum Layout hinzufügen","layout_settings":"Layout-Einstellungen","duplicate_layout":"Layout duplizieren","delete_layout":"Layout löschen","click_to_add_module":"Klicken zum Hinzufügen eines Moduls","drop_modules_here":"Module hier ablegen","drag_to_reorder":"Ziehen zum Neuordnen","edit_child_module":"Untermodul bearbeiten","duplicate_child_module":"Untermodul duplizieren","delete_child_module":"Untermodul löschen","module_settings_title":"Modul-Einstellungen","child_module_settings_title":"Untermodul-Einstellungen","general_tab":"Allgemein","actions_tab":"Aktionen","other_tab":"Andere","logic_tab":"Logik","design_tab":"Design","drag_to_resize":"Ziehen zum Ändern der Größe","hidden_by_logic":"Durch Logik verborgen","add_row":"Zeile hinzufügen","add_row_tooltip":"Eine neue Zeile zu Ihrem Layout hinzufügen","row_settings":"Zeilen-Einstellungen","column_settings":"Spalten-Einstellungen","row_background_color":"Zeilen-Hintergrundfarbe","column_gap":"Spaltenabstand (px)","vertical_alignment":"Vertikale Ausrichtung","horizontal_alignment":"Horizontale Ausrichtung","column_preview":"Spalten-Vorschau","modules_count":"{count} Module","alignment_top":"Oben","alignment_center":"Mitte","alignment_bottom":"Unten","alignment_stretch":"Strecken","alignment_left":"Links","alignment_right":"Rechts"},"layout_logic":{"display_title":"Dieses Element anzeigen","display_desc":"Steuern Sie, wann dieses Element angezeigt wird. Wählen Sie \\"Immer\\" um es sichtbar zu halten. Wählen Sie \\"Wenn ALLE Bedingungen erfüllt sind\\" oder \\"Wenn EINE Bedingung erfüllt ist\\" um es nur anzuzeigen, wenn die hinzugefügten Bedingungen als wahr bewertet werden.","always":"Immer","every":"Wenn ALLE Bedingungen erfüllt sind","any":"Wenn EINE Bedingung erfüllt ist","conditions":"Bedingungen","add_condition":"Bedingung hinzufügen","no_conditions":"Noch keine Bedingungen hinzugefügt. Klicken Sie auf \\"Bedingung hinzufügen\\" um zu beginnen.","condition_types":{"entity_state":"Entitätszustand","entity_attribute":"Entitätsattribut","time":"Zeitbereich","template":"Vorlage"},"condition_fields":{"entity":"Entität","operator":"Operator","value":"Wert","attribute":"Attribut","time_from":"Von","time_to":"Bis","template":"Vorlage"},"condition_header":"Bedingung","custom_name":"Benutzerdefinierter Name","custom_name_desc":"Optional: Geben Sie dieser Bedingung einen benutzerdefinierten Namen zur leichteren Identifikation","condition_type":"Bedingungstyp"},"hover_effects":{"title":"Hover-Effekte","description":"Konfigurieren Sie visuelle Effekte, die beim Bewegen des Mauszeigers über dieses Modul, diese Zeile oder Spalte angezeigt werden.","effect":"Hover-Effekt","effect_desc":"Wählen Sie den visuellen Effekt aus, der beim Hovern angewendet werden soll","effects":{"none":"Keine","highlight":"Hervorheben","outline":"Umriss","grow":"Vergrößern","shrink":"Verkleinern","pulse":"Pulsieren","bounce":"Springen","float":"Schweben","glow":"Leuchten","shadow":"Schatten","rotate":"Drehen","skew":"Neigen","wobble":"Wackeln","buzz":"Vibrieren","fade":"Ausblenden"}},"about":{"developed_by":"Entwickelt von","desc1":"Ein leistungsstarker modularer Karten-Builder für Home Assistant","desc2":"Erstellen Sie benutzerdefinierte Layouts mit einer professionellen Page-Builder-Oberfläche","desc3":"Modulares Layout-System mit bedingter Logik und professionellen Design-Tools","github_repo":"Besuchen Sie unser Github","join_discord":"Unserem Discord beitreten","support_title":"Ultra Card unterstützen","support_desc":"Ihre großzügigen Spenden fördern die Entwicklung erstaunlicher Funktionen für diese Karte! Ohne die Unterstützung von Benutzern wie Ihnen wäre kontinuierliche Innovation nicht möglich.","leave_tip":"TRINKGELD GEBEN (PAYPAL)","version":"Version"},"actions":{"title":"Link-Konfiguration","description":"Konfigurieren Sie, was passiert, wenn Benutzer mit diesem Element interagieren. Wählen Sie verschiedene Aktionen für Tippen, Halten und Doppeltippen.","tap_action":"Tipp-Aktion","tap_action_desc":"Aktion, die beim Tippen/Klicken auf das Modul ausgeführt wird","hold_action":"Halte-Aktion","hold_action_desc":"Aktion, die beim Gedrückthalten des Moduls ausgeführt wird","double_tap_action":"Doppeltipp-Aktion","double_tap_action_desc":"Aktion, die beim Doppeltippen auf das Modul ausgeführt wird","tap_behavior":"Tipp-Verhalten","tap_behavior_desc":"Aktion, die ausgeführt wird, wenn das Element getippt/geklickt wird.","hold_behavior":"Halte-Verhalten","hold_behavior_desc":"Aktion, die ausgeführt wird, wenn das Element gedrückt und gehalten wird.","double_tap_behavior":"Doppeltipp-Verhalten","double_tap_behavior_desc":"Aktion, die ausgeführt wird, wenn das Element doppelt getippt/geklickt wird."},"icon":{"entity_config":{"title":"ENTITÄTS-KONFIGURATION","desc":"Konfigurieren Sie die Entität und aktive/inaktive Zustände"},"entity":"Entität","entity_desc":"Wählen Sie die Entität aus, die dieses Symbol repräsentiert","inactive_state":"Inaktiver Zustand","inactive_state_desc":"Zustandswert gilt als \\"inaktiv\\" (leer lassen, um den tatsächlichen Entitätszustand zu verwenden)","active_state":"Aktiver Zustand","active_state_desc":"Zustandswert gilt als \\"aktiv\\" (leer lassen, um den tatsächlichen Entitätszustand zu verwenden)","icon_section":{"title":"Symbol-Konfiguration"},"inactive_icon":"Inaktives Symbol","inactive_icon_desc":"Symbol, das bei Inaktivität angezeigt wird","inactive_icon_config":"Inaktive Symbol-Konfiguration","inactive_icon_config_desc":"Konfigurieren Sie die Einstellungen für inaktive Symbole","active_icon":"Aktives Symbol","active_icon_desc":"Symbol, das bei Aktivität angezeigt wird","icon_color_inactive":"Farbe bei Inaktivität","icon_color_active":"Farbe bei Aktivität","background_shape_inactive":"Hintergrundform bei Inaktivität","background_shape_active":"Hintergrundform bei Aktivität","background_color_inactive":"Hintergrundfarbe bei Inaktivität","background_color_active":"Hintergrundfarbe bei Aktivität","icon_size_inactive":"Symbolgröße bei Inaktivität","icon_size_active":"Symbolgröße bei Aktivität","inactive_icon_color":"Inaktive Symbolfarbe","active_icon_color":"Aktive Symbolfarbe","inactive_icon_background":"Inaktiver Symbolhintergrund","active_icon_background":"Aktiver Symbolhintergrund","inactive_icon_background_color":"Inaktive Symbolhintergrundfarbe","active_icon_background_color":"Aktive Symbolhintergrundfarbe","name_section":{"title":"Name-Konfiguration"},"inactive_name":"Inaktiver Name","inactive_name_desc":"Benutzerdefinierter Name bei Inaktivität","inactive_name_config":"Inaktive Name-Konfiguration","inactive_name_config_desc":"Konfigurieren Sie die Einstellungen für inaktive Namen","active_name":"Aktiver Name","active_name_desc":"Benutzerdefinierter Name bei Aktivität","custom_inactive_name":"Benutzerdefinierter inaktiver Name","custom_inactive_name_desc":"Entitätsname bei Inaktivität überschreiben (leer lassen, um Entitätsname zu verwenden)","custom_active_name":"Benutzerdefinierter aktiver Name","custom_active_name_desc":"Entitätsname bei Aktivität überschreiben (leer lassen, um Entitätsname zu verwenden)","name_color_inactive":"Namefarbe bei Inaktivität","name_color_active":"Namefarbe bei Aktivität","name_size_inactive":"Nametextgröße bei Inaktivität","name_size_active":"Nametextgröße bei Aktivität","inactive_name_color":"Inaktive Namefarbe","active_name_color":"Aktive Namefarbe","state_section":{"title":"Zustand-Konfiguration"},"inactive_state_color":"Inaktive Zustandsfarbe","active_state_color":"Aktive Zustandsfarbe","inactive_state_text":"Inaktiver Zustandstext","active_state_text":"Aktiver Zustandstext","inactive_state_config":"Inaktive Zustand-Konfiguration","inactive_state_config_desc":"Konfigurieren Sie die Einstellungen für inaktive Zustände","custom_inactive_state":"Benutzerdefinierter inaktiver Zustand","custom_inactive_state_desc":"Benutzerdefinierter Text bei Inaktivität (leer lassen, um tatsächlichen Zustand zu verwenden)","custom_active_state":"Benutzerdefinierter aktiver Zustand","custom_active_state_desc":"Benutzerdefinierter Text bei Aktivität (leer lassen, um tatsächlichen Zustand zu verwenden)","state_color_inactive":"Zustandsfarbe bei Inaktivität","state_color_active":"Zustandsfarbe bei Aktivität","state_size_inactive":"Zustandstextgröße bei Inaktivität","state_size_active":"Zustandstextgröße bei Aktivität","background_section":{"title":"Inaktiver Hintergrund","desc":"Konfigurieren Sie die Einstellungen für inaktive Hintergründe"},"template_section":{"title":"Erweiterter Vorlagen-Modus","desc":"Verwenden Sie Jinja2-Vorlagen für erweiterte Symbolsteuerung. Vorlagen können die Sichtbarkeit steuern (wahr/falsch zum Ein-/Ausblenden von Symbolen) und Zustandstext anpassen. Geben Sie benutzerdefinierten Text für aktiven Zustand zurück, geben Sie tatsächlichen Entitätszustand für inaktiven Zustand zurück."},"template_mode":"Erweiterter Vorlagen-Modus","template":"Vorlage","animation_section":{"title":"Symbol-Animation","desc":"Konfigurieren Sie Animationen für aktive und inaktive Zustände"},"active_animation":"Aktive Animation","active_animation_desc":"Animation wenn Symbol aktiv ist","inactive_animation":"Inaktive Animation","inactive_animation_desc":"Animation wenn Symbol inaktiv ist","animation_none":"Keine","animation_pulse":"Pulsieren","animation_spin":"Drehen","animation_bounce":"Springen","animation_flash":"Blitzen","animation_shake":"Schütteln","animation_vibrate":"Vibrieren","animation_rotate_left":"Links drehen","animation_rotate_right":"Rechts drehen","animation_fade":"Ausblenden","animation_scale":"Skalieren","animation_tada":"Tada"},"text":{"content_section":{"title":"Inhalts-Konfiguration","desc":"Konfigurieren Sie den Textinhalt und die Grundeinstellungen für dieses Modul."},"text_content":"Textinhalt","text_content_desc":"Geben Sie den Textinhalt ein, der in diesem Modul angezeigt werden soll.","icon_section":{"title":"Symbol-Konfiguration","desc":"Wählen Sie ein Symbol, das neben dem Textinhalt angezeigt werden soll."},"icon":"Symbol","icon_desc":"Wählen Sie ein Symbol, das neben dem Text angezeigt werden soll. Lassen Sie es leer für kein Symbol.","icon_position":"Symbol-Position","icon_position_desc":"Wählen Sie, wo das Symbol relativ zum Text positioniert werden soll.","before_text":"Vor dem Text","after_text":"Nach dem Text","template_mode":"Vorlagen-Modus","template_mode_desc":"Verwenden Sie die Home Assistant Vorlagen-Syntax zum Rendern von Text","value_template":"Wert-Vorlage","value_template_desc":"Vorlage zum Rendern des Textes mit Jinja2-Syntax","examples_title":"Häufige Beispiele:","example_basic":"Grundwert","example_percent":"Mit Prozent"},"markdown":{"content":{"title":"Markdown-Inhalt","label":"Inhalt","desc":"Geben Sie Ihren Markdown-Inhalt mit vollständiger Formatierungsunterstützung ein"},"features":{"title":"Markdown-Funktionen"},"enable_html":"HTML aktivieren","enable_html_desc":"HTML-Tags im Markdown-Inhalt erlauben","enable_tables":"Tabellen aktivieren","enable_tables_desc":"Unterstützung für Markdown-Tabellensyntax","code_highlighting":"Code-Hervorhebung","code_highlighting_desc":"Syntaxhervorhebung für Codeblöcke"},"bar":{"bar_settings":{"title":"Balken-Einstellungen","desc":"Konfigurieren Sie, wie der Balkenprozentsatz berechnet und angezeigt wird."},"perc_type":{"entity":"Entität (0–100)","attribute":"Entitätsattribut","difference":"Differenz","template":"Vorlage"},"attribute_section":{"title":"Entitätsattribut-Konfiguration","desc":"Entitätsattribut-Einstellungen konfigurieren"},"attribute_entity":"Attribut-Entität","attribute_entity_desc":"Wählen Sie die Entität aus, die das Attribut mit dem Prozentwert enthält","attribute_name":"Attributname","attribute_name_desc":"Geben Sie den Namen des Attributs ein, das den Prozentwert enthält (z. B. \\"battery_level\\")","diff_section":{"title":"Konfiguration der Differenzberechnung","desc":"Einstellungen der Differenzberechnung konfigurieren"},"current_entity":"Entität für aktuellen Wert","current_entity_desc":"Entität, die den aktuellen/genutzten Betrag darstellt (z. B. verbrauchter Kraftstoff, verbrauchte Batterie)","total_entity":"Entität für Gesamtwert","total_entity_desc":"Entität, die den Gesamt-/Maximalwert darstellt (z. B. Tankkapazität, Batteriekapazität)","template_section":{"title":"Vorlagen-Konfiguration","desc":"Vorlageneinstellungen konfigurieren"},"percentage_template":"Prozent-Vorlage","percentage_template_desc":"Geben Sie eine Jinja2-Vorlage ein, die eine Zahl zwischen 0–100 für den Prozentwert zurückgibt. Beispiel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Entitätsattribut-Konfiguration","desc":"Entitätsattribut-Einstellungen konfigurieren","attribute_entity":"Attribut-Entität","attribute_entity_desc":"Wählen Sie die Entität aus, die das Attribut mit dem Prozentwert enthält","attribute_name":"Attributname","attribute_name_desc":"Geben Sie den Namen des Attributs ein, das den Prozentwert enthält (z. B. \\"battery_level\\")"},"diff_config":{"title":"Konfiguration der Differenzberechnung","desc":"Einstellungen der Differenzberechnung konfigurieren","current_entity":"Entität für aktuellen Wert","current_entity_desc":"Entität, die den aktuellen/genutzten Betrag darstellt (z. B. verbrauchter Kraftstoff, verbrauchte Batterie)","total_entity":"Entität für Gesamtwert","total_entity_desc":"Entität, die den Gesamt-/Maximalwert darstellt (z. B. Tankkapazität, Batteriekapazität)"},"template_config":{"title":"Vorlagen-Konfiguration","desc":"Vorlageneinstellungen konfigurieren","percentage_template":"Prozent-Vorlage","percentage_template_desc":"Geben Sie eine Jinja2-Vorlage ein, die eine Zahl zwischen 0–100 für den Prozentwert zurückgibt. Beispiel: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Prozent-Entität des Balkens","desc_present":"Die Entität, die den Prozentwert für den Balken liefert.","desc_empty":"Wählen Sie eine Entität, die einen Prozentwert (0–100) liefert. Batteriesensoren eignen sich ideal für Balken.","no_entity_warning":"Keine Entität ausgewählt – Bitte wählen Sie einen Sensor mit Werten zwischen 0–100"},"limit_entity":{"title":"Grenzwert-Entität (optional)","desc":"Optional: Fügen Sie eine vertikale Indikatorlinie auf dem Balken hinzu (z. B. Ladungsgrenze für EV-Batterie)."},"appearance":{"title":"Balken-Erscheinungsbild","direction":"Füllrichtung","direction_desc":"Wählen Sie die Richtung, in die sich der Balken bei steigendem Wert füllt.","left_to_right":"Links nach Rechts","right_to_left":"Rechts nach Links","height":"Balkenhöhe","height_desc":"Passen Sie die Dicke des Fortschrittsbalkens in Pixeln an.","border_radius":"Rahmen-Radius","border_radius_desc":"Steuern Sie die abgerundeten Ecken des Balkens.","style":"Balkenstil","style_desc":"Wählen Sie den visuellen Stil des Fortschrittsbalkens.","style_flat":"Flach (Standard)","style_glossy":"Glänzend","style_embossed":"Geprägt","style_inset":"Vertieft","style_gradient":"Farbverlauf-Überlagerung","style_neon":"Neon-Leuchten","style_outline":"Umriss","style_glass":"Glas","style_metallic":"Metallisch","style_neumorphic":"Neumorph","style_dashed":"Gestrichelt","style_dots":"Punkte","width":"Balkenbreite","width_desc":"Legen Sie die Balkenbreite als Prozentsatz des Containers fest.","alignment":"Balkenausrichtung","alignment_desc":"Wählen Sie, wie der Balken ausgerichtet wird, wenn er weniger als 100 % Breite hat."},"labels":{"alignment":"Beschriftungsausrichtung","alignment_desc":"Steuern Sie, wie linke und rechte Beschriftungen positioniert werden."},"percentage":{"title":"Anzeige von Prozenttext","desc":"Steuern Sie die Sichtbarkeit und das Erscheinungsbild der Prozentwerte, die direkt auf dem Balken angezeigt werden. Diese Zahlen liefern einen klaren visuellen Indikator für den aktuellen Stand.","text_size":"Textgröße","text_size_desc":"Passen Sie die Größe des Prozenttextes auf dem Balken an.","text_alignment":"Ausrichtung des Prozenttexts"},"left":{"title":"Linke Seite","desc":"Konfigurieren Sie den Titel und den Entitätswert, der auf der linken Seite des Balkens angezeigt wird. Dies ist nützlich, um Beschriftungen wie \'Reichweite\' oder \'Batterie\' zusammen mit ihren Werten anzuzeigen.","title_size":"Titelgröße","value_size":"Wertgröße","template_mode":"Vorlagen-Modus","template_desc":"Verwenden Sie eine Vorlage, um den angezeigten Wert zu formatieren. Vorlagen verwenden die Jinja2-Syntax von Home Assistant.","value_template":"Wert-Vorlage","value_template_desc":"Vorlage zur Formatierung des Werts auf der linken Seite mit Jinja2-Syntax","enable_toggle":"Aktivieren Sie den Schalter oben, um die Einstellungen für die linke Seite zu konfigurieren"},"right":{"title":"Rechte Seite","desc":"Konfigurieren Sie den Titel und den Entitätswert, der auf der rechten Seite des Balkens angezeigt wird. Dies ist ideal für ergänzende Informationen wie \'Zeit bis voll\' oder sekundäre Messwerte.","title_size":"Titelgröße","value_size":"Wertgröße","template_mode":"Vorlagen-Modus","template_desc":"Verwenden Sie eine Vorlage, um den angezeigten Wert zu formatieren. Vorlagen verwenden die Jinja2-Syntax von Home Assistant.","value_template":"Wert-Vorlage","value_template_desc":"Vorlage zur Formatierung des Werts auf der rechten Seite mit Jinja2-Syntax","enable_toggle":"Aktivieren Sie den Schalter oben, um die Einstellungen für die rechte Seite zu konfigurieren"},"colors":{"title":"Farben","bar_color":"Balkenfarbe","background_color":"Hintergrundfarbe","border_color":"Randfarbe","limit_indicator":"Grenzwertanzeige","percentage_text":"Prozenttext","left_side":"Farben der linken Seite","right_side":"Farben der rechten Seite","title_color":"Titelfarbe","value_color":"Wertfarbe"},"gradient":{"title":"Farbverlaufsmodus","desc":"Wenden Sie einen Farbverlauf auf die Balkenfüllung an. Wenn aktiviert, wählen Sie, wie der Verlauf angezeigt wird, und passen Sie unten die Farbstopps an.","full":"Voll","cropped":"Zugeschnitten","value_based":"Wertbasiert"},"animation":{"title":"Balkenanimation","desc":"Animieren Sie die Balkenfüllung mit Presets wie Lade-Streifen, Pulsieren, Leuchten und mehr. Sie können Animationen basierend auf dem Zustand oder einem Attribut einer Entität auslösen und optional die Animation überschreiben, wenn eine andere Bedingung erfüllt ist.","trigger":{"title":"Animationsauslöser","desc":"Wählen Sie eine Entität aus und definieren Sie den Wert + die Animation, die angewendet werden soll, wenn dieser übereinstimmt.","entity_desc":"Entität für Animationsauslöser","type":"Auslösertype","type_desc":"Wählen Sie, ob der Entitätszustand oder ein Attribut verglichen werden soll","attribute_name_desc":"Attributname zum Vergleichen (z. B. charging_status)","match_value":"Vergleichswert","match_value_desc":"Text zum Vergleich mit Zustand oder Attribut (Vergleich ist textbasiert)."},"type":"Animationstyp","type_desc":"Wählen Sie, wie der Balken animiert werden soll, wenn er ausgelöst wird.","types":{"charging":"Laden (diagonale Linien)","pulse":"Pulsieren","blinking":"Blinken","bouncing":"Springen","glow":"Leuchten","rainbow":"Regenbogen","bubbles":"Blasen","fill":"Füllen","ripple":"Wellen","traffic":"Laufband (Barber Pole)","heartbeat":"Herzschlag","flicker":"Flackern","shimmer":"Schimmern","vibrate":"Vibrieren"},"override":{"title":"Aktions-Animations-Override","desc":"Wählen Sie eine Aktions-Entität und einen Zustand, um festzulegen, wann diese Animation die reguläre Animation überschreiben soll","entity_desc":"Entität zur Auswertung für den Override-Auslöser","type_desc":"Animation, die verwendet wird, wenn die Override-Bedingung erfüllt ist.","attribute_name_desc":"Attributname zum Vergleichen","match_value":"Override-Vergleichswert","match_value_desc":"Textvergleich mit Zustand oder Attribut","type":"Override-Animationstyp"}}},"image":{"settings":"Bildeinstellungen","source_type":"Bildquellentyp","source_type_desc":"Wählen Sie aus, wie Sie die Bildquelle angeben möchten.","source":{"default":"Standardbild","url":"Bild-URL","upload":"Bild hochladen","entity":"Entitätsbild","attribute":"Entitätsattribut"},"url_section":{"title":"Konfiguration der Bild-URL"},"image_url":"Bild-URL","image_url_desc":"Geben Sie die direkte URL zu dem Bild ein, das Sie anzeigen möchten.","upload_section":{"title":"Konfiguration Bild-Upload"},"upload":"Bild hochladen","upload_desc":"Klicken Sie, um eine Bilddatei von Ihrem Gerät hochzuladen.","entity_section":{"title":"Konfiguration Entitätsbild"},"entity":"Entität","entity_desc":"Wählen Sie eine Entität mit Bild (z. B. Personen- oder Kamera-Entitäten).","attribute_section":{"title":"Entitätsattribut-Konfiguration"},"entity_attr_desc":"Wählen Sie die Entität aus, die die Bild-URL in einem ihrer Attribute enthält.","attribute_name":"Attributname","attribute_name_desc":"Geben Sie den Attributpfad ein, der die Bild-URL enthält (Punktnotation wird unterstützt, z. B. vehicle_data.vehicleDetails.generalDashboard).","width":"Breite (%)","width_desc":"Legen Sie die Breite als Prozentsatz des Containers fest.","height":"Höhe (px)","height_desc":"Legen Sie die Höhe in Pixeln fest.","crop_fit":"Zuschneiden & Anpassen","crop_fit_desc":"Steuern Sie, wie das Bild in seinen Container passt.","fit":{"cover":"Abdecken (zum Füllen zuschneiden)","contain":"Einpassen (gesamtes Bild anzeigen)","fill":"Füllen (zum Anpassen strecken)","scale_down":"Herunterskalieren","none":"Keine (Originalgröße)"},"border_radius":"Rahmen-Radius","border_radius_desc":"Steuern Sie die abgerundeten Ecken des Bildes.","tap_actions":"Tipp-Aktionen","filters":"Filter","filter":{"blur":"Weichzeichnen","blur_desc":"Wenden Sie einen Weichzeichnungseffekt auf Ihr Bild an.","brightness":"Helligkeit (%)","brightness_desc":"Passen Sie die Helligkeit Ihres Bildes an.","contrast":"Kontrast (%)","contrast_desc":"Ändern Sie den Kontrast Ihres Bildes.","saturation":"Sättigung (%)","saturation_desc":"Passen Sie die Sättigung Ihres Bildes an."},"hover":{"title":"Hover-Effekte","effect_type":"Effekttyp","effect_type_desc":"Wählen Sie den Typ des Hover-Effekts.","scale":"Skalieren (heran-/herauszoomen)","rotate":"Drehen","fade":"Überblenden (Deckkraftänderung)","blur":"Weichzeichnen","brightness":"Helligkeit","glow":"Leuchten (Schlagschatten)","slide":"Verschieben (Translate)","scale_amount":"Skalierung (%)","scale_amount_desc":"Passen Sie die Skalierung des Bildes beim Hover an.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Rotieren Sie das Bild beim Hover.","opacity":"Deckkraft (%)","opacity_desc":"Ändern Sie die Deckkraft des Bildes beim Hover.","blur_amount":"Weichzeichnen (px)","blur_amount_desc":"Wenden Sie beim Hover einen Weichzeichnungseffekt auf das Bild an.","brightness_amount":"Helligkeit (%)","brightness_amount_desc":"Passen Sie die Helligkeit des Bildes beim Hover an.","glow_intensity":"Leuchtintensität","glow_intensity_desc":"Wählen Sie die Intensität des Leuchteffekts beim Hover.","glow_light":"Leichtes Leuchten","glow_medium":"Mittleres Leuchten","glow_heavy":"Starkes Leuchten","glow_custom":"Benutzerdefinierter Schatten","translate_x":"Horizontal (px)","translate_x_desc":"Verschieben Sie das Bild beim Hover horizontal.","translate_y":"Vertikal (px)","translate_y_desc":"Verschieben Sie das Bild beim Hover vertikal."},"alt":"Bild","no_source":"Keine Bildquelle konfiguriert"},"graphs":{"chart_type":{"title":"Diagrammtyp","type":"Typ","desc":"Wählen Sie den Visualisierungsstil für Ihre Daten."},"types":{"line":"Liniendiagramm","bar":"Balkendiagramm","pie":"Kreisdiagramm","donut":"Donut-Diagramm"},"data_sources":{"title":"Datenquellen","no_entities":"Keine Entitäten hinzugefügt","add_first_entity":"Fügen Sie Ihre erste Entität hinzu, um ein Diagramm zu erstellen","add_entity":"Entität hinzufügen"},"entity":"Entität","line":{"show_points":"Punkte anzeigen","fill_area":"Fläche füllen","line_width":"Linienbreite","line_style":"Linienstil"},"line_styles":{"solid":"Durchgezogen","dashed":"Gestrichelt","dotted":"Gepunktet"},"display":{"title":"Anzeigeoptionen","show_title":"Diagrammtitel anzeigen","show_value":"Diagrammwert anzeigen","chart_title":"Diagrammtitel","chart_title_placeholder":"Diagrammtitel eingeben","time_period":"Zeitraum","time_period_desc":"Wie viele historische Daten angezeigt werden sollen.","normalize_values":"Werte auf gleiche Skala normalisieren","normalize_desc":"Nützlich beim Vergleich von Entitäten mit unterschiedlichen Einheiten (z. B. % vs. Meilen)","chart_height":"Diagrammhöhe","chart_width":"Diagrammbreite (%)","chart_width_desc":"Prozentsatz der verfügbaren Modulbreite. Ausrichtung steuert die Platzierung.","chart_alignment":"Diagrammausrichtung","chart_alignment_desc":"Ausrichtung des Diagramms innerhalb seines Containers.","info_position":"Info-Position","info_position_desc":"Position der Überlagerung mit Name/Wert.","legend_position":"Legendenposition","legend_position_desc":"Position der Legende, wenn aktiviert.","background_color":"Hintergrundfarbe","chart_options":"Diagrammoptionen","show_legend":"Legende anzeigen","show_grid":"Gitter anzeigen","smooth_lines":"Linien glätten","show_tooltips":"Tooltips anzeigen","add_slice_gap":"Segmentabstand hinzufügen"},"agg":{"mean":"Durchschnitt","sum":"Summe","min":"Minimum","max":"Maximum","median":"Median","first":"Erster Wert","last":"Letzter Wert","count":"Anzahl","delta":"Änderung"},"position":{"top":"Oben","bottom":"Unten","left":"Links","right":"Rechts","hidden":"Ausgeblendet","top_left":"Oben links","top_right":"Oben rechts","bottom_left":"Unten links","bottom_right":"Unten rechts","middle":"Mitte","center":"Mitte"},"pie":{"show_title":"Titel im Segment anzeigen","show_value":"Wert im Segment anzeigen"},"period":{"1h":"Letzte Stunde","3h":"Letzte 3 Stunden","6h":"Letzte 6 Stunden","12h":"Letzte 12 Stunden","24h":"Letzte 24 Stunden","2d":"Letzte 2 Tage","7d":"Letzte Woche","30d":"Letzter Monat","90d":"Letzte 3 Monate","365d":"Letztes Jahr"},"reset_345":"Auf Standard zurücksetzen (345px)","reset_100":"Auf Standard zurücksetzen (100%)","entity_desc":"Wählen Sie eine Entität zum Plotten.","display_name_optional":"Anzeigename (optional)","use_as_card_info":"Als Karteninfo verwenden","attribute":"Attribut","attribute_desc":"Entitätszustand verwenden oder ein bestimmtes Attribut zum Verfolgen auswählen.","attribute_state_default":"Zustand (Standard)","show_points":"Punkte anzeigen","fill_area":"Fläche füllen","line_style":"Linienstil","line_solid":"Durchgezogen","line_dashed":"Gestrichelt","line_dotted":"Gepunktet","pie_show_title":"Titel im Segment anzeigen","pie_show_value":"Wert im Segment anzeigen","expand_options":"Optionen erweitern","no_entities":"Keine Entitäten hinzugefügt","add_first_entity":"Fügen Sie Ihre erste Entität hinzu, um ein Diagramm zu erstellen","add_entity":"Entität hinzufügen","display_options":{"title":"Anzeigeoptionen"},"show_title":"Diagrammtitel anzeigen","show_value":"Diagrammwert anzeigen","chart_title":"Diagrammtitel","chart_title_placeholder":"Diagrammtitel eingeben","time_period":"Zeitraum","time_period_desc":"Wie viele historische Daten angezeigt werden sollen.","normalize_values":"Werte auf gleiche Skala normalisieren","normalize_desc":"Nützlich beim Vergleich von Entitäten mit unterschiedlichen Einheiten (z. B. % vs. Meilen)","chart_height":"Diagrammhöhe","chart_width":"Diagrammbreite (%)"},"info":{"entity_section":{"title":"ENTITÄTS-KONFIGURATION"},"entity":"Entität","entity_desc":"Wählen Sie die anzuzeigende Entität aus","icon_section":{"title":"Symbol-Einstellungen"},"show_icon":"Symbol anzeigen","show_icon_desc":"Ein Symbol neben dem Entitätswert anzeigen","icon":"Symbol","icon_desc":"Wählen Sie ein anzuzeigendes Symbol","icon_color":"Symbolfarbe","name_section":{"title":"Name-Einstellungen"},"show_name":"Name anzeigen","show_name_desc":"Den Entitätsnamen über dem Wert anzeigen","custom_name":"Benutzerdefinierter Name","custom_name_desc":"Den Entitätsnamen durch einen benutzerdefinierten Namen ersetzen","name_color":"Farbe des Namens","state_section":{"title":"Zustandseinstellungen"},"show_state":"Zustand anzeigen","show_state_desc":"Den Entitätszustand/-wert anzeigen","show_units":"Einheiten anzeigen","show_units_desc":"Die Maßeinheit anzeigen (falls verfügbar)","state_color":"Zustandsfarbe","template":{"title":"Vorlagen-Modus","desc":"Verwenden Sie eine Vorlage, um den Entitätswert zu formatieren. Vorlagen ermöglichen die Verwendung der Home-Assistant-Templating-Syntax für komplexe Formatierungen.","mode":"Vorlagen-Modus","mode_desc":"Verwenden Sie die Home-Assistant-Templating-Syntax zur Formatierung des Werts","value":"Wert-Vorlage","value_desc":"Vorlage zur Formatierung des Entitätswerts mit Jinja2-Syntax"},"size_section":{"title":"Größeneinstellungen"},"icon_size":"Symbolgröße","icon_size_desc":"Größe des Symbols in Pixeln","name_size":"Namensgröße","name_size_desc":"Größe des Entitätsnamens in Pixeln","value_size":"Wertgröße","value_size_desc":"Größe des Entitätswerts in Pixeln","icon_gap":"Symbolabstand","icon_gap_desc":"Abstand zwischen Symbol und Inhalt in Pixeln","layout_section":{"title":"Layout & Positionierung"},"icon_position":"Symbol-Position","overall_alignment":"Gesamtausrichtung","icon_alignment":"Symbolausrichtung","content_alignment":"Inhaltsausrichtung","examples_title":"Häufige Beispiele:","example_basic":"Grundwert","example_units":"Mit Einheiten","example_round":"Auf 1 Dezimalstelle runden"},"button":{"basic":{"title":"Grundeinstellungen","desc":"Konfigurieren Sie das Erscheinungsbild der Schaltfläche und den Textinhalt."},"text":{"title":"Schaltflächentext","desc":"Text, der auf der Schaltfläche angezeigt wird (leer lassen für nur Symbol)."},"style":{"title":"Schaltflächenstil","desc":"Visueller Stil der Schaltfläche"},"alignment":{"title":"Ausrichtung","desc":"Wie die Schaltfläche in ihrem Container ausgerichtet ist"},"styles":{"flat":"Flach (Standard)","glossy":"Glänzend","embossed":"Geprägt","inset":"Vertieft","gradient_overlay":"Farbverlauf-Überlagerung","neon_glow":"Neon-Leuchten","outline":"Umriss","glass":"Glas","metallic":"Metallisch"},"align":{"left":"Links","center":"Mitte","right":"Rechts","justify":"Auffüllen (volle Breite)"},"icon":{"title":"Symboleinstellungen","desc":"Anzeige und Positionierung des Symbols für die Schaltfläche konfigurieren.","before":"Vor dem Text","after":"Nach dem Text","enable_toggle_desc":"Aktivieren Sie den Schalter oben, um die Symboleinstellungen zu konfigurieren"},"icon_field":"Symbol","show_icon":"Symbol anzeigen","show_icon_desc":"Ein Symbol auf der Schaltfläche anzeigen","icon_desc":"Anzuzeigendes Symbol (z. B. mdi:home)","icon_position":"Symbol-Position","icon_position_desc":"Position des Symbols relativ zum Text","colors":{"title":"Farben","background":"Hintergrundfarbe","text":"Textfarbe"},"hover":{"title":"Hover-Effekte","effect_type":"Effekttyp","effect_type_desc":"Wählen Sie den Hover-Effekt für diese Schaltfläche.","none":"Keine","color":"Farbänderung","scale":"Skalieren","glow":"Leuchten","lift":"Anheben (translate Y)","hover_color":"Hover-Farbe","glow_color":"Leuchtfarbe","enable_toggle_desc":"Aktivieren Sie den Schalter oben, um die Hover-Effekte zu konfigurieren"},"actions":{"type":"Aktionstyp","type_desc":"Wählen Sie, was beim Klick auf die Schaltfläche passiert","entity":"Entität","entity_desc":"Wählen Sie die Entität für die Interaktion","navigation_path":"Navigationspfad","navigation_path_desc":"Pfad zum Navigieren (z. B. /dashboard/energy)","service":"Dienst","service_desc":"Aufzurufender Dienst (z. B. light.turn_on)","service_data":"Servicedaten (JSON)","service_data_desc":"Optionale Daten, die an den Dienst übergeben werden (JSON-Format)"},"tap":{"title":"Tipp-Aktion","desc":"Aktion, die beim Tippen ausgeführt wird"},"hold":{"title":"Halte-Aktion","desc":"Aktion, die beim Gedrückthalten ausgeführt wird"},"double":{"title":"Doppeltipp-Aktion","desc":"Aktion, die beim Doppeltippen ausgeführt wird"}},"layout_extra":{"module_name":"Modulname:","module_name_placeholder":"Geben Sie diesem Modul einen benutzerdefinierten Namen, um es im Editor leichter zu identifizieren.","module_name_help":"Geben Sie diesem Modul einen benutzerdefinierten Namen, um es im Editor leichter zu identifizieren."},"camera":{"config":{"title":"Kamera-Konfiguration","desc":"Konfigurieren Sie die Kamera-Entität und Anzeigeeinstellungen."},"entity":"Kamera-Entität","entity_desc":"Wählen Sie die anzuzeigende Kamera-Entität. Dies sollte eine Kamera- oder MJPEG-Entität aus Home Assistant sein.","name":"Kameraname","name_desc":"Benutzerdefinierter Name für die Kamera. Leer lassen, um den Entitätsnamen zu verwenden.","show_name":"Kameranamen anzeigen","show_name_desc":"Den Kameranamen im Feed anzeigen","show_name_toggle":{"enable_toggle_desc":"Aktivieren Sie den obigen Schalter, um die Anzeige des Kameranamens zu konfigurieren"},"name_position":{"group_title":"Position des Kameranamens","title":"Namensposition","desc":"Wählen Sie, wo der Kameraname als Overlay auf dem Kamerabild erscheint.","options":{"top_left":"Oben links","top_right":"Oben rechts","center":"Mitte","bottom_left":"Unten links","bottom_right":"Unten rechts"}},"display":{"title":"Anzeigeeinstellungen"},"live_view":{"title":"Live-Ansicht","desc":"Aktivieren, um den Live-Kamerastream anzuzeigen (erfordert Stream-Integration). Wenn deaktiviert, werden Standbilder angezeigt."},"auto_refresh":{"section_title":"Automatische Aktualisierung","title":"Automatisch aktualisieren","desc":"Das Kamerabild in regelmäßigen Abständen automatisch aktualisieren"},"refresh_interval":{"title":"Aktualisierungsintervall (Sekunden)","desc":"Wie oft das Kamerabild automatisch aktualisiert werden soll."},"dimensions":{"title":"Abmessungen"},"width":"Breite (px)","width_desc":"Legen Sie die Breite der Kameraanzeige fest. Bereich: 100–1000 px","height":"Höhe (px)","height_desc":"Legen Sie die Höhe der Kameraanzeige fest. Bereich: 100–1000 px","link_aspect":"Seitenverhältnis verknüpfen","unlink_aspect":"Seitenverhältnis lösen","aspect_linked":{"title":"Seitenverhältnis verknüpft","desc":"Abmessungen behalten das Verhältnis {ratio}:1 bei. Das Anpassen einer Abmessung aktualisiert automatisch die andere, um die Proportionen beizubehalten."},"aspect_independent":{"title":"Unabhängige Abmessungen","desc":"Breite und Höhe können unabhängig angepasst werden. Klicken Sie oben auf Verknüpfen, um das Seitenverhältnis beizubehalten."},"crop":{"title":"Zuschnitt & Position","desc":"Passen Sie Zuschnitt und Position der Kameraansicht an. Nützlich, um bestimmte Bereiche zu fokussieren oder unerwünschte Ränder zu entfernen.","left_title":"Zuschnitt links (%)","left_desc":"Vom linken Rand zuschneiden. Höhere Werte zeigen weniger von der linken Seite.","right_title":"Zuschnitt rechts (%)","right_desc":"Vom rechten Rand zuschneiden. Höhere Werte zeigen weniger von der rechten Seite.","top_title":"Zuschnitt oben (%)","top_desc":"Vom oberen Rand zuschneiden. Höhere Werte zeigen weniger vom oberen Bereich.","bottom_title":"Zuschnitt unten (%)","bottom_desc":"Vom unteren Rand zuschneiden. Höhere Werte zeigen weniger vom unteren Bereich.","active_applied":"Aktive Zuschnitte angewendet","reset_all":"Alle Zuschnitte zurücksetzen"},"template":{"title":"Vorlagen-Modus","desc":"Verwenden Sie eine Vorlage, um die Kamera-Entität dynamisch festzulegen. Vorlagen erlauben die Home-Assistant-Templating-Syntax für bedingte Kameraauswahl.","mode_label":"Vorlagen-Modus","mode_desc":"Verwenden Sie die Home-Assistant-Templating-Syntax, um die Kamera-Entität dynamisch zu wählen","camera_template_label":"Kamera-Vorlage","camera_template_desc":"Vorlage zum dynamischen Setzen der Kamera-Entität mittels Jinja2-Syntax","examples_title":"Häufige Beispiele:","example1_desc":"Kamera anzeigen, wenn das Wetter sonnig ist","example2_desc":"Zwischen Kameras basierend auf einem Input-Bool wechseln","example3_desc":"Input Select verwenden, um die Kamera-Entität zu wählen"}},"separator":{"config":{"title":"Trennzeichen-Konfiguration"},"style":{"title":"Trennzeichenstil","desc":"Wählen Sie den visuellen Stil der Trennlinie."},"options":{"solid":"Durchgezogene Linie","double":"Doppellinie","dotted":"Gepunktete Linie","double_dotted":"Doppelt gepunktet","shadow":"Schatten","blank":"Leerraum"},"appearance":{"title":"Erscheinungsbild"},"thickness":"Dicke (px)","thickness_desc":"Dicke der Trennlinie.","width":"Breite (%)","width_desc":"Breite des Trennzeichens als Prozentsatz des Containers.","color":{"title":"Farbe","desc":"Farbe der Trennlinie."},"show_title":"Titel anzeigen","show_title_desc":"Fügen Sie Text in der Mitte der Trennlinie hinzu (z. B. ------ Text ------)","show_title_toggle":{"enable_toggle_desc":"Aktivieren Sie den obigen Schalter, um die Titel-Einstellungen zu konfigurieren"},"text_content":{"title":"Textinhalt","desc":"Text, der in der Mitte des Trennzeichens angezeigt wird."},"font_size":"Schriftgröße","font_size_desc":"Größe des Textes in Pixeln.","text_color":{"title":"Textfarbe","desc":"Farbe des Trennzeichen-Textes."},"text_format":{"title":"Textformatierung","desc":"Formatierungsstile auf den Trennzeichen-Text anwenden.","bold":"Fett","italic":"Kursiv","underline":"Unterstreichen","uppercase":"Großbuchstaben","strikethrough":"Durchgestrichen"},"spacer":{"title":"Abstandshöhe"},"height":"Höhe (px)","height_desc":"Steuert den sichtbaren Abstand für Leerraum."},"design":{"copy":"Kopieren","paste":"Einfügen","reset_all":"Alle zurücksetzen","copy_tooltip":"Aktuelle Design-Einstellungen kopieren (funktioniert kartenübergreifend)","paste_tooltip_has":"Kopierte Design-Einstellungen einfügen (aus der kartenübergreifenden Zwischenablage)","paste_tooltip_none":"Keine Design-Einstellungen in der kartenübergreifenden Zwischenablage","reset_all_tooltip":"Alle Design-Einstellungen auf Standard zurücksetzen","text_section":"Text","text_color":"Textfarbe","alignment":"Ausrichtung","inherit_alignment":"Vererben (keine Ausrichtung)","font_size":"Schriftgröße","font_size_placeholder":"16px (Standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Schriftgröße auf Standard zurücksetzen","line_height":"Zeilenhöhe","line_height_placeholder":"0 (Standard), 28px, 1.7","reset_line_height":"Zeilenhöhe auf Standard zurücksetzen","letter_spacing":"Buchstabenabstand","letter_spacing_placeholder":"auto (Standard), 1px, -0.04em","reset_letter_spacing":"Buchstabenabstand auf Standard zurücksetzen","font":"Schriftart","font_weight":"Schriftstärke","text_transform":"Texttransformation","font_style":"Schriftstil","default_option":"– Standard –","weight_thin":"100 - Dünn","weight_light":"300 - Leicht","weight_normal":"400 - Normal","weight_medium":"500 - Mittel","weight_semi_bold":"600 - Halb-fett","weight_bold":"700 - Fett","weight_black":"900 - Schwarz","transform_none":"Keine","transform_uppercase":"GROßBUCHSTABEN","transform_lowercase":"kleinschreibung","transform_capitalize":"Großschreibung","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Schräg","background_section":"Hintergrund","background_color":"Hintergrundfarbe","background_image_type":"Hintergrundbild-Typ","bg_none":"Keine","bg_upload":"Bild hochladen","bg_entity":"Entitätsbild","bg_url":"Bild-URL","sizes_section":"Größen","spacing_section":"Abstand","border_section":"Rahmen","text_shadow_section":"Textschatten","box_shadow_section":"Boxschatten","position_section":"Position","overflow_section":"Überlauf","animations_section":"Animationen","width":"Breite","height":"Höhe","max_width":"Maximale Breite","max_height":"Maximale Höhe","min_width":"Minimale Breite","min_height":"Minimale Höhe","border_radius":"Rahmen-Radius","border_style":"Rahmenstil","border_width":"Rahmenbreite","border_color":"Rahmenfarbe","margin":"Außenabstand","padding":"Innenabstand","top":"Oben","right":"Rechts","bottom":"Unten","left":"Links","unlock_sides":"Entsperren, um Seiten unabhängig zu bearbeiten","lock_sides":"Sperren, um alle Seiten gemeinsam zu bearbeiten","horizontal_shift":"Horizontalverschiebung","vertical_shift":"Vertikalverschiebung","blur":"Weichzeichnen","text_shadow_color":"Textschattenfarbe","box_shadow_color":"Boxschattenfarbe","overflow":"Überlauf","clip_path":"Clip-Pfad","upload_bg_image":"Hintergrundbild hochladen","bg_image_entity":"Hintergrundbild-Entität","bg_image_url":"Hintergrundbild-URL","choose_file":"Datei auswählen","no_file_chosen":"Keine Datei ausgewählt","backdrop_filter":"Hintergrundfilter","spread":"Ausbreitung","visible_default":"Sichtbar (Standard)","examples":"Beispiele","state_based_animation":"Zustandsbasierte Animation","animation_type":"Animationstyp","animation_duration":"Animationsdauer","animation_duration_desc":"Dauer der Animation (z. B. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- & Outro-Animationen","intro_animation":"Intro-Animation","outro_animation":"Outro-Animation","duration":"Dauer","delay":"Verzögerung","timing":"Timing","none":"Keine","ease":"Ease","border_style_none":"Keine","border_style_solid":"Durchgezogen","border_style_dashed":"Gestrichelt","border_style_dotted":"Gepunktet","border_style_double":"Doppelt","position_default":"– Standard –","position_static":"Statisch","position_relative":"Relativ","position_absolute":"Absolut","position_fixed":"Fixiert","position_sticky":"Sticky"},"modules":{"text":"Text-Modul","image":"Bild-Modul","icon":"Symbol-Modul","bar":"Balken-Modul","info":"Info-Modul","button":"Button-Modul","separator":"Trennzeichen-Modul","markdown":"Markdown-Modul","camera":"Kamera-Modul","graphs":"Diagramm-Modul","no_text_configured":"Kein Text konfiguriert","no_image_configured":"Kein Bild konfiguriert","uploaded_image":"Hochgeladenes Bild","icons_configured":"{count} Symbole konfiguriert","no_icons_configured":"Keine Symbole konfiguriert","default_entity_suggestion":"Entität: sensor.battery_level","sample_text":"Beispieltext"}}}');var c=i.t(d,2);const u=JSON.parse('{"editor":{"tabs":{"layout":"Layout Builder","settings":"Settings","about":"About"},"settings":{"title":"Card Settings","description":"Configure global card appearance and behaviour."},"appearance":{"title":"Appearance","description":"Control the visual appearance of your card"},"spacing":{"title":"Spacing","description":"Control the spacing and positioning of your card"},"fields":{"card_background_color":"Card Background Colour","card_background_color_desc":"The background colour of the entire card","border_radius":"Border Radius","border_radius_desc":"Rounded corners for the card (in pixels)","card_padding":"Card Padding","card_padding_desc":"Internal spacing within the card","card_margin":"Card Margin","card_margin_desc":"External spacing around the card","unit_px":"px","reset_default":"Reset to default","reset_default_value":"Reset to default ({value})"},"tooltips":{"enter_fullscreen":"Enter Full Screen","return_dashboard":"Return to Dashboard","dashboard":"Dashboard"},"common":{"left":"Left","center":"Center","right":"Right","top":"Top","bottom":"Bottom","none":"None","state":"State","attribute":"Attribute","attribute_name":"Attribute Name","entity":"Entity","space_between":"Space Between","space_around":"Space Around","justify":"Justify","stretch":"Stretch","baseline":"Baseline"},"horizontal":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged horizontally within the container."},"alignment":{"horizontal":"Horizontal Alignment","horizontal_desc":"Choose how elements are aligned horizontally within the container.","vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"wrapping":{"title":"Allow Wrapping","desc":"Allow elements to wrap to the next line when they exceed the container width."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between horizontal elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"vertical":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged vertically within the container."},"alignment":{"vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between vertical elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"layout":{"live_preview":"Live Preview","toggle_preview":"Toggle preview","drag_to_move_module":"Drag to move module","edit_module":"Edit Module","duplicate_module":"Duplicate Module","delete_module":"Delete Module","drag_to_move_layout":"Drag to move layout module","horizontal_layout":"Horizontal Layout","vertical_layout":"Vertical Layout","add_module_to_layout":"Add Module to Layout","layout_settings":"Layout Settings","duplicate_layout":"Duplicate Layout","delete_layout":"Delete Layout","click_to_add_module":"Click to add a module","drop_modules_here":"Drop modules here","drag_to_reorder":"Drag to reorder","edit_child_module":"Edit Child Module","duplicate_child_module":"Duplicate Child Module","delete_child_module":"Delete Child Module","module_settings_title":"Module Settings","child_module_settings_title":"Child Module Settings","general_tab":"General","actions_tab":"Actions","other_tab":"Other","logic_tab":"Logic","design_tab":"Design","drag_to_resize":"Drag to resize","hidden_by_logic":"Hidden by Logic","add_row":"Add Row","add_row_tooltip":"Add a new row to your layout","row_settings":"Row Settings","column_settings":"Column Settings","row_background_color":"Row Background Colour","column_gap":"Column Gap (px)","vertical_alignment":"Vertical Alignment","horizontal_alignment":"Horizontal Alignment","column_preview":"Column Preview","modules_count":"{count} modules","alignment_top":"Top","alignment_center":"Center","alignment_bottom":"Bottom","alignment_stretch":"Stretch","alignment_left":"Left","alignment_right":"Right"},"layout_logic":{"display_title":"Display this Element","display_desc":"Control when this element is shown. Choose \\"Always\\" to keep it visible. Select \\"If EVERY condition below is met\\" or \\"If ANY condition below is met\\" to display it only when the conditions you add below evaluate to true.","always":"Always","every":"If EVERY condition below is met","any":"If ANY condition below is met","conditions":"Conditions","add_condition":"Add Condition","no_conditions":"No conditions added yet. Click \\"Add Condition\\" to get started.","condition_types":{"entity_state":"Entity State","entity_attribute":"Entity Attribute","time":"Time Range","template":"Template"},"condition_fields":{"entity":"Entity","operator":"Operator","value":"Value","attribute":"Attribute","time_from":"From","time_to":"To","template":"Template"},"condition_header":"Condition","custom_name":"Custom Name","custom_name_desc":"Optional: Give this condition a custom name for easier identification","condition_type":"Condition Type"},"hover_effects":{"title":"Hover Effects","description":"Configure visual effects that appear when hovering over this module, row, or column.","effect":"Hover Effect","effect_desc":"Select the visual effect to apply when hovering","effects":{"none":"None","highlight":"Highlight","outline":"Outline","grow":"Grow","shrink":"Shrink","pulse":"Pulse","bounce":"Bounce","float":"Float","glow":"Glow","shadow":"Shadow","rotate":"Rotate","skew":"Skew","wobble":"Wobble","buzz":"Buzz","fade":"Fade"}},"about":{"developed_by":"Developed by","desc1":"A powerful modular card builder for Home Assistant","desc2":"Create custom layouts with a professional page-builder interface","desc3":"Modular layout system with conditional logic and professional design tools","github_repo":"Check Out Our Github","join_discord":"Join Our Discord","support_title":"Support Ultra Card","support_desc":"Your generous tips fuel the development of amazing features for this card! Without support from users like you, continued innovation wouldn\'t be possible.","leave_tip":"LEAVE A TIP (PAYPAL)","version":"Version"},"actions":{"title":"Link Configuration","description":"Configure what happens when users interact with this element. Choose different actions for tap, hold, and double-tap gestures.","tap_action":"Tap Action","tap_action_desc":"Action performed when tapping/clicking the module","hold_action":"Hold Action","hold_action_desc":"Action performed when holding down on the module","double_tap_action":"Double Tap Action","double_tap_action_desc":"Action performed when double-tapping the module","tap_behavior":"Tap Behaviour","tap_behavior_desc":"Action to perform when the element is tapped/clicked.","hold_behavior":"Hold Behaviour","hold_behavior_desc":"Action to perform when the element is pressed and held.","double_tap_behavior":"Double Tap Behaviour","double_tap_behavior_desc":"Action to perform when the element is double-tapped/clicked."},"icon":{"entity_config":{"title":"ENTITY CONFIGURATION","desc":"Configure the entity and active/inactive states"},"entity":"Entity","entity_desc":"Select the entity this icon represents","inactive_state":"Inactive State","inactive_state_desc":"State value considered \\"inactive\\" (leave blank to use actual entity state)","active_state":"Active State","active_state_desc":"State value considered \\"active\\" (leave blank to use actual entity state)","icon_section":{"title":"Icon Configuration"},"inactive_icon":"Inactive Icon","inactive_icon_desc":"Icon to show when inactive","inactive_icon_config":"Inactive Icon Configuration","inactive_icon_config_desc":"Configure inactive icon settings","active_icon":"Active Icon","active_icon_desc":"Icon to show when active","icon_color_inactive":"Colour when inactive","icon_color_active":"Colour when active","background_shape_inactive":"Background shape when inactive","background_shape_active":"Background shape when active","background_color_inactive":"Background colour when inactive","background_color_active":"Background colour when active","icon_size_inactive":"Icon size when inactive","icon_size_active":"Icon size when active","inactive_icon_color":"Inactive icon colour","active_icon_color":"Active icon colour","inactive_icon_background":"Inactive icon background","active_icon_background":"Active icon background","inactive_icon_background_color":"Inactive icon background colour","active_icon_background_color":"Active icon background colour","name_section":{"title":"Name Configuration"},"inactive_name":"Inactive Name","inactive_name_desc":"Custom name when inactive","inactive_name_config":"Inactive Name Configuration","inactive_name_config_desc":"Configure inactive name settings","active_name":"Active Name","active_name_desc":"Custom name when active","custom_inactive_name":"Custom Inactive Name","custom_inactive_name_desc":"Override entity name when inactive (leave empty to use entity name)","custom_active_name":"Custom Active Name","custom_active_name_desc":"Override entity name when active (leave empty to use entity name)","name_color_inactive":"Name colour when inactive","name_color_active":"Name colour when active","name_size_inactive":"Name text size when inactive","name_size_active":"Name text size when active","inactive_name_color":"Inactive name colour","active_name_color":"Active name colour","state_section":{"title":"State Configuration"},"inactive_state_color":"Inactive state colour","active_state_color":"Active state colour","inactive_state_text":"Inactive state text","active_state_text":"Active state text","inactive_state_config":"Inactive State Configuration","inactive_state_config_desc":"Configure inactive state settings","custom_inactive_state":"Custom Inactive State","custom_inactive_state_desc":"Custom text when inactive (leave empty to use actual state)","custom_active_state":"Custom Active State","custom_active_state_desc":"Custom text when active (leave empty to use actual state)","state_color_inactive":"State colour when inactive","state_color_active":"State colour when active","state_size_inactive":"State text size when inactive","state_size_active":"State text size when active","background_section":{"title":"Inactive Background","desc":"Configure inactive background settings"},"template_section":{"title":"Advanced Template Mode","desc":"Use Jinja2 templates for advanced icon control. Templates can control visibility (true/false to show/hide icons) and customize state text. Return custom text for Active State, return actual entity state for Inactive State."},"template_mode":"Advanced Template Mode","template":"Template","animation_section":{"title":"Icon Animation","desc":"Configure animations for active and inactive states"},"active_animation":"Active Animation","active_animation_desc":"Animation when icon is active","inactive_animation":"Inactive Animation","inactive_animation_desc":"Animation when icon is inactive","animation_none":"None","animation_pulse":"Pulse","animation_spin":"Spin","animation_bounce":"Bounce","animation_flash":"Flash","animation_shake":"Shake","animation_vibrate":"Vibrate","animation_rotate_left":"Rotate Left","animation_rotate_right":"Rotate Right","animation_fade":"Fade","animation_scale":"Scale","animation_tada":"Tada"},"text":{"content_section":{"title":"Content Configuration","desc":"Configure the text content and basic settings for this module."},"text_content":"Text Content","text_content_desc":"Enter the text content to display in this module.","icon_section":{"title":"Icon Configuration","desc":"Choose an icon to display alongside the text content."},"icon":"Icon","icon_desc":"Choose an icon to display alongside the text. Leave empty for no icon.","icon_position":"Icon Position","icon_position_desc":"Choose where to position the icon relative to the text.","before_text":"Before Text","after_text":"After Text","template_mode":"Template Mode","template_mode_desc":"Use Home Assistant templating syntax to render text","value_template":"Value Template","value_template_desc":"Template to render the text using Jinja2 syntax","examples_title":"Common Examples:","example_basic":"Basic value","example_percent":"With percent"},"markdown":{"content":{"title":"Markdown Content","label":"Content","desc":"Enter your markdown content with full formatting support"},"features":{"title":"Markdown Features"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks"},"bar":{"bar_settings":{"title":"Bar Settings","desc":"Configure how the bar percentage is calculated and displayed."},"perc_type":{"entity":"Entity (0-100)","attribute":"Entity Attribute","difference":"Difference","template":"Template"},"attribute_section":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings"},"attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")","diff_section":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings"},"current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)","template_section":{"title":"Template Configuration","desc":"Configure template settings"},"percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings","attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")"},"diff_config":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings","current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)"},"template_config":{"title":"Template Configuration","desc":"Configure template settings","percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Bar Percentage Entity","desc_present":"The entity that provides the percentage value for the bar.","desc_empty":"Select an entity that provides a percentage value (0-100). Battery sensors are ideal for bars.","no_entity_warning":"No entity selected - Please choose a sensor with values between 0-100"},"limit_entity":{"title":"Limit Value Entity (Optional)","desc":"Optional: Add a vertical indicator line on the bar (e.g. charge limit for EV battery)."},"appearance":{"title":"Bar Appearance","direction":"Fill Direction","direction_desc":"Choose which direction the bar fills from as the value increases.","left_to_right":"Left to Right","right_to_left":"Right to Left","height":"Bar Height","height_desc":"Adjust the thickness of the progress bar in pixels.","border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the bar.","style":"Bar Style","style_desc":"Choose the visual style of the progress bar.","style_flat":"Flat (Default)","style_glossy":"Glossy","style_embossed":"Embossed","style_inset":"Inset","style_gradient":"Gradient Overlay","style_neon":"Neon Glow","style_outline":"Outline","style_glass":"Glass","style_metallic":"Metallic","style_neumorphic":"Neumorphic","style_dashed":"Dashed","style_dots":"Dots","width":"Bar Width","width_desc":"Set the bar width as percentage of container.","alignment":"Bar Alignment","alignment_desc":"Choose how to align the bar when it\'s less than 100% width."},"labels":{"alignment":"Label Alignment","alignment_desc":"Control how left and right labels are positioned."},"percentage":{"title":"Percentage Text Display","desc":"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.","text_size":"Text Size","text_size_desc":"Adjust the size of percentage text shown on the bar.","text_alignment":"Percentage Text Alignment"},"left":{"title":"Left Side","desc":"Configure the title and entity value shown on the left side of the bar. This is useful for displaying labels like \'Range\' or \'Battery\' alongside their values.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the left side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure left side settings"},"right":{"title":"Right Side","desc":"Configure the title and entity value shown on the right side of the bar. This is ideal for complementary information like \'Time to Full\' or secondary measurements.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the right side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure right side settings"},"colors":{"title":"Colors","bar_color":"Bar Colour","background_color":"Background Colour","border_color":"Border Colour","limit_indicator":"Limit Indicator","percentage_text":"Percentage Text","left_side":"Left Side Colors","right_side":"Right Side Colors","title_color":"Title Colour","value_color":"Value Colour"},"gradient":{"title":"Gradient Mode","desc":"Apply a colour gradient to the bar fill. When enabled, choose how the gradient is displayed and customize colour stops below.","full":"Full","cropped":"Cropped","value_based":"Value Based"},"animation":{"title":"Bar Animation","desc":"Animate the bar fill using presets like charging stripes, pulse, glow and more. You can trigger animations based on an entity\'s state or attribute, and optionally override the animation when another condition is met.","trigger":{"title":"Animation Trigger","desc":"Select an entity to watch and define the value + animation to apply when it matches.","entity_desc":"Entity to evaluate for animation trigger","type":"Trigger Type","type_desc":"Choose whether to compare entity state or an attribute","attribute_name_desc":"Attribute name to compare (e.g., charging_status)","match_value":"Match Value","match_value_desc":"Text to compare against state or attribute (comparison is text-based)."},"type":"Animation Type","type_desc":"Select how the bar should animate when triggered.","types":{"charging":"Charging (Diagonal Lines)","pulse":"Pulse","blinking":"Blinking","bouncing":"Bouncing","glow":"Glow","rainbow":"Rainbow","bubbles":"Bubbles","fill":"Fill","ripple":"Ripple","traffic":"Traffic (Barber Pole)","heartbeat":"Heartbeat","flicker":"Flicker","shimmer":"Shimmer","vibrate":"Vibrate"},"override":{"title":"Action Animation Override","desc":"Select an action entity and state to define when this animation should override the regular animation","entity_desc":"Entity to evaluate for override trigger","type_desc":"Animation to use when override condition matches.","attribute_name_desc":"Attribute name to compare","match_value":"Override Match Value","match_value_desc":"Text comparison against state or attribute","type":"Override Animation Type"}}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Entity Attribute"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Entity","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Entity Attribute Configuration"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Attribute Name","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Image","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity"},"entity":"Entity","line":{"show_points":"Show Points","fill_area":"Fill Area","line_width":"Line Width","line_style":"Line Style"},"line_styles":{"solid":"Solid","dashed":"Dashed","dotted":"Dotted"},"display":{"title":"Display Options","show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","background_color":"Background Colour","chart_options":"Chart Options","show_legend":"Show Legend","show_grid":"Show Grid","smooth_lines":"Smooth Lines","show_tooltips":"Show Tooltips","add_slice_gap":"Add Slice Gap"},"agg":{"mean":"Average","sum":"Sum","min":"Minimum","max":"Maximum","median":"Median","first":"First Value","last":"Last Value","count":"Count","delta":"Change"},"position":{"top":"Top","bottom":"Bottom","left":"Left","right":"Right","hidden":"Hidden","top_left":"Top Left","top_right":"Top Right","bottom_left":"Bottom Left","bottom_right":"Bottom Right","middle":"Center","center":"Center"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"reset_345":"Reset to default (345px)","reset_100":"Reset to default (100%)","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribute","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)"},"info":{"entity_section":{"title":"ENTITY CONFIGURATION"},"entity":"Entity","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Icon","icon_desc":"Choose an icon to display","icon_color":"Icon Colour","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Colour","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Colour","template":{"title":"Template Mode","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Template Mode","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Value Template","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Value Size","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Icon Position","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Common Examples:","example_basic":"Basic value","example_units":"With units","example_round":"Round to 1 decimal"},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"align":{"left":"Left","center":"Center","right":"Right","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Before Text","after":"After Text","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"icon_field":"Icon","show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Icon Position","icon_position_desc":"Position of the icon relative to text","colors":{"title":"Colors","background":"Background Colour","text":"Text Colour"},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"None","color":"Colour Change","scale":"Scale","glow":"Glow","lift":"Lift (translate Y)","hover_color":"Hover Colour","glow_color":"Glow Colour","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Entity","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Tap Action","desc":"Action to perform when button is tapped"},"hold":{"title":"Hold Action","desc":"Action to perform when button is held down"},"double":{"title":"Double Tap Action","desc":"Action to perform when button is double-tapped"}},"layout_extra":{"module_name":"Module Name:","module_name_placeholder":"Give this module a custom name to make it easier to identify in the editor.","module_name_help":"Give this module a custom name to make it easier to identify in the editor."},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"},"name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Center","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Template Mode","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Template Mode","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Common Examples:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Appearance"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Colour","desc":"Colour of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"},"text_content":{"title":"Text Content","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Colour","desc":"Colour of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space."},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Text","text_color":"Text Colour","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":"– Default –","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"None","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Background","background_color":"Background Colour","background_image_type":"Background Image Type","bg_none":"None","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Spacing","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Width","height":"Height","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Border Radius","border_style":"Border Style","border_width":"Border Width","border_color":"Border Colour","margin":"Margin","padding":"Padding","top":"Top","right":"Right","bottom":"Bottom","left":"Left","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Colour","box_shadow_color":"Box Shadow Colour","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Animation Type","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"None","ease":"Ease","border_style_none":"None","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":"– Default –","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Text Module","image":"Image Module","icon":"Icon Module","bar":"Bar Module","info":"Info Module","button":"Button Module","separator":"Separator Module","markdown":"Markdown Module","camera":"Camera Module","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text"}}}');var p=i.t(u,2);const g=JSON.parse('{"editor":{"tabs":{"layout":"Constructor de diseño","settings":"Configuración","about":"Acerca de"},"settings":{"title":"Configuración de tarjeta","description":"Configura la apariencia global y el comportamiento de la tarjeta."},"appearance":{"title":"Apariencia","description":"Controla la apariencia visual de tu tarjeta"},"spacing":{"title":"Espaciado","description":"Controla el espaciado y posicionamiento de tu tarjeta"},"fields":{"reset_default_value":"Restablecer al valor predeterminado ({value})","card_background_color":"Color de fondo de tarjeta","card_background_color_desc":"El color de fondo de toda la tarjeta","border_radius":"Radio del borde","border_radius_desc":"Esquinas redondeadas para la tarjeta (en píxeles)","card_padding":"Relleno de tarjeta","card_padding_desc":"Espaciado interno dentro de la tarjeta","card_margin":"Margen de tarjeta","card_margin_desc":"Espaciado externo alrededor de la tarjeta","unit_px":"px","reset_default":"Restablecer a predeterminado"},"tooltips":{"enter_fullscreen":"Pantalla completa","return_dashboard":"Volver al panel","dashboard":"Panel"},"layout":{"live_preview":"Vista previa","toggle_preview":"Mostrar/ocultar vista previa","drag_to_move_module":"Arrastrar para mover módulo","edit_module":"Editar módulo","duplicate_module":"Duplicar módulo","delete_module":"Eliminar módulo","drag_to_move_layout":"Arrastrar para mover el diseño","horizontal_layout":"Diseño Horizontal","vertical_layout":"Diseño Vertical","add_module_to_layout":"Añadir módulo al diseño","layout_settings":"Ajustes de diseño","duplicate_layout":"Duplicar diseño","delete_layout":"Eliminar diseño","click_to_add_module":"Clic para añadir un módulo","drop_modules_here":"Suelta módulos aquí","drag_to_reorder":"Arrastrar para reordenar","edit_child_module":"Editar módulo hijo","duplicate_child_module":"Duplicar módulo hijo","delete_child_module":"Eliminar módulo hijo","module_settings_title":"Ajustes del módulo","child_module_settings_title":"Ajustes del módulo hijo","general_tab":"General","actions_tab":"Acciones","other_tab":"Otro","logic_tab":"Lógica","design_tab":"Diseño","drag_to_resize":"Arrastrar para redimensionar","hidden_by_logic":"Oculto por lógica","add_row":"Añadir fila","add_row_tooltip":"Añadir una nueva fila a tu diseño","row_settings":"Configuración de fila","column_settings":"Configuración de columna","row_background_color":"Color de fondo de fila","column_gap":"Espacio entre columnas (px)","vertical_alignment":"Alineación vertical","horizontal_alignment":"Alineación horizontal","column_preview":"Vista previa de columna","modules_count":"{count} módulos","alignment_top":"Arriba","alignment_center":"Centro","alignment_bottom":"Abajo","alignment_stretch":"Estirar","alignment_left":"Izquierda","alignment_right":"Derecha"},"common":{"left":"Izquierda","center":"Centro","right":"Derecha","top":"Arriba","bottom":"Abajo","none":"Ninguno","state":"Estado","attribute":"Atributo","attribute_name":"Nombre del atributo","entity":"Entidad","space_between":"Espacio entre","space_around":"Espacio alrededor","justify":"Justificar","stretch":"Estirar","baseline":"Línea base"},"horizontal":{"layout":{"title":"Configuración de diseño","desc":"Configura cómo se organizan los elementos horizontalmente dentro del contenedor."},"alignment":{"horizontal":"Alineación horizontal","horizontal_desc":"Elige cómo se alinean los elementos horizontalmente dentro del contenedor.","vertical":"Alineación vertical","vertical_desc":"Elige cómo se alinean los elementos verticalmente dentro del contenedor."},"wrapping":{"title":"Permitir ajuste","desc":"Permite que los elementos se ajusten a la siguiente línea cuando excedan el ancho del contenedor."},"gap":{"title":"Configuración de espacio","between_items":"Espacio entre elementos","desc":"Establece el espaciado entre elementos horizontales (en unidades rem). Usa valores negativos para superponer elementos."},"empty":{"no_modules":"Aún no se han añadido módulos","add_modules":"Añade módulos en el constructor de diseño para verlos aquí"}},"vertical":{"layout":{"title":"Configuración de diseño","desc":"Configura cómo se organizan los elementos verticalmente dentro del contenedor."},"alignment":{"vertical":"Alineación vertical","vertical_desc":"Elige cómo se alinean los elementos verticalmente dentro del contenedor."},"gap":{"title":"Configuración de espacio","between_items":"Espacio entre elementos","desc":"Establece el espaciado entre elementos verticales (en unidades rem). Usa valores negativos para superponer elementos."},"empty":{"no_modules":"Aún no se han añadido módulos","add_modules":"Añade módulos en el constructor de diseño para verlos aquí"}},"layout_extra":{"module_name":"Nombre del módulo:","module_name_placeholder":"Asigna un nombre para identificarlo fácilmente en el editor.","module_name_help":"Asigna un nombre para identificarlo fácilmente en el editor."},"layout_logic":{"display_title":"Mostrar este elemento","display_desc":"Controla cuándo se muestra este elemento. Elige \\"Siempre\\" para mantenerlo visible. Selecciona \\"Si TODAS las condiciones se cumplen\\" o \\"Si CUALQUIER condición se cumple\\" para mostrarlo solo cuando las condiciones añadidas se evalúen como verdaderas.","always":"Siempre","every":"Si TODAS las condiciones se cumplen","any":"Si CUALQUIER condición se cumple","conditions":"Condiciones","add_condition":"Añadir condición","no_conditions":"Aún no hay condiciones. Haz clic en \\"Añadir condición\\" para empezar.","condition_types":{"entity_state":"Estado de entidad","entity_attribute":"Atributo de entidad","time":"Rango de tiempo","template":"Plantilla"},"condition_fields":{"entity":"Entidad","operator":"Operador","value":"Valor","attribute":"Atributo","time_from":"Desde","time_to":"Hasta","template":"Plantilla"},"condition_header":"Condición","custom_name":"Nombre personalizado","custom_name_desc":"Opcional: Asigna un nombre personalizado a esta condición para identificarla más fácilmente","condition_type":"Tipo de condición"},"hover_effects":{"title":"Efectos de hover","description":"Configura efectos visuales que aparecen al pasar el cursor sobre este módulo, fila o columna.","effect":"Efecto de hover","effect_desc":"Selecciona el efecto visual que se aplicará al pasar el cursor","effects":{"none":"Ninguno","highlight":"Resaltar","outline":"Contorno","grow":"Crecer","shrink":"Encoger","pulse":"Pulso","bounce":"Rebotar","float":"Flotar","glow":"Brillo","shadow":"Sombra","rotate":"Rotar","skew":"Inclinar","wobble":"Tambalear","buzz":"Vibrar","fade":"Desvanecer"}},"about":{"developed_by":"Desarrollado por","desc1":"Un potente constructor de tarjetas modulares para Home Assistant","desc2":"Crea diseños personalizados con una interfaz profesional de constructor de páginas","desc3":"Sistema de diseño modular con lógica condicional y herramientas de diseño profesionales","github_repo":"Visita nuestro Github","join_discord":"Únete a nuestro Discord","support_title":"Apoya Ultra Card","support_desc":"¡Tus generosas propinas impulsan el desarrollo de características increíbles para esta tarjeta! Sin el apoyo de usuarios como tú, la innovación continua no sería posible.","leave_tip":"DEJA UNA PROPINA (PAYPAL)","version":"Versión"},"actions":{"title":"Configuración de enlaces","description":"Configura qué sucede cuando los usuarios interactúan con este elemento. Elige diferentes acciones para gestos de toque, mantener presionado y doble toque.","tap_action":"Acción de toque","tap_action_desc":"Acción realizada al tocar/hacer clic en el módulo","hold_action":"Acción de mantener presionado","hold_action_desc":"Acción realizada al mantener presionado el módulo","double_tap_action":"Acción de doble toque","double_tap_action_desc":"Acción realizada al hacer doble toque en el módulo","tap_behavior":"Comportamiento de toque","tap_behavior_desc":"Acción a realizar cuando se toca/hace clic en el elemento.","hold_behavior":"Comportamiento de mantener presionado","hold_behavior_desc":"Acción a realizar cuando se presiona y mantiene el elemento.","double_tap_behavior":"Comportamiento de doble toque","double_tap_behavior_desc":"Acción a realizar cuando se hace doble toque/clic en el elemento."},"icon":{"entity_config":{"title":"CONFIGURACIÓN DE ENTIDAD","desc":"Configura la entidad y los estados activo/inactivo"},"entity":"Entidad","entity_desc":"Selecciona la entidad que representa este icono","inactive_state":"Estado inactivo","inactive_state_desc":"Valor de estado considerado \\"inactivo\\" (dejar en blanco para usar el estado real de la entidad)","active_state":"Estado activo","active_state_desc":"Valor de estado considerado \\"activo\\" (dejar en blanco para usar el estado real de la entidad)","icon_section":{"title":"Configuración de icono"},"inactive_icon":"Icono inactivo","inactive_icon_desc":"Icono a mostrar cuando está inactivo","inactive_icon_config":"Configuración de icono inactivo","inactive_icon_config_desc":"Configura los ajustes del icono inactivo","active_icon":"Icono activo","active_icon_desc":"Icono a mostrar cuando está activo","icon_color_inactive":"Color cuando está inactivo","icon_color_active":"Color cuando está activo","background_shape_inactive":"Forma de fondo cuando está inactivo","background_shape_active":"Forma de fondo cuando está activo","background_color_inactive":"Color de fondo cuando está inactivo","background_color_active":"Color de fondo cuando está activo","icon_size_inactive":"Tamaño del icono cuando está inactivo","icon_size_active":"Tamaño del icono cuando está activo","inactive_icon_color":"Color del icono inactivo","active_icon_color":"Color del icono activo","inactive_icon_background":"Fondo del icono inactivo","active_icon_background":"Fondo del icono activo","inactive_icon_background_color":"Color de fondo del icono inactivo","active_icon_background_color":"Color de fondo del icono activo","name_section":{"title":"Configuración de nombre"},"inactive_name":"Nombre inactivo","inactive_name_desc":"Nombre personalizado cuando está inactivo","inactive_name_config":"Configuración de nombre inactivo","inactive_name_config_desc":"Configura los ajustes del nombre inactivo","active_name":"Nombre activo","active_name_desc":"Nombre personalizado cuando está activo","custom_inactive_name":"Nombre inactivo personalizado","custom_inactive_name_desc":"Anular el nombre de la entidad cuando está inactivo (dejar vacío para usar el nombre de la entidad)","custom_active_name":"Nombre activo personalizado","custom_active_name_desc":"Anular el nombre de la entidad cuando está activo (dejar vacío para usar el nombre de la entidad)","name_color_inactive":"Color del nombre cuando está inactivo","name_color_active":"Color del nombre cuando está activo","name_size_inactive":"Tamaño del texto del nombre cuando está inactivo","name_size_active":"Tamaño del texto del nombre cuando está activo","inactive_name_color":"Color del nombre inactivo","active_name_color":"Color del nombre activo","state_section":{"title":"Configuración de estado"},"inactive_state_color":"Color del estado inactivo","active_state_color":"Color del estado activo","inactive_state_text":"Texto de estado inactivo","active_state_text":"Texto de estado activo","inactive_state_config":"Configuración de estado inactivo","inactive_state_config_desc":"Configura los ajustes del estado inactivo","custom_inactive_state":"Estado inactivo personalizado","custom_inactive_state_desc":"Texto personalizado cuando está inactivo (dejar vacío para usar el estado real)","custom_active_state":"Estado activo personalizado","custom_active_state_desc":"Texto personalizado cuando está activo (dejar vacío para usar el estado real)","state_color_inactive":"Color del estado cuando está inactivo","state_color_active":"Color del estado cuando está activo","state_size_inactive":"Tamaño del texto del estado cuando está inactivo","state_size_active":"Tamaño del texto del estado cuando está activo","background_section":{"title":"Fondo inactivo","desc":"Configura los ajustes del fondo inactivo"},"template_section":{"title":"Modo de plantilla avanzado","desc":"Usa plantillas Jinja2 para control avanzado de iconos. Las plantillas pueden controlar la visibilidad (verdadero/falso para mostrar/ocultar iconos) y personalizar el texto de estado. Devuelve texto personalizado para Estado Activo, devuelve el estado real de la entidad para Estado Inactivo."},"template_mode":"Modo de plantilla avanzado","template":"Plantilla","animation_section":{"title":"Animación de icono","desc":"Configura animaciones para estados activos e inactivos"},"active_animation":"Animación activa","active_animation_desc":"Animación cuando el icono está activo","inactive_animation":"Animación inactiva","inactive_animation_desc":"Animación cuando el icono está inactivo","animation_none":"Ninguna","animation_pulse":"Pulso","animation_spin":"Girar","animation_bounce":"Rebotar","animation_flash":"Destello","animation_shake":"Temblar","animation_vibrate":"Vibrar","animation_rotate_left":"Rotar izquierda","animation_rotate_right":"Rotar derecha","animation_fade":"Desvanecer","animation_scale":"Escalar","animation_tada":"Tada"},"markdown":{"content":{"title":"Contenido de Markdown","label":"Contenido","desc":"Introduce tu contenido markdown con soporte completo de formato"},"features":{"title":"Características de Markdown"},"enable_html":"Habilitar HTML","enable_html_desc":"Permitir etiquetas HTML en el contenido markdown","enable_tables":"Habilitar tablas","enable_tables_desc":"Soporte para sintaxis de tablas markdown","code_highlighting":"Resaltado de código","code_highlighting_desc":"Resaltado de sintaxis para bloques de código"},"text":{"content_section":{"title":"Configuración de contenido","desc":"Configura el contenido de texto y los ajustes básicos de este módulo."},"text_content":"Contenido de texto","text_content_desc":"Introduce el texto que se mostrará en este módulo.","icon_section":{"title":"Configuración del icono","desc":"Elige un icono para mostrar junto al texto."},"icon":"Icono","icon_desc":"Elige un icono para mostrar junto al texto. Déjalo vacío para no mostrar icono.","icon_position":"Posición del icono","icon_position_desc":"Elige dónde posicionar el icono respecto al texto.","before_text":"Antes del texto","after_text":"Después del texto","template_mode":"Modo plantilla","template_mode_desc":"Usa la sintaxis de plantillas de Home Assistant para renderizar el texto","value_template":"Plantilla de valor","value_template_desc":"Plantilla para renderizar el texto usando sintaxis Jinja2","examples_title":"Ejemplos comunes:","example_basic":"Valor básico","example_percent":"Con porcentaje"},"bar":{"bar_settings":{"title":"Configuración de barra","desc":"Configura cómo se calcula y muestra el porcentaje de la barra."},"perc_type":{"entity":"Entidad (0-100)","attribute":"Atributo de entidad","difference":"Diferencia","template":"Plantilla"},"attribute_section":{"title":"Configuración de atributo de entidad","desc":"Configura los ajustes del atributo de entidad"},"attribute_entity":"Entidad del atributo","attribute_entity_desc":"Selecciona la entidad que contiene el atributo con el valor del porcentaje","attribute_name":"Nombre del atributo","attribute_name_desc":"Ingresa el nombre del atributo que contiene el valor del porcentaje (ej., \\"battery_level\\")","diff_section":{"title":"Configuración de cálculo de diferencia","desc":"Configura los ajustes de cálculo de diferencia"},"current_entity":"Entidad de valor actual","current_entity_desc":"Entidad que representa la cantidad actual/usada (ej., combustible usado, batería consumida)","total_entity":"Entidad de valor total","total_entity_desc":"Entidad que representa la cantidad total/máxima (ej., capacidad de combustible, capacidad de batería)","template_section":{"title":"Configuración de plantilla","desc":"Configura los ajustes de plantilla"},"percentage_template":"Plantilla de porcentaje","percentage_template_desc":"Ingresa una plantilla Jinja2 que devuelva un número entre 0-100 para el porcentaje. Ejemplo: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Configuración de atributo de entidad","desc":"Configura los ajustes del atributo de entidad","attribute_entity":"Entidad del atributo","attribute_entity_desc":"Selecciona la entidad que contiene el atributo con el valor del porcentaje","attribute_name":"Nombre del atributo","attribute_name_desc":"Ingresa el nombre del atributo que contiene el valor del porcentaje (ej., \\"battery_level\\")"},"diff_config":{"title":"Configuración de cálculo de diferencia","desc":"Configura los ajustes del cálculo de diferencia","current_entity":"Entidad de valor actual","current_entity_desc":"Entidad que representa la cantidad actual/usada (ej., combustible usado, batería consumida)","total_entity":"Entidad de valor total","total_entity_desc":"Entidad que representa la cantidad total/máxima (ej., capacidad de combustible, capacidad de batería)"},"template_config":{"title":"Configuración de plantilla","desc":"Configura los ajustes de plantilla","percentage_template":"Plantilla de porcentaje","percentage_template_desc":"Ingresa una plantilla Jinja2 que devuelva un número entre 0-100 para el porcentaje. Ejemplo: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Entidad de porcentaje de barra","desc_present":"La entidad que proporciona el valor del porcentaje para la barra.","desc_empty":"Selecciona una entidad que proporcione un valor de porcentaje (0-100). Los sensores de batería son ideales para barras.","no_entity_warning":"No se seleccionó entidad - Por favor elige un sensor con valores entre 0-100"},"limit_entity":{"title":"Entidad de valor límite (opcional)","desc":"Opcional: Añade una línea indicadora vertical en la barra (ej. límite de carga para batería EV)."},"appearance":{"title":"Apariencia de la barra","direction":"Dirección de llenado","direction_desc":"Elija la dirección en la que se llena la barra a medida que aumenta el valor.","left_to_right":"Izquierda a derecha","right_to_left":"Derecha a izquierda","height":"Altura de la barra","height_desc":"Ajusta el grosor de la barra de progreso en píxeles.","border_radius":"Radio del borde","border_radius_desc":"Controla las esquinas redondeadas de la barra.","style":"Estilo de barra","style_desc":"Elige el estilo visual de la barra de progreso.","style_flat":"Plano (Predeterminado)","style_glossy":"Brillante","style_embossed":"Relieve","style_inset":"Hundido","style_gradient":"Superposición de gradiente","style_neon":"Resplandor neón","style_outline":"Contorno","style_glass":"Cristal","style_metallic":"Metálico","style_neumorphic":"Neumórfico","style_dashed":"Punteado","style_dots":"Puntos","width":"Ancho de barra","width_desc":"Establece el ancho de la barra como porcentaje del contenedor.","alignment":"Alineación de barra","alignment_desc":"Elige cómo alinear la barra cuando es menos del 100% de ancho."},"labels":{"alignment":"Alineación de etiquetas","alignment_desc":"Controla cómo se posicionan las etiquetas izquierda y derecha."},"percentage":{"title":"Visualización de texto de porcentaje","desc":"Controla la visibilidad y apariencia de los valores de porcentaje mostrados directamente en la barra. Estos números proporcionan un indicador visual claro del nivel actual.","text_size":"Tamaño del texto","text_size_desc":"Ajusta el tamaño del texto de porcentaje mostrado en la barra.","text_alignment":"Alineación del texto de porcentaje"},"left":{"title":"Lado izquierdo","desc":"Configura el título y valor de entidad mostrado en el lado izquierdo de la barra. Esto es útil para mostrar etiquetas como \'Rango\' o \'Batería\' junto con sus valores.","title_size":"Tamaño del título","value_size":"Tamaño del valor","template_mode":"Modo plantilla","template_desc":"Usa una plantilla para formatear el valor mostrado. Las plantillas usan la sintaxis Jinja2 de Home Assistant.","value_template":"Plantilla de valor","value_template_desc":"Plantilla para formatear el valor del lado izquierdo usando sintaxis Jinja2","enable_toggle":"Activa el interruptor arriba para configurar los ajustes del lado izquierdo"},"right":{"title":"Lado derecho","desc":"Configura el título y valor de entidad mostrado en el lado derecho de la barra. Esto es ideal para información complementaria como \'Tiempo hasta lleno\' o mediciones secundarias.","title_size":"Tamaño del título","value_size":"Tamaño del valor","template_mode":"Modo plantilla","template_desc":"Usa una plantilla para formatear el valor mostrado. Las plantillas usan la sintaxis Jinja2 de Home Assistant.","value_template":"Plantilla de valor","value_template_desc":"Plantilla para formatear el valor del lado derecho usando sintaxis Jinja2","enable_toggle":"Activa el interruptor arriba para configurar los ajustes del lado derecho"},"colors":{"title":"Colores","bar_color":"Color de la barra","background_color":"Color de fondo","border_color":"Color del borde","limit_indicator":"Indicador de límite","percentage_text":"Texto de porcentaje","left_side":"Colores del lado izquierdo","right_side":"Colores del lado derecho","title_color":"Color del título","value_color":"Color del valor"},"gradient":{"title":"Modo gradiente","desc":"Aplica un gradiente de color al relleno de la barra. Cuando está habilitado, elige cómo se muestra el gradiente y personaliza las paradas de color abajo.","full":"Completo","cropped":"Recortado","value_based":"Basado en valor"},"animation":{"title":"Animación de barra","desc":"Anima el relleno de la barra usando presets como rayas de carga, pulso, brillo y más. Puedes activar animaciones basadas en el estado o atributo de una entidad, y opcionalmente anular la animación cuando se cumple otra condición.","trigger":{"title":"Disparador de animación","desc":"Selecciona una entidad para observar y define el valor + animación a aplicar cuando coincida.","entity_desc":"Entidad para evaluar el disparador de animación","type":"Tipo de disparador","type_desc":"Elige si comparar el estado de la entidad o un atributo","attribute_name_desc":"Nombre del atributo a comparar (ej., charging_status)","match_value":"Valor de coincidencia","match_value_desc":"Texto para comparar contra el estado o atributo (la comparación es basada en texto)."},"type":"Tipo de animación","type_desc":"Selecciona cómo debe animarse la barra cuando se activa.","types":{"charging":"Carga (Líneas diagonales)","pulse":"Pulso","blinking":"Parpadeo","bouncing":"Rebote","glow":"Resplandor","rainbow":"Arcoíris","bubbles":"Burbujas","fill":"Relleno","ripple":"Ondulación","traffic":"Tráfico (Poste de barbero)","heartbeat":"Latido","flicker":"Parpadeo","shimmer":"Brillo","vibrate":"Vibración"},"override":{"title":"Anulación de animación de acción","desc":"Selecciona una entidad de acción y estado para definir cuándo esta animación debe anular la animación regular","entity_desc":"Entidad para evaluar el disparador de anulación","type_desc":"Animación a usar cuando la condición de anulación coincide.","attribute_name_desc":"Nombre del atributo a comparar","match_value":"Valor de coincidencia de anulación","match_value_desc":"Comparación de texto contra estado o atributo","type":"Tipo de animación de anulación"}}},"image":{"settings":"Configuración de imagen","source_type":"Tipo de fuente de imagen","source_type_desc":"Elige cómo quieres especificar la fuente de la imagen.","source":{"default":"Imagen predeterminada","url":"URL de imagen","upload":"Subir imagen","entity":"Imagen de entidad","attribute":"Atributo de entidad"},"url_section":{"title":"Configuración de URL de imagen"},"image_url":"URL de imagen","image_url_desc":"Ingresa la URL directa de la imagen que quieres mostrar.","upload_section":{"title":"Configuración de subida de imagen"},"upload":"Subir imagen","upload_desc":"Haz clic para subir un archivo de imagen desde tu dispositivo.","entity_section":{"title":"Configuración de imagen de entidad"},"entity":"Entidad","entity_desc":"Selecciona una entidad que tenga una imagen (ej., entidades de persona, cámara).","attribute_section":{"title":"Configuración de atributo de entidad"},"entity_attr_desc":"Selecciona la entidad que contiene la URL de la imagen en uno de sus atributos.","attribute_name":"Nombre del atributo","attribute_name_desc":"Ingresa la ruta del atributo que contiene la URL de la imagen (notación de punto soportada, ej., vehicle_data.vehicleDetails.generalDashboard).","width":"Ancho (%)","width_desc":"Establece el ancho como porcentaje del contenedor.","height":"Alto (px)","height_desc":"Establece la altura en píxeles.","crop_fit":"Recorte y ajuste","crop_fit_desc":"Controla cómo se ajusta la imagen dentro de su contenedor.","fit":{"cover":"Cubrir (recortar para llenar)","contain":"Contener (ajustar imagen completa)","fill":"Llenar (estirar para ajustar)","scale_down":"Reducir escala","none":"Ninguno (tamaño original)"},"border_radius":"Radio del borde","border_radius_desc":"Controla las esquinas redondeadas de la imagen.","tap_actions":"Acciones de toque","filters":"Filtros","filter":{"blur":"Desenfoque","blur_desc":"Aplica un efecto de desenfoque a tu imagen.","brightness":"Brillo (%)","brightness_desc":"Ajusta el brillo de tu imagen.","contrast":"Contraste (%)","contrast_desc":"Modifica el contraste de tu imagen.","saturation":"Saturación (%)","saturation_desc":"Ajusta la saturación de tu imagen."},"hover":{"title":"Efectos al pasar el cursor","effect_type":"Tipo de efecto","effect_type_desc":"Elige el tipo de efecto al pasar el cursor.","scale":"Escala (zoom in/out)","rotate":"Rotar","fade":"Desvanecer (cambio de opacidad)","blur":"Desenfocar","brightness":"Brillo","glow":"Resplandor (sombra de caja)","slide":"Deslizar (trasladar)","scale_amount":"Escala (%)","scale_amount_desc":"Ajusta la escala de la imagen al pasar el cursor.","rotate_amount":"Rotación (°)","rotate_amount_desc":"Rota la imagen al pasar el cursor.","opacity":"Opacidad (%)","opacity_desc":"Cambia la opacidad de la imagen al pasar el cursor.","blur_amount":"Desenfoque (px)","blur_amount_desc":"Aplica un efecto de desenfoque a la imagen al pasar el cursor.","brightness_amount":"Brillo (%)","brightness_amount_desc":"Ajusta el brillo de la imagen al pasar el cursor.","glow_intensity":"Intensidad del resplandor","glow_intensity_desc":"Elige la intensidad del efecto de resplandor al pasar el cursor.","glow_light":"Resplandor ligero","glow_medium":"Resplandor medio","glow_heavy":"Resplandor intenso","glow_custom":"Sombra personalizada","translate_x":"Horizontal (px)","translate_x_desc":"Traslada la imagen horizontalmente al pasar el cursor.","translate_y":"Vertical (px)","translate_y_desc":"Traslada la imagen verticalmente al pasar el cursor."},"alt":"Imagen","no_source":"No hay fuente de imagen configurada"},"graphs":{"chart_type":{"title":"Tipo de gráfico","type":"Tipo","desc":"Selecciona el estilo de visualización para tus datos."},"types":{"line":"Gráfico de líneas","bar":"Gráfico de barras","pie":"Gráfico circular","donut":"Gráfico de dona"},"data_sources":{"title":"Fuentes de datos","no_entities":"No hay entidades añadidas","add_first_entity":"Añade tu primera entidad para crear un gráfico","add_entity":"Añadir entidad"},"entity":"Entidad","line":{"show_points":"Mostrar puntos","fill_area":"Rellenar área","line_width":"Ancho de línea","line_style":"Estilo de línea"},"line_styles":{"solid":"Sólido","dashed":"Discontinuo","dotted":"Punteado"},"display":{"title":"Opciones de visualización","show_title":"Mostrar título del gráfico","show_value":"Mostrar valor del gráfico","chart_title":"Título del gráfico","chart_title_placeholder":"Introduce el título del gráfico","time_period":"Período de tiempo","time_period_desc":"Cuántos datos históricos mostrar.","normalize_values":"Normalizar valores a la misma escala","normalize_desc":"Útil al comparar entidades con diferentes unidades (ej., % vs millas)","chart_height":"Altura del gráfico","chart_width":"Ancho del gráfico (%)","chart_width_desc":"Porcentaje del ancho disponible del módulo. La alineación controla la ubicación.","chart_alignment":"Alineación del gráfico","chart_alignment_desc":"Alineación del gráfico dentro de su contenedor.","info_position":"Posición de información","info_position_desc":"Posición de la superposición que muestra el nombre/valor.","legend_position":"Posición de leyenda","legend_position_desc":"Dónde colocar la leyenda cuando esté habilitada.","background_color":"Color de fondo","chart_options":"Opciones del gráfico","show_legend":"Mostrar leyenda","show_grid":"Mostrar cuadrícula","smooth_lines":"Líneas suaves","show_tooltips":"Mostrar información emergente","add_slice_gap":"Añadir espacio entre segmentos"},"period":{"1h":"Última hora","3h":"Últimas 3 horas","6h":"Últimas 6 horas","12h":"Últimas 12 horas","24h":"Últimas 24 horas","2d":"Últimos 2 días","7d":"Última semana","30d":"Último mes","90d":"Últimos 3 meses","365d":"Último año"},"agg":{"mean":"Promedio","sum":"Suma","min":"Mínimo","max":"Máximo","median":"Mediana","first":"Primer valor","last":"Último valor","count":"Recuento","delta":"Cambio"},"position":{"top":"Arriba","bottom":"Abajo","left":"Izquierda","right":"Derecha","hidden":"Oculto","top_left":"Arriba izquierda","top_right":"Arriba derecha","bottom_left":"Abajo izquierda","bottom_right":"Abajo derecha","middle":"Centro","center":"Centro"},"pie":{"show_title":"Mostrar título en segmento","show_value":"Mostrar valor en segmento"},"reset_345":"Restablecer a predeterminado (345px)","reset_100":"Restablecer a predeterminado (100%)","entity_desc":"Selecciona una entidad para graficar.","display_name_optional":"Nombre a mostrar (opcional)","use_as_card_info":"Usar como información de tarjeta","attribute":"Atributo","attribute_desc":"Usa el estado de la entidad o selecciona un atributo específico a seguir.","attribute_state_default":"Estado (predeterminado)","show_points":"Mostrar puntos","fill_area":"Rellenar área","line_style":"Estilo de línea","line_solid":"Sólido","line_dashed":"Discontinuo","line_dotted":"Punteado","pie_show_title":"Mostrar título en segmento","pie_show_value":"Mostrar valor en segmento","expand_options":"Expandir opciones","no_entities":"No hay entidades añadidas","add_first_entity":"Añade tu primera entidad para crear un gráfico","add_entity":"Añadir entidad","display_options":{"title":"Opciones de visualización"},"show_title":"Mostrar título del gráfico","show_value":"Mostrar valor del gráfico","chart_title":"Título del gráfico","chart_title_placeholder":"Introduce el título del gráfico","time_period":"Período de tiempo","time_period_desc":"Cuántos datos históricos mostrar.","normalize_values":"Normalizar valores a la misma escala","normalize_desc":"Útil al comparar entidades con diferentes unidades (ej., % vs millas)","chart_height":"Altura del gráfico","chart_width":"Ancho del gráfico (%)"},"button":{"basic":{"title":"Configuración básica","desc":"Configura la apariencia del botón y el contenido del texto."},"text":{"title":"Texto del botón","desc":"Texto a mostrar en el botón (dejar en blanco para solo icono)."},"style":{"title":"Estilo del botón","desc":"Estilo visual del botón"},"alignment":{"title":"Alineación","desc":"Cómo se alinea el botón dentro de su contenedor"},"styles":{"flat":"Plano (Predeterminado)","glossy":"Brillante","embossed":"Relieve","inset":"Hundido","gradient_overlay":"Superposición de gradiente","neon_glow":"Resplandor neón","outline":"Contorno","glass":"Cristal","metallic":"Metálico"},"align":{"left":"Izquierda","center":"Centro","right":"Derecha","justify":"Justificar (Ancho completo)"},"icon":{"title":"Configuración de icono","desc":"Configura la visualización y posicionamiento del icono para el botón.","before":"Antes del texto","after":"Después del texto","enable_toggle_desc":"Activa el interruptor arriba para configurar los ajustes del icono"},"icon_field":"Icono","icon_desc":"Icono a mostrar (ej., mdi:home)","icon_position":"Posición del icono","icon_position_desc":"Posición del icono relativa al texto","show_icon":"Mostrar icono","show_icon_desc":"Mostrar un icono en el botón","colors":{"title":"Colores","background":"Color de fondo","text":"Color del texto"},"hover":{"effect_type":"Tipo de efecto","effect_type_desc":"Elige el efecto de hover para este botón.","none":"Ninguno","color":"Cambio de color","scale":"Escala","glow":"Resplandor","lift":"Elevar (trasladar Y)","hover_color":"Color al pasar el cursor","glow_color":"Color del resplandor","title":"Efectos de hover","enable_toggle_desc":"Activa el interruptor arriba para configurar efectos de hover"},"actions":{"type":"Tipo de acción","type_desc":"Elige qué sucede cuando se hace clic en el botón","entity":"Entidad","entity_desc":"Selecciona la entidad con la que interactuar","navigation_path":"Ruta de navegación","navigation_path_desc":"Ruta a la que navegar (ej., /dashboard/energy)","service":"Servicio","service_desc":"Servicio a llamar (ej., light.turn_on)","service_data":"Datos del servicio (JSON)","service_data_desc":"Datos opcionales para pasar al servicio (formato JSON)"},"tap":{"title":"Acción de toque","desc":"Acción a realizar cuando se toca el botón"},"hold":{"title":"Acción de mantener presionado","desc":"Acción a realizar cuando se mantiene presionado el botón"},"double":{"title":"Acción de doble toque","desc":"Acción a realizar cuando se hace doble toque en el botón"}},"info":{"entity_section":{"title":"CONFIGURACIÓN DE ENTIDAD"},"entity":"Entidad","entity_desc":"Selecciona la entidad a mostrar","icon_section":{"title":"Configuración de icono"},"show_icon":"Mostrar icono","show_icon_desc":"Mostrar un icono junto al valor de la entidad","icon":"Icono","icon_desc":"Elige un icono a mostrar","icon_color":"Color del icono","name_section":{"title":"Configuración de nombre"},"show_name":"Mostrar nombre","show_name_desc":"Mostrar el nombre de la entidad arriba del valor","custom_name":"Nombre personalizado","custom_name_desc":"Anular el nombre de la entidad con un nombre personalizado","name_color":"Color del nombre","state_section":{"title":"Configuración de estado"},"show_state":"Mostrar estado","show_state_desc":"Mostrar el estado/valor de la entidad","show_units":"Mostrar unidades","show_units_desc":"Mostrar la unidad de medida (si está disponible)","state_color":"Color del estado","template":{"title":"Modo de plantilla","desc":"Usa una plantilla para formatear el valor de la entidad. Las plantillas permiten usar la sintaxis de plantillas de Home Assistant para formato complejo.","mode":"Modo de plantilla","mode_desc":"Usa la sintaxis de plantillas de Home Assistant para formatear el valor","value":"Plantilla de valor","value_desc":"Plantilla para formatear el valor de la entidad usando sintaxis Jinja2"},"size_section":{"title":"Configuración de tamaños"},"icon_size":"Tamaño del icono","icon_size_desc":"Tamaño del icono en píxeles","name_size":"Tamaño del nombre","name_size_desc":"Tamaño del texto del nombre de la entidad en píxeles","value_size":"Tamaño del valor","value_size_desc":"Tamaño del texto del valor de la entidad en píxeles","icon_gap":"Espacio del icono","icon_gap_desc":"Espacio entre el icono y el contenido en píxeles","layout_section":{"title":"Diseño y posicionamiento"},"icon_position":"Posición del icono","overall_alignment":"Alineación general","icon_alignment":"Alineación del icono","content_alignment":"Alineación del contenido","examples_title":"Ejemplos comunes:","example_basic":"Valor básico","example_units":"Con unidades","example_round":"Redondear a 1 decimal"},"camera":{"config":{"title":"Configuración de cámara","desc":"Configura la entidad de cámara y ajustes de visualización."},"entity":"Entidad de cámara","entity_desc":"Selecciona la entidad de cámara a mostrar. Debe ser una entidad de cámara o mjpeg de Home Assistant.","name":"Nombre de cámara","name_desc":"Nombre personalizado para la cámara. Dejar vacío para usar el nombre de la entidad.","show_name":"Mostrar nombre de cámara","show_name_desc":"Mostrar el nombre de la cámara en la transmisión","show_name_toggle":{"enable_toggle_desc":"Activa el interruptor arriba para configurar la visualización del nombre de cámara"},"name_position":{"group_title":"Posición del nombre de cámara","title":"Posición del nombre","desc":"Elige dónde aparece el nombre de la cámara como superposición en la imagen de la cámara.","options":{"top_left":"Arriba izquierda","top_right":"Arriba derecha","center":"Centro","bottom_left":"Abajo izquierda","bottom_right":"Abajo derecha"}},"display":{"title":"Configuración de visualización"},"live_view":{"title":"Vista en vivo","desc":"Habilitar para mostrar transmisión de cámara en vivo (requiere integración de stream). Cuando está deshabilitado, muestra instantáneas de imagen fija."},"auto_refresh":{"section_title":"Configuración de actualización automática","title":"Actualización automática","desc":"Actualizar automáticamente la imagen de la cámara a intervalos regulares"},"refresh_interval":{"title":"Intervalo de actualización (segundos)","desc":"Con qué frecuencia actualizar automáticamente la imagen de la cámara."},"dimensions":{"title":"Dimensiones"},"width":"Ancho (px)","width_desc":"Establece el ancho de la visualización de la cámara. Rango: 100-1000px","height":"Alto (px)","height_desc":"Establece la altura de la visualización de la cámara. Rango: 100-1000px","link_aspect":"Vincular relación de aspecto","unlink_aspect":"Desvincular relación de aspecto","aspect_linked":{"title":"Relación de aspecto vinculada","desc":"Las dimensiones mantienen una relación {ratio}:1. Ajustar una dimensión actualiza automáticamente la otra para mantener las proporciones."},"aspect_independent":{"title":"Dimensiones independientes","desc":"El ancho y alto se pueden ajustar independientemente. Haz clic en el botón de enlace arriba para mantener la relación de aspecto."},"crop":{"title":"Recorte y posición","desc":"Ajusta el recorte y posición de la vista de cámara. Útil para enfocar en áreas específicas o eliminar bordes no deseados.","left_title":"Recorte izquierdo (%)","left_desc":"Recortar desde el borde izquierdo. Valores más altos muestran menos del lado izquierdo.","right_title":"Recorte derecho (%)","right_desc":"Recortar desde el borde derecho. Valores más altos muestran menos del lado derecho.","top_title":"Recorte superior (%)","top_desc":"Recortar desde el borde superior. Valores más altos muestran menos del área superior.","bottom_title":"Recorte inferior (%)","bottom_desc":"Recortar desde el borde inferior. Valores más altos muestran menos del área inferior.","active_applied":"Recortes activos aplicados","reset_all":"Restablecer todos los recortes"},"template":{"title":"Modo de plantilla","desc":"Usa una plantilla para establecer dinámicamente la entidad de cámara. Las plantillas permiten usar la sintaxis de plantillas de Home Assistant para selección condicional de cámara.","mode_label":"Modo de plantilla","mode_desc":"Usa la sintaxis de plantillas de Home Assistant para seleccionar dinámicamente la entidad de cámara","camera_template_label":"Plantilla de cámara","camera_template_desc":"Plantilla para establecer dinámicamente la entidad de cámara usando sintaxis Jinja2","examples_title":"Ejemplos comunes:","example1_desc":"Mostrar cámara cuando el clima esté soleado","example2_desc":"Cambiar entre cámaras basado en booleano de entrada","example3_desc":"Usar selector de entrada para elegir entidad de cámara"}},"separator":{"config":{"title":"Configuración de separador"},"style":{"title":"Estilo de separador","desc":"Elige el estilo visual de la línea separadora."},"options":{"solid":"Línea sólida","double":"Línea doble","dotted":"Línea punteada","double_dotted":"Doble punteada","shadow":"Sombra","blank":"Espacio en blanco"},"appearance":{"title":"Apariencia"},"thickness":"Grosor (px)","thickness_desc":"Grosor de la línea separadora.","width":"Ancho (%)","width_desc":"Ancho del separador como porcentaje del contenedor.","color":{"title":"Color","desc":"Color de la línea separadora."},"show_title":"Mostrar título","show_title_desc":"Añadir texto en el medio de la línea separadora (ej., ------ Texto ------)","show_title_toggle":{"enable_toggle_desc":"Activa el interruptor arriba para configurar los ajustes del título"},"text_content":{"title":"Contenido del texto","desc":"Texto a mostrar en el medio del separador."},"font_size":"Tamaño de fuente","font_size_desc":"Tamaño del texto en píxeles.","text_color":{"title":"Color del texto","desc":"Color del texto del separador."},"text_format":{"desc":"Aplica estilos de formato al texto del separador.","title":"Formato del texto","bold":"Negrita","italic":"Cursiva","underline":"Subrayado","uppercase":"Mayúsculas","strikethrough":"Tachado"},"spacer":{"title":"Altura del espaciador"},"height":"Altura (px)","height_desc":"Controla el espacio visual para el espacio en blanco."},"design":{"copy":"Copiar","paste":"Pegar","reset_all":"Restablecer todo","copy_tooltip":"Copiar configuración de diseño actual (funciona en todas las Ultra Cards)","paste_tooltip_has":"Pegar configuración de diseño copiada (desde portapapeles)","paste_tooltip_none":"No hay configuración de diseño en el portapapeles","reset_all_tooltip":"Restablecer toda la configuración de diseño por defecto","text_section":"Texto","text_color":"Color del texto","alignment":"Alineación","inherit_alignment":"Heredar (sin alineación)","font_size":"Tamaño de fuente","font_size_placeholder":"16px (por defecto), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Restablecer tamaño de fuente por defecto","line_height":"Altura de línea","line_height_placeholder":"0 (por defecto), 28px, 1.7","reset_line_height":"Restablecer altura de línea por defecto","letter_spacing":"Espaciado de letras","letter_spacing_placeholder":"auto (por defecto), 1px, -0.04em","reset_letter_spacing":"Restablecer espaciado de letras por defecto","font":"Fuente","font_weight":"Grosor de fuente","text_transform":"Transformación de texto","font_style":"Estilo de fuente","default_option":"– Por defecto –","weight_thin":"100 - Fino","weight_light":"300 - Ligero","weight_normal":"400 - Normal","weight_medium":"500 - Medio","weight_semi_bold":"600 - Semi negrita","weight_bold":"700 - Negrita","weight_black":"900 - Negro","transform_none":"Ninguno","transform_uppercase":"MAYÚSCULAS","transform_lowercase":"minúsculas","transform_capitalize":"Capitalizar","style_normal":"Normal","style_italic":"Cursiva","style_oblique":"Oblicua","background_section":"Fondo","background_color":"Color de fondo","background_image_type":"Tipo de imagen de fondo","bg_none":"Ninguno","bg_upload":"Subir imagen","bg_entity":"Imagen de entidad","bg_url":"URL de imagen","sizes_section":"Tamaños","spacing_section":"Espaciado","border_section":"Borde","text_shadow_section":"Sombra de texto","box_shadow_section":"Sombra de caja","position_section":"Posición","overflow_section":"Desbordamiento","animations_section":"Animaciones","width":"Ancho","height":"Alto","max_width":"Ancho máximo","max_height":"Alto máximo","min_width":"Ancho mínimo","min_height":"Alto mínimo","border_radius":"Radio del borde","border_style":"Estilo del borde","border_width":"Grosor del borde","border_color":"Color del borde","margin":"Margen","padding":"Relleno","top":"Arriba","right":"Derecha","bottom":"Abajo","left":"Izquierda","unlock_sides":"Desbloquear para editar lados independientemente","lock_sides":"Bloquear para editar todos los lados juntos","horizontal_shift":"Desplazamiento horizontal","vertical_shift":"Desplazamiento vertical","blur":"Desenfoque","text_shadow_color":"Color de sombra del texto","box_shadow_color":"Color de sombra de caja","overflow":"Desbordamiento","clip_path":"Ruta de recorte","upload_bg_image":"Subir imagen de fondo","bg_image_entity":"Entidad de imagen de fondo","bg_image_url":"URL de imagen de fondo","choose_file":"Elegir archivo","no_file_chosen":"Ningún archivo elegido","backdrop_filter":"Filtro de fondo","spread":"Extensión","visible_default":"Visible (Predeterminado)","examples":"Ejemplos","state_based_animation":"Animación basada en estado","animation_type":"Tipo de animación","animation_duration":"Duración de animación","animation_duration_desc":"Duración de la animación (ej., 2s, 500ms, 1.5s)","intro_outro_animations":"Animaciones de entrada y salida","intro_animation":"Animación de entrada","outro_animation":"Animación de salida","duration":"Duración","delay":"Retraso","timing":"Temporización","none":"Ninguno","ease":"Suave","border_style_none":"Ninguno","border_style_solid":"Sólido","border_style_dashed":"Discontinuo","border_style_dotted":"Punteado","border_style_double":"Doble","position_default":"– Predeterminado –","position_static":"Estático","position_relative":"Relativo","position_absolute":"Absoluto","position_fixed":"Fijo","position_sticky":"Pegajoso"},"modules":{"text":"Módulo de texto","image":"Módulo de imagen","icon":"Módulo de icono","bar":"Módulo de barra","info":"Módulo de información","button":"Módulo de botón","separator":"Módulo separador","markdown":"Módulo de markdown","camera":"Módulo de cámara","graphs":"Módulo de gráficos","no_text_configured":"Sin texto configurado","no_image_configured":"Sin imagen configurada","uploaded_image":"Imagen subida","icons_configured":"{count} iconos configurados","no_icons_configured":"Sin iconos configurados","default_entity_suggestion":"Entidad: sensor.battery_level","sample_text":"Texto de ejemplo"}}}');var m=i.t(g,2);const _=JSON.parse('{"editor":{"tabs":{"layout":"Constructeur de mise en page","settings":"Paramètres","about":"À propos"},"settings":{"title":"Paramètres de carte","description":"Configurez l\'apparence globale et le comportement de la carte."},"appearance":{"title":"Apparence","description":"Contrôlez l\'apparence visuelle de votre carte"},"spacing":{"title":"Espacement","description":"Contrôlez l\'espacement et le positionnement de votre carte"},"fields":{"card_background_color":"Couleur d\'arrière-plan de la carte","card_background_color_desc":"La couleur d\'arrière-plan de toute la carte","border_radius":"Rayon de bordure","border_radius_desc":"Coins arrondis de la carte (en pixels)","card_padding":"Rembourrage de la carte","card_padding_desc":"Espacement interne à l\'intérieur de la carte","card_margin":"Marge de la carte","card_margin_desc":"Espacement externe autour de la carte","unit_px":"px","reset_default":"Réinitialiser par défaut","reset_default_value":"Réinitialiser par défaut ({value})"},"tooltips":{"enter_fullscreen":"Plein écran","return_dashboard":"Retour au tableau de bord","dashboard":"Tableau de bord"},"common":{"left":"Gauche","center":"Centre","right":"Droite","top":"Haut","bottom":"Bas","none":"Aucun","state":"État","attribute":"Attribut","attribute_name":"Nom de l\'attribut","entity":"Entité","space_between":"Espace entre","space_around":"Espace autour","justify":"Justifier","stretch":"Étirer","baseline":"Ligne de base"},"horizontal":{"layout":{"title":"Configuration de la mise en page","desc":"Configurez la disposition horizontale des éléments dans le conteneur."},"alignment":{"horizontal":"Alignement horizontal","horizontal_desc":"Choisissez comment les éléments sont alignés horizontalement dans le conteneur.","vertical":"Alignement vertical","vertical_desc":"Choisissez comment les éléments sont alignés verticalement dans le conteneur."},"wrapping":{"title":"Autoriser le retour à la ligne","desc":"Autorise les éléments à passer à la ligne lorsqu\'ils dépassent la largeur du conteneur."},"gap":{"title":"Configuration des espacements","between_items":"Espace entre les éléments","desc":"Définissez l\'espacement entre les éléments horizontaux (en unités rem). Utilisez des valeurs négatives pour superposer les éléments."},"empty":{"no_modules":"Aucun module ajouté","add_modules":"Ajoutez des modules dans le constructeur de mise en page pour les voir ici"}},"vertical":{"layout":{"title":"Configuration de la mise en page","desc":"Configurez la disposition verticale des éléments dans le conteneur."},"alignment":{"vertical":"Alignement vertical","vertical_desc":"Choisissez comment les éléments sont alignés verticalement dans le conteneur."},"gap":{"title":"Configuration des espacements","between_items":"Espace entre les éléments","desc":"Définissez l\'espacement entre les éléments verticaux (en unités rem). Utilisez des valeurs négatives pour superposer les éléments."},"empty":{"no_modules":"Aucun module ajouté","add_modules":"Ajoutez des modules dans le constructeur de mise en page pour les voir ici"}},"layout":{"live_preview":"Aperçu en direct","toggle_preview":"Afficher/masquer l\'aperçu","drag_to_move_module":"Glisser pour déplacer le module","edit_module":"Modifier le module","duplicate_module":"Dupliquer le module","delete_module":"Supprimer le module","drag_to_move_layout":"Glisser pour déplacer la mise en page","horizontal_layout":"Disposition horizontale","vertical_layout":"Disposition verticale","add_module_to_layout":"Ajouter un module à la mise en page","layout_settings":"Paramètres de mise en page","duplicate_layout":"Dupliquer la mise en page","delete_layout":"Supprimer la mise en page","click_to_add_module":"Cliquer pour ajouter un module","drop_modules_here":"Déposer les modules ici","drag_to_reorder":"Glisser pour réorganiser","edit_child_module":"Modifier le module enfant","duplicate_child_module":"Dupliquer le module enfant","delete_child_module":"Supprimer le module enfant","module_settings_title":"Paramètres du module","child_module_settings_title":"Paramètres du module enfant","general_tab":"Général","actions_tab":"Actions","other_tab":"Autre","logic_tab":"Logique","design_tab":"Design","drag_to_resize":"Glisser pour redimensionner","hidden_by_logic":"Masqué par la logique","add_row":"Ajouter une ligne","add_row_tooltip":"Ajouter une nouvelle ligne à votre mise en page","row_settings":"Paramètres de ligne","column_settings":"Paramètres de colonne","row_background_color":"Couleur d\'arrière-plan de la ligne","column_gap":"Espacement des colonnes (px)","vertical_alignment":"Alignement vertical","horizontal_alignment":"Alignement horizontal","column_preview":"Aperçu de la colonne","modules_count":"{count} modules","alignment_top":"Haut","alignment_center":"Centre","alignment_bottom":"Bas","alignment_stretch":"Étirer","alignment_left":"Gauche","alignment_right":"Droite"},"layout_logic":{"display_title":"Afficher cet élément","display_desc":"Contrôlez quand cet élément est affiché. Choisissez \\"Toujours\\" pour le garder visible. Sélectionnez \\"Si TOUTES les conditions ci-dessous sont remplies\\" ou \\"Si N\'IMPORTE QUELLE condition ci-dessous est remplie\\" pour l\'afficher uniquement lorsque les conditions ajoutées sont vraies.","always":"Toujours","every":"Si TOUTES les conditions ci-dessous sont remplies","any":"Si N\'IMPORTE QUELLE condition ci-dessous est remplie","conditions":"Conditions","add_condition":"Ajouter une condition","no_conditions":"Aucune condition ajoutée pour le moment. Cliquez sur \\"Ajouter une condition\\" pour commencer.","condition_types":{"entity_state":"État de l\'entité","entity_attribute":"Attribut de l\'entité","time":"Plage horaire","template":"Modèle"},"condition_fields":{"entity":"Entité","operator":"Opérateur","value":"Valeur","attribute":"Attribut","time_from":"De","time_to":"À","template":"Modèle"},"condition_header":"Condition","custom_name":"Nom personnalisé","custom_name_desc":"Optionnel : Donnez un nom personnalisé à cette condition pour l\'identifier plus facilement","condition_type":"Type de condition"},"hover_effects":{"title":"Effets au survol","description":"Configurez les effets visuels qui apparaissent au survol de ce module, de cette ligne ou de cette colonne.","effect":"Effet au survol","effect_desc":"Sélectionnez l\'effet visuel à appliquer au survol","effects":{"none":"Aucun","highlight":"Surligner","outline":"Contour","grow":"Agrandir","shrink":"Réduire","pulse":"Pulsation","bounce":"Rebondir","float":"Flotter","glow":"Lueur","shadow":"Ombre","rotate":"Pivoter","skew":"Incliner","wobble":"Osciller","buzz":"Vibrer","fade":"Fondu"}},"about":{"developed_by":"Développé par","desc1":"Un puissant constructeur de cartes modulaires pour Home Assistant","desc2":"Créez des mises en page personnalisées avec une interface professionnelle de création de pages","desc3":"Système de mise en page modulaire avec logique conditionnelle et outils de conception professionnels","github_repo":"Consultez notre GitHub","join_discord":"Rejoignez notre Discord","support_title":"Soutenez Ultra Card","support_desc":"Vos généreux dons financent le développement de fonctionnalités incroyables pour cette carte ! Sans le soutien d\'utilisateurs comme vous, l\'innovation continue ne serait pas possible.","leave_tip":"FAIRE UN DON (PAYPAL)","version":"Version"},"actions":{"title":"Configuration des actions","description":"Configurez ce qui se passe lorsque les utilisateurs interagissent avec cet élément. Choisissez des actions différentes pour toucher, maintenir et double toucher.","tap_action":"Action au toucher","tap_action_desc":"Action effectuée lors d\'un toucher/clic sur le module","hold_action":"Action au maintien","hold_action_desc":"Action effectuée lors d\'un maintien sur le module","double_tap_action":"Action au double appui","double_tap_action_desc":"Action effectuée lors d\'un double appui sur le module","tap_behavior":"Comportement au toucher","tap_behavior_desc":"Action à effectuer lorsque l\'élément est touché/clické.","hold_behavior":"Comportement au maintien","hold_behavior_desc":"Action à effectuer lorsque l\'élément est pressé et maintenu.","double_tap_behavior":"Comportement au double appui","double_tap_behavior_desc":"Action à effectuer lorsque l\'élément est doublement touché/clické."},"icon":{"entity_config":{"title":"CONFIGURATION DE L\'ENTITÉ","desc":"Configurez l\'entité et les états actif/inactif"},"entity":"Entité","entity_desc":"Sélectionnez l\'entité que cet icône représente","inactive_state":"État inactif","inactive_state_desc":"Valeur d\'état considérée comme \\"inactive\\" (laisser vide pour utiliser l\'état réel de l\'entité)","active_state":"État actif","active_state_desc":"Valeur d\'état considérée comme \\"active\\" (laisser vide pour utiliser l\'état réel de l\'entité)","icon_section":{"title":"Configuration de l\'icône"},"inactive_icon":"Icône inactif","inactive_icon_desc":"Icône affiché lorsque inactif","inactive_icon_config":"Configuration de l\'icône inactif","inactive_icon_config_desc":"Configurer les paramètres de l\'icône inactif","active_icon":"Icône actif","active_icon_desc":"Icône affiché lorsque actif","icon_color_inactive":"Couleur lorsque inactif","icon_color_active":"Couleur lorsque actif","background_shape_inactive":"Forme d\'arrière-plan lorsque inactif","background_shape_active":"Forme d\'arrière-plan lorsque actif","background_color_inactive":"Couleur d\'arrière-plan lorsque inactif","background_color_active":"Couleur d\'arrière-plan lorsque actif","icon_size_inactive":"Taille de l\'icône lorsque inactif","icon_size_active":"Taille de l\'icône lorsque actif","inactive_icon_color":"Couleur de l\'icône inactif","active_icon_color":"Couleur de l\'icône actif","inactive_icon_background":"Arrière-plan de l\'icône inactif","active_icon_background":"Arrière-plan de l\'icône actif","inactive_icon_background_color":"Couleur d\'arrière-plan de l\'icône inactif","active_icon_background_color":"Couleur d\'arrière-plan de l\'icône actif","name_section":{"title":"Configuration du nom"},"inactive_name":"Nom inactif","inactive_name_desc":"Nom personnalisé lorsque inactif","inactive_name_config":"Configuration du nom inactif","inactive_name_config_desc":"Configurer les paramètres de nom inactif","active_name":"Nom actif","active_name_desc":"Nom personnalisé lorsque actif","custom_inactive_name":"Nom inactif personnalisé","custom_inactive_name_desc":"Remplacer le nom de l\'entité lorsque inactif (laisser vide pour utiliser le nom de l\'entité)","custom_active_name":"Nom actif personnalisé","custom_active_name_desc":"Remplacer le nom de l\'entité lorsque actif (laisser vide pour utiliser le nom de l\'entité)","name_color_inactive":"Couleur du nom lorsque inactif","name_color_active":"Couleur du nom lorsque actif","name_size_inactive":"Taille du texte du nom lorsque inactif","name_size_active":"Taille du texte du nom lorsque actif","inactive_name_color":"Couleur du nom inactif","active_name_color":"Couleur du nom actif","state_section":{"title":"Configuration de l\'état"},"inactive_state_color":"Couleur de l\'état inactif","active_state_color":"Couleur de l\'état actif","inactive_state_text":"Texte de l\'état inactif","active_state_text":"Texte de l\'état actif","inactive_state_config":"Configuration de l\'état inactif","inactive_state_config_desc":"Configurer les paramètres de l\'état inactif","custom_inactive_state":"État inactif personnalisé","custom_inactive_state_desc":"Texte personnalisé lorsque inactif (laisser vide pour utiliser l\'état réel)","custom_active_state":"État actif personnalisé","custom_active_state_desc":"Texte personnalisé lorsque actif (laisser vide pour utiliser l\'état réel)","state_color_inactive":"Couleur de l\'état lorsque inactif","state_color_active":"Couleur de l\'état lorsque actif","state_size_inactive":"Taille du texte de l\'état lorsque inactif","state_size_active":"Taille du texte de l\'état lorsque actif","background_section":{"title":"Arrière-plan inactif","desc":"Configurer les paramètres d\'arrière-plan inactif"},"template_section":{"title":"Mode modèle avancé","desc":"Utilisez des modèles Jinja2 pour un contrôle avancé des icônes. Les modèles peuvent contrôler la visibilité (vrai/faux pour afficher/masquer les icônes) et personnaliser le texte de l\'état. Renvoyez un texte personnalisé pour l\'état actif, renvoyez l\'état réel de l\'entité pour l\'état inactif."},"template_mode":"Mode modèle avancé","template":"Modèle","animation_section":{"title":"Animation de l\'icône","desc":"Configurez des animations pour les états actifs et inactifs"},"active_animation":"Animation active","active_animation_desc":"Animation lorsque l\'icône est active","inactive_animation":"Animation inactive","inactive_animation_desc":"Animation lorsque l\'icône est inactive","animation_none":"Aucun","animation_pulse":"Pulsation","animation_spin":"Rotation","animation_bounce":"Rebond","animation_flash":"Clignoter","animation_shake":"Secouer","animation_vibrate":"Vibrer","animation_rotate_left":"Rotation gauche","animation_rotate_right":"Rotation droite","animation_fade":"Fondu","animation_scale":"Échelle","animation_tada":"Tada"},"text":{"content_section":{"title":"Configuration du contenu","desc":"Configurez le contenu texte et les paramètres de base de ce module."},"text_content":"Contenu du texte","text_content_desc":"Saisissez le contenu texte à afficher dans ce module.","icon_section":{"title":"Configuration de l\'icône","desc":"Choisissez une icône à afficher à côté du contenu texte."},"icon":"Icône","icon_desc":"Choisissez une icône à afficher à côté du texte. Laissez vide pour aucune icône.","icon_position":"Position de l\'icône","icon_position_desc":"Choisissez où positionner l\'icône par rapport au texte.","before_text":"Avant le texte","after_text":"Après le texte","template_mode":"Mode modèle","template_mode_desc":"Utilisez la syntaxe de templating Home Assistant pour rendre le texte","value_template":"Modèle de valeur","value_template_desc":"Modèle pour rendre le texte en utilisant la syntaxe Jinja2","examples_title":"Exemples courants :","example_basic":"Valeur de base","example_percent":"Avec pourcentage"},"markdown":{"content":{"title":"Contenu Markdown","label":"Contenu","desc":"Saisissez votre contenu Markdown avec une prise en charge complète de la mise en forme"},"features":{"title":"Fonctionnalités Markdown"},"enable_html":"Activer HTML","enable_html_desc":"Autoriser les balises HTML dans le contenu Markdown","enable_tables":"Activer les tableaux","enable_tables_desc":"Prise en charge de la syntaxe des tableaux Markdown","code_highlighting":"Coloration syntaxique","code_highlighting_desc":"Coloration syntaxique pour les blocs de code"},"bar":{"bar_settings":{"title":"Paramètres de barre","desc":"Configurez comment le pourcentage de la barre est calculé et affiché."},"perc_type":{"entity":"Entité (0-100)","attribute":"Attribut d\'entité","difference":"Différence","template":"Modèle"},"attribute_section":{"title":"Configuration d\'attribut d\'entité","desc":"Configurer les paramètres d\'attribut d\'entité"},"attribute_entity":"Entité d\'attribut","attribute_entity_desc":"Sélectionnez l\'entité qui contient l\'attribut avec la valeur de pourcentage","attribute_name":"Nom d\'attribut","attribute_name_desc":"Entrez le nom de l\'attribut qui contient la valeur de pourcentage (ex. \\"battery_level\\")","diff_section":{"title":"Configuration de calcul de différence","desc":"Configurer les paramètres de calcul de différence"},"current_entity":"Entité de valeur actuelle","current_entity_desc":"Entité représentant la quantité actuelle/utilisée (ex. carburant utilisé, batterie consommée)","total_entity":"Entité de valeur totale","total_entity_desc":"Entité représentant la quantité totale/maximale (ex. capacité de carburant, capacité de batterie)","template_section":{"title":"Configuration de modèle","desc":"Configurer les paramètres de modèle"},"percentage_template":"Modèle de pourcentage","percentage_template_desc":"Entrez un modèle Jinja2 qui retourne un nombre entre 0-100 pour le pourcentage. Exemple : {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Configuration d\'attribut d\'entité","desc":"Configurer les paramètres d\'attribut d\'entité","attribute_entity":"Entité d\'attribut","attribute_entity_desc":"Sélectionnez l\'entité qui contient l\'attribut avec la valeur de pourcentage","attribute_name":"Nom d\'attribut","attribute_name_desc":"Entrez le nom de l\'attribut qui contient la valeur de pourcentage (ex. \\"battery_level\\")"},"diff_config":{"title":"Configuration de calcul de différence","desc":"Configurer les paramètres de calcul de différence","current_entity":"Entité de valeur actuelle","current_entity_desc":"Entité représentant la quantité actuelle/utilisée (ex. carburant utilisé, batterie consommée)","total_entity":"Entité de valeur totale","total_entity_desc":"Entité représentant la quantité totale/maximale (ex. capacité de carburant, capacité de batterie)"},"template_config":{"title":"Configuration de modèle","desc":"Configurer les paramètres de modèle","percentage_template":"Modèle de pourcentage","percentage_template_desc":"Entrez un modèle Jinja2 qui retourne un nombre entre 0-100 pour le pourcentage. Exemple : {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Entité de pourcentage de barre","desc_present":"L\'entité qui fournit la valeur de pourcentage pour la barre.","desc_empty":"Sélectionnez une entité qui fournit une valeur de pourcentage (0-100). Les capteurs de batterie sont idéaux pour les barres.","no_entity_warning":"Aucune entité sélectionnée - Veuillez choisir un capteur avec des valeurs entre 0-100"},"limit_entity":{"title":"Entité de valeur limite (optionnel)","desc":"Optionnel : Ajoutez une ligne d\'indicateur vertical sur la barre (ex. limite de charge pour batterie VE)."},"appearance":{"title":"Apparence de barre","direction":"Direction de remplissage","direction_desc":"Choisissez la direction dans laquelle la barre se remplit lorsque la valeur augmente.","left_to_right":"Gauche vers droite","right_to_left":"Droite vers gauche","height":"Hauteur de barre","height_desc":"Ajustez l\'épaisseur de la barre de progression en pixels.","border_radius":"Rayon de bordure","border_radius_desc":"Contrôlez les coins arrondis de la barre.","style":"Style de barre","style_desc":"Choisissez le style visuel de la barre de progression.","style_flat":"Plat (par défaut)","style_glossy":"Brillant","style_embossed":"Embossé","style_inset":"Incrusté","style_gradient":"Superposition de dégradé","style_neon":"Lueur néon","style_outline":"Contour","style_glass":"Verre","style_metallic":"Métallique","style_neumorphic":"Néomorphique","style_dashed":"Tirets","style_dots":"Points","width":"Largeur de barre","width_desc":"Définissez la largeur de la barre en pourcentage du conteneur.","alignment":"Alignement de barre","alignment_desc":"Choisissez comment aligner la barre quand elle fait moins de 100% de largeur."},"labels":{"alignment":"Alignement d\'étiquette","alignment_desc":"Contrôlez comment les étiquettes gauche et droite sont positionnées."},"percentage":{"title":"Affichage du texte de pourcentage","desc":"Contrôlez la visibilité et l\'apparence des valeurs de pourcentage affichées directement sur la barre. Ces chiffres fournissent un indicateur visuel clair du niveau actuel.","text_size":"Taille du texte","text_size_desc":"Ajustez la taille du texte de pourcentage affiché sur la barre.","text_alignment":"Alignement du texte de pourcentage"},"left":{"title":"Côté gauche","desc":"Configurez le titre et la valeur d\'entité affichés sur le côté gauche de la barre. Ceci est utile pour afficher des étiquettes comme \'Portée\' ou \'Batterie\' avec leurs valeurs.","title_size":"Taille du titre","value_size":"Taille de la valeur","template_mode":"Mode modèle","template_desc":"Utilisez un modèle pour formater la valeur affichée. Les modèles utilisent la syntaxe Jinja2 de Home Assistant.","value_template":"Modèle de valeur","value_template_desc":"Modèle pour formater la valeur du côté gauche en utilisant la syntaxe Jinja2","enable_toggle":"Activez le commutateur ci-dessus pour configurer les paramètres du côté gauche"},"right":{"title":"Côté droit","desc":"Configurez le titre et la valeur d\'entité affichés sur le côté droit de la barre. Ceci est idéal pour des informations complémentaires comme \'Temps jusqu\'au plein\' ou des mesures secondaires.","title_size":"Taille du titre","value_size":"Taille de la valeur","template_mode":"Mode modèle","template_desc":"Utilisez un modèle pour formater la valeur affichée. Les modèles utilisent la syntaxe Jinja2 de Home Assistant.","value_template":"Modèle de valeur","value_template_desc":"Modèle pour formater la valeur du côté droit en utilisant la syntaxe Jinja2","enable_toggle":"Activez le commutateur ci-dessus pour configurer les paramètres du côté droit"},"colors":{"title":"Couleurs","bar_color":"Couleur de la barre","background_color":"Couleur d\'arrière-plan","border_color":"Couleur de bordure","limit_indicator":"Indicateur de limite","percentage_text":"Texte du pourcentage","left_side":"Couleurs du côté gauche","right_side":"Couleurs du côté droit","title_color":"Couleur du titre","value_color":"Couleur de la valeur"},"gradient":{"title":"Mode dégradé","desc":"Appliquez un dégradé de couleur au remplissage de la barre. Quand activé, choisissez comment le dégradé est affiché et personnalisez les arrêts de couleur ci-dessous.","full":"Complet","cropped":"Recadré","value_based":"Basé sur la valeur"},"animation":{"title":"Animation de barre","desc":"Animez le remplissage de la barre en utilisant des préréglages comme les rayures de charge, le pouls, la lueur et plus. Vous pouvez déclencher des animations basées sur l\'état ou l\'attribut d\'une entité, et éventuellement remplacer l\'animation quand une autre condition est remplie.","trigger":{"title":"Déclencheur d\'animation","desc":"Sélectionnez une entité à surveiller et définissez la valeur + animation à appliquer quand elle correspond.","entity_desc":"Entité à évaluer pour le déclencheur d\'animation","type":"Type de déclencheur","type_desc":"Choisissez s\'il faut comparer l\'état de l\'entité ou un attribut","attribute_name_desc":"Nom d\'attribut à comparer (ex. charging_status)","match_value":"Valeur de correspondance","match_value_desc":"Texte à comparer avec l\'état ou l\'attribut (la comparaison est basée sur le texte)."},"type":"Type d\'animation","type_desc":"Sélectionnez comment la barre doit s\'animer quand déclenchée.","types":{"charging":"Charge (lignes diagonales)","pulse":"Pouls","blinking":"Clignotant","bouncing":"Rebondissant","glow":"Lueur","rainbow":"Arc-en-ciel","bubbles":"Bulles","fill":"Remplir","ripple":"Ondulation","traffic":"Trafic (poteau de barbier)","heartbeat":"Battement de cœur","flicker":"Scintillement","shimmer":"Miroitement","vibrate":"Vibrer"},"override":{"title":"Remplacement d\'animation d\'action","desc":"Sélectionnez une entité d\'action et un état pour définir quand cette animation doit remplacer l\'animation normale","entity_desc":"Entité à évaluer pour le déclencheur de remplacement","type_desc":"Animation à utiliser quand la condition de remplacement correspond.","attribute_name_desc":"Nom d\'attribut à comparer","match_value":"Valeur de correspondance de remplacement","match_value_desc":"Comparaison de texte contre l\'état ou l\'attribut","type":"Type d\'animation de remplacement"}}},"image":{"settings":"Paramètres d\'image","source_type":"Type de source d\'image","source_type_desc":"Choisissez comment vous souhaitez spécifier la source de l\'image.","source":{"default":"Image par défaut","url":"URL de l\'image","upload":"Téléverser une image","entity":"Image d\'entité","attribute":"Attribut d\'entité"},"url_section":{"title":"Configuration de l\'URL de l\'image"},"image_url":"URL de l\'image","image_url_desc":"Entrez l\'URL directe de l\'image que vous souhaitez afficher.","upload_section":{"title":"Configuration du téléversement d\'image"},"upload":"Téléverser une image","upload_desc":"Cliquez pour téléverser une image depuis votre appareil.","entity_section":{"title":"Configuration de l\'image d\'entité"},"entity":"Entité","entity_desc":"Sélectionnez une entité qui possède une image (par ex., personne, caméra).","attribute_section":{"title":"Configuration de l\'attribut d\'entité"},"entity_attr_desc":"Sélectionnez l\'entité qui contient l\'URL de l\'image dans l\'un de ses attributs.","attribute_name":"Nom de l\'attribut","attribute_name_desc":"Saisissez le chemin de l\'attribut qui contient l\'URL de l\'image (notation par points prise en charge, p. ex., vehicle_data.vehicleDetails.generalDashboard).","width":"Largeur (%)","width_desc":"Définissez la largeur en pourcentage du conteneur.","height":"Hauteur (px)","height_desc":"Définissez la hauteur en pixels.","crop_fit":"Recadrer et ajuster","crop_fit_desc":"Contrôlez la façon dont l\'image s\'adapte à son conteneur.","fit":{"cover":"Couvrir (recadrer pour remplir)","contain":"Contenir (ajuster l\'image entière)","fill":"Remplir (étirer pour ajuster)","scale_down":"Réduire","none":"Aucun (taille originale)"},"border_radius":"Rayon de bordure","border_radius_desc":"Contrôlez les coins arrondis de l\'image.","tap_actions":"Actions au toucher","filters":"Filtres","filter":{"blur":"Flou","blur_desc":"Appliquez un effet de flou à votre image.","brightness":"Luminosité (%)","brightness_desc":"Ajustez la luminosité de votre image.","contrast":"Contraste (%)","contrast_desc":"Modifiez le contraste de votre image.","saturation":"Saturation (%)","saturation_desc":"Ajustez la saturation de votre image."},"hover":{"title":"Effets au survol","effect_type":"Type d\'effet","effect_type_desc":"Choisissez le type d\'effet au survol.","scale":"Échelle (zoom avant/arrière)","rotate":"Rotation","fade":"Fondu (changement d\'opacité)","blur":"Flou","brightness":"Luminosité","glow":"Lueur (ombre portée)","slide":"Glisser (translation)","scale_amount":"Échelle (%)","scale_amount_desc":"Ajustez l\'échelle de l\'image au survol.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Faites pivoter l\'image au survol.","opacity":"Opacité (%)","opacity_desc":"Modifiez l\'opacité de l\'image au survol.","blur_amount":"Flou (px)","blur_amount_desc":"Appliquez un effet de flou à l\'image au survol.","brightness_amount":"Luminosité (%)","brightness_amount_desc":"Ajustez la luminosité de l\'image au survol.","glow_intensity":"Intensité de la lueur","glow_intensity_desc":"Choisissez l\'intensité de l\'effet de lueur au survol.","glow_light":"Lueur légère","glow_medium":"Lueur moyenne","glow_heavy":"Lueur forte","glow_custom":"Ombre personnalisée","translate_x":"Horizontal (px)","translate_x_desc":"Translatez l\'image horizontalement au survol.","translate_y":"Vertical (px)","translate_y_desc":"Translatez l\'image verticalement au survol."},"alt":"Image","no_source":"Aucune source d\'image configurée"},"graphs":{"chart_type":{"title":"Type de graphique","type":"Type","desc":"Sélectionnez le style de visualisation pour vos données."},"types":{"line":"Graphique linéaire","bar":"Diagramme à barres","pie":"Diagramme circulaire","donut":"Diagramme en anneau"},"data_sources":{"title":"Sources de données","no_entities":"Aucune entité ajoutée","add_first_entity":"Ajoutez votre première entité pour créer un graphique","add_entity":"Ajouter une entité"},"entity":"Entité","line":{"show_points":"Afficher les points","fill_area":"Remplir la zone","line_width":"Épaisseur de ligne","line_style":"Style de ligne"},"line_styles":{"solid":"Plein","dashed":"Tirets","dotted":"Pointillé"},"display":{"title":"Options d\'affichage","show_title":"Afficher le titre du graphique","show_value":"Afficher la valeur du graphique","chart_title":"Titre du graphique","chart_title_placeholder":"Saisir le titre du graphique","time_period":"Période","time_period_desc":"Quantité de données historiques à afficher.","normalize_values":"Normaliser les valeurs sur la même échelle","normalize_desc":"Utile pour comparer des entités avec des unités différentes (p. ex., % vs miles)","chart_height":"Hauteur du graphique","chart_width":"Largeur du graphique (%)","chart_width_desc":"Pourcentage de la largeur disponible du module. L\'alignement contrôle le placement.","chart_alignment":"Alignement du graphique","chart_alignment_desc":"Alignement du graphique dans son conteneur.","info_position":"Position des infos","info_position_desc":"Position de la superposition affichant le nom/la valeur.","legend_position":"Position de la légende","legend_position_desc":"Où placer la légende lorsqu\'elle est activée.","background_color":"Couleur d\'arrière-plan","chart_options":"Options du graphique","show_legend":"Afficher la légende","show_grid":"Afficher la grille","smooth_lines":"Lignes lissées","show_tooltips":"Afficher les infobulles","add_slice_gap":"Ajouter un espace entre les parts"},"agg":{"mean":"Moyenne","sum":"Somme","min":"Minimum","max":"Maximum","median":"Médiane","first":"Première valeur","last":"Dernière valeur","count":"Nombre","delta":"Variation"},"position":{"top":"Haut","bottom":"Bas","left":"Gauche","right":"Droite","hidden":"Masqué","top_left":"En haut à gauche","top_right":"En haut à droite","bottom_left":"En bas à gauche","bottom_right":"En bas à droite","middle":"Centre","center":"Centre"},"pie":{"show_title":"Afficher le titre dans la part","show_value":"Afficher la valeur dans la part"},"period":{"1h":"Dernière heure","3h":"3 dernières heures","6h":"6 dernières heures","12h":"12 dernières heures","24h":"24 dernières heures","2d":"2 derniers jours","7d":"Semaine dernière","30d":"Mois dernier","90d":"3 derniers mois","365d":"Année dernière"},"reset_345":"Réinitialiser par défaut (345px)","reset_100":"Réinitialiser par défaut (100%)","entity_desc":"Sélectionnez une entité à tracer.","display_name_optional":"Nom d\'affichage (facultatif)","use_as_card_info":"Utiliser comme info de carte","attribute":"Attribut","attribute_desc":"Utilisez l\'état de l\'entité ou sélectionnez un attribut spécifique à suivre.","attribute_state_default":"État (par défaut)","show_points":"Afficher les points","fill_area":"Remplir la zone","line_style":"Style de ligne","line_solid":"Plein","line_dashed":"Tirets","line_dotted":"Pointillé","pie_show_title":"Afficher le titre dans la part","pie_show_value":"Afficher la valeur dans la part","expand_options":"Développer les options","no_entities":"Aucune entité ajoutée","add_first_entity":"Ajoutez votre première entité pour créer un graphique","add_entity":"Ajouter une entité","display_options":{"title":"Options d\'affichage"},"show_title":"Afficher le titre du graphique","show_value":"Afficher la valeur du graphique","chart_title":"Titre du graphique","chart_title_placeholder":"Saisir le titre du graphique","time_period":"Période","time_period_desc":"Quantité de données historiques à afficher.","normalize_values":"Normaliser les valeurs sur la même échelle","normalize_desc":"Utile pour comparer des entités avec des unités différentes (p. ex., % vs miles)","chart_height":"Hauteur du graphique","chart_width":"Largeur du graphique (%)"},"info":{"entity_section":{"title":"CONFIGURATION DE L\'ENTITÉ"},"entity":"Entité","entity_desc":"Sélectionnez l\'entité à afficher","icon_section":{"title":"Paramètres de l\'icône"},"show_icon":"Afficher l\'icône","show_icon_desc":"Afficher une icône à côté de la valeur de l\'entité","icon":"Icône","icon_desc":"Choisissez une icône à afficher","icon_color":"Couleur de l\'icône","name_section":{"title":"Paramètres du nom"},"show_name":"Afficher le nom","show_name_desc":"Afficher le nom de l\'entité au-dessus de la valeur","custom_name":"Nom personnalisé","custom_name_desc":"Remplacer le nom de l\'entité par un nom personnalisé","name_color":"Couleur du nom","state_section":{"title":"Paramètres d\'état"},"show_state":"Afficher l\'état","show_state_desc":"Afficher l\'état/la valeur de l\'entité","show_units":"Afficher les unités","show_units_desc":"Afficher l\'unité de mesure (si disponible)","state_color":"Couleur de l\'état","template":{"title":"Mode modèle","desc":"Utilisez un modèle pour formater la valeur de l\'entité. Les modèles vous permettent d\'utiliser la syntaxe de templating de Home Assistant pour un formatage complexe.","mode":"Mode modèle","mode_desc":"Utilisez la syntaxe de templating de Home Assistant pour formater la valeur","value":"Modèle de valeur","value_desc":"Modèle pour formater la valeur de l\'entité en utilisant la syntaxe Jinja2"},"size_section":{"title":"Paramètres de taille"},"icon_size":"Taille de l\'icône","icon_size_desc":"Taille de l\'icône en pixels","name_size":"Taille du nom","name_size_desc":"Taille du texte du nom de l\'entité en pixels","value_size":"Taille de la valeur","value_size_desc":"Taille du texte de la valeur de l\'entité en pixels","icon_gap":"Espacement de l\'icône","icon_gap_desc":"Espace entre l\'icône et le contenu en pixels","layout_section":{"title":"Disposition et positionnement"},"icon_position":"Position de l\'icône","overall_alignment":"Alignement global","icon_alignment":"Alignement de l\'icône","content_alignment":"Alignement du contenu","examples_title":"Exemples courants :","example_basic":"Valeur de base","example_units":"Avec unités","example_round":"Arrondir à 1 décimale"},"button":{"basic":{"title":"Paramètres de base","desc":"Configurez l\'apparence du bouton et le contenu du texte."},"text":{"title":"Texte du bouton","desc":"Texte à afficher sur le bouton (laisser vide pour icône seule)."},"style":{"title":"Style du bouton","desc":"Style visuel du bouton"},"alignment":{"title":"Alignement","desc":"Comment le bouton est aligné dans son conteneur"},"styles":{"flat":"Plat (par défaut)","glossy":"Lustré","embossed":"Embossé","inset":"Enfoncé","gradient_overlay":"Superposition en dégradé","neon_glow":"Lueur néon","outline":"Contour","glass":"Verre","metallic":"Métallique"},"align":{"left":"Gauche","center":"Centre","right":"Droite","justify":"Justifier (pleine largeur)"},"icon":{"title":"Paramètres de l\'icône","desc":"Configurez l\'affichage et le positionnement de l\'icône pour le bouton.","before":"Avant le texte","after":"Après le texte","enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer les paramètres de l\'icône"},"icon_field":"Icône","show_icon":"Afficher l\'icône","show_icon_desc":"Afficher une icône sur le bouton","icon_desc":"Icône à afficher (p. ex., mdi:home)","icon_position":"Position de l\'icône","icon_position_desc":"Position de l\'icône par rapport au texte","colors":{"title":"Couleurs","background":"Couleur d\'arrière-plan","text":"Couleur du texte"},"hover":{"title":"Effets au survol","effect_type":"Type d\'effet","effect_type_desc":"Choisissez l\'effet au survol pour ce bouton.","none":"Aucun","color":"Changement de couleur","scale":"Échelle","glow":"Lueur","lift":"Élévation (translation Y)","hover_color":"Couleur au survol","glow_color":"Couleur de la lueur","enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer les effets au survol"},"actions":{"type":"Type d\'action","type_desc":"Choisissez ce qui se passe lorsque le bouton est cliqué","entity":"Entité","entity_desc":"Sélectionnez l\'entité avec laquelle interagir","navigation_path":"Chemin de navigation","navigation_path_desc":"Chemin vers lequel naviguer (p. ex., /dashboard/energy)","service":"Service","service_desc":"Service à appeler (p. ex., light.turn_on)","service_data":"Données de service (JSON)","service_data_desc":"Données facultatives à transmettre au service (format JSON)"},"tap":{"title":"Action au toucher","desc":"Action à effectuer lorsque le bouton est touché"},"hold":{"title":"Action au maintien","desc":"Action à effectuer lorsque le bouton est maintenu enfoncé"},"double":{"title":"Action au double appui","desc":"Action à effectuer lorsque le bouton est doublement touché"}},"layout_extra":{"module_name":"Nom du module :","module_name_placeholder":"Donnez un nom personnalisé à ce module pour l\'identifier plus facilement dans l\'éditeur.","module_name_help":"Donnez un nom personnalisé à ce module pour l\'identifier plus facilement dans l\'éditeur."},"camera":{"config":{"title":"Configuration de la caméra","desc":"Configurez l\'entité caméra et les paramètres d\'affichage."},"entity":"Entité caméra","entity_desc":"Sélectionnez l\'entité caméra à afficher. Il doit s\'agir d\'une entité camera ou mjpeg de Home Assistant.","name":"Nom de la caméra","name_desc":"Nom personnalisé pour la caméra. Laisser vide pour utiliser le nom de l\'entité.","show_name":"Afficher le nom de la caméra","show_name_desc":"Afficher le nom de la caméra sur le flux","show_name_toggle":{"enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer l\'affichage du nom de la caméra"},"name_position":{"group_title":"Position du nom de la caméra","title":"Position du nom","desc":"Choisissez où le nom de la caméra apparaît en superposition sur l\'image de la caméra.","options":{"top_left":"En haut à gauche","top_right":"En haut à droite","center":"Centre","bottom_left":"En bas à gauche","bottom_right":"En bas à droite"}},"display":{"title":"Paramètres d\'affichage"},"live_view":{"title":"Vue en direct","desc":"Activez pour afficher le flux vidéo en direct (nécessite l\'intégration stream). Désactivé, affiche des images fixes."},"auto_refresh":{"section_title":"Paramètres d\'actualisation automatique","title":"Actualisation automatique","desc":"Actualiser automatiquement l\'image de la caméra à intervalles réguliers"},"refresh_interval":{"title":"Intervalle d\'actualisation (secondes)","desc":"Fréquence d\'actualisation automatique de l\'image de la caméra."},"dimensions":{"title":"Dimensions"},"width":"Largeur (px)","width_desc":"Définissez la largeur de l\'affichage de la caméra. Plage : 100-1000px","height":"Hauteur (px)","height_desc":"Définissez la hauteur de l\'affichage de la caméra. Plage : 100-1000px","link_aspect":"Lier le format d\'image","unlink_aspect":"Dissocier le format d\'image","aspect_linked":{"title":"Format d\'image lié","desc":"Les dimensions conservent un ratio de {ratio}:1. L\'ajustement d\'une dimension met automatiquement à jour l\'autre pour conserver les proportions."},"aspect_independent":{"title":"Dimensions indépendantes","desc":"La largeur et la hauteur peuvent être ajustées indépendamment. Cliquez sur le bouton de liaison ci-dessus pour conserver le format d\'image."},"crop":{"title":"Recadrage et position","desc":"Ajustez le recadrage et la position de la vue caméra. Utile pour se concentrer sur des zones spécifiques ou supprimer des bords indésirables.","left_title":"Recadrage gauche (%)","left_desc":"Recadrer depuis le bord gauche. Des valeurs plus élevées montrent moins de la partie gauche.","right_title":"Recadrage droit (%)","right_desc":"Recadrer depuis le bord droit. Des valeurs plus élevées montrent moins de la partie droite.","top_title":"Recadrage supérieur (%)","top_desc":"Recadrer depuis le bord supérieur. Des valeurs plus élevées montrent moins de la zone supérieure.","bottom_title":"Recadrage inférieur (%)","bottom_desc":"Recadrer depuis le bord inférieur. Des valeurs plus élevées montrent moins de la zone inférieure.","active_applied":"Recadrages actifs appliqués","reset_all":"Réinitialiser tous les recadrages"},"template":{"title":"Mode modèle","desc":"Utilisez un modèle pour définir dynamiquement l\'entité caméra. Les modèles permettent d\'utiliser la syntaxe de templating de Home Assistant pour une sélection conditionnelle de la caméra.","mode_label":"Mode modèle","mode_desc":"Utilisez la syntaxe de templating de Home Assistant pour sélectionner dynamiquement l\'entité caméra","camera_template_label":"Modèle de caméra","camera_template_desc":"Modèle pour définir dynamiquement l\'entité caméra en utilisant la syntaxe Jinja2","examples_title":"Exemples courants :","example1_desc":"Afficher la caméra lorsque la météo est ensoleillée","example2_desc":"Basculer entre les caméras en fonction d\'un booléen d\'entrée","example3_desc":"Utiliser un input select pour choisir l\'entité caméra"}},"separator":{"config":{"title":"Configuration du séparateur"},"style":{"title":"Style du séparateur","desc":"Choisissez le style visuel de la ligne de séparation."},"options":{"solid":"Ligne continue","double":"Double ligne","dotted":"Ligne pointillée","double_dotted":"Double pointillé","shadow":"Ombre","blank":"Espace vide"},"appearance":{"title":"Apparence"},"thickness":"Épaisseur (px)","thickness_desc":"Épaisseur de la ligne de séparation.","width":"Largeur (%)","width_desc":"Largeur du séparateur en pourcentage du conteneur.","color":{"title":"Couleur","desc":"Couleur de la ligne de séparation."},"show_title":"Afficher le titre","show_title_desc":"Ajouter du texte au milieu de la ligne de séparation (p. ex., ------ Texte ------)","show_title_toggle":{"enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer les paramètres du titre"},"text_content":{"title":"Contenu du texte","desc":"Texte à afficher au milieu du séparateur."},"font_size":"Taille de police","font_size_desc":"Taille du texte en pixels.","text_color":{"title":"Couleur du texte","desc":"Couleur du texte du séparateur."},"text_format":{"title":"Formatage du texte","desc":"Appliquez des styles de formatage au texte du séparateur.","bold":"Gras","italic":"Italique","underline":"Souligné","uppercase":"Majuscules","strikethrough":"Barré"},"spacer":{"title":"Hauteur de l\'espacement"},"height":"Hauteur (px)","height_desc":"Contrôle l\'espace visuel pour l\'Espace vide."},"design":{"copy":"Copier","paste":"Coller","reset_all":"Tout réinitialiser","copy_tooltip":"Copier les paramètres de conception actuels (fonctionne sur toutes les Ultra Cards)","paste_tooltip_has":"Coller les paramètres de conception copiés (depuis le presse-papiers inter-cartes)","paste_tooltip_none":"Aucun paramètre de conception dans le presse-papiers inter-cartes","reset_all_tooltip":"Réinitialiser tous les paramètres de conception par défaut","text_section":"Texte","text_color":"Couleur du texte","alignment":"Alignement","inherit_alignment":"Hériter (pas d\'alignement)","font_size":"Taille de police","font_size_placeholder":"16px (par défaut), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Réinitialiser la taille de police par défaut","line_height":"Interligne","line_height_placeholder":"0 (par défaut), 28px, 1.7","reset_line_height":"Réinitialiser l\'interligne par défaut","letter_spacing":"Espacement des lettres","letter_spacing_placeholder":"auto (par défaut), 1px, -0.04em","reset_letter_spacing":"Réinitialiser l\'espacement des lettres par défaut","font":"Police","font_weight":"Graisse de police","text_transform":"Transformation du texte","font_style":"Style de police","default_option":"– Par défaut –","weight_thin":"100 - Très fin","weight_light":"300 - Léger","weight_normal":"400 - Normal","weight_medium":"500 - Moyen","weight_semi_bold":"600 - Semi-gras","weight_bold":"700 - Gras","weight_black":"900 - Noir","transform_none":"Aucun","transform_uppercase":"MAJUSCULES","transform_lowercase":"minuscules","transform_capitalize":"Capitaliser","style_normal":"Normal","style_italic":"Italique","style_oblique":"Oblique","background_section":"Arrière-plan","background_color":"Couleur d\'arrière-plan","background_image_type":"Type d\'image d\'arrière-plan","bg_none":"Aucun","bg_upload":"Téléverser une image","bg_entity":"Image d\'entité","bg_url":"URL de l\'image","sizes_section":"Tailles","spacing_section":"Espacement","border_section":"Bordure","text_shadow_section":"Ombre du texte","box_shadow_section":"Ombre portée","position_section":"Position","overflow_section":"Débordement","animations_section":"Animations","width":"Largeur","height":"Hauteur","max_width":"Largeur max","max_height":"Hauteur max","min_width":"Largeur min","min_height":"Hauteur min","border_radius":"Rayon de bordure","border_style":"Style de bordure","border_width":"Largeur de bordure","border_color":"Couleur de bordure","margin":"Marge","padding":"Rembourrage","top":"Haut","right":"Droite","bottom":"Bas","left":"Gauche","unlock_sides":"Déverrouiller pour modifier les côtés indépendamment","lock_sides":"Verrouiller pour modifier tous les côtés ensemble","horizontal_shift":"Décalage horizontal","vertical_shift":"Décalage vertical","blur":"Flou","text_shadow_color":"Couleur de l\'ombre du texte","box_shadow_color":"Couleur de l\'ombre portée","overflow":"Débordement","clip_path":"Clip-path","upload_bg_image":"Téléverser l\'image d\'arrière-plan","bg_image_entity":"Entité d\'image d\'arrière-plan","bg_image_url":"URL de l\'image d\'arrière-plan","choose_file":"Choisir un fichier","no_file_chosen":"Aucun fichier choisi","backdrop_filter":"Filtre d\'arrière-plan","spread":"Propagation","visible_default":"Visible (par défaut)","examples":"Exemples","state_based_animation":"Animation basée sur l\'état","animation_type":"Type d\'animation","animation_duration":"Durée de l\'animation","animation_duration_desc":"Durée de l\'animation (p. ex., 2s, 500ms, 1.5s)","intro_outro_animations":"Animations d\'introduction et de sortie","intro_animation":"Animation d\'introduction","outro_animation":"Animation de sortie","duration":"Durée","delay":"Délai","timing":"Synchronisation","none":"Aucun","ease":"Ease","border_style_none":"Aucun","border_style_solid":"Plein","border_style_dashed":"Tirets","border_style_dotted":"Pointillé","border_style_double":"Double","position_default":"– Par défaut –","position_static":"Statique","position_relative":"Relative","position_absolute":"Absolue","position_fixed":"Fixe","position_sticky":"Adhésive"},"modules":{"text":"Module de texte","image":"Module d\'image","icon":"Module d\'icône","bar":"Module de barre","info":"Module d\'info","button":"Module de bouton","separator":"Module de séparateur","markdown":"Module Markdown","camera":"Module de caméra","graphs":"Module de graphiques","no_text_configured":"Aucun texte configuré","no_image_configured":"Aucune image configurée","uploaded_image":"Image téléversée","icons_configured":"{count} icônes configurées","no_icons_configured":"Aucune icône configurée","default_entity_suggestion":"Entité : sensor.battery_level","sample_text":"Texte d\'exemple"}}}');var h=i.t(_,2);const v=JSON.parse('{"editor":{"tabs":{"layout":"Costruttore di layout","settings":"Impostazioni","about":"Informazioni"},"settings":{"title":"Impostazioni carta","description":"Configura l\'aspetto globale e il comportamento della carta."},"appearance":{"title":"Aspetto","description":"Controlla l\'aspetto visivo della tua scheda"},"spacing":{"title":"Spaziatura","description":"Controlla la spaziatura e il posizionamento della tua scheda"},"fields":{"card_background_color":"Colore di sfondo della scheda","card_background_color_desc":"Il colore di sfondo dell\'intera scheda","border_radius":"Raggio del bordo","border_radius_desc":"Angoli arrotondati della scheda (in pixel)","card_padding":"Imbottitura della scheda","card_padding_desc":"Spaziatura interna all\'interno della scheda","card_margin":"Margine della scheda","card_margin_desc":"Spaziatura esterna intorno alla scheda","unit_px":"px","reset_default":"Ripristina predefinito","reset_default_value":"Ripristina predefinito ({value})"},"tooltips":{"enter_fullscreen":"Schermo intero","return_dashboard":"Torna alla dashboard","dashboard":"Dashboard"},"common":{"left":"Sinistra","center":"Centro","right":"Destra","top":"Alto","bottom":"Basso","none":"Nessuno","state":"Stato","attribute":"Attributo","attribute_name":"Nome attributo","entity":"Entità","space_between":"Spazio tra","space_around":"Spazio intorno","justify":"Giustifica","stretch":"Allunga","baseline":"Linea di base"},"horizontal":{"layout":{"title":"Configurazione layout","desc":"Configura come gli elementi sono disposti orizzontalmente all\'interno del contenitore."},"alignment":{"horizontal":"Allineamento orizzontale","horizontal_desc":"Scegli come allineare gli elementi orizzontalmente nel contenitore.","vertical":"Allineamento verticale","vertical_desc":"Scegli come allineare gli elementi verticalmente nel contenitore."},"wrapping":{"title":"Consenti a capo","desc":"Consenti agli elementi di andare a capo quando superano la larghezza del contenitore."},"gap":{"title":"Configurazione spaziatura","between_items":"Spazio tra elementi","desc":"Imposta la spaziatura tra gli elementi orizzontali (in unità rem). Usa valori negativi per sovrapporre gli elementi."},"empty":{"no_modules":"Nessun modulo aggiunto","add_modules":"Aggiungi moduli nel costruttore di layout per vederli qui"}},"vertical":{"layout":{"title":"Configurazione layout","desc":"Configura come gli elementi sono disposti verticalmente all\'interno del contenitore."},"alignment":{"vertical":"Allineamento verticale","vertical_desc":"Scegli come allineare gli elementi verticalmente nel contenitore."},"gap":{"title":"Configurazione spaziatura","between_items":"Spazio tra elementi","desc":"Imposta la spaziatura tra gli elementi verticali (in unità rem). Usa valori negativi per sovrapporre gli elementi."},"empty":{"no_modules":"Nessun modulo aggiunto","add_modules":"Aggiungi moduli nel costruttore di layout per vederli qui"}},"layout":{"live_preview":"Anteprima dal vivo","toggle_preview":"Attiva/disattiva anteprima","drag_to_move_module":"Trascina per spostare il modulo","edit_module":"Modifica modulo","duplicate_module":"Duplica modulo","delete_module":"Elimina modulo","drag_to_move_layout":"Trascina per spostare il layout","horizontal_layout":"Layout orizzontale","vertical_layout":"Layout verticale","add_module_to_layout":"Aggiungi modulo al layout","layout_settings":"Impostazioni layout","duplicate_layout":"Duplica layout","delete_layout":"Elimina layout","click_to_add_module":"Clicca per aggiungere un modulo","drop_modules_here":"Rilascia i moduli qui","drag_to_reorder":"Trascina per riordinare","edit_child_module":"Modifica modulo figlio","duplicate_child_module":"Duplica modulo figlio","delete_child_module":"Elimina modulo figlio","module_settings_title":"Impostazioni modulo","child_module_settings_title":"Impostazioni modulo figlio","general_tab":"Generale","actions_tab":"Azioni","other_tab":"Altro","logic_tab":"Logica","design_tab":"Design","drag_to_resize":"Trascina per ridimensionare","hidden_by_logic":"Nascosto dalla logica","add_row":"Aggiungi riga","add_row_tooltip":"Aggiungi una nuova riga al tuo layout","row_settings":"Impostazioni riga","column_settings":"Impostazioni colonna","row_background_color":"Colore sfondo riga","column_gap":"Spazio tra colonne (px)","vertical_alignment":"Allineamento verticale","horizontal_alignment":"Allineamento orizzontale","column_preview":"Anteprima colonna","modules_count":"{count} moduli","alignment_top":"Alto","alignment_center":"Centro","alignment_bottom":"Basso","alignment_stretch":"Allunga","alignment_left":"Sinistra","alignment_right":"Destra"},"layout_logic":{"display_title":"Mostra questo elemento","display_desc":"Controlla quando viene mostrato questo elemento. Scegli \\"Sempre\\" per mantenerlo visibile. Seleziona \\"Se TUTTE le condizioni qui sotto sono soddisfatte\\" oppure \\"Se QUALSIASI condizione qui sotto è soddisfatta\\" per visualizzarlo solo quando le condizioni aggiunte risultano vere.","always":"Sempre","every":"Se TUTTE le condizioni qui sotto sono soddisfatte","any":"Se QUALSIASI condizione qui sotto è soddisfatta","conditions":"Condizioni","add_condition":"Aggiungi condizione","no_conditions":"Nessuna condizione aggiunta. Clicca \\"Aggiungi condizione\\" per iniziare.","condition_types":{"entity_state":"Stato entità","entity_attribute":"Attributo entità","time":"Intervallo di tempo","template":"Modello"},"condition_fields":{"entity":"Entità","operator":"Operatore","value":"Valore","attribute":"Attributo","time_from":"Da","time_to":"A","template":"Modello"},"condition_header":"Condizione","custom_name":"Nome personalizzato","custom_name_desc":"Opzionale: assegna un nome personalizzato a questa condizione per identificarla più facilmente","condition_type":"Tipo di condizione"},"hover_effects":{"title":"Effetti al passaggio del mouse","description":"Configura gli effetti visivi che compaiono quando passi il mouse su questo modulo, riga o colonna.","effect":"Effetto hover","effect_desc":"Seleziona l\'effetto visivo da applicare al passaggio del mouse","effects":{"none":"Nessuno","highlight":"Evidenzia","outline":"Contorno","grow":"Cresci","shrink":"Riduci","pulse":"Impulso","bounce":"Rimbalzo","float":"Fluttuare","glow":"Bagliore","shadow":"Ombra","rotate":"Ruota","skew":"Inclina","wobble":"Oscilla","buzz":"Vibra","fade":"Dissolvenza"}},"about":{"developed_by":"Sviluppato da","desc1":"Un potente generatore di schede modulari per Home Assistant","desc2":"Crea layout personalizzati con un\'interfaccia professionale di page builder","desc3":"Sistema di layout modulare con logica condizionale e strumenti di design professionali","github_repo":"Visita il nostro GitHub","join_discord":"Unisciti al nostro Discord","support_title":"Sostieni Ultra Card","support_desc":"Le tue generose donazioni alimentano lo sviluppo di funzionalità straordinarie per questa scheda! Senza il supporto di utenti come te, l\'innovazione continua non sarebbe possibile.","leave_tip":"FAI UNA DONAZIONE (PAYPAL)","version":"Versione"},"actions":{"title":"Configurazione azioni","description":"Configura cosa accade quando gli utenti interagiscono con questo elemento. Scegli azioni diverse per tocco, pressione prolungata e doppio tocco.","tap_action":"Azione al tocco","tap_action_desc":"Azione eseguita toccando/facendo clic sul modulo","hold_action":"Azione alla pressione","hold_action_desc":"Azione eseguita tenendo premuto sul modulo","double_tap_action":"Azione al doppio tocco","double_tap_action_desc":"Azione eseguita al doppio tocco sul modulo","tap_behavior":"Comportamento al tocco","tap_behavior_desc":"Azione da eseguire quando l\'elemento viene toccato/cliccato.","hold_behavior":"Comportamento alla pressione","hold_behavior_desc":"Azione da eseguire quando l\'elemento viene premuto e tenuto.","double_tap_behavior":"Comportamento al doppio tocco","double_tap_behavior_desc":"Azione da eseguire quando l\'elemento viene toccato/cliccato due volte."},"icon":{"entity_config":{"title":"CONFIGURAZIONE ENTITÀ","desc":"Configura l\'entità e gli stati attivo/inattivo"},"entity":"Entità","entity_desc":"Seleziona l\'entità che questa icona rappresenta","inactive_state":"Stato inattivo","inactive_state_desc":"Valore di stato considerato \\"inattivo\\" (lascia vuoto per usare lo stato reale dell\'entità)","active_state":"Stato attivo","active_state_desc":"Valore di stato considerato \\"attivo\\" (lascia vuoto per usare lo stato reale dell\'entità)","icon_section":{"title":"Configurazione icona"},"inactive_icon":"Icona inattiva","inactive_icon_desc":"Icona da mostrare quando inattivo","inactive_icon_config":"Configurazione icona inattiva","inactive_icon_config_desc":"Configura le impostazioni dell\'icona inattiva","active_icon":"Icona attiva","active_icon_desc":"Icona da mostrare quando attivo","icon_color_inactive":"Colore quando inattivo","icon_color_active":"Colore quando attivo","background_shape_inactive":"Forma sfondo quando inattivo","background_shape_active":"Forma sfondo quando attivo","background_color_inactive":"Colore sfondo quando inattivo","background_color_active":"Colore sfondo quando attivo","icon_size_inactive":"Dimensione icona quando inattivo","icon_size_active":"Dimensione icona quando attivo","inactive_icon_color":"Colore icona inattiva","active_icon_color":"Colore icona attiva","inactive_icon_background":"Sfondo icona inattiva","active_icon_background":"Sfondo icona attiva","inactive_icon_background_color":"Colore sfondo icona inattiva","active_icon_background_color":"Colore sfondo icona attiva","name_section":{"title":"Configurazione nome"},"inactive_name":"Nome inattivo","inactive_name_desc":"Nome personalizzato quando inattivo","inactive_name_config":"Configurazione nome inattivo","inactive_name_config_desc":"Configura le impostazioni del nome inattivo","active_name":"Nome attivo","active_name_desc":"Nome personalizzato quando attivo","custom_inactive_name":"Nome inattivo personalizzato","custom_inactive_name_desc":"Sostituisci il nome dell\'entità quando inattivo (lascia vuoto per usare il nome dell\'entità)","custom_active_name":"Nome attivo personalizzato","custom_active_name_desc":"Sostituisci il nome dell\'entità quando attivo (lascia vuoto per usare il nome dell\'entità)","name_color_inactive":"Colore nome quando inattivo","name_color_active":"Colore nome quando attivo","name_size_inactive":"Dimensione testo nome quando inattivo","name_size_active":"Dimensione testo nome quando attivo","inactive_name_color":"Colore nome inattivo","active_name_color":"Colore nome attivo","state_section":{"title":"Configurazione stato"},"inactive_state_color":"Colore stato inattivo","active_state_color":"Colore stato attivo","inactive_state_text":"Testo stato inattivo","active_state_text":"Testo stato attivo","inactive_state_config":"Configurazione stato inattivo","inactive_state_config_desc":"Configura le impostazioni dello stato inattivo","custom_inactive_state":"Stato inattivo personalizzato","custom_inactive_state_desc":"Testo personalizzato quando inattivo (lascia vuoto per usare lo stato reale)","custom_active_state":"Stato attivo personalizzato","custom_active_state_desc":"Testo personalizzato quando attivo (lascia vuoto per usare lo stato reale)","state_color_inactive":"Colore stato quando inattivo","state_color_active":"Colore stato quando attivo","state_size_inactive":"Dimensione testo stato quando inattivo","state_size_active":"Dimensione testo stato quando attivo","background_section":{"title":"Sfondo inattivo","desc":"Configura le impostazioni dello sfondo inattivo"},"template_section":{"title":"Modalità modello avanzata","desc":"Usa modelli Jinja2 per un controllo avanzato delle icone. I modelli possono controllare la visibilità (vero/falso per mostrare/nascondere le icone) e personalizzare il testo dello stato. Restituisci testo personalizzato per lo stato attivo, restituisci lo stato reale dell\'entità per lo stato inattivo."},"template_mode":"Modalità modello avanzata","template":"Modello","animation_section":{"title":"Animazione icona","desc":"Configura le animazioni per gli stati attivo e inattivo"},"active_animation":"Animazione attiva","active_animation_desc":"Animazione quando l\'icona è attiva","inactive_animation":"Animazione inattiva","inactive_animation_desc":"Animazione quando l\'icona è inattiva","animation_none":"Nessuno","animation_pulse":"Impulso","animation_spin":"Rotazione","animation_bounce":"Rimbalzo","animation_flash":"Lampeggio","animation_shake":"Scuotere","animation_vibrate":"Vibrare","animation_rotate_left":"Ruota a sinistra","animation_rotate_right":"Ruota a destra","animation_fade":"Dissolvenza","animation_scale":"Scala","animation_tada":"Tada"},"text":{"content_section":{"title":"Configurazione contenuto","desc":"Configura il contenuto testuale e le impostazioni di base per questo modulo."},"text_content":"Contenuto del testo","text_content_desc":"Inserisci il contenuto testuale da visualizzare in questo modulo.","icon_section":{"title":"Configurazione icona","desc":"Scegli un\'icona da visualizzare accanto al contenuto testuale."},"icon":"Icona","icon_desc":"Scegli un\'icona da visualizzare accanto al testo. Lascia vuoto per nessuna icona.","icon_position":"Posizione icona","icon_position_desc":"Scegli dove posizionare l\'icona rispetto al testo.","before_text":"Prima del testo","after_text":"Dopo il testo","template_mode":"Modalità modello","template_mode_desc":"Usa la sintassi di templating di Home Assistant per renderizzare il testo","value_template":"Modello valore","value_template_desc":"Modello per renderizzare il testo usando la sintassi Jinja2","examples_title":"Esempi comuni:","example_basic":"Valore base","example_percent":"Con percentuale"},"markdown":{"content":{"title":"Contenuto Markdown","label":"Contenuto","desc":"Inserisci il contenuto Markdown con pieno supporto alla formattazione"},"features":{"title":"Funzionalità Markdown"},"enable_html":"Abilita HTML","enable_html_desc":"Consenti tag HTML nel contenuto Markdown","enable_tables":"Abilita tabelle","enable_tables_desc":"Supporto per la sintassi delle tabelle in Markdown","code_highlighting":"Evidenziazione del codice","code_highlighting_desc":"Evidenziazione della sintassi per i blocchi di codice"},"bar":{"bar_settings":{"title":"Impostazioni barra","desc":"Configura come viene calcolata e visualizzata la percentuale della barra."},"perc_type":{"entity":"Entità (0-100)","attribute":"Attributo entità","difference":"Differenza","template":"Modello"},"attribute_section":{"title":"Configurazione attributo entità","desc":"Configura le impostazioni dell\'attributo dell\'entità"},"attribute_entity":"Entità attributo","attribute_entity_desc":"Seleziona l\'entità che contiene l\'attributo con il valore percentuale","attribute_name":"Nome attributo","attribute_name_desc":"Inserisci il nome dell\'attributo che contiene il valore percentuale (es., \\"battery_level\\")","diff_section":{"title":"Configurazione calcolo differenza","desc":"Configura le impostazioni del calcolo della differenza"},"current_entity":"Entità valore attuale","current_entity_desc":"Entità che rappresenta la quantità attuale/utilizzata (es., carburante usato, batteria consumata)","total_entity":"Entità valore totale","total_entity_desc":"Entità che rappresenta la quantità totale/massima (es., capacità serbatoio, capacità batteria)","template_section":{"title":"Configurazione modello","desc":"Configura le impostazioni del modello"},"percentage_template":"Modello percentuale","percentage_template_desc":"Inserisci un modello Jinja2 che restituisca un numero tra 0 e 100 per la percentuale. Esempio: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Configurazione attributo entità","desc":"Configura le impostazioni dell\'attributo dell\'entità","attribute_entity":"Entità attributo","attribute_entity_desc":"Seleziona l\'entità che contiene l\'attributo con il valore percentuale","attribute_name":"Nome attributo","attribute_name_desc":"Inserisci il nome dell\'attributo che contiene il valore percentuale (es., \\"battery_level\\")"},"diff_config":{"title":"Configurazione calcolo differenza","desc":"Configura le impostazioni del calcolo della differenza","current_entity":"Entità valore attuale","current_entity_desc":"Entità che rappresenta la quantità attuale/utilizzata (es., carburante usato, batteria consumata)","total_entity":"Entità valore totale","total_entity_desc":"Entità che rappresenta la quantità totale/massima (es., capacità serbatoio, capacità batteria)"},"template_config":{"title":"Configurazione modello","desc":"Configura le impostazioni del modello","percentage_template":"Modello percentuale","percentage_template_desc":"Inserisci un modello Jinja2 che restituisca un numero tra 0 e 100 per la percentuale. Esempio: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Entità percentuale barra","desc_present":"L\'entità che fornisce il valore percentuale per la barra.","desc_empty":"Seleziona un\'entità che fornisce un valore percentuale (0-100). I sensori batteria sono ideali.","no_entity_warning":"Nessuna entità selezionata - Scegli un sensore con valori tra 0 e 100"},"limit_entity":{"title":"Entità valore limite (facoltativa)","desc":"Facoltativo: aggiungi una linea indicatrice verticale sulla barra (es. limite di carica per batteria EV)."},"appearance":{"title":"Aspetto barra","direction":"Direzione di riempimento","direction_desc":"Scegli la direzione in cui si riempie la barra all\'aumentare del valore.","left_to_right":"Da sinistra a destra","right_to_left":"Da destra a sinistra","height":"Altezza barra","height_desc":"Regola lo spessore della barra di avanzamento in pixel.","border_radius":"Raggio del bordo","border_radius_desc":"Controlla gli angoli arrotondati della barra.","style":"Stile barra","style_desc":"Scegli lo stile visivo della barra di avanzamento.","style_flat":"Piatto (predefinito)","style_glossy":"Lucido","style_embossed":"Rilievo","style_inset":"Incassato","style_gradient":"Sovrapposizione gradiente","style_neon":"Bagliore neon","style_outline":"Contorno","style_glass":"Vetro","style_metallic":"Metallico","style_neumorphic":"Neumorfico","style_dashed":"Tratteggiato","style_dots":"Punti","width":"Larghezza barra","width_desc":"Imposta la larghezza della barra come percentuale del contenitore.","alignment":"Allineamento barra","alignment_desc":"Scegli come allineare la barra quando è inferiore al 100% di larghezza."},"labels":{"alignment":"Allineamento etichette","alignment_desc":"Controlla come sono posizionate le etichette di sinistra e destra."},"percentage":{"title":"Visualizzazione testo percentuale","desc":"Controlla visibilità e aspetto dei valori percentuali mostrati direttamente sulla barra. Questi numeri forniscono un chiaro indicatore del livello attuale.","text_size":"Dimensione testo","text_size_desc":"Regola la dimensione del testo percentuale mostrato sulla barra.","text_alignment":"Allineamento testo percentuale"},"left":{"title":"Lato sinistro","desc":"Configura il titolo e il valore dell\'entità mostrati sul lato sinistro della barra. Utile per etichette come \'Autonomia\' o \'Batteria\' insieme ai loro valori.","title_size":"Dimensione titolo","value_size":"Dimensione valore","template_mode":"Modalità modello","template_desc":"Usa un modello per formattare il valore mostrato. I modelli usano la sintassi Jinja2 di Home Assistant.","value_template":"Modello valore","value_template_desc":"Modello per formattare il valore del lato sinistro usando la sintassi Jinja2","enable_toggle":"Abilita l\'interruttore sopra per configurare le impostazioni del lato sinistro"},"right":{"title":"Lato destro","desc":"Configura il titolo e il valore dell\'entità mostrati sul lato destro della barra. Ideale per informazioni complementari come \'Tempo al pieno\' o misurazioni secondarie.","title_size":"Dimensione titolo","value_size":"Dimensione valore","template_mode":"Modalità modello","template_desc":"Usa un modello per formattare il valore mostrato. I modelli usano la sintassi Jinja2 di Home Assistant.","value_template":"Modello valore","value_template_desc":"Modello per formattare il valore del lato destro usando la sintassi Jinja2","enable_toggle":"Abilita l\'interruttore sopra per configurare le impostazioni del lato destro"},"colors":{"title":"Colori","bar_color":"Colore barra","background_color":"Colore sfondo","border_color":"Colore bordo","limit_indicator":"Indicatore limite","percentage_text":"Testo percentuale","left_side":"Colori lato sinistro","right_side":"Colori lato destro","title_color":"Colore titolo","value_color":"Colore valore"},"gradient":{"title":"Modalità gradiente","desc":"Applica un gradiente di colore al riempimento della barra. Quando abilitato, scegli come visualizzare il gradiente e personalizza i punti colore qui sotto.","full":"Completo","cropped":"Ritagliato","value_based":"Basato sul valore"},"animation":{"title":"Animazione barra","desc":"Anima il riempimento della barra usando preset come strisce di carica, impulso, bagliore e altro. Puoi attivare animazioni in base allo stato o all\'attributo di un\'entità e, facoltativamente, sovrascrivere l\'animazione quando si verifica un\'altra condizione.","trigger":{"title":"Trigger animazione","desc":"Seleziona un\'entità da osservare e definisci valore + animazione da applicare quando corrisponde.","entity_desc":"Entità da valutare per il trigger dell\'animazione","type":"Tipo di trigger","type_desc":"Scegli se confrontare lo stato dell\'entità o un attributo","attribute_name_desc":"Nome attributo da confrontare (es., charging_status)","match_value":"Valore di corrispondenza","match_value_desc":"Testo da confrontare con stato o attributo (il confronto è testuale)."},"type":"Tipo di animazione","type_desc":"Seleziona come deve animarsi la barra quando attivata.","types":{"charging":"Carica (linee diagonali)","pulse":"Impulso","blinking":"Lampeggiante","bouncing":"Rimbalzante","glow":"Bagliore","rainbow":"Arcobaleno","bubbles":"Bolle","fill":"Riempimento","ripple":"Increspatura","traffic":"Traffic (asta da barbiere)","heartbeat":"Battito cardiaco","flicker":"Sfarfallio","shimmer":"Sbrilluccichio","vibrate":"Vibrare"},"override":{"title":"Sostituzione animazione dell\'azione","desc":"Seleziona un\'entità azione e uno stato per definire quando questa animazione deve sostituire quella normale","entity_desc":"Entità da valutare per il trigger di sostituzione","type_desc":"Animazione da usare quando la condizione di sostituzione corrisponde.","attribute_name_desc":"Nome attributo da confrontare","match_value":"Valore di corrispondenza per sostituzione","match_value_desc":"Confronto testuale con stato o attributo","type":"Tipo di animazione di sostituzione"}}},"image":{"settings":"Impostazioni immagine","source_type":"Tipo di sorgente immagine","source_type_desc":"Scegli come specificare la sorgente dell\'immagine.","source":{"default":"Immagine predefinita","url":"URL immagine","upload":"Carica immagine","entity":"Immagine entità","attribute":"Attributo entità"},"url_section":{"title":"Configurazione URL immagine"},"image_url":"URL immagine","image_url_desc":"Inserisci l\'URL diretto dell\'immagine che vuoi visualizzare.","upload_section":{"title":"Configurazione caricamento immagine"},"upload":"Carica immagine","upload_desc":"Clicca per caricare un file immagine dal tuo dispositivo.","entity_section":{"title":"Configurazione immagine entità"},"entity":"Entità","entity_desc":"Seleziona un\'entità che abbia un\'immagine (es., persona, camera).","attribute_section":{"title":"Configurazione attributo entità"},"entity_attr_desc":"Seleziona l\'entità che contiene l\'URL dell\'immagine in uno dei suoi attributi.","attribute_name":"Nome attributo","attribute_name_desc":"Inserisci il percorso dell\'attributo che contiene l\'URL dell\'immagine (supportata notazione a punti, es., vehicle_data.vehicleDetails.generalDashboard).","width":"Larghezza (%)","width_desc":"Imposta la larghezza come percentuale del contenitore.","height":"Altezza (px)","height_desc":"Imposta l\'altezza in pixel.","crop_fit":"Ritaglia e adatta","crop_fit_desc":"Controlla come l\'immagine si adatta al suo contenitore.","fit":{"cover":"Copri (ritaglia per riempire)","contain":"Contieni (adatta l\'intera immagine)","fill":"Riempi (stira per adattare)","scale_down":"Riduci","none":"Nessuno (dimensione originale)"},"border_radius":"Raggio del bordo","border_radius_desc":"Controlla gli angoli arrotondati dell\'immagine.","tap_actions":"Azioni al tocco","filters":"Filtri","filter":{"blur":"Sfocatura","blur_desc":"Applica un effetto di sfocatura alla tua immagine.","brightness":"Luminosità (%)","brightness_desc":"Regola la luminosità della tua immagine.","contrast":"Contrasto (%)","contrast_desc":"Modifica il contrasto della tua immagine.","saturation":"Saturazione (%)","saturation_desc":"Regola la saturazione della tua immagine."},"hover":{"title":"Effetti hover","effect_type":"Tipo di effetto","effect_type_desc":"Scegli il tipo di effetto hover.","scale":"Scala (zoom avanti/indietro)","rotate":"Ruota","fade":"Dissolvenza (variazione opacità)","blur":"Sfocatura","brightness":"Luminosità","glow":"Bagliore (ombra)","slide":"Scorri (traslazione)","scale_amount":"Scala (%)","scale_amount_desc":"Regola la scala dell\'immagine al passaggio del mouse.","rotate_amount":"Rotazione (°)","rotate_amount_desc":"Ruota l\'immagine al passaggio del mouse.","opacity":"Opacità (%)","opacity_desc":"Cambia l\'opacità dell\'immagine al passaggio del mouse.","blur_amount":"Sfocatura (px)","blur_amount_desc":"Applica un effetto di sfocatura all\'immagine al passaggio del mouse.","brightness_amount":"Luminosità (%)","brightness_amount_desc":"Regola la luminosità dell\'immagine al passaggio del mouse.","glow_intensity":"Intensità bagliore","glow_intensity_desc":"Scegli l\'intensità dell\'effetto bagliore al passaggio del mouse.","glow_light":"Bagliore leggero","glow_medium":"Bagliore medio","glow_heavy":"Bagliore intenso","glow_custom":"Ombra personalizzata","translate_x":"Orizzontale (px)","translate_x_desc":"Trasla l\'immagine orizzontalmente al passaggio del mouse.","translate_y":"Verticale (px)","translate_y_desc":"Trasla l\'immagine verticalmente al passaggio del mouse."},"alt":"Immagine","no_source":"Nessuna sorgente immagine configurata"},"graphs":{"chart_type":{"title":"Tipo di grafico","type":"Tipo","desc":"Seleziona lo stile di visualizzazione per i tuoi dati."},"types":{"line":"Grafico a linee","bar":"Grafico a barre","pie":"Grafico a torta","donut":"Grafico ad anello"},"data_sources":{"title":"Sorgenti dati","no_entities":"Nessuna entità aggiunta","add_first_entity":"Aggiungi la tua prima entità per creare un grafico","add_entity":"Aggiungi entità"},"entity":"Entità","line":{"show_points":"Mostra punti","fill_area":"Riempimento area","line_width":"Spessore linea","line_style":"Stile linea"},"line_styles":{"solid":"Pieno","dashed":"Tratteggiato","dotted":"Punteggiato"},"display":{"title":"Opzioni di visualizzazione","show_title":"Mostra titolo grafico","show_value":"Mostra valore grafico","chart_title":"Titolo grafico","chart_title_placeholder":"Inserisci il titolo del grafico","time_period":"Periodo","time_period_desc":"Quanti dati storici mostrare.","normalize_values":"Normalizza i valori sulla stessa scala","normalize_desc":"Utile quando si confrontano entità con unità diverse (es., % vs miglia)","chart_height":"Altezza grafico","chart_width":"Larghezza grafico (%)","chart_width_desc":"Percentuale della larghezza disponibile del modulo. L\'allineamento controlla il posizionamento.","chart_alignment":"Allineamento grafico","chart_alignment_desc":"Allineamento del grafico all\'interno del suo contenitore.","info_position":"Posizione info","info_position_desc":"Posizione della sovrapposizione che mostra nome/valore.","legend_position":"Posizione legenda","legend_position_desc":"Dove posizionare la legenda quando abilitata.","background_color":"Colore sfondo","chart_options":"Opzioni grafico","show_legend":"Mostra legenda","show_grid":"Mostra griglia","smooth_lines":"Linee smussate","show_tooltips":"Mostra suggerimenti","add_slice_gap":"Aggiungi spazio tra le fette"},"agg":{"mean":"Media","sum":"Somma","min":"Minimo","max":"Massimo","median":"Mediana","first":"Primo valore","last":"Ultimo valore","count":"Conteggio","delta":"Variazione"},"position":{"top":"Alto","bottom":"Basso","left":"Sinistra","right":"Destra","hidden":"Nascosto","top_left":"In alto a sinistra","top_right":"In alto a destra","bottom_left":"In basso a sinistra","bottom_right":"In basso a destra","middle":"Centro","center":"Centro"},"pie":{"show_title":"Mostra titolo nella fetta","show_value":"Mostra valore nella fetta"},"period":{"1h":"Ultima ora","3h":"Ultime 3 ore","6h":"Ultime 6 ore","12h":"Ultime 12 ore","24h":"Ultime 24 ore","2d":"Ultimi 2 giorni","7d":"Ultima settimana","30d":"Ultimo mese","90d":"Ultimi 3 mesi","365d":"Ultimo anno"},"reset_345":"Ripristina predefinito (345px)","reset_100":"Ripristina predefinito (100%)","entity_desc":"Seleziona un\'entità da tracciare.","display_name_optional":"Nome visualizzato (facoltativo)","use_as_card_info":"Usa come info scheda","attribute":"Attributo","attribute_desc":"Usa lo stato dell\'entità o seleziona un attributo specifico da tracciare.","attribute_state_default":"Stato (predefinito)","show_points":"Mostra punti","fill_area":"Riempimento area","line_style":"Stile linea","line_solid":"Pieno","line_dashed":"Tratteggiato","line_dotted":"Punteggiato","pie_show_title":"Mostra titolo nella fetta","pie_show_value":"Mostra valore nella fetta","expand_options":"Espandi opzioni","no_entities":"Nessuna entità aggiunta","add_first_entity":"Aggiungi la tua prima entità per creare un grafico","add_entity":"Aggiungi entità","display_options":{"title":"Opzioni di visualizzazione"},"show_title":"Mostra titolo grafico","show_value":"Mostra valore grafico","chart_title":"Titolo grafico","chart_title_placeholder":"Inserisci il titolo del grafico","time_period":"Periodo","time_period_desc":"Quanti dati storici mostrare.","normalize_values":"Normalizza i valori sulla stessa scala","normalize_desc":"Utile quando si confrontano entità con unità diverse (es., % vs miglia)","chart_height":"Altezza grafico","chart_width":"Larghezza grafico (%)"},"info":{"entity_section":{"title":"CONFIGURAZIONE ENTITÀ"},"entity":"Entità","entity_desc":"Seleziona l\'entità da visualizzare","icon_section":{"title":"Impostazioni icona"},"show_icon":"Mostra icona","show_icon_desc":"Mostra un\'icona accanto al valore dell\'entità","icon":"Icona","icon_desc":"Scegli un\'icona da visualizzare","icon_color":"Colore icona","name_section":{"title":"Impostazioni nome"},"show_name":"Mostra nome","show_name_desc":"Mostra il nome dell\'entità sopra il valore","custom_name":"Nome personalizzato","custom_name_desc":"Sostituisci il nome dell\'entità con un nome personalizzato","name_color":"Colore nome","state_section":{"title":"Impostazioni stato"},"show_state":"Mostra stato","show_state_desc":"Mostra lo stato/valore dell\'entità","show_units":"Mostra unità","show_units_desc":"Mostra l\'unità di misura (se disponibile)","state_color":"Colore stato","template":{"title":"Modalità modello","desc":"Usa un modello per formattare il valore dell\'entità. I modelli consentono di utilizzare la sintassi di templating di Home Assistant per formattazioni complesse.","mode":"Modalità modello","mode_desc":"Usa la sintassi di templating di Home Assistant per formattare il valore","value":"Modello valore","value_desc":"Modello per formattare il valore dell\'entità usando la sintassi Jinja2"},"size_section":{"title":"Impostazioni dimensioni"},"icon_size":"Dimensione icona","icon_size_desc":"Dimensione dell\'icona in pixel","name_size":"Dimensione nome","name_size_desc":"Dimensione del testo del nome dell\'entità in pixel","value_size":"Dimensione valore","value_size_desc":"Dimensione del testo del valore dell\'entità in pixel","icon_gap":"Spazio icona","icon_gap_desc":"Spazio tra icona e contenuto in pixel","layout_section":{"title":"Layout e posizionamento"},"icon_position":"Posizione icona","overall_alignment":"Allineamento generale","icon_alignment":"Allineamento icona","content_alignment":"Allineamento contenuto","examples_title":"Esempi comuni:","example_basic":"Valore base","example_units":"Con unità","example_round":"Arrotonda a 1 decimale"},"button":{"basic":{"title":"Impostazioni di base","desc":"Configura l\'aspetto del pulsante e il contenuto del testo."},"text":{"title":"Testo pulsante","desc":"Testo da visualizzare sul pulsante (lascia vuoto per solo icona)."},"style":{"title":"Stile pulsante","desc":"Stile visivo del pulsante"},"alignment":{"title":"Allineamento","desc":"Come il pulsante è allineato nel suo contenitore"},"styles":{"flat":"Piatto (predefinito)","glossy":"Lucido","embossed":"In rilievo","inset":"Incassato","gradient_overlay":"Sovrapposizione gradiente","neon_glow":"Bagliore neon","outline":"Contorno","glass":"Vetro","metallic":"Metallico"},"align":{"left":"Sinistra","center":"Centro","right":"Destra","justify":"Giustifica (larghezza piena)"},"icon":{"title":"Impostazioni icona","desc":"Configura visualizzazione e posizionamento dell\'icona per il pulsante.","before":"Prima del testo","after":"Dopo il testo","enable_toggle_desc":"Abilita l\'interruttore sopra per configurare le impostazioni dell\'icona"},"icon_field":"Icona","show_icon":"Mostra icona","show_icon_desc":"Mostra un\'icona sul pulsante","icon_desc":"Icona da visualizzare (es., mdi:home)","icon_position":"Posizione icona","icon_position_desc":"Posizione dell\'icona rispetto al testo","colors":{"title":"Colori","background":"Colore sfondo","text":"Colore testo"},"hover":{"title":"Effetti hover","effect_type":"Tipo di effetto","effect_type_desc":"Scegli l\'effetto hover per questo pulsante.","none":"Nessuno","color":"Cambio colore","scale":"Scala","glow":"Bagliore","lift":"Sollevamento (traslazione Y)","hover_color":"Colore hover","glow_color":"Colore bagliore","enable_toggle_desc":"Abilita l\'interruttore sopra per configurare gli effetti hover"},"actions":{"type":"Tipo di azione","type_desc":"Scegli cosa accade quando si clicca il pulsante","entity":"Entità","entity_desc":"Seleziona l\'entità con cui interagire","navigation_path":"Percorso di navigazione","navigation_path_desc":"Percorso verso cui navigare (es., /dashboard/energy)","service":"Servizio","service_desc":"Servizio da chiamare (es., light.turn_on)","service_data":"Dati servizio (JSON)","service_data_desc":"Dati facoltativi da passare al servizio (formato JSON)"},"tap":{"title":"Azione al tocco","desc":"Azione da eseguire quando si tocca il pulsante"},"hold":{"title":"Azione alla pressione","desc":"Azione da eseguire quando il pulsante è tenuto premuto"},"double":{"title":"Azione al doppio tocco","desc":"Azione da eseguire quando il pulsante viene toccato due volte"}},"layout_extra":{"module_name":"Nome del modulo:","module_name_placeholder":"Assegna un nome personalizzato a questo modulo per identificarlo più facilmente nell\'editor.","module_name_help":"Assegna un nome personalizzato a questo modulo per identificarlo più facilmente nell\'editor."},"camera":{"config":{"title":"Configurazione telecamera","desc":"Configura l\'entità telecamera e le impostazioni di visualizzazione."},"entity":"Entità telecamera","entity_desc":"Seleziona l\'entità telecamera da visualizzare. Dovrebbe essere un\'entità camera o mjpeg da Home Assistant.","name":"Nome telecamera","name_desc":"Nome personalizzato per la telecamera. Lascia vuoto per usare il nome dell\'entità.","show_name":"Mostra nome telecamera","show_name_desc":"Visualizza il nome della telecamera nel feed","show_name_toggle":{"enable_toggle_desc":"Abilita l\'interruttore sopra per configurare la visualizzazione del nome della telecamera"},"name_position":{"group_title":"Posizione nome telecamera","title":"Posizione nome","desc":"Scegli dove il nome della telecamera appare come sovrapposizione sull\'immagine della telecamera.","options":{"top_left":"In alto a sinistra","top_right":"In alto a destra","center":"Centro","bottom_left":"In basso a sinistra","bottom_right":"In basso a destra"}},"display":{"title":"Impostazioni visualizzazione"},"live_view":{"title":"Vista dal vivo","desc":"Abilita per mostrare lo stream della telecamera dal vivo (richiede integrazione stream). Quando disabilitato, mostra istantanee di immagini fisse."},"auto_refresh":{"section_title":"Impostazioni aggiornamento automatico","title":"Aggiornamento automatico","desc":"Aggiorna automaticamente l\'immagine della telecamera a intervalli regolari"},"refresh_interval":{"title":"Intervallo di aggiornamento (secondi)","desc":"Quanto spesso aggiornare automaticamente l\'immagine della telecamera."},"dimensions":{"title":"Dimensioni"},"width":"Larghezza (px)","width_desc":"Imposta la larghezza del display della telecamera. Intervallo: 100-1000px","height":"Altezza (px)","height_desc":"Imposta l\'altezza del display della telecamera. Intervallo: 100-1000px","link_aspect":"Collega rapporto d\'aspetto","unlink_aspect":"Scollega rapporto d\'aspetto","aspect_linked":{"title":"Rapporto d\'aspetto collegato","desc":"Le dimensioni mantengono un rapporto {ratio}:1. Regolare una dimensione aggiorna automaticamente l\'altra per mantenere le proporzioni."},"aspect_independent":{"title":"Dimensioni indipendenti","desc":"Larghezza e altezza possono essere regolate indipendentemente. Clicca il pulsante di collegamento sopra per mantenere il rapporto d\'aspetto."},"crop":{"title":"Ritaglia e posizione","desc":"Regola il ritaglio e la posizione della vista della telecamera. Utile per focalizzare su aree specifiche o rimuovere bordi indesiderati.","left_title":"Ritaglio sinistro (%)","left_desc":"Ritaglia dal bordo sinistro. Valori più alti mostrano meno del lato sinistro.","right_title":"Ritaglio destro (%)","right_desc":"Ritaglia dal bordo destro. Valori più alti mostrano meno del lato destro.","top_title":"Ritaglio superiore (%)","top_desc":"Ritaglia dal bordo superiore. Valori più alti mostrano meno dell\'area superiore.","bottom_title":"Ritaglio inferiore (%)","bottom_desc":"Ritaglia dal bordo inferiore. Valori più alti mostrano meno dell\'area inferiore.","active_applied":"Ritagli attivi applicati","reset_all":"Reimposta tutti i ritagli"},"template":{"title":"Modalità modello","desc":"Usa un modello per impostare dinamicamente l\'entità telecamera. I modelli permettono di usare la sintassi di templating di Home Assistant per la selezione condizionale della telecamera.","mode_label":"Modalità modello","mode_desc":"Usa la sintassi di templating di Home Assistant per selezionare dinamicamente l\'entità telecamera","camera_template_label":"Modello telecamera","camera_template_desc":"Modello per impostare dinamicamente l\'entità telecamera usando la sintassi Jinja2","examples_title":"Esempi comuni:","example1_desc":"Mostra telecamera quando il tempo è soleggiato","example2_desc":"Cambia tra telecamere basato su input boolean","example3_desc":"Usa input select per scegliere l\'entità telecamera"}},"separator":{"config":{"title":"Configurazione separatore"},"style":{"title":"Stile separatore","desc":"Scegli lo stile visivo della linea di separazione."},"options":{"solid":"Linea continua","double":"Doppia linea","dotted":"Linea tratteggiata","double_dotted":"Doppio tratteggio","shadow":"Ombra","blank":"Spazio vuoto"},"appearance":{"title":"Aspetto"},"thickness":"Spessore (px)","thickness_desc":"Spessore della linea di separazione.","width":"Larghezza (%)","width_desc":"Larghezza del separatore come percentuale del contenitore.","color":{"title":"Colore","desc":"Colore della linea di separazione."},"show_title":"Mostra titolo","show_title_desc":"Aggiungi testo al centro della linea di separazione (es., ------ Testo ------)","show_title_toggle":{"enable_toggle_desc":"Abilita l\'interruttore sopra per configurare le impostazioni del titolo"},"text_content":{"title":"Contenuto testo","desc":"Testo da visualizzare al centro del separatore."},"font_size":"Dimensione carattere","font_size_desc":"Dimensione del testo in pixel.","text_color":{"title":"Colore testo","desc":"Colore del testo del separatore."},"text_format":{"title":"Formattazione testo","desc":"Applica stili di formattazione al testo del separatore.","bold":"Grassetto","italic":"Corsivo","underline":"Sottolineato","uppercase":"Maiuscolo","strikethrough":"Barrato"},"spacer":{"title":"Altezza spazio"},"height":"Altezza (px)","height_desc":"Controlla lo spazio visivo per Spazio vuoto."},"design":{"copy":"Copia","paste":"Incolla","reset_all":"Reimposta tutto","copy_tooltip":"Copia le impostazioni di design correnti (funziona su tutte le Ultra Card)","paste_tooltip_has":"Incolla le impostazioni di design copiate (dal clipboard tra schede)","paste_tooltip_none":"Nessuna impostazione di design nel clipboard tra schede","reset_all_tooltip":"Reimposta tutte le impostazioni di design ai valori predefiniti","text_section":"Testo","text_color":"Colore testo","alignment":"Allineamento","inherit_alignment":"Eredita (nessun allineamento)","font_size":"Dimensione carattere","font_size_placeholder":"16px (predefinito), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reimposta dimensione carattere predefinita","line_height":"Interlinea","line_height_placeholder":"0 (predefinito), 28px, 1.7","reset_line_height":"Reimposta interlinea predefinita","letter_spacing":"Spaziatura lettere","letter_spacing_placeholder":"auto (predefinito), 1px, -0.04em","reset_letter_spacing":"Reimposta spaziatura lettere predefinita","font":"Carattere","font_weight":"Spessore carattere","text_transform":"Trasformazione testo","font_style":"Stile carattere","default_option":"– Predefinito –","weight_thin":"100 - Sottile","weight_light":"300 - Leggero","weight_normal":"400 - Normale","weight_medium":"500 - Medio","weight_semi_bold":"600 - Semi grassetto","weight_bold":"700 - Grassetto","weight_black":"900 - Nero","transform_none":"Nessuno","transform_uppercase":"MAIUSCOLO","transform_lowercase":"minuscolo","transform_capitalize":"Iniziale maiuscola","style_normal":"Normale","style_italic":"Corsivo","style_oblique":"Obliquo","background_section":"Sfondo","background_color":"Colore sfondo","background_image_type":"Tipo immagine di sfondo","bg_none":"Nessuno","bg_upload":"Carica immagine","bg_entity":"Immagine entità","bg_url":"URL immagine","sizes_section":"Dimensioni","spacing_section":"Spaziatura","border_section":"Bordo","text_shadow_section":"Ombra testo","box_shadow_section":"Ombra del riquadro","position_section":"Posizione","overflow_section":"Overflow","animations_section":"Animazioni","width":"Larghezza","height":"Altezza","max_width":"Larghezza max","max_height":"Altezza max","min_width":"Larghezza min","min_height":"Altezza min","border_radius":"Raggio del bordo","border_style":"Stile bordo","border_width":"Spessore bordo","border_color":"Colore bordo","margin":"Margine","padding":"Spaziatura interna","top":"Alto","right":"Destra","bottom":"Basso","left":"Sinistra","unlock_sides":"Sblocca per modificare i lati indipendentemente","lock_sides":"Blocca per modificare tutti i lati insieme","horizontal_shift":"Spostamento orizzontale","vertical_shift":"Spostamento verticale","blur":"Sfocatura","text_shadow_color":"Colore ombra testo","box_shadow_color":"Colore ombra riquadro","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Carica immagine di sfondo","bg_image_entity":"Entità immagine di sfondo","bg_image_url":"URL immagine di sfondo","choose_file":"Scegli file","no_file_chosen":"Nessun file selezionato","backdrop_filter":"Filtro sfondo","spread":"Diffusione","visible_default":"Visibile (predefinito)","examples":"Esempi","state_based_animation":"Animazione basata sullo stato","animation_type":"Tipo di animazione","animation_duration":"Durata animazione","animation_duration_desc":"Durata dell\'animazione (es., 2s, 500ms, 1.5s)","intro_outro_animations":"Animazioni di entrata e uscita","intro_animation":"Animazione di entrata","outro_animation":"Animazione di uscita","duration":"Durata","delay":"Ritardo","timing":"Temporizzazione","none":"Nessuno","ease":"Ease","border_style_none":"Nessuno","border_style_solid":"Pieno","border_style_dashed":"Tratteggiato","border_style_dotted":"Punteggiato","border_style_double":"Doppio","position_default":"– Predefinito –","position_static":"Statico","position_relative":"Relativo","position_absolute":"Assoluto","position_fixed":"Fisso","position_sticky":"Adesivo"},"modules":{"text":"Modulo testo","image":"Modulo immagine","icon":"Modulo icona","bar":"Modulo barra","info":"Modulo info","button":"Modulo pulsante","separator":"Modulo separatore","markdown":"Modulo Markdown","camera":"Modulo telecamera","graphs":"Modulo grafici","no_text_configured":"Nessun testo configurato","no_image_configured":"Nessuna immagine configurata","uploaded_image":"Immagine caricata","icons_configured":"{count} icone configurate","no_icons_configured":"Nessuna icona configurata","default_entity_suggestion":"Entità: sensor.battery_level","sample_text":"Testo di esempio"}}}');var b=i.t(v,2);const f=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbygger","settings":"Innstillinger","about":"Om"},"settings":{"title":"Kortinnstillinger","description":"Konfigurer global kortutseende og oppførsel."},"appearance":{"title":"Utseende","description":"Kontroller det visuelle utseendet til kortet ditt"},"spacing":{"title":"Avstand","description":"Kontroller avstanden og posisjoneringen til kortet ditt"},"fields":{"card_background_color":"Kort bakgrunnsfarge","card_background_color_desc":"Bakgrunnsfargen til hele kortet","border_radius":"Kantradius","border_radius_desc":"Avrundede hjørner for kortet (i piksler)","card_padding":"Kort polstring","card_padding_desc":"Intern avstand innenfor kortet","card_margin":"Kort marg","card_margin_desc":"Ekstern avstand rundt kortet","unit_px":"px","reset_default":"Tilbakestill til standard","reset_default_value":"Tilbakestill til standard ({value})"},"tooltips":{"enter_fullscreen":"Gå til fullskjerm","return_dashboard":"Tilbake til dashbord","dashboard":"Dashbord"},"layout":{"live_preview":"Live forhåndsvisning","toggle_preview":"Veksle forhåndsvisning","drag_to_move_module":"Dra for å flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliser modul","delete_module":"Slett modul","drag_to_move_layout":"Dra for å flytte layoutmodul","horizontal_layout":"Horisontal layout","vertical_layout":"Vertikal layout","add_module_to_layout":"Legg til modul i layout","layout_settings":"Layoutinnstillinger","duplicate_layout":"Dupliser layout","delete_layout":"Slett layout","click_to_add_module":"Klikk for å legge til en modul","drop_modules_here":"Slipp moduler her","drag_to_reorder":"Dra for å endre rekkefølge","edit_child_module":"Rediger undermodul","duplicate_child_module":"Dupliser undermodul","delete_child_module":"Slett undermodul","module_settings_title":"Modulinnstillinger","general_tab":"Generelt","actions_tab":"Handlinger","other_tab":"Annet","logic_tab":"Logikk","design_tab":"Design","drag_to_resize":"Dra for å endre størrelse","hidden_by_logic":"Skjult av logikk","child_module_settings_title":"Undermodulinnstillinger","add_row":"Legg til rad","add_row_tooltip":"Legg til en ny rad til layoutet ditt","row_settings":"Radinnstillinger","column_settings":"Kolonneinnstillinger","row_background_color":"Rad bakgrunnsfarge","column_gap":"Kolonneavstand (px)","vertical_alignment":"Vertikal justering","horizontal_alignment":"Horisontal justering","column_preview":"Kolonneforhåndsvisning","modules_count":"{count} moduler","alignment_top":"Topp","alignment_center":"Senter","alignment_bottom":"Bunn","alignment_stretch":"Strekk","alignment_left":"Venstre","alignment_right":"Høyre"},"about":{"developed_by":"Utviklet av","desc1":"En kraftig modulær kortbygger for Home Assistant","desc2":"Lag tilpassede layouter med et profesjonelt sidebygger-grensesnitt","desc3":"Modulært layoutsystem med betinget logikk og profesjonelle designverktøy","github_repo":"GitHub-repositorium","version":"Versjon","join_discord":"Bli med på vår Discord","support_title":"Støtt Ultra Card","support_desc":"Dine sjenerøse tips driver utviklingen av fantastiske funksjoner for dette kortet! Uten støtte fra brukere som deg, ville fortsatt innovasjon ikke vært mulig.","leave_tip":"GI ET TIPS (PAYPAL)"},"actions":{"title":"Handlingskonfigurasjon","description":"Konfigurer hvordan denne modulen reagerer på brukerinteraksjoner. Bruker Home Assistants innebygde handlingssystem for konsistent oppførsel på dashbordet ditt.","tap_action":"Trykk-handling","tap_action_desc":"Handling utført ved å trykke/klikke på modulen","hold_action":"Hold-handling","hold_action_desc":"Handling utført ved å holde nede på modulen","double_tap_action":"Dobbelttrykk-handling","double_tap_action_desc":"Handling utført ved dobbelttrykking på modulen","tap_behavior":"Trykk-oppførsel","tap_behavior_desc":"Handling å utføre når elementet trykkes/klikkes.","hold_behavior":"Hold-oppførsel","hold_behavior_desc":"Handling å utføre når elementet trykkes og holdes.","double_tap_behavior":"Dobbelttrykk-oppførsel","double_tap_behavior_desc":"Handling å utføre når elementet dobbeltrykkes/klikkes."},"icon":{"entity_config":{"title":"ENTITETSKONFIGURASJON","desc":"Konfigurer entiteten og aktive/inaktive tilstander"},"entity":"Entitet","entity_desc":"Velg entiteten dette ikonet representerer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsverdi ansett som \\"inaktiv\\" (la stå tom for å bruke faktisk entitetstilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsverdi ansett som \\"aktiv\\" (la stå tom for å bruke faktisk entitetstilstand)","active_animation":"Aktiv animasjon","active_animation_desc":"Animasjon når ikon er aktiv","active_icon":"Aktivt ikon","active_icon_background":"Aktivt ikon bakgrunn","active_icon_background_color":"Aktivt ikon bakgrunnsfarge","active_icon_color":"Aktivt ikon farge","active_icon_desc":"Ikon å vise når aktiv","active_name":"Aktivt navn","active_name_color":"Aktivt navn farge","active_name_desc":"Tilpasset navn når aktiv","active_state_color":"Aktiv tilstandsfarge","active_state_text":"Aktiv tilstandstekst","animation_bounce":"Hopp","animation_fade":"Fade","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter høyre","animation_scale":"Skaler","animation_section":{"desc":"Konfigurer animasjoner for aktive og inaktive tilstander","title":"Ikonanimasjon"},"animation_shake":"Rist","animation_spin":"Snurr","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Bakgrunnsfarge når aktiv","background_color_inactive":"Bakgrunnsfarge når inaktiv","background_section":{"desc":"Konfigurer inaktive bakgrunnsinnstillinger","title":"Inaktiv bakgrunn"},"background_shape_active":"Bakgrunnsform når aktiv","background_shape_inactive":"Bakgrunnsform når inaktiv","custom_active_name":"Tilpasset aktivt navn","custom_active_name_desc":"Overstyr entitetsnavn når aktiv (la stå tom for å bruke entitetsnavn)","custom_active_state":"Tilpasset aktiv tilstand","custom_active_state_desc":"Tilpasset tekst når aktiv (la stå tom for å bruke faktisk tilstand)","custom_inactive_name":"Tilpasset inaktivt navn","custom_inactive_name_desc":"Overstyr entitetsnavn når inaktiv (la stå tom for å bruke entitetsnavn)","custom_inactive_state":"Tilpasset inaktiv tilstand","custom_inactive_state_desc":"Tilpasset tekst når inaktiv (la stå tom for å bruke faktisk tilstand)","icon_color_active":"Farge når aktiv","icon_color_inactive":"Farge når inaktiv","icon_section":{"title":"Ikonkonfigurasjon"},"icon_size_active":"Ikonstørrelse når aktiv","icon_size_inactive":"Ikonstørrelse når inaktiv","inactive_animation":"Inaktiv animasjon","inactive_animation_desc":"Animasjon når ikon er inaktiv","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Inaktivt ikon bakgrunn","inactive_icon_background_color":"Inaktivt ikon bakgrunnsfarge","inactive_icon_color":"Inaktivt ikon farge","inactive_icon_config":"Konfigurasjon av inaktivt ikon","inactive_icon_config_desc":"Konfigurer innstillinger for inaktivt ikon","inactive_icon_desc":"Ikon å vise når inaktiv","inactive_name":"Inaktivt navn","inactive_name_color":"Inaktivt navn farge","inactive_name_config":"Konfigurasjon av inaktivt navn","inactive_name_config_desc":"Konfigurer innstillinger for inaktivt navn","inactive_name_desc":"Tilpasset navn når inaktiv","inactive_state_color":"Inaktiv tilstandsfarge","inactive_state_config":"Konfigurasjon av inaktiv tilstand","inactive_state_config_desc":"Konfigurer innstillinger for inaktiv tilstand","inactive_state_text":"Inaktiv tilstandstekst","name_color_active":"Navnefarge når aktiv","name_color_inactive":"Navnefarge når inaktiv","name_section":{"title":"Navnekonfigurasjon"},"name_size_active":"Navnetekststørrelse når aktiv","name_size_inactive":"Navnetekststørrelse når inaktiv","state_color_active":"Tilstandsfarge når aktiv","state_color_inactive":"Tilstandsfarge når inaktiv","state_section":{"title":"Tilstandskonfigurasjon"},"state_size_active":"Tilstandstekststørrelse når aktiv","state_size_inactive":"Tilstandstekststørrelse når inaktiv","template":"Mal","template_mode":"Avansert malmodus","template_section":{"desc":"Bruk Jinja2-maler for avansert ikonkontroll. Maler kan kontrollere synlighet (sant/usant for å vise/skjule ikoner) og tilpasse tilstandstekst. Returner tilpasset tekst for aktiv tilstand, returner faktisk entitetstilstand for inaktiv tilstand.","title":"Avansert malmodus"}},"text":{"content_section":{"title":"Innholdskonfigurasjon","desc":"Konfigurer tekstinnholdet og grunnleggende innstillinger for denne modulen."},"text_content":"Tekstinnhold","text_content_desc":"Skriv inn tekstinnholdet som skal vises i denne modulen.","icon_section":{"title":"Ikonkonfigurasjon","desc":"Velg et ikon som skal vises sammen med tekstinnholdet."},"icon":"Ikon","icon_desc":"Velg et ikon som skal vises sammen med teksten. La stå tom for ingen ikon.","icon_position":"Ikonposisjon","icon_position_desc":"Velg hvor ikonet skal plasseres i forhold til teksten.","before_text":"Før tekst","after_text":"Etter tekst","template_mode":"Malmodus","template_mode_desc":"Bruk Home Assistant-malsyntaks for å gjengi tekst","value_template":"Verdimal","value_template_desc":"Mal for å gjengi teksten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_percent":"Med prosent"},"bar":{"bar_settings":{"title":"Stolpeinnstillinger","desc":"Konfigurer hvordan stolpeprosenten beregnes og vises."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattributt","difference":"Forskjell","template":"Mal"},"attribute_section":{"title":"Konfigurasjon av entitetsattributt","desc":"Konfigurer entitetsattributtinnstillinger"},"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet på attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","diff_section":{"title":"Konfigurasjon av forskjellsberegning","desc":"Konfigurer innstillinger for forskjellsberegning"},"current_entity":"Nåværende verdi-entitet","current_entity_desc":"Entitet som representerer nåværende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)","template_section":{"title":"Malkonfigurasjon","desc":"Konfigurer malinnstillinger"},"percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer stolpefyllet ved hjelp av forhåndsinnstillinger som ladestiper, puls, glød og mer. Du kan utløse animasjoner basert på en entitets tilstand eller attributt, og eventuelt overstyre animasjonen når en annen betingelse er oppfylt.","override":{"attribute_name_desc":"Attributtnavn å sammenligne","desc":"Velg en handlingsentitet og tilstand for å definere når denne animasjonen skal overstyre den vanlige animasjonen","entity_desc":"Entitet å evaluere for overstyring av utløser","match_value":"Overstyr samsvarverdi","match_value_desc":"Tekstsammenligning mot tilstand eller attributt","title":"Overstyring av handlingsanimasjon","type":"Overstyr animasjonstype","type_desc":"Animasjon å bruke når overstyringsbetingelsen samsvarer."},"title":"Stolpeanimasjon","trigger":{"attribute_name_desc":"Attributtnavn å sammenligne (f.eks. charging_status)","desc":"Velg en entitet å overvåke og definer verdien + animasjonen å bruke når den samsvarer.","entity_desc":"Entitet å evaluere for animasjonsutløser","match_value":"Samsvarverdi","match_value_desc":"Tekst å sammenligne mot tilstand eller attributt (sammenligning er tekstbasert).","title":"Animasjonsutløser","type":"Utløsertype","type_desc":"Velg om du vil sammenligne entitetstilstand eller et attributt"},"type":"Animasjonstype","type_desc":"Velg hvordan stolpen skal animeres når utløst.","types":{"blinking":"Blinkende","bouncing":"Hoppende","bubbles":"Bobler","charging":"Lading (diagonale linjer)","fill":"Fyll","flicker":"Flimmer","glow":"Glød","heartbeat":"Hjerteslag","pulse":"Puls","rainbow":"Regnbue","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafikk (barberstang)","vibrate":"Vibrer"}},"appearance":{"alignment":"Stolpejustering","alignment_desc":"Velg hvordan stolpen skal justeres når den er mindre enn 100% bredde.","border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjørnene til stolpen.","height":"Stolpehøyde","height_desc":"Juster tykkelsen til fremdriftsstolpen i piksler.","style":"Stolpestil","style_dashed":"Stiplet","style_desc":"Velg den visuelle stilen til fremdriftsstolpen.","style_dots":"Dots","style_embossed":"Preget","style_flat":"Flat (standard)","style_glass":"Glass","style_glossy":"Blank","style_gradient":"Gradientoverlegg","style_inset":"Innfelt","style_metallic":"Metallisk","style_neon":"Neonglød","style_neumorphic":"Neumorfisk","style_outline":"Omriss","title":"Stolpeutseende","direction":"Fylleretning","direction_desc":"Velg retningen stolpen fyller seg i når verdien øker.","left_to_right":"Venstre til høyre","right_to_left":"Høyre til venstre","width":"Stolpebredde","width_desc":"Sett stolpebredden som prosent av beholder."},"attr_config":{"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet på attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","desc":"Konfigurer entitetsattributtinnstillinger","title":"Konfigurasjon av entitetsattributt"},"colors":{"background_color":"Bakgrunnsfarge","bar_color":"Stolpefarge","border_color":"Kantfarge","left_side":"Venstre side farger","limit_indicator":"Grenseindikator","percentage_text":"Prosenttekst","right_side":"Høyre side farger","title":"Farger","title_color":"Tittelfarge","value_color":"Verdifarge"},"diff_config":{"current_entity":"Nåværende verdi-entitet","current_entity_desc":"Entitet som representerer nåværende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","desc":"Konfigurer innstillinger for forskjellsberegning","title":"Konfigurasjon av forskjellsberegning","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)"},"entity":{"desc_empty":"Velg en entitet som gir en prosentverdi (0-100). Batterisensorer er ideelle for stolper.","desc_present":"Entiteten som gir prosentverdien for stolpen.","no_entity_warning":"Ingen entitet valgt - Velg en sensor med verdier mellom 0-100","title":"Stolpe prosent-entitet"},"gradient":{"cropped":"Beskåret","desc":"Bruk en fargegradient på stolpefyllet. Når aktivert, velg hvordan gradienten vises og tilpass fargestopp nedenfor.","full":"Full","title":"Gradientmodus","value_based":"Verdibasert"},"labels":{"alignment":"Etikettjustering","alignment_desc":"Kontroller hvordan venstre og høyre etiketter er posisjonert."},"left":{"desc":"Konfigurer tittelen og entitetsverdien vist på venstre side av stolpen. Dette er nyttig for å vise etiketter som \'Rekkevidde\' eller \'Batteri\' sammen med deres verdier.","enable_toggle":"Aktiver bryteren over for å konfigurere venstre side innstillinger","template_desc":"Bruk en mal for å formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Venstre side","title_size":"Tittelstørrelse","value_size":"Verdistørrelse","value_template":"Verdimal","value_template_desc":"Mal for å formatere venstre side verdien ved hjelp av Jinja2-syntaks"},"limit_entity":{"desc":"Valgfritt: Legg til en vertikal indikatorlinje på stolpen (f.eks. ladegrense for EV-batteri).","title":"Grenseverdi-entitet (valgfritt)"},"percentage":{"desc":"Kontroller synligheten og utseendet til prosentverdier vist direkte på stolpen. Disse tallene gir en klar visuell indikator for nåværende nivå.","text_alignment":"Prosenttekst justering","text_size":"Tekststørrelse","text_size_desc":"Juster størrelsen på prosenttekst vist på stolpen.","title":"Prosenttekst visning"},"right":{"desc":"Konfigurer tittelen og entitetsverdien vist på høyre side av stolpen. Dette er ideelt for utfyllende informasjon som \'Tid til full\' eller sekundære målinger.","enable_toggle":"Aktiver bryteren over for å konfigurere høyre side innstillinger","template_desc":"Bruk en mal for å formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Høyre side","title_size":"Tittelstørrelse","value_size":"Verdistørrelse","value_template":"Verdimal","value_template_desc":"Mal for å formatere høyre side verdien ved hjelp av Jinja2-syntaks"},"template_config":{"desc":"Konfigurer malinnstillinger","percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Malkonfigurasjon"}},"image":{"settings":"Bildeinnstillinger","source_type":"Bildekildetype","source_type_desc":"Velg hvordan du vil spesifisere bildekilden.","source":{"default":"Standardbilde","url":"Bilde-URL","upload":"Last opp bilde","entity":"Entitetsbilde","attribute":"Entitetsattributt"},"url_section":{"title":"Konfigurasjon av bilde-URL"},"image_url":"Bilde-URL","image_url_desc":"Skriv inn den direkte URL-en til bildet du vil vise.","upload_section":{"title":"Konfigurasjon av bildeopplasting"},"upload":"Last opp bilde","upload_desc":"Klikk for å laste opp en bildefil fra enheten din.","entity_section":{"title":"Konfigurasjon av entitetsbilde"},"entity":"Entitet","entity_desc":"Velg en entitet som har et bilde (f.eks. person, kameraentiteter).","attribute_section":{"title":"Konfigurasjon av entitetsattributt"},"entity_attr_desc":"Velg entiteten som inneholder bilde-URL-en i et av sine attributter.","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn attributtstien som inneholder bilde-URL-en (punktnotasjon støttet, f.eks. vehicle_data.vehicleDetails.generalDashboard).","width":"Bredde (%)","width_desc":"Sett bredden som en prosent av beholderen.","height":"Høyde (px)","height_desc":"Sett høyden i piksler.","crop_fit":"Beskjær og tilpass","crop_fit_desc":"Kontroller hvordan bildet passer innenfor sin beholder.","fit":{"cover":"Dekk (beskjær for å fylle)","contain":"Innhold (tilpass hele bildet)","fill":"Fyll (strekk for å passe)","scale_down":"Skaler ned","none":"Ingen (original størrelse)"},"border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjørnene til bildet.","tap_actions":"Trykk-handlinger","filters":"Filtre","filter":{"blur":"Uskarphet","blur_desc":"Bruk en uskarphet-effekt på bildet ditt.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrken til bildet ditt.","contrast":"Kontrast (%)","contrast_desc":"Endre kontrasten til bildet ditt.","saturation":"Metning (%)","saturation_desc":"Juster metningen til bildet ditt."},"hover":{"title":"Hover-effekter","effect_type":"Effekttype","effect_type_desc":"Velg typen hover-effekt.","scale":"Skaler (zoom inn/ut)","rotate":"Roter","fade":"Fade (gjennomsiktighetendring)","blur":"Uskarphet","brightness":"Lysstyrke","glow":"Glød (boksskygge)","slide":"Gli (oversett)","scale_amount":"Skaler (%)","scale_amount_desc":"Juster skaleringen av bildet ved hover.","rotate_amount":"Rotasjon (°)","rotate_amount_desc":"Roter bildet ved hover.","opacity":"Gjennomsiktighet (%)","opacity_desc":"Endre gjennomsiktigheten til bildet ved hover.","blur_amount":"Uskarphet (px)","blur_amount_desc":"Bruk en uskarphet-effekt på bildet ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrken til bildet ved hover.","glow_intensity":"Glødintensitet","glow_intensity_desc":"Velg intensiteten til glødeffekten ved hover.","glow_light":"Lett glød","glow_medium":"Medium glød","glow_heavy":"Kraftig glød","glow_custom":"Tilpasset skygge","translate_x":"Horisontal (px)","translate_x_desc":"Oversett bildet horisontalt ved hover.","translate_y":"Vertikal (px)","translate_y_desc":"Oversett bildet vertikalt ved hover."},"alt":"Bilde","no_source":"Ingen bildekilde konfigurert"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Velg visualiseringsstilen for dataene dine."},"types":{"line":"Linjediagram","bar":"Stolpediagram","pie":"Sektordiagram","donut":"Smultringdiagram"},"data_sources":{"title":"Datakilder","add_entity":"Add Entity","add_first_entity":"Legg til din første entitet for å lage et diagram","no_entities":"Ingen entiteter lagt til"},"entity":"Entitet","entity_desc":"Velg en entitet å plotte.","display_name_optional":"Visningsnavn (valgfritt)","use_as_card_info":"Bruk som kortinfo","attribute":"Attributt","attribute_desc":"Bruk entitetstilstand eller velg et spesifikt attributt å spore.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkter","fill_area":"Fyll område","line_style":"Linjestil","line_solid":"Hel","line_dashed":"Stiplet","line_dotted":"Prikket","pie_show_title":"Vis tittel i utsnitt","pie_show_value":"Vis verdi i utsnitt","expand_options":"Utvid alternativer","no_entities":"Ingen entiteter lagt til","add_first_entity":"Legg til din første entitet for å lage et diagram","add_entity":"Add Entity","display_options":{"title":"Visningsalternativer"},"show_title":"Vis diagramtittel","show_value":"Vis diagramverdi","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","period":{"1h":"Siste time","3h":"Siste 3 timer","6h":"Siste 6 timer","12h":"Siste 12 timer","24h":"Siste 24 timer","2d":"Siste 2 dager","7d":"Siste uke","30d":"Siste måned","90d":"Siste 3 måneder","365d":"Siste år"},"normalize_values":"Normaliser verdier til samme skala","normalize_desc":"Nyttig når du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","chart_height":"Diagramhøyde","reset_345":"Tilbakestill til standard (345px)","chart_width":"Diagrambredde (%)","reset_100":"Tilbakestill til standard (100%)","agg":{"count":"Antall","delta":"Endring","first":"Første verdi","last":"Siste verdi","max":"Maksimum","mean":"Gjennomsnitt","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Legg til utsnittgap","background_color":"Bakgrunnsfarge","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagrammet innenfor sin beholder.","chart_height":"Diagramhøyde","chart_options":"Diagramalternativer","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","chart_width":"Diagrambredde (%)","chart_width_desc":"Prosent av modulens tilgjengelige bredde. Justering styrer plassering.","info_position":"Infoposisjon","info_position_desc":"Posisjon til overlegget som viser navn/verdi.","legend_position":"Legendeposisjon","legend_position_desc":"Hvor legenden skal plasseres når aktivert.","normalize_desc":"Nyttig når du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","normalize_values":"Normaliser verdier til samme skala","show_grid":"Vis rutenett","show_legend":"Vis legende","show_title":"Vis diagramtittel","show_tooltips":"Vis verktøytips","show_value":"Vis diagramverdi","smooth_lines":"Glatte linjer","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","title":"Visningsalternativer"},"line":{"fill_area":"Fyll område","line_style":"Linjestil","line_width":"Linjebredde","show_points":"Vis punkter"},"line_styles":{"dashed":"Stiplet","dotted":"Prikket","solid":"Hel"},"pie":{"show_title":"Vis tittel i utsnitt","show_value":"Vis verdi i utsnitt"},"position":{"bottom":"Bunn","bottom_left":"Nederst til venstre","bottom_right":"Nederst til høyre","center":"Senter","hidden":"Skjult","left":"Venstre","middle":"Senter","right":"Høyre","top":"Topp","top_left":"Øverst til venstre","top_right":"Øverst til høyre"}},"button":{"basic":{"title":"Grunninnstillinger","desc":"Konfigurer knappens utseende og tekstinnhold."},"text":{"title":"Knapptekst","desc":"Tekst som skal vises på knappen (la stå tom for kun ikon)."},"style":{"title":"Knappstil","desc":"Visuell stil for knappen"},"alignment":{"title":"Justering","desc":"Hvordan knappen er justert innenfor sin beholder"},"styles":{"flat":"Flat (standard)","glossy":"Blank","embossed":"Preget","inset":"Innfelt","gradient_overlay":"Gradientoverlegg","neon_glow":"Neonglød","outline":"Omriss","glass":"Glass","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Senter","right":"Høyre","justify":"Juster (full bredde)"},"icon":{"title":"Ikoninnstillinger","desc":"Konfigurer ikonvisning og posisjonering for knappen.","before":"Før tekst","after":"Etter tekst","enable_toggle_desc":"Aktiver bryteren over for å konfigurere ikoninnstillinger"},"colors":{"title":"Farger","background":"Bakgrunnsfarge","text":"Tekstfarge"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Velg hover-effekten for denne knappen.","none":"Ingen","color":"Fargeendring","scale":"Skaler","glow":"Glød","lift":"Løft (oversett Y)","hover_color":"Hover-farge","glow_color":"Glødfarge","title":"Hover-effekter","enable_toggle_desc":"Aktiver bryteren over for å konfigurere hover-effekter"},"actions":{"type":"Handlingstype","type_desc":"Velg hva som skjer når knappen klikkes","entity":"Entitet","entity_desc":"Velg entiteten å samhandle med","navigation_path":"Navigasjonsbane","navigation_path_desc":"Bane å navigere til (f.eks. /dashboard/energy)","service":"Tjeneste","service_desc":"Tjeneste å kalle (f.eks. light.turn_on)","service_data":"Tjenestedata (JSON)","service_data_desc":"Valgfrie data å sende til tjenesten (JSON-format)"},"tap":{"title":"Trykk-handling","desc":"Handling å utføre når knappen trykkes"},"hold":{"title":"Hold-handling","desc":"Handling å utføre når knappen holdes nede"},"double":{"title":"Dobbelttrykk-handling","desc":"Handling å utføre når knappen dobbeltrykkes"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon på knappen","icon_desc":"Ikon som skal vises (f.eks. mdi:home)","icon_position":"Ikonposisjon","icon_position_desc":"Posisjon til ikonet relativt til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURASJON"},"entity":"Entitet","entity_desc":"Velg entiteten som skal vises","icon_section":{"title":"Ikoninnstillinger"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon ved siden av entitetsverdien","icon":"Ikon","icon_desc":"Velg et ikon som skal vises","icon_color":"Ikonfarge","name_section":{"title":"Navneinnstillinger"},"show_name":"Vis navn","show_name_desc":"Vis entitetsnavnet over verdien","custom_name":"Tilpasset navn","custom_name_desc":"Overstyr entitetsnavnet med et tilpasset navn","name_color":"Navnefarge","state_section":{"title":"Tilstandsinnstillinger"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/verdi","show_units":"Vis enheter","show_units_desc":"Vis måleenheten (hvis tilgjengelig)","state_color":"Tilstandsfarge","template":{"title":"Malmodus","desc":"Bruk en mal for å formatere entitetsverdien. Maler lar deg bruke Home Assistants malsyntaks for kompleks formatering.","mode":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for å formatere verdien","value":"Verdimal","value_desc":"Mal for å formatere entitetsverdien ved hjelp av Jinja2-syntaks"},"size_section":{"title":"Størrelsesinnstillinger"},"icon_size":"Ikonstørrelse","icon_size_desc":"Størrelse på ikonet i piksler","name_size":"Navnestørrelse","name_size_desc":"Størrelse på entitetsnavnteksten i piksler","value_size":"Verdistørrelse","value_size_desc":"Størrelse på entitetsverditeksten i piksler","icon_gap":"Ikonavstand","icon_gap_desc":"Avstand mellom ikon og innhold i piksler","layout_section":{"title":"Layout og posisjonering"},"icon_position":"Ikonposisjon","overall_alignment":"Overordnet justering","icon_alignment":"Ikonjustering","content_alignment":"Innholdsjustering","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_units":"Med enheter","example_round":"Avrund til 1 desimal"},"camera":{"config":{"title":"Kamerakonfigurasjon","desc":"Konfigurer kameraentiteten og visningsinnstillinger."},"entity":"Kameraentitet","entity_desc":"Velg kameraentiteten som skal vises. Dette bør være en kamera- eller mjpeg-entitet fra Home Assistant.","name":"Kameranavn","name_desc":"Tilpasset navn for kameraet. La stå tom for å bruke entitetsnavn.","show_name":"Vis kameranavn","show_name_desc":"Vis kameranavnet på feeden","name_position":{"group_title":"Kameranavn posisjon","title":"Navneposisjon","desc":"Velg hvor kameranavnet vises som et overlegg på kamerabildet.","options":{"top_left":"Øverst til venstre","top_right":"Øverst til høyre","center":"Senter","bottom_left":"Nederst til venstre","bottom_right":"Nederst til høyre"}},"display":{"title":"Visningsinnstillinger"},"live_view":{"title":"Live visning","desc":"Aktiver for å vise live kamerastrøm (krever strøm-integrasjon). Når deaktivert, vises stillbildeøyeblikksbilder."},"auto_refresh":{"section_title":"Automatiske oppdateringsinnstillinger","title":"Automatisk oppdatering","desc":"Oppdater automatisk kamerabildet med jevne mellomrom"},"refresh_interval":{"title":"Oppdateringsintervall (sekunder)","desc":"Hvor ofte kamerabildet skal oppdateres automatisk."},"dimensions":{"title":"Dimensjoner"},"width":"Bredde (px)","width_desc":"Sett bredden på kameravisningen. Område: 100-1000px","height":"Høyde (px)","height_desc":"Sett høyden på kameravisningen. Område: 100-1000px","link_aspect":"Koble størrelsesforhold","unlink_aspect":"Frakoble størrelsesforhold","aspect_linked":{"title":"Størrelsesforhold koblet","desc":"Dimensjoner opprettholder {ratio}:1 forhold. Justering av en dimensjon oppdaterer automatisk den andre for å opprettholde proporsjoner."},"aspect_independent":{"title":"Uavhengige dimensjoner","desc":"Bredde og høyde kan justeres uavhengig. Klikk på koblingknappen over for å opprettholde størrelsesforhold."},"crop":{"title":"Beskjær og posisjon","desc":"Juster beskjæringen og posisjonen til kameravisningen. Nyttig for å fokusere på spesifikke områder eller fjerne uønskede kanter.","left_title":"Venstre beskjæring (%)","left_desc":"Beskjær fra venstre kant. Høyere verdier viser mindre av venstre side.","right_title":"Høyre beskjæring (%)","right_desc":"Beskjær fra høyre kant. Høyere verdier viser mindre av høyre side.","top_title":"Topp beskjæring (%)","top_desc":"Beskjær fra topp kant. Høyere verdier viser mindre av toppområdet.","bottom_title":"Bunn beskjæring (%)","bottom_desc":"Beskjær fra bunn kant. Høyere verdier viser mindre av bunnområdet.","active_applied":"Aktive beskjæringer anvendt","reset_all":"Tilbakestill alle beskjæringer"},"template":{"title":"Malmodus","desc":"Bruk en mal for å dynamisk sette kameraentiteten. Maler lar deg bruke Home Assistants malsyntaks for betinget kameravalg.","mode_label":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for å dynamisk velge kameraentitet","camera_template_label":"Kameramal","camera_template_desc":"Mal for å dynamisk sette kameraentiteten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example1_desc":"Vis kamera når været er solrikt","example2_desc":"Bytt mellom kameraer basert på input boolean","example3_desc":"Bruk input select for å velge kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktiver bryteren over for å konfigurere kameranavn visning"}},"separator":{"config":{"title":"Separatorkonfigurasjon"},"style":{"title":"Separatorstil","desc":"Velg den visuelle stilen til separatorlinjen."},"options":{"solid":"Hel linje","double":"Dobbel linje","dotted":"Prikket linje","double_dotted":"Dobbel prikket","shadow":"Skygge","blank":"Tomt rom"},"appearance":{"title":"Utseende"},"thickness":"Tykkelse (px)","thickness_desc":"Tykkelse på separatorlinjen.","width":"Bredde (%)","width_desc":"Bredde på separatoren som prosent av beholder.","color":{"title":"Farge","desc":"Farge på separatorlinjen."},"show_title":"Vis tittel","show_title_desc":"Legg til tekst i midten av separatorlinjen (f.eks. ------ Tekst ------)","text_content":{"title":"Tekstinnhold","desc":"Tekst som skal vises i midten av separatoren."},"font_size":"Skriftstørrelse","font_size_desc":"Størrelse på teksten i piksler.","text_color":{"title":"Tekstfarge","desc":"Farge på separatorteksten."},"text_format":{"title":"Tekstformatering","desc":"Bruk formateringsstiler på separatorteksten.","bold":"Fet","italic":"Kursiv","underline":"Understreking","uppercase":"Store bokstaver","strikethrough":"Gjennomstreking"},"spacer":{"title":"Avstandshøyde"},"height":"Høyde (px)","height_desc":"Styrer det visuelle gapet for tomt rom.","show_title_toggle":{"enable_toggle_desc":"Aktiver bryteren over for å konfigurere tittelinnstillinger"}},"layout_extra":{"module_name":"Modulnavn:","module_name_placeholder":"Gi denne modulen et tilpasset navn for å gjøre det lettere å identifisere i redigereren.","module_name_help":"Gi denne modulen et tilpasset navn for å gjøre det lettere å identifisere i redigereren."},"layout_logic":{"display_title":"Vis dette elementet","display_desc":"Kontroller når dette elementet vises. Velg \\"Alltid\\" for å holde det synlig. Velg \\"Hvis ALLE betingelser nedenfor er oppfylt\\" eller \\"Hvis NOEN betingelse nedenfor er oppfylt\\" for å vise det bare når betingelsene du legger til nedenfor evalueres som sanne.","always":"Alltid","every":"Hvis ALLE betingelser nedenfor er oppfylt","any":"Hvis NOEN betingelse nedenfor er oppfylt","conditions":"Betingelser","add_condition":"Legg til betingelse","no_conditions":"Ingen betingelser lagt til ennå. Klikk \\"Legg til betingelse\\" for å komme i gang.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattributt","time":"Tidsområde","template":"Mal"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Verdi","attribute":"Attributt","time_from":"Fra","time_to":"Til","template":"Mal"},"condition_header":"Betingelse","custom_name":"Tilpasset navn","custom_name_desc":"Valgfritt: Gi denne betingelsen et tilpasset navn for enklere identifikasjon","condition_type":"Betingelsestype"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurer visuelle effekter som vises når du hover over denne modulen, raden eller kolonnen.","effect":"Hover-effekt","effect_desc":"Velg den visuelle effekten som skal brukes ved hovring","effects":{"none":"Ingen","highlight":"Uthev","outline":"Kontur","grow":"Voks","shrink":"Krympe","pulse":"Pulsere","bounce":"Sprette","float":"Flyte","glow":"Gløde","shadow":"Skygge","rotate":"Rotere","skew":"Skjevt","wobble":"Vakle","buzz":"Vibrere","fade":"Falme"}},"design":{"copy":"Kopier","paste":"Lim inn","reset_all":"Tilbakestill alt","copy_tooltip":"Kopier nåværende designinnstillinger (virker på tvers av alle Ultra Cards)","paste_tooltip_has":"Lim inn kopierte designinnstillinger (fra tverrkort-utklippstavle)","paste_tooltip_none":"Ingen designinnstillinger i tverrkort-utklippstavle","reset_all_tooltip":"Tilbakestill alle designinnstillinger til standard","text_section":"Tekst","text_color":"Tekstfarge","alignment":"Justering","inherit_alignment":"Arv (ingen justering)","font_size":"Skriftstørrelse","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Tilbakestill skriftstørrelse til standard","line_height":"Linjehøyde","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Tilbakestill linjehøyde til standard","letter_spacing":"Bokstavavstand","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Tilbakestill bokstavavstand til standard","font":"Skrifttype","font_weight":"Skriftvekt","text_transform":"Teksttransformasjon","font_style":"Skriftstil","default_option":"– Standard –","weight_thin":"100 - Tynn","weight_light":"300 - Lett","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Halvfet","weight_bold":"700 - Fet","weight_black":"900 - Svart","transform_none":"Ingen","transform_uppercase":"STORE BOKSTAVER","transform_lowercase":"små bokstaver","transform_capitalize":"Stor forbokstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skrå","background_section":"Bakgrunn","background_color":"Bakgrunnsfarge","background_image_type":"Bakgrunnsbilde type","bg_none":"Ingen","bg_upload":"Last opp bilde","bg_entity":"Entitetsbilde","bg_url":"Bilde-URL","sizes_section":"Størrelser","spacing_section":"Avstand","border_section":"Kant","text_shadow_section":"Tekstskygge","box_shadow_section":"Boksskygge","position_section":"Posisjon","overflow_section":"Overflyt","animations_section":"Animasjoner","width":"Bredde","height":"Høyde","max_width":"Maks bredde","max_height":"Maks høyde","min_width":"Min bredde","min_height":"Min høyde","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredde","border_color":"Kantfarge","margin":"Margin","padding":"Polstring","top":"Topp","right":"Høyre","bottom":"Bunn","left":"Venstre","unlock_sides":"Lås opp for å redigere sider uavhengig","lock_sides":"Lås for å redigere alle sider sammen","horizontal_shift":"Horisontal forskyvning","vertical_shift":"Vertikal forskyvning","blur":"Uskarphet","text_shadow_color":"Tekstskygge farge","box_shadow_color":"Boksskygge farge","overflow":"Overflyt","clip_path":"Klippebane","upload_bg_image":"Last opp bakgrunnsbilde","bg_image_entity":"Bakgrunnsbilde-entitet","bg_image_url":"Bakgrunnsbilde-URL","choose_file":"Velg fil","no_file_chosen":"Ingen fil valgt","backdrop_filter":"Bakgrunnsfilter","spread":"Spredning","visible_default":"Synlig (standard)","examples":"Eksempler","state_based_animation":"Tilstandsbasert animasjon","animation_type":"Animasjonstype","animation_duration":"Animation Duration","animation_duration_desc":"Varighet for animasjonen (f.eks. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outro-animasjoner","intro_animation":"Intro-animasjon","outro_animation":"Outro-animasjon","duration":"Varighet","delay":"Forsinkelse","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Hel","border_style_dashed":"Stiplet","border_style_dotted":"Prikket","border_style_double":"Double","position_default":"– Standard –","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolutt","position_fixed":"Fast","position_sticky":"Klebrig"},"modules":{"text":"Tekstmodul","image":"Bildemodul","icon":"Ikonmodul","bar":"Stolpemodul","info":"Infomodul","button":"Knappmodul","separator":"Separatormodul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Grafmodul","no_text_configured":"Ingen tekst konfigurert","no_image_configured":"Ingen bilde konfigurert","uploaded_image":"Opplastet bilde","icons_configured":"{count} ikoner konfigurert","no_icons_configured":"Ingen ikoner konfigurert","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst"},"common":{"attribute":"Attributt","attribute_name":"Attributtnavn","baseline":"Grunnlinje","bottom":"Bunn","center":"Senter","entity":"Entitet","justify":"Juster","left":"Venstre","none":"Ingen","right":"Høyre","space_around":"Plass rundt","space_between":"Plass mellom","state":"Tilstand","stretch":"Strekk","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Horisontal justering","horizontal_desc":"Velg hvordan elementer justeres horisontalt innenfor beholderen.","vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for å se dem her","no_modules":"Ingen moduler lagt til ennå"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom horisontale elementer (i rem-enheter). Bruk negative verdier for å overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres horisontalt innenfor beholderen.","title":"Layoutkonfigurasjon"},"wrapping":{"desc":"Tillat elementer å bryte til neste linje når de overskrider beholderbredden.","title":"Tillat ombrytning"}},"markdown":{"code_highlighting":"Kodemarkering","code_highlighting_desc":"Syntaksmarkering for kodeblokker","content":{"desc":"Skriv inn ditt markdown-innhold med full formateringsstøtte","label":"Innhold","title":"Markdown-innhold"},"enable_html":"Aktiver HTML","enable_html_desc":"Tillat HTML-tagger i markdown-innhold","enable_tables":"Aktiver tabeller","enable_tables_desc":"Støtte for markdown-tabellsyntaks","features":{"title":"Markdown-funksjoner"}},"vertical":{"alignment":{"vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for å se dem her","no_modules":"Ingen moduler lagt til ennå"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom vertikale elementer (i rem-enheter). Bruk negative verdier for å overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres vertikalt innenfor beholderen.","title":"Layoutkonfigurasjon"}}}}');var y=i.t(f,2);const k=JSON.parse('{"editor":{"tabs":{"layout":"Lay-outbouwer","settings":"Instellingen","about":"Over"},"settings":{"title":"Kaart instellingen","description":"Configureer globale kaart uiterlijk en gedrag."},"appearance":{"title":"Uiterlijk","description":"Beheer het visuele uiterlijk van je kaart"},"spacing":{"title":"Afstand","description":"Beheer de afstand en positionering van je kaart"},"fields":{"card_background_color":"Achtergrondkleur kaart","card_background_color_desc":"De achtergrondkleur van de hele kaart","border_radius":"Randradius","border_radius_desc":"Afgeronde hoeken van de kaart (in pixels)","card_padding":"Binnenmarge","card_padding_desc":"Interne afstand binnen de kaart","card_margin":"Buitenmarge","card_margin_desc":"Externe afstand rondom de kaart","unit_px":"px","reset_default":"Standaard herstellen","reset_default_value":"Standaard herstellen ({value})"},"tooltips":{"enter_fullscreen":"Volledig scherm","return_dashboard":"Terug naar dashboard","dashboard":"Dashboard"},"layout":{"live_preview":"Live voorvertoning","toggle_preview":"Voorvertoning schakelen","drag_to_move_module":"Sleep om module te verplaatsen","edit_module":"Module bewerken","duplicate_module":"Module dupliceren","delete_module":"Module verwijderen","drag_to_move_layout":"Sleep om lay-out te verplaatsen","horizontal_layout":"Horizontale lay-out","vertical_layout":"Verticale lay-out","add_module_to_layout":"Module aan lay-out toevoegen","layout_settings":"Lay-outinstellingen","duplicate_layout":"Lay-out dupliceren","delete_layout":"Lay-out verwijderen","click_to_add_module":"Klik om een module toe te voegen","drop_modules_here":"Zet modules hier neer","drag_to_reorder":"Sleep om te herordenen","edit_child_module":"Submodule bewerken","duplicate_child_module":"Submodule dupliceren","delete_child_module":"Submodule verwijderen","module_settings_title":"Module instellingen","general_tab":"Algemeen","actions_tab":"Acties","other_tab":"Overig","logic_tab":"Logica","design_tab":"Ontwerp","drag_to_resize":"Sleep om formaat te wijzigen","hidden_by_logic":"Verborgen door logica","child_module_settings_title":"Instellingen submodule","add_row":"Rij toevoegen","add_row_tooltip":"Voeg een nieuwe rij toe aan je lay-out","row_settings":"Rij-instellingen","column_settings":"Kolom-instellingen","row_background_color":"Achtergrondkleur rij","column_gap":"Kolomafstand (px)","vertical_alignment":"Verticale uitlijning","horizontal_alignment":"Horizontale uitlijning","column_preview":"Kolomvoorbeeld","modules_count":"{count} modules","alignment_top":"Boven","alignment_center":"Midden","alignment_bottom":"Onder","alignment_stretch":"Uitrekken","alignment_left":"Links","alignment_right":"Rechts"},"about":{"developed_by":"Ontwikkeld door","desc1":"Een krachtige modulaire kaartbouwer voor Home Assistant","desc2":"Maak aangepaste lay-outs met een professionele page-builder interface","desc3":"Modulair lay-out systeem met conditionele logica en professionele ontwerptools","github_repo":"GitHub-repository","version":"Versie","join_discord":"Word lid van onze Discord","support_title":"Steun Ultra Card","support_desc":"Jouw gulle donaties stimuleren de ontwikkeling van geweldige functies voor deze kaart! Zonder steun van gebruikers zoals jij zou voortdurende innovatie niet mogelijk zijn.","leave_tip":"GEVEN (PAYPAL)"},"actions":{"title":"Actieconfiguratie","description":"Configureer hoe deze module reageert op gebruikersinteracties. Maakt gebruik van Home Assistant\'s eigen actiesysteem voor consistent gedrag in je dashboard.","tap_action":"Tik-actie","tap_action_desc":"Actie uitgevoerd bij tikken/klikken op de module","hold_action":"Vasthoud-actie","hold_action_desc":"Actie uitgevoerd bij vasthouden op de module","double_tap_action":"Dubbel-tik actie","double_tap_action_desc":"Actie uitgevoerd bij dubbel tikken op de module","tap_behavior":"Tik-gedrag","tap_behavior_desc":"Actie die wordt uitgevoerd wanneer het element wordt getikt/geklikt.","hold_behavior":"Vasthoud-gedrag","hold_behavior_desc":"Actie die wordt uitgevoerd wanneer het element wordt ingedrukt en vastgehouden.","double_tap_behavior":"Dubbel-tik gedrag","double_tap_behavior_desc":"Actie die wordt uitgevoerd wanneer het element dubbel wordt getikt/geklikt."},"icon":{"entity_config":{"title":"ENTITEIT CONFIGURATIE","desc":"Configureer de entiteit en actieve/inactieve toestanden"},"entity":"Entiteit","entity_desc":"Selecteer de entiteit die dit icoon vertegenwoordigt","inactive_state":"Inactieve toestand","inactive_state_desc":"Toestandswaarde beschouwd als \\"inactief\\" (laat leeg om werkelijke entiteitstoestand te gebruiken)","active_state":"Actieve toestand","active_state_desc":"Toestandswaarde beschouwd als \\"actief\\" (laat leeg om werkelijke entiteitstoestand te gebruiken)","active_animation":"Actieve animatie","active_animation_desc":"Animatie wanneer icoon actief is","active_icon":"Actief icoon","active_icon_background":"Actief icoon achtergrond","active_icon_background_color":"Actief icoon achtergrondkleur","active_icon_color":"Actief icoon kleur","active_icon_desc":"Icoon om te tonen wanneer actief","active_name":"Actieve naam","active_name_color":"Actieve naam kleur","active_name_desc":"Aangepaste naam wanneer actief","active_state_color":"Actieve toestandskleur","active_state_text":"Actieve toestandstekst","animation_bounce":"Stuiter","animation_fade":"Vervagen","animation_flash":"Flits","animation_none":"Geen","animation_pulse":"Puls","animation_rotate_left":"Draai links","animation_rotate_right":"Draai rechts","animation_scale":"Schaal","animation_section":{"desc":"Configureer animaties voor actieve en inactieve toestanden","title":"Icoon animatie"},"animation_shake":"Schudden","animation_spin":"Draaien","animation_tada":"Tada","animation_vibrate":"Trillen","background_color_active":"Achtergrondkleur wanneer actief","background_color_inactive":"Achtergrondkleur wanneer inactief","background_section":{"desc":"Configureer inactieve achtergrondinstellingen","title":"Inactieve achtergrond"},"background_shape_active":"Achtergrondvorm wanneer actief","background_shape_inactive":"Achtergrondvorm wanneer inactief","custom_active_name":"Aangepaste actieve naam","custom_active_name_desc":"Overschrijf entiteitsnaam wanneer actief (laat leeg om entiteitsnaam te gebruiken)","custom_active_state":"Aangepaste actieve toestand","custom_active_state_desc":"Aangepaste tekst wanneer actief (laat leeg om werkelijke toestand te gebruiken)","custom_inactive_name":"Aangepaste inactieve naam","custom_inactive_name_desc":"Overschrijf entiteitsnaam wanneer inactief (laat leeg om entiteitsnaam te gebruiken)","custom_inactive_state":"Aangepaste inactieve toestand","custom_inactive_state_desc":"Aangepaste tekst wanneer inactief (laat leeg om werkelijke toestand te gebruiken)","icon_color_active":"Kleur wanneer actief","icon_color_inactive":"Kleur wanneer inactief","icon_section":{"title":"Icoon configuratie"},"icon_size_active":"Icoongrootte wanneer actief","icon_size_inactive":"Icoongrootte wanneer inactief","inactive_animation":"Inactieve animatie","inactive_animation_desc":"Animatie wanneer icoon inactief is","inactive_icon":"Inactief icoon","inactive_icon_background":"Inactief icoon achtergrond","inactive_icon_background_color":"Inactief icoon achtergrondkleur","inactive_icon_color":"Inactief icoon kleur","inactive_icon_config":"Inactieve icoon configuratie","inactive_icon_config_desc":"Configureer inactieve icoon instellingen","inactive_icon_desc":"Icoon om te tonen wanneer inactief","inactive_name":"Inactieve naam","inactive_name_color":"Inactieve naam kleur","inactive_name_config":"Inactieve naam configuratie","inactive_name_config_desc":"Configureer inactieve naam instellingen","inactive_name_desc":"Aangepaste naam wanneer inactief","inactive_state_color":"Inactieve toestandskleur","inactive_state_config":"Inactieve toestand configuratie","inactive_state_config_desc":"Configureer inactieve toestand instellingen","inactive_state_text":"Inactieve toestandstekst","name_color_active":"Naamkleur wanneer actief","name_color_inactive":"Naamkleur wanneer inactief","name_section":{"title":"Naam configuratie"},"name_size_active":"Naamtekstgrootte wanneer actief","name_size_inactive":"Naamtekstgrootte wanneer inactief","state_color_active":"Toestandskleur wanneer actief","state_color_inactive":"Toestandskleur wanneer inactief","state_section":{"title":"Toestand configuratie"},"state_size_active":"Toestandstekstgrootte wanneer actief","state_size_inactive":"Toestandstekstgrootte wanneer inactief","template":"Sjabloon","template_mode":"Geavanceerde sjabloonmodus","template_section":{"desc":"Gebruik Jinja2-sjablonen voor geavanceerde icoonbesturing. Sjablonen kunnen zichtbaarheid controleren (waar/onwaar om iconen te tonen/verbergen) en toestandstekst aanpassen. Retourneer aangepaste tekst voor actieve toestand, retourneer werkelijke entiteitstoestand voor inactieve toestand.","title":"Geavanceerde sjabloonmodus"}},"text":{"content_section":{"title":"Inhoud configuratie","desc":"Configureer de tekstinhoud en basisinstellingen voor deze module."},"text_content":"Tekstinhoud","text_content_desc":"Voer de tekstinhoud in om weer te geven in deze module.","icon_section":{"title":"Icoon configuratie","desc":"Kies een icoon om weer te geven naast de tekstinhoud."},"icon":"Icoon","icon_desc":"Kies een icoon om weer te geven naast de tekst. Laat leeg voor geen icoon.","icon_position":"Icoon positie","icon_position_desc":"Kies waar het icoon moet worden gepositioneerd ten opzichte van de tekst.","before_text":"Voor tekst","after_text":"Na tekst","template_mode":"Sjabloon modus","template_mode_desc":"Gebruik Home Assistant sjabloon syntaxis om tekst te renderen","value_template":"Waarde sjabloon","value_template_desc":"Sjabloon om de tekst te renderen met Jinja2-syntaxis","examples_title":"Veelvoorkomende voorbeelden:","example_basic":"Basiswaarde","example_percent":"Met procent"},"bar":{"bar_settings":{"title":"Balk instellingen","desc":"Configureer hoe het balkpercentage wordt berekend en weergegeven."},"perc_type":{"entity":"Entiteit (0-100)","attribute":"Entiteit attribuut","difference":"Verschil","template":"Sjabloon"},"attribute_section":{"title":"Entiteit attribuut configuratie","desc":"Configureer entiteit attribuut instellingen"},"attribute_entity":"Attribuut entiteit","attribute_entity_desc":"Selecteer de entiteit die het attribuut bevat met de percentagewaarde","attribute_name":"Attribuut naam","attribute_name_desc":"Voer de naam in van het attribuut dat de percentagewaarde bevat (bijv. \\"battery_level\\")","diff_section":{"title":"Verschil berekening configuratie","desc":"Configureer verschil berekening instellingen"},"current_entity":"Huidige waarde entiteit","current_entity_desc":"Entiteit die de huidige/gebruikte hoeveelheid vertegenwoordigt (bijv. gebruikt brandstof, verbruikte batterij)","total_entity":"Totale waarde entiteit","total_entity_desc":"Entiteit die de totale/maximale hoeveelheid vertegenwoordigt (bijv. brandstofcapaciteit, batterijcapaciteit)","template_section":{"title":"Sjabloon configuratie","desc":"Configureer sjabloon instellingen"},"percentage_template":"Percentage sjabloon","percentage_template_desc":"Voer een Jinja2-sjabloon in die een getal tussen 0-100 retourneert voor het percentage. Voorbeeld: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animeer de balkvulling met voorinstellingen zoals laadstrepen, puls, gloed en meer. Je kunt animaties activeren op basis van een entiteit\'s toestand of attribuut, en optioneel de animatie overschrijven wanneer aan een andere voorwaarde wordt voldaan.","override":{"attribute_name_desc":"Attribuut naam om te vergelijken","desc":"Selecteer een actie-entiteit en toestand om te definiëren wanneer deze animatie de reguliere animatie moet overschrijven","entity_desc":"Entiteit om te evalueren voor overschrijving trigger","match_value":"Overschrijf overeenkomstwaarde","match_value_desc":"Tekstvergelijking tegen toestand of attribuut","title":"Actie animatie overschrijving","type":"Overschrijf animatietype","type_desc":"Animatie om te gebruiken wanneer overschrijvingsvoorwaarde overeenkomt."},"title":"Balk animatie","trigger":{"attribute_name_desc":"Attribuut naam om te vergelijken (bijv. charging_status)","desc":"Selecteer een entiteit om te bekijken en definieer de waarde + animatie om toe te passen wanneer het overeenkomt.","entity_desc":"Entiteit om te evalueren voor animatie trigger","match_value":"Overeenkomstwaarde","match_value_desc":"Tekst om te vergelijken met toestand of attribuut (vergelijking is tekstgebaseerd).","title":"Animatie trigger","type":"Trigger type","type_desc":"Kies of entiteitstoestand of een attribuut moet worden vergeleken"},"type":"Animatietype","type_desc":"Selecteer hoe de balk moet animeren wanneer geactiveerd.","types":{"blinking":"Knipperend","bouncing":"Stuiterend","bubbles":"Bubbels","charging":"Opladen (diagonale lijnen)","fill":"Vullen","flicker":"Flikkeren","glow":"Gloeien","heartbeat":"Hartslag","pulse":"Puls","rainbow":"Regenboog","ripple":"Rimpeling","shimmer":"Glinsteren","traffic":"Verkeer (kapperspaal)","vibrate":"Trillen"}},"appearance":{"direction":"Vulrichting","direction_desc":"Kies de richting waarin de balk vult naarmate de waarde toeneemt.","left_to_right":"Links naar rechts","right_to_left":"Rechts naar links","alignment":"Balk uitlijning","alignment_desc":"Kies hoe de balk moet worden uitgelijnd wanneer deze minder dan 100% breed is.","border_radius":"Randradius","border_radius_desc":"Beheer de afgeronde hoeken van de balk.","height":"Balk hoogte","height_desc":"Pas de dikte van de voortgangsbalk aan in pixels.","style":"Balk stijl","style_dashed":"Dashed","style_desc":"Kies de visuele stijl van de voortgangsbalk.","style_dots":"Dots","style_embossed":"Reliëf","style_flat":"Plat (standaard)","style_glass":"Glas","style_glossy":"Glanzend","style_gradient":"Gradient overlay","style_inset":"Inzet","style_metallic":"Metalliek","style_neon":"Neon gloed","style_neumorphic":"Neumorfisch","style_outline":"Omtrek","title":"Balk uiterlijk","width":"Balk breedte","width_desc":"Stel de balkbreedte in als percentage van de container."},"attr_config":{"attribute_entity":"Attribuut entiteit","attribute_entity_desc":"Selecteer de entiteit die het attribuut bevat met de percentagewaarde","attribute_name":"Attribuut naam","attribute_name_desc":"Voer de naam in van het attribuut dat de percentagewaarde bevat (bijv. \\"battery_level\\")","desc":"Configureer entiteit attribuut instellingen","title":"Entiteit attribuut configuratie"},"colors":{"background_color":"Achtergrondkleur","bar_color":"Balkkleur","border_color":"Randkleur","left_side":"Linkerkant kleuren","limit_indicator":"Limiet indicator","percentage_text":"Percentage tekst","right_side":"Rechterkant kleuren","title":"Kleuren","title_color":"Titelkleur","value_color":"Waardekleur"},"diff_config":{"current_entity":"Huidige waarde entiteit","current_entity_desc":"Entiteit die de huidige/gebruikte hoeveelheid vertegenwoordigt (bijv. gebruikt brandstof, verbruikte batterij)","desc":"Configureer verschil berekening instellingen","title":"Verschil berekening configuratie","total_entity":"Totale waarde entiteit","total_entity_desc":"Entiteit die de totale/maximale hoeveelheid vertegenwoordigt (bijv. brandstofcapaciteit, batterijcapaciteit)"},"entity":{"desc_empty":"Selecteer een entiteit die een percentagewaarde levert (0-100). Batterijsensoren zijn ideaal voor balken.","desc_present":"De entiteit die de percentagewaarde voor de balk levert.","no_entity_warning":"Geen entiteit geselecteerd - Kies een sensor met waarden tussen 0-100","title":"Balk percentage entiteit"},"gradient":{"cropped":"Bijgesneden","desc":"Pas een kleurverloop toe op de balkvulling. Wanneer ingeschakeld, kies hoe het verloop wordt weergegeven en pas kleurstops hieronder aan.","full":"Vol","title":"Gradient modus","value_based":"Waardegebaseerd"},"labels":{"alignment":"Label uitlijning","alignment_desc":"Beheer hoe linker en rechter labels worden gepositioneerd."},"left":{"desc":"Configureer de titel en entiteitswaarde die aan de linkerkant van de balk wordt getoond. Dit is handig voor het weergeven van labels zoals \'Bereik\' of \'Batterij\' naast hun waarden.","enable_toggle":"Schakel de schakelaar hierboven in om linkerkant instellingen te configureren","template_desc":"Gebruik een sjabloon om de weergegeven waarde te formatteren. Sjablonen gebruiken Home Assistant\'s Jinja2-syntaxis.","template_mode":"Sjabloon modus","title":"Linkerkant","title_size":"Titelgrootte","value_size":"Waardegrootte","value_template":"Waarde sjabloon","value_template_desc":"Sjabloon om de linkerkantwaarde te formatteren met Jinja2-syntaxis"},"limit_entity":{"desc":"Optioneel: Voeg een verticale indicatorlijn toe op de balk (bijv. laadlimiet voor EV-batterij).","title":"Limietwaarde entiteit (optioneel)"},"percentage":{"desc":"Beheer de zichtbaarheid en het uiterlijk van percentagewaarden die direct op de balk worden getoond. Deze cijfers bieden een duidelijke visuele indicator van het huidige niveau.","text_alignment":"Percentage tekst uitlijning","text_size":"Tekstgrootte","text_size_desc":"Pas de grootte aan van de percentagetekst die op de balk wordt getoond.","title":"Percentage tekst weergave"},"right":{"desc":"Configureer de titel en entiteitswaarde die aan de rechterkant van de balk wordt getoond. Dit is ideaal voor aanvullende informatie zoals \'Tijd tot vol\' of secundaire metingen.","enable_toggle":"Schakel de schakelaar hierboven in om rechterkant instellingen te configureren","template_desc":"Gebruik een sjabloon om de weergegeven waarde te formatteren. Sjablonen gebruiken Home Assistant\'s Jinja2-syntaxis.","template_mode":"Sjabloon modus","title":"Rechterkant","title_size":"Titelgrootte","value_size":"Waardegrootte","value_template":"Waarde sjabloon","value_template_desc":"Sjabloon om de rechterkantwaarde te formatteren met Jinja2-syntaxis"},"template_config":{"desc":"Configureer sjabloon instellingen","percentage_template":"Percentage sjabloon","percentage_template_desc":"Voer een Jinja2-sjabloon in die een getal tussen 0-100 retourneert voor het percentage. Voorbeeld: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Sjabloon configuratie"}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Entiteit attribuut"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Entiteit","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Entiteit attribuut configuratie"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Attribuut naam","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Randradius","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Afbeelding","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","add_entity":"Add Entity","add_first_entity":"Add your first entity to create a chart","no_entities":"No entities added"},"entity":"Entiteit","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribuut","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","reset_345":"Reset to default (345px)","chart_width":"Chart Width (%)","reset_100":"Reset to default (100%)","agg":{"count":"Count","delta":"Change","first":"First Value","last":"Last Value","max":"Maximum","mean":"Average","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Add Slice Gap","background_color":"Achtergrondkleur","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","chart_height":"Chart Height","chart_options":"Chart Options","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","normalize_values":"Normalize values to same scale","show_grid":"Show Grid","show_legend":"Show Legend","show_title":"Show Graph Title","show_tooltips":"Show Tooltips","show_value":"Show Graph Value","smooth_lines":"Smooth Lines","time_period":"Time Period","time_period_desc":"How much historical data to show.","title":"Display Options"},"line":{"fill_area":"Fill Area","line_style":"Line Style","line_width":"Line Width","show_points":"Show Points"},"line_styles":{"dashed":"Dashed","dotted":"Dotted","solid":"Solid"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"position":{"bottom":"Onder","bottom_left":"Bottom Left","bottom_right":"Bottom Right","center":"Midden","hidden":"Hidden","left":"Links","middle":"Midden","right":"Rechts","top":"Boven","top_left":"Top Left","top_right":"Top Right"}},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Plat (standaard)","glossy":"Glanzend","embossed":"Reliëf","inset":"Inzet","gradient_overlay":"Gradient overlay","neon_glow":"Neon gloed","outline":"Omtrek","glass":"Glas","metallic":"Metalliek"},"align":{"left":"Links","center":"Midden","right":"Rechts","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Voor tekst","after":"Na tekst","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"colors":{"title":"Kleuren","background":"Achtergrondkleur","text":"Text Color"},"hover":{"effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"Geen","color":"Color Change","scale":"Schaal","glow":"Gloeien","lift":"Lift (translate Y)","hover_color":"Hover Color","glow_color":"Glow Color","title":"Hover Effects","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Entiteit","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Tik-actie","desc":"Action to perform when button is tapped"},"hold":{"title":"Vasthoud-actie","desc":"Action to perform when button is held down"},"double":{"title":"Dubbel-tik actie","desc":"Action to perform when button is double-tapped"},"show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Icoon positie","icon_position_desc":"Position of the icon relative to text","icon_field":"Icoon"},"info":{"entity_section":{"title":"ENTITEIT CONFIGURATIE"},"entity":"Entiteit","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Icoon","icon_desc":"Choose an icon to display","icon_color":"Icon Color","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Color","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Color","template":{"title":"Sjabloon modus","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Sjabloon modus","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Waarde sjabloon","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Waardegrootte","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Icoon positie","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Veelvoorkomende voorbeelden:","example_basic":"Basiswaarde","example_units":"With units","example_round":"Round to 1 decimal"},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Midden","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Sjabloon modus","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Sjabloon modus","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Veelvoorkomende voorbeelden:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"},"show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Uiterlijk"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Color","desc":"Color of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","text_content":{"title":"Tekstinhoud","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Color","desc":"Color of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space.","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"}},"layout_extra":{"module_name":"Modulenaam:","module_name_placeholder":"Geef deze module een aangepaste naam om het makkelijker te identificeren in de editor.","module_name_help":"Geef deze module een aangepaste naam om het makkelijker te identificeren in de editor."},"layout_logic":{"display_title":"Toon dit element","display_desc":"Bepaal wanneer dit element wordt weergegeven. Kies \\"Altijd\\" om het zichtbaar te houden. Kies \\"Als ALLE onderstaande voorwaarden waar zijn\\" of \\"Als ENIGE onderstaande voorwaarde waar is\\" om het alleen te tonen als de door jou toegevoegde voorwaarden waar zijn.","always":"Altijd","every":"Als ALLE voorwaarden waar zijn","any":"Als ENIGE voorwaarde waar is","conditions":"Voorwaarden","add_condition":"Voorwaarde toevoegen","no_conditions":"Nog geen voorwaarden toegevoegd. Klik op \\"Voorwaarde toevoegen\\" om te beginnen.","condition_types":{"entity_state":"Entiteitstatus","entity_attribute":"Entiteitattribuut","time":"Tijdsinterval","template":"Sjabloon"},"condition_fields":{"entity":"Entiteit","operator":"Operator","value":"Waarde","attribute":"Attribuut","time_from":"Van","time_to":"Tot","template":"Sjabloon"},"condition_header":"Voorwaarde","custom_name":"Aangepaste naam","custom_name_desc":"Optioneel: geef deze voorwaarde een aangepaste naam voor eenvoudige herkenning","condition_type":"Voorwaardetype"},"hover_effects":{"title":"Hover-effecten","description":"Configureer visuele effecten die verschijnen bij het zweven over deze module, rij of kolom.","effect":"Hover-effect","effect_desc":"Selecteer het visuele effect dat wordt toegepast bij hoveren","effects":{"none":"Geen","highlight":"Markeren","outline":"Omtrek","grow":"Groeien","shrink":"Krimpen","pulse":"Pulseren","bounce":"Stuiteren","float":"Zweven","glow":"Gloeien","shadow":"Schaduw","rotate":"Draaien","skew":"Scheeftrekken","wobble":"Wiebelen","buzz":"Trillen","fade":"Vervagen"}},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Tekst","text_color":"Text Color","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":"– Default –","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"Geen","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Achtergrond","background_color":"Achtergrondkleur","background_image_type":"Background Image Type","bg_none":"Geen","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Afstand","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Breedte","height":"Hoogte","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Randradius","border_style":"Border Style","border_width":"Border Width","border_color":"Randkleur","margin":"Margin","padding":"Padding","top":"Boven","right":"Rechts","bottom":"Onder","left":"Links","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Color","box_shadow_color":"Box Shadow Color","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Animatietype","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"Geen","ease":"Ease","border_style_none":"Geen","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":"– Default –","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Tekst module","image":"Afbeelding module","icon":"Icoon module","bar":"Balk module","info":"Info Module","button":"Knop module","separator":"Separator Module","markdown":"Markdown Module","camera":"Camera module","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text"},"common":{"attribute":"Attribuut","attribute_name":"Attribuutnaam","baseline":"Basislijn","bottom":"Onder","center":"Midden","entity":"Entiteit","justify":"Uitvullen","left":"Links","none":"Geen","right":"Rechts","space_around":"Ruimte rondom","space_between":"Ruimte tussen","state":"Status","stretch":"Uitrekken","top":"Boven"},"horizontal":{"alignment":{"horizontal":"Horizontale uitlijning","horizontal_desc":"Kies hoe elementen horizontaal worden uitgelijnd binnen de container.","vertical":"Verticale uitlijning","vertical_desc":"Kies hoe elementen verticaal worden uitgelijnd binnen de container."},"empty":{"add_modules":"Voeg modules toe in de lay-outbouwer om ze hier te zien","no_modules":"Nog geen modules toegevoegd"},"gap":{"between_items":"Ruimte tussen items","desc":"Stel de afstand in tussen horizontale elementen (in rem). Gebruik negatieve waarden om te overlappen.","title":"Afstand-configuratie"},"layout":{"desc":"Configureer hoe elementen horizontaal worden gerangschikt binnen de container.","title":"Lay-outconfiguratie"},"wrapping":{"desc":"Sta toe dat elementen worden doorgebroken naar een nieuwe regel wanneer ze de containerbreedte overschrijden.","title":"Doorlopen toestaan"}},"markdown":{"code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks","content":{"desc":"Enter your markdown content with full formatting support","label":"Content","title":"Markdown Content"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","features":{"title":"Markdown Features"}},"vertical":{"alignment":{"vertical":"Verticale uitlijning","vertical_desc":"Kies hoe elementen verticaal worden uitgelijnd binnen de container."},"empty":{"add_modules":"Voeg modules toe in de lay-outbouwer om ze hier te zien","no_modules":"Nog geen modules toegevoegd"},"gap":{"between_items":"Ruimte tussen items","desc":"Stel de afstand in tussen verticale elementen (in rem). Gebruik negatieve waarden om te overlappen.","title":"Afstand-configuratie"},"layout":{"desc":"Configureer hoe elementen verticaal worden gerangschikt binnen de container.","title":"Lay-outconfiguratie"}}}}');var x=i.t(k,2);const w=JSON.parse('{"editor":{"tabs":{"layout":"Oppsettbyggjar","settings":"Innstillingar","about":"Om"},"settings":{"title":"Kortinnstillingar","description":"Konfigurer global utsjånad og åtferd for kortet."},"appearance":{"title":"Utsjånad","description":"Kontroller den visuelle utsjånaden til kortet"},"spacing":{"title":"Avstand","description":"Kontroller avstand og plassering for kortet"},"fields":{"card_background_color":"Bakgrunnsfarge for kort","card_background_color_desc":"Bakgrunnsfargen for heile kortet","border_radius":"Kantavrunding","border_radius_desc":"Avrunda hjørne på kortet (i pikslar)","card_padding":"Innvendig marg","card_padding_desc":"Innvendig avstand i kortet","card_margin":"Utvendig marg","card_margin_desc":"Utvendig avstand rundt kortet","unit_px":"px","reset_default":"Tilbakestill til standard","reset_default_value":"Tilbakestill til standard ({value})"},"tooltips":{"enter_fullscreen":"Fullskjerm","return_dashboard":"Tilbake til dashbord","dashboard":"Dashbord"},"layout":{"live_preview":"Live førehandsvisning","toggle_preview":"Slå på/av førehandsvisning","drag_to_move_module":"Dra for å flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliser modul","delete_module":"Slett modul","drag_to_move_layout":"Dra for å flytte oppsettmodul","horizontal_layout":"Vassrett oppsett","vertical_layout":"Loddrett oppsett","add_module_to_layout":"Legg til modul i oppsett","layout_settings":"Oppsettinnstillingar","duplicate_layout":"Dupliser oppsett","delete_layout":"Slett oppsett","click_to_add_module":"Klikk for å leggja til ein modul","drop_modules_here":"Slepp modular her","drag_to_reorder":"Dra for å endra rekkjefølgje","edit_child_module":"Rediger barnemodul","duplicate_child_module":"Dupliser barnemodul","delete_child_module":"Slett barnemodul","module_settings_title":"Modulinnstillingar","general_tab":"Generelt","actions_tab":"Handlingar","other_tab":"Anna","logic_tab":"Logikk","design_tab":"Design","drag_to_resize":"Dra for å endre storleik","hidden_by_logic":"Gøymd av logikk","child_module_settings_title":"Innstillingar for barnemodul","add_row":"Legg til rad","add_row_tooltip":"Legg til ei ny rad i oppsettet","row_settings":"Radinnstillingar","column_settings":"Kolonneinnstillingar","row_background_color":"Bakgrunnsfarge for rad","column_gap":"Kolonnegap (px)","vertical_alignment":"Loddrett justering","horizontal_alignment":"Vassrett justering","column_preview":"Kolonneførehandsvisning","modules_count":"{count} modular","alignment_top":"Topp","alignment_center":"Senter","alignment_bottom":"Botn","alignment_stretch":"Strekk","alignment_left":"Venstre","alignment_right":"Høgre"},"about":{"developed_by":"Utvikla av","desc1":"Ein kraftig modulær kortbyggjar for Home Assistant","desc2":"Lag eigne oppsett med eit profesjonelt side-byggjargrensesnitt","desc3":"Modulært oppsettsystem med vilkårslogikk og profesjonelle verkty for design","github_repo":"GitHub-lager","version":"Versjon","join_discord":"Bli med på Discord","support_title":"Støtt Ultra Card","support_desc":"Dine rause tips driv utviklinga av nye, flotte funksjonar for dette kortet! Utan støtte frå brukarar som deg hadde vidare innovasjon ikkje vore mogleg.","leave_tip":"GI EIN TIP (PAYPAL)"},"actions":{"title":"Konfigurasjon av handlingar","description":"Konfigurer korleis denne modulen svarar på brukarinteraksjonar. Bruker Home Assistant sitt eigne handlingssystem for jamn åtferd på dashbordet.","tap_action":"Trykkhandling","tap_action_desc":"Handling når du trykkjer/klikkar på modulen","hold_action":"Haldehandling","hold_action_desc":"Handling når du held nede på modulen","double_tap_action":"Dobbelttrykk","double_tap_action_desc":"Handling ved dobbelttrykk/klikk","tap_behavior":"Trykkåtferd","tap_behavior_desc":"Handling som skal utførast ved trykk/klikk.","hold_behavior":"Haldeåtferd","hold_behavior_desc":"Handling som skal utførast når elementet blir halde inne.","double_tap_behavior":"Dobbelttrykk-åtferd","double_tap_behavior_desc":"Handling som skal utførast ved dobbelttrykk/klikk."},"icon":{"entity_config":{"title":"KONFIGURASJON AV ENTITET","desc":"Konfigurer entiteten og aktiv/inaktiv tilstand"},"entity":"Entitet","entity_desc":"Vel entiteten dette ikonet representerer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsverdi som reknast som «inaktiv» (la stå tom for å bruke faktisk tilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsverdi som reknast som «aktiv» (la stå tom for å bruke faktisk tilstand)","active_animation":"Aktivanimasjon","active_animation_desc":"Animasjon når ikonet er aktivt","active_icon":"Aktivt ikon","active_icon_background":"Bakgrunn for aktivt ikon","active_icon_background_color":"Bakgrunnsfarge for aktivt ikon","active_icon_color":"Farge for aktivt ikon","active_icon_desc":"Ikon som visast når aktiv","active_name":"Aktivt namn","active_name_color":"Farge på aktivt namn","active_name_desc":"Tilpassa namn når aktiv","active_state_color":"Farge på aktiv tilstand","active_state_text":"Tekst for aktiv tilstand","animation_bounce":"Sprett","animation_fade":"Falme","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter høgre","animation_scale":"Skaler","animation_section":{"desc":"Konfigurer animasjonar for aktive og inaktive tilstandar","title":"Ikonanimasjon"},"animation_shake":"Rist","animation_spin":"Snurr","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Bakgrunnsfarge når aktiv","background_color_inactive":"Bakgrunnsfarge når inaktiv","background_section":{"desc":"Konfigurer bakgrunn ved inaktiv tilstand","title":"Inaktiv bakgrunn"},"background_shape_active":"Bakgrunnsform når aktiv","background_shape_inactive":"Bakgrunnsform når inaktiv","custom_active_name":"Eige namn ved aktiv","custom_active_name_desc":"Overstyr entitetsnamn når aktiv (tomt for å bruke entitetsnamn)","custom_active_state":"Eiga tilstandstekst ved aktiv","custom_active_state_desc":"Tilpassa tekst når aktiv (tomt for faktisk tilstand)","custom_inactive_name":"Eige namn ved inaktiv","custom_inactive_name_desc":"Overstyr entitetsnamn når inaktiv (tomt for å bruke entitetsnamn)","custom_inactive_state":"Eiga tilstandstekst ved inaktiv","custom_inactive_state_desc":"Tilpassa tekst når inaktiv (tomt for faktisk tilstand)","icon_color_active":"Farge når aktiv","icon_color_inactive":"Farge når inaktiv","icon_section":{"title":"Ikonkonfigurasjon"},"icon_size_active":"Ikonstorleik når aktiv","icon_size_inactive":"Ikonstorleik når inaktiv","inactive_animation":"Inaktivanimasjon","inactive_animation_desc":"Animasjon når ikonet er inaktivt","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Bakgrunn for inaktivt ikon","inactive_icon_background_color":"Bakgrunnsfarge for inaktivt ikon","inactive_icon_color":"Farge for inaktivt ikon","inactive_icon_config":"Konfigurasjon for inaktivt ikon","inactive_icon_config_desc":"Konfigurer innstillingar for inaktivt ikon","inactive_icon_desc":"Ikon som visast når inaktiv","inactive_name":"Inaktivt namn","inactive_name_color":"Farge på inaktivt namn","inactive_name_config":"Konfigurasjon for inaktivt namn","inactive_name_config_desc":"Konfigurer innstillingar for inaktivt namn","inactive_name_desc":"Tilpassa namn når inaktiv","inactive_state_color":"Farge på inaktiv tilstand","inactive_state_config":"Konfigurasjon for inaktiv tilstand","inactive_state_config_desc":"Konfigurer innstillingar for inaktiv tilstand","inactive_state_text":"Tekst for inaktiv tilstand","name_color_active":"Namnefarge når aktiv","name_color_inactive":"Namnefarge når inaktiv","name_section":{"title":"Namn-konfigurasjon"},"name_size_active":"Tekststorleik på namn ved aktiv","name_size_inactive":"Tekststorleik på namn ved inaktiv","state_color_active":"Tilstandsfarge når aktiv","state_color_inactive":"Tilstandsfarge når inaktiv","state_section":{"title":"Tilstandskonfigurasjon"},"state_size_active":"Tekststorleik på tilstand ved aktiv","state_size_inactive":"Tekststorleik på tilstand ved inaktiv","template":"Mal","template_mode":"Avansert malmodus","template_section":{"desc":"Bruk Jinja2-malar for avansert ikonstyring. Malar kan styre synlegheit (true/false for å vise/gøyme ikon) og tilpassa tilstandstekst. Returner tilpassa tekst for aktiv tilstand, returner faktisk entitetstilstand for inaktiv.","title":"Avansert malmodus"}},"text":{"content_section":{"title":"Innhaldskonfigurasjon","desc":"Konfigurer tekstinnhald og grunnleggjande innstillingar for denne modulen."},"text_content":"Tekstinnhald","text_content_desc":"Skriv inn teksten som skal visast i denne modulen.","icon_section":{"title":"Ikonkonfigurasjon","desc":"Vel eit ikon som skal visast saman med teksten."},"icon":"Ikon","icon_desc":"Vel eit ikon som skal visast saman med teksten. La stå tomt for ingen ikon.","icon_position":"Ikonplassering","icon_position_desc":"Vel plassering av ikon i forhold til tekst.","before_text":"Før tekst","after_text":"Etter tekst","template_mode":"Malmodus","template_mode_desc":"Bruk Home Assistant-malesyntaks til å rendre tekst","value_template":"Verdimal","value_template_desc":"Mal for å rendre tekst med Jinja2-syntaks","examples_title":"Vanlege døme:","example_basic":"Grunnleggjande verdi","example_percent":"Med prosent"},"bar":{"bar_settings":{"title":"Stolpeinnstillingar","desc":"Konfigurer korleis prosent vert utrekna og vist."},"perc_type":{"entity":"Entitet (0–100)","attribute":"Entitetsattributt","difference":"Differanse","template":"Mal"},"attribute_section":{"title":"Konfigurasjon av entitetsattributt","desc":"Konfigurer innstillingar for attributt"},"attribute_entity":"Attributtentitet","attribute_entity_desc":"Vel entiteten som har attributtet med prosentverdien","attribute_name":"Attributtnamn","attribute_name_desc":"Skriv namnet på attributtet som inneheld prosentverdien (t.d. «battery_level»)","diff_section":{"title":"Konfigurasjon for differanseutrekning","desc":"Konfigurer innstillingar for differanse"},"current_entity":"Entitet for noverdi","current_entity_desc":"Entitet som representerer brukt/noverande mengd (t.d. brukt drivstoff, forbrukt batteri)","total_entity":"Entitet for totalverdi","total_entity_desc":"Entitet som representerer total/maks mengd (t.d. tankvolum, batterikapasitet)","template_section":{"title":"Malkonfigurasjon","desc":"Konfigurer malinnstillingar"},"percentage_template":"Prosentmal","percentage_template_desc":"Skriv ein Jinja2-mal som returnerer eit tal mellom 0–100 for prosent. Døme: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer stolpefyllet med forval som lading-striper, puls, glød og meir. Du kan trigge animasjonar basert på entitetstilstand eller attributt, og eventuelt overstyre animasjonen når ein annan tilstand oppstår.","override":{"attribute_name_desc":"Attributtnamn å samanlikne","desc":"Vel ei handling-entitet og tilstand når denne animasjonen skal overstyre den vanlege","entity_desc":"Entitet som skal evaluerast for overstyring","match_value":"Overstyringsverdi","match_value_desc":"Tekstsamanlikning mot tilstand eller attributt","title":"Overstyring av animasjon","type":"Type overstyring","type_desc":"Animasjon som skal brukast når vilkåret treff."},"title":"Stolpeanimasjon","trigger":{"attribute_name_desc":"Attributtnamn å samanlikne (t.d. charging_status)","desc":"Vel ei entitet å overvake og definer verdien + animasjonen som skal gjelde når det treff.","entity_desc":"Entitet som skal evaluerast for animasjonstrigger","match_value":"Samsvarsverdi","match_value_desc":"Tekst å samanlikne mot tilstand eller attributt (tekstbasert samanlikning).","title":"Trigger for animasjon","type":"Triggertype","type_desc":"Vel om du vil samanlikne entitetstilstand eller eit attributt"},"type":"Animasjonstype","type_desc":"Vel korleis stolpen skal animerast når trigga.","types":{"blinking":"Blinkande","bouncing":"Sprettande","bubbles":"Bobler","charging":"Lading (diagonale linjer)","fill":"Fyll","flicker":"Flimring","glow":"Glød","heartbeat":"Hjarteslag","pulse":"Puls","rainbow":"Regnboge","ripple":"Ringar","shimmer":"Skimring","traffic":"Barberstolpe","vibrate":"Vibrer"}},"appearance":{"direction":"Fylleretning","direction_desc":"Vel retninga stolpen fyllast i når verdien aukar.","left_to_right":"Venstre til høgre","right_to_left":"Høgre til venstre","alignment":"Stolpejustering","alignment_desc":"Vel korleis stolpen skal justerast når breidda er under 100 %.","border_radius":"Kantavrunding","border_radius_desc":"Kontroller avrunda hjørne på stolpen.","height":"Stolpehøgd","height_desc":"Juster tjukna på framdriftsstolpen i pikslar.","style":"Stolpestil","style_dashed":"Stipla","style_desc":"Vel visuell stil for framdriftsstolpen.","style_dots":"Prikkar","style_embossed":"Relieff","style_flat":"Platt (standard)","style_glass":"Glas","style_glossy":"Blank","style_gradient":"Gradient-overlegg","style_inset":"Innsøkk","style_metallic":"Metallisk","style_neon":"Neonglød","style_neumorphic":"Neomorf","style_outline":"Omriss","title":"Utsjånad for stolpe","width":"Stolpebreidd","width_desc":"Set breidda som prosent av behaldaren."},"attr_config":{"attribute_entity":"Attributtentitet","attribute_entity_desc":"Vel entiteten som har attributtet med prosentverdien","attribute_name":"Attributtnamn","attribute_name_desc":"Skriv namnet på attributtet som inneheld prosentverdien (t.d. «battery_level»)","desc":"Konfigurer innstillingar for attributt","title":"Konfigurasjon av entitetsattributt"},"colors":{"background_color":"Bakgrunnsfarge","bar_color":"Stolpefarge","border_color":"Kantfarge","left_side":"Fargar venstre side","limit_indicator":"Grenseindikator","percentage_text":"Prosenttekst","right_side":"Fargar høgre side","title":"Fargar","title_color":"Tittelfarge","value_color":"Verdifarge"},"diff_config":{"current_entity":"Entitet for noverdi","current_entity_desc":"Entitet som representerer brukt/noverande mengd (t.d. brukt drivstoff, forbrukt batteri)","desc":"Konfigurer innstillingar for differanse","title":"Konfigurasjon for differanseutrekning","total_entity":"Entitet for totalverdi","total_entity_desc":"Entitet som representerer total/maks mengd (t.d. tankvolum, batterikapasitet)"},"entity":{"desc_empty":"Vel ei entitet som gjev ein prosentverdi (0–100). Batterisensorar er ideelle.","desc_present":"Entiteten som gjev prosentverdien for stolpen.","no_entity_warning":"Ingen entitet vald – Vel ein sensor med verdiar mellom 0–100","title":"Prosententitet for stolpe"},"gradient":{"cropped":"Avklypt","desc":"Bruk fargegradient på stolpefyllet. Når aktivert, vel korleis gradienten skal visast og tilpass fargestopp nedanfor.","full":"Full","title":"Gradientmodus","value_based":"Verdi-basert"},"labels":{"alignment":"Justering av etikett","alignment_desc":"Kontroller korleis venstre og høgre etikett er plasserte."},"left":{"desc":"Konfigurer tittel og entitetsverdi på venstre side av stolpen. Nyttig for merkelappar som «Rekkevidd» eller «Batteri».","enable_toggle":"Skru på brytaren over for å konfigurere venstresida","template_desc":"Bruk ein mal for å formatere verdien. Malar brukar Jinja2-syntaksen til Home Assistant.","template_mode":"Malmodus","title":"Venstre side","title_size":"Tittelstorleik","value_size":"Verdistorleik","value_template":"Verdimal","value_template_desc":"Mal for å formatere venstresideverdi med Jinja2-syntaks"},"limit_entity":{"desc":"Valfritt: Legg til ei loddrett indikatorlinje på stolpen (t.d. ladelimit for EV-batteri).","title":"Grenseverdi-entitet (valfritt)"},"percentage":{"desc":"Kontroller synlegheit og utsjånad på prosenttal vist direkte på stolpen. Desse tala gir eit tydeleg nivåindikator.","text_alignment":"Justering av prosenttekst","text_size":"Tekststorleik","text_size_desc":"Juster storleik på prosenttekst vist på stolpen.","title":"Vising av prosenttekst"},"right":{"desc":"Konfigurer tittel og entitetsverdi på høgre side av stolpen. Ideelt for tilleggsinfo som «Tid til full» eller sekundære målingar.","enable_toggle":"Skru på brytaren over for å konfigurere høgresida","template_desc":"Bruk ein mal for å formatere verdien. Malar brukar Jinja2-syntaksen til Home Assistant.","template_mode":"Malmodus","title":"Høgre side","title_size":"Tittelstorleik","value_size":"Verdistorleik","value_template":"Verdimal","value_template_desc":"Mal for å formatere høgresideverdi med Jinja2-syntaks"},"template_config":{"desc":"Konfigurer malinnstillingar","percentage_template":"Prosentmal","percentage_template_desc":"Skriv ein Jinja2-mal som returnerer eit tal mellom 0–100 for prosent. Døme: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Malkonfigurasjon"}},"image":{"settings":"Biletinnstillingar","source_type":"Kjelde for bilete","source_type_desc":"Vel korleis du vil oppgje biletkjelde.","source":{"default":"Standardbilete","url":"Bilet-URL","upload":"Last opp bilete","entity":"Entitetsbilete","attribute":"Entitetsattributt"},"url_section":{"title":"Konfigurasjon av bilet-URL"},"image_url":"Bilet-URL","image_url_desc":"Skriv direkte-URL til biletet du vil vise.","upload_section":{"title":"Konfigurasjon for opplasting"},"upload":"Last opp bilete","upload_desc":"Klikk for å laste opp ei biletfil frå eininga di.","entity_section":{"title":"Konfigurasjon av entitetsbilete"},"entity":"Entitet","entity_desc":"Vel ei entitet som har bilete (t.d. person, kamera).","attribute_section":{"title":"Konfigurasjon av entitetsattributt"},"entity_attr_desc":"Vel entiteten som inneheld bilet-URL i eitt av attributta sine.","attribute_name":"Attributtnamn","attribute_name_desc":"Skriv attributtstien som inneheld bilet-URL (prikk-notasjon støtta, t.d. vehicle_data.vehicleDetails.generalDashboard).","width":"Breidd (%)","width_desc":"Set breidda som prosent av behaldaren.","height":"Høgd (px)","height_desc":"Set høgda i pikslar.","crop_fit":"Beskjer & tilpassing","crop_fit_desc":"Kontroller korleis biletet passar i behaldaren.","fit":{"cover":"Dekk (beskjer for å fylle)","contain":"Tilpass (vis heile biletet)","fill":"Fyll (strekk for å passe)","scale_down":"Skaler ned","none":"Ingen (original storleik)"},"border_radius":"Kantavrunding","border_radius_desc":"Kontroller avrunda hjørne på biletet.","tap_actions":"Trykkhandlingar","filters":"Filter","filter":{"blur":"Sløring","blur_desc":"Legg til sløring på biletet.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrka på biletet.","contrast":"Kontrast (%)","contrast_desc":"Endre kontrasten på biletet.","saturation":"Metning (%)","saturation_desc":"Juster metninga på biletet."},"hover":{"title":"Hover-effektar","effect_type":"Effekttype","effect_type_desc":"Vel type hover-effekt.","scale":"Skaler (zoom inn/ut)","rotate":"Roter","fade":"Falme (gjennomsikt)","blur":"Slør","brightness":"Lysstyrke","glow":"Glød (skugge)","slide":"Gli (translasjon)","scale_amount":"Skalering (%)","scale_amount_desc":"Juster skalering ved hover.","rotate_amount":"Rotasjon (°)","rotate_amount_desc":"Roter biletet ved hover.","opacity":"Ugjennomsikt (%)","opacity_desc":"Endre ugjennomsikt ved hover.","blur_amount":"Sløring (px)","blur_amount_desc":"Legg til sløring ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrke ved hover.","glow_intensity":"Glødintensitet","glow_intensity_desc":"Vel intensitet for glødeeffekt.","glow_light":"Lett glød","glow_medium":"Middels glød","glow_heavy":"Kraftig glød","glow_custom":"Eigendefinert skugge","translate_x":"Vassrett (px)","translate_x_desc":"Flytt biletet vassrett ved hover.","translate_y":"Loddrett (px)","translate_y_desc":"Flytt biletet loddrett ved hover."},"alt":"Bilete","no_source":"Inga biletkjelde er konfigurert"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Vel visualiseringsstil for dataene dine."},"types":{"line":"Linjediagram","bar":"Stolpediagram","pie":"Sektordiagram","donut":"Smultringdiagram"},"data_sources":{"title":"Datakjelder","add_entity":"Legg til entitet","add_first_entity":"Legg til di første entitet for å lage eit diagram","no_entities":"Ingen entitetar lagt til"},"entity":"Entitet","entity_desc":"Vel ei entitet å plotte.","display_name_optional":"Visingsnamn (valfritt)","use_as_card_info":"Bruk som kortinfo","attribute":"Attributt","attribute_desc":"Bruk entitetsverdi eller vel eit spesifikt attributt å spore.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkt","fill_area":"Fyll areal","line_style":"Linjestil","line_solid":"Heiltrekt","line_dashed":"Stipla","line_dotted":"Prikka","pie_show_title":"Vis tittel i utsnitt","pie_show_value":"Vis verdi i utsnitt","expand_options":"Utvid val","no_entities":"Ingen entitetar lagt til","add_first_entity":"Legg til di første entitet for å lage eit diagram","add_entity":"Legg til entitet","display_options":{"title":"Visingsval"},"show_title":"Vis diagramtittel","show_value":"Vis diagramverdi","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv diagramtittel","time_period":"Tidsperiode","time_period_desc":"Kor mykje historikk som skal visast.","period":{"1h":"Siste time","3h":"Siste 3 timar","6h":"Siste 6 timar","12h":"Siste 12 timar","24h":"Siste døgn","2d":"Siste 2 dagar","7d":"Siste veke","30d":"Siste månad","90d":"Siste 3 månader","365d":"Siste år"},"normalize_values":"Normaliser verdiar til same skala","normalize_desc":"Nyttig når du samanliknar entitetar med ulike einingar (t.d. % vs mil)","chart_height":"Diagramhøgd","reset_345":"Tilbakestill til standard (345px)","chart_width":"Diagrambreidd (%)","reset_100":"Tilbakestill til standard (100 %)","agg":{"count":"Teljing","delta":"Endring","first":"Første verdi","last":"Siste verdi","max":"Maksimum","mean":"Gjennomsnitt","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Legg til mellomrom mellom utsnitt","background_color":"Bakgrunnsfarge","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagram i behaldaren.","chart_height":"Diagramhøgd","chart_options":"Diagramval","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv diagramtittel","chart_width":"Diagrambreidd (%)","chart_width_desc":"Prosent av modulens tilgjengelege breidd. Justering styrer plassering.","info_position":"Posisjon for info","info_position_desc":"Plassering av overlegg med namn/verdi.","legend_position":"Posisjon for forklaring","legend_position_desc":"Kor forklaring skal plasserast når aktivert.","normalize_desc":"Nyttig når du samanliknar entitetar med ulike einingar (t.d. % vs mil)","normalize_values":"Normaliser verdiar til same skala","show_grid":"Vis rutenett","show_legend":"Vis forklaring","show_title":"Vis diagramtittel","show_tooltips":"Vis verktøytips","show_value":"Vis diagramverdi","smooth_lines":"Jamne linjer","time_period":"Tidsperiode","time_period_desc":"Kor mykje historikk som skal visast.","title":"Visingsval"},"line":{"fill_area":"Fyll areal","line_style":"Linjestil","line_width":"Linjebreidd","show_points":"Vis punkt"},"line_styles":{"dashed":"Stipla","dotted":"Prikka","solid":"Heiltrekt"},"pie":{"show_title":"Vis tittel i utsnitt","show_value":"Vis verdi i utsnitt"},"position":{"bottom":"Botn","bottom_left":"Nedre venstre","bottom_right":"Nedre høgre","center":"Senter","hidden":"Gøymd","left":"Venstre","middle":"Senter","right":"Høgre","top":"Topp","top_left":"Øvre venstre","top_right":"Øvre høgre"}},"button":{"basic":{"title":"Grunninnstillingar","desc":"Konfigurer utsjånad og tekst for knappen."},"text":{"title":"Knappetekst","desc":"Tekst som skal visast på knappen (la stå tomt for berre ikon)."},"style":{"title":"Knappestil","desc":"Visuell stil for knappen"},"alignment":{"title":"Justering","desc":"Korleis knappen blir justert i behaldaren"},"styles":{"flat":"Platt (standard)","glossy":"Blank","embossed":"Relieff","inset":"Innsøkk","gradient_overlay":"Gradient-overlegg","neon_glow":"Neonglød","outline":"Omriss","glass":"Glas","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Senter","right":"Høgre","justify":"Justert (full breidd)"},"icon":{"title":"Ikoninnstillingar","desc":"Konfigurer ikonvising og plassering for knappen.","before":"Før tekst","after":"Etter tekst","enable_toggle_desc":"Skru på brytaren over for å konfigurere ikoninnstillingar"},"colors":{"title":"Fargar","background":"Bakgrunnsfarge","text":"Tekstfarge"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Vel hover-effekt for denne knappen.","none":"Ingen","color":"Fargeendring","scale":"Skalering","glow":"Glød","lift":"Hev (translasjon Y)","hover_color":"Farge ved hover","glow_color":"Glødfarge","title":"Hover-effektar","enable_toggle_desc":"Skru på brytaren over for å konfigurere hover-effektar"},"actions":{"type":"Handlingstype","type_desc":"Vel kva som skjer når du klikkar knappen","entity":"Entitet","entity_desc":"Vel entiteten å samhandle med","navigation_path":"Navigasjonssti","navigation_path_desc":"Sti å navigere til (t.d. /dashboard/energy)","service":"Teneste","service_desc":"Teneste å kalle (t.d. light.turn_on)","service_data":"Tenestedata (JSON)","service_data_desc":"Valfritt data som blir sendt til tenesta (JSON-format)"},"tap":{"title":"Trykkhandling","desc":"Handling ved trykk på knappen"},"hold":{"title":"Haldehandling","desc":"Handling når knappen blir halde nede"},"double":{"title":"Dobbelttrykk","desc":"Handling ved dobbelttrykk"},"show_icon":"Vis ikon","show_icon_desc":"Vis eit ikon på knappen","icon_desc":"Ikon som skal visast (t.d. mdi:home)","icon_position":"Ikonplassering","icon_position_desc":"Plassering av ikon relativt til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"KONFIGURASJON AV ENTITET"},"entity":"Entitet","entity_desc":"Vel entiteten som skal visast","icon_section":{"title":"Ikoninnstillingar"},"show_icon":"Vis ikon","show_icon_desc":"Vis eit ikon ved sidan av entitetsverdien","icon":"Ikon","icon_desc":"Vel eit ikon som skal visast","icon_color":"Ikonfarge","name_section":{"title":"Namneinnstillingar"},"show_name":"Vis namn","show_name_desc":"Vis entitetsnamn over verdien","custom_name":"Eige namn","custom_name_desc":"Overstyr entitetsnamn med eige namn","name_color":"Namnefarge","state_section":{"title":"Tilstandsinnstillingar"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/verdi","show_units":"Vis einingar","show_units_desc":"Vis måleeining (om tilgjengeleg)","state_color":"Tilstandsfarge","template":{"title":"Malmodus","desc":"Bruk ein mal for å formatere entitetsverdien. Malar lèt deg bruke Home Assistant-malesyntaks for avansert formatering.","mode":"Malmodus","mode_desc":"Bruk Home Assistant-malesyntaks for å formatere verdien","value":"Verdimal","value_desc":"Mal for å formatere entitetsverdi med Jinja2-syntaks"},"size_section":{"title":"Storleiksinnstillingar"},"icon_size":"Ikonstorleik","icon_size_desc":"Storleik på ikon i pikslar","name_size":"Namnestorleik","name_size_desc":"Storleik på namnetekst i pikslar","value_size":"Verdistorleik","value_size_desc":"Storleik på verditekst i pikslar","icon_gap":"Ikonmellomrom","icon_gap_desc":"Avstand mellom ikon og innhald i pikslar","layout_section":{"title":"Oppsett og plassering"},"icon_position":"Ikonplassering","overall_alignment":"Overordna justering","icon_alignment":"Ikonjustering","content_alignment":"Innhaldsjustering","examples_title":"Vanlege døme:","example_basic":"Grunnleggjande verdi","example_units":"Med einingar","example_round":"Avrund til 1 desimal"},"camera":{"config":{"title":"Kamerakonfigurasjon","desc":"Konfigurer kamerentitet og visingsinnstillingar."},"entity":"Kameraentitet","entity_desc":"Vel kameraentiteten som skal visast. Dette bør vere ei camera- eller mjpeg-entitet frå Home Assistant.","name":"Kameranamn","name_desc":"Tilpassa namn for kameraet. La stå tomt for å bruke entitetsnamn.","show_name":"Vis kameranamn","show_name_desc":"Vis kameranamnet på straumen","name_position":{"group_title":"Plassering av kameranamn","title":"Namneplassering","desc":"Vel kvar kameranamnet skal visast som overlegg på biletet.","options":{"top_left":"Øvre venstre","top_right":"Øvre høgre","center":"Senter","bottom_left":"Nedre venstre","bottom_right":"Nedre høgre"}},"display":{"title":"Visingsinnstillingar"},"live_view":{"title":"Direktevising","desc":"Vis direkte kamerastream (krev stream-integrasjon). Når avslått, visast stillbilete."},"auto_refresh":{"section_title":"Innstillingar for auto-oppfrisking","title":"Auto-oppfrisking","desc":"Oppfrisk kamerabilete automatisk med jamne mellomrom"},"refresh_interval":{"title":"Oppfriskingsintervall (sekund)","desc":"Kor ofte kamerabiletet skal oppfriskast automatisk."},"dimensions":{"title":"Dimensjonar"},"width":"Breidd (px)","width_desc":"Set breidda på kameravisninga. Område: 100–1000 px","height":"Høgd (px)","height_desc":"Set høgda på kameravisninga. Område: 100–1000 px","link_aspect":"Knytt sideforhold","unlink_aspect":"Løys sideforhold","aspect_linked":{"title":"Sideforhold knytt","desc":"Dimensjonane held {ratio}:1-forhold. Å endre éin dimensjon oppdaterer den andre."},"aspect_independent":{"title":"Uavhengige dimensjonar","desc":"Breidd og høgd kan justerast uavhengig. Klikk lenkje-knappen over for å halde sideforhold."},"crop":{"title":"Beskjering og posisjon","desc":"Juster beskjeringskantar og posisjon. Nyttig for å fokusere på område eller fjerne uønska kantar.","left_title":"Venstre beskjering (%)","left_desc":"Beskjer frå venstre kant. Høgare verdi viser mindre av venstresida.","right_title":"Høgre beskjering (%)","right_desc":"Beskjer frå høgre kant. Høgare verdi viser mindre av høgresida.","top_title":"Toppbeskjering (%)","top_desc":"Beskjer frå toppen. Høgare verdi viser mindre av toppområdet.","bottom_title":"Bunnbeskjering (%)","bottom_desc":"Beskjer frå botnen. Høgare verdi viser mindre av botnområdet.","active_applied":"Aktive beskjeringar brukt","reset_all":"Tilbakestill alle beskjeringar"},"template":{"title":"Malmodus","desc":"Bruk ein mal for dynamisk å setje kameraentitet. Lèt deg bruke Home Assistant-malesyntaks for vilkårsstyrt kameraplukk.","mode_label":"Malmodus","mode_desc":"Bruk Home Assistant-malesyntaks for å velje kamera dynamisk","camera_template_label":"Kameramal","camera_template_desc":"Mal for å setje kameraentitet med Jinja2-syntaks","examples_title":"Vanlege døme:","example1_desc":"Vis kamera når vêret er sol","example2_desc":"Byt mellom kamera basert på input boolean","example3_desc":"Bruk input select for å velje kamera"},"show_name_toggle":{"enable_toggle_desc":"Skru på brytaren over for å konfigurere vising av kameranamn"}},"separator":{"config":{"title":"Konfigurasjon av skiljelinje"},"style":{"title":"Stil på skiljelinje","desc":"Vel visuell stil for skiljelinja."},"options":{"solid":"Heiltrekt linje","double":"Dobbel linje","dotted":"Prikka linje","double_dotted":"Dobbel prikka","shadow":"Skugge","blank":"Tomt mellomrom"},"appearance":{"title":"Utsjånad"},"thickness":"Tjukkleik (px)","thickness_desc":"Tjukkleik på skiljelinja.","width":"Breidd (%)","width_desc":"Breidd som prosent av behaldaren.","color":{"title":"Farge","desc":"Farge på skiljelinja."},"show_title":"Vis tittel","show_title_desc":"Legg tekst i midten av skiljelinja (t.d. ------ Tekst ------)","text_content":{"title":"Tekstinnhald","desc":"Tekst som skal visast i midten av skiljelinja."},"font_size":"Skriftstorleik","font_size_desc":"Storleik på tekst i pikslar.","text_color":{"title":"Tekstfarge","desc":"Farge på tekst i skiljelinja."},"text_format":{"title":"Tekstformatering","desc":"Bruk formateringsstil på tekst.","bold":"Feit","italic":"Kursiv","underline":"Understreking","uppercase":"Store bokstavar","strikethrough":"Gjennomstreking"},"spacer":{"title":"Avstandshøgd"},"height":"Høgd (px)","height_desc":"Styrer synleg gap for ‘Blankt mellomrom’.","show_title_toggle":{"enable_toggle_desc":"Skru på brytaren over for å konfigurere tittelen"}},"layout_extra":{"module_name":"Modulnamn:","module_name_placeholder":"Gje denne modulen eit tilpassa namn for lettare å identifisere han i redigeraren.","module_name_help":"Gje denne modulen eit tilpassa namn for lettare å identifisere han i redigeraren."},"layout_logic":{"display_title":"Vis dette elementet","display_desc":"Kontroller når dette elementet skal visast. Vel «Alltid» for å halde det synleg. Vel «Viss ALLE vilkår under er oppfylte» eller «Viss NOKRE vilkår under er oppfylte» for å vise det berre når vilkåra du legg til nedanfor er sanne.","always":"Alltid","every":"Viss ALLE vilkår under er oppfylte","any":"Viss NOKRE vilkår under er oppfylte","conditions":"Vilkår","add_condition":"Legg til vilkår","no_conditions":"Ingen vilkår lagt til enno. Klikk «Legg til vilkår» for å starte.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattributt","time":"Tidsintervall","template":"Mal"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Verdi","attribute":"Attributt","time_from":"Frå","time_to":"Til","template":"Mal"},"condition_header":"Vilkår","custom_name":"Tilpassa namn","custom_name_desc":"Valfritt: Gje vilkåret eit tilpassa namn for enklare identifikasjon","condition_type":"Vilkårstype"},"hover_effects":{"title":"Hover-effektar","description":"Konfigurer visuelle effektar som visast når du held musepeikaren over modulen, rada eller kolonnen.","effect":"Hover-effekt","effect_desc":"Vel visuell effekt som skal brukast ved hover","effects":{"none":"Ingen","highlight":"Uthev","outline":"Kontur","grow":"Veks","shrink":"Krymp","pulse":"Pulsere","bounce":"Sprette","float":"Flyte","glow":"Gløde","shadow":"Skugge","rotate":"Roter","skew":"Skev","wobble":"Vakle","buzz":"Vibrere","fade":"Falme"}},"design":{"copy":"Kopier","paste":"Lim inn","reset_all":"Tilbakestill alt","copy_tooltip":"Kopier noverande designinnstillingar (fungerer på tvers av Ultra-kort)","paste_tooltip_has":"Lim inn kopierte designinnstillingar (frå tverrkort-utklippstavle)","paste_tooltip_none":"Ingen designinnstillingar i tverrkort-utklippstavla","reset_all_tooltip":"Tilbakestill alle designinnstillingar til standard","text_section":"Tekst","text_color":"Tekstfarge","alignment":"Justering","inherit_alignment":"Arv (inga justering)","font_size":"Skriftstorleik","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Tilbakestill skriftstorleik til standard","line_height":"Linjehøgd","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Tilbakestill linjehøgd til standard","letter_spacing":"Bokstavmellomrom","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Tilbakestill bokstavmellomrom til standard","font":"Skrifttype","font_weight":"Skriftvekt","text_transform":"Teksttransformasjon","font_style":"Skriftstil","default_option":"– Standard –","weight_thin":"100 – Tynn","weight_light":"300 – Lett","weight_normal":"400 – Normal","weight_medium":"500 – Middels","weight_semi_bold":"600 – Halvfeit","weight_bold":"700 – Feit","weight_black":"900 – Svart","transform_none":"Ingen","transform_uppercase":"STORE BOKSTAVAR","transform_lowercase":"små bokstavar","transform_capitalize":"Stor forbokstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skråstilt","background_section":"Bakgrunn","background_color":"Bakgrunnsfarge","background_image_type":"Type bakgrunnsbilete","bg_none":"Ingen","bg_upload":"Last opp bilete","bg_entity":"Entitetsbilete","bg_url":"Bilet-URL","sizes_section":"Storleikar","spacing_section":"Avstand","border_section":"Kantlinje","text_shadow_section":"Tekstskugge","box_shadow_section":"Boksskugge","position_section":"Posisjon","overflow_section":"Overflyt","animations_section":"Animasjonar","width":"Breidde","height":"Høgde","max_width":"Maks breidde","max_height":"Maks høgde","min_width":"Minste breidde","min_height":"Minste høgde","border_radius":"Kantavrunding","border_style":"Kantstil","border_width":"Kantbreidd","border_color":"Kantfarge","margin":"Marg","padding":"Innvendig marg","top":"Topp","right":"Høgre","bottom":"Botn","left":"Venstre","unlock_sides":"Lås opp for å redigere sider uavhengig","lock_sides":"Lås for å redigere alle sider samla","horizontal_shift":"Vassrett forskyving","vertical_shift":"Loddrett forskyving","blur":"Sløring","text_shadow_color":"Farge på tekstskugge","box_shadow_color":"Farge på boksskugge","overflow":"Overflyt","clip_path":"Klippesti","upload_bg_image":"Last opp bakgrunnsbilete","bg_image_entity":"Bakgrunnsbilete-entitet","bg_image_url":"URL til bakgrunnsbilete","choose_file":"Vel fil","no_file_chosen":"Ingen fil vald","backdrop_filter":"Bakgrunnsfilter","spread":"Spreiing","visible_default":"Synleg (standard)","examples":"Døme","state_based_animation":"Tilstandsbasert animasjon","animation_type":"Animasjonstype","animation_duration":"Animasjonsvarigheit","animation_duration_desc":"Varigheit for animasjonen (t.d. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outroanimasjonar","intro_animation":"Introanimasjon","outro_animation":"Outroanimasjon","duration":"Varigheit","delay":"Forsinking","timing":"Timing","none":"Ingen","ease":"Jamning","border_style_none":"Ingen","border_style_solid":"Heiltrekt","border_style_dashed":"Stipla","border_style_dotted":"Prikka","border_style_double":"Dobbel","position_default":"– Standard –","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolutt","position_fixed":"Festa","position_sticky":"Klebrig"},"modules":{"text":"Tekstmodul","image":"Bildemodul","icon":"Ikonmodul","bar":"Stolpemodul","info":"Infomodul","button":"Knappmodul","separator":"Skiljelinje-modul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Diagrammodul","no_text_configured":"Ingen tekst konfigurert","no_image_configured":"Inga bilete konfigurert","uploaded_image":"Opplasta bilete","icons_configured":"{count} ikon konfigurert","no_icons_configured":"Ingen ikon konfigurert","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst"},"common":{"attribute":"Attributt","attribute_name":"Attributtnamn","baseline":"Grunnlinje","bottom":"Botn","center":"Senter","entity":"Entitet","justify":"Juster","left":"Venstre","none":"Ingen","right":"Høgre","space_around":"Luft rundt","space_between":"Luft mellom","state":"Tilstand","stretch":"Strekk","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Vassrett justering","horizontal_desc":"Vel korleis element blir justerte vassrett i behaldaren.","vertical":"Loddrett justering","vertical_desc":"Vel korleis element blir justerte loddrett i behaldaren."},"empty":{"add_modules":"Legg til modular i oppsettbyggjaren for å sjå dei her","no_modules":"Ingen modular lagt til enno"},"gap":{"between_items":"Mellomrom mellom element","desc":"Set avstand mellom vassrette element (i rem). Bruk negative verdiar for overlapping.","title":"Konfigurasjon av mellomrom"},"layout":{"desc":"Konfigurer korleis element er ordna vassrett i behaldaren.","title":"Oppsettkonfigurasjon"},"wrapping":{"desc":"Tillat at element bryt til neste linje når breidda vert overskriden.","title":"Tillat linjebryting"}},"markdown":{"code_highlighting":"Syntaksmarkering","code_highlighting_desc":"Syntaksmarkering for kodeblokker","content":{"desc":"Skriv markdown-innhald med full formateringsstøtte","label":"Innhald","title":"Markdown-innhald"},"enable_html":"Tillat HTML","enable_html_desc":"Tillat HTML-taggar i markdown-innhald","enable_tables":"Aktiver tabellar","enable_tables_desc":"Støtte for tabellsyntaks i markdown","features":{"title":"Markdown-funksjonar"}},"vertical":{"alignment":{"vertical":"Loddrett justering","vertical_desc":"Vel korleis element blir justerte loddrett i behaldaren."},"empty":{"add_modules":"Legg til modular i oppsettbyggjaren for å sjå dei her","no_modules":"Ingen modular lagt til enno"},"gap":{"between_items":"Mellomrom mellom element","desc":"Set avstand mellom loddrette element (i rem). Bruk negative verdiar for overlapping.","title":"Konfigurasjon av mellomrom"},"layout":{"desc":"Konfigurer korleis element er ordna loddrett i behaldaren.","title":"Oppsettkonfigurasjon"}}}}');var $=i.t(w,2);const z=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbygger","settings":"Innstillinger","about":"Om"},"settings":{"title":"Kortinnstillinger","description":"Konfigurer global kortutseende og oppførsel."},"appearance":{"title":"Utseende","description":"Kontroller det visuelle utseendet til kortet ditt"},"spacing":{"title":"Avstand","description":"Kontroller avstanden og posisjoneringen til kortet ditt"},"fields":{"card_background_color":"Kort bakgrunnsfarge","card_background_color_desc":"Bakgrunnsfargen til hele kortet","border_radius":"Kantradius","border_radius_desc":"Avrundede hjørner for kortet (i piksler)","card_padding":"Kort polstring","card_padding_desc":"Intern avstand innenfor kortet","card_margin":"Kort marg","card_margin_desc":"Ekstern avstand rundt kortet","unit_px":"px","reset_default":"Tilbakestill til standard","reset_default_value":"Tilbakestill til standard ({value})"},"tooltips":{"enter_fullscreen":"Gå til fullskjerm","return_dashboard":"Tilbake til dashbord","dashboard":"Dashbord"},"layout":{"live_preview":"Live forhåndsvisning","toggle_preview":"Veksle forhåndsvisning","drag_to_move_module":"Dra for å flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliser modul","delete_module":"Slett modul","drag_to_move_layout":"Dra for å flytte layoutmodul","horizontal_layout":"Horisontal layout","vertical_layout":"Vertikal layout","add_module_to_layout":"Legg til modul i layout","layout_settings":"Layoutinnstillinger","duplicate_layout":"Dupliser layout","delete_layout":"Slett layout","click_to_add_module":"Klikk for å legge til en modul","drop_modules_here":"Slipp moduler her","drag_to_reorder":"Dra for å endre rekkefølge","edit_child_module":"Rediger undermodul","duplicate_child_module":"Dupliser undermodul","delete_child_module":"Slett undermodul","module_settings_title":"Modulinnstillinger","general_tab":"Generelt","actions_tab":"Handlinger","other_tab":"Annet","logic_tab":"Logikk","design_tab":"Design","drag_to_resize":"Dra for å endre størrelse","hidden_by_logic":"Skjult av logikk","child_module_settings_title":"Undermodulinnstillinger","add_row":"Legg til rad","add_row_tooltip":"Legg til en ny rad til layoutet ditt","row_settings":"Radinnstillinger","column_settings":"Kolonneinnstillinger","row_background_color":"Rad bakgrunnsfarge","column_gap":"Kolonneavstand (px)","vertical_alignment":"Vertikal justering","horizontal_alignment":"Horisontal justering","column_preview":"Kolonneforhåndsvisning","modules_count":"{count} moduler","alignment_top":"Topp","alignment_center":"Senter","alignment_bottom":"Bunn","alignment_stretch":"Strekk","alignment_left":"Venstre","alignment_right":"Høyre"},"about":{"developed_by":"Utviklet av","desc1":"En kraftig modulær kortbygger for Home Assistant","desc2":"Lag tilpassede layouter med et profesjonelt sidebygger-grensesnitt","desc3":"Modulært layoutsystem med betinget logikk og profesjonelle designverktøy","github_repo":"GitHub-repositorium","version":"Versjon","join_discord":"Bli med på vår Discord","support_title":"Støtt Ultra Card","support_desc":"Dine sjenerøse tips driver utviklingen av fantastiske funksjoner for dette kortet! Uten støtte fra brukere som deg, ville fortsatt innovasjon ikke vært mulig.","leave_tip":"GI ET TIPS (PAYPAL)"},"actions":{"title":"Handlingskonfigurasjon","description":"Konfigurer hvordan denne modulen reagerer på brukerinteraksjoner. Bruker Home Assistants innebygde handlingssystem for konsistent oppførsel på dashbordet ditt.","tap_action":"Trykk-handling","tap_action_desc":"Handling utført ved å trykke/klikke på modulen","hold_action":"Hold-handling","hold_action_desc":"Handling utført ved å holde nede på modulen","double_tap_action":"Dobbelttrykk-handling","double_tap_action_desc":"Handling utført ved dobbelttrykking på modulen","tap_behavior":"Trykk-oppførsel","tap_behavior_desc":"Handling å utføre når elementet trykkes/klikkes.","hold_behavior":"Hold-oppførsel","hold_behavior_desc":"Handling å utføre når elementet trykkes og holdes.","double_tap_behavior":"Dobbelttrykk-oppførsel","double_tap_behavior_desc":"Handling å utføre når elementet dobbeltrykkes/klikkes."},"icon":{"entity_config":{"title":"ENTITETSKONFIGURASJON","desc":"Konfigurer entiteten og aktive/inaktive tilstander"},"entity":"Entitet","entity_desc":"Velg entiteten dette ikonet representerer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsverdi ansett som \\"inaktiv\\" (la stå tom for å bruke faktisk entitetstilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsverdi ansett som \\"aktiv\\" (la stå tom for å bruke faktisk entitetstilstand)","active_animation":"Aktiv animasjon","active_animation_desc":"Animasjon når ikon er aktiv","active_icon":"Aktivt ikon","active_icon_background":"Aktivt ikon bakgrunn","active_icon_background_color":"Aktivt ikon bakgrunnsfarge","active_icon_color":"Aktivt ikon farge","active_icon_desc":"Ikon å vise når aktiv","active_name":"Aktivt navn","active_name_color":"Aktivt navn farge","active_name_desc":"Tilpasset navn når aktiv","active_state_color":"Aktiv tilstandsfarge","active_state_text":"Aktiv tilstandstekst","animation_bounce":"Hopp","animation_fade":"Fade","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter høyre","animation_scale":"Skaler","animation_section":{"desc":"Konfigurer animasjoner for aktive og inaktive tilstander","title":"Ikonanimasjon"},"animation_shake":"Rist","animation_spin":"Snurr","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Bakgrunnsfarge når aktiv","background_color_inactive":"Bakgrunnsfarge når inaktiv","background_section":{"desc":"Konfigurer inaktive bakgrunnsinnstillinger","title":"Inaktiv bakgrunn"},"background_shape_active":"Bakgrunnsform når aktiv","background_shape_inactive":"Bakgrunnsform når inaktiv","custom_active_name":"Tilpasset aktivt navn","custom_active_name_desc":"Overstyr entitetsnavn når aktiv (la stå tom for å bruke entitetsnavn)","custom_active_state":"Tilpasset aktiv tilstand","custom_active_state_desc":"Tilpasset tekst når aktiv (la stå tom for å bruke faktisk tilstand)","custom_inactive_name":"Tilpasset inaktivt navn","custom_inactive_name_desc":"Overstyr entitetsnavn når inaktiv (la stå tom for å bruke entitetsnavn)","custom_inactive_state":"Tilpasset inaktiv tilstand","custom_inactive_state_desc":"Tilpasset tekst når inaktiv (la stå tom for å bruke faktisk tilstand)","icon_color_active":"Farge når aktiv","icon_color_inactive":"Farge når inaktiv","icon_section":{"title":"Ikonkonfigurasjon"},"icon_size_active":"Ikonstørrelse når aktiv","icon_size_inactive":"Ikonstørrelse når inaktiv","inactive_animation":"Inaktiv animasjon","inactive_animation_desc":"Animasjon når ikon er inaktiv","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Inaktivt ikon bakgrunn","inactive_icon_background_color":"Inaktivt ikon bakgrunnsfarge","inactive_icon_color":"Inaktivt ikon farge","inactive_icon_config":"Konfigurasjon av inaktivt ikon","inactive_icon_config_desc":"Konfigurer innstillinger for inaktivt ikon","inactive_icon_desc":"Ikon å vise når inaktiv","inactive_name":"Inaktivt navn","inactive_name_color":"Inaktivt navn farge","inactive_name_config":"Konfigurasjon av inaktivt navn","inactive_name_config_desc":"Konfigurer innstillinger for inaktivt navn","inactive_name_desc":"Tilpasset navn når inaktiv","inactive_state_color":"Inaktiv tilstandsfarge","inactive_state_config":"Konfigurasjon av inaktiv tilstand","inactive_state_config_desc":"Konfigurer innstillinger for inaktiv tilstand","inactive_state_text":"Inaktiv tilstandstekst","name_color_active":"Navnefarge når aktiv","name_color_inactive":"Navnefarge når inaktiv","name_section":{"title":"Navnekonfigurasjon"},"name_size_active":"Navnetekststørrelse når aktiv","name_size_inactive":"Navnetekststørrelse når inaktiv","state_color_active":"Tilstandsfarge når aktiv","state_color_inactive":"Tilstandsfarge når inaktiv","state_section":{"title":"Tilstandskonfigurasjon"},"state_size_active":"Tilstandstekststørrelse når aktiv","state_size_inactive":"Tilstandstekststørrelse når inaktiv","template":"Mal","template_mode":"Avansert malmodus","template_section":{"desc":"Bruk Jinja2-maler for avansert ikonkontroll. Maler kan kontrollere synlighet (sant/usant for å vise/skjule ikoner) og tilpasse tilstandstekst. Returner tilpasset tekst for aktiv tilstand, returner faktisk entitetstilstand for inaktiv tilstand.","title":"Avansert malmodus"}},"text":{"content_section":{"title":"Innholdskonfigurasjon","desc":"Konfigurer tekstinnholdet og grunnleggende innstillinger for denne modulen."},"text_content":"Tekstinnhold","text_content_desc":"Skriv inn tekstinnholdet som skal vises i denne modulen.","icon_section":{"title":"Ikonkonfigurasjon","desc":"Velg et ikon som skal vises sammen med tekstinnholdet."},"icon":"Ikon","icon_desc":"Velg et ikon som skal vises sammen med teksten. La stå tom for ingen ikon.","icon_position":"Ikonposisjon","icon_position_desc":"Velg hvor ikonet skal plasseres i forhold til teksten.","before_text":"Før tekst","after_text":"Etter tekst","template_mode":"Malmodus","template_mode_desc":"Bruk Home Assistant-malsyntaks for å gjengi tekst","value_template":"Verdimal","value_template_desc":"Mal for å gjengi teksten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_percent":"Med prosent"},"bar":{"bar_settings":{"title":"Stolpeinnstillinger","desc":"Konfigurer hvordan stolpeprosenten beregnes og vises."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattributt","difference":"Forskjell","template":"Mal"},"attribute_section":{"title":"Konfigurasjon av entitetsattributt","desc":"Konfigurer entitetsattributtinnstillinger"},"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet på attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","diff_section":{"title":"Konfigurasjon av forskjellsberegning","desc":"Konfigurer innstillinger for forskjellsberegning"},"current_entity":"Nåværende verdi-entitet","current_entity_desc":"Entitet som representerer nåværende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)","template_section":{"title":"Malkonfigurasjon","desc":"Konfigurer malinnstillinger"},"percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer stolpefyllet ved hjelp av forhåndsinnstillinger som ladestiper, puls, glød og mer. Du kan utløse animasjoner basert på en entitets tilstand eller attributt, og eventuelt overstyre animasjonen når en annen betingelse er oppfylt.","override":{"attribute_name_desc":"Attributtnavn å sammenligne","desc":"Velg en handlingsentitet og tilstand for å definere når denne animasjonen skal overstyre den vanlige animasjonen","entity_desc":"Entitet å evaluere for overstyring av utløser","match_value":"Overstyr samsvarverdi","match_value_desc":"Tekstsammenligning mot tilstand eller attributt","title":"Overstyring av handlingsanimasjon","type":"Overstyr animasjonstype","type_desc":"Animasjon å bruke når overstyringsbetingelsen samsvarer."},"title":"Stolpeanimasjon","trigger":{"attribute_name_desc":"Attributtnavn å sammenligne (f.eks. charging_status)","desc":"Velg en entitet å overvåke og definer verdien + animasjonen å bruke når den samsvarer.","entity_desc":"Entitet å evaluere for animasjonsutløser","match_value":"Samsvarverdi","match_value_desc":"Tekst å sammenligne mot tilstand eller attributt (sammenligning er tekstbasert).","title":"Animasjonsutløser","type":"Utløsertype","type_desc":"Velg om du vil sammenligne entitetstilstand eller et attributt"},"type":"Animasjonstype","type_desc":"Velg hvordan stolpen skal animeres når utløst.","types":{"blinking":"Blinkende","bouncing":"Hoppende","bubbles":"Bobler","charging":"Lading (diagonale linjer)","fill":"Fyll","flicker":"Flimmer","glow":"Glød","heartbeat":"Hjerteslag","pulse":"Puls","rainbow":"Regnbue","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafikk (barberstang)","vibrate":"Vibrer"}},"appearance":{"alignment":"Stolpejustering","alignment_desc":"Velg hvordan stolpen skal justeres når den er mindre enn 100% bredde.","border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjørnene til stolpen.","height":"Stolpehøyde","height_desc":"Juster tykkelsen til fremdriftsstolpen i piksler.","style":"Stolpestil","style_dashed":"Stiplet","style_desc":"Velg den visuelle stilen til fremdriftsstolpen.","style_dots":"Dots","style_embossed":"Preget","style_flat":"Flat (standard)","style_glass":"Glass","style_glossy":"Blank","style_gradient":"Gradientoverlegg","style_inset":"Innfelt","style_metallic":"Metallisk","style_neon":"Neonglød","style_neumorphic":"Neumorfisk","style_outline":"Omriss","title":"Stolpeutseende","direction":"Fylleretning","direction_desc":"Velg retningen stolpen fyller seg i når verdien øker.","left_to_right":"Venstre til høyre","right_to_left":"Høyre til venstre","width":"Stolpebredde","width_desc":"Sett stolpebredden som prosent av beholder."},"attr_config":{"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet på attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","desc":"Konfigurer entitetsattributtinnstillinger","title":"Konfigurasjon av entitetsattributt"},"colors":{"background_color":"Bakgrunnsfarge","bar_color":"Stolpefarge","border_color":"Kantfarge","left_side":"Venstre side farger","limit_indicator":"Grenseindikator","percentage_text":"Prosenttekst","right_side":"Høyre side farger","title":"Farger","title_color":"Tittelfarge","value_color":"Verdifarge"},"diff_config":{"current_entity":"Nåværende verdi-entitet","current_entity_desc":"Entitet som representerer nåværende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","desc":"Konfigurer innstillinger for forskjellsberegning","title":"Konfigurasjon av forskjellsberegning","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)"},"entity":{"desc_empty":"Velg en entitet som gir en prosentverdi (0-100). Batterisensorer er ideelle for stolper.","desc_present":"Entiteten som gir prosentverdien for stolpen.","no_entity_warning":"Ingen entitet valgt - Velg en sensor med verdier mellom 0-100","title":"Stolpe prosent-entitet"},"gradient":{"cropped":"Beskåret","desc":"Bruk en fargegradient på stolpefyllet. Når aktivert, velg hvordan gradienten vises og tilpass fargestopp nedenfor.","full":"Full","title":"Gradientmodus","value_based":"Verdibasert"},"labels":{"alignment":"Etikettjustering","alignment_desc":"Kontroller hvordan venstre og høyre etiketter er posisjonert."},"left":{"desc":"Konfigurer tittelen og entitetsverdien vist på venstre side av stolpen. Dette er nyttig for å vise etiketter som \'Rekkevidde\' eller \'Batteri\' sammen med deres verdier.","enable_toggle":"Aktiver bryteren over for å konfigurere venstre side innstillinger","template_desc":"Bruk en mal for å formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Venstre side","title_size":"Tittelstørrelse","value_size":"Verdistørrelse","value_template":"Verdimal","value_template_desc":"Mal for å formatere venstre side verdien ved hjelp av Jinja2-syntaks"},"limit_entity":{"desc":"Valgfritt: Legg til en vertikal indikatorlinje på stolpen (f.eks. ladegrense for EV-batteri).","title":"Grenseverdi-entitet (valgfritt)"},"percentage":{"desc":"Kontroller synligheten og utseendet til prosentverdier vist direkte på stolpen. Disse tallene gir en klar visuell indikator for nåværende nivå.","text_alignment":"Prosenttekst justering","text_size":"Tekststørrelse","text_size_desc":"Juster størrelsen på prosenttekst vist på stolpen.","title":"Prosenttekst visning"},"right":{"desc":"Konfigurer tittelen og entitetsverdien vist på høyre side av stolpen. Dette er ideelt for utfyllende informasjon som \'Tid til full\' eller sekundære målinger.","enable_toggle":"Aktiver bryteren over for å konfigurere høyre side innstillinger","template_desc":"Bruk en mal for å formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Høyre side","title_size":"Tittelstørrelse","value_size":"Verdistørrelse","value_template":"Verdimal","value_template_desc":"Mal for å formatere høyre side verdien ved hjelp av Jinja2-syntaks"},"template_config":{"desc":"Konfigurer malinnstillinger","percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Malkonfigurasjon"}},"image":{"settings":"Bildeinnstillinger","source_type":"Bildekildetype","source_type_desc":"Velg hvordan du vil spesifisere bildekilden.","source":{"default":"Standardbilde","url":"Bilde-URL","upload":"Last opp bilde","entity":"Entitetsbilde","attribute":"Entitetsattributt"},"url_section":{"title":"Konfigurasjon av bilde-URL"},"image_url":"Bilde-URL","image_url_desc":"Skriv inn den direkte URL-en til bildet du vil vise.","upload_section":{"title":"Konfigurasjon av bildeopplasting"},"upload":"Last opp bilde","upload_desc":"Klikk for å laste opp en bildefil fra enheten din.","entity_section":{"title":"Konfigurasjon av entitetsbilde"},"entity":"Entitet","entity_desc":"Velg en entitet som har et bilde (f.eks. person, kameraentiteter).","attribute_section":{"title":"Konfigurasjon av entitetsattributt"},"entity_attr_desc":"Velg entiteten som inneholder bilde-URL-en i et av sine attributter.","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn attributtstien som inneholder bilde-URL-en (punktnotasjon støttet, f.eks. vehicle_data.vehicleDetails.generalDashboard).","width":"Bredde (%)","width_desc":"Sett bredden som en prosent av beholderen.","height":"Høyde (px)","height_desc":"Sett høyden i piksler.","crop_fit":"Beskjær og tilpass","crop_fit_desc":"Kontroller hvordan bildet passer innenfor sin beholder.","fit":{"cover":"Dekk (beskjær for å fylle)","contain":"Innhold (tilpass hele bildet)","fill":"Fyll (strekk for å passe)","scale_down":"Skaler ned","none":"Ingen (original størrelse)"},"border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjørnene til bildet.","tap_actions":"Trykk-handlinger","filters":"Filtre","filter":{"blur":"Uskarphet","blur_desc":"Bruk en uskarphet-effekt på bildet ditt.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrken til bildet ditt.","contrast":"Kontrast (%)","contrast_desc":"Endre kontrasten til bildet ditt.","saturation":"Metning (%)","saturation_desc":"Juster metningen til bildet ditt."},"hover":{"title":"Hover-effekter","effect_type":"Effekttype","effect_type_desc":"Velg typen hover-effekt.","scale":"Skaler (zoom inn/ut)","rotate":"Roter","fade":"Fade (gjennomsiktighetendring)","blur":"Uskarphet","brightness":"Lysstyrke","glow":"Glød (boksskygge)","slide":"Gli (oversett)","scale_amount":"Skaler (%)","scale_amount_desc":"Juster skaleringen av bildet ved hover.","rotate_amount":"Rotasjon (°)","rotate_amount_desc":"Roter bildet ved hover.","opacity":"Gjennomsiktighet (%)","opacity_desc":"Endre gjennomsiktigheten til bildet ved hover.","blur_amount":"Uskarphet (px)","blur_amount_desc":"Bruk en uskarphet-effekt på bildet ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrken til bildet ved hover.","glow_intensity":"Glødintensitet","glow_intensity_desc":"Velg intensiteten til glødeffekten ved hover.","glow_light":"Lett glød","glow_medium":"Medium glød","glow_heavy":"Kraftig glød","glow_custom":"Tilpasset skygge","translate_x":"Horisontal (px)","translate_x_desc":"Oversett bildet horisontalt ved hover.","translate_y":"Vertikal (px)","translate_y_desc":"Oversett bildet vertikalt ved hover."},"alt":"Bilde","no_source":"Ingen bildekilde konfigurert"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Velg visualiseringsstilen for dataene dine."},"types":{"line":"Linjediagram","bar":"Stolpediagram","pie":"Sektordiagram","donut":"Smultringdiagram"},"data_sources":{"title":"Datakilder","add_entity":"Add Entity","add_first_entity":"Legg til din første entitet for å lage et diagram","no_entities":"Ingen entiteter lagt til"},"entity":"Entitet","entity_desc":"Velg en entitet å plotte.","display_name_optional":"Visningsnavn (valgfritt)","use_as_card_info":"Bruk som kortinfo","attribute":"Attributt","attribute_desc":"Bruk entitetstilstand eller velg et spesifikt attributt å spore.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkter","fill_area":"Fyll område","line_style":"Linjestil","line_solid":"Hel","line_dashed":"Stiplet","line_dotted":"Prikket","pie_show_title":"Vis tittel i utsnitt","pie_show_value":"Vis verdi i utsnitt","expand_options":"Utvid alternativer","no_entities":"Ingen entiteter lagt til","add_first_entity":"Legg til din første entitet for å lage et diagram","add_entity":"Add Entity","display_options":{"title":"Visningsalternativer"},"show_title":"Vis diagramtittel","show_value":"Vis diagramverdi","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","period":{"1h":"Siste time","3h":"Siste 3 timer","6h":"Siste 6 timer","12h":"Siste 12 timer","24h":"Siste 24 timer","2d":"Siste 2 dager","7d":"Siste uke","30d":"Siste måned","90d":"Siste 3 måneder","365d":"Siste år"},"normalize_values":"Normaliser verdier til samme skala","normalize_desc":"Nyttig når du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","chart_height":"Diagramhøyde","reset_345":"Tilbakestill til standard (345px)","chart_width":"Diagrambredde (%)","reset_100":"Tilbakestill til standard (100%)","agg":{"count":"Antall","delta":"Endring","first":"Første verdi","last":"Siste verdi","max":"Maksimum","mean":"Gjennomsnitt","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Legg til utsnittgap","background_color":"Bakgrunnsfarge","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagrammet innenfor sin beholder.","chart_height":"Diagramhøyde","chart_options":"Diagramalternativer","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","chart_width":"Diagrambredde (%)","chart_width_desc":"Prosent av modulens tilgjengelige bredde. Justering styrer plassering.","info_position":"Infoposisjon","info_position_desc":"Posisjon til overlegget som viser navn/verdi.","legend_position":"Legendeposisjon","legend_position_desc":"Hvor legenden skal plasseres når aktivert.","normalize_desc":"Nyttig når du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","normalize_values":"Normaliser verdier til samme skala","show_grid":"Vis rutenett","show_legend":"Vis legende","show_title":"Vis diagramtittel","show_tooltips":"Vis verktøytips","show_value":"Vis diagramverdi","smooth_lines":"Glatte linjer","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","title":"Visningsalternativer"},"line":{"fill_area":"Fyll område","line_style":"Linjestil","line_width":"Linjebredde","show_points":"Vis punkter"},"line_styles":{"dashed":"Stiplet","dotted":"Prikket","solid":"Hel"},"pie":{"show_title":"Vis tittel i utsnitt","show_value":"Vis verdi i utsnitt"},"position":{"bottom":"Bunn","bottom_left":"Nederst til venstre","bottom_right":"Nederst til høyre","center":"Senter","hidden":"Skjult","left":"Venstre","middle":"Senter","right":"Høyre","top":"Topp","top_left":"Øverst til venstre","top_right":"Øverst til høyre"}},"button":{"basic":{"title":"Grunninnstillinger","desc":"Konfigurer knappens utseende og tekstinnhold."},"text":{"title":"Knapptekst","desc":"Tekst som skal vises på knappen (la stå tom for kun ikon)."},"style":{"title":"Knappstil","desc":"Visuell stil for knappen"},"alignment":{"title":"Justering","desc":"Hvordan knappen er justert innenfor sin beholder"},"styles":{"flat":"Flat (standard)","glossy":"Blank","embossed":"Preget","inset":"Innfelt","gradient_overlay":"Gradientoverlegg","neon_glow":"Neonglød","outline":"Omriss","glass":"Glass","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Senter","right":"Høyre","justify":"Juster (full bredde)"},"icon":{"title":"Ikoninnstillinger","desc":"Konfigurer ikonvisning og posisjonering for knappen.","before":"Før tekst","after":"Etter tekst","enable_toggle_desc":"Aktiver bryteren over for å konfigurere ikoninnstillinger"},"colors":{"title":"Farger","background":"Bakgrunnsfarge","text":"Tekstfarge"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Velg hover-effekten for denne knappen.","none":"Ingen","color":"Fargeendring","scale":"Skaler","glow":"Glød","lift":"Løft (oversett Y)","hover_color":"Hover-farge","glow_color":"Glødfarge","title":"Hover-effekter","enable_toggle_desc":"Aktiver bryteren over for å konfigurere hover-effekter"},"actions":{"type":"Handlingstype","type_desc":"Velg hva som skjer når knappen klikkes","entity":"Entitet","entity_desc":"Velg entiteten å samhandle med","navigation_path":"Navigasjonsbane","navigation_path_desc":"Bane å navigere til (f.eks. /dashboard/energy)","service":"Tjeneste","service_desc":"Tjeneste å kalle (f.eks. light.turn_on)","service_data":"Tjenestedata (JSON)","service_data_desc":"Valgfrie data å sende til tjenesten (JSON-format)"},"tap":{"title":"Trykk-handling","desc":"Handling å utføre når knappen trykkes"},"hold":{"title":"Hold-handling","desc":"Handling å utføre når knappen holdes nede"},"double":{"title":"Dobbelttrykk-handling","desc":"Handling å utføre når knappen dobbeltrykkes"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon på knappen","icon_desc":"Ikon som skal vises (f.eks. mdi:home)","icon_position":"Ikonposisjon","icon_position_desc":"Posisjon til ikonet relativt til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURASJON"},"entity":"Entitet","entity_desc":"Velg entiteten som skal vises","icon_section":{"title":"Ikoninnstillinger"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon ved siden av entitetsverdien","icon":"Ikon","icon_desc":"Velg et ikon som skal vises","icon_color":"Ikonfarge","name_section":{"title":"Navneinnstillinger"},"show_name":"Vis navn","show_name_desc":"Vis entitetsnavnet over verdien","custom_name":"Tilpasset navn","custom_name_desc":"Overstyr entitetsnavnet med et tilpasset navn","name_color":"Navnefarge","state_section":{"title":"Tilstandsinnstillinger"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/verdi","show_units":"Vis enheter","show_units_desc":"Vis måleenheten (hvis tilgjengelig)","state_color":"Tilstandsfarge","template":{"title":"Malmodus","desc":"Bruk en mal for å formatere entitetsverdien. Maler lar deg bruke Home Assistants malsyntaks for kompleks formatering.","mode":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for å formatere verdien","value":"Verdimal","value_desc":"Mal for å formatere entitetsverdien ved hjelp av Jinja2-syntaks"},"size_section":{"title":"Størrelsesinnstillinger"},"icon_size":"Ikonstørrelse","icon_size_desc":"Størrelse på ikonet i piksler","name_size":"Navnestørrelse","name_size_desc":"Størrelse på entitetsnavnteksten i piksler","value_size":"Verdistørrelse","value_size_desc":"Størrelse på entitetsverditeksten i piksler","icon_gap":"Ikonavstand","icon_gap_desc":"Avstand mellom ikon og innhold i piksler","layout_section":{"title":"Layout og posisjonering"},"icon_position":"Ikonposisjon","overall_alignment":"Overordnet justering","icon_alignment":"Ikonjustering","content_alignment":"Innholdsjustering","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_units":"Med enheter","example_round":"Avrund til 1 desimal"},"camera":{"config":{"title":"Kamerakonfigurasjon","desc":"Konfigurer kameraentiteten og visningsinnstillinger."},"entity":"Kameraentitet","entity_desc":"Velg kameraentiteten som skal vises. Dette bør være en kamera- eller mjpeg-entitet fra Home Assistant.","name":"Kameranavn","name_desc":"Tilpasset navn for kameraet. La stå tom for å bruke entitetsnavn.","show_name":"Vis kameranavn","show_name_desc":"Vis kameranavnet på feeden","name_position":{"group_title":"Kameranavn posisjon","title":"Navneposisjon","desc":"Velg hvor kameranavnet vises som et overlegg på kamerabildet.","options":{"top_left":"Øverst til venstre","top_right":"Øverst til høyre","center":"Senter","bottom_left":"Nederst til venstre","bottom_right":"Nederst til høyre"}},"display":{"title":"Visningsinnstillinger"},"live_view":{"title":"Live visning","desc":"Aktiver for å vise live kamerastrøm (krever strøm-integrasjon). Når deaktivert, vises stillbildeøyeblikksbilder."},"auto_refresh":{"section_title":"Automatiske oppdateringsinnstillinger","title":"Automatisk oppdatering","desc":"Oppdater automatisk kamerabildet med jevne mellomrom"},"refresh_interval":{"title":"Oppdateringsintervall (sekunder)","desc":"Hvor ofte kamerabildet skal oppdateres automatisk."},"dimensions":{"title":"Dimensjoner"},"width":"Bredde (px)","width_desc":"Sett bredden på kameravisningen. Område: 100-1000px","height":"Høyde (px)","height_desc":"Sett høyden på kameravisningen. Område: 100-1000px","link_aspect":"Koble størrelsesforhold","unlink_aspect":"Frakoble størrelsesforhold","aspect_linked":{"title":"Størrelsesforhold koblet","desc":"Dimensjoner opprettholder {ratio}:1 forhold. Justering av en dimensjon oppdaterer automatisk den andre for å opprettholde proporsjoner."},"aspect_independent":{"title":"Uavhengige dimensjoner","desc":"Bredde og høyde kan justeres uavhengig. Klikk på koblingknappen over for å opprettholde størrelsesforhold."},"crop":{"title":"Beskjær og posisjon","desc":"Juster beskjæringen og posisjonen til kameravisningen. Nyttig for å fokusere på spesifikke områder eller fjerne uønskede kanter.","left_title":"Venstre beskjæring (%)","left_desc":"Beskjær fra venstre kant. Høyere verdier viser mindre av venstre side.","right_title":"Høyre beskjæring (%)","right_desc":"Beskjær fra høyre kant. Høyere verdier viser mindre av høyre side.","top_title":"Topp beskjæring (%)","top_desc":"Beskjær fra topp kant. Høyere verdier viser mindre av toppområdet.","bottom_title":"Bunn beskjæring (%)","bottom_desc":"Beskjær fra bunn kant. Høyere verdier viser mindre av bunnområdet.","active_applied":"Aktive beskjæringer anvendt","reset_all":"Tilbakestill alle beskjæringer"},"template":{"title":"Malmodus","desc":"Bruk en mal for å dynamisk sette kameraentiteten. Maler lar deg bruke Home Assistants malsyntaks for betinget kameravalg.","mode_label":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for å dynamisk velge kameraentitet","camera_template_label":"Kameramal","camera_template_desc":"Mal for å dynamisk sette kameraentiteten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example1_desc":"Vis kamera når været er solrikt","example2_desc":"Bytt mellom kameraer basert på input boolean","example3_desc":"Bruk input select for å velge kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktiver bryteren over for å konfigurere kameranavn visning"}},"separator":{"config":{"title":"Separatorkonfigurasjon"},"style":{"title":"Separatorstil","desc":"Velg den visuelle stilen til separatorlinjen."},"options":{"solid":"Hel linje","double":"Dobbel linje","dotted":"Prikket linje","double_dotted":"Dobbel prikket","shadow":"Skygge","blank":"Tomt rom"},"appearance":{"title":"Utseende"},"thickness":"Tykkelse (px)","thickness_desc":"Tykkelse på separatorlinjen.","width":"Bredde (%)","width_desc":"Bredde på separatoren som prosent av beholder.","color":{"title":"Farge","desc":"Farge på separatorlinjen."},"show_title":"Vis tittel","show_title_desc":"Legg til tekst i midten av separatorlinjen (f.eks. ------ Tekst ------)","text_content":{"title":"Tekstinnhold","desc":"Tekst som skal vises i midten av separatoren."},"font_size":"Skriftstørrelse","font_size_desc":"Størrelse på teksten i piksler.","text_color":{"title":"Tekstfarge","desc":"Farge på separatorteksten."},"text_format":{"title":"Tekstformatering","desc":"Bruk formateringsstiler på separatorteksten.","bold":"Fet","italic":"Kursiv","underline":"Understreking","uppercase":"Store bokstaver","strikethrough":"Gjennomstreking"},"spacer":{"title":"Avstandshøyde"},"height":"Høyde (px)","height_desc":"Styrer det visuelle gapet for tomt rom.","show_title_toggle":{"enable_toggle_desc":"Aktiver bryteren over for å konfigurere tittelinnstillinger"}},"layout_extra":{"module_name":"Modulnavn:","module_name_placeholder":"Gi denne modulen et tilpasset navn for å gjøre det lettere å identifisere i redigereren.","module_name_help":"Gi denne modulen et tilpasset navn for å gjøre det lettere å identifisere i redigereren."},"layout_logic":{"display_title":"Vis dette elementet","display_desc":"Kontroller når dette elementet vises. Velg \\"Alltid\\" for å holde det synlig. Velg \\"Hvis ALLE betingelser nedenfor er oppfylt\\" eller \\"Hvis NOEN betingelse nedenfor er oppfylt\\" for å vise det bare når betingelsene du legger til nedenfor evalueres som sanne.","always":"Alltid","every":"Hvis ALLE betingelser nedenfor er oppfylt","any":"Hvis NOEN betingelse nedenfor er oppfylt","conditions":"Betingelser","add_condition":"Legg til betingelse","no_conditions":"Ingen betingelser lagt til ennå. Klikk \\"Legg til betingelse\\" for å komme i gang.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattributt","time":"Tidsområde","template":"Mal"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Verdi","attribute":"Attributt","time_from":"Fra","time_to":"Til","template":"Mal"},"condition_header":"Betingelse","custom_name":"Tilpasset navn","custom_name_desc":"Valgfritt: Gi denne betingelsen et tilpasset navn for enklere identifikasjon","condition_type":"Betingelsestype"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurer visuelle effekter som vises når du hover over denne modulen, raden eller kolonnen.","effect":"Hover-effekt","effect_desc":"Velg den visuelle effekten som skal brukes ved hovring","effects":{"none":"Ingen","highlight":"Uthev","outline":"Kontur","grow":"Voks","shrink":"Krympe","pulse":"Pulsere","bounce":"Sprette","float":"Flyte","glow":"Gløde","shadow":"Skygge","rotate":"Rotere","skew":"Skjevt","wobble":"Vakle","buzz":"Vibrere","fade":"Falme"}},"design":{"copy":"Kopier","paste":"Lim inn","reset_all":"Tilbakestill alt","copy_tooltip":"Kopier nåværende designinnstillinger (virker på tvers av alle Ultra Cards)","paste_tooltip_has":"Lim inn kopierte designinnstillinger (fra tverrkort-utklippstavle)","paste_tooltip_none":"Ingen designinnstillinger i tverrkort-utklippstavle","reset_all_tooltip":"Tilbakestill alle designinnstillinger til standard","text_section":"Tekst","text_color":"Tekstfarge","alignment":"Justering","inherit_alignment":"Arv (ingen justering)","font_size":"Skriftstørrelse","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Tilbakestill skriftstørrelse til standard","line_height":"Linjehøyde","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Tilbakestill linjehøyde til standard","letter_spacing":"Bokstavavstand","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Tilbakestill bokstavavstand til standard","font":"Skrifttype","font_weight":"Skriftvekt","text_transform":"Teksttransformasjon","font_style":"Skriftstil","default_option":"– Standard –","weight_thin":"100 - Tynn","weight_light":"300 - Lett","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Halvfet","weight_bold":"700 - Fet","weight_black":"900 - Svart","transform_none":"Ingen","transform_uppercase":"STORE BOKSTAVER","transform_lowercase":"små bokstaver","transform_capitalize":"Stor forbokstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skrå","background_section":"Bakgrunn","background_color":"Bakgrunnsfarge","background_image_type":"Bakgrunnsbilde type","bg_none":"Ingen","bg_upload":"Last opp bilde","bg_entity":"Entitetsbilde","bg_url":"Bilde-URL","sizes_section":"Størrelser","spacing_section":"Avstand","border_section":"Kant","text_shadow_section":"Tekstskygge","box_shadow_section":"Boksskygge","position_section":"Posisjon","overflow_section":"Overflyt","animations_section":"Animasjoner","width":"Bredde","height":"Høyde","max_width":"Maks bredde","max_height":"Maks høyde","min_width":"Min bredde","min_height":"Min høyde","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredde","border_color":"Kantfarge","margin":"Margin","padding":"Polstring","top":"Topp","right":"Høyre","bottom":"Bunn","left":"Venstre","unlock_sides":"Lås opp for å redigere sider uavhengig","lock_sides":"Lås for å redigere alle sider sammen","horizontal_shift":"Horisontal forskyvning","vertical_shift":"Vertikal forskyvning","blur":"Uskarphet","text_shadow_color":"Tekstskygge farge","box_shadow_color":"Boksskygge farge","overflow":"Overflyt","clip_path":"Klippebane","upload_bg_image":"Last opp bakgrunnsbilde","bg_image_entity":"Bakgrunnsbilde-entitet","bg_image_url":"Bakgrunnsbilde-URL","choose_file":"Velg fil","no_file_chosen":"Ingen fil valgt","backdrop_filter":"Bakgrunnsfilter","spread":"Spredning","visible_default":"Synlig (standard)","examples":"Eksempler","state_based_animation":"Tilstandsbasert animasjon","animation_type":"Animasjonstype","animation_duration":"Animation Duration","animation_duration_desc":"Varighet for animasjonen (f.eks. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outro-animasjoner","intro_animation":"Intro-animasjon","outro_animation":"Outro-animasjon","duration":"Varighet","delay":"Forsinkelse","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Hel","border_style_dashed":"Stiplet","border_style_dotted":"Prikket","border_style_double":"Double","position_default":"– Standard –","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolutt","position_fixed":"Fast","position_sticky":"Klebrig"},"modules":{"text":"Tekstmodul","image":"Bildemodul","icon":"Ikonmodul","bar":"Stolpemodul","info":"Infomodul","button":"Knappmodul","separator":"Separatormodul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Grafmodul","no_text_configured":"Ingen tekst konfigurert","no_image_configured":"Ingen bilde konfigurert","uploaded_image":"Opplastet bilde","icons_configured":"{count} ikoner konfigurert","no_icons_configured":"Ingen ikoner konfigurert","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst"},"common":{"attribute":"Attributt","attribute_name":"Attributtnavn","baseline":"Grunnlinje","bottom":"Bunn","center":"Senter","entity":"Entitet","justify":"Juster","left":"Venstre","none":"Ingen","right":"Høyre","space_around":"Plass rundt","space_between":"Plass mellom","state":"Tilstand","stretch":"Strekk","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Horisontal justering","horizontal_desc":"Velg hvordan elementer justeres horisontalt innenfor beholderen.","vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for å se dem her","no_modules":"Ingen moduler lagt til ennå"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom horisontale elementer (i rem-enheter). Bruk negative verdier for å overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres horisontalt innenfor beholderen.","title":"Layoutkonfigurasjon"},"wrapping":{"desc":"Tillat elementer å bryte til neste linje når de overskrider beholderbredden.","title":"Tillat ombrytning"}},"markdown":{"code_highlighting":"Kodemarkering","code_highlighting_desc":"Syntaksmarkering for kodeblokker","content":{"desc":"Skriv inn ditt markdown-innhold med full formateringsstøtte","label":"Innhold","title":"Markdown-innhold"},"enable_html":"Aktiver HTML","enable_html_desc":"Tillat HTML-tagger i markdown-innhold","enable_tables":"Aktiver tabeller","enable_tables_desc":"Støtte for markdown-tabellsyntaks","features":{"title":"Markdown-funksjoner"}},"vertical":{"alignment":{"vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for å se dem her","no_modules":"Ingen moduler lagt til ennå"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom vertikale elementer (i rem-enheter). Bruk negative verdier for å overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres vertikalt innenfor beholderen.","title":"Layoutkonfigurasjon"}}}}');var S=i.t(z,2);const C=JSON.parse('{"editor":{"tabs":{"layout":"Konstruktor układu","settings":"Ustawienia","about":"O programie"},"settings":{"title":"Ustawienia karty","description":"Konfiguruj globalny wygląd i zachowanie karty."},"appearance":{"title":"Wygląd","description":"Kontroluj wizualny wygląd swojej karty"},"spacing":{"title":"Odstępy","description":"Kontroluj odstępy i pozycjonowanie swojej karty"},"fields":{"card_background_color":"Kolor tła karty","card_background_color_desc":"Kolor tła całej karty","border_radius":"Promień obramowania","border_radius_desc":"Zaokrąglone rogi karty (w pikselach)","card_padding":"Wypełnienie karty","card_padding_desc":"Wewnętrzne odstępy w karcie","card_margin":"Margines karty","card_margin_desc":"Zewnętrzne odstępy wokół karty","unit_px":"px","reset_default":"Przywróć domyślne","reset_default_value":"Przywróć domyślne ({value})"},"tooltips":{"enter_fullscreen":"Pełny ekran","return_dashboard":"Powrót do pulpitu","dashboard":"Pulpit"},"layout":{"live_preview":"Podgląd na żywo","toggle_preview":"Przełącz podgląd","drag_to_move_module":"Przeciągnij, aby przenieść moduł","edit_module":"Edytuj moduł","duplicate_module":"Duplikuj moduł","delete_module":"Usuń moduł","drag_to_move_layout":"Przeciągnij, aby przenieść moduł układu","horizontal_layout":"Układ poziomy","vertical_layout":"Układ pionowy","add_module_to_layout":"Dodaj moduł do układu","layout_settings":"Ustawienia układu","duplicate_layout":"Duplikuj układ","delete_layout":"Usuń układ","click_to_add_module":"Kliknij, aby dodać moduł","drop_modules_here":"Upuść moduły tutaj","drag_to_reorder":"Przeciągnij, aby zmienić kolejność","edit_child_module":"Edytuj moduł potomny","duplicate_child_module":"Duplikuj moduł potomny","delete_child_module":"Usuń moduł potomny","module_settings_title":"Ustawienia modułu","general_tab":"Ogólne","actions_tab":"Akcje","other_tab":"Inne","logic_tab":"Logika","design_tab":"Projekt","drag_to_resize":"Przeciągnij, aby zmienić rozmiar","hidden_by_logic":"Ukryte przez logikę","child_module_settings_title":"Ustawienia modułu potomnego","add_row":"Dodaj wiersz","add_row_tooltip":"Dodaj nowy wiersz do swojego układu","row_settings":"Ustawienia wiersza","column_settings":"Ustawienia kolumny","row_background_color":"Kolor tła wiersza","column_gap":"Odstęp kolumn (px)","vertical_alignment":"Wyrównanie pionowe","horizontal_alignment":"Wyrównanie poziome","column_preview":"Podgląd kolumny","modules_count":"{count} modułów","alignment_top":"Góra","alignment_center":"Środek","alignment_bottom":"Dół","alignment_stretch":"Rozciągnij","alignment_left":"Lewo","alignment_right":"Prawo"},"about":{"developed_by":"Opracowane przez","desc1":"Potężny modularny konstruktor kart dla Home Assistant","desc2":"Twórz niestandardowe układy z profesjonalnym interfejsem konstruktora stron","desc3":"Modularny system układów z logiką warunkową i profesjonalnymi narzędziami projektowymi","github_repo":"Repozytorium GitHub","version":"Wersja","join_discord":"Dołącz do naszego Discorda","support_title":"Wspieraj Ultra Card","support_desc":"Twoje hojne napiwki napędzają rozwój niesamowitych funkcji tej karty! Bez wsparcia użytkowników takich jak ty, ciągłe innowacje nie byłyby możliwe.","leave_tip":"ZOSTAW NAPIWEK (PAYPAL)"},"actions":{"title":"Konfiguracja akcji","description":"Skonfiguruj, jak ten moduł reaguje na interakcje użytkownika. Używa natywnego systemu akcji Home Assistant dla spójnego zachowania na pulpicie.","tap_action":"Akcja dotknięcia","tap_action_desc":"Akcja wykonywana przy dotknięciu/kliknięciu modułu","hold_action":"Akcja przytrzymania","hold_action_desc":"Akcja wykonywana przy przytrzymaniu modułu","double_tap_action":"Akcja podwójnego dotknięcia","double_tap_action_desc":"Akcja wykonywana przy podwójnym dotknięciu modułu","tap_behavior":"Zachowanie dotknięcia","tap_behavior_desc":"Akcja do wykonania gdy element jest dotknięty/kliknięty.","hold_behavior":"Zachowanie przytrzymania","hold_behavior_desc":"Akcja do wykonania gdy element jest naciśnięty i przytrzymany.","double_tap_behavior":"Zachowanie podwójnego dotknięcia","double_tap_behavior_desc":"Akcja do wykonania gdy element jest podwójnie dotknięty/kliknięty."},"icon":{"entity_config":{"title":"KONFIGURACJA ENCJI","desc":"Skonfiguruj encję i stany aktywny/nieaktywny"},"entity":"Encja","entity_desc":"Wybierz encję, którą reprezentuje ta ikona","inactive_state":"Stan nieaktywny","inactive_state_desc":"Wartość stanu uważana za \\"nieaktywną\\" (zostaw puste, aby użyć rzeczywistego stanu encji)","active_state":"Stan aktywny","active_state_desc":"Wartość stanu uważana za \\"aktywną\\" (zostaw puste, aby użyć rzeczywistego stanu encji)","active_animation":"Aktywna animacja","active_animation_desc":"Animacja gdy ikona jest aktywna","active_icon":"Aktywna ikona","active_icon_background":"Tło aktywnej ikony","active_icon_background_color":"Kolor tła aktywnej ikony","active_icon_color":"Kolor aktywnej ikony","active_icon_desc":"Ikona do pokazania gdy aktywna","active_name":"Aktywna nazwa","active_name_color":"Kolor aktywnej nazwy","active_name_desc":"Niestandardowa nazwa gdy aktywna","active_state_color":"Kolor aktywnego stanu","active_state_text":"Tekst aktywnego stanu","animation_bounce":"Odbicie","animation_fade":"Zanikanie","animation_flash":"Błysk","animation_none":"Brak","animation_pulse":"Puls","animation_rotate_left":"Obrót w lewo","animation_rotate_right":"Obrót w prawo","animation_scale":"Skala","animation_section":{"desc":"Skonfiguruj animacje dla stanów aktywnych i nieaktywnych","title":"Animacja ikony"},"animation_shake":"Trzęsienie","animation_spin":"Obrót","animation_tada":"Tada","animation_vibrate":"Wibracja","background_color_active":"Kolor tła gdy aktywny","background_color_inactive":"Kolor tła gdy nieaktywny","background_section":{"desc":"Skonfiguruj ustawienia nieaktywnego tła","title":"Nieaktywne tło"},"background_shape_active":"Kształt tła gdy aktywny","background_shape_inactive":"Kształt tła gdy nieaktywny","custom_active_name":"Niestandardowa aktywna nazwa","custom_active_name_desc":"Nadpisz nazwę encji gdy aktywna (zostaw puste, aby użyć nazwy encji)","custom_active_state":"Niestandardowy aktywny stan","custom_active_state_desc":"Niestandardowy tekst gdy aktywny (zostaw puste, aby użyć rzeczywistego stanu)","custom_inactive_name":"Niestandardowa nieaktywna nazwa","custom_inactive_name_desc":"Nadpisz nazwę encji gdy nieaktywna (zostaw puste, aby użyć nazwy encji)","custom_inactive_state":"Niestandardowy nieaktywny stan","custom_inactive_state_desc":"Niestandardowy tekst gdy nieaktywny (zostaw puste, aby użyć rzeczywistego stanu)","icon_color_active":"Kolor gdy aktywny","icon_color_inactive":"Kolor gdy nieaktywny","icon_section":{"title":"Konfiguracja ikony"},"icon_size_active":"Rozmiar ikony gdy aktywna","icon_size_inactive":"Rozmiar ikony gdy nieaktywna","inactive_animation":"Nieaktywna animacja","inactive_animation_desc":"Animacja gdy ikona jest nieaktywna","inactive_icon":"Nieaktywna ikona","inactive_icon_background":"Tło nieaktywnej ikony","inactive_icon_background_color":"Kolor tła nieaktywnej ikony","inactive_icon_color":"Kolor nieaktywnej ikony","inactive_icon_config":"Konfiguracja nieaktywnej ikony","inactive_icon_config_desc":"Skonfiguruj ustawienia nieaktywnej ikony","inactive_icon_desc":"Ikona do pokazania gdy nieaktywna","inactive_name":"Nieaktywna nazwa","inactive_name_color":"Kolor nieaktywnej nazwy","inactive_name_config":"Konfiguracja nieaktywnej nazwy","inactive_name_config_desc":"Skonfiguruj ustawienia nieaktywnej nazwy","inactive_name_desc":"Niestandardowa nazwa gdy nieaktywna","inactive_state_color":"Kolor nieaktywnego stanu","inactive_state_config":"Konfiguracja nieaktywnego stanu","inactive_state_config_desc":"Skonfiguruj ustawienia nieaktywnego stanu","inactive_state_text":"Tekst nieaktywnego stanu","name_color_active":"Kolor nazwy gdy aktywna","name_color_inactive":"Kolor nazwy gdy nieaktywna","name_section":{"title":"Konfiguracja nazwy"},"name_size_active":"Rozmiar tekstu nazwy gdy aktywna","name_size_inactive":"Rozmiar tekstu nazwy gdy nieaktywna","state_color_active":"Kolor stanu gdy aktywny","state_color_inactive":"Kolor stanu gdy nieaktywny","state_section":{"title":"Konfiguracja stanu"},"state_size_active":"Rozmiar tekstu stanu gdy aktywny","state_size_inactive":"Rozmiar tekstu stanu gdy nieaktywny","template":"Szablon","template_mode":"Zaawansowany tryb szablonu","template_section":{"desc":"Użyj szablonów Jinja2 dla zaawansowanej kontroli ikon. Szablony mogą kontrolować widoczność (prawda/fałsz do pokazywania/ukrywania ikon) i dostosowywać tekst stanu. Zwróć niestandardowy tekst dla stanu aktywnego, zwróć rzeczywisty stan encji dla stanu nieaktywnego.","title":"Zaawansowany tryb szablonu"}},"text":{"content_section":{"title":"Konfiguracja zawartości","desc":"Skonfiguruj zawartość tekstową i podstawowe ustawienia tego modułu."},"text_content":"Zawartość tekstowa","text_content_desc":"Wprowadź zawartość tekstową do wyświetlenia w tym module.","icon_section":{"title":"Konfiguracja ikony","desc":"Wybierz ikonę do wyświetlenia obok zawartości tekstowej."},"icon":"Ikona","icon_desc":"Wybierz ikonę do wyświetlenia obok tekstu. Zostaw puste dla braku ikony.","icon_position":"Pozycja ikony","icon_position_desc":"Wybierz gdzie umieścić ikonę względem tekstu.","before_text":"Przed tekstem","after_text":"Po tekście","template_mode":"Tryb szablonu","template_mode_desc":"Użyj składni szablonów Home Assistant do renderowania tekstu","value_template":"Szablon wartości","value_template_desc":"Szablon do renderowania tekstu używając składni Jinja2","examples_title":"Typowe przykłady:","example_basic":"Podstawowa wartość","example_percent":"Z procentem"},"bar":{"bar_settings":{"title":"Ustawienia paska","desc":"Skonfiguruj jak procent paska jest obliczany i wyświetlany."},"perc_type":{"entity":"Encja (0-100)","attribute":"Atrybut encji","difference":"Różnica","template":"Szablon"},"attribute_section":{"title":"Konfiguracja atrybutu encji","desc":"Skonfiguruj ustawienia atrybutu encji"},"attribute_entity":"Encja atrybutu","attribute_entity_desc":"Wybierz encję zawierającą atrybut z wartością procentową","attribute_name":"Nazwa atrybutu","attribute_name_desc":"Wprowadź nazwę atrybutu zawierającego wartość procentową (np. \\"battery_level\\")","diff_section":{"title":"Konfiguracja obliczania różnicy","desc":"Skonfiguruj ustawienia obliczania różnicy"},"current_entity":"Encja bieżącej wartości","current_entity_desc":"Encja reprezentująca bieżącą/zużytą ilość (np. zużyte paliwo, zużyta bateria)","total_entity":"Encja całkowitej wartości","total_entity_desc":"Encja reprezentująca całkowitą/maksymalną ilość (np. pojemność paliwa, pojemność baterii)","template_section":{"title":"Konfiguracja szablonu","desc":"Skonfiguruj ustawienia szablonu"},"percentage_template":"Szablon procentowy","percentage_template_desc":"Wprowadź szablon Jinja2 zwracający liczbę między 0-100 dla procentu. Przykład: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animuj wypełnienie paska używając ustawień jak paski ładowania, puls, blask i więcej. Możesz wyzwalać animacje na podstawie stanu lub atrybutu encji i opcjonalnie nadpisać animację gdy spełniony jest inny warunek.","override":{"attribute_name_desc":"Nazwa atrybutu do porównania","desc":"Wybierz encję akcji i stan aby zdefiniować kiedy ta animacja powinna nadpisać regularną animację","entity_desc":"Encja do oceny dla wyzwalacza nadpisania","match_value":"Nadpisz wartość dopasowania","match_value_desc":"Porównanie tekstowe ze stanem lub atrybutem","title":"Nadpisanie animacji akcji","type":"Nadpisz typ animacji","type_desc":"Animacja do użycia gdy warunek nadpisania jest spełniony."},"title":"Animacja paska","trigger":{"attribute_name_desc":"Nazwa atrybutu do porównania (np. charging_status)","desc":"Wybierz encję do obserwowania i zdefiniuj wartość + animację do zastosowania gdy pasuje.","entity_desc":"Encja do oceny dla wyzwalacza animacji","match_value":"Wartość dopasowania","match_value_desc":"Tekst do porównania ze stanem lub atrybutem (porównanie jest tekstowe).","title":"Wyzwalacz animacji","type":"Typ wyzwalacza","type_desc":"Wybierz czy porównać stan encji czy atrybut"},"type":"Typ animacji","type_desc":"Wybierz jak pasek powinien się animować gdy wyzwolony.","types":{"blinking":"Miganie","bouncing":"Odbijanie","bubbles":"Bąbelki","charging":"Ładowanie (linie ukośne)","fill":"Wypełnienie","flicker":"Migotanie","glow":"Blask","heartbeat":"Bicie serca","pulse":"Puls","rainbow":"Tęcza","ripple":"Fala","shimmer":"Połysk","traffic":"Ruch (słup fryzjerski)","vibrate":"Wibracja"}},"appearance":{"direction":"Kierunek wypełniania","direction_desc":"Wybierz kierunek, w którym pasek wypełnia się wraz ze wzrostem wartości.","left_to_right":"Z lewej do prawej","right_to_left":"Z prawej do lewej","alignment":"Wyrównanie paska","alignment_desc":"Wybierz jak wyrównać pasek gdy ma mniej niż 100% szerokości.","border_radius":"Promień obramowania","border_radius_desc":"Kontroluj zaokrąglone rogi paska.","height":"Wysokość paska","height_desc":"Dostosuj grubość paska postępu w pikselach.","style":"Styl paska","style_dashed":"Dashed","style_desc":"Wybierz wizualny styl paska postępu.","style_dots":"Dots","style_embossed":"Wytłoczony","style_flat":"Płaski (domyślny)","style_glass":"Szkło","style_glossy":"Błyszczący","style_gradient":"Nakładka gradientu","style_inset":"Wgłębiony","style_metallic":"Metaliczny","style_neon":"Neonowy blask","style_neumorphic":"Neumorficzny","style_outline":"Kontur","title":"Wygląd paska","width":"Szerokość paska","width_desc":"Ustaw szerokość paska jako procent kontenera."},"attr_config":{"attribute_entity":"Encja atrybutu","attribute_entity_desc":"Wybierz encję zawierającą atrybut z wartością procentową","attribute_name":"Nazwa atrybutu","attribute_name_desc":"Wprowadź nazwę atrybutu zawierającego wartość procentową (np. \\"battery_level\\")","desc":"Skonfiguruj ustawienia atrybutu encji","title":"Konfiguracja atrybutu encji"},"colors":{"background_color":"Kolor tła","bar_color":"Kolor paska","border_color":"Kolor obramowania","left_side":"Kolory lewej strony","limit_indicator":"Wskaźnik limitu","percentage_text":"Tekst procentowy","right_side":"Kolory prawej strony","title":"Kolory","title_color":"Kolor tytułu","value_color":"Kolor wartości"},"diff_config":{"current_entity":"Encja bieżącej wartości","current_entity_desc":"Encja reprezentująca bieżącą/zużytą ilość (np. zużyte paliwo, zużyta bateria)","desc":"Skonfiguruj ustawienia obliczania różnicy","title":"Konfiguracja obliczania różnicy","total_entity":"Encja całkowitej wartości","total_entity_desc":"Encja reprezentująca całkowitą/maksymalną ilość (np. pojemność paliwa, pojemność baterii)"},"entity":{"desc_empty":"Wybierz encję dostarczającą wartość procentową (0-100). Sensory baterii są idealne dla pasków.","desc_present":"Encja dostarczająca wartość procentową dla paska.","no_entity_warning":"Nie wybrano encji - Proszę wybrać sensor z wartościami między 0-100","title":"Encja procentu paska"},"gradient":{"cropped":"Cropped","desc":"Apply a color gradient to the bar fill. When enabled, choose how the gradient is displayed and customize color stops below.","full":"Full","title":"Gradient Mode","value_based":"Value Based"},"labels":{"alignment":"Label Alignment","alignment_desc":"Control how left and right labels are positioned."},"left":{"desc":"Configure the title and entity value shown on the left side of the bar. This is useful for displaying labels like \'Range\' or \'Battery\' alongside their values.","enable_toggle":"Enable the toggle above to configure left side settings","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","template_mode":"Tryb szablonu","title":"Left Side","title_size":"Title Size","value_size":"Value Size","value_template":"Szablon wartości","value_template_desc":"Template to format the left side value using Jinja2 syntax"},"limit_entity":{"desc":"Opcjonalne: Dodaj pionową linię wskaźnika na pasku (np. limit ładowania dla baterii EV).","title":"Encja wartości limitu (opcjonalne)"},"percentage":{"desc":"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.","text_alignment":"Percentage Text Alignment","text_size":"Text Size","text_size_desc":"Adjust the size of percentage text shown on the bar.","title":"Percentage Text Display"},"right":{"desc":"Configure the title and entity value shown on the right side of the bar. This is ideal for complementary information like \'Time to Full\' or secondary measurements.","enable_toggle":"Enable the toggle above to configure right side settings","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","template_mode":"Tryb szablonu","title":"Right Side","title_size":"Title Size","value_size":"Value Size","value_template":"Szablon wartości","value_template_desc":"Template to format the right side value using Jinja2 syntax"},"template_config":{"desc":"Skonfiguruj ustawienia szablonu","percentage_template":"Szablon procentowy","percentage_template_desc":"Wprowadź szablon Jinja2 zwracający liczbę między 0-100 dla procentu. Przykład: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Konfiguracja szablonu"}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Atrybut encji"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Encja","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Konfiguracja atrybutu encji"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Nazwa atrybutu","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Promień obramowania","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Obraz","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","add_entity":"Add Entity","add_first_entity":"Add your first entity to create a chart","no_entities":"No entities added"},"entity":"Encja","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Atrybut","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","reset_345":"Reset to default (345px)","chart_width":"Chart Width (%)","reset_100":"Reset to default (100%)","agg":{"count":"Count","delta":"Change","first":"First Value","last":"Last Value","max":"Maximum","mean":"Average","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Add Slice Gap","background_color":"Kolor tła","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","chart_height":"Chart Height","chart_options":"Chart Options","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","normalize_values":"Normalize values to same scale","show_grid":"Show Grid","show_legend":"Show Legend","show_title":"Show Graph Title","show_tooltips":"Show Tooltips","show_value":"Show Graph Value","smooth_lines":"Smooth Lines","time_period":"Time Period","time_period_desc":"How much historical data to show.","title":"Display Options"},"line":{"fill_area":"Fill Area","line_style":"Line Style","line_width":"Line Width","show_points":"Show Points"},"line_styles":{"dashed":"Dashed","dotted":"Dotted","solid":"Solid"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"position":{"bottom":"Dół","bottom_left":"Bottom Left","bottom_right":"Bottom Right","center":"Środek","hidden":"Hidden","left":"Lewo","middle":"Środek","right":"Prawo","top":"Góra","top_left":"Top Left","top_right":"Top Right"}},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Płaski (domyślny)","glossy":"Błyszczący","embossed":"Wytłoczony","inset":"Wgłębiony","gradient_overlay":"Nakładka gradientu","neon_glow":"Neonowy blask","outline":"Kontur","glass":"Szkło","metallic":"Metaliczny"},"align":{"left":"Lewo","center":"Środek","right":"Prawo","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Przed tekstem","after":"Po tekście","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"colors":{"title":"Kolory","background":"Kolor tła","text":"Text Color"},"hover":{"effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"Brak","color":"Color Change","scale":"Skala","glow":"Blask","lift":"Lift (translate Y)","hover_color":"Hover Color","glow_color":"Glow Color","title":"Hover Effects","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Encja","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Akcja dotknięcia","desc":"Action to perform when button is tapped"},"hold":{"title":"Akcja przytrzymania","desc":"Action to perform when button is held down"},"double":{"title":"Akcja podwójnego dotknięcia","desc":"Action to perform when button is double-tapped"},"show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Pozycja ikony","icon_position_desc":"Position of the icon relative to text","icon_field":"Ikona"},"info":{"entity_section":{"title":"KONFIGURACJA ENCJI"},"entity":"Encja","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Ikona","icon_desc":"Choose an icon to display","icon_color":"Icon Color","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Color","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Color","template":{"title":"Tryb szablonu","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Tryb szablonu","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Szablon wartości","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Value Size","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Pozycja ikony","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Typowe przykłady:","example_basic":"Podstawowa wartość","example_units":"With units","example_round":"Round to 1 decimal"},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Środek","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Tryb szablonu","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Tryb szablonu","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Typowe przykłady:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"},"show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Wygląd"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Color","desc":"Color of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","text_content":{"title":"Zawartość tekstowa","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Color","desc":"Color of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space.","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"}},"layout_extra":{"module_name":"Nazwa modułu:","module_name_placeholder":"Nadaj temu modułowi niestandardową nazwę, aby łatwiej go identyfikować w edytorze.","module_name_help":"Nadaj temu modułowi niestandardową nazwę, aby łatwiej go identyfikować w edytorze."},"layout_logic":{"display_title":"Wyświetl ten element","display_desc":"Control when this element is shown. Choose \\"Always\\" to keep it visible. Select \\"If EVERY condition below is met\\" or \\"If ANY condition below is met\\" to display it only when the conditions you add below evaluate to true.","always":"Zawsze","every":"If EVERY condition below is met","any":"If ANY condition below is met","conditions":"Warunki","add_condition":"Dodaj warunek","no_conditions":"No conditions added yet. Click \\"Add Condition\\" to get started.","condition_types":{"entity_state":"Entity State","entity_attribute":"Atrybut encji","time":"Time Range","template":"Szablon"},"condition_fields":{"entity":"Encja","operator":"Operator","value":"Value","attribute":"Atrybut","time_from":"From","time_to":"To","template":"Szablon"},"condition_header":"Condition","custom_name":"Custom Name","custom_name_desc":"Optional: Give this condition a custom name for easier identification","condition_type":"Condition Type"},"hover_effects":{"title":"Efekty hover","description":"Skonfiguruj efekty wizualne, które pojawiają się po najechaniu kursorem na ten moduł, wiersz lub kolumnę.","effect":"Efekt hover","effect_desc":"Wybierz efekt wizualny do zastosowania podczas najechania kursorem","effects":{"none":"Brak","highlight":"Podświetlenie","outline":"Kontur","grow":"Powiększenie","shrink":"Zmniejszenie","pulse":"Pulsowanie","bounce":"Odbicie","float":"Unoszenie","glow":"Świecenie","shadow":"Cień","rotate":"Obrót","skew":"Pochylenie","wobble":"Chwianie","buzz":"Wibracja","fade":"Zanikanie"}},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Tekst","text_color":"Text Color","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":"– Default –","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"Brak","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Tło","background_color":"Kolor tła","background_image_type":"Background Image Type","bg_none":"Brak","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Odstępy","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Szerokość","height":"Wysokość","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Promień obramowania","border_style":"Border Style","border_width":"Border Width","border_color":"Kolor obramowania","margin":"Margin","padding":"Padding","top":"Góra","right":"Prawo","bottom":"Dół","left":"Lewo","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Color","box_shadow_color":"Box Shadow Color","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Typ animacji","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"Brak","ease":"Ease","border_style_none":"Brak","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":"– Default –","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Moduł tekstu","image":"Moduł obrazu","icon":"Moduł ikony","bar":"Moduł paska","info":"Info Module","button":"Moduł przycisku","separator":"Separator Module","markdown":"Markdown Module","camera":"Moduł kamery","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text"},"common":{"attribute":"Atrybut","attribute_name":"Nazwa atrybutu","baseline":"Linia bazowa","bottom":"Dół","center":"Środek","entity":"Encja","justify":"Wyjustuj","left":"Lewo","none":"Brak","right":"Prawo","space_around":"Przestrzeń wokół","space_between":"Przestrzeń między","state":"Stan","stretch":"Rozciągnij","top":"Góra"},"horizontal":{"alignment":{"horizontal":"Wyrównanie poziome","horizontal_desc":"Choose how elements are aligned horizontally within the container.","vertical":"Wyrównanie pionowe","vertical_desc":"Choose how elements are aligned vertically within the container."},"empty":{"add_modules":"Add modules in the layout builder to see them here","no_modules":"No modules added yet"},"gap":{"between_items":"Gap Between Items","desc":"Set the spacing between horizontal elements (in rem units). Use negative values to overlap elements.","title":"Gap Configuration"},"layout":{"desc":"Configure how elements are arranged horizontally within the container.","title":"Layout Configuration"},"wrapping":{"desc":"Allow elements to wrap to the next line when they exceed the container width.","title":"Allow Wrapping"}},"markdown":{"code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks","content":{"desc":"Enter your markdown content with full formatting support","label":"Content","title":"Markdown Content"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","features":{"title":"Markdown Features"}},"vertical":{"alignment":{"vertical":"Wyrównanie pionowe","vertical_desc":"Choose how elements are aligned vertically within the container."},"empty":{"add_modules":"Add modules in the layout builder to see them here","no_modules":"No modules added yet"},"gap":{"between_items":"Gap Between Items","desc":"Set the spacing between vertical elements (in rem units). Use negative values to overlap elements.","title":"Gap Configuration"},"layout":{"desc":"Configure how elements are arranged vertically within the container.","title":"Layout Configuration"}}}}');var A=i.t(C,2);const j=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbyggare","settings":"Inställningar","about":"Om"},"settings":{"title":"Kortinställningar","description":"Konfigurera global kortutseende och beteende."},"appearance":{"title":"Utseende","description":"Kontrollera det visuella utseendet på ditt kort"},"spacing":{"title":"Avstånd","description":"Kontrollera avståndet och positioneringen av ditt kort"},"fields":{"card_background_color":"Kortbakgrundsfärg","card_background_color_desc":"Bakgrundsfärgen för hela kortet","border_radius":"Kantradius","border_radius_desc":"Rundade hörn för kortet (i pixlar)","card_padding":"Kortutfyllnad","card_padding_desc":"Internt avstånd inom kortet","card_margin":"Kortmarginal","card_margin_desc":"Externt avstånd runt kortet","unit_px":"px","reset_default":"Återställ till standard","reset_default_value":"Återställ till standard ({value})"},"tooltips":{"enter_fullscreen":"Gå till helskärm","return_dashboard":"Återgå till instrumentpanel","dashboard":"Instrumentpanel"},"layout":{"live_preview":"Live förhandsvisning","toggle_preview":"Växla förhandsvisning","drag_to_move_module":"Dra för att flytta modul","edit_module":"Redigera modul","duplicate_module":"Duplicera modul","delete_module":"Ta bort modul","drag_to_move_layout":"Dra för att flytta layoutmodul","horizontal_layout":"Horisontell layout","vertical_layout":"Vertikal layout","add_module_to_layout":"Lägg till modul i layout","layout_settings":"Layoutinställningar","duplicate_layout":"Duplicera layout","delete_layout":"Ta bort layout","click_to_add_module":"Klicka för att lägga till en modul","drop_modules_here":"Släpp moduler här","drag_to_reorder":"Dra för att ändra ordning","edit_child_module":"Redigera undermodul","duplicate_child_module":"Duplicera undermodul","delete_child_module":"Ta bort undermodul","module_settings_title":"Modulinställningar","general_tab":"Allmänt","actions_tab":"Åtgärder","other_tab":"Annat","logic_tab":"Logik","design_tab":"Design","drag_to_resize":"Dra för att ändra storlek","hidden_by_logic":"Dold av logik","child_module_settings_title":"Undermodulinställningar","add_row":"Lägg till rad","add_row_tooltip":"Lägg till en ny rad till din layout","row_settings":"Radinställningar","column_settings":"Kolumninställningar","row_background_color":"Radbakgrundsfärg","column_gap":"Kolumnavstånd (px)","vertical_alignment":"Vertikal justering","horizontal_alignment":"Horisontell justering","column_preview":"Kolumnförhandsvisning","modules_count":"{count} moduler","alignment_top":"Topp","alignment_center":"Centrum","alignment_bottom":"Botten","alignment_stretch":"Sträck","alignment_left":"Vänster","alignment_right":"Höger"},"about":{"developed_by":"Utvecklad av","desc1":"En kraftfull modulär kortbyggare för Home Assistant","desc2":"Skapa anpassade layouter med ett professionellt sidbyggargränssnitt","desc3":"Modulärt layoutsystem med villkorlig logik och professionella designverktyg","github_repo":"GitHub-förråd","version":"Version","join_discord":"Gå med i vår Discord","support_title":"Stöd Ultra Card","support_desc":"Dina generösa tips driver utvecklingen av fantastiska funktioner för detta kort! Utan stöd från användare som du skulle fortsatt innovation inte vara möjlig.","leave_tip":"LÄMNA ETT TIPS (PAYPAL)"},"actions":{"title":"Åtgärdskonfiguration","description":"Konfigurera hur denna modul svarar på användarinteraktioner. Använder Home Assistants inbyggda åtgärdssystem för konsekvent beteende över din instrumentpanel.","tap_action":"Tryckåtgärd","tap_action_desc":"Åtgärd som utförs vid tryck/klick på modulen","hold_action":"Håll-åtgärd","hold_action_desc":"Åtgärd som utförs vid nedtryckning av modulen","double_tap_action":"Dubbeltryck-åtgärd","double_tap_action_desc":"Åtgärd som utförs vid dubbeltryck på modulen","tap_behavior":"Tryckbeteende","tap_behavior_desc":"Åtgärd att utföra när elementet trycks/klickas.","hold_behavior":"Håll-beteende","hold_behavior_desc":"Åtgärd att utföra när elementet trycks och hålls.","double_tap_behavior":"Dubbeltryck-beteende","double_tap_behavior_desc":"Åtgärd att utföra när elementet dubbeltrycks/klickas."},"icon":{"entity_config":{"title":"ENTITETSKONFIGURATION","desc":"Konfigurera entiteten och aktiva/inaktiva tillstånd"},"entity":"Entitet","entity_desc":"Välj entiteten som denna ikon representerar","inactive_state":"Inaktivt tillstånd","inactive_state_desc":"Tillståndsvärde som anses \\"inaktivt\\" (lämna tomt för att använda faktiskt entitetstillstånd)","active_state":"Aktivt tillstånd","active_state_desc":"Tillståndsvärde som anses \\"aktivt\\" (lämna tomt för att använda faktiskt entitetstillstånd)","active_animation":"Aktiv animation","active_animation_desc":"Animation när ikon är aktiv","active_icon":"Aktiv ikon","active_icon_background":"Aktiv ikon bakgrund","active_icon_background_color":"Aktiv ikon bakgrundsfärg","active_icon_color":"Aktiv ikon färg","active_icon_desc":"Ikon att visa när aktiv","active_name":"Aktivt namn","active_name_color":"Aktivt namn färg","active_name_desc":"Anpassat namn när aktiv","active_state_color":"Aktiv tillståndsfärg","active_state_text":"Aktiv tillståndstext","animation_bounce":"Studsa","animation_fade":"Tona","animation_flash":"Blinka","animation_none":"Ingen","animation_pulse":"Pulsera","animation_rotate_left":"Rotera vänster","animation_rotate_right":"Rotera höger","animation_scale":"Skala","animation_section":{"desc":"Konfigurera animationer för aktiva och inaktiva tillstånd","title":"Ikonanimation"},"animation_shake":"Skaka","animation_spin":"Snurra","animation_tada":"Tada","animation_vibrate":"Vibrera","background_color_active":"Bakgrundsfärg när aktiv","background_color_inactive":"Bakgrundsfärg när inaktiv","background_section":{"desc":"Konfigurera inaktiva bakgrundsinställningar","title":"Inaktiv bakgrund"},"background_shape_active":"Bakgrundsform när aktiv","background_shape_inactive":"Bakgrundsform när inaktiv","custom_active_name":"Anpassat aktivt namn","custom_active_name_desc":"Åsidosätt entitetsnamn när aktiv (lämna tomt för att använda entitetsnamn)","custom_active_state":"Anpassat aktivt tillstånd","custom_active_state_desc":"Anpassad text när aktiv (lämna tomt för att använda faktiskt tillstånd)","custom_inactive_name":"Anpassat inaktivt namn","custom_inactive_name_desc":"Åsidosätt entitetsnamn när inaktiv (lämna tomt för att använda entitetsnamn)","custom_inactive_state":"Anpassat inaktivt tillstånd","custom_inactive_state_desc":"Anpassad text när inaktiv (lämna tomt för att använda faktiskt tillstånd)","icon_color_active":"Färg när aktiv","icon_color_inactive":"Färg när inaktiv","icon_section":{"title":"Ikonkonfiguration"},"icon_size_active":"Ikonstorlek när aktiv","icon_size_inactive":"Ikonstorlek när inaktiv","inactive_animation":"Inaktiv animation","inactive_animation_desc":"Animation när ikon är inaktiv","inactive_icon":"Inaktiv ikon","inactive_icon_background":"Inaktiv ikon bakgrund","inactive_icon_background_color":"Inaktiv ikon bakgrundsfärg","inactive_icon_color":"Inaktiv ikon färg","inactive_icon_config":"Inaktiv ikonkonfiguration","inactive_icon_config_desc":"Konfigurera inaktiva ikoninställningar","inactive_icon_desc":"Ikon att visa när inaktiv","inactive_name":"Inaktivt namn","inactive_name_color":"Inaktivt namn färg","inactive_name_config":"Inaktiv namnkonfiguration","inactive_name_config_desc":"Konfigurera inaktiva namninställningar","inactive_name_desc":"Anpassat namn när inaktiv","inactive_state_color":"Inaktiv tillståndsfärg","inactive_state_config":"Inaktiv tillståndskonfiguration","inactive_state_config_desc":"Konfigurera inaktiva tillståndsinställningar","inactive_state_text":"Inaktiv tillståndstext","name_color_active":"Namnfärg när aktiv","name_color_inactive":"Namnfärg när inaktiv","name_section":{"title":"Namnkonfiguration"},"name_size_active":"Namntextstorlek när aktiv","name_size_inactive":"Namntextstorlek när inaktiv","state_color_active":"Tillståndsfärg när aktiv","state_color_inactive":"Tillståndsfärg när inaktiv","state_section":{"title":"Tillståndskonfiguration"},"state_size_active":"Tillståndstextstorlek när aktiv","state_size_inactive":"Tillståndstextstorlek när inaktiv","template":"Mall","template_mode":"Avancerat mallläge","template_section":{"desc":"Använd Jinja2-mallar för avancerad ikonkontroll. Mallar kan kontrollera synlighet (sant/falskt för att visa/dölja ikoner) och anpassa tillståndstext. Returnera anpassad text för aktivt tillstånd, returnera faktiskt entitetstillstånd för inaktivt tillstånd.","title":"Avancerat mallläge"}},"text":{"content_section":{"title":"Innehållskonfiguration","desc":"Konfigurera textinnehållet och grundläggande inställningar för denna modul."},"text_content":"Textinnehåll","text_content_desc":"Ange textinnehållet som ska visas i denna modul.","icon_section":{"title":"Ikonkonfiguration","desc":"Välj en ikon att visa tillsammans med textinnehållet."},"icon":"Ikon","icon_desc":"Välj en ikon att visa tillsammans med texten. Lämna tom för ingen ikon.","icon_position":"Ikonposition","icon_position_desc":"Välj var ikonen ska placeras i förhållande till texten.","before_text":"Före text","after_text":"Efter text","template_mode":"Mallläge","template_mode_desc":"Använd Home Assistant mallsyntax för att rendera text","value_template":"Värdemall","value_template_desc":"Mall för att rendera texten med Jinja2-syntax","examples_title":"Vanliga exempel:","example_basic":"Grundvärde","example_percent":"Med procent"},"bar":{"bar_settings":{"title":"Stapellinställningar","desc":"Konfigurera hur stapelns procent beräknas och visas."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattribut","difference":"Skillnad","template":"Mall"},"attribute_section":{"title":"Entitetsattributkonfiguration","desc":"Konfigurera entitetsattributinställningar"},"attribute_entity":"Attributentitet","attribute_entity_desc":"Välj entiteten som innehåller attributet med procentvärdet","attribute_name":"Attributnamn","attribute_name_desc":"Ange namnet på attributet som innehåller procentvärdet (t.ex. \\"battery_level\\")","diff_section":{"title":"Skillnadsberäkningskonfiguration","desc":"Konfigurera skillnadsberäkningsinställningar"},"current_entity":"Nuvarande värdeentitet","current_entity_desc":"Entitet som representerar nuvarande/använd mängd (t.ex. använt bränsle, förbrukat batteri)","total_entity":"Total värdeentitet","total_entity_desc":"Entitet som representerar total/maximal mängd (t.ex. bränslekapacitet, batterikapacitet)","template_section":{"title":"Mallkonfiguration","desc":"Konfigurera mallinställningar"},"percentage_template":"Procentmall","percentage_template_desc":"Ange en Jinja2-mall som returnerar ett nummer mellan 0-100 för procenten. Exempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animera stapelfyllningen med förinställningar som laddningsränder, puls, glöd och mer. Du kan utlösa animationer baserat på en entitets tillstånd eller attribut, och valfritt åsidosätta animationen när ett annat villkor uppfylls.","override":{"attribute_name_desc":"Attributnamn att jämföra","desc":"Välj en åtgärdsentitet och tillstånd för att definiera när denna animation ska åsidosätta den vanliga animationen","entity_desc":"Entitet att utvärdera för åsidosättningsutlösare","match_value":"Åsidosätt matchvärde","match_value_desc":"Textjämförelse mot tillstånd eller attribut","title":"Åtgärdsanimation åsidosättning","type":"Åsidosätt animationstyp","type_desc":"Animation att använda när åsidosättningsvillkor matchar."},"title":"Stapelanimation","trigger":{"attribute_name_desc":"Attributnamn att jämföra (t.ex. charging_status)","desc":"Välj en entitet att övervaka och definiera värdet + animation att tillämpa när det matchar.","entity_desc":"Entitet att utvärdera för animationsutlösare","match_value":"Matchvärde","match_value_desc":"Text att jämföra mot tillstånd eller attribut (jämförelse är textbaserad).","title":"Animationsutlösare","type":"Utlösartyp","type_desc":"Välj om entitetstillstånd eller ett attribut ska jämföras"},"type":"Animationstyp","type_desc":"Välj hur stapeln ska animeras när den utlöses.","types":{"blinking":"Blinkande","bouncing":"Studsande","bubbles":"Bubblor","charging":"Laddning (diagonala linjer)","fill":"Fyll","flicker":"Flimmer","glow":"Glöd","heartbeat":"Hjärtslag","pulse":"Pulsera","rainbow":"Regnbåge","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafik (barberarpelare)","vibrate":"Vibrera"}},"appearance":{"direction":"Fyllriktning","direction_desc":"Välj riktningen stapeln fyller i när värdet ökar.","left_to_right":"Vänster till höger","right_to_left":"Höger till vänster","alignment":"Stapeljustering","alignment_desc":"Välj hur stapeln ska justeras när den är mindre än 100% bredd.","border_radius":"Kantradius","border_radius_desc":"Kontrollera stapelns rundade hörn.","height":"Stapelhöjd","height_desc":"Justera tjockleken på förloppsstapeln i pixlar.","style":"Stapelstil","style_dashed":"Streckad","style_desc":"Välj den visuella stilen för förloppsstapeln.","style_dots":"Prickar","style_embossed":"Präglad","style_flat":"Platt (standard)","style_glass":"Glas","style_glossy":"Blank","style_gradient":"Gradientöverlägg","style_inset":"Infälld","style_metallic":"Metallisk","style_neon":"Neonglöd","style_neumorphic":"Neumorfisk","style_outline":"Kontur","title":"Stapelutseende","width":"Stapelbredd","width_desc":"Ställ in stapelbredden som procent av behållaren."},"attr_config":{"attribute_entity":"Attributentitet","attribute_entity_desc":"Välj entiteten som innehåller attributet med procentvärdet","attribute_name":"Attributnamn","attribute_name_desc":"Ange namnet på attributet som innehåller procentvärdet (t.ex. \\"battery_level\\")","desc":"Konfigurera entitetsattributinställningar","title":"Entitetsattributkonfiguration"},"colors":{"background_color":"Bakgrundsfärg","bar_color":"Stapelfärg","border_color":"Kantfärg","left_side":"Vänster sida färger","limit_indicator":"Gränsindikator","percentage_text":"Procenttext","right_side":"Höger sida färger","title":"Färger","title_color":"Titelfärg","value_color":"Värdefärg"},"diff_config":{"current_entity":"Nuvarande värdeentitet","current_entity_desc":"Entitet som representerar nuvarande/använd mängd (t.ex. använt bränsle, förbrukat batteri)","desc":"Konfigurera skillnadsberäkningsinställningar","title":"Skillnadsberäkningskonfiguration","total_entity":"Total värdeentitet","total_entity_desc":"Entitet som representerar total/maximal mängd (t.ex. bränslekapacitet, batterikapacitet)"},"entity":{"desc_empty":"Välj en entitet som ger ett procentvärde (0-100). Batterisensorer är idealiska för staplar.","desc_present":"Entiteten som ger procentvärdet för stapeln.","no_entity_warning":"Ingen entitet vald - Välj en sensor med värden mellan 0-100","title":"Stapel procententitet"},"gradient":{"cropped":"Beskuren","desc":"Tillämpa en färggradient på stapelfyllningen. När aktiverad, välj hur gradienten visas och anpassa färgstopp nedan.","full":"Full","title":"Gradientläge","value_based":"Värdebaserad"},"labels":{"alignment":"Etikettjustering","alignment_desc":"Kontrollera hur vänster och höger etiketter positioneras."},"left":{"desc":"Konfigurera titeln och entitetsvärdet som visas på vänster sida av stapeln. Detta är användbart för att visa etiketter som \'Räckvidd\' eller \'Batteri\' tillsammans med deras värden.","enable_toggle":"Aktivera växeln ovan för att konfigurera vänster sida inställningar","template_desc":"Använd en mall för att formatera det visade värdet. Mallar använder Home Assistants Jinja2-syntax.","template_mode":"Mallläge","title":"Vänster sida","title_size":"Titelstorlek","value_size":"Värdestorlek","value_template":"Värdemall","value_template_desc":"Mall för att formatera vänster sida värdet med Jinja2-syntax"},"limit_entity":{"desc":"Valfritt: Lägg till en vertikal indikatorlinje på stapeln (t.ex. laddningsgräns för EV-batteri).","title":"Gränsvärdesentitet (valfritt)"},"percentage":{"desc":"Kontrollera synligheten och utseendet av procentvärden som visas direkt på stapeln. Dessa siffror ger en tydlig visuell indikator för nuvarande nivå.","text_alignment":"Procenttext justering","text_size":"Textstorlek","text_size_desc":"Justera storleken på procenttext som visas på stapeln.","title":"Procenttext visning"},"right":{"desc":"Konfigurera titeln och entitetsvärdet som visas på höger sida av stapeln. Detta är idealiskt för kompletterande information som \'Tid till full\' eller sekundära mätningar.","enable_toggle":"Aktivera växeln ovan för att konfigurera höger sida inställningar","template_desc":"Använd en mall för att formatera det visade värdet. Mallar använder Home Assistants Jinja2-syntax.","template_mode":"Mallläge","title":"Höger sida","title_size":"Titelstorlek","value_size":"Värdestorlek","value_template":"Värdemall","value_template_desc":"Mall för att formatera höger sida värdet med Jinja2-syntax"},"template_config":{"desc":"Konfigurera mallinställningar","percentage_template":"Procentmall","percentage_template_desc":"Ange en Jinja2-mall som returnerar ett nummer mellan 0-100 för procenten. Exempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Mallkonfiguration"}},"image":{"settings":"Bildinställningar","source_type":"Bildkälltyp","source_type_desc":"Välj hur du vill ange bildkällan.","source":{"default":"Standardbild","url":"Bild-URL","upload":"Ladda upp bild","entity":"Entitetsbild","attribute":"Entitetsattribut"},"url_section":{"title":"Bild-URL konfiguration"},"image_url":"Bild-URL","image_url_desc":"Ange den direkta URL:en till bilden du vill visa.","upload_section":{"title":"Uppladdning av bildkonfiguration"},"upload":"Ladda upp bild","upload_desc":"Klicka för att ladda upp en bildfil från din enhet.","entity_section":{"title":"Entitetsbildkonfiguration"},"entity":"Entitet","entity_desc":"Välj en entitet som har en bild (t.ex. person, kameraentiteter).","attribute_section":{"title":"Entitetsattributkonfiguration"},"entity_attr_desc":"Välj entiteten som innehåller bild-URL:en i ett av sina attribut.","attribute_name":"Attributnamn","attribute_name_desc":"Ange attributsökvägen som innehåller bild-URL:en (punktnotation stöds, t.ex. vehicle_data.vehicleDetails.generalDashboard).","width":"Bredd (%)","width_desc":"Ställ in bredden som en procent av behållaren.","height":"Höjd (px)","height_desc":"Ställ in höjden i pixlar.","crop_fit":"Beskär och anpassa","crop_fit_desc":"Kontrollera hur bilden passar inom sin behållare.","fit":{"cover":"Täck (beskär för att fylla)","contain":"Innehåll (anpassa hela bilden)","fill":"Fyll (sträck för att passa)","scale_down":"Skala ner","none":"Ingen (originalstorlek)"},"border_radius":"Kantradius","border_radius_desc":"Kontrollera bildens rundade hörn.","tap_actions":"Tryckåtgärder","filters":"Filter","filter":{"blur":"Oskärpa","blur_desc":"Tillämpa en oskärpeeffekt på din bild.","brightness":"Ljusstyrka (%)","brightness_desc":"Justera ljusstyrkan på din bild.","contrast":"Kontrast (%)","contrast_desc":"Ändra kontrasten på din bild.","saturation":"Mättnad (%)","saturation_desc":"Justera mättnaden på din bild."},"hover":{"title":"Hover-effekter","effect_type":"Effekttyp","effect_type_desc":"Välj typ av hover-effekt.","scale":"Skala (zooma in/ut)","rotate":"Rotera","fade":"Tona (opacitetsändring)","blur":"Oskärpa","brightness":"Ljusstyrka","glow":"Glöd (boxskugga)","slide":"Glid (översätt)","scale_amount":"Skala (%)","scale_amount_desc":"Justera skalan på bilden vid hover.","rotate_amount":"Rotation (°)","rotate_amount_desc":"Rotera bilden vid hover.","opacity":"Opacitet (%)","opacity_desc":"Ändra opaciteten på bilden vid hover.","blur_amount":"Oskärpa (px)","blur_amount_desc":"Tillämpa en oskärpeeffekt på bilden vid hover.","brightness_amount":"Ljusstyrka (%)","brightness_amount_desc":"Justera ljusstyrkan på bilden vid hover.","glow_intensity":"Glödintensitet","glow_intensity_desc":"Välj intensiteten på glödeffekten vid hover.","glow_light":"Ljus glöd","glow_medium":"Medium glöd","glow_heavy":"Kraftig glöd","glow_custom":"Anpassad skugga","translate_x":"Horisontell (px)","translate_x_desc":"Översätt bilden horisontellt vid hover.","translate_y":"Vertikal (px)","translate_y_desc":"Översätt bilden vertikalt vid hover."},"alt":"Bild","no_source":"Ingen bildkälla konfigurerad"},"graphs":{"chart_type":{"title":"Diagramtyp","type":"Typ","desc":"Välj visualiseringsstil för dina data."},"types":{"line":"Linjediagram","bar":"Stapeldiagram","pie":"Cirkeldiagram","donut":"Munkdiagram"},"data_sources":{"title":"Datakällor","add_entity":"Lägg till entitet","add_first_entity":"Lägg till din första entitet för att skapa ett diagram","no_entities":"Inga entiteter tillagda"},"entity":"Entitet","entity_desc":"Välj en entitet att plotta.","display_name_optional":"Visningsnamn (valfritt)","use_as_card_info":"Använd som kortinfo","attribute":"Attribut","attribute_desc":"Använd entitetstillstånd eller välj ett specifikt attribut att spåra.","attribute_state_default":"Tillstånd (standard)","show_points":"Visa punkter","fill_area":"Fyll område","line_style":"Linjestil","line_solid":"Heldragen","line_dashed":"Streckad","line_dotted":"Prickad","pie_show_title":"Visa titel i sektor","pie_show_value":"Visa värde i sektor","expand_options":"Expandera alternativ","no_entities":"Inga entiteter tillagda","add_first_entity":"Lägg till din första entitet för att skapa ett diagram","add_entity":"Lägg till entitet","display_options":{"title":"Visningsalternativ"},"show_title":"Visa diagramtitel","show_value":"Visa diagramvärde","chart_title":"Diagramtitel","chart_title_placeholder":"Ange diagramtitel","time_period":"Tidsperiod","time_period_desc":"Hur mycket historisk data som ska visas.","period":{"1h":"Senaste timmen","3h":"Senaste 3 timmarna","6h":"Senaste 6 timmarna","12h":"Senaste 12 timmarna","24h":"Senaste 24 timmarna","2d":"Senaste 2 dagarna","7d":"Senaste veckan","30d":"Senaste månaden","90d":"Senaste 3 månaderna","365d":"Senaste året"},"normalize_values":"Normalisera värden till samma skala","normalize_desc":"Användbart vid jämförelse av entiteter med olika enheter (t.ex. % vs mil)","chart_height":"Diagramhöjd","reset_345":"Återställ till standard (345px)","chart_width":"Diagrambredd (%)","reset_100":"Återställ till standard (100%)","agg":{"count":"Antal","delta":"Ändring","first":"Första värdet","last":"Sista värdet","max":"Maximum","mean":"Medelvärde","median":"Median","min":"Minimum","sum":"Summa"},"display":{"add_slice_gap":"Lägg till sektormellanrum","background_color":"Bakgrundsfärg","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagrammet inom sin behållare.","chart_height":"Diagramhöjd","chart_options":"Diagramalternativ","chart_title":"Diagramtitel","chart_title_placeholder":"Ange diagramtitel","chart_width":"Diagrambredd (%)","chart_width_desc":"Procent av modulens tillgängliga bredd. Justering styr placering.","info_position":"Infoposition","info_position_desc":"Position för överlägg som visar namn/värde.","legend_position":"Legendposition","legend_position_desc":"Var legenden ska placeras när aktiverad.","normalize_desc":"Användbart vid jämförelse av entiteter med olika enheter (t.ex. % vs mil)","normalize_values":"Normalisera värden till samma skala","show_grid":"Visa rutnät","show_legend":"Visa legend","show_title":"Visa diagramtitel","show_tooltips":"Visa verktygstips","show_value":"Visa diagramvärde","smooth_lines":"Mjuka linjer","time_period":"Tidsperiod","time_period_desc":"Hur mycket historisk data som ska visas.","title":"Visningsalternativ"},"line":{"fill_area":"Fyll område","line_style":"Linjestil","line_width":"Linjebredd","show_points":"Visa punkter"},"line_styles":{"dashed":"Streckad","dotted":"Prickad","solid":"Heldragen"},"pie":{"show_title":"Visa titel i sektor","show_value":"Visa värde i sektor"},"position":{"bottom":"Botten","bottom_left":"Nedre vänster","bottom_right":"Nedre höger","center":"Centrum","hidden":"Dold","left":"Vänster","middle":"Centrum","right":"Höger","top":"Topp","top_left":"Övre vänster","top_right":"Övre höger"}},"button":{"basic":{"title":"Grundinställningar","desc":"Konfigurera knappens utseende och textinnehåll."},"text":{"title":"Knapptext","desc":"Text att visa på knappen (lämna tom för endast ikon)."},"style":{"title":"Knappstil","desc":"Visuell stil för knappen"},"alignment":{"title":"Justering","desc":"Hur knappen är justerad inom sin behållare"},"styles":{"flat":"Platt (standard)","glossy":"Blank","embossed":"Präglad","inset":"Infälld","gradient_overlay":"Gradientöverlägg","neon_glow":"Neonglöd","outline":"Kontur","glass":"Glas","metallic":"Metallisk"},"align":{"left":"Vänster","center":"Centrum","right":"Höger","justify":"Justera (full bredd)"},"icon":{"title":"Ikoninställningar","desc":"Konfigurera ikonvisning och positionering för knappen.","before":"Före text","after":"Efter text","enable_toggle_desc":"Aktivera växeln ovan för att konfigurera ikoninställningar"},"colors":{"title":"Färger","background":"Bakgrundsfärg","text":"Textfärg"},"hover":{"effect_type":"Effekttyp","effect_type_desc":"Välj hover-effekt för denna knapp.","none":"Ingen","color":"Färgändring","scale":"Skala","glow":"Glöd","lift":"Lyft (översätt Y)","hover_color":"Hover-färg","glow_color":"Glödfärg","title":"Hover-effekter","enable_toggle_desc":"Aktivera växeln ovan för att konfigurera hover-effekter"},"actions":{"type":"Åtgärdstyp","type_desc":"Välj vad som händer när knappen klickas","entity":"Entitet","entity_desc":"Välj entiteten att interagera med","navigation_path":"Navigeringssökväg","navigation_path_desc":"Sökväg att navigera till (t.ex. /dashboard/energy)","service":"Tjänst","service_desc":"Tjänst att anropa (t.ex. light.turn_on)","service_data":"Tjänstdata (JSON)","service_data_desc":"Valfri data att skicka till tjänsten (JSON-format)"},"tap":{"title":"Tryckåtgärd","desc":"Åtgärd att utföra när knappen trycks"},"hold":{"title":"Håll-åtgärd","desc":"Åtgärd att utföra när knappen hålls nere"},"double":{"title":"Dubbeltryck-åtgärd","desc":"Åtgärd att utföra när knappen dubbeltrycks"},"show_icon":"Visa ikon","show_icon_desc":"Visa en ikon på knappen","icon_desc":"Ikon att visa (t.ex. mdi:home)","icon_position":"Ikonposition","icon_position_desc":"Position för ikonen i förhållande till text","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURATION"},"entity":"Entitet","entity_desc":"Välj entiteten att visa","icon_section":{"title":"Ikoninställningar"},"show_icon":"Visa ikon","show_icon_desc":"Visa en ikon bredvid entitetsvärdet","icon":"Ikon","icon_desc":"Välj en ikon att visa","icon_color":"Ikonfärg","name_section":{"title":"Namninställningar"},"show_name":"Visa namn","show_name_desc":"Visa entitetsnamnet ovanför värdet","custom_name":"Anpassat namn","custom_name_desc":"Åsidosätt entitetsnamnet med ett anpassat namn","name_color":"Namnfärg","state_section":{"title":"Tillståndsinställningar"},"show_state":"Visa tillstånd","show_state_desc":"Visa entitetstillstånd/värde","show_units":"Visa enheter","show_units_desc":"Visa måttenheten (om tillgänglig)","state_color":"Tillståndsfärg","template":{"title":"Mallläge","desc":"Använd en mall för att formatera entitetsvärdet. Mallar låter dig använda Home Assistants mallsyntax för komplex formatering.","mode":"Mallläge","mode_desc":"Använd Home Assistants mallsyntax för att formatera värdet","value":"Värdemall","value_desc":"Mall för att formatera entitetsvärdet med Jinja2-syntax"},"size_section":{"title":"Storleksinställningar"},"icon_size":"Ikonstorlek","icon_size_desc":"Storlek på ikonen i pixlar","name_size":"Namnstorlek","name_size_desc":"Storlek på entitetsnamnstexten i pixlar","value_size":"Värdestorlek","value_size_desc":"Storlek på entitetsvärdestexten i pixlar","icon_gap":"Ikonavstånd","icon_gap_desc":"Utrymme mellan ikon och innehåll i pixlar","layout_section":{"title":"Layout och positionering"},"icon_position":"Ikonposition","overall_alignment":"Övergripande justering","icon_alignment":"Ikonjustering","content_alignment":"Innehållsjustering","examples_title":"Vanliga exempel:","example_basic":"Grundvärde","example_units":"Med enheter","example_round":"Avrunda till 1 decimal"},"camera":{"config":{"title":"Kamerakonfiguration","desc":"Konfigurera kameraentiteten och visningsinställningar."},"entity":"Kameraentitet","entity_desc":"Välj kameraentiteten att visa. Detta bör vara en kamera- eller mjpeg-entitet från Home Assistant.","name":"Kameranamn","name_desc":"Anpassat namn för kameran. Lämna tomt för att använda entitetsnamn.","show_name":"Visa kameranamn","show_name_desc":"Visa kameranamnet på flödet","name_position":{"group_title":"Kameranamnposition","title":"Namnposition","desc":"Välj var kameranamnet visas som ett överlägg på kamerabilden.","options":{"top_left":"Övre vänster","top_right":"Övre höger","center":"Centrum","bottom_left":"Nedre vänster","bottom_right":"Nedre höger"}},"display":{"title":"Visningsinställningar"},"live_view":{"title":"Livevisning","desc":"Aktivera för att visa live kameraström (kräver strömintegration). När inaktiverad visas stillbildsögonblicksbilder."},"auto_refresh":{"section_title":"Automatiska uppdateringsinställningar","title":"Automatisk uppdatering","desc":"Uppdatera automatiskt kamerabilden med jämna mellanrum"},"refresh_interval":{"title":"Uppdateringsintervall (sekunder)","desc":"Hur ofta kamerabilden ska uppdateras automatiskt."},"dimensions":{"title":"Dimensioner"},"width":"Bredd (px)","width_desc":"Ställ in bredden på kameravisningen. Intervall: 100-1000px","height":"Höjd (px)","height_desc":"Ställ in höjden på kameravisningen. Intervall: 100-1000px","link_aspect":"Länka bildförhållande","unlink_aspect":"Avlänka bildförhållande","aspect_linked":{"title":"Bildförhållande länkat","desc":"Dimensioner behåller {ratio}:1 förhållande. Justering av en dimension uppdaterar automatiskt den andra för att behålla proportioner."},"aspect_independent":{"title":"Oberoende dimensioner","desc":"Bredd och höjd kan justeras oberoende. Klicka på länkknappen ovan för att behålla bildförhållande."},"crop":{"title":"Beskär och position","desc":"Justera beskärningen och positionen för kameravyn. Användbart för att fokusera på specifika områden eller ta bort oönskade kanter.","left_title":"Vänster beskärning (%)","left_desc":"Beskär från vänster kant. Högre värden visar mindre av vänster sida.","right_title":"Höger beskärning (%)","right_desc":"Beskär från höger kant. Högre värden visar mindre av höger sida.","top_title":"Övre beskärning (%)","top_desc":"Beskär från övre kant. Högre värden visar mindre av det övre området.","bottom_title":"Nedre beskärning (%)","bottom_desc":"Beskär från nedre kant. Högre värden visar mindre av det nedre området.","active_applied":"Aktiva beskärningar tillämpade","reset_all":"Återställ alla beskärningar"},"template":{"title":"Mallläge","desc":"Använd en mall för att dynamiskt ställa in kameraentiteten. Mallar låter dig använda Home Assistants mallsyntax för villkorlig kameraval.","mode_label":"Mallläge","mode_desc":"Använd Home Assistants mallsyntax för att dynamiskt välja kameraentitet","camera_template_label":"Kameramall","camera_template_desc":"Mall för att dynamiskt ställa in kameraentiteten med Jinja2-syntax","examples_title":"Vanliga exempel:","example1_desc":"Visa kamera när vädret är soligt","example2_desc":"Växla mellan kameror baserat på input boolean","example3_desc":"Använd input select för att välja kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktivera växeln ovan för att konfigurera kamerananvisning"}},"separator":{"config":{"title":"Separatorkonfiguration"},"style":{"title":"Separatorstil","desc":"Välj den visuella stilen för separatorlinjen."},"options":{"solid":"Heldragen linje","double":"Dubbel linje","dotted":"Prickad linje","double_dotted":"Dubbel prickad","shadow":"Skugga","blank":"Tomt utrymme"},"appearance":{"title":"Utseende"},"thickness":"Tjocklek (px)","thickness_desc":"Tjocklek på separatorlinjen.","width":"Bredd (%)","width_desc":"Bredd på separatorn som procent av behållaren.","color":{"title":"Färg","desc":"Färg på separatorlinjen."},"show_title":"Visa titel","show_title_desc":"Lägg till text i mitten av separatorlinjen (t.ex. ------ Text ------)","text_content":{"title":"Textinnehåll","desc":"Text att visa i mitten av separatorn."},"font_size":"Teckenstorlek","font_size_desc":"Storlek på texten i pixlar.","text_color":{"title":"Textfärg","desc":"Färg på separatortexten."},"text_format":{"title":"Textformatering","desc":"Tillämpa formateringsstilar på separatortexten.","bold":"Fet","italic":"Kursiv","underline":"Understruken","uppercase":"Versaler","strikethrough":"Genomstruken"},"spacer":{"title":"Avståndshöjd"},"height":"Höjd (px)","height_desc":"Kontrollerar det visuella gapet för tomt utrymme.","show_title_toggle":{"enable_toggle_desc":"Aktivera växeln ovan för att konfigurera titelinställningar"}},"layout_extra":{"module_name":"Modulnamn:","module_name_placeholder":"Ge denna modul ett anpassat namn för att göra det lättare att identifiera i redigeraren.","module_name_help":"Ge denna modul ett anpassat namn för att göra det lättare att identifiera i redigeraren."},"layout_logic":{"display_title":"Visa detta element","display_desc":"Kontrollera när detta element visas. Välj \\"Alltid\\" för att hålla det synligt. Välj \\"Om ALLA villkor nedan uppfylls\\" eller \\"Om NÅGOT villkor nedan uppfylls\\" för att visa det endast när villkoren du lägger till nedan utvärderas som sanna.","always":"Alltid","every":"Om ALLA villkor nedan uppfylls","any":"Om NÅGOT villkor nedan uppfylls","conditions":"Villkor","add_condition":"Lägg till villkor","no_conditions":"Inga villkor tillagda än. Klicka \\"Lägg till villkor\\" för att komma igång.","condition_types":{"entity_state":"Entitetstillstånd","entity_attribute":"Entitetsattribut","time":"Tidsintervall","template":"Mall"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Värde","attribute":"Attribut","time_from":"Från","time_to":"Till","template":"Mall"},"condition_header":"Villkor","custom_name":"Anpassat namn","custom_name_desc":"Valfritt: Ge detta villkor ett anpassat namn för enklare identifiering","condition_type":"Villkorstyp"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurera visuella effekter som visas när du hovrar över denna modul, rad eller kolumn.","effect":"Hover-effekt","effect_desc":"Välj den visuella effekten som ska tillämpas vid hovring","effects":{"none":"Ingen","highlight":"Markera","outline":"Kontur","grow":"Växa","shrink":"Krympa","pulse":"Pulsera","bounce":"Studsa","float":"Sväva","glow":"Glöda","shadow":"Skugga","rotate":"Rotera","skew":"Snedställa","wobble":"Vackla","buzz":"Vibrera","fade":"Tona"}},"design":{"copy":"Kopiera","paste":"Klistra in","reset_all":"Återställ alla","copy_tooltip":"Kopiera nuvarande designinställningar (fungerar över alla Ultra Cards)","paste_tooltip_has":"Klistra in kopierade designinställningar (från korskort-urklipp)","paste_tooltip_none":"Inga designinställningar i korskort-urklipp","reset_all_tooltip":"Återställ alla designinställningar till standard","text_section":"Text","text_color":"Textfärg","alignment":"Justering","inherit_alignment":"Ärv (ingen justering)","font_size":"Teckenstorlek","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Återställ teckenstorlek till standard","line_height":"Radhöjd","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Återställ radhöjd till standard","letter_spacing":"Teckenavstånd","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Återställ teckenavstånd till standard","font":"Teckensnitt","font_weight":"Teckensnittsvikt","text_transform":"Texttransform","font_style":"Teckensnittsstil","default_option":"– Standard –","weight_thin":"100 - Tunn","weight_light":"300 - Ljus","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Halvfet","weight_bold":"700 - Fet","weight_black":"900 - Svart","transform_none":"Ingen","transform_uppercase":"VERSALER","transform_lowercase":"gemener","transform_capitalize":"Versalisera","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Sned","background_section":"Bakgrund","background_color":"Bakgrundsfärg","background_image_type":"Bakgrundsbildtyp","bg_none":"Ingen","bg_upload":"Ladda upp bild","bg_entity":"Entitetsbild","bg_url":"Bild-URL","sizes_section":"Storlekar","spacing_section":"Avstånd","border_section":"Kant","text_shadow_section":"Textskugga","box_shadow_section":"Boxskugga","position_section":"Position","overflow_section":"Överflöde","animations_section":"Animationer","width":"Bredd","height":"Höjd","max_width":"Max bredd","max_height":"Max höjd","min_width":"Min bredd","min_height":"Min höjd","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredd","border_color":"Kantfärg","margin":"Marginal","padding":"Utfyllnad","top":"Topp","right":"Höger","bottom":"Botten","left":"Vänster","unlock_sides":"Lås upp för att redigera sidor oberoende","lock_sides":"Lås för att redigera alla sidor tillsammans","horizontal_shift":"Horisontell förskjutning","vertical_shift":"Vertikal förskjutning","blur":"Oskärpa","text_shadow_color":"Textskuggfärg","box_shadow_color":"Boxskuggfärg","overflow":"Överflöde","clip_path":"Klippbana","upload_bg_image":"Ladda upp bakgrundsbild","bg_image_entity":"Bakgrundsbildentitet","bg_image_url":"Bakgrundsbild-URL","choose_file":"Välj fil","no_file_chosen":"Ingen fil vald","backdrop_filter":"Bakgrundsfilter","spread":"Spridning","visible_default":"Synlig (standard)","examples":"Exempel","state_based_animation":"Tillståndsbaserad animation","animation_type":"Animationstyp","animation_duration":"Animation Duration","animation_duration_desc":"Varaktighet för animationen (t.ex. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- och outro-animationer","intro_animation":"Intro-animation","outro_animation":"Outro-animation","duration":"Varaktighet","delay":"Fördröjning","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Heldragen","border_style_dashed":"Streckad","border_style_dotted":"Prickad","border_style_double":"Double","position_default":"– Standard –","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolut","position_fixed":"Fast","position_sticky":"Klibbig"},"modules":{"text":"Textmodul","image":"Bildmodul","icon":"Ikonmodul","bar":"Stapelmodul","info":"Infomodul","button":"Knappmodul","separator":"Separatormodul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Grafmodul","no_text_configured":"Ingen text konfigurerad","no_image_configured":"Ingen bild konfigurerad","uploaded_image":"Uppladdad bild","icons_configured":"{count} ikoner konfigurerade","no_icons_configured":"Inga ikoner konfigurerade","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Exempeltext"},"common":{"attribute":"Attribut","attribute_name":"Attributnamn","baseline":"Baslinje","bottom":"Botten","center":"Centrum","entity":"Entitet","justify":"Justera","left":"Vänster","none":"Ingen","right":"Höger","space_around":"Utrymme runt","space_between":"Utrymme mellan","state":"Tillstånd","stretch":"Sträck","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Horisontell justering","horizontal_desc":"Välj hur element justeras horisontellt inom behållaren.","vertical":"Vertikal justering","vertical_desc":"Välj hur element justeras vertikalt inom behållaren."},"empty":{"add_modules":"Lägg till moduler i layoutbyggaren för att se dem här","no_modules":"Inga moduler tillagda än"},"gap":{"between_items":"Mellanrum mellan objekt","desc":"Ställ in avståndet mellan horisontella element (i rem-enheter). Använd negativa värden för att överlappa element.","title":"Mellanrumskonfiguration"},"layout":{"desc":"Konfigurera hur element arrangeras horisontellt inom behållaren.","title":"Layoutkonfiguration"},"wrapping":{"desc":"Tillåt element att brytas till nästa rad när de överskrider behållarbredden.","title":"Tillåt radbrytning"}},"markdown":{"code_highlighting":"Kodmarkering","code_highlighting_desc":"Syntaxmarkering för kodblock","content":{"desc":"Ange ditt markdown-innehåll med fullständigt formateringsstöd","label":"Innehåll","title":"Markdown-innehåll"},"enable_html":"Aktivera HTML","enable_html_desc":"Tillåt HTML-taggar i markdown-innehåll","enable_tables":"Aktivera tabeller","enable_tables_desc":"Stöd för markdown-tabellsyntax","features":{"title":"Markdown-funktioner"}},"vertical":{"alignment":{"vertical":"Vertikal justering","vertical_desc":"Välj hur element justeras vertikalt inom behållaren."},"empty":{"add_modules":"Lägg till moduler i layoutbyggaren för att se dem här","no_modules":"Inga moduler tillagda än"},"gap":{"between_items":"Mellanrum mellan objekt","desc":"Ställ in avståndet mellan vertikala element (i rem-enheter). Använd negativa värden för att överlappa element.","title":"Mellanrumskonfiguration"},"layout":{"desc":"Konfigurera hur element arrangeras vertikalt inom behållaren.","title":"Layoutkonfiguration"}}}}'),T={en:o,cs:r,da:s,de:c,"en-GB":p,es:m,fr:h,it:b,nb:y,nl:x,nn:$,no:S,pl:A,sv:i.t(j,2)},I="en";function E(e,t){try{const i=T[t];if(!i)return;return e.split(".").reduce(((e,t)=>null==e?void 0:e[t]),i)}catch(e){return}}function P(e,t,i){let n=E(e,t);if(n)return n;const o=t.includes("-")||t.includes("_")?t.split(/[-_]/)[0]:t;if(o&&o!==t&&(n=E(e,o),n))return n;if(o!==I){const t=E(e,I);if(t)return t}return i||e}},461:(e,t,i)=>{var n=i(183),o=i(276),a=i(247),r=i(201);class l extends r.WL{constructor(e){if(super(e),this.it=a.s6,e.type!==r.OA.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===a.s6||null==e)return this._t=void 0,this.it=e;if(e===a.c0)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}l.directiveName="unsafeHTML",l.resultType=1;const s=(0,r.u$)(l);i(768);var d,c=i(341),u=i(30),p=i(987),g=i(381),m=i(456),_=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let h=d=class extends n.WF{constructor(){super(...arguments),this.designProperties={},this._expandedSections=new Set,this._marginLocked=!1,this._paddingLocked=!1,this._clipboardProperties=null}connectedCallback(){super.connectedCallback(),this._loadClipboardFromStorage(),this._storageEventListener=this._handleStorageEvent.bind(this),window.addEventListener("storage",this._storageEventListener)}disconnectedCallback(){super.disconnectedCallback(),this._storageEventListener&&window.removeEventListener("storage",this._storageEventListener)}_handleStorageEvent(e){e.key===d.CLIPBOARD_KEY&&this._loadClipboardFromStorage()}_loadClipboardFromStorage(){try{const e=localStorage.getItem(d.CLIPBOARD_KEY);if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(this._clipboardProperties=t,this.requestUpdate())}}catch(e){console.warn("Failed to load design clipboard from localStorage:",e),this._clipboardProperties=null}}_saveClipboardToStorage(e){try{localStorage.setItem(d.CLIPBOARD_KEY,JSON.stringify(e))}catch(e){console.warn("Failed to save design clipboard to localStorage:",e)}}_clearClipboardFromStorage(){try{localStorage.removeItem(d.CLIPBOARD_KEY)}catch(e){console.warn("Failed to clear design clipboard from localStorage:",e)}}_toggleSection(e){this._expandedSections.has(e)?this._expandedSections.delete(e):(this._expandedSections.clear(),this._expandedSections.add(e)),this.requestUpdate()}_updateProperty(e,t){const i={[e]:t};if(this.designProperties=Object.assign(Object.assign({},this.designProperties||{}),{[e]:t}),this.requestUpdate(),this.onUpdate)this.onUpdate(i);else{const e=new CustomEvent("design-changed",{detail:i,bubbles:!0,composed:!0});this.dispatchEvent(e)}}_updateSpacing(e,t,i){let n;if(n=("margin"===e?this._marginLocked:this._paddingLocked)?{[`${e}_top`]:i,[`${e}_bottom`]:i,[`${e}_left`]:i,[`${e}_right`]:i}:{[`${e}_${t}`]:i},this.onUpdate)this.onUpdate(n);else{const e=new CustomEvent("design-changed",{detail:n,bubbles:!0,composed:!0});this.dispatchEvent(e)}}_createRobustInputHandler(e,t){return e=>{const i=e.target,n=i.value,o=i.selectionStart,a=i.selectionEnd;e.stopPropagation(),e.preventDefault(),t(n),requestAnimationFrame((()=>{i&&"number"==typeof o&&i.setSelectionRange(o,a||o)}))}}_createProtectedKeydownHandler(e,t,i){return e=>{e.target,"ArrowUp"!==e.key&&"ArrowDown"!==e.key||this._handleNumericKeydown(e,t(),i)}}_handleNumericKeydown(e,t,i){if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;e.preventDefault();const n=t.match(/^(-?\d*\.?\d*)(.*)$/);if(!n)return;const o=n[1],a=n[2].trim()||"px";let r=parseFloat(o)||0,l=1;"rem"===a||"em"===a?l=.1:"%"===a?l=5:"px"===a&&(l=1),e.shiftKey?l*=10:e.altKey&&(l/=10),"ArrowUp"===e.key?r+=l:r-=l;let s=0;"rem"===a||"em"===a?s=e.altKey?3:1:"%"===a&&e.altKey&&(s=1),i(`${parseFloat(r.toFixed(s))}${a}`)}_toggleSpacingLock(e){"margin"===e?this._marginLocked=!this._marginLocked:this._paddingLocked=!this._paddingLocked,this.requestUpdate()}_resetSection(e){const t={};switch(e){case"text":t.color=void 0,t.text_align=void 0,t.font_size=void 0,t.line_height=void 0,t.letter_spacing=void 0,t.font_family=void 0,t.font_weight=void 0,t.text_transform=void 0,t.font_style=void 0;break;case"background":t.background_color=void 0,t.background_image=void 0,t.background_image_type=void 0,t.background_image_entity=void 0,t.background_size=void 0,t.background_repeat=void 0,t.background_position=void 0,t.backdrop_filter=void 0;break;case"sizes":t.width=void 0,t.height=void 0,t.max_width=void 0,t.max_height=void 0,t.min_width=void 0,t.min_height=void 0;break;case"spacing":t.margin_top=void 0,t.margin_bottom=void 0,t.margin_left=void 0,t.margin_right=void 0,t.padding_top=void 0,t.padding_bottom=void 0,t.padding_left=void 0,t.padding_right=void 0;break;case"border":t.border_radius=void 0,t.border_style=void 0,t.border_width=void 0,t.border_color=void 0;break;case"position":t.position=void 0,t.top=void 0,t.bottom=void 0,t.left=void 0,t.right=void 0,t.z_index=void 0;break;case"text-shadow":t.text_shadow_h=void 0,t.text_shadow_v=void 0,t.text_shadow_blur=void 0,t.text_shadow_color=void 0;break;case"box-shadow":t.box_shadow_h=void 0,t.box_shadow_v=void 0,t.box_shadow_blur=void 0,t.box_shadow_spread=void 0,t.box_shadow_color=void 0;break;case"overflow":t.overflow=void 0,t.clip_path=void 0;break;case"animations":t.animation_type=void 0,t.animation_entity=void 0,t.animation_trigger_type=void 0,t.animation_attribute=void 0,t.animation_state=void 0,t.intro_animation=void 0,t.outro_animation=void 0,t.animation_duration=void 0,t.animation_delay=void 0,t.animation_timing=void 0}if(this.designProperties=Object.assign(Object.assign({},this.designProperties||{}),t),this.requestUpdate(),this.onUpdate)try{this.onUpdate(t)}catch(t){console.error(`🔄 GlobalDesignTab: Callback error for ${e}:`,t)}else{const e=new CustomEvent("design-changed",{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(e)}this.requestUpdate(),setTimeout((()=>{this.requestUpdate()}),50)}_copyDesign(){this._clipboardProperties=Object.assign({},this.designProperties),this._saveClipboardToStorage(this._clipboardProperties),Object.keys(this._clipboardProperties).filter((e=>this._clipboardProperties[e])).length,this.requestUpdate()}_pasteDesign(){this._clipboardProperties||this._loadClipboardFromStorage(),this._clipboardProperties&&(this.onUpdate?this.onUpdate(this._clipboardProperties):this.dispatchEvent(new CustomEvent("design-changed",{detail:this._clipboardProperties,bubbles:!0,composed:!0})))}_resetAllDesign(){const e={color:void 0,text_align:void 0,font_size:void 0,line_height:void 0,letter_spacing:void 0,font_family:void 0,font_weight:void 0,text_transform:void 0,font_style:void 0,background_color:void 0,background_image:void 0,background_image_type:void 0,background_image_entity:void 0,backdrop_filter:void 0,width:void 0,height:void 0,max_width:void 0,max_height:void 0,min_width:void 0,min_height:void 0,margin_top:void 0,margin_bottom:void 0,margin_left:void 0,margin_right:void 0,padding_top:void 0,padding_bottom:void 0,padding_left:void 0,padding_right:void 0,border_radius:void 0,border_style:void 0,border_width:void 0,border_color:void 0,position:void 0,top:void 0,bottom:void 0,left:void 0,right:void 0,z_index:void 0,text_shadow_h:void 0,text_shadow_v:void 0,text_shadow_blur:void 0,text_shadow_color:void 0,box_shadow_h:void 0,box_shadow_v:void 0,box_shadow_blur:void 0,box_shadow_spread:void 0,box_shadow_color:void 0,overflow:void 0,clip_path:void 0,animation_type:void 0,animation_entity:void 0,animation_trigger_type:void 0,animation_attribute:void 0,animation_state:void 0,intro_animation:void 0,outro_animation:void 0,animation_duration:void 0,animation_delay:void 0,animation_timing:void 0};if(this.onUpdate)try{this.onUpdate(e)}catch(e){console.error("🔄 GlobalDesignTab: Reset all callback error:",e)}else{const t=new CustomEvent("design-changed",{detail:e,bubbles:!0,composed:!0});this.dispatchEvent(t)}this.requestUpdate(),setTimeout((()=>{this.requestUpdate()}),50)}_clearClipboard(){this._clipboardProperties=null,this._clearClipboardFromStorage(),this.requestUpdate()}async _handleBackgroundImageUpload(e){var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(i&&this.hass)try{const e={background_image:await(0,g.m)(this.hass,i),background_image_type:"upload"};this.onUpdate?this.onUpdate(e):this.dispatchEvent(new CustomEvent("design-changed",{detail:e,bubbles:!0,composed:!0}))}catch(e){console.error("Background image upload failed:",e),alert(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}_truncatePath(e){return e?e.length<=30?e:"..."+e.slice(-27):""}_getStateValueHint(e){if(!this.hass||!e)return"Enter the state value to trigger animation";const t=this.hass.states[e];return t?t.state&&"unknown"!==t.state&&"unavailable"!==t.state?`Current state: ${t.state}`:"Enter the state value to trigger animation":"Entity not found"}_getAttributeNameHint(e){if(!this.hass||!e)return"Enter the attribute name to monitor";const t=this.hass.states[e];if(!t||!t.attributes)return"Entity not found or has no attributes";const i=Object.keys(t.attributes).filter((e=>!e.startsWith("_")&&"object"!=typeof t.attributes[e])).slice(0,3);return i.length>0?`Available attributes: ${i.join(", ")}${Object.keys(t.attributes).length>3?", ...":""}`:"Enter the attribute name to monitor"}_getAttributeValueHint(e,t){if(!this.hass||!e)return"Enter the attribute value to trigger animation";if(!t)return"Select an attribute first";const i=this.hass.states[e];if(!i||!i.attributes)return"Entity not found or has no attributes";const n=i.attributes[t];if(null!=n){const e=String(n);return`Current value: ${e.length>30?`${e.slice(0,27)}...`:e}`}return"Attribute not found - check the attribute name"}_hasModifiedProperties(e){const t=this.designProperties,i=e=>null!=e&&""!==e;switch(e){case"text":return!!(i(t.color)||i(t.text_align)||i(t.font_size)||i(t.line_height)||i(t.letter_spacing)||i(t.font_family)||i(t.font_weight)||i(t.text_transform)||i(t.font_style));case"background":return!!(i(t.background_color)||i(t.background_image)||i(t.background_image_type)||i(t.background_image_entity)||i(t.background_size)||i(t.background_repeat)||i(t.background_position)||i(t.backdrop_filter));case"sizes":return!!(i(t.width)||i(t.height)||i(t.max_width)||i(t.max_height)||i(t.min_width)||i(t.min_height));case"spacing":return!!(i(t.margin_top)||i(t.margin_bottom)||i(t.margin_left)||i(t.margin_right)||i(t.padding_top)||i(t.padding_bottom)||i(t.padding_left)||i(t.padding_right));case"border":return!!(i(t.border_radius)||i(t.border_style)||i(t.border_width)||i(t.border_color));case"position":return!!(i(t.position)||i(t.top)||i(t.bottom)||i(t.left)||i(t.right)||i(t.z_index));case"text-shadow":return!!(i(t.text_shadow_h)||i(t.text_shadow_v)||i(t.text_shadow_blur)||i(t.text_shadow_color));case"box-shadow":return!!(i(t.box_shadow_h)||i(t.box_shadow_v)||i(t.box_shadow_blur)||i(t.box_shadow_spread)||i(t.box_shadow_color));case"overflow":return!(!i(t.overflow)&&!i(t.clip_path));case"animations":return!!(i(t.animation_type)&&"none"!==t.animation_type||i(t.animation_entity)||i(t.animation_trigger_type)||i(t.animation_attribute)||i(t.animation_state)||i(t.intro_animation)&&"none"!==t.intro_animation||i(t.outro_animation)&&"none"!==t.outro_animation||i(t.animation_duration)||i(t.animation_delay)||i(t.animation_timing)&&"ease"!==t.animation_timing);default:return!1}}_renderAccordion(e,t,i){const o=this._expandedSections.has(i),a=this._hasModifiedProperties(i);return n.qy`
      <div class="accordion-section">
        <div class="accordion-header ${o?"expanded":""}">
          <button class="accordion-toggle" @click=${()=>this._toggleSection(i)}>
            <span class="accordion-title">
              ${e} ${a?n.qy`<span class="edit-indicator"></span>`:""}
            </span>
          </button>
          <div class="accordion-actions">
            ${a?n.qy`
                  <button
                    class="reset-button"
                    @click=${e=>{e.stopPropagation(),this._resetSection(i)}}
                    title="Reset ${e} settings to default"
                  >
                    <ha-icon icon="mdi:refresh"></ha-icon>
                  </button>
                `:""}
            <button class="expand-button" @click=${()=>this._toggleSection(i)}>
              <ha-icon icon="mdi:chevron-${o?"up":"down"}"></ha-icon>
            </button>
          </div>
        </div>
        ${o?n.qy`<div class="accordion-content">${t}</div>`:""}
      </div>
    `}render(){var e,t,i,o,a,r,l,s,d,c,u,p,g,_,h,v,b,f,y,k,x,w,$,z,S,C,A,j,T,I,E,P,M,L,D,R,O,V,B,N,H,U,F,q,K,G,W,J,Z,Y,X,Q,ee,te,ie,ne,oe,ae,re,le,se,de,ce,ue,pe,ge,me,_e,he,ve,be,fe;const ye=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return n.qy`
      <div class="global-design-tab">
        <!-- Design Actions Toolbar -->
        <div class="design-toolbar">
          <button
            class="toolbar-button copy-button"
            @click=${this._copyDesign}
            title="${(0,m.kg)("editor.design.copy_tooltip",ye,"Copy current design settings (works across all Ultra Cards)")}"
          >
            <ha-icon icon="mdi:content-copy"></ha-icon>
            <span>${(0,m.kg)("editor.design.copy",ye,"Copy")}</span>
          </button>

          <button
            class="toolbar-button paste-button ${this._clipboardProperties?"has-content":""}"
            @click=${this._pasteDesign}
            ?disabled=${!this._clipboardProperties}
            title="${this._clipboardProperties?(0,m.kg)("editor.design.paste_tooltip_has",ye,"Paste copied design settings (from cross-card clipboard)"):(0,m.kg)("editor.design.paste_tooltip_none",ye,"No design settings in cross-card clipboard")}"
          >
            <ha-icon icon="mdi:content-paste"></ha-icon>
            <span>${(0,m.kg)("editor.design.paste",ye,"Paste")}</span>
          </button>

          <button
            class="toolbar-button reset-all-button"
            @click=${this._resetAllDesign}
            title="${(0,m.kg)("editor.design.reset_all_tooltip",ye,"Reset all design settings to default")}"
          >
            <ha-icon icon="mdi:refresh"></ha-icon>
            <span>${(0,m.kg)("editor.design.reset_all",ye,"Reset All")}</span>
          </button>
        </div>

        ${this._renderAccordion((0,m.kg)("editor.design.text_section",ye,"Text"),n.qy`
            <div class="property-group">
              <ultra-color-picker
                .label=${(0,m.kg)("editor.design.text_color",ye,"Text Color")}
                .value=${this.designProperties.color||""}
                .defaultValue=${"var(--primary-text-color)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("color",e.detail.value)}
              ></ultra-color-picker>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.alignment",ye,"Alignment:")}:</label>
              <div class="button-group">
                ${[{value:"inherit",icon:"mdi:circle-off-outline"},{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"},{value:"justify",icon:"mdi:format-align-justify"}].map((e=>n.qy`
                    <button
                      class="property-btn ${(this.designProperties.text_align||"inherit")===e.value?"active":""}"
                      @click=${()=>this._updateProperty("text_align","inherit"===e.value?void 0:e.value)}
                      title=${"inherit"===e.value?(0,m.kg)("editor.design.inherit_alignment",ye,"Inherit (no alignment)"):e.value}
                    >
                      <ha-icon icon="${e.icon}"></ha-icon>
                    </button>
                  `))}
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.font_size",ye,"Font Size:")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.font_size||""}
                  @input=${e=>this._updateProperty("font_size",e.target.value)}
                  placeholder="${(0,m.kg)("editor.design.font_size_placeholder",ye,"16px (default), 1.2rem, max(1rem, 1.5vw)")}"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("font_size","")}
                  title="${(0,m.kg)("editor.design.reset_font_size",ye,"Reset font size to default")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.line_height",ye,"Line Height:")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.line_height||""}
                  @input=${e=>this._updateProperty("line_height",e.target.value)}
                  placeholder="${(0,m.kg)("editor.design.line_height_placeholder",ye,"0 (default), 28px, 1.7")}"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("line_height","")}
                  title="${(0,m.kg)("editor.design.reset_line_height",ye,"Reset line height to default")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.letter_spacing",ye,"Letter Spacing:")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.letter_spacing||""}
                  @input=${e=>this._updateProperty("letter_spacing",e.target.value)}
                  placeholder="${(0,m.kg)("editor.design.letter_spacing_placeholder",ye,"auto (default), 1px, -0.04em")}"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("letter_spacing","")}
                  title="${(0,m.kg)("editor.design.reset_letter_spacing",ye,"Reset letter spacing to default")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.font",ye,"Font")}:</label>
              <select
                .value=${this.designProperties.font_family||""}
                @change=${e=>this._updateProperty("font_family",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,m.kg)("editor.design.default_option",ye,"– Default –")}
                </option>
                <option value="Arial, sans-serif">Arial</option>
                <option value="Helvetica, sans-serif">Helvetica</option>
                <option value="Times New Roman, serif">Times New Roman</option>
                <option value="Georgia, serif">Georgia</option>
                <option value="Verdana, sans-serif">Verdana</option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.font_weight",ye,"Font Weight")}:</label>
              <select
                .value=${this.designProperties.font_weight||""}
                @change=${e=>this._updateProperty("font_weight",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,m.kg)("editor.design.default_option",ye,"– Default –")}
                </option>
                <option value="100">
                  ${(0,m.kg)("editor.design.weight_thin",ye,"100 - Thin")}
                </option>
                <option value="300">
                  ${(0,m.kg)("editor.design.weight_light",ye,"300 - Light")}
                </option>
                <option value="400">
                  ${(0,m.kg)("editor.design.weight_normal",ye,"400 - Normal")}
                </option>
                <option value="500">
                  ${(0,m.kg)("editor.design.weight_medium",ye,"500 - Medium")}
                </option>
                <option value="600">
                  ${(0,m.kg)("editor.design.weight_semi_bold",ye,"600 - Semi Bold")}
                </option>
                <option value="700">
                  ${(0,m.kg)("editor.design.weight_bold",ye,"700 - Bold")}
                </option>
                <option value="900">
                  ${(0,m.kg)("editor.design.weight_black",ye,"900 - Black")}
                </option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.text_transform",ye,"Text Transform")}:</label>
              <select
                .value=${this.designProperties.text_transform||""}
                @change=${e=>this._updateProperty("text_transform",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,m.kg)("editor.design.default_option",ye,"– Default –")}
                </option>
                <option value="none">
                  ${(0,m.kg)("editor.design.transform_none",ye,"None")}
                </option>
                <option value="uppercase">
                  ${(0,m.kg)("editor.design.transform_uppercase",ye,"UPPERCASE")}
                </option>
                <option value="lowercase">
                  ${(0,m.kg)("editor.design.transform_lowercase",ye,"lowercase")}
                </option>
                <option value="capitalize">
                  ${(0,m.kg)("editor.design.transform_capitalize",ye,"Capitalize")}
                </option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.font_style",ye,"Font Style")}:</label>
              <select
                .value=${this.designProperties.font_style||""}
                @change=${e=>this._updateProperty("font_style",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,m.kg)("editor.design.default_option",ye,"– Default –")}
                </option>
                <option value="normal">
                  ${(0,m.kg)("editor.design.style_normal",ye,"Normal")}
                </option>
                <option value="italic">
                  ${(0,m.kg)("editor.design.style_italic",ye,"Italic")}
                </option>
                <option value="oblique">
                  ${(0,m.kg)("editor.design.style_oblique",ye,"Oblique")}
                </option>
              </select>
            </div>
          `,"text")}
        ${this._renderAccordion((0,m.kg)("editor.design.background_section",ye,"Background"),n.qy`
            <div class="property-group">
              <ultra-color-picker
                .label=${(0,m.kg)("editor.design.background_color",ye,"Background Color")}
                .value=${this.designProperties.background_color||""}
                .defaultValue=${"transparent"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("background_color",e.detail.value)}
              ></ultra-color-picker>
            </div>

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.background_image_type",ye,"Background Image Type")}:</label
              >
              <select
                .value=${this.designProperties.background_image_type||"none"}
                @change=${e=>this._updateProperty("background_image_type",e.target.value)}
                class="property-select"
              >
                <option value="none">${(0,m.kg)("editor.design.bg_none",ye,"None")}</option>
                <option value="upload">
                  ${(0,m.kg)("editor.design.bg_upload",ye,"Upload Image")}
                </option>
                <option value="entity">
                  ${(0,m.kg)("editor.design.bg_entity",ye,"Entity Image")}
                </option>
                <option value="url">${(0,m.kg)("editor.design.bg_url",ye,"Image URL")}</option>
              </select>
            </div>

            ${"upload"===this.designProperties.background_image_type?n.qy`
                  <div class="property-group">
                    <label
                      >${(0,m.kg)("editor.design.upload_bg_image",ye,"Upload Background Image")}:</label
                    >
                    <div class="upload-container">
                      <div class="file-upload-row">
                        <label class="file-upload-button">
                          <div class="button-content">
                            <ha-icon icon="mdi:upload"></ha-icon>
                            <span class="button-label"
                              >${(0,m.kg)("editor.design.choose_file",ye,"Choose File")}</span
                            >
                          </div>
                          <input
                            type="file"
                            accept="image/*"
                            @change=${this._handleBackgroundImageUpload}
                            style="display: none"
                          />
                        </label>
                        <div class="path-display">
                          ${this.designProperties.background_image?n.qy`<span
                                class="uploaded-path"
                                title="${this.designProperties.background_image}"
                              >
                                ${this._truncatePath(this.designProperties.background_image)}
                              </span>`:n.qy`<span class="no-file"
                                >${(0,m.kg)("editor.design.no_file_chosen",ye,"No file chosen")}</span
                              >`}
                        </div>
                      </div>
                    </div>
                  </div>
                `:""}
            ${"entity"===this.designProperties.background_image_type?n.qy`
                  <div class="property-group">
                    <label
                      >${(0,m.kg)("editor.design.bg_image_entity",ye,"Background Image Entity")}:</label
                    >
                    <ha-entity-picker
                      .hass=${this.hass}
                      .value=${this.designProperties.background_image_entity||""}
                      @value-changed=${e=>this._updateProperty("background_image_entity",e.detail.value)}
                      .label=${"Select entity with image attribute"}
                      allow-custom-entity
                    ></ha-entity-picker>
                  </div>
                `:""}
            ${"url"===this.designProperties.background_image_type?n.qy`
                  <div class="property-group">
                    <label
                      >${(0,m.kg)("editor.design.bg_image_url",ye,"Background Image URL")}:</label
                    >
                    <input
                      type="text"
                      .value=${this.designProperties.background_image||""}
                      @input=${e=>this._updateProperty("background_image",e.target.value)}
                      placeholder="https://example.com/image.jpg"
                      class="property-input"
                    />
                  </div>
                `:""}
            ${this.designProperties.background_image_type&&"none"!==this.designProperties.background_image_type?n.qy`
                  <div class="property-group">
                    <label>Background Size:</label>
                    <select
                      .value=${this._getBackgroundSizeDropdownValue(this.designProperties.background_size)}
                      @change=${e=>this._updateProperty("background_size",e.target.value)}
                      class="property-select"
                    >
                      <option value="cover">Cover</option>
                      <option value="contain">Contain</option>
                      <option value="auto">Auto</option>
                      <option value="custom">Custom</option>
                    </select>
                  </div>

                  ${"custom"===this._getBackgroundSizeDropdownValue(this.designProperties.background_size)?n.qy`
                        <div class="property-group">
                          <label>Custom Width:</label>
                          <input
                            type="text"
                            .value=${this._getCustomSizeValue(this.designProperties.background_size,"width")}
                            @input=${e=>{const t=e.target.value,i=this._getCustomSizeValue(this.designProperties.background_size,"height"),n=t&&i?`${t} ${i}`:t||i||"auto";this._updateProperty("background_size",n)}}
                            placeholder="100px, 50%, auto"
                            class="property-input"
                          />
                        </div>
                        <div class="property-group">
                          <label>Custom Height:</label>
                          <input
                            type="text"
                            .value=${this._getCustomSizeValue(this.designProperties.background_size,"height")}
                            @input=${e=>{const t=e.target.value,i=this._getCustomSizeValue(this.designProperties.background_size,"width"),n=i&&t?`${i} ${t}`:i||t||"auto";this._updateProperty("background_size",n)}}
                            placeholder="100px, 50%, auto"
                            class="property-input"
                          />
                        </div>
                      `:""}

                  <div class="property-group">
                    <label>Background Repeat:</label>
                    <select
                      .value=${this.designProperties.background_repeat||"no-repeat"}
                      @change=${e=>this._updateProperty("background_repeat",e.target.value)}
                      class="property-select"
                    >
                      <option value="no-repeat">No Repeat</option>
                      <option value="repeat">Repeat</option>
                      <option value="repeat-x">Repeat X</option>
                      <option value="repeat-y">Repeat Y</option>
                    </select>
                  </div>

                  <div class="property-group">
                    <label>Background Position:</label>
                    <select
                      .value=${this.designProperties.background_position||"center center"}
                      @change=${e=>this._updateProperty("background_position",e.target.value)}
                      class="property-select"
                    >
                      <option value="left top">Left Top</option>
                      <option value="left center">Left Center</option>
                      <option value="left bottom">Left Bottom</option>
                      <option value="center top">Center Top</option>
                      <option value="center center">Center</option>
                      <option value="center bottom">Center Bottom</option>
                      <option value="right top">Right Top</option>
                      <option value="right center">Right Center</option>
                      <option value="right bottom">Right Bottom</option>
                    </select>
                  </div>
                `:""}

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.backdrop_filter",(null===(o=null===(i=this.hass)||void 0===i?void 0:i.locale)||void 0===o?void 0:o.language)||"en","Backdrop Filter")}:</label
              >
              <input
                type="text"
                .value=${this.designProperties.backdrop_filter||""}
                @input=${e=>this._updateProperty("backdrop_filter",e.target.value)}
                placeholder="blur(10px), grayscale(100%), invert(75%)"
                class="property-input"
              />
            </div>
          `,"background")}
        ${this._renderAccordion((0,m.kg)("editor.design.sizes_section",ye,"Sizes"),n.qy`
            <div class="property-group">
              <label>${(0,m.kg)("editor.design.width",ye,"Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.width||""}
                  @input=${this._createRobustInputHandler("width",(e=>this._updateProperty("width",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.width||"",(e=>this._updateProperty("width",e)))}
                  placeholder="auto (default), 200px, 100%, 14rem, 10vw"
                  autocomplete="off"
                  autocorrect="off"
                  autocapitalize="off"
                  spellcheck="false"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("width","")}
                  title="Reset width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.height",ye,"Height")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.height||""}
                  @input=${e=>this._updateProperty("height",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.height||"",(e=>this._updateProperty("height",e)))}
                  placeholder="auto (default), 200px, 15rem, 10vh"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("height","")}
                  title="Reset height to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.max_width",ye,"Max Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.max_width||""}
                  @input=${e=>this._updateProperty("max_width",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.max_width||"",(e=>this._updateProperty("max_width",e)))}
                  placeholder="200px, 100%, 14rem, 10vw"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("max_width","")}
                  title="Reset max width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.max_height",ye,"Max Height")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.max_height||""}
                  @input=${e=>this._updateProperty("max_height",e.target.value)}
                  placeholder="200px, 15rem, 10vh"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("max_height","")}
                  title="Reset max height to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.min_width",ye,"Min Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.min_width||""}
                  @input=${e=>this._updateProperty("min_width",e.target.value)}
                  placeholder="200px, 100%, 14rem, 10vw"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("min_width","")}
                  title="Reset min width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.min_height",ye,"Min Height")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.min_height||""}
                  @input=${e=>this._updateProperty("min_height",e.target.value)}
                  placeholder="200px, 15rem, 10vh"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("min_height","")}
                  title="Reset min height to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>
          `,"sizes")}
        ${this._renderAccordion((0,m.kg)("editor.design.spacing_section",ye,"Spacing"),n.qy`
            <div class="spacing-group">
              <div class="spacing-header">
                <h4>
                  ${(0,m.kg)("editor.design.margin",(null===(r=null===(a=this.hass)||void 0===a?void 0:a.locale)||void 0===r?void 0:r.language)||"en","Margin")}
                </h4>
                <button
                  type="button"
                  class="lock-button ${this._marginLocked?"locked":""}"
                  @click=${()=>this._toggleSpacingLock("margin")}
                  title="${this._marginLocked?"Unlock to edit sides independently":"Lock to edit all sides together"}"
                >
                  <ha-icon icon="${this._marginLocked?"mdi:lock":"mdi:lock-open"}"></ha-icon>
                </button>
              </div>
              <div class="spacing-fields-desktop">
                <div class="spacing-field">
                  <label>Top</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.margin_top||""}
                    @input=${this._createRobustInputHandler("margin_top",(e=>this._updateSpacing("margin","top",e)))}
                    @keydown=${this._createProtectedKeydownHandler("margin_top",(()=>this.designProperties.margin_top||""),(e=>this._updateSpacing("margin","top",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Right</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.margin_right||""}
                    @input=${this._createRobustInputHandler("margin_right",(e=>this._updateSpacing("margin","right",e)))}
                    @keydown=${this._createProtectedKeydownHandler("margin_right",(()=>this.designProperties.margin_right||""),(e=>this._updateSpacing("margin","right",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Bottom</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.margin_bottom||""}
                    @input=${this._createRobustInputHandler("margin_bottom",(e=>this._updateSpacing("margin","bottom",e)))}
                    @keydown=${this._createProtectedKeydownHandler("margin_bottom",(()=>this.designProperties.margin_bottom||""),(e=>this._updateSpacing("margin","bottom",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Left</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.margin_left||""}
                    @input=${this._createRobustInputHandler("margin_left",(e=>this._updateSpacing("margin","left",e)))}
                    @keydown=${this._createProtectedKeydownHandler("margin_left",(()=>this.designProperties.margin_left||""),(e=>this._updateSpacing("margin","left",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
              </div>
            </div>

            <div class="spacing-group">
              <div class="spacing-header">
                <h4>Padding</h4>
                <button
                  type="button"
                  class="lock-button ${this._paddingLocked?"locked":""}"
                  @click=${()=>this._toggleSpacingLock("padding")}
                  title="${this._paddingLocked?"Unlock to edit sides independently":"Lock to edit all sides together"}"
                >
                  <ha-icon icon="${this._paddingLocked?"mdi:lock":"mdi:lock-open"}"></ha-icon>
                </button>
              </div>
              <div class="spacing-fields-desktop">
                <div class="spacing-field">
                  <label>Top</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.padding_top||""}
                    @input=${this._createRobustInputHandler("padding_top",(e=>this._updateSpacing("padding","top",e)))}
                    @keydown=${this._createProtectedKeydownHandler("padding_top",(()=>this.designProperties.padding_top||""),(e=>this._updateSpacing("padding","top",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Right</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.padding_right||""}
                    @input=${this._createRobustInputHandler("padding_right",(e=>this._updateSpacing("padding","right",e)))}
                    @keydown=${this._createProtectedKeydownHandler("padding_right",(()=>this.designProperties.padding_right||""),(e=>this._updateSpacing("padding","right",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Bottom</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.padding_bottom||""}
                    @input=${this._createRobustInputHandler("padding_bottom",(e=>this._updateSpacing("padding","bottom",e)))}
                    @keydown=${this._createProtectedKeydownHandler("padding_bottom",(()=>this.designProperties.padding_bottom||""),(e=>this._updateSpacing("padding","bottom",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Left</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.padding_left||""}
                    @input=${this._createRobustInputHandler("padding_left",(e=>this._updateSpacing("padding","left",e)))}
                    @keydown=${this._createProtectedKeydownHandler("padding_left",(()=>this.designProperties.padding_left||""),(e=>this._updateSpacing("padding","left",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
              </div>
            </div>
          `,"spacing")}
        ${this._renderAccordion((0,m.kg)("editor.design.border_section",ye,"Border"),n.qy`
            <div class="property-group">
              <label>${(0,m.kg)("editor.design.border_radius",ye,"Border Radius")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.border_radius||""}
                  @input=${e=>this._updateProperty("border_radius",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.border_radius||"",(e=>this._updateProperty("border_radius",e)))}
                  placeholder="5px, 50%, 0.3em, 12px 0"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("border_radius","")}
                  title="Reset border radius to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.border_style",ye,"Border Style")}:</label>
              <select
                .value=${this.designProperties.border_style||""}
                @change=${e=>this._updateProperty("border_style",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,m.kg)("editor.design.border_style_none",(null===(s=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===s?void 0:s.language)||"en","None")}
                </option>
                <option value="solid">
                  ${(0,m.kg)("editor.design.border_style_solid",(null===(c=null===(d=this.hass)||void 0===d?void 0:d.locale)||void 0===c?void 0:c.language)||"en","Solid")}
                </option>
                <option value="dashed">
                  ${(0,m.kg)("editor.design.border_style_dashed",(null===(p=null===(u=this.hass)||void 0===u?void 0:u.locale)||void 0===p?void 0:p.language)||"en","Dashed")}
                </option>
                <option value="dotted">
                  ${(0,m.kg)("editor.design.border_style_dotted",(null===(_=null===(g=this.hass)||void 0===g?void 0:g.locale)||void 0===_?void 0:_.language)||"en","Dotted")}
                </option>
                <option value="double">
                  ${(0,m.kg)("editor.design.border_style_double",(null===(v=null===(h=this.hass)||void 0===h?void 0:h.locale)||void 0===v?void 0:v.language)||"en","Double")}
                </option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.border_width",ye,"Border Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.border_width||""}
                  @input=${e=>this._updateProperty("border_width",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.border_width||"",(e=>this._updateProperty("border_width",e)))}
                  placeholder="1px, 2px, 0.125rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("border_width","")}
                  title="Reset border width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <ultra-color-picker
                .label=${(0,m.kg)("editor.design.border_color",ye,"Border Color")}
                .value=${this.designProperties.border_color||""}
                .defaultValue=${"var(--divider-color)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("border_color",e.detail.value)}
              ></ultra-color-picker>
            </div>
          `,"border")}
        ${this._renderAccordion((0,m.kg)("editor.design.position_section",ye,"Position"),n.qy`
            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.position",(null===(f=null===(b=this.hass)||void 0===b?void 0:b.locale)||void 0===f?void 0:f.language)||"en","Position")}:</label
              >
              <select
                .value=${this.designProperties.position||""}
                @change=${e=>this._updateProperty("position",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,m.kg)("editor.design.position_default",(null===(k=null===(y=this.hass)||void 0===y?void 0:y.locale)||void 0===k?void 0:k.language)||"en","– Default –")}
                </option>
                <option value="static">
                  ${(0,m.kg)("editor.design.position_static",(null===(w=null===(x=this.hass)||void 0===x?void 0:x.locale)||void 0===w?void 0:w.language)||"en","Static")}
                </option>
                <option value="relative">
                  ${(0,m.kg)("editor.design.position_relative",(null===(z=null===($=this.hass)||void 0===$?void 0:$.locale)||void 0===z?void 0:z.language)||"en","Relative")}
                </option>
                <option value="absolute">
                  ${(0,m.kg)("editor.design.position_absolute",(null===(C=null===(S=this.hass)||void 0===S?void 0:S.locale)||void 0===C?void 0:C.language)||"en","Absolute")}
                </option>
                <option value="fixed">
                  ${(0,m.kg)("editor.design.position_fixed",(null===(j=null===(A=this.hass)||void 0===A?void 0:A.locale)||void 0===j?void 0:j.language)||"en","Fixed")}
                </option>
                <option value="sticky">
                  ${(0,m.kg)("editor.design.position_sticky",(null===(I=null===(T=this.hass)||void 0===T?void 0:T.locale)||void 0===I?void 0:I.language)||"en","Sticky")}
                </option>
              </select>
            </div>

            ${this.designProperties.position&&"static"!==this.designProperties.position?n.qy`
                  <div class="position-grid">
                    <input
                      type="text"
                      placeholder="Top"
                      .value=${this.designProperties.top||""}
                      @input=${e=>this._updateProperty("top",e.target.value)}
                      @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.top||"",(e=>this._updateProperty("top",e)))}
                    />
                    <div class="position-row">
                      <input
                        type="text"
                        placeholder="Left"
                        .value=${this.designProperties.left||""}
                        @input=${e=>this._updateProperty("left",e.target.value)}
                        @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.left||"",(e=>this._updateProperty("left",e)))}
                      />
                      <div class="position-center">POS</div>
                      <input
                        type="text"
                        placeholder="Right"
                        .value=${this.designProperties.right||""}
                        @input=${e=>this._updateProperty("right",e.target.value)}
                        @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.right||"",(e=>this._updateProperty("right",e)))}
                      />
                    </div>
                    <input
                      type="text"
                      placeholder="Bottom"
                      .value=${this.designProperties.bottom||""}
                      @input=${e=>this._updateProperty("bottom",e.target.value)}
                      @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.bottom||"",(e=>this._updateProperty("bottom",e)))}
                    />
                  </div>

                  <div class="property-group">
                    <label>Z-Index:</label>
                    <input
                      type="text"
                      .value=${this.designProperties.z_index||""}
                      @input=${e=>this._updateProperty("z_index",e.target.value)}
                      @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.z_index||"",(e=>this._updateProperty("z_index",e)))}
                      placeholder="-1, 1, 3, 50"
                      class="property-input"
                    />
                  </div>
                `:""}
          `,"position")}
        ${this._renderAccordion((0,m.kg)("editor.design.text_shadow_section",ye,"Text Shadow"),n.qy`
            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.horizontal_shift",(null===(P=null===(E=this.hass)||void 0===E?void 0:E.locale)||void 0===P?void 0:P.language)||"en","Horizontal Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.text_shadow_h||""}
                  @input=${this._createRobustInputHandler("text_shadow_h",(e=>this._updateProperty("text_shadow_h",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.text_shadow_h||"",(e=>this._updateProperty("text_shadow_h",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("text_shadow_h","")}
                  title="Reset horizontal shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.vertical_shift",(null===(L=null===(M=this.hass)||void 0===M?void 0:M.locale)||void 0===L?void 0:L.language)||"en","Vertical Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.text_shadow_v||""}
                  @input=${this._createRobustInputHandler("text_shadow_v",(e=>this._updateProperty("text_shadow_v",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.text_shadow_v||"",(e=>this._updateProperty("text_shadow_v",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("text_shadow_v","")}
                  title="Reset vertical shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.blur",(null===(R=null===(D=this.hass)||void 0===D?void 0:D.locale)||void 0===R?void 0:R.language)||"en","Blur")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.text_shadow_blur||""}
                  @input=${e=>this._updateProperty("text_shadow_blur",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.text_shadow_blur||"",(e=>this._updateProperty("text_shadow_blur",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("text_shadow_blur","")}
                  title="Reset shadow blur to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <ultra-color-picker
                .label=${(0,m.kg)("editor.design.text_shadow_color",ye,"Text Shadow Color")}
                .value=${this.designProperties.text_shadow_color||""}
                .defaultValue=${"rgba(0,0,0,0.5)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("text_shadow_color",e.detail.value)}
              ></ultra-color-picker>
            </div>
          `,"text-shadow")}
        ${this._renderAccordion((0,m.kg)("editor.design.box_shadow_section",ye,"Box Shadow"),n.qy`
            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.horizontal_shift",(null===(V=null===(O=this.hass)||void 0===O?void 0:O.locale)||void 0===V?void 0:V.language)||"en","Horizontal Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_h||""}
                  @input=${this._createRobustInputHandler("box_shadow_h",(e=>this._updateProperty("box_shadow_h",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_h||"",(e=>this._updateProperty("box_shadow_h",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_h","")}
                  title="Reset horizontal box shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.vertical_shift",(null===(N=null===(B=this.hass)||void 0===B?void 0:B.locale)||void 0===N?void 0:N.language)||"en","Vertical Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_v||""}
                  @input=${this._createRobustInputHandler("box_shadow_v",(e=>this._updateProperty("box_shadow_v",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_v||"",(e=>this._updateProperty("box_shadow_v",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_v","")}
                  title="Reset vertical box shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.blur",(null===(U=null===(H=this.hass)||void 0===H?void 0:H.locale)||void 0===U?void 0:U.language)||"en","Blur")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_blur||""}
                  @input=${e=>this._updateProperty("box_shadow_blur",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_blur||"",(e=>this._updateProperty("box_shadow_blur",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_blur","")}
                  title="Reset box shadow blur to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,m.kg)("editor.design.spread",(null===(q=null===(F=this.hass)||void 0===F?void 0:F.locale)||void 0===q?void 0:q.language)||"en","Spread")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_spread||""}
                  @input=${this._createRobustInputHandler("box_shadow_spread",(e=>this._updateProperty("box_shadow_spread",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_spread||"",(e=>this._updateProperty("box_shadow_spread",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_spread","")}
                  title="Reset box shadow spread to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <ultra-color-picker
                .label=${(0,m.kg)("editor.design.box_shadow_color",ye,"Box Shadow Color")}
                .value=${this.designProperties.box_shadow_color||""}
                .defaultValue=${"rgba(0,0,0,0.1)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("box_shadow_color",e.detail.value)}
              ></ultra-color-picker>
            </div>
          `,"box-shadow")}
        ${this._renderAccordion((0,m.kg)("editor.design.overflow_section",ye,"Overflow"),n.qy`
            <div class="property-group">
              <label>${(0,m.kg)("editor.design.overflow",ye,"Overflow")}:</label>
              <select
                .value=${this.designProperties.overflow||"visible"}
                @change=${e=>this._updateProperty("overflow",e.target.value)}
                class="property-select"
              >
                <option value="visible">Visible (Default)</option>
                <option value="hidden">Hidden</option>
                <option value="scroll">Scroll</option>
                <option value="auto">Auto</option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,m.kg)("editor.design.clip_path",ye,"Clip-path")}:</label>
              <input
                type="text"
                .value=${this.designProperties.clip_path||""}
                @input=${e=>this._updateProperty("clip_path",e.target.value)}
                placeholder="ellipse(75% 100% at bottom)"
                class="property-input"
              />
              <small class="property-hint"
                >Examples:<br />
                ellipse(75% 100% at bottom)<br />
                polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%)<br />
                polygon(100% 50%, 75% 93.3%, 25% 93.3%, 0% 50%, 25% 6.7%, 75% 6.7%)
              </small>
            </div>
          `,"overflow")}
        ${this._renderAccordion((0,m.kg)("editor.design.animations_section",ye,"Animations"),n.qy`
            <!-- State-based Animation -->
            <div class="property-section">
              <h5>
                ${(0,m.kg)("editor.design.state_based_animation",(null===(G=null===(K=this.hass)||void 0===K?void 0:K.locale)||void 0===G?void 0:G.language)||"en","State-based Animation")}
              </h5>
              <div class="property-group">
                <label
                  >${(0,m.kg)("editor.design.animation_type",(null===(J=null===(W=this.hass)||void 0===W?void 0:W.locale)||void 0===J?void 0:J.language)||"en","Animation Type")}:</label
                >
                <select
                  .value=${this.designProperties.animation_type||"none"}
                  @change=${e=>this._updateProperty("animation_type",e.target.value)}
                  class="property-select"
                >
                  <option value="none">
                    ${(0,m.kg)("editor.design.none",(null===(Y=null===(Z=this.hass)||void 0===Z?void 0:Z.locale)||void 0===Y?void 0:Y.language)||"en","None")}
                  </option>
                  <option value="pulse">Pulse</option>
                  <option value="vibrate">Vibrate</option>
                  <option value="rotate-left">Rotate Left</option>
                  <option value="rotate-right">Rotate Right</option>
                  <option value="hover">Hover</option>
                  <option value="fade">Fade</option>
                  <option value="scale">Scale</option>
                  <option value="bounce">Bounce</option>
                  <option value="shake">Shake</option>
                  <option value="tada">Tada</option>
                </select>
              </div>

              <div class="property-group">
                <label
                  >${(0,m.kg)("editor.design.animation_duration",(null===(Q=null===(X=this.hass)||void 0===X?void 0:X.locale)||void 0===Q?void 0:Q.language)||"en","Animation Duration")}:</label
                >
                <input
                  type="text"
                  .value=${this.designProperties.animation_duration||"2s"}
                  @input=${e=>this._updateProperty("animation_duration",e.target.value)}
                  placeholder="2s, 500ms, 1.5s"
                  class="property-input"
                />
                <small class="property-hint">
                  ${(0,m.kg)("editor.design.animation_duration_desc",(null===(te=null===(ee=this.hass)||void 0===ee?void 0:ee.locale)||void 0===te?void 0:te.language)||"en","Duration for the animation (e.g., 2s, 500ms, 1.5s)")}
                </small>
              </div>

              ${this.designProperties.animation_type&&"none"!==this.designProperties.animation_type?n.qy`
                    <div class="property-group">
                      <label>Entity to Monitor:</label>
                      <ha-form
                        .hass=${this.hass}
                        .data=${{entity:this.designProperties.animation_entity||""}}
                        .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
                        @value-changed=${e=>this._updateProperty("animation_entity",e.detail.value.entity)}
                      ></ha-form>
                    </div>

                    ${this.designProperties.animation_entity?n.qy`
                          <div class="property-group">
                            <label>Animation Trigger Type:</label>
                            <select
                              id="animation-trigger-type-select"
                              .value=${this.designProperties.animation_trigger_type||"state"}
                              @change=${e=>{const t={animation_trigger_type:e.target.value,animation_state:"",animation_attribute:""};this.onUpdate?this.onUpdate(t):this.dispatchEvent(new CustomEvent("design-changed",{detail:t,bubbles:!0,composed:!0})),this.designProperties=Object.assign(Object.assign({},this.designProperties),t),this.requestUpdate()}}
                              class="property-select ${"attribute"===this.designProperties.animation_trigger_type?"attribute-mode":"state-mode"}"
                            >
                              <option value="state">Entity State</option>
                              <option value="attribute">Entity Attribute</option>
                            </select>
                            <div
                              class="trigger-type-indicator ${"attribute"===this.designProperties.animation_trigger_type?"attribute-mode-indicator":"state-mode-indicator"}"
                            >
                              <ha-icon
                                icon="${"attribute"===this.designProperties.animation_trigger_type?"mdi:format-list-checks":"mdi:state-machine"}"
                              ></ha-icon>
                              <span
                                >${"attribute"===this.designProperties.animation_trigger_type?"Attribute mode: select an attribute and its value to trigger the animation":"State mode: enter a state value to trigger the animation"}</span
                              >
                            </div>
                          </div>

                          ${(()=>"attribute"===(this.designProperties.animation_trigger_type||"state")?n.qy`
                                <div class="property-group attribute-mode-container">
                                  <div class="property-group">
                                    <label>
                                      <ha-icon icon="mdi:format-list-checks"></ha-icon>
                                      Attribute Name:
                                    </label>
                                    <input
                                      type="text"
                                      .value=${this.designProperties.animation_attribute||""}
                                      @input=${e=>{const t=e.target.value,i=e.target;i.classList.add("change-success");const n={animation_attribute:t,animation_state:""};this.onUpdate?this.onUpdate(n):this.dispatchEvent(new CustomEvent("design-changed",{detail:n,bubbles:!0,composed:!0})),setTimeout((()=>{this.requestUpdate()}),50),setTimeout((()=>{this.requestUpdate()}),150),setTimeout((()=>{this.requestUpdate()}),300),setTimeout((()=>{this.requestUpdate(),i.classList.remove("change-success")}),500)}}
                                      placeholder="friendly_name, device_class, state, etc."
                                      class="property-input attribute-mode-input"
                                    />
                                    <small class="property-hint">
                                      Enter the attribute name manually (e.g., friendly_name,
                                      device_class, state, battery_level)
                                    </small>
                                  </div>

                                  <div class="property-group">
                                    <label>
                                      <ha-icon icon="mdi:format-text"></ha-icon>
                                      Attribute Value:
                                    </label>
                                    <input
                                      type="text"
                                      .value=${this.designProperties.animation_state||""}
                                      @input=${e=>this._updateProperty("animation_state",e.target.value)}
                                      placeholder="blue, 255, heating, on, off, etc."
                                      class="property-input attribute-value-input"
                                    />
                                    <small class="property-hint">
                                      Enter the attribute value that will trigger the animation
                                    </small>
                                  </div>
                                </div>
                              `:n.qy`
                                <div
                                  class="property-group state-value-container"
                                  style="display: ${"attribute"!==String(this.designProperties.animation_trigger_type)?"block !important":"none !important"}"
                                  data-mode="state"
                                >
                                  <label>
                                    <ha-icon icon="mdi:state-machine"></ha-icon>
                                    State Value:
                                  </label>
                                  <input
                                    type="text"
                                    .value=${this.designProperties.animation_state||""}
                                    @input=${e=>this._updateProperty("animation_state",e.target.value)}
                                    placeholder="on, off, playing, idle, etc."
                                    class="property-input state-value-input"
                                  />
                                  <small class="property-hint">
                                    Enter the exact state value that will trigger the animation
                                  </small>
                                  <div class="property-hint state-value-hint">
                                    <ha-icon icon="mdi:information-outline"></ha-icon>
                                    <span>
                                      ${this._getStateValueHint(this.designProperties.animation_entity)}
                                    </span>
                                  </div>
                                </div>
                              `)()}
                        `:n.qy`
                          <div class="property-group">
                            <label>Trigger Type:</label>
                            <select disabled class="property-select">
                              <option>Select an entity first</option>
                            </select>
                            <small class="property-hint">
                              Select an entity first to configure trigger conditions
                            </small>
                          </div>
                        `}
                  `:""}
            </div>

            <!-- Intro/Outro Animations -->
            <div class="property-section">
              <h5>
                ${(0,m.kg)("editor.design.intro_outro_animations",(null===(ne=null===(ie=this.hass)||void 0===ie?void 0:ie.locale)||void 0===ne?void 0:ne.language)||"en","Intro & Outro Animations")}
              </h5>
              <div class="two-column-grid">
                <div class="property-group">
                  <label
                    >${(0,m.kg)("editor.design.intro_animation",(null===(ae=null===(oe=this.hass)||void 0===oe?void 0:oe.locale)||void 0===ae?void 0:ae.language)||"en","Intro Animation")}:</label
                  >
                  <select
                    .value=${this.designProperties.intro_animation||"none"}
                    @change=${e=>this._updateProperty("intro_animation",e.target.value)}
                    class="property-select"
                  >
                    <option value="none">
                      ${(0,m.kg)("editor.design.none",(null===(le=null===(re=this.hass)||void 0===re?void 0:re.locale)||void 0===le?void 0:le.language)||"en","None")}
                    </option>
                    <option value="fadeIn">Fade In</option>
                    <option value="slideInUp">Slide In Up</option>
                    <option value="slideInDown">Slide In Down</option>
                    <option value="slideInLeft">Slide In Left</option>
                    <option value="slideInRight">Slide In Right</option>
                    <option value="zoomIn">Zoom In</option>
                    <option value="bounceIn">Bounce In</option>
                    <option value="flipInX">Flip In X</option>
                    <option value="flipInY">Flip In Y</option>
                    <option value="rotateIn">Rotate In</option>
                  </select>
                </div>

                <div class="property-group">
                  <label
                    >${(0,m.kg)("editor.design.outro_animation",(null===(de=null===(se=this.hass)||void 0===se?void 0:se.locale)||void 0===de?void 0:de.language)||"en","Outro Animation")}:</label
                  >
                  <select
                    .value=${this.designProperties.outro_animation||"none"}
                    @change=${e=>this._updateProperty("outro_animation",e.target.value)}
                    class="property-select"
                  >
                    <option value="none">
                      ${(0,m.kg)("editor.design.none",(null===(ue=null===(ce=this.hass)||void 0===ce?void 0:ce.locale)||void 0===ue?void 0:ue.language)||"en","None")}
                    </option>
                    <option value="fadeOut">Fade Out</option>
                    <option value="slideOutUp">Slide Out Up</option>
                    <option value="slideOutDown">Slide Out Down</option>
                    <option value="slideOutLeft">Slide Out Left</option>
                    <option value="slideOutRight">Slide Out Right</option>
                    <option value="zoomOut">Zoom Out</option>
                    <option value="bounceOut">Bounce Out</option>
                    <option value="flipOutX">Flip Out X</option>
                    <option value="flipOutY">Flip Out Y</option>
                    <option value="rotateOut">Rotate Out</option>
                  </select>
                </div>
              </div>

              <!-- Animation Settings -->
              <div class="three-column-grid">
                <div class="property-group">
                  <label
                    >${(0,m.kg)("editor.design.duration",(null===(ge=null===(pe=this.hass)||void 0===pe?void 0:pe.locale)||void 0===ge?void 0:ge.language)||"en","Duration")}:</label
                  >
                  <input
                    type="text"
                    .value=${this.designProperties.animation_duration||""}
                    @input=${e=>this._updateProperty("animation_duration",e.target.value)}
                    placeholder="0.3s, 500ms"
                    class="property-input"
                  />
                </div>

                <div class="property-group">
                  <label
                    >${(0,m.kg)("editor.design.delay",(null===(_e=null===(me=this.hass)||void 0===me?void 0:me.locale)||void 0===_e?void 0:_e.language)||"en","Delay")}:</label
                  >
                  <input
                    type="text"
                    .value=${this.designProperties.animation_delay||""}
                    @input=${e=>this._updateProperty("animation_delay",e.target.value)}
                    placeholder="0s, 100ms"
                    class="property-input"
                  />
                </div>

                <div class="property-group">
                  <label
                    >${(0,m.kg)("editor.design.timing",(null===(ve=null===(he=this.hass)||void 0===he?void 0:he.locale)||void 0===ve?void 0:ve.language)||"en","Timing")}:</label
                  >
                  <select
                    .value=${this.designProperties.animation_timing||"ease"}
                    @change=${e=>this._updateProperty("animation_timing",e.target.value)}
                    class="property-select"
                  >
                    <option value="ease">
                      ${(0,m.kg)("editor.design.ease",(null===(fe=null===(be=this.hass)||void 0===be?void 0:be.locale)||void 0===fe?void 0:fe.language)||"en","Ease")}
                    </option>
                    <option value="linear">Linear</option>
                    <option value="ease-in">Ease In</option>
                    <option value="ease-out">Ease Out</option>
                    <option value="ease-in-out">Ease In Out</option>
                    <option value="cubic-bezier(0.25,0.1,0.25,1)">Custom Cubic</option>
                  </select>
                </div>
              </div>
            </div>
          `,"animations")}
      </div>
    `}static get styles(){return n.AH`
      .global-design-tab {
        display: flex;
        flex-direction: column;
        gap: 8px;
        box-sizing: border-box;
        overflow: hidden;
      }

      .design-toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        margin-bottom: 8px;
        box-sizing: border-box;
        overflow: hidden;
      }

      .toolbar-button {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 14px;
        font-weight: 500;
        min-width: 0;
        flex: 1;
        justify-content: center;
      }

      .toolbar-button:hover:not(:disabled) {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .toolbar-button:active:not(:disabled) {
        transform: translateY(0);
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .toolbar-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: var(--disabled-background-color, #f5f5f5);
        color: var(--disabled-text-color, #999);
        border-color: var(--disabled-border-color, #ddd);
      }

      .toolbar-button ha-icon {
        font-size: 16px;
        flex-shrink: 0;
      }

      .toolbar-button span {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* Specific button styling */
      .copy-button:hover:not(:disabled) {
        border-color: var(--info-color, #2196f3);
        background: var(--info-color, #2196f3);
      }

      .paste-button.has-content {
        border-color: var(--success-color, #4caf50);
        background: rgba(76, 175, 80, 0.1);
      }

      .paste-button.has-content:hover:not(:disabled) {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
      }

      .reset-all-button:hover:not(:disabled) {
        border-color: var(--error-color, #f44336);
        background: var(--error-color, #f44336);
      }

      /* Responsive design for smaller screens */
      @media (max-width: 768px) {
        .design-toolbar {
          flex-direction: column;
          gap: 8px;
        }

        .toolbar-button {
          width: 100%;
          justify-content: center;
        }
      }

      @media (max-width: 480px) {
        .toolbar-button span {
          display: none;
        }

        .toolbar-button {
          min-width: 44px;
          padding: 8px;
          justify-content: center;
        }

        .design-toolbar {
          flex-direction: row;
          justify-content: space-around;
        }
      }

      .accordion-section {
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        overflow: hidden;
        box-sizing: border-box;
      }

      .accordion-header {
        width: 100%;
        padding: 12px 16px;
        background: var(--secondary-background-color);
        border: none;
        border-radius: 8px 8px 0 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 500;
        color: var(--primary-text-color);
        transition: background-color 0.2s ease;
        box-sizing: border-box;
      }

      .accordion-header:hover {
        background: var(--primary-color);
        color: white;
      }

      .accordion-header.expanded {
        background: var(--primary-color);
        color: white;
        border-radius: 8px 8px 0 0;
      }

      .accordion-header:not(.expanded) {
        border-radius: 8px;
      }

      .accordion-toggle {
        background: none;
        border: none;
        color: inherit;
        font: inherit;
        cursor: pointer;
        display: flex;
        align-items: center;
        flex: 1;
        text-align: left;
        padding: 0;
      }

      .accordion-actions {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .reset-button,
      .expand-button {
        background: none;
        border: none;
        color: inherit;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s ease;
        min-width: 24px;
        height: 24px;
      }

      .reset-button:hover,
      .expand-button:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .accordion-header:not(.expanded) .reset-button:hover,
      .accordion-header:not(.expanded) .expand-button:hover {
        background: rgba(0, 0, 0, 0.1);
      }

      .accordion-title {
        position: relative;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .edit-indicator {
        width: 8px;
        height: 8px;
        background: var(--primary-color);
        border-radius: 50%;
        display: inline-block;
        animation: pulse 2s ease-in-out infinite;
      }

      .accordion-header.expanded .edit-indicator {
        background: white;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.6;
        }
      }

      .accordion-content {
        padding: 20px;
        background: var(--card-background-color, #fff);
        border-top: 1px solid var(--divider-color);
        border-radius: 0 0 8px 8px;
        position: relative;
        box-sizing: border-box;
        overflow: hidden;
      }

      .property-group {
        margin-bottom: 16px;
        box-sizing: border-box;
        overflow: hidden;
      }

      .property-group:last-child {
        margin-bottom: 0;
      }

      .property-group label {
        display: block;
        font-weight: 500;
        margin-bottom: 4px;
        color: var(--primary-text-color);
      }

      .property-input,
      .property-select {
        width: 100%;
        padding: 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
        max-width: 100%;
      }

      .property-input:focus,
      .property-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .property-hint {
        display: block;
        font-size: 11px;
        color: var(--secondary-text-color);
        margin-top: 4px;
        line-height: 1.3;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: var(--secondary-text-color);
        cursor: pointer;
      }

      .button-group {
        display: flex;
        gap: 4px;
      }

      .property-btn {
        flex: 1;
        padding: 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .property-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .property-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .spacing-group {
        margin-bottom: 20px;
      }

      .spacing-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
      }

      .spacing-group h4 {
        margin: 0;
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .lock-button {
        padding: 6px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 32px;
        height: 32px;
      }

      .lock-button:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .lock-button.locked {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .spacing-fields-desktop {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
      }

      .spacing-field {
        display: flex;
        flex-direction: column;
      }

      .spacing-field label {
        font-size: 12px;
        font-weight: 500;
        color: var(--secondary-text-color);
        margin-bottom: 4px;
        text-align: center;
      }

      .spacing-input {
        width: 100%;
        padding: 6px 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 12px;
        text-align: center;
        box-sizing: border-box;
        max-width: 100%;
      }

      .spacing-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      @media (max-width: 768px) {
        .spacing-fields-desktop {
          grid-template-columns: 1fr 1fr;
          gap: 8px;
        }
      }

      .spacing-grid,
      .position-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
        align-items: center;
        max-width: 150px;
        margin: 0 auto;
      }

      .spacing-row,
      .position-row {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 8px;
        align-items: center;
      }

      .spacing-center,
      .position-center {
        width: 40px;
        height: 32px;
        background: var(--primary-color);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        font-weight: bold;
        font-size: 11px;
      }

      .spacing-grid input,
      .position-grid input {
        width: 100%;
        text-align: center;
        padding: 4px 8px;
        font-size: 12px;
      }

      /* Property sections */
      .property-section {
        margin-bottom: 24px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--divider-color);
      }

      .property-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }

      .property-section h5 {
        margin: 0 0 16px 0;
        font-size: 16px;
        font-weight: 600;
        color: var(--primary-text-color);
        padding-bottom: 8px;
        border-bottom: 1px solid var(--primary-color);
        display: inline-block;
      }

      /* Grid layouts */
      .two-column-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-bottom: 16px;
      }

      .three-column-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 12px;
        margin-bottom: 16px;
      }

      @media (max-width: 768px) {
        .two-column-grid,
        .three-column-grid {
          grid-template-columns: 1fr;
          gap: 12px;
        }
      }

      /* Animation keyframes for intro/outro animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      @keyframes slideInUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideOutUp {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideOutDown {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(100%);
          opacity: 0;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes zoomIn {
        from {
          transform: scale(0.3);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes zoomOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounceOut {
        20% {
          transform: scale(0.9);
        }
        50%,
        55% {
          transform: scale(1.05);
          opacity: 1;
        }
        100% {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes flipInX {
        from {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateX(-20deg);
        }
        60% {
          transform: perspective(400px) rotateX(10deg);
        }
        80% {
          transform: perspective(400px) rotateX(-5deg);
        }
        to {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutX {
        from {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
      }

      @keyframes flipInY {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateY(-20deg);
        }
        60% {
          transform: perspective(400px) rotateY(10deg);
        }
        80% {
          transform: perspective(400px) rotateY(-5deg);
        }
        to {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutY {
        from {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
      }

      @keyframes rotateIn {
        from {
          transform: rotate(-200deg);
          opacity: 0;
        }
        to {
          transform: rotate(0deg);
          opacity: 1;
        }
      }

      @keyframes rotateOut {
        from {
          transform: rotate(0deg);
          opacity: 1;
        }
        to {
          transform: rotate(200deg);
          opacity: 0;
        }
      }

      /* Color picker z-index fix */
      ultra-color-picker {
        position: relative;
        z-index: 1000;
      }

      /* Upload button styling */
      .upload-container {
        width: 100%;
      }

      .file-upload-row {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%;
      }

      .file-upload-button {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        min-width: 120px;
      }

      .file-upload-button:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      .button-content {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .button-label {
        font-size: 14px;
        font-weight: 500;
      }

      .path-display {
        flex: 1;
        min-width: 0;
      }

      .uploaded-path {
        color: var(--primary-text-color);
        font-size: 12px;
        word-break: break-all;
      }

      .no-file {
        color: var(--secondary-text-color);
        font-size: 12px;
        font-style: italic;
      }

      /* Attribute value selection styling */
      .attribute-value-selection {
        display: flex;
        flex-direction: column;
        gap: 8px;
        position: relative;
        margin-bottom: 8px;
      }

      .attribute-value-select {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--primary-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
        appearance: menulist;
        cursor: pointer;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: all 0.2s ease;
        max-height: 200px;
        overflow-y: auto;
      }

      .attribute-value-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
      }

      .attribute-value-select option {
        padding: 8px;
      }

      /* Enhanced attribute mode styling */
      .attribute-mode {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .attribute-mode-container {
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        padding: 12px;
        border-radius: 4px;
        border-left: 3px solid var(--primary-color);
        margin-bottom: 16px;
      }

      .trigger-type-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        margin: 8px 0;
        border-radius: 4px;
        font-weight: 500;
      }

      .attribute-mode-indicator {
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.1);
        border-left: 3px solid var(--primary-color);
        color: var(--primary-color);
      }

      .state-mode-indicator {
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.1);
        border-left: 3px solid var(--info-color, #03a9f4);
        color: var(--info-color, #03a9f4);
      }

      .attribute-mode-select {
        border-color: var(--primary-color);
      }

      .attribute-value-container {
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        padding: 16px;
        border-radius: 8px;
        border-left: 3px solid var(--primary-color);
        margin-top: 16px;
      }

      .attribute-value-container label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 8px;
      }

      .attribute-value-selection {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 12px;
        border: 1px solid var(--primary-color);
        border-radius: 4px;
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        margin-top: 8px;
      }

      .attribute-value-input {
        border-color: var(--primary-color);
        border-width: 2px;
      }

      .attribute-value-dropdown-container {
        background: white;
        padding: 12px;
        border-radius: 4px;
        border: 1px dashed var(--primary-color);
        position: relative;
        overflow: hidden;
      }

      .attribute-value-label {
        font-size: 12px;
        font-weight: 500;
        color: var(--primary-color);
        margin-bottom: 4px;
      }

      .attribute-value-hint {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        margin-top: 8px;
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        padding: 8px;
        border-radius: 4px;
      }

      /* State mode styling */
      .state-value-container {
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.05);
        padding: 16px;
        border-radius: 8px;
        border-left: 3px solid var(--info-color, #03a9f4);
        margin-top: 16px;
      }

      .state-value-container label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--info-color, #03a9f4);
        font-weight: 600;
        margin-bottom: 8px;
      }

      .state-value-selection {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 12px;
        border: 1px solid var(--info-color, #03a9f4);
        border-radius: 4px;
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.05);
        margin-top: 8px;
      }

      .state-value-input {
        border-color: var(--info-color, #03a9f4);
        border-width: 2px;
      }

      .state-value-dropdown-container {
        background: white;
        padding: 12px;
        border-radius: 4px;
        border: 1px dashed var(--info-color, #03a9f4);
        position: relative;
        overflow: hidden;
      }

      .state-value-label {
        font-size: 12px;
        font-weight: 500;
        color: var(--info-color, #03a9f4);
        margin-bottom: 4px;
      }

      .state-value-hint {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        margin-top: 8px;
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.05);
        padding: 8px;
        border-radius: 4px;
      }

      .state-value-hint ha-icon {
        color: var(--info-color, #03a9f4);
        flex-shrink: 0;
      }

      .attribute-value-hint ha-icon,
      .state-value-hint ha-icon {
        color: currentColor;
        flex-shrink: 0;
      }

      /* Visual feedback animations */
      @keyframes success-pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(var(--rgb-success-color, 76, 175, 80), 0.7);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(var(--rgb-success-color, 76, 175, 80), 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(var(--rgb-success-color, 76, 175, 80), 0);
        }
      }

      .change-success {
        animation: success-pulse 0.5s ease-in-out;
        border-color: var(--success-color, #4caf50) !important;
        box-shadow: 0 0 0 1px var(--success-color, #4caf50);
        transition: all 0.3s ease;
      }

      .attribute-mode-select.change-success,
      .state-mode-select.change-success {
        border-width: 2px;
      }

      .select-attribute-first {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px;
        color: var(--warning-color, #ff9800);
        font-style: italic;
        text-align: center;
        background: rgba(var(--rgb-warning-color, 255, 152, 0), 0.05);
        border: 1px dashed var(--warning-color, #ff9800);
        border-radius: 4px;
      }

      /* Mode switch animation */
      @keyframes highlight-fade {
        0% {
          background-color: rgba(var(--rgb-success-color, 76, 175, 80), 0.2);
        }
        100% {
          background-color: transparent;
        }
      }

      .trigger-type-indicator {
        animation: highlight-fade 1.5s ease-out;
      }

      /* Additional highlight animation for mode switches */
      @keyframes border-pulse {
        0% {
          border-left-width: 3px;
        }
        50% {
          border-left-width: 6px;
        }
        100% {
          border-left-width: 3px;
        }
      }

      .attribute-mode-indicator {
        animation: border-pulse 1s ease-in-out;
      }

      .state-mode-indicator {
        animation: border-pulse 1s ease-in-out;
      }

      /* Visual transitions for UI state changes */
      .property-select,
      .property-input,
      .attribute-value-select,
      .state-value-select {
        transition:
          border-color 0.3s ease,
          box-shadow 0.3s ease,
          background-color 0.3s ease;
      }

      /* Value selection feedback */
      .attribute-value-select:focus,
      .state-value-select:focus {
        border-width: 2px;
        transform: translateY(-1px);
      }

      /* Attribute mode specific animations */
      .attribute-mode-select::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.1);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .attribute-mode-select:focus::after {
        opacity: 1;
      }

      /* State mode specific animations */
      .state-value-select::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.1);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .state-value-select:focus::after {
        opacity: 1;
      }

      /* Animation classes */
      .fadeIn {
        animation: fadeIn var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .fadeOut {
        animation: fadeOut var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInUp {
        animation: slideInUp var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutUp {
        animation: slideOutUp var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInDown {
        animation: slideInDown var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutDown {
        animation: slideOutDown var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInLeft {
        animation: slideInLeft var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutLeft {
        animation: slideOutLeft var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInRight {
        animation: slideInRight var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutRight {
        animation: slideOutRight var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .zoomIn {
        animation: zoomIn var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .zoomOut {
        animation: zoomOut var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .bounceIn {
        animation: bounceIn var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .bounceOut {
        animation: bounceOut var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipInX {
        animation: flipInX var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipOutX {
        animation: flipOutX var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipInY {
        animation: flipInY var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipOutY {
        animation: flipOutY var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .rotateIn {
        animation: rotateIn var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .rotateOut {
        animation: rotateOut var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }

      /* Input with reset button styles */
      .input-with-reset {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
      }

      .input-with-reset .property-input {
        flex: 1;
      }

      .reset-btn {
        width: 32px;
        height: 32px;
        min-width: 32px;
        padding: 0;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .reset-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .reset-btn ha-icon {
        font-size: 16px;
      }
    `}_getBackgroundSizeDropdownValue(e){return e?["cover","contain","auto"].includes(e)?e:"custom":"cover"}_getCustomSizeValue(e,t){if(!e||["cover","contain","auto"].includes(e))return"";if("custom"===e)return"";const i=e.split(" ");return"width"===t?i[0]||"":"height"===t&&(i[1]||i[0])||""}};h.CLIPBOARD_KEY="ultra-card-design-clipboard",h._lastAnimationTriggerType=null,_([(0,o.MZ)({attribute:!1})],h.prototype,"hass",void 0),_([(0,o.MZ)({attribute:!1})],h.prototype,"designProperties",void 0),_([(0,o.MZ)({type:Function})],h.prototype,"onUpdate",void 0),_([(0,o.wk)()],h.prototype,"_expandedSections",void 0),_([(0,o.wk)()],h.prototype,"_marginLocked",void 0),_([(0,o.wk)()],h.prototype,"_paddingLocked",void 0),_([(0,o.wk)()],h.prototype,"_clipboardProperties",void 0),h=d=_([(0,o.EM)("ultra-global-design-tab")],h);var v=i(371),b=i(397);e=i.hmd(e);var f=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const y=[{value:"default",label:"– Default –",category:"default"}],k=[{value:"Montserrat",label:"Montserrat (used as default font)",category:"typography"}],x=[{value:"Georgia, serif",label:"Georgia, serif",category:"websafe"},{value:"Palatino Linotype, Book Antiqua, Palatino, serif",label:"Palatino Linotype, Book Antiqua, Palatino, serif",category:"websafe"},{value:"Times New Roman, Times, serif",label:"Times New Roman, Times, serif",category:"websafe"},{value:"Arial, Helvetica, sans-serif",label:"Arial, Helvetica, sans-serif",category:"websafe"},{value:"Impact, Charcoal, sans-serif",label:"Impact, Charcoal, sans-serif",category:"websafe"},{value:"Lucida Sans Unicode, Lucida Grande, sans-serif",label:"Lucida Sans Unicode, Lucida Grande, sans-serif",category:"websafe"},{value:"Tahoma, Geneva, sans-serif",label:"Tahoma, Geneva, sans-serif",category:"websafe"},{value:"Trebuchet MS, Helvetica, sans-serif",label:"Trebuchet MS, Helvetica, sans-serif",category:"websafe"},{value:"Verdana, Geneva, sans-serif",label:"Verdana, Geneva, sans-serif",category:"websafe"},{value:"Courier New, Courier, monospace",label:"Courier New, Courier, monospace",category:"websafe"},{value:"Lucida Console, Monaco, monospace",label:"Lucida Console, Monaco, monospace",category:"websafe"}];let w=class extends n.WF{constructor(){super(...arguments),this._showModuleSelector=!1,this._selectedRowIndex=-1,this._selectedColumnIndex=-1,this._showModuleSettings=!1,this._selectedModule=null,this._activeModuleTab="general",this._activeDesignSubtab="text",this._showRowSettings=!1,this._selectedRowForSettings=-1,this._activeRowTab="general",this._showColumnSettings=!1,this._selectedColumnForSettings=null,this._activeColumnTab="general",this._showColumnLayoutSelector=!1,this._selectedRowForLayout=-1,this._isPreviewCollapsed=!1,this._collapsedConditionIds=new Set,this._draggingCondition=null,this._draggedItem=null,this._dropTarget=null,this._selectedLayoutModuleIndex=-1,this._showLayoutChildSettings=!1,this._selectedLayoutChild=null,this._popupDragState={isDragging:!1,dragStartX:0,dragStartY:0,initialX:0,initialY:0,element:null},this._popupResizeState={isResizing:!1,resizeStartX:0,resizeStartY:0,initialWidth:0,initialHeight:0,element:null},this._handlePopupDrag=e=>{if(!this._popupDragState.isDragging||!this._popupDragState.element)return;const t=e.clientX-this._popupDragState.dragStartX,i=e.clientY-this._popupDragState.dragStartY,n=this._popupDragState.initialX+t,o=this._popupDragState.initialY+i,a=window.innerWidth-this._popupDragState.element.offsetWidth,r=window.innerHeight-this._popupDragState.element.offsetHeight,l=Math.max(0,Math.min(n,a)),s=Math.max(0,Math.min(o,r));this._popupDragState.element.style.left=`${l}px`,this._popupDragState.element.style.top=`${s}px`,this._popupDragState.element.style.transform="none"},this._endPopupDrag=()=>{this._popupDragState.element&&this._popupDragState.element.classList.remove("popup-dragging"),this._popupDragState={isDragging:!1,dragStartX:0,dragStartY:0,initialX:0,initialY:0,element:null},document.removeEventListener("mousemove",this._handlePopupDrag),document.removeEventListener("mouseup",this._endPopupDrag)},this._handlePopupResize=e=>{if(!this._popupResizeState.isResizing||!this._popupResizeState.element)return;const t=e.clientX-this._popupResizeState.resizeStartX,i=e.clientY-this._popupResizeState.resizeStartY,n=this._popupResizeState.initialWidth+t,o=this._popupResizeState.initialHeight+i,a=.9*window.innerWidth,r=.9*window.innerHeight,l=Math.min(n,a),s=Math.min(o,r);this._popupResizeState.element.style.setProperty("width",`${l}px`,"important"),this._popupResizeState.element.style.setProperty("height",`${s}px`,"important")},this._endPopupResize=()=>{this._popupResizeState.element&&this._popupResizeState.element.classList.remove("popup-resizing"),this._popupResizeState={isResizing:!1,resizeStartX:0,resizeStartY:0,initialWidth:0,initialHeight:0,element:null},document.removeEventListener("mousemove",this._handlePopupResize),document.removeEventListener("mouseup",this._endPopupResize)},this.COLUMN_LAYOUTS=[{id:"1-col",name:"1",proportions:[1],columnCount:1},{id:"1-2-1-2",name:"1/2 + 1/2",proportions:[1,1],columnCount:2},{id:"1-3-2-3",name:"1/3 + 2/3",proportions:[1,2],columnCount:2},{id:"2-3-1-3",name:"2/3 + 1/3",proportions:[2,1],columnCount:2},{id:"2-5-3-5",name:"2/5 + 3/5",proportions:[2,3],columnCount:2},{id:"3-5-2-5",name:"3/5 + 2/5",proportions:[3,2],columnCount:2},{id:"1-3-1-3-1-3",name:"1/3 + 1/3 + 1/3",proportions:[1,1,1],columnCount:3},{id:"1-4-1-2-1-4",name:"1/4 + 1/2 + 1/4",proportions:[1,2,1],columnCount:3},{id:"1-5-3-5-1-5",name:"1/5 + 3/5 + 1/5",proportions:[1,3,1],columnCount:3},{id:"1-6-2-3-1-6",name:"1/6 + 2/3 + 1/6",proportions:[1,4,1],columnCount:3},{id:"1-4-1-4-1-4-1-4",name:"1/4 + 1/4 + 1/4 + 1/4",proportions:[1,1,1,1],columnCount:4},{id:"1-5-1-5-1-5-1-5",name:"1/5 + 1/5 + 1/5 + 1/5",proportions:[1,1,1,1],columnCount:4},{id:"1-6-1-6-1-6-1-6",name:"1/6 + 1/6 + 1/6 + 1/6",proportions:[1,1,1,1],columnCount:4},{id:"1-8-1-4-1-4-1-8",name:"1/8 + 1/4 + 1/4 + 1/8",proportions:[1,2,2,1],columnCount:4},{id:"1-5-1-5-1-5-1-5-1-5",name:"1/5 + 1/5 + 1/5 + 1/5 + 1/5",proportions:[1,1,1,1,1],columnCount:5},{id:"1-6-1-6-1-3-1-6-1-6",name:"1/6 + 1/6 + 1/3 + 1/6 + 1/6",proportions:[1,1,2,1,1],columnCount:5},{id:"1-8-1-4-1-4-1-4-1-8",name:"1/8 + 1/4 + 1/4 + 1/4 + 1/8",proportions:[1,2,2,2,1],columnCount:5},{id:"1-6-1-6-1-6-1-6-1-6-1-6",name:"1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6",proportions:[1,1,1,1,1,1],columnCount:6}]}connectedCallback(){super.connectedCallback(),this._templateUpdateListener=()=>{this.requestUpdate()},window.addEventListener("ultra-card-template-update",this._templateUpdateListener),p.k.injectHoverEffectStyles(this.shadowRoot)}_isMobileDevice(){const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t}_togglePreviewCollapsed(e){e&&e.stopPropagation(),this._isPreviewCollapsed=!this._isPreviewCollapsed}_toggleConditionExpanded(e){const t=new Set(this._collapsedConditionIds);t.has(e)?t.delete(e):t.add(e),this._collapsedConditionIds=t}_reorderArray(e,t,i){if(t===i)return e;const n=[...e],[o]=n.splice(t,1),a=t<i?i-1:i;return n.splice(a,0,o),n}_onConditionDragStart(e,t,i){e.stopPropagation(),this._draggingCondition={scope:t,fromIndex:i},e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",String(i)))}_onConditionDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}_onConditionDrop(e,t,i,n,o){if(e.preventDefault(),e.stopPropagation(),!this._draggingCondition||this._draggingCondition.scope!==t)return void(this._draggingCondition=null);const a=this._draggingCondition.fromIndex,r=n()||[];o(this._reorderArray(r,a,i)),this._draggingCondition=null}_resolvePreviewBackgroundImageCSS(e){var t,i;const n=this.hass,o=null==e?void 0:e.background_image_type,a=null==e?void 0:e.background_image;if(!o||"none"===o)return a?`url("${n?(0,g.V)(n,a):a}")`:"none";if("upload"===o||"url"===o)return a?`url("${n?(0,g.V)(n,a):a}")`:"none";if("entity"===o){const o=null==e?void 0:e.background_image_entity;if(o&&n&&n.states[o]){const e=n.states[o];let a="";if((null===(t=e.attributes)||void 0===t?void 0:t.entity_picture)?a=e.attributes.entity_picture:(null===(i=e.attributes)||void 0===i?void 0:i.image)?a=e.attributes.image:"string"==typeof e.state&&(a=e.state),a)return`url("${(0,g.V)(n,a)}")`}return"none"}return"none"}disconnectedCallback(){super.disconnectedCallback(),this._endPopupDrag(),this._endPopupResize(),this._templateUpdateListener&&(window.removeEventListener("ultra-card-template-update",this._templateUpdateListener),this._templateUpdateListener=void 0),p.k.removeHoverEffectStyles(this.shadowRoot)}_startPopupDrag(e,t){if(this._isMobileDevice())return;e.preventDefault();const i=t.getBoundingClientRect();t.style.left=`${i.left}px`,t.style.top=`${i.top}px`,t.style.transform="none",t.style.marginLeft="0",t.style.marginTop="0",this._popupDragState={isDragging:!0,dragStartX:e.clientX,dragStartY:e.clientY,initialX:i.left,initialY:i.top,element:t},document.addEventListener("mousemove",this._handlePopupDrag),document.addEventListener("mouseup",this._endPopupDrag),t.classList.add("popup-dragging")}_startPopupResize(e,t){if(this._isMobileDevice())return;e.preventDefault(),e.stopPropagation();const i=window.getComputedStyle(t),n=i.transform&&"none"!==i.transform,o=t.getBoundingClientRect();n&&(t.style.left=`${o.left}px`,t.style.top=`${o.top}px`,t.style.transform="none",t.style.marginLeft="0",t.style.marginTop="0"),this._popupResizeState={isResizing:!0,resizeStartX:e.clientX,resizeStartY:e.clientY,initialWidth:o.width,initialHeight:o.height,element:t},document.addEventListener("mousemove",this._handlePopupResize),document.addEventListener("mouseup",this._endPopupResize),t.classList.add("popup-resizing")}_createColumnIconHTML(e){const t=e.reduce(((e,t)=>e+t),0);return`<div style="display: flex; width: 100%; height: 16px; gap: 2px;">${e.map(((e,i)=>`<div style="width: ${e/t*100}%; height: 16px; background: #2196F3; border-radius: 2px; ${i>0?"margin-left: 2px;":""}"></div>`)).join("")}</div>`}_createSimpleIcon(e){return e.map((e=>"█".repeat(e))).join(" ")}_getLayoutsForColumnCount(e){const t=Math.min(e,6);return this.COLUMN_LAYOUTS.filter((e=>e.columnCount===t))}_migrateLegacyLayoutId(e){return{"50-50":"1-2-1-2","30-70":"1-3-2-3","70-30":"2-3-1-3","33-33-33":"1-3-1-3-1-3","25-50-25":"1-4-1-2-1-4","20-60-20":"1-5-3-5-1-5","25-25-25-25":"1-4-1-4-1-4-1-4"}[e]||e}_ensureLayout(){return this.config.layout&&this.config.layout.rows?this.config.layout:{rows:[{id:`row-${Date.now()}`,columns:[{id:`col-${Date.now()}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"}],column_layout:"1-col"}]}}_updateConfig(e){const t=Object.assign(Object.assign({},this.config),e),i=new CustomEvent("config-changed",{detail:{config:t},bubbles:!0,composed:!0});this.dispatchEvent(i)}_updateLayout(e){this._updateConfig({layout:e})}_addRow(){const e=this._ensureLayout(),t={id:`row-${Date.now()}`,columns:[],column_layout:"1-col"},i={rows:[...e.rows,t]};this._updateLayout(i)}_deleteRow(e){const t=this._ensureLayout();if(t.rows.length>1){const i={rows:t.rows.filter(((t,i)=>i!==e))};this._updateLayout(i)}}_duplicateRow(e){const t=this._ensureLayout(),i=t.rows[e];if(!i)return void console.error("Row to copy not found at index:",e);const n=Object.assign(Object.assign({},JSON.parse(JSON.stringify(i))),{id:`row-${Date.now()}`,columns:i.columns.map(((e,t)=>Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{id:`col-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`,modules:e.modules.map(((e,t)=>Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{id:`${e.type}-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`})))})))}),o=JSON.parse(JSON.stringify(t));o.rows.splice(e+1,0,n),this._updateLayout(o)}_addColumn(e){const t=this._ensureLayout(),i=t.rows[e];if(!i)return void console.error("Row not found at index:",e);if(i.columns.length>=6)return;const n={id:`col-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"},o={rows:t.rows.map(((t,i)=>i===e?Object.assign(Object.assign({},t),{columns:[...t.columns,n]}):t))};this._updateLayout(o)}_addColumnAfter(e,t){const i=this._ensureLayout(),n=i.rows[e];if(!n)return;if(n.columns.length>=6)return;const o={id:`col-${Date.now()}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"},a={rows:i.rows.map(((i,n)=>{if(n===e){const e=[...i.columns];return e.splice(t+1,0,o),Object.assign(Object.assign({},i),{columns:e})}return i}))};this._updateLayout(a)}_duplicateColumn(e,t){const i=this._ensureLayout(),n=i.rows[e];if(!n||!n.columns[t])return void console.error("Row or column not found:",e,t);if(n.columns.length>=6)return;const o=n.columns[t],a=Object.assign(Object.assign({},JSON.parse(JSON.stringify(o))),{id:`col-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,modules:o.modules.map(((e,t)=>Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{id:`${e.type}-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`})))}),r=JSON.parse(JSON.stringify(i));r.rows[e].columns.splice(t+1,0,a),this._updateLayout(r)}_deleteColumn(e,t){const i=this._ensureLayout(),n=i.rows[e];if(!n)return void console.error("Row not found at index:",e);if(!n.columns[t])return void console.error("Column not found at index:",t);const o={rows:i.rows.map(((i,n)=>n===e?Object.assign(Object.assign({},i),{columns:i.columns.filter(((e,i)=>i!==t))}):i))};this._updateLayout(o)}_openColumnLayoutSelector(e){this._selectedRowForLayout=e,this._showColumnLayoutSelector=!0}_changeColumnLayout(e){if(-1===this._selectedRowForLayout)return;const t=this._ensureLayout(),i=t.rows[this._selectedRowForLayout];if(!i)return;const n=this.COLUMN_LAYOUTS.find((t=>t.id===e));if(!n)return;const o=n.columnCount,a=i.columns.length,r=JSON.parse(JSON.stringify(t)),l=r.rows[this._selectedRowForLayout];if(o===a)l.column_layout=e;else if(o>a){const t=[...l.columns];for(let e=a;e<o;e++)t.push({id:`col-${Date.now()}-${e}-${Math.random().toString(36).substr(2,9)}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"});l.columns=t,l.column_layout=e}else{const t=[],i=[];l.columns.forEach((e=>{e.modules&&e.modules.length>0&&i.push(...e.modules)}));for(let e=0;e<o;e++)e<a?t.push(Object.assign(Object.assign({},l.columns[e]),{modules:[]})):t.push({id:`col-${Date.now()}-${e}-${Math.random().toString(36).substr(2,9)}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"});i.length>0&&(1===o?t[0].modules=i:i.forEach(((e,i)=>{t[i%o].modules.push(e)}))),l.columns=t,l.column_layout=e}this._updateLayout(r),this._showColumnLayoutSelector=!1,this._selectedRowForLayout=-1}_getCurrentLayoutDisplay(e){const t=e.columns.length,i=e.column_layout,n=this.COLUMN_LAYOUTS.find((e=>e.id===i));if(n)return this._createSimpleIcon(n.proportions);switch(t){case 1:return"█";case 2:return"█ █";case 3:return"█ █ █";case 4:return"█ █ █ █";default:return"█ ".repeat(Math.min(t,6)).trim()}}_openModuleSelector(e,t){const i=this._ensureLayout().rows[e];i&&i.columns&&0!==i.columns.length||(this._addColumn(e),t=0),this._selectedRowIndex=e,this._selectedColumnIndex=t,this._showModuleSelector=!0}_addModule(e){var t,i;if(-1===this._selectedRowIndex||-1===this._selectedColumnIndex)return void console.error("No row or column selected");const n=this._ensureLayout();if(!n.rows[this._selectedRowIndex])return void console.error("Selected row does not exist:",this._selectedRowIndex);const o=n.rows[this._selectedRowIndex];if(!o.columns[this._selectedColumnIndex])return void console.error("Selected column does not exist:",this._selectedColumnIndex);const a=o.columns[this._selectedColumnIndex],r=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";let l,s;switch(e){case"text":l={id:`text-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"text",text:(0,m.kg)("editor.modules.sample_text",r,"Sample Text"),font_size:16,color:"var(--primary-text-color)"},delete l.name,delete l.title;break;case"separator":l={id:`separator-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"separator",thickness:1,color:"var(--divider-color)"},delete l.name,delete l.title,delete l.label;break;case"image":l={id:`image-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"image",image_type:"none"},delete l.name,delete l.title,delete l.label;break;case"markdown":l={id:`markdown-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"markdown",content:"This is a markdown module that supports:\n\n- Italic and bold text\n- Links\n- inline code\n- Lists and more!",markdown_content:"This is a markdown module that supports:\n\n- Italic and bold text\n- Links\n- inline code\n- Lists and more!"},delete l.name,delete l.title,delete l.label;break;case"bar":l={id:`bar-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"bar",entity:"sensor.battery_level",bar_color:"var(--primary-color)",background_color:"transparent",height:20,show_value:!0},delete l.name,delete l.title,delete l.label;break;case"button":l={id:`button-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"button",label:"Click Me",button_text:"Click Me",tap_action:{action:"more-info"}},delete l.name,delete l.title;break;case"info":l={id:`info-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"info",info_entities:[{entity:"sensor.temperature",name:"Temperature",icon:"mdi:thermometer"}]},delete l.name,delete l.title,delete l.label;break;default:try{const t=(0,c.oD)().createDefaultModule(e);if(t){l=t,delete l.name,delete l.title,delete l.label;break}}catch(e){console.error("Module registry failed:",e)}l={id:`text-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"text",text:"Unknown Module Type",font_size:16,color:"var(--primary-text-color)"}}if(s=this._selectedLayoutModuleIndex>=0?{rows:n.rows.map(((e,t)=>t===this._selectedRowIndex?Object.assign(Object.assign({},e),{columns:e.columns.map(((e,t)=>t===this._selectedColumnIndex?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===this._selectedLayoutModuleIndex){const t=e;return Object.assign(Object.assign({},t),{modules:[...t.modules||[],l]})}return e}))}):e))}):e))}:{rows:n.rows.map(((e,t)=>t===this._selectedRowIndex?Object.assign(Object.assign({},e),{columns:e.columns.map(((e,t)=>t===this._selectedColumnIndex?Object.assign(Object.assign({},e),{modules:[...e.modules||[],l]}):e))}):e))},this._updateLayout(s),this._showModuleSelector=!1,this._shouldAutoOpenSettings(e))if(this._selectedLayoutModuleIndex>=0);else{const e=a.modules.length;this._openModuleSettings(this._selectedRowIndex,this._selectedColumnIndex,e)}this._selectedRowIndex=-1,this._selectedColumnIndex=-1,this._selectedLayoutModuleIndex=-1}_duplicateModule(e,t,i){const n=this._ensureLayout(),o=n.rows[e];if(!o||!o.columns[t])return;const a=o.columns[t];if(!a.modules||!a.modules[i])return;const r=a.modules[i],l=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r))),{id:`${r.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}),s={rows:n.rows.map(((n,o)=>o===e?Object.assign(Object.assign({},n),{columns:n.columns.map(((e,n)=>{if(n===t){const t=[...e.modules];return t.splice(i+1,0,l),Object.assign(Object.assign({},e),{modules:t})}return e}))}):n))};this._updateLayout(s)}_deleteModule(e,t,i){const n=this._ensureLayout(),o=n.rows[e];if(!o||!o.columns[t])return;const a=o.columns[t];if(!a.modules||!a.modules[i])return;const r={rows:n.rows.map(((n,o)=>o===e?Object.assign(Object.assign({},n),{columns:n.columns.map(((e,n)=>n===t?Object.assign(Object.assign({},e),{modules:e.modules.filter(((e,t)=>t!==i))}):e))}):n))};this._updateLayout(r)}_openModuleSettings(e,t,i){this._selectedModule={rowIndex:e,columnIndex:t,moduleIndex:i},this._showModuleSettings=!0}_updateModule(e){if(!this._selectedModule)return;const t=this._ensureLayout(),{rowIndex:i,columnIndex:n,moduleIndex:o}=this._selectedModule,a={rows:t.rows.map(((t,a)=>a===i?Object.assign(Object.assign({},t),{columns:t.columns.map(((t,i)=>i===n?Object.assign(Object.assign({},t),{modules:t.modules.map(((t,i)=>{if(i===o){const i=Object.assign({},t);for(const[t,n]of Object.entries(e))void 0===n?delete i[t]:i[t]=n;return i}return t}))}):t))}):t))};this._updateLayout(a)}_updateLayoutChildModule(e){if(!this._selectedLayoutChild)return;const{parentRowIndex:t,parentColumnIndex:i,parentModuleIndex:n,childIndex:o}=this._selectedLayoutChild,a=this._ensureLayout(),r=JSON.parse(JSON.stringify(a)),l=r.rows[t];if(!l||!l.columns[i])return;const s=l.columns[i];if(!s.modules||!s.modules[n])return;const d=s.modules[n];if(!d.modules||!d.modules[o])return;const c=d.modules[o],u=Object.assign({},c);if(e.hasOwnProperty("design")){const t=e.design||{},i=u.design||{},n=Object.assign({},i);for(const[e,i]of Object.entries(t))void 0===i?delete n[e]:n[e]=i;u.design=n}for(const[t,i]of Object.entries(e))"design"!==t&&(void 0===i?delete u[t]:u[t]=i);d.modules[o]=u,this._updateLayout(r)}_updateModuleDesign(e){var t,i,n,o,a,r,l,s,d,c,u,p,g,m,_,h,v,b,f,y,k,x,w,$,z,S,C,A,j,T,I,E,P,M,L,D,R,O,V,B,N,H,U,F,q,K;const G=!this._selectedModule&&!!this._selectedLayoutChild;if(!this._selectedModule&&!this._selectedLayoutChild)return;const W={};if(e.hasOwnProperty("color")&&(W.color=e.color),e.hasOwnProperty("text_align")){const l=this._ensureLayout();let s=null;if(G){const{parentRowIndex:e,parentColumnIndex:a,parentModuleIndex:r,childIndex:d}=this._selectedLayoutChild;s=null===(o=null===(n=null===(i=null===(t=l.rows[e])||void 0===t?void 0:t.columns[a])||void 0===i?void 0:i.modules[r])||void 0===n?void 0:n.modules)||void 0===o?void 0:o[d]}else{const{rowIndex:e,columnIndex:t,moduleIndex:i}=this._selectedModule;s=null===(r=null===(a=l.rows[e])||void 0===a?void 0:a.columns[t])||void 0===r?void 0:r.modules[i]}s&&"text"===s.type?(W.design||(W.design=Object.assign({},s.design||{})),W.design.text_align=e.text_align):W.text_align=e.text_align}if(e.hasOwnProperty("font_size")&&(W.font_size=e.font_size?parseFloat(e.font_size):void 0),e.hasOwnProperty("line_height")&&(W.line_height=e.line_height),e.hasOwnProperty("letter_spacing")&&(W.letter_spacing=e.letter_spacing),e.hasOwnProperty("font_family")&&(W.font_family=e.font_family),e.hasOwnProperty("font_weight")&&(W.font_weight=e.font_weight),e.hasOwnProperty("text_transform")&&(W.text_transform=e.text_transform),e.hasOwnProperty("font_style")&&(W.font_style=e.font_style),e.hasOwnProperty("background_color")){const t=this._ensureLayout();let i=null;if(G){const{parentRowIndex:e,parentColumnIndex:n,parentModuleIndex:o,childIndex:a}=this._selectedLayoutChild;i=null===(c=null===(d=null===(s=null===(l=t.rows[e])||void 0===l?void 0:l.columns[n])||void 0===s?void 0:s.modules[o])||void 0===d?void 0:d.modules)||void 0===c?void 0:c[a]}else this._selectedModule&&(i=null===(p=null===(u=t.rows[this._selectedModule.rowIndex])||void 0===u?void 0:u.columns[this._selectedModule.columnIndex])||void 0===p?void 0:p.modules[this._selectedModule.moduleIndex]);W.design||(W.design=Object.assign({},(null==i?void 0:i.design)||{})),W.design.background_color=e.background_color,W.background_color=e.background_color}if(e.hasOwnProperty("background_image")&&(W.background_image=e.background_image),e.hasOwnProperty("background_image_type")&&(W.background_image_type=e.background_image_type),e.hasOwnProperty("background_image_entity")&&(W.background_image_entity=e.background_image_entity),e.hasOwnProperty("backdrop_filter")&&(W.backdrop_filter=e.backdrop_filter),e.hasOwnProperty("width")){const t=this._ensureLayout();let i=null;if(G){const{parentRowIndex:e,parentColumnIndex:n,parentModuleIndex:o,childIndex:a}=this._selectedLayoutChild;i=null===(h=null===(_=null===(m=null===(g=t.rows[e])||void 0===g?void 0:g.columns[n])||void 0===m?void 0:m.modules[o])||void 0===_?void 0:_.modules)||void 0===h?void 0:h[a]}else this._selectedModule&&(i=null===(b=null===(v=t.rows[this._selectedModule.rowIndex])||void 0===v?void 0:v.columns[this._selectedModule.columnIndex])||void 0===b?void 0:b.modules[this._selectedModule.moduleIndex]);"bar"===(null==i?void 0:i.type)?(W.design||(W.design=Object.assign({},(null==i?void 0:i.design)||{})),W.design.width=e.width):W.width=e.width}if(e.hasOwnProperty("height")){const t=this._ensureLayout();let i=null;if(G){const{parentRowIndex:e,parentColumnIndex:n,parentModuleIndex:o,childIndex:a}=this._selectedLayoutChild;i=null===(x=null===(k=null===(y=null===(f=t.rows[e])||void 0===f?void 0:f.columns[n])||void 0===y?void 0:y.modules[o])||void 0===k?void 0:k.modules)||void 0===x?void 0:x[a]}else this._selectedModule&&(i=null===($=null===(w=t.rows[this._selectedModule.rowIndex])||void 0===w?void 0:w.columns[this._selectedModule.columnIndex])||void 0===$?void 0:$.modules[this._selectedModule.moduleIndex]);"bar"===(null==i?void 0:i.type)?(W.design||(W.design=Object.assign({},(null==i?void 0:i.design)||{})),W.design.height=e.height):W.height=e.height}if(e.hasOwnProperty("max_width")&&(W.max_width=e.max_width),e.hasOwnProperty("max_height")&&(W.max_height=e.max_height),e.hasOwnProperty("min_width")&&(W.min_width=e.min_width),e.hasOwnProperty("min_height")&&(W.min_height=e.min_height),e.hasOwnProperty("position")&&(W.position=e.position),e.hasOwnProperty("top")&&(W.top=e.top),e.hasOwnProperty("bottom")&&(W.bottom=e.bottom),e.hasOwnProperty("left")&&(W.left=e.left),e.hasOwnProperty("right")&&(W.right=e.right),e.hasOwnProperty("z_index")&&(W.z_index=e.z_index),e.hasOwnProperty("text_shadow_h")&&(W.text_shadow_h=e.text_shadow_h),e.hasOwnProperty("text_shadow_v")&&(W.text_shadow_v=e.text_shadow_v),e.hasOwnProperty("text_shadow_blur")&&(W.text_shadow_blur=e.text_shadow_blur),e.hasOwnProperty("text_shadow_color")&&(W.text_shadow_color=e.text_shadow_color),e.hasOwnProperty("box_shadow_h")&&(W.box_shadow_h=e.box_shadow_h),e.hasOwnProperty("box_shadow_v")&&(W.box_shadow_v=e.box_shadow_v),e.hasOwnProperty("box_shadow_blur")&&(W.box_shadow_blur=e.box_shadow_blur),e.hasOwnProperty("box_shadow_spread")&&(W.box_shadow_spread=e.box_shadow_spread),e.hasOwnProperty("box_shadow_color")&&(W.box_shadow_color=e.box_shadow_color),e.hasOwnProperty("overflow")&&(W.overflow=e.overflow),e.hasOwnProperty("clip_path")&&(W.clip_path=e.clip_path),e.hasOwnProperty("margin_top")&&(W.margin_top=e.margin_top),e.hasOwnProperty("margin_bottom")&&(W.margin_bottom=e.margin_bottom),e.hasOwnProperty("margin_left")&&(W.margin_left=e.margin_left),e.hasOwnProperty("margin_right")&&(W.margin_right=e.margin_right),e.hasOwnProperty("padding_top")&&(W.padding_top=e.padding_top),e.hasOwnProperty("padding_bottom")&&(W.padding_bottom=e.padding_bottom),e.hasOwnProperty("padding_left")&&(W.padding_left=e.padding_left),e.hasOwnProperty("padding_right")&&(W.padding_right=e.padding_right),e.hasOwnProperty("border_radius")&&(W.border_radius=e.border_radius),e.hasOwnProperty("border_style")&&(W.border_style=e.border_style),e.hasOwnProperty("border_width")&&(W.border_width=e.border_width),e.hasOwnProperty("border_color")&&(W.border_color=e.border_color),e.hasOwnProperty("animation_type")&&(W.animation_type=e.animation_type),e.hasOwnProperty("animation_entity")&&(W.animation_entity=e.animation_entity),e.hasOwnProperty("animation_trigger_type")&&(W.animation_trigger_type=e.animation_trigger_type),e.hasOwnProperty("animation_attribute")&&(W.animation_attribute=e.animation_attribute),e.hasOwnProperty("animation_state")&&(W.animation_state=e.animation_state),e.hasOwnProperty("intro_animation")&&(W.intro_animation=e.intro_animation),e.hasOwnProperty("outro_animation")&&(W.outro_animation=e.outro_animation),e.hasOwnProperty("animation_duration")&&(W.animation_duration=e.animation_duration),e.hasOwnProperty("animation_delay")&&(W.animation_delay=e.animation_delay),e.hasOwnProperty("animation_timing")&&(W.animation_timing=e.animation_timing),e.hasOwnProperty("margin_top")||e.hasOwnProperty("margin_bottom")||e.hasOwnProperty("margin_left")||e.hasOwnProperty("margin_right")){const t=this._ensureLayout();let i=null;if(G){const{parentRowIndex:e,parentColumnIndex:n,parentModuleIndex:o,childIndex:a}=this._selectedLayoutChild;i=null===(A=null===(C=null===(S=null===(z=t.rows[e])||void 0===z?void 0:z.columns[n])||void 0===S?void 0:S.modules[o])||void 0===C?void 0:C.modules)||void 0===A?void 0:A[a]}else if(this._selectedModule){const{rowIndex:e,columnIndex:n,moduleIndex:o}=this._selectedModule;i=null===(T=null===(j=t.rows[e])||void 0===j?void 0:j.columns[n])||void 0===T?void 0:T.modules[o]}if(i){const t=e.hasOwnProperty("margin_top")?e.margin_top:null===(I=i.margin)||void 0===I?void 0:I.top,n=e.hasOwnProperty("margin_bottom")?e.margin_bottom:null===(E=i.margin)||void 0===E?void 0:E.bottom,o=e.hasOwnProperty("margin_left")?e.margin_left:null===(P=i.margin)||void 0===P?void 0:P.left,a=e.hasOwnProperty("margin_right")?e.margin_right:null===(M=i.margin)||void 0===M?void 0:M.right;if(void 0===t&&void 0===n&&void 0===o&&void 0===a)W.margin=void 0;else{const e=i.margin||{};W.margin={top:void 0!==t?parseFloat(t)||0:e.top||0,bottom:void 0!==n?parseFloat(n)||0:e.bottom||0,left:void 0!==o?parseFloat(o)||0:e.left||0,right:void 0!==a?parseFloat(a)||0:e.right||0}}}}if(e.hasOwnProperty("padding_top")||e.hasOwnProperty("padding_bottom")||e.hasOwnProperty("padding_left")||e.hasOwnProperty("padding_right")){const{rowIndex:t,columnIndex:i,moduleIndex:n}=this._selectedModule,o=null===(D=null===(L=this._ensureLayout().rows[t])||void 0===L?void 0:L.columns[i])||void 0===D?void 0:D.modules[n];if(o){const t=e.hasOwnProperty("padding_top")?e.padding_top:null===(R=o.padding)||void 0===R?void 0:R.top,i=e.hasOwnProperty("padding_bottom")?e.padding_bottom:null===(O=o.padding)||void 0===O?void 0:O.bottom,n=e.hasOwnProperty("padding_left")?e.padding_left:null===(V=o.padding)||void 0===V?void 0:V.left,a=e.hasOwnProperty("padding_right")?e.padding_right:null===(B=o.padding)||void 0===B?void 0:B.right;if(void 0===t&&void 0===i&&void 0===n&&void 0===a)W.padding=void 0;else{const e=o.padding||{};W.padding={top:void 0!==t?parseFloat(t)||0:e.top||0,bottom:void 0!==i?parseFloat(i)||0:e.bottom||0,left:void 0!==n?parseFloat(n)||0:e.left||0,right:void 0!==a?parseFloat(a)||0:e.right||0}}}}if(e.hasOwnProperty("border_radius")||e.hasOwnProperty("border_style")||e.hasOwnProperty("border_width")||e.hasOwnProperty("border_color")){const{rowIndex:t,columnIndex:i,moduleIndex:n}=this._selectedModule,o=null===(H=null===(N=this._ensureLayout().rows[t])||void 0===N?void 0:N.columns[i])||void 0===H?void 0:H.modules[n];if(o){const t=e.hasOwnProperty("border_radius")?e.border_radius:null===(U=o.border)||void 0===U?void 0:U.radius,i=e.hasOwnProperty("border_style")?e.border_style:null===(F=o.border)||void 0===F?void 0:F.style,n=e.hasOwnProperty("border_width")?e.border_width:null===(q=o.border)||void 0===q?void 0:q.width,a=e.hasOwnProperty("border_color")?e.border_color:null===(K=o.border)||void 0===K?void 0:K.color;if(void 0===t&&void 0===i&&void 0===n&&void 0===a)W.border=void 0;else{const e=o.border||{};W.border={radius:void 0!==t?parseFloat(t)||0:e.radius||0,style:void 0!==i?i:e.style||"none",width:void 0!==n?n:e.width||"1px",color:void 0!==a?a:e.color||"var(--divider-color)"}}}}G?this._updateLayoutChildModule(W):this._updateModule(W)}_closeModuleSettings(){this._showModuleSettings=!1,this._selectedModule=null,this.requestUpdate()}_closeLayoutChildSettings(){this._showLayoutChildSettings=!1,this._selectedLayoutChild=null,this.requestUpdate()}_onDragStart(e,t,i,n,o){var a,r,l;if(!e.dataTransfer)return;e.stopPropagation();const s=this._ensureLayout();let d;switch(t){case"module":void 0!==n&&void 0!==o&&(d=null===(r=null===(a=s.rows[i])||void 0===a?void 0:a.columns[n])||void 0===r?void 0:r.modules[o]);break;case"column":void 0!==n&&(d=null===(l=s.rows[i])||void 0===l?void 0:l.columns[n]);break;case"row":d=s.rows[i]}this._draggedItem={type:t,rowIndex:i,columnIndex:n,moduleIndex:o,data:d},e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify({type:t,rowIndex:i,columnIndex:n,moduleIndex:o}));const c=e.currentTarget;c&&(c.style.opacity="0.6",c.style.transform="scale(0.95)"),"column"===t?this.setAttribute("dragging-column",""):"row"===t&&this.setAttribute("dragging-row","")}_onDragEnd(e){const t=e.currentTarget;t&&(t.style.opacity="",t.style.transform=""),this.removeAttribute("dragging-column"),this.removeAttribute("dragging-row"),this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}_onDragOver(e){this._draggedItem&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"))}_onDragEnter(e,t,i,n,o){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem)return;if(this._draggedItem.type===t&&this._draggedItem.rowIndex===i&&this._draggedItem.columnIndex===n&&this._draggedItem.moduleIndex===o)return;if(void 0!==this._draggedItem.layoutChildIndex&&"layout"===t&&this._draggedItem.rowIndex===i&&this._draggedItem.columnIndex===n&&this._draggedItem.moduleIndex===o)return;if(!this._isValidDropTarget(this._draggedItem.type,t))return;this._dropTarget={type:t,rowIndex:i,columnIndex:n,moduleIndex:o};const a=e.currentTarget;a&&(a.style.borderColor="var(--primary-color)",a.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)"),this.requestUpdate()}_onDragLeave(e){const t=e.currentTarget;t&&(t.style.borderColor="",t.style.backgroundColor=""),e.relatedTarget&&e.currentTarget&&!e.currentTarget.contains(e.relatedTarget)&&(this._dropTarget=null,this.requestUpdate())}_onDrop(e,t,i,n,o){e.preventDefault(),e.stopPropagation();const a=e.currentTarget;a&&(a.style.borderColor="",a.style.backgroundColor=""),this._draggedItem&&(this._draggedItem.type===t&&this._draggedItem.rowIndex===i&&this._draggedItem.columnIndex===n&&this._draggedItem.moduleIndex===o||this._isValidDropTarget(this._draggedItem.type,t)&&(this._performMove(this._draggedItem,{type:t,rowIndex:i,columnIndex:n,moduleIndex:o}),this._draggedItem=null,this._dropTarget=null,this.requestUpdate()))}_isValidDropTarget(e,t){var i;return(null===(i={module:["module","column","layout","layout-child"],column:["column","row"],row:["row"]}[e])||void 0===i?void 0:i.includes(t))||!1}_performMove(e,t){const i=this._ensureLayout(),n=JSON.parse(JSON.stringify(i));switch(e.type){case"module":this._moveModule(n,e,t);break;case"column":this._moveColumn(n,e,t);break;case"row":this._moveRow(n,e,t)}this._updateLayout(n)}_moveModule(e,t,i){let n;if(void 0!==t.layoutChildIndex&&"layout-child"===i.type){const n=t.rowIndex,o=t.columnIndex,a=t.moduleIndex,r=t.layoutChildIndex,l=i.rowIndex,s=i.columnIndex,d=i.moduleIndex,c=i.childIndex;if(n===l&&o===s&&a===d){if(r===c)return;const t=e.rows[n].columns[o].modules[a];if(t&&this._isLayoutModule(t.type)&&t.modules){const e=t.modules.splice(r,1)[0];let i=c;r<c&&(i=c-1),t.modules.splice(i,0,e)}return}}if(void 0!==t.layoutChildIndex){const i=e.rows[t.rowIndex].columns[t.columnIndex].modules[t.moduleIndex];n=i.modules[t.layoutChildIndex],i.modules.splice(t.layoutChildIndex,1)}else n=e.rows[t.rowIndex].columns[t.columnIndex].modules[t.moduleIndex];if("layout"!==i.type)if("layout-child"!==i.type)if(void 0===t.layoutChildIndex&&e.rows[t.rowIndex].columns[t.columnIndex].modules.splice(t.moduleIndex,1),"module"===i.type){let o=i.moduleIndex||0;t.rowIndex===i.rowIndex&&t.columnIndex===i.columnIndex&&i.moduleIndex>t.moduleIndex&&o--,e.rows[i.rowIndex].columns[i.columnIndex].modules.splice(o,0,n)}else"column"===i.type&&e.rows[i.rowIndex].columns[i.columnIndex].modules.push(n);else{const o=e.rows[i.rowIndex].columns[i.columnIndex].modules[i.moduleIndex];if(o&&this._isLayoutModule(o.type)){o.modules||(o.modules=[]);const a=i.childIndex||0;o.modules.splice(a,0,n),void 0===t.layoutChildIndex&&e.rows[t.rowIndex].columns[t.columnIndex].modules.splice(t.moduleIndex,1)}}else{const o=e.rows[i.rowIndex].columns[i.columnIndex].modules[i.moduleIndex];o&&this._isLayoutModule(o.type)&&(o.modules||(o.modules=[]),o.modules.push(n),void 0===t.layoutChildIndex&&e.rows[t.rowIndex].columns[t.columnIndex].modules.splice(t.moduleIndex,1))}}_moveColumn(e,t,i){const n=e.rows[t.rowIndex].columns[t.columnIndex];e.rows[t.rowIndex].columns.splice(t.columnIndex,1),"column"===i.type?e.rows[i.rowIndex].columns.splice(i.columnIndex||0,0,n):"row"===i.type&&e.rows[i.rowIndex].columns.push(n)}_moveRow(e,t,i){const n=e.rows[t.rowIndex];e.rows.splice(t.rowIndex,1);const o=i.rowIndex;e.rows.splice(o,0,n)}_openRowSettings(e){this._selectedRowForSettings=e,this._showRowSettings=!0}_updateRow(e){if(-1===this._selectedRowForSettings)return;const t=this._ensureLayout(),i=JSON.parse(JSON.stringify(t)),n=i.rows[this._selectedRowForSettings];for(const[t,i]of Object.entries(e))void 0===i?delete n[t]:n[t]=i;this._updateLayout(i)}_openColumnSettings(e,t){this._selectedColumnForSettings={rowIndex:e,columnIndex:t},this._showColumnSettings=!0}_updateColumn(e){if(!this._selectedColumnForSettings)return;const t=this._ensureLayout(),i=JSON.parse(JSON.stringify(t)),n=i.rows[this._selectedColumnForSettings.rowIndex].columns[this._selectedColumnForSettings.columnIndex];for(const[t,i]of Object.entries(e))void 0===i?delete n[t]:n[t]=i;this._updateLayout(i)}_loadGoogleFont(e){if(!e||"default"===e||x.some((t=>t.value===e)))return;if(document.querySelector(`link[href*="${e.replace(/\s+/g,"+")}"]`))return;const t=document.createElement("link");t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css2?family=${e.replace(/\s+/g,"+")}:wght@300;400;500;600;700&display=swap`,document.head.appendChild(t)}_renderModulePreview(){var e,t,i,o,a;if(!this._selectedModule)return n.qy``;const r=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en",{rowIndex:l,columnIndex:s,moduleIndex:d}=this._selectedModule,u=null===(a=null===(o=null===(i=this.config.layout)||void 0===i?void 0:i.rows[l])||void 0===o?void 0:o.columns[s])||void 0===a?void 0:a.modules[d];if(!u)return n.qy``;const p=(0,c.oD)().getModule(u.type),g=p&&"function"==typeof p.renderSplitPreview?p.renderSplitPreview(u,this.hass):this._renderSingleModuleWithAnimation(u);return n.qy`
      <div class="module-preview">
        <div
          class="preview-header"
          @click=${this._togglePreviewCollapsed}
          title="${(0,m.kg)("editor.layout.toggle_preview",r,"Toggle preview")}"
        >
          <span>${(0,m.kg)("editor.layout.live_preview",r,"Live Preview")}</span>
          <ha-icon
            class="preview-caret"
            icon="${this._isPreviewCollapsed?"mdi:chevron-down":"mdi:chevron-up"}"
          ></ha-icon>
        </div>
        <div
          class="preview-content"
          style="display: ${this._isPreviewCollapsed?"none":"block"};"
        >
          ${g}
        </div>
      </div>
    `}_renderSingleModule(e,t,i,n){return this._renderSimplifiedModule(e,t,i,n)}_renderSimplifiedModule(e,t,i,o){var a,r;const l=(0,c.oD)(),s=(null===(r=null===(a=this.hass)||void 0===a?void 0:a.locale)||void 0===r?void 0:r.language)||"en",d=l.getModule(e.type),u=(null==d?void 0:d.metadata)||{icon:"mdi:help-circle",title:"Unknown",description:"Unknown module type"};if("horizontal"===e.type||"vertical"===e.type)return this._renderLayoutModuleAsColumn(e,t,i,o,u);const p=this._generateModuleInfo(e),g=this._getModuleDisplayName(e);return n.qy`
      <div class="simplified-module">
        <div class="simplified-module-header">
          <div
            class="simplified-module-drag-handle"
            title="${(0,m.kg)("editor.layout.drag_to_move_module",s,"Drag to move module")}"
          >
            <ha-icon icon="mdi:drag"></ha-icon>
          </div>
          <ha-icon icon="${u.icon}" class="simplified-module-icon"></ha-icon>
          <div class="simplified-module-content">
            <div class="simplified-module-title">${g}</div>
            <div class="simplified-module-info">${p}</div>
          </div>
          ${void 0!==t&&void 0!==i&&void 0!==o?n.qy`
                <div class="simplified-module-actions">
                  <button
                    class="simplified-action-btn edit-btn"
                    @click=${e=>{e.stopPropagation(),this._openModuleSettings(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.edit_module",s,"Edit Module")}"
                  >
                    <ha-icon icon="mdi:pencil"></ha-icon>
                  </button>
                  <button
                    class="simplified-action-btn duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.duplicate_module",s,"Duplicate Module")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="simplified-action-btn delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.delete_module",s,"Delete Module")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                </div>
              `:""}
        </div>
      </div>
    `}_renderLayoutModuleAsColumn(e,t,i,o,a){var r,l;const s=(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l?void 0:l.language)||"en",d=e,c=d.modules&&d.modules.length>0,u="horizontal"===e.type;return e.type,n.qy`
      <div class="layout-module-container">
        <div class="layout-module-header">
          <div class="layout-module-title">
            <div
              class="layout-module-drag-handle"
              title="${(0,m.kg)("editor.layout.drag_to_move_layout",s,"Drag to move layout module")}"
            >
              <ha-icon icon="mdi:drag"></ha-icon>
            </div>
            <ha-icon icon="${(null==a?void 0:a.icon)||"mdi:view-sequential"}"></ha-icon>
            <span
              >${u?(0,m.kg)("editor.layout.horizontal_layout",s,"Horizontal Layout"):(0,m.kg)("editor.layout.vertical_layout",s,"Vertical Layout")}</span
            >
          </div>
          <div class="layout-module-actions">
            ${void 0!==t&&void 0!==i&&void 0!==o?n.qy`
                  <button
                    class="layout-module-add-btn"
                    @click=${e=>{e.stopPropagation(),this._openLayoutModuleSelector(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.add_module_to_layout",s,"Add Module to Layout")}"
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                  </button>
                  <button
                    class="layout-module-settings-btn"
                    @click=${e=>{e.stopPropagation(),this._openModuleSettings(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.layout_settings",s,"Layout Settings")}"
                  >
                    <ha-icon icon="mdi:cog"></ha-icon>
                  </button>
                  <button
                    class="layout-module-duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.duplicate_layout",s,"Duplicate Layout")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="layout-module-delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.delete_layout",s,"Delete Layout")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                `:""}
          </div>
        </div>
        <div
          class="layout-modules-container"
          style="
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 8px 12px;
            min-height: 60px;
            box-sizing: border-box;
            overflow: hidden;
          "
          @dragover=${this._onDragOver}
          @dragenter=${e=>this._onDragEnter(e,"layout",t,i,o)}
          @dragleave=${this._onDragLeave}
          @drop=${e=>this._onDrop(e,"layout",t,i,o)}
        >
          ${c?d.modules.map(((e,a)=>{var r,l,s,d,c;return n.qy`
                  <div
                    class="layout-child-module-wrapper"
                    draggable="true"
                    @dragstart=${e=>this._onLayoutChildDragStart(e,t,i,o,a)}
                    @dragend=${e=>this._onLayoutChildDragEnd(e)}
                    @dragover=${this._onDragOver}
                    @dragenter=${e=>this._onLayoutChildDragEnter(e,t,i,o,a)}
                    @dragleave=${this._onDragLeave}
                    @drop=${e=>this._onLayoutChildDrop(e,t,i,o,a)}
                    class="${"layout-child"===(null===(r=this._dropTarget)||void 0===r?void 0:r.type)&&(null===(l=this._dropTarget)||void 0===l?void 0:l.rowIndex)===t&&(null===(s=this._dropTarget)||void 0===s?void 0:s.columnIndex)===i&&(null===(d=this._dropTarget)||void 0===d?void 0:d.moduleIndex)===o&&(null===(c=this._dropTarget)||void 0===c?void 0:c.childIndex)===a?"drop-target":""}"
                    style="width: 100%; max-width: 100%; box-sizing: border-box; overflow: hidden;"
                  >
                    ${this._renderLayoutChildModule(e,t,i,o,a)}
                  </div>
                `})):n.qy`
                <div
                  class="layout-module-empty"
                  @click=${e=>{e.stopPropagation(),this._openLayoutModuleSelector(t,i,o)}}
                  title="${(0,m.kg)("editor.layout.click_to_add_module",s,"Click to add a module")}"
                  style="cursor: pointer;"
                >
                  <ha-icon icon="mdi:plus-circle"></ha-icon>
                  <span
                    >${(0,m.kg)("editor.layout.drop_modules_here",s,"Drop modules here")}</span
                  >
                </div>
              `}
          ${c?n.qy`
                <div
                  class="layout-append-zone"
                  @dragover=${this._onDragOver}
                  @dragenter=${e=>this._onLayoutAppendDragEnter(e,t,i,o)}
                  @dragleave=${this._onDragLeave}
                  @drop=${e=>this._onLayoutAppendDrop(e,t,i,o)}
                  style="
                    min-height: 20px;
                    margin-top: 8px;
                    border: 2px dashed transparent;
                    border-radius: 4px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--secondary-text-color);
                    font-size: 12px;
                    transition: all 0.2s ease;
                  "
                >
                  Drop here to add to end
                </div>
              `:""}
        </div>
      </div>
    `}_getJustifyContent(e){switch(e){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end";case"justify":return"space-between"}}_renderLayoutChildModule(e,t,i,o,a){var r,l;const s=(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l?void 0:l.language)||"en",d=(0,c.oD)().getModule(e.type),u=(null==d?void 0:d.metadata)||{icon:"mdi:help-circle",title:"Unknown",description:"Unknown module type"},p=this._generateModuleInfo(e),g=this._getModuleDisplayName(e);return n.qy`
      <div
        class="layout-child-simplified-module"
        @click=${e=>{const n=e.target;n.closest(".layout-child-actions")||n.closest(".layout-child-drag-handle")||(e.stopPropagation(),void 0!==t&&void 0!==i&&void 0!==o&&void 0!==a&&this._openLayoutChildSettings(t,i,o,a))}}
      >
        <div class="layout-child-module-header">
          <div
            class="layout-child-drag-handle"
            title="${(0,m.kg)("editor.layout.drag_to_reorder",s,"Drag to reorder")}"
          >
            <ha-icon icon="mdi:drag"></ha-icon>
          </div>
          <ha-icon icon="${u.icon}" class="layout-child-icon"></ha-icon>
          <div class="layout-child-content">
            <div class="layout-child-title">${g}</div>
            <div class="layout-child-info">${p}</div>
          </div>
          ${void 0!==t&&void 0!==i&&void 0!==o&&void 0!==a?n.qy`
                <div class="layout-child-actions">
                  <button
                    class="layout-child-action-btn edit-btn"
                    @click=${e=>{e.stopPropagation(),this._openLayoutChildSettings(t,i,o,a)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.edit_child_module",s,"Edit Child Module")}"
                  >
                    <ha-icon icon="mdi:pencil"></ha-icon>
                  </button>
                  <button
                    class="layout-child-action-btn duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateLayoutChildModule(t,i,o,a)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.duplicate_child_module",s,"Duplicate Child Module")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="layout-child-action-btn delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteLayoutChildModule(t,i,o,a)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,m.kg)("editor.layout.delete_child_module",s,"Delete Child Module")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                </div>
              `:""}
        </div>
      </div>
    `}_onLayoutModuleDragOver(e,t,i,n){e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}_onLayoutModuleDragEnter(e,t,i,n){e.preventDefault(),e.stopPropagation(),this._draggedItem&&"module"===this._draggedItem.type&&(this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===n||e.currentTarget.classList.add("layout-drop-target"))}_onLayoutModuleDragLeave(e){e.preventDefault(),e.stopPropagation()}_onLayoutModuleDrop(e,t,i,n){if(e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("layout-drop-target"),!this._draggedItem||"module"!==this._draggedItem.type)return;if(void 0===t||void 0===i||void 0===n)return;const o=this._ensureLayout(),a=o.rows[t];if(!a||!a.columns[i])return;const r=a.columns[i].modules[n];if(!r||!this._isLayoutModule(r.type))return;r.modules||(r.modules=[]);const l=JSON.parse(JSON.stringify(this._draggedItem.data));if(void 0!==this._draggedItem.layoutChildIndex&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===n)return;r.modules.push(l);const s=o.rows[this._draggedItem.rowIndex];s&&s.columns[this._draggedItem.columnIndex]&&s.columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1),this._updateLayout(o),this._draggedItem=null,this._dropTarget=null}_onLayoutChildDragStart(e,t,i,n,o){var a,r,l;if(!e.dataTransfer)return;e.stopPropagation();const s=null===(r=null===(a=this._ensureLayout().rows[t])||void 0===a?void 0:a.columns[i])||void 0===r?void 0:r.modules[n],d=null===(l=null==s?void 0:s.modules)||void 0===l?void 0:l[o];if(d){this._draggedItem={type:"module",rowIndex:t,columnIndex:i,moduleIndex:n,data:d,layoutChildIndex:o},e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify({type:"layout-child",parentRowIndex:t,parentColumnIndex:i,parentModuleIndex:n,childIndex:o}));const a=e.currentTarget;a&&(a.style.opacity="0.6",a.style.transform="scale(0.95)")}}_onLayoutChildDragEnd(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget;t&&(t.style.opacity="",t.style.transform=""),this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}_onLayoutChildDragEnter(e,t,i,n,o){e.preventDefault(),e.stopPropagation(),this._draggedItem&&"module"===this._draggedItem.type&&(void 0!==this._draggedItem.layoutChildIndex&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===n&&this._draggedItem.layoutChildIndex===o||(this._dropTarget={type:"layout-child",rowIndex:t,columnIndex:i,moduleIndex:n,childIndex:o},this.requestUpdate()))}_onLayoutChildDrop(e,t,i,n,o){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem||"module"!==this._draggedItem.type)return;if(void 0===t||void 0===i||void 0===n||void 0===o)return;const a=this._ensureLayout(),r=JSON.parse(JSON.stringify(a)),l=r.rows[t].columns[i].modules[n];if(l&&this._isLayoutModule(l.type)){if(l.modules||(l.modules=[]),void 0!==this._draggedItem.layoutChildIndex){const e=this._draggedItem.rowIndex,a=this._draggedItem.columnIndex,s=this._draggedItem.moduleIndex,d=this._draggedItem.layoutChildIndex;if(e===t&&a===i&&s===n){if(d===o)return;const e=l.modules.splice(d,1)[0];let t=o;d<o&&(t=o-1),l.modules.splice(t,0,e),this._updateLayout(r)}else{const t=r.rows[e].columns[a].modules[s];if(t&&this._isLayoutModule(t.type)&&t.modules){const e=t.modules.splice(d,1)[0];l.modules.splice(o,0,e),this._updateLayout(r)}}}else{const e=JSON.parse(JSON.stringify(this._draggedItem.data));l.modules.splice(o,0,e);const t=r.rows[this._draggedItem.rowIndex];t&&t.columns[this._draggedItem.columnIndex]&&t.columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1),this._updateLayout(r)}this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}}_onLayoutAppendDragEnter(e,t,i,n){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem||"module"!==this._draggedItem.type)return;this._dropTarget={type:"layout-append",rowIndex:t,columnIndex:i,moduleIndex:n};const o=e.currentTarget;o.style.borderColor="var(--primary-color)",o.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)",this.requestUpdate()}_onLayoutAppendDrop(e,t,i,n){e.preventDefault(),e.stopPropagation();const o=e.currentTarget;if(o.style.borderColor="transparent",o.style.backgroundColor="transparent",!this._draggedItem||"module"!==this._draggedItem.type)return;if(void 0===t||void 0===i||void 0===n)return;const a=this._ensureLayout(),r=JSON.parse(JSON.stringify(a)),l=r.rows[t].columns[i].modules[n];if(l&&this._isLayoutModule(l.type))if(l.modules||(l.modules=[]),void 0!==this._draggedItem.layoutChildIndex&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===n){const e=this._draggedItem.layoutChildIndex,t=l.modules.splice(e,1)[0];l.modules.push(t),this._updateLayout(r)}else{const e=JSON.parse(JSON.stringify(this._draggedItem.data));if(l.modules.push(e),void 0===this._draggedItem.layoutChildIndex){const e=r.rows[this._draggedItem.rowIndex];e&&e.columns[this._draggedItem.columnIndex]&&e.columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1)}this._updateLayout(r)}this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}_openLayoutModuleSelector(e,t,i){this._selectedRowIndex=e,this._selectedColumnIndex=t,this._selectedLayoutModuleIndex=i,this._showModuleSelector=!0}_openLayoutChildSettings(e,t,i,n){this._selectedLayoutChild={parentRowIndex:e,parentColumnIndex:t,parentModuleIndex:i,childIndex:n},this._showLayoutChildSettings=!0}_duplicateLayoutChildModule(e,t,i,n){const o=this._ensureLayout(),a=o.rows[e];if(!a||!a.columns[t])return;const r=a.columns[t];if(!r.modules||!r.modules[i])return;const l=r.modules[i];if(!l.modules||!l.modules[n])return;const s=l.modules[n],d=JSON.parse(JSON.stringify(s)),c={rows:o.rows.map(((o,a)=>a===e?Object.assign(Object.assign({},o),{columns:o.columns.map(((e,o)=>o===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e,i=[...t.modules];return i.splice(n+1,0,d),Object.assign(Object.assign({},t),{modules:i})}return e}))}):e))}):o))};this._updateLayout(c)}_deleteLayoutChildModule(e,t,i,n){const o=this._ensureLayout(),a=o.rows[e];if(!a||!a.columns[t])return;const r=a.columns[t];if(!r.modules||!r.modules[i])return;const l=r.modules[i];if(!l.modules||!l.modules[n])return;const s={rows:o.rows.map(((o,a)=>a===e?Object.assign(Object.assign({},o),{columns:o.columns.map(((e,o)=>o===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e;return Object.assign(Object.assign({},t),{modules:t.modules.filter(((e,t)=>t!==n))})}return e}))}):e))}):o))};this._updateLayout(s)}_getModuleDisplayName(e){var t,i;const n=e;if(n.module_name&&n.module_name.trim())return n.module_name;const o=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";switch(e.type){case"text":return(0,m.kg)("editor.modules.text",o,"Text Module");case"image":return(0,m.kg)("editor.modules.image",o,"Image Module");case"icon":return(0,m.kg)("editor.modules.icon",o,"Icon Module");case"bar":return(0,m.kg)("editor.modules.bar",o,"Bar Module");case"info":return(0,m.kg)("editor.modules.info",o,"Info Module");case"button":return(0,m.kg)("editor.modules.button",o,"Button Module");case"separator":return(0,m.kg)("editor.modules.separator",o,"Separator Module");case"markdown":return(0,m.kg)("editor.modules.markdown",o,"Markdown Module");case"camera":return(0,m.kg)("editor.modules.camera",o,"Camera Module");case"graphs":return(0,m.kg)("editor.modules.graphs",o,"Graphs Module");default:return e.type.charAt(0).toUpperCase()+e.type.slice(1)+" Module"}}_generateModuleInfo(e){var t,i,n,o,a,r;const l=e,s=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";switch(e.type){case"text":return l.text&&l.text.trim()?l.text.length>50?`${l.text.substring(0,50)}...`:l.text:(0,m.kg)("editor.modules.no_text_configured",s,"No text configured");case"image":if(l.image_entity)return`Entity: ${l.image_entity}`;if(l.image_url){const e=l.image_url;if(e.startsWith("data:image/"))return(0,m.kg)("editor.modules.uploaded_image",s,"Uploaded image");const t=e.split("/").pop()||e;return t.length>30?`${t.substring(0,30)}...`:t}if(l.image_path){const e=l.image_path,t=e.split("/").pop()||e;return t.length>30?`${t.substring(0,30)}...`:t}return(0,m.kg)("editor.modules.no_image_configured",s,"No image configured");case"icon":const t=(null===(n=l.icons)||void 0===n?void 0:n.length)||0;if(t>1)return(0,m.kg)("editor.modules.icons_configured",s,"{count} icons configured").replace("{count}",t.toString());if(1===t){const e=l.icons[0];return(null==e?void 0:e.entity)?`Entity: ${e.entity}`:(null==e?void 0:e.icon)?`Icon: ${e.icon}`:"Icon configured"}return(0,m.kg)("editor.modules.no_icons_configured",s,"No icons configured");case"bar":return l.entity?`Entity: ${l.entity}`:(0,m.kg)("editor.modules.default_entity_suggestion",s,"Entity: sensor.battery_level");case"info":if(null===(o=l.info_entities)||void 0===o?void 0:o.length){const e=l.info_entities[0];if(null==e?void 0:e.entity)return l.info_entities.length>1?`${e.entity} + ${l.info_entities.length-1} more`:`Entity: ${e.entity}`}return l.entity?`Entity: ${l.entity}`:(null===(a=l.entities)||void 0===a?void 0:a.length)?`${l.entities.length} entities configured`:"No entity configured";case"button":return l.button_text&&l.button_text.trim()?l.button_text:l.text&&l.text.trim()?l.text:l.label&&l.label.trim()?l.label:"No button text configured";case"markdown":const i=l.content||l.markdown_content;if(i&&i.trim()){const e=i.replace(/[#*`>\-\[\]]/g,"").trim().split(" ").slice(0,8).join(" ");return e.length>40?`${e.substring(0,40)}...`:e}return"This is a markdown module that supports italic and bold text...";case"separator":const d=[];return l.separator_style&&d.push(`Style: ${l.separator_style}`),l.thickness&&d.push(`${l.thickness}px thick`),l.width_percent&&100!==l.width_percent&&d.push(`${l.width_percent}% width`),d.length>0?d.join(" • "):"Visual separator";default:return l.entity?`Entity: ${l.entity}`:(null===(r=l.entities)||void 0===r?void 0:r.length)?`${l.entities.length} entities`:void 0!==l.value?`Value: ${l.value}`:l.text?`Text: ${l.text.length>20?l.text.substring(0,20)+"...":l.text}`:`${e.type.charAt(0).toUpperCase()}${e.type.slice(1)} module`}}_renderSingleModuleWithAnimation(e){var t,i,o,a,r,l,s,d;b.S.setHass(this.hass);const u=b.S.evaluateModuleVisibility(e),p=e,g=b.S.evaluateLogicProperties({logic_entity:null===(t=p.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=p.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(o=p.design)||void 0===o?void 0:o.logic_operator,logic_value:null===(a=p.design)||void 0===a?void 0:a.logic_value}),_=(0,c.oD)().getModule(e.type),h=(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l||l.language,!u||!g);let v;v=_?_.renderPreview(e,this.hass):n.qy`
        <div class="module-placeholder">
          <ha-icon icon="mdi:help-circle"></ha-icon>
          <span>Unknown Module: ${e.type}</span>
        </div>
      `;const f=this._getPreviewAnimationData(p);return n.qy`
      <div class="module-with-logic ${h?"logic-hidden":""}">
        ${f.class?n.qy`
              <div
                class="${f.class}"
                style="display: inherit; width: inherit; height: inherit; flex: inherit; animation-duration: ${f.duration};"
              >
                ${v}
              </div>
            `:v}
        ${h?n.qy`
              <div class="logic-overlay">
                <ha-icon icon="mdi:eye-off-outline"></ha-icon>
                <span
                  >${(0,m.kg)("editor.layout.hidden_by_logic",(null===(d=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===d?void 0:d.language)||"en","Hidden by Logic")}</span
                >
              </div>
            `:""}
      </div>
    `}_getPreviewAnimationData(e){var t,i,n,o,a,r;const l=e.animation_type||(null===(t=e.design)||void 0===t?void 0:t.animation_type);if(!l||"none"===l)return{class:"",duration:"2s"};const s=e.animation_duration||(null===(i=e.design)||void 0===i?void 0:i.animation_duration)||"2s",d=e.animation_entity||(null===(n=e.design)||void 0===n?void 0:n.animation_entity),c=e.animation_trigger_type||(null===(o=e.design)||void 0===o?void 0:o.animation_trigger_type)||"state",u=e.animation_attribute||(null===(a=e.design)||void 0===a?void 0:a.animation_attribute),p=e.animation_state||(null===(r=e.design)||void 0===r?void 0:r.animation_state);if(!d)return{class:`animation-${l}`,duration:s};if(p&&this.hass){const e=this.hass.states[d];if(e){let t=!1;if("attribute"===c&&u){const i=e.attributes[u];t=String(i)===p}else t=e.state===p;if(t)return{class:`animation-${l}`,duration:s}}}return{class:"",duration:s}}_getRowPreviewAnimationData(e){const t=e.design||{},i=t.animation_type;if(!i||"none"===i)return{class:"",duration:"2s"};const n=t.animation_duration||"2s",o=t.animation_entity,a=t.animation_trigger_type||"state",r=t.animation_attribute,l=t.animation_state;if(!o)return{class:`animation-${i}`,duration:n};if(l&&this.hass){const e=this.hass.states[o];if(e){let t=!1;if("attribute"===a&&r){const i=e.attributes[r];t=String(i)===l}else t=e.state===l;if(t)return{class:`animation-${i}`,duration:n}}}return{class:"",duration:n}}_getColumnPreviewAnimationData(e){const t=e.design||{},i=t.animation_type;if(!i||"none"===i)return{class:"",duration:"2s"};const n=t.animation_duration||"2s",o=t.animation_entity,a=t.animation_trigger_type||"state",r=t.animation_attribute,l=t.animation_state;if(!o)return{class:`animation-${i}`,duration:n};if(l&&this.hass){const e=this.hass.states[o];if(e){let t=!1;if("attribute"===a&&r){const i=e.attributes[r];t=String(i)===l}else t=e.state===l;if(t)return{class:`animation-${i}`,duration:n}}}return{class:"",duration:n}}_renderRowPreview(e){var t,i,o;const a=this._getRowPreviewAnimationData(e),r=e.design||{},l=this._resolvePreviewBackgroundImageCSS(r),s=n.qy`
      <div
        class="row-preview-content"
        style="background: ${(null===(t=e.design)||void 0===t?void 0:t.background_color)||e.background_color||"var(--ha-card-background, var(--card-background-color, #fff))"}; background-image: ${l}; background-size: ${r.background_size||"cover"}; background-position: ${r.background_position||"center"}; background-repeat: ${r.background_repeat||"no-repeat"};gap: ${e.gap||16}px;"
      >
        ${e.columns.map(((e,t)=>n.qy`<div class="column-preview">Column ${t+1}</div>`))}
      </div>
    `,d=(null===(o=null===(i=this.hass)||void 0===i?void 0:i.locale)||void 0===o?void 0:o.language)||"en";return n.qy`
      <div class="module-preview">
        <div
          class="preview-header"
          @click=${this._togglePreviewCollapsed}
          title="${(0,m.kg)("editor.layout.toggle_preview",d,"Toggle preview")}"
        >
          <span>${(0,m.kg)("editor.layout.live_preview",d,"Live Preview")}</span>
          <ha-icon
            class="preview-caret"
            icon="${this._isPreviewCollapsed?"mdi:chevron-down":"mdi:chevron-up"}"
          ></ha-icon>
        </div>
        <div
          class="preview-content"
          style="display: ${this._isPreviewCollapsed?"none":"block"};"
        >
          ${a.class?n.qy`
                <div
                  class="${a.class}"
                  style="display: inherit; width: inherit; height: inherit; flex: inherit; animation-duration: ${a.duration};"
                >
                  ${s}
                </div>
              `:s}
        </div>
      </div>
    `}_renderColumnPreview(e){var t,i,o,a,r,l,s,d;const c=this._getColumnPreviewAnimationData(e),u=e.design||{},p=this._resolvePreviewBackgroundImageCSS(u),g=n.qy`
      <div
        class="column-preview-content"
        style="background: ${(null===(t=e.design)||void 0===t?void 0:t.background_color)||e.background_color||"var(--ha-card-background, var(--card-background-color, #fff))"}; background-image: ${p}; background-size: ${u.background_size||"cover"}; background-position: ${u.background_position||"center"}; background-repeat: ${u.background_repeat||"no-repeat"};"
      >
        <p>
          ${(0,m.kg)("editor.layout.column_preview",(null===(o=null===(i=this.hass)||void 0===i?void 0:i.locale)||void 0===o?void 0:o.language)||"en","Column Preview")}
        </p>
        <div class="module-count">
          ${(0,m.kg)("editor.layout.modules_count",(null===(r=null===(a=this.hass)||void 0===a?void 0:a.locale)||void 0===r?void 0:r.language)||"en","{count} modules").replace("{count}",String((null===(l=e.modules)||void 0===l?void 0:l.length)||0))}
        </div>
      </div>
    `,_=(null===(d=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===d?void 0:d.language)||"en";return n.qy`
      <div class="module-preview">
        <div
          class="preview-header"
          @click=${this._togglePreviewCollapsed}
          title="${(0,m.kg)("editor.layout.toggle_preview",_,"Toggle preview")}"
        >
          <span>${(0,m.kg)("editor.layout.live_preview",_,"Live Preview")}</span>
          <ha-icon
            class="preview-caret"
            icon="${this._isPreviewCollapsed?"mdi:chevron-down":"mdi:chevron-up"}"
          ></ha-icon>
        </div>
        <div
          class="preview-content"
          style="display: ${this._isPreviewCollapsed?"none":"block"};"
        >
          ${c.class?n.qy`
                <div
                  class="${c.class}"
                  style="display: inherit; width: inherit; height: inherit; flex: inherit; animation-duration: ${c.duration};"
                >
                  ${g}
                </div>
              `:g}
        </div>
      </div>
    `}_renderModuleSettings(){var e,t,i,o,a,r,l,s;if(!this._selectedModule)return n.qy``;const{rowIndex:d,columnIndex:u,moduleIndex:p}=this._selectedModule,g=null===(i=null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows[d])||void 0===t?void 0:t.columns[u])||void 0===i?void 0:i.modules[p];if(!g)return n.qy``;const _=(0,c.oD)().getModule(g.type),h=_&&"function"==typeof _.renderActionsTab;("actions"===this._activeModuleTab&&!h||"other"===this._activeModuleTab)&&(this._activeModuleTab="general");const v=(null===(a=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      <div class="module-settings-popup">
        <div class="popup-overlay"></div>
        <div
          class="popup-content draggable-popup"
          id="module-popup-${null===(r=this._selectedModule)||void 0===r?void 0:r.rowIndex}-${null===(l=this._selectedModule)||void 0===l?void 0:l.columnIndex}-${null===(s=this._selectedModule)||void 0===s?void 0:s.moduleIndex}"
        >
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,m.kg)("editor.layout.module_settings_title",v,"Module Settings")} -
              ${g.type.charAt(0).toUpperCase()+g.type.slice(1)}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._selectedModule&&(this._duplicateModule(this._selectedModule.rowIndex,this._selectedModule.columnIndex,this._selectedModule.moduleIndex),this._closeModuleSettings())}}
                title="${(0,m.kg)("editor.layout.duplicate_module",v,"Duplicate Module")}"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._selectedModule&&(this._deleteModule(this._selectedModule.rowIndex,this._selectedModule.columnIndex,this._selectedModule.moduleIndex),this._closeModuleSettings())}}
                title="${(0,m.kg)("editor.layout.delete_module",v,"Delete Module")}"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._closeModuleSettings()}>×</button>
            </div>
          </div>

          ${this._renderModulePreview()}

          <div class="module-tabs">
            <button
              class="module-tab ${"general"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="general"}
            >
              ${(0,m.kg)("editor.layout.general_tab",v,"General")}
            </button>
            ${h?n.qy`
                  <button
                    class="module-tab ${"actions"===this._activeModuleTab?"active":""}"
                    @click=${()=>this._activeModuleTab="actions"}
                  >
                    ${(0,m.kg)("editor.layout.actions_tab",v,"Actions")}
                  </button>
                `:""}
            ${""}
            <button
              class="module-tab ${"logic"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="logic"}
            >
              ${(0,m.kg)("editor.layout.logic_tab",v,"Logic")}
            </button>
            <button
              class="module-tab ${"design"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="design"}
            >
              ${(0,m.kg)("editor.layout.design_tab",v,"Design")}
            </button>
          </div>

          <div class="module-tab-content">
            ${"general"===this._activeModuleTab?this._renderGeneralTab(g):""}
            ${"actions"===this._activeModuleTab&&h?this._renderActionsTab(g):""}
            ${this._activeModuleTab,""}
            ${"logic"===this._activeModuleTab?this._renderModuleLogicTab(g):""}
            ${"design"===this._activeModuleTab?this._renderDesignTab(g):""}
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="${(0,m.kg)("editor.layout.drag_to_resize",v,"Drag to resize")}"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}_renderLayoutChildSettings(){var e,t,i,o,a,r;if(!this._selectedLayoutChild)return n.qy``;const{parentRowIndex:l,parentColumnIndex:s,parentModuleIndex:d,childIndex:u}=this._selectedLayoutChild,p=this._ensureLayout().rows[l];if(!p||!p.columns[s])return n.qy``;const g=p.columns[s];if(!g.modules||!g.modules[d])return n.qy``;const _=g.modules[d];if(!_.modules||!_.modules[u])return n.qy``;const h=_.modules[u],v=(0,c.oD)().getModule(h.type),b=v&&"function"==typeof v.renderActionsTab;("actions"===this._activeModuleTab&&!b||"other"===this._activeModuleTab)&&(this._activeModuleTab="general");const f=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return n.qy`
      <div class="module-settings-popup">
        <div class="popup-overlay" @click=${()=>this._closeLayoutChildSettings()}></div>
        <div
          class="popup-content draggable-popup"
          id="child-popup-${null===(i=this._selectedLayoutChild)||void 0===i?void 0:i.parentRowIndex}-${null===(o=this._selectedLayoutChild)||void 0===o?void 0:o.parentColumnIndex}-${null===(a=this._selectedLayoutChild)||void 0===a?void 0:a.parentModuleIndex}-${null===(r=this._selectedLayoutChild)||void 0===r?void 0:r.childIndex}"
        >
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,m.kg)("editor.layout.child_module_settings_title",f,"Child Module Settings")}
              - ${h.type.charAt(0).toUpperCase()+h.type.slice(1)}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._selectedLayoutChild&&(this._duplicateLayoutChildModule(this._selectedLayoutChild.parentRowIndex,this._selectedLayoutChild.parentColumnIndex,this._selectedLayoutChild.parentModuleIndex,this._selectedLayoutChild.childIndex),this._closeLayoutChildSettings())}}
                title="Duplicate Child Module"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._selectedLayoutChild&&(this._deleteLayoutChildModule(this._selectedLayoutChild.parentRowIndex,this._selectedLayoutChild.parentColumnIndex,this._selectedLayoutChild.parentModuleIndex,this._selectedLayoutChild.childIndex),this._closeLayoutChildSettings())}}
                title="Delete Child Module"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._closeLayoutChildSettings()}>
                ×
              </button>
            </div>
          </div>

          <!-- Child module preview -->
          <div class="module-preview">
            <div
              class="preview-header"
              @click=${this._togglePreviewCollapsed}
              title="${(0,m.kg)("editor.layout.toggle_preview",f,"Toggle preview")}"
            >
              <span>${(0,m.kg)("editor.layout.live_preview",f,"Live Preview")}</span>
              <ha-icon
                class="preview-caret"
                icon="${this._isPreviewCollapsed?"mdi:chevron-down":"mdi:chevron-up"}"
              ></ha-icon>
            </div>
            <div
              class="preview-content"
              style="display: ${this._isPreviewCollapsed?"none":"block"};"
            >
              ${this._renderSingleModuleWithAnimation(h)}
            </div>
          </div>

          <div class="module-tabs">
            <button
              class="module-tab ${"general"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="general"}
            >
              ${(0,m.kg)("editor.layout.general_tab",f,"General")}
            </button>
            ${b?n.qy`
                  <button
                    class="module-tab ${"actions"===this._activeModuleTab?"active":""}"
                    @click=${()=>this._activeModuleTab="actions"}
                  >
                    ${(0,m.kg)("editor.layout.actions_tab",f,"Actions")}
                  </button>
                `:""}
            ${""}
            <button
              class="module-tab ${"logic"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="logic"}
            >
              ${(0,m.kg)("editor.layout.logic_tab",f,"Logic")}
            </button>
            <button
              class="module-tab ${"design"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="design"}
            >
              ${(0,m.kg)("editor.layout.design_tab",f,"Design")}
            </button>
          </div>

          <div class="module-tab-content">
            ${"general"===this._activeModuleTab?this._renderLayoutChildGeneralTab(h):""}
            ${"actions"===this._activeModuleTab&&b?this._renderLayoutChildActionsTab(h):""}
            ${this._activeModuleTab,""}
            ${"logic"===this._activeModuleTab?this._renderLayoutChildLogicTab(h):""}
            ${"design"===this._activeModuleTab?this._renderLayoutChildDesignTab(h):""}
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}_renderLayoutChildGeneralTab(e){var t,i;const o=(0,c.oD)().getModule(e.type),a=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en",r=n.qy`
      <div class="settings-section">
        <label>${(0,m.kg)("editor.layout_extra.module_name",a,"Module Name:")}</label>
        <input
          type="text"
          .value=${e.module_name||""}
          @input=${e=>this._updateLayoutChildModule({module_name:e.target.value})}
          placeholder="${(0,m.kg)("editor.layout_extra.module_name_placeholder",a,"Give this module a custom name to make it easier to identify in the editor.")}"
          class="module-name-input"
        />
        <div class="field-help">
          ${(0,m.kg)("editor.layout_extra.module_name_help",a,"Give this module a custom name to make it easier to identify in the editor.")}
        </div>
      </div>
    `;if(o){const t=o.renderGeneralTab(e,this.hass,this.config,(e=>this._updateLayoutChildModule(e)));return n.qy` ${r} ${t} `}return n.qy`
      ${r}
      <div class="settings-section">
        <div class="error-message">
          <ha-icon icon="mdi:alert-circle"></ha-icon>
          <span>No settings available for module type: ${e.type}</span>
        </div>
      </div>
    `}_renderLayoutChildActionsTab(e){const t=(0,c.oD)().getModule(e.type);return t&&"function"==typeof t.renderActionsTab?t.renderActionsTab(e,this.hass,this.config,(e=>this._updateLayoutChildModule(e))):n.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have action settings</span>
        </div>
      </div>
    `}_renderLayoutChildOtherTab(e){const t=(0,c.oD)().getModule(e.type);return t&&"function"==typeof t.renderOtherTab?t.renderOtherTab(e,this.hass,this.config,(e=>this._updateLayoutChildModule(e))):n.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have other settings</span>
        </div>
      </div>
    `}_renderModuleLogicTab(e){return v.X.render(e,this.hass,(e=>this._updateModule(e)))}_renderLayoutChildLogicTab(e){return v.X.render(e,this.hass,(e=>this._updateLayoutChildModule(e)))}_renderLayoutChildDesignTab(e){const t=this._updateModule.bind(this),i=this._updateModuleDesign.bind(this);this._updateModule=e=>{this._updateLayoutChildModule(e)},this._updateModuleDesign=e=>{var t,i;const n=this._ensureLayout(),o=this._selectedLayoutChild;let a;if(o){const e=((null===(i=null===(t=n.rows[o.parentRowIndex])||void 0===t?void 0:t.columns[o.parentColumnIndex])||void 0===i?void 0:i.modules)||[])[o.parentModuleIndex];a=((null==e?void 0:e.modules)||[])[o.childIndex]}const r=(null==a?void 0:a.design)||{},l={design:Object.assign(Object.assign({},r),e)};Object.prototype.hasOwnProperty.call(e,"background_color")&&(l.background_color=e.background_color,"bar"===(null==a?void 0:a.type)&&(l.bar_background_color=e.background_color)),this._updateLayoutChildModule(l)};const n=this._renderDesignTab(e);return this._updateModule=t,this._updateModuleDesign=i,n}_renderRowSettings(){var e,t,i,o,a,r,l,s,d,c,u;if(-1===this._selectedRowForSettings)return n.qy``;const p=null===(e=this.config.layout)||void 0===e?void 0:e.rows[this._selectedRowForSettings];return p?n.qy`
      <div class="settings-popup">
        <div class="popup-overlay" @click=${()=>this._showRowSettings=!1}></div>
        <div class="popup-content draggable-popup" id="row-popup-${this._selectedRowForSettings}">
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,m.kg)("editor.layout.row_settings",(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en","Row Settings")}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._duplicateRow(this._selectedRowForSettings),this._showRowSettings=!1}}
                title="Duplicate Row"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._deleteRow(this._selectedRowForSettings),this._showRowSettings=!1}}
                title="Delete Row"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._showRowSettings=!1}>
                ×
              </button>
            </div>
          </div>

          ${this._renderRowPreview(p)}

          <div class="settings-tabs">
            <button
              class="settings-tab ${"general"===this._activeRowTab?"active":""}"
              @click=${()=>this._activeRowTab="general"}
            >
              ${(0,m.kg)("editor.layout.general_tab",(null===(a=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===a?void 0:a.language)||"en","General")}
            </button>
            <button
              class="settings-tab ${"actions"===this._activeRowTab?"active":""}"
              @click=${()=>this._activeRowTab="actions"}
            >
              ${(0,m.kg)("editor.layout.actions_tab",(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l?void 0:l.language)||"en","Actions")}
            </button>
            <button
              class="settings-tab ${"logic"===this._activeRowTab?"active":""}"
              @click=${()=>this._activeRowTab="logic"}
            >
              ${(0,m.kg)("editor.layout.logic_tab",(null===(d=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===d?void 0:d.language)||"en","Logic")}
            </button>
            <button
              class="settings-tab ${"design"===this._activeRowTab?"active":""}"
              @click=${()=>this._activeRowTab="design"}
            >
              ${(0,m.kg)("editor.layout.design_tab",(null===(u=null===(c=this.hass)||void 0===c?void 0:c.locale)||void 0===u?void 0:u.language)||"en","Design")}
            </button>
          </div>

          <div class="settings-tab-content">
            ${"general"===this._activeRowTab?this._renderRowGeneralTab(p):""}
            ${"actions"===this._activeRowTab?this._renderRowActionsTab(p):""}
            ${"logic"===this._activeRowTab?this._renderRowLogicTab(p):""}
            ${"design"===this._activeRowTab?this._renderRowDesignTab(p):""}
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `:n.qy``}_renderColumnSettings(){var e,t,i,o,a,r,l,s,d,c,u,p,g,_;if(!this._selectedColumnForSettings)return n.qy``;const{rowIndex:h,columnIndex:v}=this._selectedColumnForSettings,b=null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows[h])||void 0===t?void 0:t.columns[v];return b?n.qy`
      <div class="settings-popup">
        <div class="popup-overlay" @click=${()=>this._showColumnSettings=!1}></div>
        <div
          class="popup-content draggable-popup"
          id="column-popup-${null===(i=this._selectedColumnForSettings)||void 0===i?void 0:i.rowIndex}-${null===(o=this._selectedColumnForSettings)||void 0===o?void 0:o.columnIndex}"
        >
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,m.kg)("editor.layout.column_settings",(null===(r=null===(a=this.hass)||void 0===a?void 0:a.locale)||void 0===r?void 0:r.language)||"en","Column Settings")}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._selectedColumnForSettings&&(this._duplicateColumn(this._selectedColumnForSettings.rowIndex,this._selectedColumnForSettings.columnIndex),this._showColumnSettings=!1)}}
                title="Duplicate Column"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._selectedColumnForSettings&&(this._deleteColumn(this._selectedColumnForSettings.rowIndex,this._selectedColumnForSettings.columnIndex),this._showColumnSettings=!1)}}
                title="Delete Column"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._showColumnSettings=!1}>
                ×
              </button>
            </div>
          </div>

          ${this._renderColumnPreview(b)}

          <div class="settings-tabs">
            <button
              class="settings-tab ${"general"===this._activeColumnTab?"active":""}"
              @click=${()=>this._activeColumnTab="general"}
            >
              ${(0,m.kg)("editor.layout.general_tab",(null===(s=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===s?void 0:s.language)||"en","General")}
            </button>
            <button
              class="settings-tab ${"actions"===this._activeColumnTab?"active":""}"
              @click=${()=>this._activeColumnTab="actions"}
            >
              ${(0,m.kg)("editor.layout.actions_tab",(null===(c=null===(d=this.hass)||void 0===d?void 0:d.locale)||void 0===c?void 0:c.language)||"en","Actions")}
            </button>
            <button
              class="settings-tab ${"logic"===this._activeColumnTab?"active":""}"
              @click=${()=>this._activeColumnTab="logic"}
            >
              ${(0,m.kg)("editor.layout.logic_tab",(null===(p=null===(u=this.hass)||void 0===u?void 0:u.locale)||void 0===p?void 0:p.language)||"en","Logic")}
            </button>
            <button
              class="settings-tab ${"design"===this._activeColumnTab?"active":""}"
              @click=${()=>this._activeColumnTab="design"}
            >
              ${(0,m.kg)("editor.layout.design_tab",(null===(_=null===(g=this.hass)||void 0===g?void 0:g.locale)||void 0===_?void 0:_.language)||"en","Design")}
            </button>
          </div>

          <div class="settings-tab-content">
            ${"general"===this._activeColumnTab?this._renderColumnGeneralTab(b):""}
            ${"actions"===this._activeColumnTab?this._renderColumnActionsTab(b):""}
            ${"logic"===this._activeColumnTab?this._renderColumnLogicTab(b):""}
            ${"design"===this._activeColumnTab?this._renderColumnDesignTab(b):""}
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `:n.qy``}_renderRowGeneralTab(e){var t,i,o,a;return n.qy`
      <div class="settings-section">
        <ultra-color-picker
          .label=${(0,m.kg)("editor.layout.row_background_color",(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en","Row Background Color")}
          .value=${e.background_color||""}
          .defaultValue=${"var(--ha-card-background, var(--card-background-color, #fff))"}
          .hass=${this.hass}
          @value-changed=${e=>{const t=e.detail.value;this._updateRow({background_color:t})}}
        ></ultra-color-picker>
      </div>
      <div class="settings-section">
        <label
          >${(0,m.kg)("editor.layout.column_gap",(null===(a=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===a?void 0:a.language)||"en","Column Gap (px)")}:</label
        >
        <input
          type="number"
          min="0"
          max="50"
          .value=${e.gap||16}
          @change=${e=>this._updateRow({gap:Number(e.target.value)})}
        />
      </div>
    `}_renderRowActionsTab(e){const t=e;return(new class extends u.m{}).renderActionsTab(t,this.hass,this.config,(e=>{this._updateRow(e)}))}_renderRowLogicTab(e){return v.X.render(e,this.hass,(e=>{this._updateRow(e)}))}_renderRowDesignTab(t){var i,o,a,r,l,s,d,c,u,p,g,m,_,h,v,b,f,y,k,x,w,$,z,S,C,A,j,T,I,E,P,M;null==e||e.type;const L=Object.assign(Object.assign({},t.design),{background_color:(null===(i=t.design)||void 0===i?void 0:i.background_color)||t.background_color,padding_top:(null===(o=t.design)||void 0===o?void 0:o.padding_top)||(null===(a=t.padding)||void 0===a?void 0:a.toString()),padding_bottom:(null===(r=t.design)||void 0===r?void 0:r.padding_bottom)||(null===(l=t.padding)||void 0===l?void 0:l.toString()),padding_left:(null===(s=t.design)||void 0===s?void 0:s.padding_left)||(null===(d=t.padding)||void 0===d?void 0:d.toString()),padding_right:(null===(c=t.design)||void 0===c?void 0:c.padding_right)||(null===(u=t.padding)||void 0===u?void 0:u.toString()),border_radius:(null===(p=t.design)||void 0===p?void 0:p.border_radius)||(null===(g=t.border_radius)||void 0===g?void 0:g.toString()),border_color:(null===(m=t.design)||void 0===m?void 0:m.border_color)||t.border_color,border_width:(null===(_=t.design)||void 0===_?void 0:_.border_width)||(null===(h=t.border_width)||void 0===h?void 0:h.toString()),margin_top:(null===(v=t.design)||void 0===v?void 0:v.margin_top)||(null===(b=t.margin)||void 0===b?void 0:b.toString()),margin_bottom:(null===(f=t.design)||void 0===f?void 0:f.margin_bottom)||(null===(y=t.margin)||void 0===y?void 0:y.toString()),margin_left:(null===(k=t.design)||void 0===k?void 0:k.margin_left)||(null===(x=t.margin)||void 0===x?void 0:x.toString()),margin_right:(null===(w=t.design)||void 0===w?void 0:w.margin_right)||(null===($=t.margin)||void 0===$?void 0:$.toString()),animation_type:null===(z=t.design)||void 0===z?void 0:z.animation_type,animation_entity:null===(S=t.design)||void 0===S?void 0:S.animation_entity,animation_trigger_type:null===(C=t.design)||void 0===C?void 0:C.animation_trigger_type,animation_attribute:null===(A=t.design)||void 0===A?void 0:A.animation_attribute,animation_state:null===(j=t.design)||void 0===j?void 0:j.animation_state,animation_duration:null===(T=t.design)||void 0===T?void 0:T.animation_duration,intro_animation:null===(I=t.design)||void 0===I?void 0:I.intro_animation,outro_animation:null===(E=t.design)||void 0===E?void 0:E.outro_animation,animation_delay:null===(P=t.design)||void 0===P?void 0:P.animation_delay,animation_timing:null===(M=t.design)||void 0===M?void 0:M.animation_timing});return n.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${L}
        @design-changed=${e=>{const i=e.detail,n=Object.assign(Object.assign({},t.design),i);this._updateRow({design:n})}}
      ></ultra-global-design-tab>
    `}_renderColumnGeneralTab(e){var t,i,o,a,r,l,s,d,c,u,p,g,_,h,v,b,f,y,k,x;return n.qy`
      <div class="settings-section">
        <label
          >${(0,m.kg)("editor.layout.vertical_alignment",(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en","Vertical Alignment")}:</label
        >
        <select
          .value=${e.vertical_alignment||"center"}
          @change=${e=>this._updateColumn({vertical_alignment:e.target.value})}
        >
          <option value="top">
            ${(0,m.kg)("editor.layout.alignment_top",(null===(a=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===a?void 0:a.language)||"en","Top")}
          </option>
          <option value="center">
            ${(0,m.kg)("editor.layout.alignment_center",(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l?void 0:l.language)||"en","Center")}
          </option>
          <option value="bottom">
            ${(0,m.kg)("editor.layout.alignment_bottom",(null===(d=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===d?void 0:d.language)||"en","Bottom")}
          </option>
          <option value="stretch">
            ${(0,m.kg)("editor.layout.alignment_stretch",(null===(u=null===(c=this.hass)||void 0===c?void 0:c.locale)||void 0===u?void 0:u.language)||"en","Stretch")}
          </option>
        </select>
      </div>
      <div class="settings-section">
        <label
          >${(0,m.kg)("editor.layout.horizontal_alignment",(null===(g=null===(p=this.hass)||void 0===p?void 0:p.locale)||void 0===g?void 0:g.language)||"en","Horizontal Alignment")}:</label
        >
        <select
          .value=${e.horizontal_alignment||"center"}
          @change=${e=>this._updateColumn({horizontal_alignment:e.target.value})}
        >
          <option value="left">
            ${(0,m.kg)("editor.layout.alignment_left",(null===(h=null===(_=this.hass)||void 0===_?void 0:_.locale)||void 0===h?void 0:h.language)||"en","Left")}
          </option>
          <option value="center">
            ${(0,m.kg)("editor.layout.alignment_center",(null===(b=null===(v=this.hass)||void 0===v?void 0:v.locale)||void 0===b?void 0:b.language)||"en","Center")}
          </option>
          <option value="right">
            ${(0,m.kg)("editor.layout.alignment_right",(null===(y=null===(f=this.hass)||void 0===f?void 0:f.locale)||void 0===y?void 0:y.language)||"en","Right")}
          </option>
          <option value="stretch">
            ${(0,m.kg)("editor.layout.alignment_stretch",(null===(x=null===(k=this.hass)||void 0===k?void 0:k.locale)||void 0===x?void 0:x.language)||"en","Stretch")}
          </option>
        </select>
      </div>
    `}_renderColumnActionsTab(e){const t=e;return(new class extends u.m{}).renderActionsTab(t,this.hass,this.config,(e=>{this._updateColumn(e)}))}_renderColumnLogicTab(e){return v.X.render(e,this.hass,(e=>{this._updateColumn(e)}))}_renderColumnDesignTab(e){var t,i,o,a,r,l,s,d,c,u,p,g,m,_,h,v,b,f,y,k,x,w,$,z,S,C,A,j,T,I,E,P;const M=Object.assign(Object.assign({},e.design),{background_color:(null===(t=e.design)||void 0===t?void 0:t.background_color)||e.background_color,padding_top:(null===(i=e.design)||void 0===i?void 0:i.padding_top)||(null===(o=e.padding)||void 0===o?void 0:o.toString()),padding_bottom:(null===(a=e.design)||void 0===a?void 0:a.padding_bottom)||(null===(r=e.padding)||void 0===r?void 0:r.toString()),padding_left:(null===(l=e.design)||void 0===l?void 0:l.padding_left)||(null===(s=e.padding)||void 0===s?void 0:s.toString()),padding_right:(null===(d=e.design)||void 0===d?void 0:d.padding_right)||(null===(c=e.padding)||void 0===c?void 0:c.toString()),border_radius:(null===(u=e.design)||void 0===u?void 0:u.border_radius)||(null===(p=e.border_radius)||void 0===p?void 0:p.toString()),border_color:(null===(g=e.design)||void 0===g?void 0:g.border_color)||e.border_color,border_width:(null===(m=e.design)||void 0===m?void 0:m.border_width)||(null===(_=e.border_width)||void 0===_?void 0:_.toString()),margin_top:(null===(h=e.design)||void 0===h?void 0:h.margin_top)||(null===(v=e.margin)||void 0===v?void 0:v.toString()),margin_bottom:(null===(b=e.design)||void 0===b?void 0:b.margin_bottom)||(null===(f=e.margin)||void 0===f?void 0:f.toString()),margin_left:(null===(y=e.design)||void 0===y?void 0:y.margin_left)||(null===(k=e.margin)||void 0===k?void 0:k.toString()),margin_right:(null===(x=e.design)||void 0===x?void 0:x.margin_right)||(null===(w=e.margin)||void 0===w?void 0:w.toString()),animation_type:null===($=e.design)||void 0===$?void 0:$.animation_type,animation_entity:null===(z=e.design)||void 0===z?void 0:z.animation_entity,animation_trigger_type:null===(S=e.design)||void 0===S?void 0:S.animation_trigger_type,animation_attribute:null===(C=e.design)||void 0===C?void 0:C.animation_attribute,animation_state:null===(A=e.design)||void 0===A?void 0:A.animation_state,animation_duration:null===(j=e.design)||void 0===j?void 0:j.animation_duration,intro_animation:null===(T=e.design)||void 0===T?void 0:T.intro_animation,outro_animation:null===(I=e.design)||void 0===I?void 0:I.outro_animation,animation_delay:null===(E=e.design)||void 0===E?void 0:E.animation_delay,animation_timing:null===(P=e.design)||void 0===P?void 0:P.animation_timing});return n.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${M}
        @design-changed=${t=>{const i=t.detail,n=Object.assign(Object.assign({},e.design),i);this._updateColumn({design:n})}}
      ></ultra-global-design-tab>
    `}_renderGeneralTab(e){var t,i;const o=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en",a=(0,c.oD)().getModule(e.type),r=n.qy`
      <div class="settings-section">
        <label>${(0,m.kg)("editor.layout_extra.module_name",o,"Module Name:")}</label>
        <input
          type="text"
          .value=${e.module_name||""}
          @input=${e=>this._updateModule({module_name:e.target.value})}
          placeholder="${(0,m.kg)("editor.layout_extra.module_name_placeholder",o,"Give this module a custom name to make it easier to identify in the editor.")}"
          class="module-name-input"
        />
        <div class="field-help">
          ${(0,m.kg)("editor.layout_extra.module_name_help",o,"Give this module a custom name to make it easier to identify in the editor.")}
        </div>
      </div>
    `;if(a){const t=a.renderGeneralTab(e,this.hass,this.config,(e=>this._updateModule(e)));return e.type,n.qy` ${r} ${t} `}return n.qy`
      ${r}
      <div class="settings-section">
        <div class="error-message">
          <ha-icon icon="mdi:alert-circle"></ha-icon>
          <span>No settings available for module type: ${e.type}</span>
        </div>
      </div>
    `}_renderActionsTab(e){const t=(0,c.oD)().getModule(e.type);return t&&"function"==typeof t.renderActionsTab?t.renderActionsTab(e,this.hass,this.config,(e=>this._updateModule(e))):n.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have action settings</span>
        </div>
      </div>
    `}_renderOtherTab(e){const t=(0,c.oD)().getModule(e.type);return t&&"function"==typeof t.renderOtherTab?t.renderOtherTab(e,this.hass,this.config,(e=>this._updateModule(e))):n.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have other settings</span>
        </div>
      </div>
    `}_addCondition(e){const t={id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"entity_state",entity:"",operator:"=",value:"",enabled:!0},i=[...e.display_conditions||[],t];this._updateModule({display_conditions:i})}_addRowCondition(e){const t={id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"entity_state",entity:"",operator:"=",value:"",enabled:!0},i=[...e.display_conditions||[],t];this._updateRow({display_conditions:i})}_addColumnCondition(e){const t={id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"entity_state",entity:"",operator:"=",value:"",enabled:!0},i=[...e.display_conditions||[],t];this._updateColumn({display_conditions:i})}_removeCondition(e,t){const i=(e.display_conditions||[]).filter(((e,i)=>i!==t));this._updateModule({display_conditions:i})}_updateCondition(e,t,i){const n=(e.display_conditions||[]).map(((e,n)=>n===t?Object.assign(Object.assign({},e),i):e));this._updateModule({display_conditions:n})}_duplicateCondition(e,t){const i=e.display_conditions||[],n=i[t];if(n){const e=Object.assign(Object.assign({},n),{id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}),o=[...i.slice(0,t+1),e,...i.slice(t+1)];this._updateModule({display_conditions:o})}}_renderRowCondition(e,t,i){return this._renderConditionGeneric(t,i,(t=>{const n=(e.display_conditions||[]).map(((e,n)=>n===i?Object.assign(Object.assign({},e),t):e));this._updateRow({display_conditions:n})}),(()=>{const t=(e.display_conditions||[]).filter(((e,t)=>t!==i));this._updateRow({display_conditions:t})}),"row",i,(()=>e.display_conditions),(e=>this._updateRow({display_conditions:e})))}_renderColumnCondition(e,t,i){return this._renderConditionGeneric(t,i,(t=>{const n=(e.display_conditions||[]).map(((e,n)=>n===i?Object.assign(Object.assign({},e),t):e));this._updateColumn({display_conditions:n})}),(()=>{const t=(e.display_conditions||[]).filter(((e,t)=>t!==i));this._updateColumn({display_conditions:t})}),"column",i,(()=>e.display_conditions),(e=>this._updateColumn({display_conditions:e})))}_renderConditionGeneric(e,t,i,o,a,r,l,s){const d=!this._collapsedConditionIds.has(e.id);return n.qy`
      <div
        class="condition-item enabled"
        draggable="true"
        @dragstart=${e=>a&&this._onConditionDragStart(e,a,t)}
        @dragover=${this._onConditionDragOver}
        @drop=${e=>a&&l&&s&&"number"==typeof r?this._onConditionDrop(e,a,r,l,s):null}
      >
        <div class="condition-header">
          <div class="condition-header-left">
            <button
              type="button"
              class="condition-toggle ${d?"expanded":""}"
              @click=${()=>this._toggleConditionExpanded(e.id)}
            >
              <ha-icon icon="mdi:chevron-${d?"down":"right"}"></ha-icon>
            </button>
            <span class="condition-label">
              ${"entity_state"===e.type?e.entity||"Select Entity State":"entity_attribute"===e.type?e.entity||"Select Entity Attribute":"time"===e.type?"Time Condition":"Template Condition"}
            </span>
          </div>

          <div class="condition-actions">
            <button
              type="button"
              class="condition-action-btn delete"
              @click=${o}
              title="Delete"
            >
              <ha-icon icon="mdi:delete"></ha-icon>
            </button>
          </div>
        </div>

        ${d?n.qy`
              <div class="condition-content">
                <!-- Condition Type Selector -->
                <div class="condition-field">
                  <label>Condition Type:</label>
                  <select
                    .value=${e.type}
                    @change=${e=>{const t=e.target.value;i({type:t,entity:"",operator:"=",value:""})}}
                  >
                    <option value="entity_state">Entity State</option>
                    <option value="entity_attribute">Entity Attribute</option>
                    <option value="time">Date/Time</option>
                    <option value="template">Template</option>
                  </select>
                </div>

                ${"entity_state"===e.type?this._renderEntityConditionGeneric(e,i):""}
                ${"entity_attribute"===e.type?this._renderEntityAttributeConditionGeneric(e,i):""}

                <!-- Removed enable/disable toggle; delete the condition to disable -->
              </div>
            `:""}
      </div>
    `}_renderEntityConditionGeneric(e,t){return n.qy`
      <div class="entity-condition-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:e.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            @value-changed=${e=>t({entity:e.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${e.operator||"="}
            @change=${e=>t({operator:e.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==e.operator&&"no_value"!==e.operator?n.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${e.value||""}
                  @input=${e=>t({value:e.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderEntityAttributeConditionGeneric(e,t){return n.qy`
      <div class="entity-attribute-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:e.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            @value-changed=${e=>t({entity:e.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Attribute Selector -->
        <div class="condition-field">
          <label>Attribute Name:</label>
          <input
            type="text"
            .value=${e.attribute||""}
            @input=${e=>t({attribute:e.target.value})}
            placeholder="Enter attribute name (e.g., battery_level, friendly_name)"
          />
          <div class="field-help">
            Enter the exact attribute name from the entity. Common examples: battery_level,
            friendly_name, unit_of_measurement
          </div>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${e.operator||"="}
            @change=${e=>t({operator:e.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==e.operator&&"no_value"!==e.operator?n.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${e.value||""}
                  @input=${e=>t({value:e.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderCondition(e,t,i){const o=!this._collapsedConditionIds.has(t.id);return n.qy`
      <div class="condition-item enabled">
        <div class="condition-header">
          <div class="condition-header-left">
            <button
              type="button"
              class="condition-toggle ${o?"expanded":""}"
              @click=${()=>this._toggleConditionExpanded(t.id)}
            >
              <ha-icon icon="mdi:chevron-${o?"down":"right"}"></ha-icon>
            </button>
            <span class="condition-label">
              ${"entity_state"===t.type?t.entity||"Select Entity State":"entity_attribute"===t.type?t.entity||"Select Entity Attribute":"time"===t.type?"Time Condition":"Template Condition"}
            </span>
          </div>

          <div class="condition-actions">
            <button
              type="button"
              class="condition-action-btn"
              @click=${()=>this._duplicateCondition(e,i)}
              title="Duplicate"
            >
              <ha-icon icon="mdi:content-copy"></ha-icon>
            </button>
            <button
              type="button"
              class="condition-action-btn delete"
              @click=${()=>this._removeCondition(e,i)}
              title="Delete"
            >
              <ha-icon icon="mdi:delete"></ha-icon>
            </button>
            <button
              type="button"
              class="condition-drag-handle"
              title="Drag to reorder"
              draggable="true"
              @dragstart=${e=>this._onConditionDragStart(e,"module",i)}
              @dragover=${this._onConditionDragOver}
              @drop=${t=>this._onConditionDrop(t,"module",i,(()=>e.display_conditions),(e=>this._updateModule({display_conditions:e})))}
            >
              <ha-icon icon="mdi:drag"></ha-icon>
            </button>
          </div>
        </div>

        ${o?n.qy`
              <div class="condition-content">
                <!-- Condition Type Selector -->
                <div class="condition-field">
                  <label>Condition Type:</label>
                  <select
                    .value=${t.type}
                    @change=${t=>{const n=t.target.value;this._updateCondition(e,i,{type:n,entity:"",operator:"=",value:""})}}
                  >
                    <option value="entity_state">Entity State</option>
                    <option value="entity_attribute">Entity Attribute</option>
                    <option value="time">Date/Time</option>
                    <option value="template">Template</option>
                  </select>
                </div>

                ${"entity_state"===t.type?this._renderEntityCondition(e,t,i):""}
                ${"entity_attribute"===t.type?this._renderEntityAttributeCondition(e,t,i):""}
                ${"time"===t.type?this._renderTimeCondition(e,t,i):""}
                ${"template"===t.type?this._renderTemplateCondition(e,t,i):""}

                <!-- Removed enable/disable toggle; delete the condition to disable -->
              </div>
            `:""}
      </div>
    `}_renderEntityCondition(e,t,i){return n.qy`
      <div class="entity-condition-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:t.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            .computeLabel=${e=>{var t;return null!==(t=e.label)&&void 0!==t?t:e.name?e.name.charAt(0).toUpperCase()+e.name.slice(1):""}}
            @value-changed=${t=>this._updateCondition(e,i,{entity:t.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${t.operator||"="}
            @change=${t=>this._updateCondition(e,i,{operator:t.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==t.operator&&"no_value"!==t.operator?n.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${t.value||""}
                  @input=${t=>this._updateCondition(e,i,{value:t.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderEntityAttributeCondition(e,t,i){return n.qy`
      <div class="entity-attribute-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:t.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            .computeLabel=${e=>{var t;return null!==(t=e.label)&&void 0!==t?t:e.name?e.name.charAt(0).toUpperCase()+e.name.slice(1):""}}
            @value-changed=${t=>this._updateCondition(e,i,{entity:t.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Attribute Selector -->
        <div class="condition-field">
          <label>Attribute Name:</label>
          <input
            type="text"
            .value=${t.attribute||""}
            @input=${t=>this._updateCondition(e,i,{attribute:t.target.value})}
            placeholder="Enter attribute name (e.g., battery_level, friendly_name)"
          />
          <div class="field-help">
            Enter the exact attribute name from the entity. Common examples: battery_level,
            friendly_name, unit_of_measurement
          </div>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${t.operator||"="}
            @change=${t=>this._updateCondition(e,i,{operator:t.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==t.operator&&"no_value"!==t.operator?n.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${t.value||""}
                  @input=${t=>this._updateCondition(e,i,{value:t.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderTimeCondition(e,t,i){return n.qy`
      <div class="time-condition-fields">
        <p class="condition-info">Local time is ${(new Date).toLocaleString()}</p>

        <div class="time-inputs">
          <div class="condition-field">
            <label>From Time:</label>
            <input
              type="time"
              .value=${t.time_from||""}
              @input=${t=>this._updateCondition(e,i,{time_from:t.target.value})}
            />
          </div>

          <div class="condition-field">
            <label>To Time:</label>
            <input
              type="time"
              .value=${t.time_to||""}
              @input=${t=>this._updateCondition(e,i,{time_to:t.target.value})}
            />
          </div>
        </div>
      </div>
    `}_renderTemplateCondition(e,t,i){return n.qy`
      <div class="template-condition">
        <div class="condition-field">
          <label>Template:</label>
          <textarea
            .value=${t.template||""}
            @input=${t=>this._updateCondition(e,i,{template:t.target.value})}
            placeholder="{% if states('sensor.example') == 'on' %}true{% else %}false{% endif %}"
            rows="3"
          ></textarea>
        </div>
        <div class="template-help">Template should return 'true' or 'false'</div>
      </div>
    `}_renderLogicTab(e){var t,i;const o=e.display_conditions||[],a=e.display_mode||"always",r=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";return n.qy`
      <div class="logic-tab-content">
        <!-- Basic Conditions Section -->
        <div class="logic-section">
          <div class="section-header">
            <h3>${(0,m.kg)("editor.layout_logic.display_title",r,"Display this Element")}</h3>
          </div>

          <div class="template-description">
            ${(0,m.kg)("editor.layout_logic.display_desc",r,'Control when this element is shown. Choose "Always" to keep it visible. Select "If EVERY condition below is met" or "If ANY condition below is met" to display it only when the conditions you add below evaluate to true.')}
          </div>

          <div class="display-mode-selector">
            <select
              .value=${a}
              @change=${e=>{const t=e.target.value;this._updateModule({display_mode:t})}}
              class="display-mode-dropdown"
            >
              <option value="always">
                ${(0,m.kg)("editor.layout_logic.always",r,"Always")}
              </option>
              <option value="every">
                ${(0,m.kg)("editor.layout_logic.every",r,"If EVERY condition below is met")}
              </option>
              <option value="any">
                ${(0,m.kg)("editor.layout_logic.any",r,"If ANY condition below is met")}
              </option>
            </select>
          </div>
        </div>

        <!-- Conditions Section -->
        ${"always"!==a?n.qy`
              <div class="conditions-section">
                <div class="conditions-header">
                  <h4>${(0,m.kg)("editor.layout_logic.conditions",r,"Conditions")}</h4>
                  <button
                    type="button"
                    class="add-condition-btn"
                    @click=${()=>this._addCondition(e)}
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                    ${(0,m.kg)("editor.layout_logic.add_condition",r,"Add Condition")}
                  </button>
                </div>

                <div class="conditions-list" @dragover=${this._onConditionDragOver}>
                  ${o.map(((t,i)=>n.qy`
                      <div
                        class="condition-row-dropzone"
                        @drop=${t=>this._onConditionDrop(t,"module",i,(()=>e.display_conditions),(e=>this._updateModule({display_conditions:e})))}
                      >
                        ${this._renderCondition(e,t,i)}
                      </div>
                    `))}
                </div>

                ${0===o.length?n.qy`
                      <div class="no-conditions">
                        <p>
                          ${(0,m.kg)("editor.layout_logic.no_conditions",r,'No conditions added yet. Click "Add Condition" to get started.')}
                        </p>
                      </div>
                    `:""}
              </div>
            `:""}

        <!-- Advanced Template Mode removed; use Template condition type in Conditions -->
      </div>
    `}_renderDesignTab(e){var t,i,o,a,r,l,s,d,c,u,p,g,m,_,h,v,b,f,y,k,x,w,$,z,S,C,A;const j="bar"===(null==e?void 0:e.type),T={color:e.color,text_align:(()=>{var t;return void 0!==e.text_align?e.text_align:void 0!==e.alignment?e.alignment:void 0!==(null===(t=e.design)||void 0===t?void 0:t.text_align)?e.design.text_align:void 0})(),font_size:(()=>{const t=e.font_size;if(null!=t&&""!==t)return t.toString()})(),line_height:null===(t=e.line_height)||void 0===t?void 0:t.toString(),letter_spacing:e.letter_spacing,font_family:e.font_family,font_weight:(()=>{const t=e.font_weight;if(null!=t&&""!==t)return t})(),text_transform:(()=>{const t=e.text_transform;if(null!=t&&""!==t)return t})(),font_style:e.font_style,background_color:null===(i=e.design)||void 0===i?void 0:i.background_color,background_image:e.background_image,background_image_type:e.background_image_type,background_image_entity:e.background_image_entity,backdrop_filter:e.backdrop_filter,width:j?null===(o=e.design)||void 0===o?void 0:o.width:e.width,height:j?null===(a=e.design)||void 0===a?void 0:a.height:e.height,max_width:e.max_width,max_height:e.max_height,min_width:e.min_width,min_height:e.min_height,margin_top:(null===(l=null===(r=e.margin)||void 0===r?void 0:r.top)||void 0===l?void 0:l.toString())||e.margin_top,margin_bottom:(null===(d=null===(s=e.margin)||void 0===s?void 0:s.bottom)||void 0===d?void 0:d.toString())||e.margin_bottom,margin_left:(null===(u=null===(c=e.margin)||void 0===c?void 0:c.left)||void 0===u?void 0:u.toString())||e.margin_left,margin_right:(null===(g=null===(p=e.margin)||void 0===p?void 0:p.right)||void 0===g?void 0:g.toString())||e.margin_right,padding_top:(null===(_=null===(m=e.padding)||void 0===m?void 0:m.top)||void 0===_?void 0:_.toString())||e.padding_top,padding_bottom:(null===(v=null===(h=e.padding)||void 0===h?void 0:h.bottom)||void 0===v?void 0:v.toString())||e.padding_bottom,padding_left:(null===(f=null===(b=e.padding)||void 0===b?void 0:b.left)||void 0===f?void 0:f.toString())||e.padding_left,padding_right:(null===(k=null===(y=e.padding)||void 0===y?void 0:y.right)||void 0===k?void 0:k.toString())||e.padding_right,border_radius:(null===(w=null===(x=e.border)||void 0===x?void 0:x.radius)||void 0===w?void 0:w.toString())||(null===($=e.border_radius)||void 0===$?void 0:$.toString()),border_style:(null===(z=e.border)||void 0===z?void 0:z.style)||e.border_style,border_width:(null===(C=null===(S=e.border)||void 0===S?void 0:S.width)||void 0===C?void 0:C.toString())||e.border_width,border_color:(null===(A=e.border)||void 0===A?void 0:A.color)||e.border_color,position:e.position,top:e.top,bottom:e.bottom,left:e.left,right:e.right,z_index:e.z_index,text_shadow_h:e.text_shadow_h,text_shadow_v:e.text_shadow_v,text_shadow_blur:e.text_shadow_blur,text_shadow_color:e.text_shadow_color,box_shadow_h:e.box_shadow_h,box_shadow_v:e.box_shadow_v,box_shadow_blur:e.box_shadow_blur,box_shadow_spread:e.box_shadow_spread,box_shadow_color:e.box_shadow_color,overflow:e.overflow,clip_path:e.clip_path,animation_type:e.animation_type,animation_entity:e.animation_entity,animation_trigger_type:e.animation_trigger_type,animation_attribute:e.animation_attribute,animation_state:e.animation_state,intro_animation:e.intro_animation,outro_animation:e.outro_animation,animation_duration:e.animation_duration,animation_delay:e.animation_delay,animation_timing:e.animation_timing};return n.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${T}
        .onUpdate=${e=>{this._updateModuleDesign(e)}}
      ></ultra-global-design-tab>
    `}_renderTextDesignTab(e){var t,i,o,a,r,l;if("text"===e.type){const i=e;return n.qy`
        <!-- Text Color Section -->
        <div class="settings-section">
          <ultra-color-picker
            .label=${"Text Color"}
            .value=${i.color||""}
            .defaultValue=${"var(--primary-text-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({color:t}),this._loadGoogleFont(i.font_family)}}
          ></ultra-color-picker>
        </div>

        <!-- Font Family Dropdown -->
        <div class="settings-section">
          <label>Font:</label>
          <select
            .value=${i.font_family||"default"}
            @change=${e=>{const t=e.target.value;this._updateModule({font_family:t}),this._loadGoogleFont(t)}}
            class="font-dropdown"
          >
            ${y.map((e=>n.qy`
                <option value="${e.value}" ?selected=${i.font_family===e.value}>
                  ${e.label}
                </option>
              `))}
            <optgroup label="Fonts from Typography settings">
              ${k.map((e=>n.qy`
                  <option value="${e.value}" ?selected=${i.font_family===e.value}>
                    ${e.label}
                  </option>
                `))}
            </optgroup>
            <optgroup label="Web safe font combinations (do not need to be loaded)">
              ${x.map((e=>n.qy`
                  <option value="${e.value}" ?selected=${i.font_family===e.value}>
                    ${e.label}
                  </option>
                `))}
            </optgroup>
          </select>
        </div>

        <!-- Font Size -->
        <div class="settings-section">
          <label>Font Size (px):</label>
          <input
            type="text"
            .value=${(null!==(t=i.font_size)&&void 0!==t?t:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({font_size:void 0});const i=parseFloat(t);!Number.isNaN(i)&&/^\s*-?\d*\.?\d*\s*(px|rem|em|%)?\s*$/i.test(t)&&this._updateModule({font_size:i})}}
            placeholder=""
            class="font-size-input"
          />
        </div>

        <!-- Text Alignment -->
        <div class="settings-section">
          <label>Text Alignment:</label>
          <div class="alignment-buttons">
            ${["left","center","right"].map((e=>n.qy`
                <button
                  class="alignment-btn ${i.alignment===e?"active":""}"
                  @click=${()=>this._updateModule({alignment:e})}
                >
                  <ha-icon icon="mdi:format-align-${e}"></ha-icon>
                </button>
              `))}
          </div>
        </div>

        <!-- Text Formatting -->
        <div class="settings-section">
          <label>Text Formatting:</label>
          <div class="format-buttons">
            <button
              class="format-btn ${i.bold?"active":""}"
              @click=${()=>this._updateModule({bold:!i.bold})}
            >
              <ha-icon icon="mdi:format-bold"></ha-icon>
            </button>
            <button
              class="format-btn ${i.italic?"active":""}"
              @click=${()=>this._updateModule({italic:!i.italic})}
            >
              <ha-icon icon="mdi:format-italic"></ha-icon>
            </button>
            <button
              class="format-btn ${i.uppercase?"active":""}"
              @click=${()=>this._updateModule({uppercase:!i.uppercase})}
            >
              <ha-icon icon="mdi:format-letter-case-upper"></ha-icon>
            </button>
            <button
              class="format-btn ${i.strikethrough?"active":""}"
              @click=${()=>this._updateModule({strikethrough:!i.strikethrough})}
            >
              <ha-icon icon="mdi:format-strikethrough"></ha-icon>
            </button>
          </div>
        </div>
      `}if("separator"===e.type){const t=e;return n.qy`
        <div class="settings-section">
          <ultra-color-picker
            .label=${"Separator Color"}
            .value=${t.color||""}
            .defaultValue=${"var(--divider-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({color:t})}}
          ></ultra-color-picker>
        </div>
      `}if("bar"===e.type){const t=e;return n.qy`
        <!-- Bar Colors -->
        <div class="settings-section">
          <ultra-color-picker
            .label=${"Bar Color"}
            .value=${t.bar_color||""}
            .defaultValue=${"var(--primary-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({bar_color:t})}}
          ></ultra-color-picker>
        </div>

        <div class="settings-section">
          <ultra-color-picker
            .label=${"Background Color"}
            .value=${t.background_color||""}
            .defaultValue=${"var(--secondary-background-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({background_color:t})}}
          ></ultra-color-picker>
        </div>

        <!-- Bar Dimensions -->
        <div class="settings-section">
          <label>Bar Height (px):</label>
          <input
            type="text"
            .value=${(null!==(i=t.height)&&void 0!==i?i:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({height:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({height:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Border Radius (px):</label>
          <input
            type="text"
            .value=${(null!==(o=t.border_radius)&&void 0!==o?o:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({border_radius:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({border_radius:i})}}
            class="number-input"
          />
        </div>

        <!-- Value Display Options -->
        <div class="settings-section">
          <label class="checkbox-wrapper">
            <input
              type="checkbox"
              .checked=${!1!==t.show_value}
              @change=${e=>this._updateModule({show_value:e.target.checked})}
            />
            Show Value
          </label>
        </div>

        ${t.show_value?n.qy`
              <div class="settings-section">
                <label>Value Position:</label>
                <div class="value-position-buttons">
                  ${["inside","outside","none"].map((e=>n.qy`
                      <button
                        class="position-btn ${t.value_position===e?"active":""}"
                        @click=${()=>this._updateModule({value_position:e})}
                      >
                        ${e.charAt(0).toUpperCase()+e.slice(1)}
                      </button>
                    `))}
                </div>
              </div>
            `:""}

        <div class="settings-section">
          <label class="checkbox-wrapper">
            <input
              type="checkbox"
              .checked=${!1!==t.show_percentage}
              @change=${e=>this._updateModule({show_percentage:e.target.checked})}
            />
            Show as Percentage
          </label>
        </div>

        <div class="settings-section">
          <label class="checkbox-wrapper">
            <input
              type="checkbox"
              .checked=${!1!==t.animation}
              @change=${e=>this._updateModule({animation:e.target.checked})}
            />
            Animation
          </label>
        </div>
      `}if("image"===e.type){const t=e;return n.qy`
        <!-- Image Alignment -->
        <div class="settings-section">
          <label>Image Alignment:</label>
          <div class="alignment-buttons">
            ${["left","center","right"].map((e=>n.qy`
                <button
                  class="alignment-btn ${t.alignment===e?"active":""}"
                  @click=${()=>this._updateModule({alignment:e})}
                >
                  <ha-icon icon="mdi:format-align-${e}"></ha-icon>
                </button>
              `))}
          </div>
        </div>

        <!-- Image Dimensions -->
        <div class="settings-section">
          <label>Width (px):</label>
          <input
            type="text"
            .value=${(null!==(a=t.image_width)&&void 0!==a?a:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({image_width:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({image_width:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Height (px):</label>
          <input
            type="text"
            .value=${(null!==(r=t.image_height)&&void 0!==r?r:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({image_height:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({image_height:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Border Radius (px):</label>
          <input
            type="text"
            .value=${(null!==(l=t.border_radius)&&void 0!==l?l:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({border_radius:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({border_radius:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Image Fit:</label>
          <div class="value-position-buttons">
            ${["cover","contain","fill","none"].map((e=>n.qy`
                <button
                  class="position-btn ${t.image_fit===e?"active":""}"
                  @click=${()=>this._updateModule({image_fit:e})}
                >
                  ${e.charAt(0).toUpperCase()+e.slice(1)}
                </button>
              `))}
          </div>
        </div>
      `}return n.qy`<div class="settings-section">
      <p>Design options not available for ${e.type} modules.</p>
    </div>`}_renderBackgroundDesignTab(e){return n.qy`
      <div class="settings-section">
        <ultra-color-picker
          .label=${"Background Color"}
          .value=${e.background_color||""}
          .defaultValue=${"var(--ha-card-background, var(--card-background-color, #fff))"}
          .hass=${this.hass}
          @value-changed=${e=>{const t=e.detail.value;this._updateModule({background_color:t})}}
        ></ultra-color-picker>

        <div class="property-group">
          <label>Background Image Type:</label>
          <select
            .value=${e.background_image_type||"none"}
            @change=${e=>{const t=e.target.value;this._updateModule({background_image_type:t})}}
            class="property-select"
          >
            <option value="none">None</option>
            <option value="upload">Upload Image</option>
            <option value="entity">Entity Image</option>
            <option value="url">Image URL</option>
          </select>
        </div>

        ${"upload"===e.background_image_type?n.qy`
              <div class="property-group">
                <label>Upload Background Image:</label>
                <div class="upload-container">
                  <div class="file-upload-row">
                    <label class="file-upload-button">
                      <div class="button-content">
                        <ha-icon icon="mdi:upload"></ha-icon>
                        <span class="button-label">Choose File</span>
                      </div>
                      <input
                        type="file"
                        accept="image/*"
                        @change=${this._handleBackgroundImageUpload}
                        style="display: none"
                      />
                    </label>
                    <div class="path-display">
                      ${e.background_image?n.qy`<span class="uploaded-path" title="${e.background_image}">
                            ${this._truncatePath(e.background_image)}
                          </span>`:n.qy`<span class="no-file">No file chosen</span>`}
                    </div>
                  </div>
                </div>
              </div>
            `:""}
        ${"entity"===e.background_image_type?n.qy`
              <div class="property-group">
                <label>Background Image Entity:</label>
                <ha-entity-picker
                  .hass=${this.hass}
                  .value=${e.background_image_entity||""}
                  @value-changed=${e=>{this._updateModule({background_image_entity:e.detail.value})}}
                  .label=${"Select entity with image attribute"}
                  allow-custom-entity
                ></ha-entity-picker>
              </div>
            `:""}
        ${"url"===e.background_image_type?n.qy`
              <div class="property-group">
                <label>Background Image URL:</label>
                <input
                  type="text"
                  .value=${e.background_image||""}
                  @input=${e=>{const t=e.target.value;this._updateModule({background_image:t})}}
                  placeholder="https://example.com/image.jpg"
                  class="property-input"
                />
              </div>
            `:""}
        ${e.background_image_type&&"none"!==e.background_image_type?n.qy`
              <div class="property-group">
                <label>Background Size:</label>
                <select
                  .value=${this._getBackgroundSizeDropdownValue(e.background_size)}
                  @change=${e=>{const t=e.target.value;this._updateModule({background_size:t})}}
                  class="property-select"
                >
                  <option value="cover">Cover</option>
                  <option value="contain">Contain</option>
                  <option value="auto">Auto</option>
                  <option value="custom">Custom</option>
                </select>
              </div>

              ${"custom"===this._getBackgroundSizeDropdownValue(e.background_size)?n.qy`
                    <div class="property-group">
                      <label>Custom Width:</label>
                      <input
                        type="text"
                        .value=${this._getCustomSizeValue(e.background_size,"width")}
                        @input=${t=>{const i=t.target.value,n=this._getCustomSizeValue(e.background_size,"height"),o=i&&n?`${i} ${n}`:i||n||"auto";this._updateModule({background_size:o})}}
                        placeholder="100px, 50%, auto"
                        class="property-input"
                      />
                    </div>
                    <div class="property-group">
                      <label>Custom Height:</label>
                      <input
                        type="text"
                        .value=${this._getCustomSizeValue(e.background_size,"height")}
                        @input=${t=>{const i=t.target.value,n=this._getCustomSizeValue(e.background_size,"width"),o=n&&i?`${n} ${i}`:n||i||"auto";this._updateModule({background_size:o})}}
                        placeholder="100px, 50%, auto"
                        class="property-input"
                      />
                    </div>
                  `:""}

              <div class="property-group">
                <label>Background Repeat:</label>
                <select
                  .value=${e.background_repeat||"no-repeat"}
                  @change=${e=>{const t=e.target.value;this._updateModule({background_repeat:t})}}
                  class="property-select"
                >
                  <option value="no-repeat">No Repeat</option>
                  <option value="repeat">Repeat</option>
                  <option value="repeat-x">Repeat X</option>
                  <option value="repeat-y">Repeat Y</option>
                </select>
              </div>

              <div class="property-group">
                <label>Background Position:</label>
                <select
                  .value=${e.background_position||"center center"}
                  @change=${e=>{const t=e.target.value;this._updateModule({background_position:t})}}
                  class="property-select"
                >
                  <option value="left top">Left Top</option>
                  <option value="left center">Left Center</option>
                  <option value="left bottom">Left Bottom</option>
                  <option value="center top">Center Top</option>
                  <option value="center center">Center</option>
                  <option value="center bottom">Center Bottom</option>
                  <option value="right top">Right Top</option>
                  <option value="right center">Right Center</option>
                  <option value="right bottom">Right Bottom</option>
                </select>
              </div>
            `:""}
      </div>
    `}_renderSpacingDesignTab(e){var t,i,o,a,r,l,s,d,c,u,p,g,m,_,h,v;return n.qy`
      <div class="spacing-grid">
        <div class="spacing-section">
          <h4>Margin</h4>
          <div class="spacing-cross">
            <input
              type="text"
              placeholder="Top"
              .value=${(null!==(i=null===(t=e.margin)||void 0===t?void 0:t.top)&&void 0!==i?i:"").toString()}
              @input=${t=>{const i=t.target.value,n=""===i?void 0:parseFloat(i);this._updateModule({margin:Object.assign(Object.assign({},e.margin),{top:n})})}}
            />
            <div class="spacing-row">
              <input
                type="text"
                placeholder="Left"
                .value=${(null!==(a=null===(o=e.margin)||void 0===o?void 0:o.left)&&void 0!==a?a:"").toString()}
                @input=${t=>this._updateModule({margin:Object.assign(Object.assign({},e.margin),{left:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
              <span class="spacing-center">M</span>
              <input
                type="text"
                placeholder="Right"
                .value=${(null!==(l=null===(r=e.margin)||void 0===r?void 0:r.right)&&void 0!==l?l:"").toString()}
                @input=${t=>this._updateModule({margin:Object.assign(Object.assign({},e.margin),{right:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
            </div>
            <input
              type="text"
              placeholder="Bottom"
              .value=${(null!==(d=null===(s=e.margin)||void 0===s?void 0:s.bottom)&&void 0!==d?d:"").toString()}
              @input=${t=>this._updateModule({margin:Object.assign(Object.assign({},e.margin),{bottom:""===t.target.value?void 0:parseFloat(t.target.value)})})}
            />
          </div>
        </div>

        <div class="spacing-section">
          <h4>Padding</h4>
          <div class="spacing-cross">
            <input
              type="text"
              placeholder="Top"
              .value=${(null!==(u=null===(c=e.padding)||void 0===c?void 0:c.top)&&void 0!==u?u:"").toString()}
              @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{top:""===t.target.value?void 0:parseFloat(t.target.value)})})}
            />
            <div class="spacing-row">
              <input
                type="text"
                placeholder="Left"
                .value=${(null!==(g=null===(p=e.padding)||void 0===p?void 0:p.left)&&void 0!==g?g:"").toString()}
                @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{left:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
              <span class="spacing-center">P</span>
              <input
                type="text"
                placeholder="Right"
                .value=${(null!==(_=null===(m=e.padding)||void 0===m?void 0:m.right)&&void 0!==_?_:"").toString()}
                @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{right:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
            </div>
            <input
              type="text"
              placeholder="Bottom"
              .value=${(null!==(v=null===(h=e.padding)||void 0===h?void 0:h.bottom)&&void 0!==v?v:"").toString()}
              @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{bottom:""===t.target.value?void 0:parseFloat(t.target.value)})})}
            />
          </div>
        </div>
      </div>
    `}firstUpdated(e){super.firstUpdated(e)}updated(e){super.updated(e)}_renderBorderDesignTab(e){var t,i;return n.qy`
      <div class="settings-section">
        <label>Border Radius (px):</label>
        <input
          type="text"
          .value=${(null!==(i=null===(t=e.border)||void 0===t?void 0:t.radius)&&void 0!==i?i:"").toString()}
          @input=${t=>this._updateModule({border:Object.assign(Object.assign({},e.border),{radius:""===t.target.value?void 0:parseFloat(t.target.value)})})}
        />
      </div>
    `}render(){var e,t;const i=this._ensureLayout(),o=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return n.qy`
      <div class="layout-builder">
        <div class="builder-header">
          <h3>${(0,m.kg)("editor.tabs.layout",o,"Layout Builder")}</h3>
          <button
            class="add-row-btn"
            @click=${e=>{e.stopPropagation(),this._addRow()}}
            title="${(0,m.kg)("editor.layout.add_row_tooltip",o,"Add a new row to your layout")}"
          >
            <ha-icon icon="mdi:plus"></ha-icon>
            ${(0,m.kg)("editor.layout.add_row",o,"Add Row")}
          </button>
        </div>

        <div class="rows-container">
          ${i.rows.map(((e,t)=>{var i,o,a,r;return n.qy`
              <div
                class="row-builder"
                draggable="true"
                @dragstart=${e=>this._onDragStart(e,"row",t)}
                @dragend=${this._onDragEnd}
                @dragover=${this._onDragOver}
                @dragenter=${e=>this._onDragEnter(e,"row",t)}
                @dragleave=${this._onDragLeave}
                @drop=${e=>this._onDrop(e,"row",t)}
                class="${"row"===(null===(i=this._dropTarget)||void 0===i?void 0:i.type)&&(null===(o=this._dropTarget)||void 0===o?void 0:o.rowIndex)===t?"drop-target":""}"
              >
                <div class="row-header">
                  <div class="row-title">
                    <div class="row-drag-handle" title="Drag to move row">
                      <ha-icon icon="mdi:drag"></ha-icon>
                    </div>
                    <span>Row ${t+1}</span>
                    <button
                      class="column-layout-btn"
                      @click=${e=>{e.stopPropagation(),this._openColumnLayoutSelector(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Change Column Layout"
                    >
                      <span class="layout-icon">${this._getCurrentLayoutDisplay(e)}</span>
                    </button>
                  </div>
                  <div class="row-actions">
                    <button
                      class="row-add-column-btn"
                      @click=${e=>{e.stopPropagation(),this._addColumn(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Add Column to Row"
                    >
                      <ha-icon icon="mdi:plus"></ha-icon>
                    </button>
                    <button
                      class="row-duplicate-btn"
                      @click=${e=>{e.stopPropagation(),this._duplicateRow(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Duplicate Row"
                    >
                      <ha-icon icon="mdi:content-copy"></ha-icon>
                    </button>
                    <button
                      class="row-settings-btn"
                      @click=${e=>{e.stopPropagation(),this._openRowSettings(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="${(0,m.kg)("editor.layout.row_settings",(null===(r=null===(a=this.hass)||void 0===a?void 0:a.locale)||void 0===r?void 0:r.language)||"en","Row Settings")}"
                    >
                      <ha-icon icon="mdi:cog"></ha-icon>
                    </button>
                    <button
                      class="delete-row-btn"
                      @click=${e=>{e.stopPropagation(),this._deleteRow(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Delete Row"
                    >
                      <ha-icon icon="mdi:delete"></ha-icon>
                    </button>
                  </div>
                </div>
                <div class="columns-container" data-layout="${e.column_layout||"1-2-1-2"}">
                  ${e.columns&&e.columns.length>0?e.columns.map(((e,i)=>{var o,a,r,l,s,d,c,u;return n.qy`
                          <div
                            class="column-builder"
                            draggable="true"
                            @dragstart=${e=>this._onDragStart(e,"column",t,i)}
                            @dragend=${this._onDragEnd}
                            @dragover=${this._onDragOver}
                            @dragenter=${e=>this._onDragEnter(e,"column",t,i)}
                            @dragleave=${this._onDragLeave}
                            @drop=${e=>this._onDrop(e,"column",t,i)}
                            class="${"column"===(null===(o=this._dropTarget)||void 0===o?void 0:o.type)&&(null===(a=this._dropTarget)||void 0===a?void 0:a.rowIndex)===t&&(null===(r=this._dropTarget)||void 0===r?void 0:r.columnIndex)===i?"drop-target":""}"
                          >
                            <div class="column-header">
                              <div class="column-title">
                                <div class="column-drag-handle" title="Drag to move column">
                                  <ha-icon icon="mdi:drag"></ha-icon>
                                </div>
                                <span>Column ${i+1}</span>
                              </div>
                              <div class="column-actions">
                                <button
                                  class="column-add-module-btn"
                                  @click=${e=>{e.stopPropagation(),this._openModuleSelector(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="Add Module to Column"
                                >
                                  <ha-icon icon="mdi:plus"></ha-icon>
                                </button>
                                <button
                                  class="column-duplicate-btn"
                                  @click=${e=>{e.stopPropagation(),this._duplicateColumn(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="Duplicate Column"
                                >
                                  <ha-icon icon="mdi:content-copy"></ha-icon>
                                </button>
                                <button
                                  class="column-settings-btn"
                                  @click=${e=>{e.stopPropagation(),this._openColumnSettings(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="${(0,m.kg)("editor.layout.column_settings",(null===(s=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===s?void 0:s.language)||"en","Column Settings")}"
                                >
                                  <ha-icon icon="mdi:cog"></ha-icon>
                                </button>
                                <button
                                  class="column-delete-btn"
                                  @click=${e=>{e.stopPropagation(),this._deleteColumn(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="Delete Column"
                                >
                                  <ha-icon icon="mdi:delete"></ha-icon>
                                </button>
                              </div>
                            </div>
                            <div
                              class="modules-container ${"column"===(null===(d=this._dropTarget)||void 0===d?void 0:d.type)&&(null===(c=this._dropTarget)||void 0===c?void 0:c.rowIndex)===t&&(null===(u=this._dropTarget)||void 0===u?void 0:u.columnIndex)===i?"drop-target":""}"
                              @dragover=${this._onDragOver}
                              @dragenter=${e=>this._onDragEnter(e,"column",t,i)}
                              @dragleave=${this._onDragLeave}
                              @drop=${e=>this._onDrop(e,"column",t,i)}
                            >
                              ${e.modules.map(((e,o)=>{var a,r,l,s;return n.qy`
                                  <div
                                    class="module-item"
                                    draggable="true"
                                    @dragstart=${e=>this._onDragStart(e,"module",t,i,o)}
                                    @dragend=${this._onDragEnd}
                                    @dragover=${this._onDragOver}
                                    @dragenter=${e=>this._onDragEnter(e,"module",t,i,o)}
                                    @dragleave=${this._onDragLeave}
                                    @drop=${e=>this._onDrop(e,"module",t,i,o)}
                                    class="${"module"===(null===(a=this._dropTarget)||void 0===a?void 0:a.type)&&(null===(r=this._dropTarget)||void 0===r?void 0:r.rowIndex)===t&&(null===(l=this._dropTarget)||void 0===l?void 0:l.columnIndex)===i&&(null===(s=this._dropTarget)||void 0===s?void 0:s.moduleIndex)===o?"drop-target":""}"
                                  >
                                    <div
                                      class="module-content"
                                      @click=${()=>this._openModuleSettings(t,i,o)}
                                    >
                                      ${this._renderSingleModule(e,t,i,o)}
                                    </div>
                                  </div>
                                `}))}
                              <button
                                class="add-module-btn"
                                @click=${e=>{e.stopPropagation(),this._openModuleSelector(t,i)}}
                              >
                                <ha-icon icon="mdi:plus"></ha-icon>
                                Add Module
                              </button>
                            </div>
                          </div>
                        `})):n.qy`
                        <div class="empty-row-message">
                          <p>This row has no columns.</p>
                          <button
                            class="add-module-btn"
                            @click=${e=>{e.stopPropagation(),this._openModuleSelector(t,0)}}
                            style="margin-top: 8px;"
                          >
                            <ha-icon icon="mdi:plus"></ha-icon>
                            Add Module (will create column automatically)
                          </button>
                        </div>
                      `}
                  <div class="add-column-container">
                    <button
                      class="add-column-btn"
                      @click=${e=>{e.stopPropagation(),this._addColumn(t)}}
                      title="Add Column"
                    >
                      <ha-icon icon="mdi:plus"></ha-icon>
                      Add Column
                    </button>
                  </div>
                </div>
              </div>
            `}))}
        </div>

        ${this._showModuleSelector?this._renderModuleSelector():""}
        ${this._showModuleSettings?this._renderModuleSettings():""}
        ${this._showLayoutChildSettings?this._renderLayoutChildSettings():""}
        ${this._showRowSettings?this._renderRowSettings():""}
        ${this._showColumnSettings?this._renderColumnSettings():""}
        ${this._showColumnLayoutSelector?this._renderColumnLayoutSelector():""}
      </div>
    `}_renderModuleSelector(){const e=(0,c.oD)().getAllModules(),t=this._selectedLayoutModuleIndex>=0,i=e.filter((e=>"layout"===e.metadata.category)),o=e.filter((e=>"layout"!==e.metadata.category));return n.qy`
      <div class="module-selector-popup">
        <div class="popup-overlay" @click=${()=>this._showModuleSelector=!1}></div>
        <div class="selector-content draggable-popup" id="module-selector-popup">
          <div
            class="selector-header"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupDrag(e,t)}}
          >
            <div class="selector-header-top">
              <h3>Add Module</h3>
              <button
                class="close-button"
                title="Close"
                @mousedown=${e=>e.stopPropagation()}
                @click=${()=>this._showModuleSelector=!1}
              >
                ×
              </button>
            </div>
            ${t?n.qy`<p class="selector-subtitle">
                  Adding to layout module (only content modules allowed)
                </p>`:""}
          </div>

          ${!t&&i.length>0?n.qy`
                <div class="module-category">
                  <h4 class="category-title">Layout Containers</h4>
                  <p class="category-description">Create containers to organize your modules</p>
                  <div class="module-types layout-modules">
                    ${i.map((e=>{const t=e.metadata,i="horizontal"===t.type,o="vertical"===t.type;return n.qy`
                        <button
                          class="module-type-btn layout-module ${i?"horizontal-layout":""} ${o?"vertical-layout":""}"
                          @click=${()=>this._addModule(t.type)}
                          title="${t.description}"
                        >
                          <ha-icon icon="${t.icon}"></ha-icon>
                          <div class="module-info">
                            <span class="module-title">${t.title}</span>
                            <span class="module-description">${t.description}</span>
                          </div>
                        </button>
                      `}))}
                  </div>
                </div>
              `:""}
          ${o.length>0?n.qy`
                <div class="module-category">
                  <h4 class="category-title">Content Modules</h4>
                  <p class="category-description">Add content and interactive elements</p>
                  <div class="module-types content-modules">
                    ${o.map((e=>{const t=e.metadata;return n.qy`
                        <button
                          class="module-type-btn content-module"
                          @click=${()=>this._addModule(t.type)}
                          title="${t.description}"
                        >
                          <ha-icon icon="${t.icon}"></ha-icon>
                          <div class="module-info">
                            <span class="module-title">${t.title}</span>
                            <span class="module-description">${t.description}</span>
                          </div>
                        </button>
                      `}))}
                  </div>
                </div>
              `:""}

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}_formatCategoryTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}_isLayoutModule(e){return["horizontal","vertical"].includes(e)}_shouldAutoOpenSettings(e){return!this._isLayoutModule(e)}_getLayoutModuleColor(e){return this._isLayoutModule(e)?"var(--success-color, #4caf50)":"var(--accent-color, var(--orange-color, #ff9800))"}_renderColumnLayoutSelector(){const e=this._ensureLayout().rows[this._selectedRowForLayout],t=e?e.columns.length:1,i=(null==e?void 0:e.column_layout)||"1-col",o=this._migrateLegacyLayoutId(i),a=this._getLayoutsForColumnCount(t);return n.qy`
      <div class="column-layout-selector-popup">
        <div class="popup-overlay" @click=${()=>this._showColumnLayoutSelector=!1}></div>
        <div class="selector-content draggable-popup" id="column-layout-selector-popup">
          <div
            class="selector-header"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>Choose Column Layout</h3>
            <p>
              Select any layout for ${t}
              column${1!==t?"s":""} (Currently: ${t}
              column${1!==t?"s":""})
            </p>
          </div>

          <div class="layout-options">
            ${a.map((e=>n.qy`
                <button
                  class="layout-option-btn ${e.id===i||e.id===o?"current":""}"
                  @click=${()=>this._changeColumnLayout(e.id)}
                  title="${e.name}"
                >
                  <div class="layout-visual">
                    <div class="layout-icon-large">
                      ${s(this._createColumnIconHTML(e.proportions))}
                    </div>
                  </div>
                  <div class="layout-name">${e.name}</div>
                  ${e.id===i||e.id===o?n.qy`<div class="current-badge">Current</div>`:""}
                </button>
              `))}
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}static get styles(){return n.AH`
      :host {
        --accent-color: var(--orange-color, #ff9800);
        --orange-color: #ff9800;
        --secondary-color: var(--orange-color, #ff9800);
      }

      .layout-builder {
        padding: 12px;
        background: var(--card-background-color);
        border-radius: 8px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .builder-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--divider-color);
        flex-wrap: wrap;
        gap: 8px;
        flex-shrink: 0;
      }

      .builder-header h3 {
        margin: 0;
        flex: 1;
        min-width: 120px;
        font-size: 18px;
      }

      .add-row-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        white-space: nowrap;
        font-weight: 500;
        transition: all 0.2s ease;
        min-height: 40px;
      }

      .add-row-btn:hover {
        background: var(--primary-color-dark, var(--primary-color));
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .row-builder {
        margin-bottom: 16px;
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        background: var(--card-background-color);
        width: 100%;
        box-sizing: border-box;
        position: static;
        transition: all 0.2s ease;
        overflow: visible;
      }

      .row-builder:last-child {
        margin-bottom: 0;
      }

      .row-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 12px;
        background: var(--primary-color);
        color: white;
        font-weight: 500;
        border-bottom: 2px solid var(--primary-color);
        position: static;
        z-index: 2;
        border-radius: 8px 8px 0px 0px;
      }

      .row-title {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .row-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        color: rgba(255, 255, 255, 0.7);
        cursor: grab;
        opacity: 0.8;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 16px;
      }

      .row-drag-handle:hover {
        opacity: 1;
      }

      .row-drag-handle:active {
        cursor: grabbing;
      }

      .column-layout-btn {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 4px;
        padding: 4px 8px;
        cursor: pointer;
        color: white;
        font-size: 14px;
        transition: all 0.2s ease;
        min-width: 32px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .column-layout-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        border-color: rgba(255, 255, 255, 0.5);
      }

      .layout-icon {
        font-family: monospace;
        font-weight: bold;
        letter-spacing: 1px;
      }

      .row-actions {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .row-duplicate-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-duplicate-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .row-add-column-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-add-column-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .row-settings-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: background-color 0.2s ease;
      }

      .row-settings-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .delete-row-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .delete-row-btn:hover {
        background: rgba(255, 100, 100, 0.8);
        color: white;
      }

      .rows-container {
        flex: 1;
        min-height: 0;
        width: 100%;
        box-sizing: border-box;
      }

      .columns-container {
        display: flex;
        flex-direction: column;
        gap: 8px;
        width: 100%;
        padding: 12px;
        box-sizing: border-box;
        background: var(--card-background-color);
        border-top: 1px solid var(--primary-color);
      }

      /* Editor view: Force single column layout for better usability */
      .columns-container[data-layout='1-col'],
      .columns-container[data-layout='1-2-1-2'],
      .columns-container[data-layout='1-3-2-3'],
      .columns-container[data-layout='2-3-1-3'],
      .columns-container[data-layout='2-5-3-5'],
      .columns-container[data-layout='3-5-2-5'],
      .columns-container[data-layout='1-3-1-3-1-3'],
      .columns-container[data-layout='1-4-1-2-1-4'],
      .columns-container[data-layout='1-5-3-5-1-5'],
      .columns-container[data-layout='1-6-2-3-1-6'],
      .columns-container[data-layout='1-4-1-4-1-4-1-4'],
      .columns-container[data-layout='1-5-1-5-1-5-1-5'],
      .columns-container[data-layout='1-6-1-6-1-6-1-6'],
      .columns-container[data-layout='1-8-1-4-1-4-1-8'],
      .columns-container[data-layout='1-5-1-5-1-5-1-5'],
      .columns-container[data-layout='1-6-1-6-1-3-1-6-1-6'],
      .columns-container[data-layout='1-8-1-4-1-4-1-4-1-8'],
      .columns-container[data-layout='1-6-1-6-1-6-1-6-1-6-1-6'],
      /* Legacy support */
      .columns-container[data-layout='50-50'],
      .columns-container[data-layout='30-70'],
      .columns-container[data-layout='70-30'],
      .columns-container[data-layout='33-33-33'],
      .columns-container[data-layout='25-50-25'],
      .columns-container[data-layout='20-60-20'],
      .columns-container[data-layout='25-25-25-25'] {
        display: flex;
        flex-direction: column;
        gap: 8px;
        border: 1px solid var(--primary-color);
        margin-bottom: 16px;
        border-radius: 0px 0px 8px 8px;
      }

      .column-builder {
        border: 2px solid var(--accent-color, var(--orange-color, #ff9800));
        border-radius: 0px 0px 6px 6px;
        background: var(--card-background-color);
        width: 100%;
        box-sizing: border-box;
        overflow: visible;

        position: static;
      }

      .column-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        font-weight: 500;
        padding: 8px 12px;
        background: var(--accent-color, var(--orange-color, #ff9800));
        color: white;
        border-bottom: 2px solid var(--accent-color, var(--orange-color, #ff9800));
        position: static;
        z-index: 2;
        border-radius: 6px 6px 0px 0px;
      }

      .column-actions {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .column-add-module-btn,
      .column-duplicate-btn,
      .column-settings-btn,
      .column-delete-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.9);
        cursor: pointer;
        padding: 6px 8px;
        border-radius: 4px;
        transition: all 0.2s ease;
        font-size: 12px;
        min-width: 28px;
        min-height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .column-add-module-btn:hover,
      .column-duplicate-btn:hover,
      .column-settings-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        color: white;
        transform: scale(1.05);
      }

      .column-delete-btn:hover:not([disabled]) {
        background: rgba(255, 100, 100, 0.9);
        color: white;
        transform: scale(1.05);
      }

      .column-delete-btn[disabled] {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
      }

      .column-delete-btn[disabled]:hover {
        background: none;
        transform: none;
      }

      .column-actions ha-icon {
        --mdc-icon-size: 16px;
      }

      .column-title {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .column-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        color: rgba(255, 255, 255, 0.7);
        cursor: grab;
        opacity: 0.8;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 14px;
      }

      .column-drag-handle:hover {
        opacity: 1;
      }

      .column-drag-handle:active {
        cursor: grabbing;
      }

      .modules-container {
        display: flex;
        flex-direction: column;
        gap: 6px;
        width: 100%;
        box-sizing: border-box;
        padding: 12px;
        background: var(--card-background-color);
        border: 1px solid var(--secondary-color, var(--accent-color, #ff9800));
        border-top: none;
        border-radius: 0px 0px 6px 6px;
        margin-top: 0;

        position: static;
        overflow: visible;
      }

      .module-item {
        position: relative;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        margin-bottom: 8px;
        width: 100%;
        min-height: 60px;
        transition: border-color 0.2s ease;
        box-sizing: border-box;
        overflow: visible;
      }

      .module-item:hover {
        border-color: var(--primary-color);
        box-shadow: 0 2px 12px rgba(var(--rgb-primary-color), 0.2);
        transform: translateY(-1px);
      }

      .module-content {
        padding: 8px;
        cursor: pointer;
        width: 100%;
        box-sizing: border-box;
        overflow: hidden;
        word-wrap: break-word;
        word-break: break-word;
        pointer-events: auto;
        position: relative;
        z-index: 1;

        /* Ensure content doesn't interfere with hover actions positioning */
        contain: layout style;
      }

      /* Simplified Module Styles */
      .simplified-module {
        padding: 12px;
        border-radius: 6px;
        background: var(--card-background-color, #fff);
        border: 1px solid var(--divider-color, #e0e0e0);
        width: 100%;
        box-sizing: border-box;
      }

      .simplified-module-header {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
      }

      .simplified-module-drag-handle {
        flex-shrink: 0;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--secondary-text-color, #757575);
        cursor: grab;
        opacity: 0.6;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 16px;
      }

      .simplified-module:hover .simplified-module-drag-handle {
        opacity: 1;
      }

      .simplified-module-drag-handle:active {
        cursor: grabbing;
      }

      .simplified-module-icon {
        flex-shrink: 0;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--primary-color, #2196f3);
        color: white;
        border-radius: 6px;
        --mdc-icon-size: 20px;
      }

      .simplified-module-content {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .simplified-module-title {
        font-size: 14px;
        font-weight: 600;
        color: var(--primary-text-color, #212121);
        line-height: 1.3;
        margin: 0;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .simplified-module-info {
        font-size: 12px;
        color: var(--secondary-text-color, #757575);
        line-height: 1.2;
        margin: 0;
        opacity: 0.8;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .simplified-module-actions {
        display: flex;
        gap: 4px;
        align-items: center;
        flex-shrink: 0;
      }

      .simplified-action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color, #e0e0e0);
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 0;
      }

      .simplified-action-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .simplified-action-btn.edit-btn {
        color: var(--primary-color, #2196f3);
        border-color: var(--primary-color, #2196f3);
      }

      .simplified-action-btn.edit-btn:hover {
        background: var(--primary-color, #2196f3);
        color: white;
      }

      .simplified-action-btn.duplicate-btn {
        color: var(--info-color, #2196f3);
        border-color: var(--info-color, #2196f3);
      }

      .simplified-action-btn.duplicate-btn:hover {
        background: var(--info-color, #2196f3);
        color: white;
      }

      .simplified-action-btn.delete-btn {
        color: var(--error-color, #f44336);
        border-color: var(--error-color, #f44336);
      }

      .simplified-action-btn.delete-btn:hover {
        background: var(--error-color, #f44336);
        color: white;
      }

      .simplified-action-btn ha-icon {
        --mdc-icon-size: 14px;
      }

      /* Disable animations within layout builder modules */
      .module-content * {
        max-width: 100%;
        box-sizing: border-box;
        animation: none !important;
        transition: none !important;
      }

      .module-content *:hover {
        transform: none !important;
        animation: none !important;
        transition: none !important;
      }

      .module-content img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      .add-module-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 10px;
        border: 2px dashed var(--divider-color);
        border-radius: 4px;
        background: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        width: 100%;
        box-sizing: border-box;
        font-size: 13px;
        min-height: 36px;
      }

      .add-module-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .add-column-container {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 12px 12px 12px;
        width: 100%;
        box-sizing: border-box;
      }

      .add-column-btn {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 10px 12px;
        border: 2px dashed var(--secondary-text-color);
        border-radius: 6px;
        background: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 13px;
        width: 100%;
        min-height: 40px;
        box-sizing: border-box;
      }

      .add-column-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.05));
      }

      .add-column-btn ha-icon {
        --mdc-icon-size: 20px;
      }

      /* Empty Row Message */
      .empty-row-message {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 32px 16px;
        border: 2px dashed var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        color: var(--secondary-text-color);
        text-align: center;
        min-height: 120px;
      }

      .empty-row-message p {
        margin: 0 0 8px 0;
        font-size: 14px;
        opacity: 0.8;
      }

      /* Module Selector Popup */
      .module-selector-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .popup-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
      }

      .selector-content {
        position: relative;
        background: var(--card-background-color);
        border-radius: 8px;
        /* remove top padding so sticky header touches the top edge */
        padding: 0 24px 24px;
        max-width: 500px;
        width: 90%;
        max-height: 80vh;
        overflow-x: hidden; /* prevent bleed */
        overflow-y: auto; /* allow vertical scrolling when content exceeds height */
      }

      .selector-content.draggable-popup {
        position: relative !important; /* avoid transform so fixed menus anchor correctly */
        width: min(700px, 95vw);
        height: min(750px, 90vh);
        transform: none !important;
        top: auto !important;
        left: auto !important;
        margin: 0 auto;
      }

      /* Mobile optimization for selector popup */
      @media (max-width: 768px) {
        .selector-content.draggable-popup {
          width: 95vw;
          height: 90vh;
        }
      }

      .selector-header {
        position: sticky; /* keep header visible while scrolling */
        top: 0;
        z-index: 5;
        background: var(--card-background-color);
        padding: 20px 0 16px; /* top padding moved from container */
        border-bottom: 1px solid var(--divider-color);
        margin-bottom: 16px;
        cursor: move;
        user-select: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      }

      .selector-header-top {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%;
        white-space: nowrap;
      }

      .selector-header h3 {
        margin: 0; /* align vertically with X */
        flex: 1; /* push the X to the far right */
      }

      .selector-header .close-button {
        margin-left: auto; /* ensure it sits on the same row to the right */
        background: none;
        border: none;
        font-size: 24px;
        line-height: 1;
        cursor: pointer;
        color: var(--secondary-text-color);
      }

      .selector-header .close-button:hover {
        color: var(--primary-color);
      }

      .module-stats {
        font-size: 12px;
        color: var(--secondary-text-color);
      }

      .module-category {
        margin-bottom: 20px;
      }

      .category-title {
        font-size: 14px;
        font-weight: 600;
        margin: 0 0 8px 0;
        color: var(--primary-text-color);
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .module-types {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }

      .module-type-btn {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: left;
        width: 100%;
        min-height: 60px;
      }

      .module-type-btn:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      /* Ensure text elements are white on hover */
      .module-type-btn:hover .module-title,
      .module-type-btn:hover .module-description {
        color: white !important;
      }

      .module-type-btn ha-icon {
        font-size: 32px;
        flex-shrink: 0;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--primary-color);
        color: white;
        border-radius: 8px;
      }

      .module-type-btn:hover ha-icon {
        background: white;
        color: var(--primary-color);
      }

      .module-info {
        display: flex;
        flex-direction: column;
        gap: 4px;
        min-width: 0;
        flex: 1;
      }

      .module-title {
        font-weight: 500;
        font-size: 16px;
        color: var(--primary-text-color);
      }

      .module-description {
        font-size: 14px;
        color: var(--secondary-text-color);
        line-height: 1.3;
      }

      .module-author,
      .module-version {
        display: none; /* Hide for cleaner look */
      }

      /* Module Category Styles */
      .module-category {
        margin-bottom: 24px;
      }

      .category-title {
        font-size: 16px;
        font-weight: 600;
        margin: 0 0 8px 0;
        color: var(--primary-text-color);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .category-description {
        font-size: 14px;
        color: var(--secondary-text-color);
        margin: 0 0 16px 0;
        line-height: 1.4;
      }

      /* Layout Module Specific Styles */
      .layout-modules .module-type-btn.layout-module {
        position: relative;
        border: 2px solid var(--success-color, #4caf50);
        background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.1));
      }

      .layout-modules .module-type-btn.horizontal-layout {
        border-color: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout {
        border-color: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.layout-module:hover {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      }

      .layout-modules .module-type-btn.horizontal-layout:hover {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      }

      .layout-modules .module-type-btn.vertical-layout:hover {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      }

      /* Ensure layout module text is white on hover */
      .layout-modules .module-type-btn.layout-module:hover .module-title,
      .layout-modules .module-type-btn.layout-module:hover .module-description,
      .layout-modules .module-type-btn.horizontal-layout:hover .module-title,
      .layout-modules .module-type-btn.horizontal-layout:hover .module-description,
      .layout-modules .module-type-btn.vertical-layout:hover .module-title,
      .layout-modules .module-type-btn.vertical-layout:hover .module-description {
        color: white !important;
      }

      .layout-modules .module-type-btn.layout-module ha-icon {
        background: var(--success-color, #4caf50);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.2);
      }

      .layout-modules .module-type-btn.horizontal-layout ha-icon {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout ha-icon {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.layout-module:hover ha-icon {
        background: white;
        color: var(--success-color, #4caf50);
        border-color: rgba(0, 0, 0, 0.1);
      }

      .layout-modules .module-type-btn.horizontal-layout:hover ha-icon {
        color: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout:hover ha-icon {
        color: var(--success-color, #4caf50);
      }

      .layout-badge {
        position: absolute;
        top: 8px;
        right: 8px;
        background: var(--success-color, #4caf50);
        color: white;
        font-size: 9px;
        font-weight: 600;
        padding: 2px 6px;
        border-radius: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        opacity: 0.9;
      }

      .layout-modules .module-type-btn.horizontal-layout .layout-badge {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout .layout-badge {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.layout-module:hover .layout-badge {
        background: rgba(255, 255, 255, 0.2);
        opacity: 1;
      }

      /* Content Module Styles */
      .content-modules .module-type-btn.content-module {
        border: 1px solid var(--divider-color);
      }

      .content-modules .module-type-btn.content-module:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      /* Ensure content module text is white on hover */
      .content-modules .module-type-btn.content-module:hover .module-title,
      .content-modules .module-type-btn.content-module:hover .module-description {
        color: white !important;
      }

      /* Column Layout Selector Popup */
      .column-layout-selector-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1001;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .layout-options {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin-top: 16px;
      }

      .layout-option-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 16px 12px;
        border: 2px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
        min-height: 80px;
        gap: 8px;
      }

      .layout-option-btn:hover {
        border-color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .layout-option-btn.current {
        border-color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.1));
        position: relative;
      }

      .layout-option-btn.current .layout-icon-large {
        color: var(--primary-color);
      }

      .current-badge {
        position: absolute;
        top: 4px;
        right: 4px;
        background: var(--primary-color);
        color: white;
        font-size: 8px;
        font-weight: 600;
        padding: 2px 6px;
        border-radius: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .layout-visual {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 32px;
      }

      .layout-icon-large {
        font-family: monospace;
        font-weight: bold;
        font-size: 20px;
        letter-spacing: 2px;
        color: var(--primary-color);
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .layout-name {
        font-size: 12px;
        font-weight: 500;
        color: var(--primary-text-color);
        line-height: 1.2;
      }

      .module-placeholder {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 16px;
        border: 1px dashed var(--divider-color);
        border-radius: 4px;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      .error-message {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px;
        background: var(--error-color);
        color: white;
        border-radius: 4px;
        font-size: 14px;
      }

      /* General Settings Popup Styles */
      .settings-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1002;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 20px;
        overflow-y: hidden; /* scrolling handled inside content to support sticky header */
        overflow-x: visible;
      }

      .settings-tabs {
        display: flex;
        border-bottom: 1px solid var(--divider-color);
      }

      .settings-tab {
        flex: 1;
        padding: 12px 16px;
        background: none;
        border: none;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 14px;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
      }

      .settings-tab:hover {
        color: var(--primary-color);
      }

      .settings-tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
      }

      .settings-tab-content {
        padding: 24px;
        flex: 1 1 auto;
        min-height: 0; /* allow parent to control height */
        overflow-y: auto;
      }

      /* Module Settings Popup */
      .module-settings-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1001;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 20px;
        overflow-y: hidden; /* scrolling handled inside popup-content for sticky header */
        overflow-x: visible;
      }

      .popup-content {
        position: relative;
        background: var(--card-background-color);
        border-radius: 8px;
        width: 720px;
        min-height: 480px;
        max-width: 98vw;
        max-height: 98vh;
        overflow-y: auto; /* internal scroll container for sticky header */
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
      }

      /* Dropdown positioning fixes for popup context -
         ensure menus anchor to fields inside transformed draggable popups */
      .popup-content ha-select,
      .selector-content ha-select {
        position: relative !important;
        overflow: visible !important;
        z-index: 9999 !important;
      }

      .popup-content ha-select .mdc-select__menu,
      .popup-content ha-select mwc-menu,
      .popup-content ha-select .mdc-menu,
      .popup-content ha-select ha-menu,
      .selector-content ha-select .mdc-select__menu,
      .selector-content ha-select mwc-menu,
      .selector-content ha-select .mdc-menu,
      .selector-content ha-select ha-menu {
        /* Let HA position menus; we only ensure visibility */
        z-index: 10001 !important;
        max-height: 300px !important;
        overflow-y: auto !important;
        max-width: min(360px, 95vw) !important;
      }

      /* Allow dropdown overflow; keep inner content scrollable */
      .popup-content {
        /* Allow dropdowns to overflow the scrolling container */
        overflow: visible !important;
      }

      .popup-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 24px;
        border-bottom: 1px solid var(--divider-color);
        position: sticky; /* keep header visible while scrolling */
        top: 0;
        z-index: 5; /* above tab content */
        background: var(--card-background-color);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      }

      .close-button {
        background: none;
        border: none;
        font-size: 32px;
        cursor: pointer;
        color: var(--secondary-text-color);
        padding: 0;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .close-button:hover {
        color: var(--primary-color);
      }

      .action-button {
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .action-button ha-icon {
        --mdc-icon-size: 20px;
      }

      .duplicate-button {
        color: var(--primary-color);
      }

      .duplicate-button:hover {
        background: var(--primary-color);
        color: white;
      }

      .delete-button {
        color: var(--error-color);
      }

      .delete-button:hover {
        background: var(--error-color);
        color: white;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* Drag and Resize Functionality */
      .draggable-popup {
        position: absolute;
        /* Avoid transforms so fixed-position menus anchor to viewport correctly */
        transform: none !important;
        max-width: none;
        max-height: none;
        width: min(700px, 95vw);
        height: min(750px, 90vh);
        /* Center the popup initially */
        /* Use margins for centering instead of transforms to not create a containing block */
        top: 50%;
        left: 50%;
        margin-left: -350px; /* half of width when 700px; will be clamped by max-width */
        margin-top: -375px; /* half of height when 750px; responsive will adjust */
        /* Reset translate centering */
        /* transform already set to none above */
        z-index: 1000;
      }

      /* During drag/resize, remove centering transform and use absolute positioning */
      .draggable-popup.popup-dragging,
      .draggable-popup.popup-resizing {
        position: absolute;
        transform: none;
        /* left and top will be set by JavaScript during drag */
      }

      /* Mobile optimization for module popups */
      @media (max-width: 768px) {
        .draggable-popup {
          width: 95vw;
          height: 90vh;
          /* Keep centered without transforms using viewport-based negative margins */
          top: 50%;
          left: 50%;
          margin-left: calc(-47.5vw);
          margin-top: calc(-45vh);
        }
        /* Remove move affordance on mobile */
        .popup-header {
          cursor: default;
        }
        /* Hide resize handle on mobile */
        .draggable-popup .resize-handle {
          display: none;
        }
      }

      .popup-header {
        cursor: move;
        user-select: none;
      }

      .resize-handle {
        position: absolute;
        bottom: 0px;
        right: 0px;
        width: 20px;
        height: 20px;
        cursor: se-resize;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--secondary-text-color);
        background: var(--card-background-color);
        border-radius: 8px 0 8px 0;
        transition: all 0.2s ease;
        z-index: 20; /* ensure it stays above content */
      }

      /* Keep sticky behavior even during drag/resize */
      .draggable-popup .resize-handle {
        transform: none !important;
      }

      .resize-handle:hover {
        color: var(--primary-color);
        background: var(--divider-color);
      }

      .resize-handle ha-icon {
        --mdc-icon-size: 16px;
      }

      .popup-dragging {
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        z-index: 1010 !important;
      }

      .popup-resizing {
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        transition: none !important;
      }

      .popup-resizing * {
        transition: none !important;
      }

      /* Override any conflicting styles for resizable elements */
      .draggable-popup.popup-resizing {
        max-width: none !important;
        max-height: none !important;
        width: auto !important;
        height: auto !important;
      }

      .popup-dragging .popup-header,
      .popup-resizing .popup-header {
        cursor: move;
      }

      .popup-dragging .resize-handle,
      .popup-resizing .resize-handle {
        pointer-events: none;
      }

      /* Module Preview */
      .module-preview {
        margin: 16px 24px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        overflow: visible; /* allow inner preview content to fully render */
      }

      .preview-header {
        padding: 12px 16px;
        background: var(--secondary-background-color);
        font-weight: 500;
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        cursor: pointer;
      }

      .preview-caret {
        --mdc-icon-size: 20px;
        color: var(--secondary-text-color);
      }

      .preview-content {
        padding: 16px;
        min-height: 60px;
        display: block;
      }

      /* Module Tabs */
      .module-tabs {
        display: flex;
        border-bottom: 1px solid var(--divider-color);
      }

      .module-tab {
        flex: 1;
        padding: 12px 16px;
        background: none;
        border: none;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 14px;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
      }

      .module-tab:hover {
        color: var(--primary-color);
      }

      .module-tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
      }

      .module-tab-content {
        padding: 24px;
        flex: 1;
        overflow-y: auto; /* body scrolls */
        overflow-x: visible; /* allow dropdown menus to render outside content column */
        width: 100%;
        box-sizing: border-box;
        min-height: 0; /* Allow flex child to shrink below content size */
      }

      /* Design Subtabs */
      .design-subtabs {
        display: flex;
        margin-bottom: 16px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        overflow: hidden;
      }

      .design-subtab {
        flex: 1;
        padding: 8px 12px;
        background: var(--secondary-background-color);
        border: none;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 12px;
        transition: all 0.2s ease;
      }

      .design-subtab:hover {
        color: var(--primary-color);
      }

      .design-subtab.active {
        background: var(--primary-color);
        color: white;
      }

      /* Settings Sections */
      .settings-section {
        margin-bottom: 20px;
        width: 100%;
        box-sizing: border-box;
      }

      .settings-section label {
        display: block;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
        color: var(--primary-text-color);
        width: 100%;
        box-sizing: border-box;
      }

      /* Color Section Styling */
      .color-section {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .color-picker-wrapper {
        display: flex;
        align-items: center;
      }

      .color-picker-wrapper ultra-color-picker {
        width: 100%;
        max-width: 300px;
      }

      /* Font Dropdown Styling */
      .font-dropdown {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        font-family: inherit;
      }

      .font-dropdown:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .font-dropdown optgroup {
        font-weight: 600;
        color: var(--secondary-text-color);
        background: var(--card-background-color);
        padding: 4px 0;
      }

      .font-dropdown option {
        padding: 4px 8px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
      }

      /* Font Size Input Styling */
      .font-size-input {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
      }

      .font-size-input:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      /* Enhanced Alignment Buttons */
      .alignment-buttons {
        display: flex;
        gap: 6px;
        margin-top: 4px;
      }

      .alignment-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        padding: 0;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .alignment-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .alignment-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .alignment-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .settings-section input,
      .settings-section select,
      .settings-section textarea {
        width: 100%;
        max-width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
      }

      .settings-section textarea {
        min-height: 60px;
        resize: vertical;
      }

      /* Ensure form elements fit properly */
      .settings-section ha-form {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      /* Ensure color pickers fit properly */
      .settings-section ultra-color-picker {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      /* Consistent styling for all module settings */
      .module-tab-content .settings-section,
      .settings-tab-content .settings-section {
        border-radius: 8px;
        padding: 16px;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        margin-bottom: 16px;
      }

      .module-tab-content .settings-section:last-child,
      .settings-tab-content .settings-section:last-child {
        margin-bottom: 0;
      }

      /* Enhanced input field styling for consistency */
      .module-tab-content input[type='number'],
      .module-tab-content input[type='text'],
      .module-tab-content input[type='color'],
      .module-tab-content select,
      .module-tab-content textarea,
      .settings-tab-content input[type='number'],
      .settings-tab-content input[type='text'],
      .settings-tab-content input[type='color'],
      .settings-tab-content select,
      .settings-tab-content textarea {
        width: 100%;
        max-width: 100%;
        padding: 10px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        font-family: inherit;
        box-sizing: border-box;
        transition: border-color 0.2s ease;
      }

      .module-tab-content input:focus,
      .module-tab-content select:focus,
      .module-tab-content textarea:focus,
      .settings-tab-content input:focus,
      .settings-tab-content select:focus,
      .settings-tab-content textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      /* Range sliders consistent styling */
      .module-tab-content input[type='range'],
      .settings-tab-content input[type='range'] {
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: var(--divider-color);
        outline: none;
        -webkit-appearance: none;
      }

      .module-tab-content input[type='range']::-webkit-slider-thumb,
      .settings-tab-content input[type='range']::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
      }

      /* Checkbox and radio button styling */
      .module-tab-content input[type='checkbox'],
      .module-tab-content input[type='radio'],
      .settings-tab-content input[type='checkbox'],
      .settings-tab-content input[type='radio'] {
        width: auto;
        margin-right: 8px;
        accent-color: var(--primary-color);
      }

      /* Label styling for form elements */
      .module-tab-content label,
      .settings-tab-content label {
        display: block;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
        color: var(--primary-text-color);
        line-height: 1.4;
      }

      /* Field groups */
      .module-tab-content .field-group,
      .settings-tab-content .field-group {
        gap: 12px;
        align-items: flex-end;
      }

      .module-tab-content .field-group > div,
      .settings-tab-content .field-group > div {
        flex: 1;
      }

      /* Button Groups */
      .alignment-buttons,
      .format-buttons {
        display: flex;
        gap: 4px;
      }

      .alignment-btn,
      .format-btn {
        padding: 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .alignment-btn:hover,
      .format-btn:hover {
        border-color: var(--primary-color);
      }

      .alignment-btn.active,
      .format-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      /* Value Position Buttons for Bar Module */
      .value-position-buttons {
        display: flex;
        gap: 8px;
      }

      .position-btn {
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        font-size: 12px;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .position-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .position-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      /* Spacing Grid */
      .spacing-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
      }

      .spacing-section h4 {
        margin: 0 0 12px 0;
        font-size: 14px;
        font-weight: 500;
      }

      .spacing-cross {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
        align-items: center;
        max-width: 120px;
        margin: 0 auto;
      }

      .spacing-row {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 8px;
        align-items: center;
      }

      .spacing-center {
        width: 32px;
        height: 32px;
        background: var(--primary-color);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        font-weight: bold;
        font-size: 12px;
      }

      .spacing-cross input {
        width: 60px;
        text-align: center;
        padding: 4px 8px;
        font-size: 12px;
      }

      /* Module Rendering */
      .text-module {
        word-wrap: break-word;
      }

      .separator-module {
        width: 100%;
      }

      .image-module {
        text-align: center;
      }

      .image-placeholder {
        padding: 20px;
        border: 2px dashed var(--divider-color);
        border-radius: 4px;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      .module-placeholder {
        padding: 20px;
        text-align: center;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      /* Logic Tab Styles */
      .logic-tab-content {
        display: flex;
        flex-direction: column;
        gap: 24px;
        padding: 16px;
      }

      .logic-section {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .section-header h3 {
        margin: 0 0 16px 0;
        color: var(--primary-text-color);
        font-size: 18px;
        font-weight: 600;
      }

      .display-mode-dropdown {
        width: 100%;
        padding: 12px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        min-height: 48px;
      }

      /* Conditions Section */
      .conditions-section {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .conditions-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .conditions-header h4 {
        margin: 0;
        color: var(--primary-text-color);
        font-size: 16px;
        font-weight: 600;
      }

      .add-condition-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .add-condition-btn:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      .add-condition-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .conditions-list {
        display: flex;
        flex-direction: column;
        gap: 14px; /* slightly larger separation between condition cards */
      }

      .no-conditions {
        text-align: center;
        padding: 32px;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      /* Individual Condition Item */
      .condition-item {
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 0;
        transition: all 0.2s ease;
      }

      .condition-item.disabled {
        opacity: 0.6;
      }

      .condition-item:hover {
        border-color: var(--primary-color);
      }

      .condition-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        background: var(--card-background-color);
        border-radius: 8px 8px 0 0;
        border-bottom: 1px solid var(--divider-color);
      }

      .condition-header-left {
        display: flex;
        align-items: center;
        gap: 8px;
        flex: 1;
      }

      .condition-toggle {
        background: none;
        border: none;
        color: var(--primary-text-color);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: background 0.2s ease;
      }

      .condition-toggle:hover {
        background: var(--secondary-background-color);
      }

      .condition-toggle ha-icon {
        --mdc-icon-size: 18px;
        transition: transform 0.2s ease;
      }

      .condition-toggle.expanded ha-icon {
        transform: rotate(0deg);
      }

      .condition-label {
        font-weight: 500;
        color: var(--primary-text-color);
        font-size: 14px;
      }

      .condition-actions {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .condition-action-btn {
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        padding: 6px;
        border-radius: 4px;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .condition-action-btn:hover {
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
      }

      .condition-action-btn.delete:hover {
        background: var(--error-color);
        color: white;
      }

      .condition-action-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .condition-drag-handle {
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: grab;
        padding: 6px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .condition-drag-handle:hover {
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
      }

      .condition-drag-handle:active {
        cursor: grabbing;
      }

      /* Condition Content */
      .condition-content {
        padding: 16px;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .condition-field {
        display: flex;
        flex-direction: column;
        gap: 6px;
        margin-bottom: 8px; /* add breathing room between stacked fields */
      }

      .condition-field label {
        font-weight: 500;
        color: var(--primary-text-color);
        font-size: 14px;
        display: block;
        margin: 0 0 8px 0;
        text-transform: capitalize;
      }

      .condition-field select,
      .condition-field input,
      .condition-field textarea {
        padding: 10px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        transition: border-color 0.2s ease;
      }

      .condition-field select:focus,
      .condition-field input:focus,
      .condition-field textarea:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .condition-enable-toggle {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: normal !important;
        cursor: pointer;
      }

      /* Condition Type Specific Styles */
      .entity-condition-fields,
      .time-condition-fields,
      .custom-field-condition,
      .template-condition {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .time-inputs {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }

      .condition-info {
        margin: 0;
        padding: 8px 12px;
        background: var(--info-color, #2196f3);
        color: white;
        border-radius: 6px;
        font-size: 12px;
        text-align: center;
      }

      .template-help {
        font-size: 12px;
        color: var(--secondary-text-color);
        font-style: italic;
        margin-top: 4px;
      }

      /* Template Section */
      .template-section {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .template-header {
        margin-bottom: 16px;
      }

      .template-toggle {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        color: var(--primary-text-color);
        cursor: pointer;
      }

      .template-content {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .template-editor {
        min-height: 120px;
        font-family: 'Courier New', monospace;
        font-size: 13px;
        line-height: 1.4;
        resize: vertical;
      }

      @media (max-width: 768px) {
        .columns-container {
          flex-direction: column;
        }

        .column-builder {
          border-right: none;
          border-bottom: 1px solid var(--divider-color);
        }

        .column-builder:last-child {
          border-bottom: none;
        }

        /* Single column module grid on mobile */
        .module-types {
          grid-template-columns: 1fr;
        }

        /* Hide green layout badge on mobile to avoid conflict with title */
        .layout-badge {
          display: none !important;
        }

        .spacing-grid {
          grid-template-columns: 1fr;
        }

        .time-inputs {
          grid-template-columns: 1fr;
        }
      }

      /* Logic Module Dimming */
      .module-with-logic {
        position: relative;
      }

      .module-with-logic.logic-hidden {
        opacity: 0.4;
        filter: grayscale(50%);
      }

      .logic-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
        font-weight: 500;
        border-radius: 4px;
        pointer-events: none;
        z-index: 10;
      }

      .logic-overlay ha-icon {
        --mdc-icon-size: 20px;
        margin-bottom: 4px;
      }

      .logic-overlay span {
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
      }

      /* Toggle Switch Styles */
      .switch-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 8px;
      }

      .switch-label {
        font-weight: 600;
        color: var(--primary-text-color);
        font-size: 16px;
      }

      .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--switch-unchecked-color, #ccc);
        transition: 0.3s;
        border-radius: 24px;
      }

      .slider:before {
        position: absolute;
        content: '';
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.3s;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      input:checked + .slider {
        background-color: var(--primary-color);
      }

      input:focus + .slider {
        box-shadow: 0 0 1px var(--primary-color);
      }

      input:checked + .slider:before {
        transform: translateX(26px);
      }

      .slider.round {
        border-radius: 24px;
      }

      .slider.round:before {
        border-radius: 50%;
      }

      /* Disabled state for conditions */
      .disabled-note {
        font-size: 12px;
        color: var(--warning-color, #ff9800);
        font-style: italic;
        font-weight: normal;
      }

      .template-description {
        font-size: 14px;
        color: var(--secondary-text-color);
        line-height: 1.4;
        margin: 4px 0 12px 0;
      }

      /* Animation keyframes and classes for preview windows */
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes vibrate {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-2px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(2px);
        }
      }

      @keyframes rotate-left {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(-360deg);
        }
      }

      @keyframes rotate-right {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes hover {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes fade {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      @keyframes scale {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-5px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(5px);
        }
      }

      @keyframes tada {
        0% {
          transform: scale(1);
        }
        10%,
        20% {
          transform: scale(0.9) rotate(-3deg);
        }
        30%,
        50%,
        70%,
        90% {
          transform: scale(1.1) rotate(3deg);
        }
        40%,
        60%,
        80% {
          transform: scale(1.1) rotate(-3deg);
        }
        100% {
          transform: scale(1) rotate(0);
        }
      }

      .animation-pulse {
        animation-name: pulse;
        animation-iteration-count: infinite;
      }

      .animation-vibrate {
        animation-name: vibrate;
        animation-iteration-count: infinite;
      }

      .animation-rotate-left {
        animation-name: rotate-left;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }

      .animation-rotate-right {
        animation-name: rotate-right;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }

      .animation-hover {
        animation-name: hover;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .animation-fade {
        animation-name: fade;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .animation-scale {
        animation-name: scale;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .animation-bounce {
        animation-name: bounce;
        animation-iteration-count: infinite;
      }

      .animation-shake {
        animation-name: shake;
        animation-timing-function: cubic-bezier(0.36, 0.07, 0.19, 0.97);
        animation-iteration-count: infinite;
      }

      .animation-tada {
        animation-name: tada;
        animation-iteration-count: infinite;
      }

      /* Row and Column Preview Styles */
      .row-preview-content {
        display: flex;
        padding: 16px;
        border-radius: 8px;
        border: 1px solid var(--divider-color);
        min-height: 60px;
        align-items: center;
        justify-content: space-around;
      }

      .column-preview {
        flex: 1;
        padding: 12px;
        margin: 0 4px;
        background: var(--accent-color);
        color: white;
        border-radius: 4px;
        text-align: center;
        font-size: 14px;
        font-weight: 500;
      }

      .column-preview-content {
        padding: 16px;
        border-radius: 8px;
        border: 1px solid var(--divider-color);
        text-align: center;
        background: var(--secondary-background-color);
        min-height: 60px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .column-preview-content p {
        margin: 0 0 8px 0;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .module-count {
        font-size: 12px;
        color: var(--secondary-text-color);
      }

      /* Drag and Drop Styles */
      .row-builder[draggable='true'],
      .column-builder[draggable='true'],
      .module-item[draggable='true'] {
        cursor: grab;
      }

      .row-builder[draggable='true']:hover,
      .column-builder[draggable='true']:hover,
      .module-item[draggable='true']:hover {
        cursor: grab;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .row-builder[draggable='true']:active,
      .column-builder[draggable='true']:active,
      .module-item[draggable='true']:active {
        cursor: grabbing;
        transform: scale(0.98);
      }

      /* Invalid drop target indication */
      :host([dragging-column]) .module-item,
      :host([dragging-row]) .module-item,
      :host([dragging-row]) .column-builder {
        cursor: not-allowed !important;
        opacity: 0.5;
        pointer-events: auto;
      }

      .drop-target {
        box-shadow: 0 0 20px rgba(var(--rgb-primary-color), 0.6) !important;
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        transform: scale(1.02) !important;
        transition: all 0.2s ease !important;
      }

      .drop-target.row-builder {
        border-color: var(--primary-color) !important;
        border-width: 3px !important;
        border-style: dashed !important;
      }

      .drop-target.column-builder {
        border-color: var(--primary-color) !important;
        border-width: 3px !important;
        border-style: dashed !important;
      }

      .drop-target.module-item {
        border-color: var(--primary-color) !important;
        border-width: 2px !important;
        border-style: dashed !important;
      }

      /* Drag handle indicators (disabled) */
      /* We now render explicit drag handles inside headers. The legacy
         pseudo-element indicators caused duplicate icons on mobile. */
      .row-header::before,
      .column-header::before,
      .module-content::before {
        content: none !important; /* hide legacy indicators */
      }

      /* Module item hover effect - consolidated with action display */
      .module-item:hover {
        border-color: var(--primary-color) !important;
      }

      .row-header {
        position: relative;
      }

      .column-header {
        position: relative;
      }

      .module-content {
        position: relative;
      }

      /* Visual feedback during drag */
      .row-builder[draggable='true'][style*='opacity: 0.5'] {
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        border: 2px dashed var(--primary-color) !important;
      }

      .column-builder[draggable='true'][style*='opacity: 0.5'] {
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        border: 2px dashed var(--primary-color) !important;
      }

      .module-item[draggable='true'][style*='opacity: 0.5'] {
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        border: 2px dashed var(--primary-color) !important;
      }

      /* Enhanced modules container styling */
      .modules-container {
        min-height: 80px;
        position: relative;
        transition: all 0.2s ease;
      }

      /* Module Name Field Styling */
      .module-name-input {
        width: 100%;
        max-width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        font-family: inherit;
        box-sizing: border-box;
      }

      .module-name-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .field-help {
        font-size: 12px;
        color: var(--secondary-text-color);
        line-height: 1.4;
        margin-top: 4px;
        font-style: italic;
      }

      /* Note: Image module still shows "Image Name" field from the registry.
         This will need to be addressed in the image module itself to remove
         the duplicate field since we now have universal "Module Name" above. */

      .modules-container:empty {
        border: 2px dashed var(--divider-color);
        background: var(--secondary-background-color);
      }

      .modules-container:empty::before {
        content: 'Drop modules here or click Add Module';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--secondary-text-color);
        font-style: italic;
        font-size: 13px;
        pointer-events: none;
        text-align: center;
      }

      .modules-container::after {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        border: 2px dashed transparent;
        border-radius: 6px;
        pointer-events: none;
        transition: all 0.2s ease;
        z-index: 1;
      }

      .column-builder.drop-target .modules-container::after {
        border-color: var(--primary-color);
        background: rgba(var(--rgb-primary-color), 0.1);
      }

      /* Layout Module Styles - Column-like appearance */
      .layout-module-container {
        border: 2px solid var(--success-color, #4caf50);
        border-radius: 6px;
        background: var(--card-background-color);
        width: 100%;
        box-sizing: border-box;
        overflow: visible;
        margin-bottom: 8px;
      }

      .layout-module-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        font-weight: 500;
        padding: 8px 12px;
        background: var(--success-color, #4caf50);
        color: white;
        border-bottom: 2px solid var(--success-color, #4caf50);
        border-radius: 0px;
      }

      .layout-module-title {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .layout-module-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        color: rgba(255, 255, 255, 0.7);
        cursor: grab;
        opacity: 0.8;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 14px;
      }

      .layout-module-drag-handle:hover {
        opacity: 1;
      }

      .layout-module-drag-handle:active {
        cursor: grabbing;
      }

      .layout-module-actions {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .layout-module-add-btn,
      .layout-module-settings-btn,
      .layout-module-duplicate-btn,
      .layout-module-delete-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
        --mdc-icon-size: 16px;
      }

      .layout-module-add-btn:hover,
      .layout-module-settings-btn:hover,
      .layout-module-duplicate-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .layout-module-delete-btn:hover {
        background: rgba(255, 100, 100, 0.8);
        color: white;
      }

      .layout-modules-container {
        background: var(--card-background-color);
        border: 2px dashed var(--divider-color);
        border-radius: 4px;
        margin: 8px;
        transition: all 0.2s ease;
        position: relative;
      }

      .layout-modules-container:hover {
        border-color: var(--success-color, #4caf50);
        background: rgba(76, 175, 80, 0.05);
      }

      .layout-modules-container.layout-drop-target {
        border-color: var(--primary-color) !important;
        border-width: 3px !important;
        border-style: dashed !important;
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        box-shadow: 0 0 20px rgba(var(--rgb-primary-color), 0.3) !important;
      }

      .layout-module-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        color: var(--secondary-text-color);
        font-style: italic;
        text-align: center;
        padding: 24px;
        width: 100%;
        cursor: pointer;
        user-select: none;
        transition:
          color 0.2s ease,
          opacity 0.2s ease;
      }

      .layout-module-empty ha-icon {
        --mdc-icon-size: 32px;
        opacity: 0.7;
      }

      .layout-module-empty:hover ha-icon {
        opacity: 1;
      }

      .layout-child-module-wrapper {
        width: 100%;
        box-sizing: border-box;
        cursor: grab;
      }

      .layout-child-module-wrapper:active {
        cursor: grabbing;
      }

      /* Simplified layout child module styling */
      .layout-child-simplified-module {
        width: 100%;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        transition: all 0.2s ease;
        cursor: pointer;
        box-sizing: border-box;
        margin-bottom: 8px;
      }

      .layout-child-simplified-module:hover {
        border-color: var(--primary-color);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transform: translateY(-1px);
      }

      .layout-child-simplified-module:hover .layout-child-content {
        color: var(--primary-text-color);
      }

      .layout-child-simplified-module:active {
        cursor: grabbing;
        transform: scale(0.98);
      }

      .layout-child-module-header {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        min-height: 40px;
        box-sizing: border-box;
      }

      .layout-child-icon {
        --mdc-icon-size: 20px;
        color: var(--primary-color);
        flex-shrink: 0;
      }

      .layout-child-content {
        flex: 1;
        min-width: 0;
      }

      .layout-child-title {
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
        margin-bottom: 2px;
      }

      .layout-child-info {
        font-size: 12px;
        color: var(--secondary-text-color);
        line-height: 1.3;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .layout-child-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        color: var(--secondary-text-color);
        cursor: grab;
        opacity: 0.6;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 14px;
      }

      .layout-child-drag-handle:hover {
        opacity: 1;
        color: var(--primary-color);
      }

      .layout-child-drag-handle:active {
        cursor: grabbing;
      }

      .layout-child-actions {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .layout-child-action-btn {
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
        --mdc-icon-size: 14px;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .layout-child-action-btn.edit-btn:hover {
        background: var(--primary-color);
        color: white;
      }

      .layout-child-action-btn.delete-btn:hover {
        background: var(--error-color);
        color: white;
      }

      /* Drag handle for touch devices */
      @media (hover: none) {
        /* On touch devices, show action buttons on tap/focus */
        .module-item:active .module-hover-overlay,
        .module-item:focus-within .module-hover-overlay {
          opacity: 1;
          visibility: visible;
        }

        .module-action-btn {
          width: 36px;
          height: 36px;
        }

        .module-action-btn ha-icon {
          --mdc-icon-size: 20px;
        }
      }
    `}async _handleBackgroundImageUpload(e){var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(i&&this.hass)try{const e=await(0,g.m)(this.hass,i);this._updateModule({background_image:e,background_image_type:"upload"})}catch(e){console.error("Background image upload failed:",e),alert(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}_truncatePath(e){return e?e.length<=30?e:"..."+e.slice(-27):""}_getBackgroundSizeDropdownValue(e){return e?["cover","contain","auto"].includes(e)?e:"custom":"cover"}_getCustomSizeValue(e,t){if(!e||["cover","contain","auto"].includes(e))return"";if("custom"===e)return"";const i=e.split(" ");return"width"===t?i[0]||"":"height"===t&&(i[1]||i[0])||""}};f([(0,o.MZ)({attribute:!1})],w.prototype,"hass",void 0),f([(0,o.MZ)({attribute:!1})],w.prototype,"config",void 0),f([(0,o.wk)()],w.prototype,"_showModuleSelector",void 0),f([(0,o.wk)()],w.prototype,"_selectedRowIndex",void 0),f([(0,o.wk)()],w.prototype,"_selectedColumnIndex",void 0),f([(0,o.wk)()],w.prototype,"_showModuleSettings",void 0),f([(0,o.wk)()],w.prototype,"_selectedModule",void 0),f([(0,o.wk)()],w.prototype,"_activeModuleTab",void 0),f([(0,o.wk)()],w.prototype,"_activeDesignSubtab",void 0),f([(0,o.wk)()],w.prototype,"_showRowSettings",void 0),f([(0,o.wk)()],w.prototype,"_selectedRowForSettings",void 0),f([(0,o.wk)()],w.prototype,"_activeRowTab",void 0),f([(0,o.wk)()],w.prototype,"_showColumnSettings",void 0),f([(0,o.wk)()],w.prototype,"_selectedColumnForSettings",void 0),f([(0,o.wk)()],w.prototype,"_activeColumnTab",void 0),f([(0,o.wk)()],w.prototype,"_showColumnLayoutSelector",void 0),f([(0,o.wk)()],w.prototype,"_selectedRowForLayout",void 0),f([(0,o.wk)()],w.prototype,"_isPreviewCollapsed",void 0),f([(0,o.wk)()],w.prototype,"_collapsedConditionIds",void 0),f([(0,o.wk)()],w.prototype,"_draggingCondition",void 0),f([(0,o.wk)()],w.prototype,"_draggedItem",void 0),f([(0,o.wk)()],w.prototype,"_dropTarget",void 0),f([(0,o.wk)()],w.prototype,"_selectedLayoutModuleIndex",void 0),f([(0,o.wk)()],w.prototype,"_showLayoutChildSettings",void 0),f([(0,o.wk)()],w.prototype,"_selectedLayoutChild",void 0),f([(0,o.wk)()],w.prototype,"_popupDragState",void 0),f([(0,o.wk)()],w.prototype,"_popupResizeState",void 0),w=f([(0,o.EM)("ultra-layout-tab")],w)},504:(e,t,i)=>{i.d(t,{o:()=>u});var n=i(183),o=i(30),a=i(796),r=i(575),l=i(662),s=i(371),d=i(345),c=i(456);class u extends o.m{constructor(){super(...arguments),this.metadata={type:"text",title:"Text Module",description:"Display custom text content",author:"WJD Designs",version:"1.0.0",icon:"mdi:format-text",category:"content",tags:["text","content","typography","template"]},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1}createDefault(e,t){return{id:e||this.generateId("text"),type:"text",text:"Sample Text",link:"",hide_if_no_link:!1,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},icon:"",icon_position:"before",template_mode:!1,template:"",enable_hover_effect:!0,hover_background_color:"var(--divider-color)",font_size:26,font_weight:"700",text_transform:"uppercase",design:{},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const l=e,s=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Content Configuration -->
        ${this.renderSettingsSection((0,c.kg)("editor.text.content_section.title",s,"Content Configuration"),(0,c.kg)("editor.text.content_section.desc",s,"Configure the text content and basic settings for this module."),[{title:(0,c.kg)("editor.text.text_content",s,"Text Content"),description:(0,c.kg)("editor.text.text_content_desc",s,"Enter the text content to display in this module."),hass:t,data:{text:l.text||""},schema:[this.textField("text")],onChange:e=>o(e.detail.value)}])}

        <!-- Icon Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.text.icon_section.title",s,"Icon Configuration")}
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            ${(0,c.kg)("editor.text.icon_section.desc",s,"Choose an icon to display alongside the text content.")}
          </div>

          ${r.U.renderFieldSection((0,c.kg)("editor.text.icon",s,"Icon"),(0,c.kg)("editor.text.icon_desc",s,"Choose an icon to display alongside the text. Leave empty for no icon."),t,{icon:l.icon||""},[this.iconField("icon")],(e=>o(e.detail.value)))}
          ${l.icon&&""!==l.icon.trim()?n.qy`
                <div style="margin-top: 24px;">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,c.kg)("editor.text.icon_position",s,"Icon Position")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                  >
                    ${(0,c.kg)("editor.text.icon_position_desc",s,"Choose where to position the icon relative to the text.")}
                  </div>
                  <div
                    style="display: flex; gap: 8px; justify-content: flex-start; flex-wrap: wrap;"
                  >
                    <button
                      type="button"
                      style="padding: 8px 12px; border: 2px solid ${"before"===(l.icon_position||"before")?"var(--primary-color)":"var(--divider-color)"}; background: ${"before"===(l.icon_position||"before")?"var(--primary-color)":"transparent"}; color: ${"before"===(l.icon_position||"before")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                      @click=${()=>o({icon_position:"before"})}
                    >
                      <ha-icon
                        icon="mdi:format-align-left"
                        style="font-size: 16px; flex-shrink: 0;"
                      ></ha-icon>
                      <span style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                        >${(0,c.kg)("editor.text.before_text",s,"Before Text")}</span
                      >
                    </button>
                    <button
                      type="button"
                      style="padding: 8px 12px; border: 2px solid ${"after"===(l.icon_position||"before")?"var(--primary-color)":"var(--divider-color)"}; background: ${"after"===(l.icon_position||"before")?"var(--primary-color)":"transparent"}; color: ${"after"===(l.icon_position||"before")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                      @click=${()=>o({icon_position:"after"})}
                    >
                      <ha-icon
                        icon="mdi:format-align-right"
                        style="font-size: 16px; flex-shrink: 0;"
                      ></ha-icon>
                      <span style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                        >${(0,c.kg)("editor.text.after_text",s,"After Text")}</span
                      >
                    </button>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Template Configuration -->
        <div
          class="settings-section template-mode-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,c.kg)("editor.text.template_mode",s,"Template Mode")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,c.kg)("editor.text.template_mode_desc",s,"Use Home Assistant templating syntax to render text")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{template_mode:l.template_mode||!1}}
              .schema=${[{name:"template_mode",label:(0,c.kg)("editor.text.template_mode",s,"Template Mode"),description:(0,c.kg)("editor.text.template_mode_desc",s,"Use Home Assistant templating syntax to render text"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>o({template_mode:e.detail.value.template_mode})}
            ></ha-form>
          </div>

          ${l.template_mode?n.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{template:l.template||""}}
                    .schema=${[{name:"template",label:(0,c.kg)("editor.text.value_template",s,"Value Template"),description:(0,c.kg)("editor.text.value_template_desc",s,"Template to render the text using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>o({template:e.detail.value.template})}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,c.kg)("editor.text.examples_title",s,"Common Examples:")}
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.example') }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,c.kg)("editor.text.example_basic",s,"Basic value")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.example') | int(default=0) }}%
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,c.kg)("editor.text.example_percent",s,"With percent")}
                    </div>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Text Alignment moved to Design tab per spec -->
      </div>
    `}renderActionsTab(e,t,i,n){return l.A.render(e,t,(e=>n(e)))}renderPreview(e,t){var i;const o=e;if(o.hide_if_no_link&&!this.hasActiveLink(o))return n.qy`<div class="text-module-hidden">Hidden (no link)</div>`;const a=o,r=o.design||{},s=(()=>{const e=r.text_align;if(e&&"inherit"!==e)return e;const t=a.text_align;return t&&"inherit"!==t?t:a.alignment&&"inherit"!==a.alignment?a.alignment:"center"})(),c={fontSize:(()=>r.font_size?this.addPixelUnit(r.font_size)||r.font_size:void 0!==a.font_size?`${a.font_size}px`:"26px")(),fontFamily:r.font_family||a.font_family||"inherit",color:r.color||a.color||"inherit",textAlign:s,fontWeight:r.font_weight?r.font_weight:void 0!==a.font_weight?a.font_weight:"700",fontStyle:r.font_style||a.font_style||"inherit",textTransform:r.text_transform?r.text_transform:void 0!==a.text_transform?a.text_transform:"uppercase",textDecoration:"none",lineHeight:r.line_height||a.line_height||"inherit",letterSpacing:r.letter_spacing||a.letter_spacing||"inherit",margin:"0",display:"flex",alignItems:"center",justifyContent:{left:"flex-start",center:"center",right:"flex-end"}[s]||"center",gap:"8px",width:"100%",textShadow:r.text_shadow_h&&r.text_shadow_v?`${r.text_shadow_h||"0"} ${r.text_shadow_v||"0"} ${r.text_shadow_blur||"0"} ${r.text_shadow_color||"rgba(0,0,0,0.5)"}`:a.text_shadow_h&&a.text_shadow_v?`${a.text_shadow_h||"0"} ${a.text_shadow_v||"0"} ${a.text_shadow_blur||"0"} ${a.text_shadow_color||"rgba(0,0,0,0.5)"}`:"none",boxShadow:r.box_shadow_h&&r.box_shadow_v?`${r.box_shadow_h||"0"} ${r.box_shadow_v||"0"} ${r.box_shadow_blur||"0"} ${r.box_shadow_spread||"0"} ${r.box_shadow_color||"rgba(0,0,0,0.1)"}`:a.box_shadow_h&&a.box_shadow_v?`${a.box_shadow_h||"0"} ${a.box_shadow_v||"0"} ${a.box_shadow_blur||"0"} ${a.box_shadow_spread||"0"} ${a.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none"},u=o.icon?n.qy`<ha-icon icon="${o.icon}"></ha-icon>`:"";let p=o.text||"Sample Text";if(o.template_mode&&o.template&&(!this._templateService&&t&&(this._templateService=new d.I(t)),t)){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(o.template),n=`state_text_text_${o.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(o.template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(i=t.__uvc_template_strings)||void 0===i?void 0:i[n];void 0!==a&&""!==String(a).trim()&&(p=String(a))}const g=n.qy`<span>${p}</span>`;let m;m="before"!==o.icon_position&&o.icon_position?"after"===o.icon_position?n.qy`${g}${u}`:g:n.qy`${u}${g}`;const _=this.hasActiveLink(o)?n.qy`<div
          class="${l.A.getClickableClass(o)}"
          style="${l.A.getClickableStyle(o)}"
          @click=${e=>this.handleClick(e,o,t)}
          @dblclick=${e=>this.handleDoubleClick(e,o,t)}
          @mousedown=${e=>this.handleMouseDown(e,o,t)}
          @mouseup=${e=>this.handleMouseUp(e,o,t)}
          @mouseleave=${e=>this.handleMouseLeave(e,o,t)}
          @touchstart=${e=>this.handleTouchStart(e,o,t)}
          @touchend=${e=>this.handleTouchEnd(e,o,t)}
        >
          ${m}
        </div>`:m,h={padding:r.padding_top||r.padding_bottom||r.padding_left||r.padding_right||a.padding_top||a.padding_bottom||a.padding_left||a.padding_right?`${this.addPixelUnit(r.padding_top||a.padding_top)||"8px"} ${this.addPixelUnit(r.padding_right||a.padding_right)||"0px"} ${this.addPixelUnit(r.padding_bottom||a.padding_bottom)||"8px"} ${this.addPixelUnit(r.padding_left||a.padding_left)||"0px"}`:"8px 0",margin:r.margin_top||r.margin_bottom||r.margin_left||r.margin_right||a.margin_top||a.margin_bottom||a.margin_left||a.margin_right?`${this.addPixelUnit(r.margin_top||a.margin_top)||"0px"} ${this.addPixelUnit(r.margin_right||a.margin_right)||"0px"} ${this.addPixelUnit(r.margin_bottom||a.margin_bottom)||"0px"} ${this.addPixelUnit(r.margin_left||a.margin_left)||"0px"}`:"0",background:r.background_color||a.background_color||"inherit",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},a),r),t),backgroundSize:r.background_size||a.background_size||"cover",backgroundPosition:r.background_position||a.background_position||"center",backgroundRepeat:r.background_repeat||a.background_repeat||"no-repeat",border:(r.border_style||a.border_style)&&"none"!==(r.border_style||a.border_style)?`${r.border_width||a.border_width||"1px"} ${r.border_style||a.border_style} ${r.border_color||a.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(r.border_radius||a.border_radius)||"inherit",position:r.position||a.position||"static",top:r.top||a.top||"auto",bottom:r.bottom||a.bottom||"auto",left:r.left||a.left||"auto",right:r.right||a.right||"auto",zIndex:r.z_index||a.z_index||"auto",width:r.width||a.width||"auto",height:r.height||a.height||"auto",maxWidth:r.max_width||a.max_width||"none",maxHeight:r.max_height||a.max_height||"none",minWidth:r.min_width||a.min_width||"auto",minHeight:r.min_height||a.min_height||"auto",overflow:r.overflow||a.overflow||"visible",clipPath:r.clip_path||a.clip_path||"none",backdropFilter:r.backdrop_filter||a.backdrop_filter||"none",boxShadow:r.box_shadow_h&&r.box_shadow_v?`${r.box_shadow_h||"0"} ${r.box_shadow_v||"0"} ${r.box_shadow_blur||"0"} ${r.box_shadow_spread||"0"} ${r.box_shadow_color||"rgba(0,0,0,0.1)"}`:a.box_shadow_h&&a.box_shadow_v?`${a.box_shadow_h||"0"} ${a.box_shadow_v||"0"} ${a.box_shadow_blur||"0"} ${a.box_shadow_spread||"0"} ${a.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};return n.qy`
      <div class="text-module-container" style=${this.styleObjectToCss(h)}>
        <div class="text-module-preview" style=${this.styleObjectToCss(c)}>${_}</div>
      </div>
    `}renderLogicTab(e,t,i,n){return s.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.text&&""!==t.text.trim()||i.push("Text content is required"),t.icon&&""!==t.icon.trim()&&(t.icon.includes(":")||i.push('Icon must be in format "mdi:icon-name" or "hass:icon-name"')),t.link&&""!==t.link.trim())try{new URL(t.link)}catch(e){t.link.startsWith("/")||t.link.startsWith("#")||i.push('Link must be a valid URL or start with "/" for relative paths')}return t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action&&i.push(...this.validateAction(t.tap_action)),t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action&&i.push(...this.validateAction(t.hold_action)),t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action&&i.push(...this.validateAction(t.double_tap_action)),!t.template_mode||t.template&&""!==t.template.trim()||i.push("Template code is required when template mode is enabled"),{valid:0===i.length,errors:i}}hasActiveLink(e){const t=e.link&&""!==e.link.trim(),i=e.tap_action&&"default"!==e.tap_action.action&&"nothing"!==e.tap_action.action,n=e.hold_action&&"default"!==e.hold_action.action&&"nothing"!==e.hold_action.action,o=e.double_tap_action&&"default"!==e.double_tap_action.action&&"nothing"!==e.double_tap_action.action;return t||i||n||o}validateAction(e){const t=[];switch(e.action){case"more-info":case"toggle":e.entity||t.push(`Entity is required for ${e.action} action`);break;case"navigate":e.navigation_path||t.push("Navigation path is required for navigate action");break;case"url":e.url_path||t.push("URL path is required for url action");break;case"perform-action":e.perform_action||e.service||t.push("Action is required for perform-action")}return t}handleClick(e,t,i){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i)}),300)}handleDoubleClick(e,t,i){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i)}handleMouseDown(e,t,i){this.startHold(e,t,i)}handleMouseUp(e,t,i){this.endHold(e,t,i)}handleMouseLeave(e,t,i){this.endHold(e,t,i)}handleTouchStart(e,t,i){this.startHold(e,t,i)}handleTouchEnd(e,t,i){this.endHold(e,t,i)}startHold(e,t,i){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i)}),500)}endHold(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTapAction(e,t,i){this.isHolding||(t.link&&""!==t.link.trim()?t.link.startsWith("http")||t.link.startsWith("https")?window.open(t.link,"_blank"):window.location.href=t.link:t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action&&a.K.handleAction(t.tap_action,i,e.target))}handleDoubleAction(e,t,i){t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action&&a.K.handleAction(t.double_tap_action,i,e.target)}handleHoldAction(e,t,i){t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action&&a.K.handleAction(t.hold_action,i,e.target)}getStyles(){return`\n      .text-module-preview {\n        min-height: 20px;\n        word-wrap: break-word;\n      }\n      \n      .text-module-hidden {\n        color: var(--secondary-text-color);\n        font-style: italic;\n        text-align: center;\n        padding: 12px;\n        background: var(--secondary-background-color);\n        border-radius: 4px;\n      }\n      \n      /* Field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Icon picker specific styling */\n      ha-icon-picker {\n        --ha-icon-picker-width: 100%;\n        --ha-icon-picker-height: 56px;\n      }\n\n      /* Text field and select consistency */\n      ha-textfield,\n      ha-select {\n        --mdc-shape-small: 8px;\n        --mdc-theme-primary: var(--primary-color);\n      }\n\n      code {\n        background: var(--secondary-background-color);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-family: 'Courier New', monospace;\n        font-size: 0.9em;\n        color: var(--primary-color);\n      }\n\n      /* Clickable text hover styles */\n      ${l.A.getHoverStyles()}\n    `}getBackgroundImageCSS(e,t){const i=e.background_image_type,n=e.background_image,o=e.background_image_entity;switch(i){case"upload":if(n)return n.startsWith("/api/image/serve/")?`url("${this.getImageUrl(t,n)}")`:(n.startsWith("data:image/"),`url("${n}")`);break;case"entity":if(o&&t){const e=t.states[o];if(e){const t=e.attributes.entity_picture||e.attributes.image||e.state;if(t&&"unknown"!==t&&"unavailable"!==t)return`url("${t}")`}}break;case"url":if(n)return`url("${n}")`;break;default:return"none"}return"none"}getImageUrl(e,t){if(!t)return"";if(t.startsWith("http"))return t;if(t.startsWith("data:image/"))return t;if(t.includes("/api/image/serve/")){const i=t.match(/\/api\/image\/serve\/([^\/]+)/);if(i&&i[1]){const n=i[1];try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/api/image/serve/${n}/original`}catch(e){return t}}return t}return t.startsWith("/")?`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}${t}`:t}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}}},575:(e,t,i)=>{i.d(t,{U:()=>o});var n=i(183);class o{static renderForm(e,t,i,o,a=!1){return n.qy`
      <ha-form
        .hass=${e}
        .data=${t}
        .schema=${i}
        .computeLabel=${a?this._defaultComputeLabel:this._hideLabels}
        .computeDescription=${a?this._defaultComputeDescription:this._hideDescriptions}
        @value-changed=${o}
      ></ha-form>
    `}static renderFieldSection(e,t,i,a,r,l){return n.qy`
      <div class="field-section" style="margin-bottom: 16px;">
        ${e?n.qy`<div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              ${e}
            </div>`:""}
        ${t?n.qy`<div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              ${t}
            </div>`:""}
        ${o.renderForm(i,a,r,l,!1)}
      </div>
    `}static renderSettingsSection(e,t,i){return n.qy`
      <div
        class="settings-section"
        style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
      >
        ${e?n.qy`
              <div
                class="section-title"
                style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
              >
                ${e}
              </div>
            `:""}
        ${t?n.qy`
              <div
                style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
              >
                ${t}
              </div>
            `:""}
        ${i.map((e=>o.renderFieldSection(e.title,e.description,e.hass,e.data,e.schema,e.onChange)))}
      </div>
    `}static entity(e,t){return{name:e,selector:{entity:t?{domain:t}:{}}}}static text(e,t=!1){return{name:e,selector:{text:t?{multiline:!0}:{}}}}static select(e,t){return{name:e,selector:{select:{options:t,mode:"dropdown"}}}}static icon(e){return{name:e,selector:{icon:{}}}}static boolean(e){return{name:e,selector:{boolean:{}}}}static number(e,t,i,n){const o={};return void 0!==t&&(o.min=t),void 0!==i&&(o.max=i),void 0!==n&&(o.step=n),{name:e,selector:{number:Object.keys(o).length?o:{}}}}static color(e){return{name:e,selector:{color_rgb:{}}}}static grid(e){return{type:"grid",name:"",schema:e}}static expandable(e,t,i){return{type:"expandable",name:e,title:t,schema:i}}static getCleanFormStyles(){return"\n      .field-section {\n        margin-bottom: 16px;\n      }\n\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n       \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Ensure form elements are properly sized */\n      ha-form {\n        display: block;\n        width: 100%;\n      }\n\n      ha-form ha-select,\n      ha-form ha-textfield,\n      ha-form ha-entity-picker,\n      ha-form ha-icon-picker {\n        width: 100%;\n        --mdc-theme-primary: var(--primary-color);\n      }\n    "}static injectCleanFormStyles(){return n.qy`
      <style>
        ${o.getCleanFormStyles()}
      </style>
    `}}o._hideLabels=()=>"",o._defaultComputeLabel=e=>e.name,o._hideDescriptions=()=>"",o._defaultComputeDescription=e=>e.description||""},649:(e,t,i)=>{i.d(t,{f:()=>g});var n=i(183),o=i(30),a=i(796),r=i(57),l=i(662),s=i(371),d=i(400),c=i(345),u=i(987),p=i(456);i(768);class g extends o.m{constructor(){super(...arguments),this.metadata={type:"info",title:"Info Items",description:"Show entity information values",author:"WJD Designs",version:"1.0.0",icon:"mdi:information",category:"data",tags:["info","entity","data","sensors"]},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1}createDefault(e,t){return{id:e||this.generateId("info"),type:"info",info_entities:[{id:this.generateId("entity"),entity:"weather.forecast_home",name:"Temperature",icon:"mdi:thermometer",show_icon:!0,show_name:!0,show_state:!0,show_units:!0,text_size:14,name_size:12,icon_size:26,text_bold:!1,text_italic:!1,text_uppercase:!1,text_strikethrough:!1,name_bold:!1,name_italic:!1,name_uppercase:!1,name_strikethrough:!1,icon_color:"var(--primary-color)",name_color:"var(--secondary-text-color)",text_color:"var(--primary-text-color)",state_color:"var(--primary-text-color)",click_action:"more-info",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:"",icon_position:"left",icon_alignment:"center",content_alignment:"start",overall_alignment:"center",icon_gap:8}],columns:1,gap:12,allow_wrap:!0,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a,r,l,s,d,c;const u=e,g=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en",m=this.createDefault().info_entities[0];let _=u.info_entities[0]?Object.assign(Object.assign({},m),u.info_entities[0]):m;return _=Object.assign(Object.assign({},_),{icon_position:_.icon_position||"left",overall_alignment:_.overall_alignment||"center",icon_alignment:_.icon_alignment||"center",content_alignment:_.content_alignment||"start"}),n.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Entity Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.entity_section.title",g,"ENTITY CONFIGURATION")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{entity:_.entity||""}}
              .schema=${[{name:"entity",label:(0,p.kg)("editor.info.entity",g,"Entity"),description:(0,p.kg)("editor.info.entity_desc",g,"Select the entity to display"),selector:{entity:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>this._handleEntityChange(u,0,e.detail.value.entity,t,o)}
            ></ha-form>
          </div>
        </div>

        <!-- Icon Settings -->
        <div
          class="settings-section icon-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.icon_section.title",g,"Icon Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{show_icon:!1!==_.show_icon}}
              .schema=${[{name:"show_icon",label:(0,p.kg)("editor.info.show_icon",g,"Show Icon"),description:(0,p.kg)("editor.info.show_icon_desc",g,"Display an icon next to the entity value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>this._updateEntity(u,0,{show_icon:e.detail.value.show_icon},o)}
            ></ha-form>
          </div>

          ${!1!==_.show_icon?n.qy`
                <div style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{icon:_.icon||""}}
                    .schema=${[{name:"icon",label:(0,p.kg)("editor.info.icon",g,"Icon"),description:(0,p.kg)("editor.info.icon_desc",g,"Choose an icon to display"),selector:{icon:{}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>this._updateEntity(u,0,{icon:e.detail.value.icon},o)}
                  ></ha-form>
                </div>

                <div style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,p.kg)("editor.info.icon_color",g,"Icon Color")}
                  </div>
                  <ultra-color-picker
                    .value=${_.icon_color||""}
                    .defaultValue=${"var(--primary-color)"}
                    .hass=${t}
                    @value-changed=${e=>this._updateEntity(u,0,{icon_color:e.detail.value},o)}
                  ></ultra-color-picker>
                </div>
              `:""}
        </div>

        <!-- Name Settings -->
        <div
          class="settings-section name-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.name_section.title",g,"Name Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{show_name:!1!==_.show_name}}
              .schema=${[{name:"show_name",label:(0,p.kg)("editor.info.show_name",g,"Show Name"),description:(0,p.kg)("editor.info.show_name_desc",g,"Display the entity name above the value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>this._updateEntity(u,0,{show_name:e.detail.value.show_name},o)}
            ></ha-form>
          </div>

          ${!1!==_.show_name?n.qy`
                <div style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{name:null!==(l=null===(r=u.info_entities[0])||void 0===r?void 0:r.name)&&void 0!==l?l:""}}
                    .schema=${[{name:"name",label:(0,p.kg)("editor.info.custom_name",g,"Custom Name"),description:(0,p.kg)("editor.info.custom_name_desc",g,"Override the entity name with a custom name"),selector:{text:{}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>this._updateEntity(u,0,{name:e.detail.value.name},o)}
                  ></ha-form>
                </div>

                <div style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,p.kg)("editor.info.name_color",g,"Name Color")}
                  </div>
                  <ultra-color-picker
                    .value=${_.name_color||""}
                    .defaultValue=${"var(--secondary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>this._updateEntity(u,0,{name_color:e.detail.value},o)}
                  ></ultra-color-picker>
                </div>
              `:""}
        </div>

        <!-- State Settings -->
        <div
          class="settings-section state-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.state_section.title",g,"State Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{show_state:!1!==_.show_state}}
              .schema=${[{name:"show_state",label:(0,p.kg)("editor.info.show_state",g,"Show State"),description:(0,p.kg)("editor.info.show_state_desc",g,"Display the entity state/value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>this._updateEntity(u,0,{show_state:e.detail.value.show_state},o)}
            ></ha-form>
          </div>

          ${!1!==_.show_state?n.qy`
                <div style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{show_units:!1!==_.show_units}}
                    .schema=${[{name:"show_units",label:(0,p.kg)("editor.info.show_units",g,"Show Units"),description:(0,p.kg)("editor.info.show_units_desc",g,"Display the unit of measurement (if available)"),selector:{boolean:{}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>this._updateEntity(u,0,{show_units:e.detail.value.show_units},o)}
                  ></ha-form>
                </div>
              `:""}
          ${!1!==_.show_state?n.qy`
                <div style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,p.kg)("editor.info.state_color",g,"State Color")}
                  </div>
                  <ultra-color-picker
                    .value=${_.state_color||""}
                    .defaultValue=${"var(--primary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>this._updateEntity(u,0,{state_color:e.detail.value},o)}
                  ></ultra-color-picker>
                </div>
              `:""}
        </div>

        <!-- Template Mode Section -->
        <div
          class="settings-section template-mode-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.template.title",g,"Template Mode")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,p.kg)("editor.info.template.desc",g,"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{template_mode:_.template_mode||!1}}
              .schema=${[{name:"template_mode",label:(0,p.kg)("editor.info.template.mode",g,"Template Mode"),description:(0,p.kg)("editor.info.template.mode_desc",g,"Use Home Assistant templating syntax to format the value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>this._updateEntity(u,0,{template_mode:e.detail.value.template_mode},o)}
            ></ha-form>
          </div>

          ${_.template_mode?n.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{template:_.template||""}}
                    .schema=${[{name:"template",label:(0,p.kg)("editor.info.template.value",g,"Value Template"),description:(0,p.kg)("editor.info.template.value_desc",g,"Template to format the entity value using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>{this._updateEntity(u,0,{template:e.detail.value.template},o),this._handleTemplateChange(e.detail.value.template,u,0,t)}}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,p.kg)("editor.info.examples_title",g,"Common Examples:")}
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.${(null===(s=_.entity)||void 0===s?void 0:s.split(".")[1])||"example"}') }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,p.kg)("editor.info.example_basic",g,"Basic value")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.${(null===(d=_.entity)||void 0===d?void 0:d.split(".")[1])||"example"}') | float(0) }}
                      km
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,p.kg)("editor.info.example_units",g,"With units")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.${(null===(c=_.entity)||void 0===c?void 0:c.split(".")[1])||"example"}') | float(0) |
                      round(1) }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,p.kg)("editor.info.example_round",g,"Round to 1 decimal")}
                    </div>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Size Settings -->
        <div
          class="settings-section size-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.size_section.title",g,"Size Settings")}
          </div>

          <div style="display: flex; flex-direction: column; gap: 20px;">
            ${!1!==_.show_icon?n.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,p.kg)("editor.info.icon_size",g,"Icon Size")}
                    </div>
                    <div class="field-description">
                      ${(0,p.kg)("editor.info.icon_size_desc",g,"Size of the icon in pixels")}
                    </div>
                    <div
                      class="gap-control-container"
                      style="display: flex; align-items: center; gap: 12px;"
                    >
                      <input
                        type="range"
                        class="gap-slider"
                        min="12"
                        max="48"
                        step="1"
                        .value="${Number(_.icon_size)||26}"
                        @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(u,0,{icon_size:i},o)}}
                      />
                      <input
                        type="number"
                        class="gap-input"
                        min="12"
                        max="48"
                        step="1"
                        .value="${Number(_.icon_size)||26}"
                        @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||this._updateEntity(u,0,{icon_size:i},o)}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||26,n="ArrowUp"===e.key?1:-1,a=Math.max(12,Math.min(48,i+n));this._updateEntity(u,0,{icon_size:a},o)}}}
                      />
                      <button
                        class="reset-btn"
                        @click=${()=>this._updateEntity(u,0,{icon_size:26},o)}
                        title="${(0,p.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","26")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                `:""}
            ${!1!==_.show_name?n.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,p.kg)("editor.info.name_size",g,"Name Size")}
                    </div>
                    <div class="field-description">
                      ${(0,p.kg)("editor.info.name_size_desc",g,"Size of the entity name text in pixels")}
                    </div>
                    <div
                      class="gap-control-container"
                      style="display: flex; align-items: center; gap: 12px;"
                    >
                      <input
                        type="range"
                        class="gap-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${_.name_size||12}"
                        @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(u,0,{name_size:i},o)}}
                      />
                      <input
                        type="number"
                        class="gap-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${_.name_size||12}"
                        @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||this._updateEntity(u,0,{name_size:i},o)}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||12,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));this._updateEntity(u,0,{name_size:a},o)}}}
                      />
                      <button
                        class="reset-btn"
                        @click=${()=>this._updateEntity(u,0,{name_size:12},o)}
                        title="${(0,p.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","12")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                `:""}

            <div class="field-container" style="margin-bottom: 24px;">
              <div class="field-title">
                ${(0,p.kg)("editor.info.value_size",g,"Value Size")}
              </div>
              <div class="field-description">
                ${(0,p.kg)("editor.info.value_size_desc",g,"Size of the entity value text in pixels")}
              </div>
              <div
                class="gap-control-container"
                style="display: flex; align-items: center; gap: 12px;"
              >
                <input
                  type="range"
                  class="gap-slider"
                  min="8"
                  max="32"
                  step="1"
                  .value="${_.text_size||14}"
                  @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(u,0,{text_size:i},o)}}
                />
                <input
                  type="number"
                  class="gap-input"
                  min="8"
                  max="32"
                  step="1"
                  .value="${_.text_size||14}"
                  @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||this._updateEntity(u,0,{text_size:i},o)}}
                  @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));this._updateEntity(u,0,{text_size:a},o)}}}
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateEntity(u,0,{text_size:14},o)}
                  title="${(0,p.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            ${!1!==_.show_icon?n.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,p.kg)("editor.info.icon_gap",g,"Icon Gap")}
                    </div>
                    <div class="field-description">
                      ${(0,p.kg)("editor.info.icon_gap_desc",g,"Space between the icon and content in pixels")}
                    </div>
                    <div
                      class="gap-control-container"
                      style="display: flex; align-items: center; gap: 12px;"
                    >
                      <input
                        type="range"
                        class="gap-slider"
                        min="0"
                        max="32"
                        step="1"
                        .value="${_.icon_gap||8}"
                        @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(u,0,{icon_gap:i},o)}}
                      />
                      <input
                        type="number"
                        class="gap-input"
                        min="0"
                        max="32"
                        step="1"
                        .value="${_.icon_gap||8}"
                        @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||this._updateEntity(u,0,{icon_gap:i},o)}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||8,n="ArrowUp"===e.key?1:-1,a=Math.max(0,Math.min(32,i+n));this._updateEntity(u,0,{icon_gap:a},o)}}}
                      />
                      <button
                        class="reset-btn"
                        @click=${()=>this._updateEntity(u,0,{icon_gap:8},o)}
                        title="${(0,p.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","8")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                `:""}
          </div>
        </div>

        <!-- Layout & Positioning Section -->
        <div
          class="settings-section layout-positioning-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.info.layout_section.title",g,"Layout & Positioning")}
          </div>

          <!-- Icon Position -->
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
            >
              ${(0,p.kg)("editor.info.icon_position",g,"Icon Position")}
            </div>
            <div
              class="control-button-group"
              style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; width: 100%;"
            >
              ${[{value:"left",icon:"mdi:arrow-left"},{value:"top",icon:"mdi:arrow-up"},{value:"right",icon:"mdi:arrow-right"},{value:"bottom",icon:"mdi:arrow-down"}].map((e=>n.qy`
                  <button
                    type="button"
                    class="control-btn ${_.icon_position===e.value?"active":""}"
                    @click=${()=>this._updateEntity(u,0,{icon_position:e.value},o)}
                    title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                  >
                    <ha-icon icon="${e.icon}"></ha-icon>
                  </button>
                `))}
            </div>
          </div>

          <!-- Overall Alignment -->
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
            >
              ${(0,p.kg)("editor.info.overall_alignment",g,"Overall Alignment")}
            </div>
            <div
              class="control-button-group"
              style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; width: 100%;"
            >
              ${[{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"}].map((e=>n.qy`
                  <button
                    type="button"
                    class="control-btn ${_.overall_alignment===e.value?"active":""}"
                    @click=${()=>this._updateEntity(u,0,{overall_alignment:e.value},o)}
                    title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                  >
                    <ha-icon icon="${e.icon}"></ha-icon>
                  </button>
                `))}
            </div>
          </div>

          <!-- Icon and Content Alignment Side by Side -->
          <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 32px;"
          >
            <!-- Icon Alignment -->
            <div class="field-group">
              <div
                class="field-title"
                style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
              >
                ${(0,p.kg)("editor.info.icon_alignment",g,"Icon Alignment")}
              </div>
              <div
                class="control-button-group"
                style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;"
              >
                ${[{value:"start",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"end",icon:"mdi:format-align-right"}].map((e=>n.qy`
                    <button
                      type="button"
                      class="control-btn ${_.icon_alignment===e.value?"active":""}"
                      @click=${()=>this._updateEntity(u,0,{icon_alignment:e.value},o)}
                      title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                    >
                      <ha-icon icon="${e.icon}"></ha-icon>
                    </button>
                  `))}
              </div>
            </div>

            <!-- Content Alignment -->
            <div class="field-group">
              <div
                class="field-title"
                style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
              >
                ${(0,p.kg)("editor.info.content_alignment",g,"Content Alignment")}
              </div>
              <div
                class="control-button-group"
                style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;"
              >
                ${[{value:"start",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"end",icon:"mdi:format-align-right"}].map((e=>n.qy`
                    <button
                      type="button"
                      class="control-btn ${_.content_alignment===e.value?"active":""}"
                      @click=${()=>this._updateEntity(u,0,{content_alignment:e.value},o)}
                      title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                    >
                      <ha-icon icon="${e.icon}"></ha-icon>
                    </button>
                  `))}
              </div>
            </div>
          </div>
        </div>
      </div>
    `}renderActionsTab(e,t,i,n){const o=e;return o.info_entities[0]||this.createDefault().info_entities[0],l.A.render(o,t,(e=>n(e)))}renderLogicTab(e,t,i,n){return s.X.render(e,t,(e=>n(e)))}renderInfoActionConfig(e,t,i){return n.qy`
      ${this.renderSingleActionConfig("Tap Action","Action when tapping this info entity",e.tap_action||{action:"nothing"},t,(e=>i({tap_action:e})))}
      ${this.renderSingleActionConfig("Hold Action","Action when holding this info entity",e.hold_action||{action:"nothing"},t,(e=>i({hold_action:e})))}
      ${this.renderSingleActionConfig("Double Tap Action","Action when double-tapping this info entity",e.double_tap_action||{action:"nothing"},t,(e=>i({double_tap_action:e})))}
    `}renderSingleActionConfig(e,t,i,o,a){const r={action_config:"nothing"===(null==i?void 0:i.action)?Object.assign(Object.assign({},i),{action:"default"}):i};return n.qy`
      <div style="margin-bottom: 16px;">
        <ha-form
          .hass=${o}
          .data=${r}
          .schema=${[{name:"action_config",label:"",selector:{ui_action:{actions:["default","more-info","toggle","navigate","url","perform-action","assist"]}}}]}
          .computeLabel=${e=>e.label||""}
          @value-changed=${e=>{var t;const i=null===(t=e.detail.value)||void 0===t?void 0:t.action_config;i&&a(i)}}
        ></ha-form>
      </div>
    `}renderPreview(e,t){var i,o;const a=e,l=a,s=a.design||{},d=(e,t)=>null!=e&&""!==e?"string"==typeof e&&e.includes("px")?e:`${e}px`:null!=t?"string"==typeof t&&t.includes("px")?t:`${t}px`:"inherit",p=e=>{if(s.text_align&&"inherit"!==s.text_align)return s.text_align;const t=e.content_alignment;if("start"===t)return"left";if("end"===t)return"right";if("center"===t)return"center";const i=e.overall_alignment;if(!t&&i){if("left"===i)return"left";if("right"===i)return"right";if("center"===i)return"center"}return"center"},g={padding:s.padding_top||s.padding_bottom||s.padding_left||s.padding_right||l.padding_top||l.padding_bottom||l.padding_left||l.padding_right?`${this.addPixelUnit(s.padding_top||l.padding_top)||"8px"} ${this.addPixelUnit(s.padding_right||l.padding_right)||"0px"} ${this.addPixelUnit(s.padding_bottom||l.padding_bottom)||"8px"} ${this.addPixelUnit(s.padding_left||l.padding_left)||"0px"}`:"8px 0",margin:s.margin_top||s.margin_bottom||s.margin_left||s.margin_right||l.margin_top||l.margin_bottom||l.margin_left||l.margin_right?`${this.addPixelUnit(s.margin_top||l.margin_top)||"0px"} ${this.addPixelUnit(s.margin_right||l.margin_right)||"0px"} ${this.addPixelUnit(s.margin_bottom||l.margin_bottom)||"0px"} ${this.addPixelUnit(s.margin_left||l.margin_left)||"0px"}`:"0",background:s.background_color||l.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},l),s),t),backgroundSize:s.background_size||l.background_size||"cover",backgroundPosition:s.background_position||l.background_position||"center",backgroundRepeat:s.background_repeat||l.background_repeat||"no-repeat",border:(s.border_style||l.border_style)&&"none"!==(s.border_style||l.border_style)?`${s.border_width||l.border_width||"1px"} ${s.border_style||l.border_style} ${s.border_color||l.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(s.border_radius||l.border_radius)||"0",position:s.position||l.position||"relative",top:s.top||l.top||"auto",bottom:s.bottom||l.bottom||"auto",left:s.left||l.left||"auto",right:s.right||l.right||"auto",zIndex:s.z_index||l.z_index||"auto",width:s.width||l.width||"auto",height:s.height||l.height||"auto",maxWidth:s.max_width||l.max_width||"none",maxHeight:s.max_height||l.max_height||"none",minWidth:s.min_width||l.min_width||"none",minHeight:s.min_height||l.min_height||"auto",overflow:s.overflow||l.overflow||"visible",clipPath:s.clip_path||l.clip_path||"none",backdropFilter:s.backdrop_filter||l.backdrop_filter||"none",boxShadow:(s.box_shadow_h||l.box_shadow_h)&&(s.box_shadow_v||l.box_shadow_v)?`${s.box_shadow_h||l.box_shadow_h||"0"} ${s.box_shadow_v||l.box_shadow_v||"0"} ${s.box_shadow_blur||l.box_shadow_blur||"0"} ${s.box_shadow_spread||l.box_shadow_spread||"0"} ${s.box_shadow_color||l.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};return n.qy`
      <div class="info-module-container" style=${this.styleObjectToCss(g)}>
        <div class="info-module-preview">
          <div
            class="info-entities"
            style="
            display: grid;
            grid-template-columns: repeat(${a.columns||1}, 1fr);
            gap: ${a.gap||12}px;
            ${(null===(i=a.info_entities[0])||void 0===i?void 0:i.overall_alignment)?`justify-content: ${"left"===a.info_entities[0].overall_alignment?"start":"right"===a.info_entities[0].overall_alignment?"end":"center"};`:"/* No justify-content - allow Global Design tab control */"}
            ${(null===(o=a.info_entities[0])||void 0===o?void 0:o.overall_alignment)?`justify-items: ${"left"===a.info_entities[0].overall_alignment?"start":"right"===a.info_entities[0].overall_alignment?"end":"center"};`:"/* No justify-items - allow Global Design tab control */"}
          "
          >
            ${a.info_entities.slice(0,3).map(((e,i)=>{var o,l,g,m;const _=this.createDefault().info_entities[0];let h=Object.assign(Object.assign({},_),e);h=Object.assign(Object.assign({},h),{icon_position:h.icon_position||"left",overall_alignment:h.overall_alignment||"center",icon_alignment:h.icon_alignment||"center",content_alignment:h.content_alignment||"start"});const v=null==t?void 0:t.states[h.entity];let b;if(h.template_mode&&h.template){if(!this._templateService&&t&&(this._templateService=new c.I(t)),t){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(h.template),n=`info_entity_${a.id?`${a.id}_${i}`:`${i}`}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(h.template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const r=null===(o=t.__uvc_template_strings)||void 0===o?void 0:o[n];b=void 0!==r&&""!==String(r).trim()?String(r):v?v.state:"N/A"}}else b=v?(0,r.formatEntityState)(t,h.entity,{includeUnit:!1!==h.show_units}):"N/A";const f=void 0!==e.name&&null!==e.name&&""!==String(e.name).trim()?String(e.name):(null===(l=null==v?void 0:v.attributes)||void 0===l?void 0:l.friendly_name)||h.entity,y=h.icon||(null===(g=null==v?void 0:v.attributes)||void 0===g?void 0:g.icon)||"mdi:help-circle",k=h.icon_position||"left",x=h.icon_alignment||"center",w=(h.content_alignment,h.overall_alignment||"center"),$=h.icon_gap||8,z=!1!==h.show_icon?n.qy`
                      <ha-icon
                        icon="${y}"
                        class="entity-icon"
                        style="color: ${s.color||h.icon_color||"var(--primary-color)"}; --mdc-icon-size: ${S=s.font_size,C=h.icon_size||26,null!=S&&""!==S&&"number"==typeof S?`${S}px`:null!=C?"string"==typeof C&&C.includes("px")?C:`${C}px`:"26px"};"
                      ></ha-icon>
                    `:"";var S,C;const A=n.qy`
                <div
                  class="entity-content"
                  style="
                  align-items: ${(e=>{if(s.text_align&&"inherit"!==s.text_align)return"left"===s.text_align?"flex-start":"right"===s.text_align?"flex-end":"center";const t=e.content_alignment;if("start"===t)return"flex-start";if("end"===t)return"flex-end";if("center"===t)return"center";const i=e.overall_alignment;if(!t&&i){if("left"===i)return"flex-start";if("right"===i)return"flex-end";if("center"===i)return"center"}return"center"})(h)};
                  text-align: ${p(h)};
                "
                >
                  ${!1!==h.show_name?n.qy`
                        <div
                          class="entity-name"
                          style="
                    color: ${s.color||h.name_color||"var(--secondary-text-color)"};
                    font-size: ${d(s.font_size,h.name_size||12)};
                    font-weight: ${s.font_weight||(h.name_bold?"bold":"normal")};
                    font-style: ${s.font_style||(h.name_italic?"italic":"normal")};
                    text-transform: ${s.text_transform||(h.name_uppercase?"uppercase":"none")};
                    text-decoration: ${h.name_strikethrough?"line-through":"none"};
                    font-family: ${s.font_family||"inherit"};
                    line-height: ${s.line_height||"inherit"};
                    letter-spacing: ${s.letter_spacing||"inherit"};
                    text-align: ${p(h)};
                  "
                        >
                          ${f}
                        </div>
                      `:""}
                  ${!1!==h.show_state?n.qy`
                        <div
                          class="entity-value"
                          style="
                        color: ${s.color||h.state_color||h.text_color||"var(--primary-text-color)"};
                        font-size: ${d(s.font_size,h.text_size||14)};
                        font-weight: ${s.font_weight||(h.text_bold?"bold":"normal")};
                        font-style: ${s.font_style||(h.text_italic?"italic":"normal")};
                        text-transform: ${s.text_transform||(h.text_uppercase?"uppercase":"none")};
                        text-decoration: ${h.text_strikethrough?"line-through":"none"};
                        font-family: ${s.font_family||"inherit"};
                        line-height: ${s.line_height||"inherit"};
                        letter-spacing: ${s.letter_spacing||"inherit"};
                        text-align: ${p(h)};
                      "
                        >
                          ${b}
                        </div>
                      `:""}
                </div>
              `,j=null===(m=a.design)||void 0===m?void 0:m.hover_effect,T=u.k.getHoverEffectClass(j);var I;return(null==(I=a)?void 0:I.tap_action)&&"nothing"!==I.tap_action.action||(null==I?void 0:I.hold_action)&&"nothing"!==I.hold_action.action||(null==I?void 0:I.double_tap_action)&&"nothing"!==I.double_tap_action.action?n.qy`<div
                    class="info-entity-clickable position-${k} ${T}"
                    style="
                    display: flex;
                    flex-direction: ${"top"===k||"bottom"===k?"column":"row"};
                    align-items: ${"start"===x?"flex-start":"end"===x?"flex-end":"center"};
                    justify-content: ${"left"===w?"flex-start":"right"===w?"flex-end":"center"};
                    gap: ${$}px;
                    padding: 4px;
                    border-radius: 4px;
                    cursor: pointer;
                    user-select: none;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                  "
                    @click=${e=>this.handleClick(e,a,t)}
                    @dblclick=${e=>this.handleDoubleClick(e,a,t)}
                    @mousedown=${e=>this.handleMouseDown(e,a,t)}
                    @mouseup=${e=>this.handleMouseUp(e,a,t)}
                    @mouseleave=${e=>this.handleMouseLeave(e,a,t)}
                    @touchstart=${e=>this.handleTouchStart(e,a,t)}
                    @touchend=${e=>this.handleTouchEnd(e,a,t)}
                  >
                    ${"left"===k||"top"===k?n.qy`${z}${A}`:n.qy`${A}${z}`}
                  </div>`:n.qy`<div
                    class="info-entity-item position-${k} ${T}"
                    style="
                    display: flex;
                    flex-direction: ${"top"===k||"bottom"===k?"column":"row"};
                    align-items: ${"start"===x?"flex-start":"end"===x?"flex-end":"center"};
                    justify-content: ${"left"===w?"flex-start":"right"===w?"flex-end":"center"};
                    gap: ${$}px;
                    padding: 4px;
                    border-radius: 4px;
                  "
                  >
                    ${"left"===k||"top"===k?n.qy`${z}${A}`:n.qy`${A}${z}`}
                  </div>`}))}
            ${a.info_entities.length>3?n.qy`
                  <div class="more-entities">+${a.info_entities.length-3} more</div>
                `:""}
          </div>
        </div>
      </div>
    `}validate(e){const t=e,i=[...super.validate(e).errors];return t.info_entities&&0!==t.info_entities.length||i.push("At least one info entity is required"),t.info_entities.forEach(((e,t)=>{e.entity&&""!==e.entity.trim()||i.push(`Entity ${t+1}: Entity ID is required`)})),{valid:0===i.length,errors:i}}getStyles(){return"\n      .info-module-preview {\n        padding: 8px;\n        min-height: 40px;\n      }\n      \n      .info-entities {\n        width: 100%;\n      }\n      \n      .info-entity-item {\n        min-width: 0;\n        flex: 1;\n      }\n      \n      .entity-content {\n        display: flex;\n        flex-direction: column;\n        gap: 2px;\n        min-width: 0;\n        flex: 1;\n      }\n      \n      .entity-icon {\n        flex-shrink: 0;\n      }\n      \n      .entity-name {\n        font-size: 12px;\n        line-height: 1.2;\n      }\n      \n      .entity-value {\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 1.2;\n      }\n      \n      .more-entities {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 8px;\n        color: var(--secondary-text-color);\n        font-size: 12px;\n        font-style: italic;\n      }\n      \n      .info-entities-section,\n      .layout-section {\n        margin-top: 16px;\n        padding-top: 16px;\n        border-top: 1px solid var(--divider-color);\n      }\n      \n      .info-entities-section:first-child {\n        margin-top: 0;\n        padding-top: 0;\n        border-top: none;\n      }\n      \n      .info-entities-section h4,\n      .layout-section h4 {\n        margin: 0 0 12px 0;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-text-color);\n      }\n      \n      .entity-item {\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        padding: 12px;\n        margin-bottom: 12px;\n        background: var(--card-background-color);\n      }\n      \n      .entity-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 12px;\n        font-weight: 500;\n        font-size: 14px;\n      }\n      \n      .remove-entity-btn {\n        background: none;\n        border: none;\n        color: var(--error-color);\n        cursor: pointer;\n        padding: 4px;\n        border-radius: 4px;\n        font-size: 14px;\n      }\n      \n      .remove-entity-btn:disabled {\n        opacity: 0.3;\n        cursor: not-allowed;\n      }\n      \n      .add-entity-btn {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        width: 100%;\n        padding: 12px;\n        border: 2px dashed var(--primary-color);\n        border-radius: 8px;\n        background: none;\n        color: var(--primary-color);\n        cursor: pointer;\n        font-size: 14px;\n        font-weight: 500;\n      }\n      \n      .add-entity-btn:hover {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      .entity-display-options {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 8px;\n        margin: 8px 0;\n      }\n      \n      /* Control button styles */\n      .control-btn {\n        padding: 8px 4px;\n        border: 1px solid var(--divider-color);\n        background: var(--card-background-color);\n        color: var(--primary-text-color);\n        border-radius: 4px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        user-select: none;\n        font-size: 10px;\n      }\n      \n      .control-btn:hover:not(.active) {\n        border-color: var(--primary-color) !important;\n        background: var(--primary-color) !important;\n        color: white !important;\n        opacity: 0.8;\n      }\n      \n      .control-btn.active {\n        border-color: var(--primary-color);\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      .control-btn ha-icon {\n        font-size: 14px;\n      }\n      \n      .control-button-group {\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        border-radius: 4px;\n        overflow: hidden;\n      }\n      \n      .control-button-group .control-btn:not(:last-child) {\n        border-right: none;\n      }\n      \n      .control-button-group .control-btn:first-child {\n        border-radius: 4px 0 0 4px;\n      }\n      \n      .control-button-group .control-btn:last-child {\n        border-radius: 0 4px 4px 0;\n      }\n      \n      .control-button-group .control-btn:only-child {\n        border-radius: 4px;\n      }\n      \n      /* Position-specific layout styles */\n      .position-left {\n        flex-direction: row;\n      }\n      \n      .position-right {\n        flex-direction: row-reverse;\n      }\n      \n      .position-top {\n        flex-direction: column;\n      }\n      \n      .position-bottom {\n        flex-direction: column-reverse;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Legacy hover effects removed - now handled by new hover effects system */\n    "}hasActiveActions(e){const t=e.tap_action&&"default"!==e.tap_action.action&&"nothing"!==e.tap_action.action,i=e.hold_action&&"default"!==e.hold_action.action&&"nothing"!==e.hold_action.action,n=e.double_tap_action&&"default"!==e.double_tap_action.action&&"nothing"!==e.double_tap_action.action;return t||i||n}handleClick(e,t,i){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i)}),300)}handleDoubleClick(e,t,i){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i)}handleMouseDown(e,t,i){this.startHold(e,t,i)}handleMouseUp(e,t,i){this.endHold(e,t,i)}handleMouseLeave(e,t,i){this.endHold(e,t,i)}handleTouchStart(e,t,i){this.startHold(e,t,i)}handleTouchEnd(e,t,i){this.endHold(e,t,i)}startHold(e,t,i){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i)}),500)}endHold(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTapAction(e,t,i){this.isHolding||t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action&&a.K.handleAction(t.tap_action,i,e.target)}handleDoubleAction(e,t,i){t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action&&a.K.handleAction(t.double_tap_action,i,e.target)}handleHoldAction(e,t,i){t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action&&a.K.handleAction(t.hold_action,i,e.target)}_addEntity(e,t){const i={id:this.generateId("entity"),entity:"weather.forecast_home",name:"Temperature",icon:"mdi:thermometer",show_icon:!0,show_name:!0,show_state:!0,text_size:14,name_size:12,icon_size:26,text_bold:!1,text_italic:!1,text_uppercase:!1,text_strikethrough:!1,name_bold:!1,name_italic:!1,name_uppercase:!1,name_strikethrough:!1,icon_color:"var(--primary-color)",name_color:"var(--secondary-text-color)",text_color:"var(--primary-text-color)",state_color:"var(--primary-text-color)",click_action:"more-info",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:"",icon_position:"left",icon_alignment:"center",content_alignment:"start",overall_alignment:"center",icon_gap:8};t({info_entities:[...e.info_entities,i]})}_removeEntity(e,t,i){e.info_entities.length<=1||i({info_entities:e.info_entities.filter(((e,i)=>i!==t))})}_handleEntityChange(e,t,i,n,o){var a;const r={entity:i};if(i&&(null==n?void 0:n.states[i])){const e=(null===(a=n.states[i].attributes)||void 0===a?void 0:a.friendly_name)||i.split(".").pop()||"",t=d.s.getEntityIcon(i,n);r.name=e,t&&(r.icon=t)}this._updateEntity(e,t,r,o)}_updateEntity(e,t,i,n){if(!e.info_entities||0===e.info_entities.length){const t=this.createDefault().info_entities[0];return e.info_entities=[Object.assign(Object.assign({},t),i)],void n({info_entities:e.info_entities})}if(t>=e.info_entities.length){const i=this.createDefault().info_entities[0];for(;e.info_entities.length<=t;)e.info_entities.push(Object.assign({},i))}n({info_entities:e.info_entities.map(((e,n)=>n===t?Object.assign(Object.assign({},e),i):e))})}getBackgroundImageCSS(e,t){var i,n;if(!e.background_image_type||"none"===e.background_image_type)return"none";switch(e.background_image_type){case"upload":case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const o=t.states[e.background_image_entity];let a="";if((null===(i=o.attributes)||void 0===i?void 0:i.entity_picture)?a=o.attributes.entity_picture:(null===(n=o.attributes)||void 0===n?void 0:n.image)?a=o.attributes.image:o.state&&"string"==typeof o.state&&(o.state.startsWith("/")||o.state.startsWith("http"))&&(a=o.state),a)return a.startsWith("/local/")||a.startsWith("/media/")||a.startsWith("/"),`url("${a}")`}}return"none"}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}async _handleTemplateChange(e,t,i,n){if(e&&n)try{const o=await n.callApi("POST","template",{template:e});n.__uvc_template_strings||(n.__uvc_template_strings={});const a=this._hashString(e),r=`info_entity_${t.id?`${t.id}_${i}`:`${i}`}_${a}`;n.__uvc_template_strings[r]=o,"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}catch(e){}}}},662:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(183),o=i(456);i(768);class a{static render(e,t,i,a){var r;if(!("tap_action"in e)||!("hold_action"in e)||!("double_tap_action"in e)){const t={};"tap_action"in e||(t.tap_action={action:"default"}),"hold_action"in e||(t.hold_action={action:"default"}),"double_tap_action"in e||(t.double_tap_action={action:"default"}),Object.keys(t).length&&i(t)}const l={tap_action:e.tap_action||{action:"default"},hold_action:e.hold_action||{action:"default"},double_tap_action:e.double_tap_action||{action:"default"}},s=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en",d=a||(0,o.kg)("editor.actions.title",s,"Actions Configuration");return n.qy`
      <div class="global-actions-tab">
        <style>
          .global-actions-tab {
            padding: 0px;
          }

          .actions-section {
            background: var(--secondary-background-color);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
          }

          .section-header {
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);
          }

          .section-header h4 {
            margin: 0;
            color: var(--primary-text-color);
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          .section-header p {
            margin: 6px 0 0 0;
            color: var(--secondary-text-color);
            font-size: 13px;
            line-height: 1.4;
          }

          .action-form {
            margin-bottom: 20px;
          }

          .action-description {
            color: var(--secondary-text-color);
            font-size: 13px;
            margin-bottom: 16px;
            line-height: 1.4;
            font-style: italic;
          }

          /* Allow native HA form styling to show through */
          .global-actions-tab ha-form {
            display: block;
            margin: 0;
            padding: 0;
          }

          /* Style native expansion panels if they appear */
          .global-actions-tab ha-expansion-panel {
            margin-bottom: 8px;
          }

          /* Style the action selectors */
          ha-form .mdc-text-field,
          ha-form .mdc-select,
          ha-form ha-selector {
            margin-top: 0 !important;
          }

          ha-form .mdc-text-field--outlined .mdc-notched-outline {
            border-radius: 6px;
          }

          /* Hide any blank list items generated by selector internals */
          .global-actions-tab ha-select ha-list-item:not([value]),
          .global-actions-tab ha-select ha-list-item[value=''],
          .global-actions-tab ha-select ha-list-item[aria-label=''],
          .global-actions-tab ha-select .mdc-deprecated-list-item:not([data-value]),
          .global-actions-tab ha-select .mdc-deprecated-list-item[data-value=''],
          .global-actions-tab ha-select .mdc-list-item:not([data-value]),
          .global-actions-tab ha-select .mdc-list-item[data-value=''] {
            display: none !important;
          }

          /* Hide unwanted action options */
          .global-actions-tab ha-form mwc-list-item[value='toggle'],
          .global-actions-tab
            ha-form
            mwc-list-item[graphic='icon']:has(ha-icon[icon='mdi:gesture-tap']),
          .global-actions-tab ha-form .mdc-deprecated-list-item[data-value='toggle'],
          .global-actions-tab ha-form .mdc-list-item[data-value='toggle'],
          .global-actions-tab ha-form option[value='toggle'] {
            display: none !important;
          }

          /* Hide "Default ()" option - target by text content */
          .global-actions-tab ha-form mwc-list-item:has-text('Default ()'),
          .global-actions-tab ha-form .mdc-deprecated-list-item:has-text('Default ()'),
          .global-actions-tab ha-form .mdc-list-item:has-text('Default ()'),
          .global-actions-tab ha-form option:has-text('Default ()') {
            display: none !important;
          }

          /* Alternative approach using CSS attribute selectors for text content */
          .global-actions-tab ha-form mwc-list-item[textContent*='Default ()'],
          .global-actions-tab ha-form .mdc-deprecated-list-item[textContent*='Default ()'],
          .global-actions-tab ha-form .mdc-list-item[textContent*='Default ()'] {
            display: none !important;
          }

          /* Style the ha-select dropdown */
          ha-select {
            width: 100%;
            display: block;
            --mdc-theme-surface: var(--card-background-color);
            --mdc-theme-primary: var(--primary-color);
            --mdc-select-fill-color: var(--input-fill-color, transparent);
            --mdc-select-outlined-idle-border-color: var(--input-idle-line-color);
            --mdc-select-outlined-hover-border-color: var(--input-hover-line-color);
            --mdc-select-dropdown-icon-color: var(--secondary-text-color);
            --mdc-select-label-ink-color: var(--secondary-text-color);
            --mdc-select-ink-color: var(--primary-text-color);
          }
        </style>

        <div class="actions-section">
          <div class="section-header">
            <h4>
              <ha-icon icon="mdi:gesture-tap"></ha-icon>
              ${d}
            </h4>
            <p>
              ${(0,o.kg)("editor.actions.description",s,"Configure how this module responds to user interactions. Uses Home Assistant's native action system for consistent behavior across your dashboard.")}
            </p>
          </div>

          ${this.renderActionConfig((0,o.kg)("editor.actions.tap_action",s,"Tap Action"),(0,o.kg)("editor.actions.tap_action_desc",s,"Action performed when tapping/clicking the module"),l.tap_action,t,(e=>i({tap_action:e})))}
          ${this.renderActionConfig((0,o.kg)("editor.actions.hold_action",s,"Hold Action"),(0,o.kg)("editor.actions.hold_action_desc",s,"Action performed when holding down on the module"),l.hold_action,t,(e=>i({hold_action:e})))}
          ${this.renderActionConfig((0,o.kg)("editor.actions.double_tap_action",s,"Double Tap Action"),(0,o.kg)("editor.actions.double_tap_action_desc",s,"Action performed when double-tapping the module"),l.double_tap_action,t,(e=>i({double_tap_action:e})))}
        </div>

        <!-- Hover Effects Section -->
        ${this.renderHoverEffectsSection(e,t,i)}
      </div>
    `}static getClickableClass(e){return(null==e?void 0:e.tap_action)&&"nothing"!==e.tap_action.action||(null==e?void 0:e.hold_action)&&"nothing"!==e.hold_action.action||(null==e?void 0:e.double_tap_action)&&"nothing"!==e.double_tap_action.action?"graphs-module-clickable":""}static getClickableStyle(e){return""}static getHoverStyles(){return""}static renderActionConfig(e,t,i,o,a){const r="nothing"===(null==i?void 0:i.action)?Object.assign(Object.assign({},i),{action:"default"}):i;try{o.services}catch(e){}return n.qy`
      <div class="action-form">
        <div class="action-description">${t}</div>

        <div style="margin-bottom: 12px;">
          <div
            style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--primary-text-color);"
          >
            ${e}
          </div>
          <ha-form
            .hass=${o}
            .data=${{action_config:r}}
            .schema=${[{name:"action_config",label:"",selector:{ui_action:{actions:["more-info","toggle","navigate","url","perform-action","assist"]}}}]}
            .computeLabel=${this.computeLabel}
            @value-changed=${e=>{var t,i;const n=null===(i=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===i?void 0:i.action_config;n&&a(n)}}
          ></ha-form>
        </div>

        ${"more-info"===(null==i?void 0:i.action)?n.qy`
              <div
                class="conditional-fields-group"
                style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
              >
                <div
                  class="conditional-fields-header"
                  style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                >
                  More Info Configuration
                </div>
                <div class="conditional-fields-content" style="padding: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    Entity
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
                  >
                    Select which entity to show more information for
                  </div>
                  <ha-form
                    .hass=${o}
                    .data=${{entity:i.entity||""}}
                    .schema=${[{name:"entity",label:"Entity",selector:{entity:{}}}]}
                    .computeLabel=${this.computeLabel}
                    @value-changed=${e=>{var t,n;const o=null===(n=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===n?void 0:n.entity;a(Object.assign(Object.assign({},i),{entity:o}))}}
                  ></ha-form>
                </div>
              </div>
            `:""}
      </div>
    `}static renderHoverEffectsSection(e,t,i){var a;const r=e.design||{},l=r.hover_effect||{effect:"none"},s=e=>{const t=Object.assign(Object.assign({},l),e);if(Object.keys(t).forEach((e=>{const i=t[e];""!==i&&null!=i||delete t[e]})),"none"===t.effect){const e=Object.assign({},r);delete e.hover_effect,i({design:e})}else{const e=Object.assign(Object.assign({},r),{hover_effect:t});i({design:e})}},d=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en",c=[{value:"none",label:(0,o.kg)("editor.hover_effects.effects.none",d,"None")},{value:"highlight",label:(0,o.kg)("editor.hover_effects.effects.highlight",d,"Highlight")},{value:"outline",label:(0,o.kg)("editor.hover_effects.effects.outline",d,"Outline")},{value:"grow",label:(0,o.kg)("editor.hover_effects.effects.grow",d,"Grow")},{value:"shrink",label:(0,o.kg)("editor.hover_effects.effects.shrink",d,"Shrink")},{value:"pulse",label:(0,o.kg)("editor.hover_effects.effects.pulse",d,"Pulse")},{value:"bounce",label:(0,o.kg)("editor.hover_effects.effects.bounce",d,"Bounce")},{value:"float",label:(0,o.kg)("editor.hover_effects.effects.float",d,"Float")},{value:"glow",label:(0,o.kg)("editor.hover_effects.effects.glow",d,"Glow")},{value:"shadow",label:(0,o.kg)("editor.hover_effects.effects.shadow",d,"Shadow")},{value:"rotate",label:(0,o.kg)("editor.hover_effects.effects.rotate",d,"Rotate")},{value:"skew",label:(0,o.kg)("editor.hover_effects.effects.skew",d,"Skew")},{value:"wobble",label:(0,o.kg)("editor.hover_effects.effects.wobble",d,"Wobble")},{value:"buzz",label:(0,o.kg)("editor.hover_effects.effects.buzz",d,"Buzz")},{value:"fade",label:(0,o.kg)("editor.hover_effects.effects.fade",d,"Fade")}];return n.qy`
      <div class="actions-section" style="margin-top: 20px;">
        <div class="section-header">
          <h4>
            <ha-icon icon="mdi:cursor-default-gesture"></ha-icon>
            ${(0,o.kg)("editor.hover_effects.title",d,"Hover Effects")}
          </h4>
          <p>
            ${(0,o.kg)("editor.hover_effects.description",d,"Configure visual effects that appear when hovering over this module, row, or column.")}
          </p>
        </div>

        <!-- Effect Type Selection -->
        <div class="action-form">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,o.kg)("editor.hover_effects.effect",d,"Hover Effect")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
          >
            ${(0,o.kg)("editor.hover_effects.effect_desc",d,"Select the visual effect to apply when hovering")}
          </div>
          <ha-form
            .hass=${t}
            .data=${{effect:l.effect||"none"}}
            .schema=${[{name:"effect",label:"",selector:{select:{options:c,mode:"dropdown"}}}]}
            .computeLabel=${this.computeLabel}
            @value-changed=${e=>{var t,i;const n=null===(i=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===i?void 0:i.effect;n&&s({effect:n})}}
          ></ha-form>
        </div>

        ${l.effect&&"none"!==l.effect?n.qy`
              <!-- Timing and Duration Settings -->
              <div
                class="conditional-fields-group"
                style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
              >
                <div
                  class="conditional-fields-header"
                  style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                >
                  ${(0,o.kg)("editor.hover_effects.animation_settings",d,"Animation Settings")}
                </div>
                <div class="conditional-fields-content" style="padding: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{duration:l.duration||300,timing:l.timing||"ease",intensity:l.intensity||"normal"}}
                    .schema=${[{name:"duration",label:(0,o.kg)("editor.hover_effects.duration",d,"Duration (ms)"),selector:{number:{min:100,max:2e3,step:50}}},{name:"timing",label:(0,o.kg)("editor.hover_effects.timing",d,"Timing Function"),selector:{select:{options:[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"}],mode:"dropdown"}}},{name:"intensity",label:(0,o.kg)("editor.hover_effects.intensity",d,"Intensity"),selector:{select:{options:[{value:"subtle",label:"Subtle"},{value:"normal",label:"Normal"},{value:"strong",label:"Strong"}],mode:"dropdown"}}}]}
                    .computeLabel=${this.computeLabel}
                    @value-changed=${e=>{var t;const i=null===(t=e.detail)||void 0===t?void 0:t.value;i&&s(i)}}
                  ></ha-form>
                </div>
              </div>

              <!-- Color Settings for Specific Effects -->
              ${"highlight"===l.effect?n.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,o.kg)("editor.hover_effects.highlight_settings",d,"Highlight Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.highlight_color",d,"Highlight Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.highlight_color_desc",d,"Background color to show when hovering")}
                          </div>
                          <ultra-color-picker
                            .value=${l.highlight_color||""}
                            .defaultValue=${"rgba(var(--rgb-primary-color), 0.2)"}
                            .hass=${t}
                            @value-changed=${e=>s({highlight_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      </div>
                    </div>
                  `:""}
              ${"outline"===l.effect?n.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,o.kg)("editor.hover_effects.outline_settings",d,"Outline Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.outline_color",d,"Outline Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.outline_color_desc",d,"Color of the outline border")}
                          </div>
                          <ultra-color-picker
                            .value=${l.outline_color||""}
                            .defaultValue=${"var(--primary-color)"}
                            .hass=${t}
                            @value-changed=${e=>s({outline_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                        <ha-form
                          .hass=${t}
                          .data=${{outline_width:l.outline_width||2}}
                          .schema=${[{name:"outline_width",label:(0,o.kg)("editor.hover_effects.outline_width",d,"Outline Width (px)"),selector:{number:{min:1,max:10,step:1}}}]}
                          .computeLabel=${this.computeLabel}
                          @value-changed=${e=>{var t,i;const n=null===(i=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===i?void 0:i.outline_width;n&&s({outline_width:n})}}
                        ></ha-form>
                      </div>
                    </div>
                  `:""}
              ${"glow"===l.effect?n.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,o.kg)("editor.hover_effects.glow_settings",d,"Glow Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.glow_color",d,"Glow Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.glow_color_desc",d,"Color of the glow effect")}
                          </div>
                          <ultra-color-picker
                            .value=${l.glow_color||""}
                            .defaultValue=${"var(--primary-color)"}
                            .hass=${t}
                            @value-changed=${e=>s({glow_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      </div>
                    </div>
                  `:""}
              ${"shadow"===l.effect?n.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,o.kg)("editor.hover_effects.shadow_settings",d,"Shadow Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.shadow_color",d,"Shadow Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,o.kg)("editor.hover_effects.shadow_color_desc",d,"Color of the shadow effect")}
                          </div>
                          <ultra-color-picker
                            .value=${l.shadow_color||""}
                            .defaultValue=${"rgba(0, 0, 0, 0.3)"}
                            .hass=${t}
                            @value-changed=${e=>s({shadow_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      </div>
                    </div>
                  `:""}
            `:""}
      </div>
    `}}a.computeLabel=e=>{var t;return Object.prototype.hasOwnProperty.call(e,"label")&&null!==(t=e.label)&&void 0!==t?t:""}},679:(e,t,i)=>{i.d(t,{Q:()=>j});var n=i(183),o=i(30),a=i(914),r=i(662),l=i(371),s=i(796),d=(i(768),i(276)),c=i(247),u=i(201);const{I:p}=c.ge,g=()=>document.createComment(""),m=(e,t,i)=>{const n=e._$AA.parentNode,o=void 0===t?e._$AB:t._$AA;if(void 0===i){const t=n.insertBefore(g(),o),a=n.insertBefore(g(),o);i=new p(t,a,e,e.options)}else{const t=i._$AB.nextSibling,a=i._$AM,r=a!==e;if(r){let t;i._$AQ?.(e),i._$AM=e,void 0!==i._$AP&&(t=e._$AU)!==a._$AU&&i._$AP(t)}if(t!==o||r){let e=i._$AA;for(;e!==t;){const t=e.nextSibling;n.insertBefore(e,o),e=t}}}return i},_=(e,t,i=e)=>(e._$AI(t,i),e),h={},v=e=>{e._$AP?.(!1,!0);let t=e._$AA;const i=e._$AB.nextSibling;for(;t!==i;){const e=t.nextSibling;t.remove(),t=e}},b=(e,t,i)=>{const n=new Map;for(let o=t;o<=i;o++)n.set(e[o],o);return n},f=(0,u.u$)(class extends u.WL{constructor(e){if(super(e),e.type!==u.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,i){let n;void 0===i?i=t:void 0!==t&&(n=t);const o=[],a=[];let r=0;for(const t of e)o[r]=n?n(t,r):r,a[r]=i(t,r),r++;return{values:a,keys:o}}render(e,t,i){return this.dt(e,t,i).values}update(e,[t,i,n]){const o=e._$AH,{values:a,keys:r}=this.dt(t,i,n);if(!Array.isArray(o))return this.ut=r,a;const l=this.ut??=[],s=[];let d,u,p=0,g=o.length-1,f=0,y=a.length-1;for(;p<=g&&f<=y;)if(null===o[p])p++;else if(null===o[g])g--;else if(l[p]===r[f])s[f]=_(o[p],a[f]),p++,f++;else if(l[g]===r[y])s[y]=_(o[g],a[y]),g--,y--;else if(l[p]===r[y])s[y]=_(o[p],a[y]),m(e,s[y+1],o[p]),p++,y--;else if(l[g]===r[f])s[f]=_(o[g],a[f]),m(e,o[p],o[g]),g--,f++;else if(void 0===d&&(d=b(r,f,y),u=b(l,p,g)),d.has(l[p]))if(d.has(l[g])){const t=u.get(r[f]),i=void 0!==t?o[t]:null;if(null===i){const t=m(e,o[p]);_(t,a[f]),s[f]=t}else s[f]=_(i,a[f]),m(e,o[p],i),o[t]=null;f++}else v(o[g]),g--;else v(o[p]),p++;for(;f<=y;){const t=m(e,s[y+1]);_(t,a[f]),s[f++]=t}for(;p<=g;){const e=o[p++];null!==e&&v(e)}return this.ut=r,((e,t=h)=>{e._$AH=t})(e,s),c.c0}});var y=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};function k(e,t,i){const n=x(e),o=x(t);return n&&o?(a=Math.round(n.r+(o.r-n.r)*i),r=Math.round(n.g+(o.g-n.g)*i),l=Math.round(n.b+(o.b-n.b)*i),`#${((1<<24)+(a<<16)+(r<<8)+l).toString(16).slice(1)}`):e;var a,r,l}function x(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}let w=4,$=class extends n.WF{constructor(){super(...arguments),this.stops=[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],this.barSize="regular",this.barRadius="round",this.barStyle="flat",this._draggedIndex=null,this._colorPickerOpen=!1,this._colorPickerStopId=null,this._colorPickerCurrentColor="#000000"}render(){const e=[...this.stops].sort(((e,t)=>e.position-t.position));return n.qy`
      <!-- Action Buttons -->
      <div class="buttons-row">
        <button class="add-button" @click=${this._addStop}>
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
          </svg>
          Add Stop
        </button>
        <button class="reset-button" @click=${this._resetStops}>
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
            />
          </svg>
          Reset
        </button>
      </div>

      <!-- Gradient Stops List -->
      <div class="stops-list ${null!==this._draggedIndex?"drag-active":""}">
        ${f(e,(e=>e.id),((t,i)=>this._renderStopItem(t,i,e.length)))}
      </div>

      <!-- Color Picker Popup -->
      ${this._colorPickerOpen?n.qy`
            <div class="color-picker-overlay" @click=${this._closeColorPicker}>
              <div class="color-picker-popup" @click=${e=>e.stopPropagation()}>
                <div class="color-picker-header">
                  <h3>Choose Color</h3>
                  <button class="close-btn" @click=${this._closeColorPicker}>×</button>
                </div>
                <ultra-color-picker
                  .value=${this._colorPickerCurrentColor}
                  .defaultValue=${this._colorPickerCurrentColor}
                  @value-changed=${this._handleColorPickerChange}
                ></ultra-color-picker>
              </div>
            </div>
          `:""}
    `}_renderStopItem(e,t,i){const o=0===e.position||100===e.position,a=this._draggedIndex===t,r=i>2&&!o;return n.qy`
      <div
        class="stop-item ${o?"boundary":""} ${a?"dragging":""}"
        draggable="true"
        @dragstart=${e=>this._handleDragStart(e,t)}
        @dragend=${this._handleDragEnd}
        @dragover=${this._handleDragOver}
        @drop=${e=>this._handleDrop(e,t)}
      >
        <!-- Drag Handle -->
        <div class="drag-handle">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M9 3h2v2H9V3zm4 0h2v2h-2V3zM9 7h2v2H9V7zm4 0h2v2h-2V7zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2z"
            />
          </svg>
        </div>

        <!-- Color Preview & Picker -->
        <div
          class="color-preview color-circle"
          style="background-color: ${e.color}; cursor: pointer;"
          @click=${()=>this._openColorPicker(e.id,e.color)}
        ></div>

        <!-- Percentage Input -->
        <input
          type="number"
          class="percentage-input"
          .value=${e.position.toString()}
          min="0"
          max="100"
          @input=${t=>this._handlePositionChange(e.id,parseFloat(t.target.value)||0)}
          @blur=${this._validateAndSortStops}
        />

        <!-- Stop Info -->
        <div class="stop-info">
          <span>${e.position}%</span>
        </div>

        <!-- Delete Button -->
        <button
          class="delete-button"
          ?disabled=${!r}
          @click=${()=>this._deleteStop(e.id)}
          title=${r?"Delete stop":"Cannot delete boundary stops"}
        >
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
            />
          </svg>
        </button>
      </div>
    `}_addStop(){const e=function(e){if(!e||e.length<2)return{id:"stop-"+w++,position:50,color:"#808080"};const t=[...e].sort(((e,t)=>e.position-t.position));let i=0,n=50,o="#808080";for(let e=0;e<t.length-1;e++){const a=t[e+1].position-t[e].position;a>i&&(i=a,n=t[e].position+a/2,o=k(t[e].color,t[e+1].color,.5))}return{id:"stop-"+w++,position:Math.round(n),color:o}}(this.stops);this.stops=[...this.stops,e],this._notifyChange()}_resetStops(){this.stops=[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],w=4,this._notifyChange(),this._dispatchResetEvent()}_deleteStop(e){if(this.stops.length<=2)return;const t=this.stops.find((t=>t.id===e));t&&0!==t.position&&100!==t.position&&(this.stops=this.stops.filter((t=>t.id!==e)),this._notifyChange())}_handleColorChange(e,t){this.stops=this.stops.map((i=>i.id===e?Object.assign(Object.assign({},i),{color:t}):i)),this._notifyChange()}_openColorPicker(e,t){this._colorPickerStopId=e,this._colorPickerCurrentColor=t,this._colorPickerOpen=!0}_closeColorPicker(){this._colorPickerOpen=!1,this._colorPickerStopId=null}_handleColorPickerChange(e){this._colorPickerStopId&&(this._handleColorChange(this._colorPickerStopId,e.detail.value),this._colorPickerCurrentColor=e.detail.value)}_handlePositionChange(e,t){t=Math.max(0,Math.min(100,t)),this.stops=this.stops.map((i=>i.id===e?Object.assign(Object.assign({},i),{position:t}):i)),this.requestUpdate()}_validateAndSortStops(){this.stops=this.stops.map((e=>0===e.position||"1"===e.id&&e.position<50?Object.assign(Object.assign({},e),{position:0}):100===e.position||"3"===e.id&&e.position>50?Object.assign(Object.assign({},e),{position:100}):e)),this._notifyChange()}_notifyChange(){this.dispatchEvent(new CustomEvent("gradient-changed",{detail:{stops:this.stops},bubbles:!0,composed:!0}))}_dispatchResetEvent(){this.dispatchEvent(new CustomEvent("gradient-stop-reset",{bubbles:!0,composed:!0}))}_handleDragStart(e,t){this._draggedIndex=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.toString()))}_handleDragEnd(){this._draggedIndex=null}_handleDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}_handleDrop(e,t){if(e.preventDefault(),null===this._draggedIndex||this._draggedIndex===t)return;const i=[...this.stops].sort(((e,t)=>e.position-t.position)),n=i[this._draggedIndex],o=i[t];this.stops=this.stops.map((e=>e.id===n.id?Object.assign(Object.assign({},e),{position:o.position}):e.id===o.id?Object.assign(Object.assign({},e),{position:n.position}):e)),this._draggedIndex=null,this._notifyChange()}};$.styles=n.AH`
    :host {
      display: block;
      width: 100%;
      font-family: var(--mdc-typography-body1-font-family, Roboto, sans-serif);
    }

    .gradient-preview {
      width: 100%;
      height: 16px;
      border-radius: 8px;
      border: 1px solid var(--divider-color);
      margin-bottom: 16px;
      position: relative;
      overflow: hidden;
      background-color: var(--card-background-color, #1c1c1c);
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .gradient-preview-fill {
      width: 100%;
      height: 100%;
      border-radius: inherit;
      position: relative;
    }

    /* Bar size variants to match actual card bars */
    .gradient-preview.bar-size-thin {
      height: 8px;
      border-radius: 4px;
    }

    .gradient-preview.bar-size-regular {
      height: 16px;
      border-radius: 8px;
    }

    .gradient-preview.bar-size-thick {
      height: 24px;
      border-radius: 12px;
    }

    .gradient-preview.bar-size-thiccc {
      height: 32px;
      border-radius: 16px;
    }

    /* Bar radius variants to match actual card bars */
    .gradient-preview.bar-radius-square {
      border-radius: 0;
    }

    .gradient-preview.bar-radius-round {
      /* Uses default border-radius from size classes */
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-thin {
      border-radius: 2px;
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-regular {
      border-radius: 4px;
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-thick {
      border-radius: 6px;
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-thiccc {
      border-radius: 8px;
    }

    .buttons-row {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }

    .add-button,
    .reset-button {
      flex: 1;
      padding: 12px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.2s ease;
    }

    .add-button {
      background: var(--primary-color);
      color: var(--text-primary-color);
    }

    .add-button:hover {
      background: var(--primary-color);
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .reset-button {
      background: var(--secondary-color, #666);
      color: white;
    }

    .reset-button:hover {
      background: var(--secondary-color, #666);
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .stops-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .stop-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--card-background-color, #1c1c1c);
      border: 1px solid var(--divider-color);
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .stop-item:hover {
      border-color: var(--primary-color);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .stop-item.dragging {
      opacity: 0.7;
      transform: scale(1.02);
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .drag-handle {
      width: 20px;
      height: 20px;
      cursor: grab;
      color: var(--secondary-text-color);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .drag-handle:hover {
      color: var(--primary-text-color);
    }

    .drag-handle:active {
      cursor: grabbing;
    }

    .color-preview {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid var(--divider-color);
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .color-preview:hover {
      border-color: var(--primary-color);
      transform: scale(1.1);
    }

    .percentage-input {
      width: 80px;
      padding: 8px 12px;
      border: 1px solid var(--divider-color);
      border-radius: 6px;
      background: var(--secondary-background-color);
      color: var(--primary-text-color);
      text-align: center;
      font-weight: 500;
    }

    .percentage-input:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
    }

    .stop-info {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--secondary-text-color);
      font-size: 14px;
    }

    .delete-button {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      cursor: pointer;
      color: var(--secondary-text-color);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .delete-button:hover {
      background: rgba(var(--rgb-error-color, 244, 67, 54), 0.1);
      color: var(--error-color, #f44336);
    }

    .delete-button:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .stop-item.boundary .delete-button {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .icon {
      width: 18px;
      height: 18px;
    }

    /* Drag and drop styling */
    .stops-list.drag-active .stop-item:not(.dragging) {
      transition: transform 0.2s ease;
    }

    /* Color Circle Styling */
    .color-circle {
      border: 3px solid var(--divider-color);
      transition: all 0.2s ease;
    }

    .color-circle:hover {
      border-color: var(--primary-color);
      transform: scale(1.15);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    /* Color Picker Popup */
    .color-picker-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(2px);
    }

    .color-picker-popup {
      background: var(--card-background-color);
      border-radius: 12px;
      padding: 24px;
      max-width: 400px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid var(--divider-color);
    }

    .color-picker-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--divider-color);
    }

    .color-picker-header h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: var(--primary-text-color);
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--secondary-text-color);
      padding: 4px;
      border-radius: 4px;
      transition: all 0.2s ease;
    }

    .close-btn:hover {
      background: var(--divider-color);
      color: var(--primary-text-color);
    }
  `,y([(0,d.MZ)({type:Array})],$.prototype,"stops",void 0),y([(0,d.MZ)({type:String})],$.prototype,"barSize",void 0),y([(0,d.MZ)({type:String})],$.prototype,"barRadius",void 0),y([(0,d.MZ)({type:String})],$.prototype,"barStyle",void 0),y([(0,d.wk)()],$.prototype,"_draggedIndex",void 0),y([(0,d.wk)()],$.prototype,"_colorPickerOpen",void 0),y([(0,d.wk)()],$.prototype,"_colorPickerStopId",void 0),y([(0,d.wk)()],$.prototype,"_colorPickerCurrentColor",void 0),$=y([(0,d.EM)("uc-gradient-editor")],$);var z=i(57),S=i(345),C=i(987),A=i(456);class j extends o.m{constructor(){super(...arguments),this.metadata={type:"bar",title:"Bars",description:"Progress bars for values",author:"WJD Designs",version:"1.0.0",icon:"mdi:chart-bar",category:"data",tags:["bar","progress","chart","value","sensor"]}}createDefault(e,t){const i=this.findSuitableBatterySensor(t);return{id:e||this.generateId("bar"),type:"bar",entity:i||"",percentage_type:"entity",percentage_entity:"",percentage_attribute_entity:"",percentage_attribute_name:"",percentage_current_entity:"",percentage_total_entity:"",percentage_template:"",height:20,bar_direction:"left-to-right",bar_size:"medium",bar_radius:"round",bar_style:"flat",bar_width:100,bar_alignment:"center",border_radius:10,label_alignment:"space-between",show_percentage:!0,percentage_text_size:14,percentage_text_alignment:"center",show_value:!0,value_position:"inside",left_title:"",left_entity:"",left_condition_type:"none",left_condition_entity:"",left_condition_state:"",left_template_mode:!1,left_template:"",left_title_size:14,left_value_size:14,left_title_color:"",left_value_color:"",left_enabled:!1,right_title:"",right_entity:"",right_enabled:!1,right_condition_type:"none",right_condition_entity:"",right_condition_state:"",right_template_mode:!1,right_template:"",right_title_size:14,right_value_size:14,right_title_color:"",right_value_color:"",bar_color:"",bar_background_color:"",bar_border_color:"var(--divider-color)",percentage_text_color:"",dot_color:"",use_gradient:!1,gradient_display_mode:"full",gradient_stops:[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],limit_entity:"",limit_color:"",animation:!0,template_mode:!1,template:"",bar_animation_enabled:!1,bar_animation_entity:"",bar_animation_trigger_type:"state",bar_animation_attribute:"",bar_animation_value:"",bar_animation_type:"none",bar_animation_override_entity:"",bar_animation_override_trigger_type:"state",bar_animation_override_attribute:"",bar_animation_override_value:"",bar_animation_override_type:"none",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderLogicTab(e,t,i,n){return l.X.render(e,t,(e=>n(e)))}findSuitableBatterySensor(e){if(!e||!e.states)return"";const t=["battery_level","battery","charge","power_level","fuel_level","energy"],i=["battery","energy","power"],n=["sensor","binary_sensor"],o=[];return Object.keys(e.states).forEach((a=>{const r=e.states[a],l=a.split(".")[0];if(!n.includes(l))return;if("binary_sensor"===l)return;const s=r.attributes||{},d=s.friendly_name||a,c=s.device_class,u=s.unit_of_measurement,p=parseFloat(r.state);if(isNaN(p)||p<0||p>100)return;if("unavailable"===r.state||"unknown"===r.state)return;let g=0;i.includes(c)&&(g+=100),"%"===u&&(g+=80),t.forEach((e=>{a.toLowerCase().includes(e)&&(g+=50)})),t.forEach((e=>{d.toLowerCase().includes(e)&&(g+=40)})),a.includes("battery")&&"%"===u&&(g+=60),(a.includes("phone")||a.includes("mobile")||a.includes("device"))&&(a.includes("battery")||"battery"===c)&&(g+=30),g>0&&o.push({entity:a,score:g,friendlyName:d})})),o.length>0?(o.sort(((e,t)=>t.score-e.score)),o[0].entity):""}renderGeneralTab(e,t,i,o){var r,l,s,d,c,u;const p=e,g=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Bar Settings -->
        ${this.renderSettingsSection((0,A.kg)("editor.bar.bar_settings.title",g,"Bar Settings"),(0,A.kg)("editor.bar.bar_settings.desc",g,"Configure how the bar percentage is calculated and displayed."),[])}
        <div class="field-group percentage-type-group" style="margin-top: -16px; margin-bottom: 16px;">
          <ha-form
            .hass=${t}
            .data=${{percentage_type:p.percentage_type||"entity"}}
            .schema=${[this.selectField("percentage_type",[{value:"entity",label:(0,A.kg)("editor.bar.perc_type.entity",g,"Entity (0-100)")},{value:"attribute",label:(0,A.kg)("editor.bar.perc_type.attribute",g,"Entity Attribute")},{value:"difference",label:(0,A.kg)("editor.bar.perc_type.difference",g,"Difference")},{value:"template",label:(0,A.kg)("editor.bar.perc_type.template",g,"Template")}])]}
            .computeLabel=${()=>""}
            .computeDescription=${()=>""}
            @value-changed=${e=>o(e.detail.value)}
          ></ha-form>
        </div>

          <!-- Entity Attribute Fields -->
          ${"attribute"===p.percentage_type?this.renderConditionalFieldsGroup((0,A.kg)("editor.bar.attr_config.title",g,"Entity Attribute Configuration"),n.qy`
                    ${this.renderSettingsSection((0,A.kg)("editor.bar.attr_config.title",g,"Entity Attribute Configuration"),(0,A.kg)("editor.bar.attr_config.desc",g,"Configure entity attribute settings"),[{title:(0,A.kg)("editor.bar.attr_config.attribute_entity",g,"Attribute Entity"),description:(0,A.kg)("editor.bar.attr_config.attribute_entity_desc",g,"Select the entity that contains the attribute with the percentage value"),hass:t,data:{percentage_attribute_entity:p.percentage_attribute_entity||""},schema:[this.entityField("percentage_attribute_entity")],onChange:e=>o({percentage_attribute_entity:e.detail.value.percentage_attribute_entity})},{title:(0,A.kg)("editor.bar.attr_config.attribute_name",g,"Attribute Name"),description:(0,A.kg)("editor.bar.attr_config.attribute_name_desc",g,'Enter the name of the attribute that contains the percentage value (e.g., "battery_level")'),hass:t,data:{percentage_attribute_name:p.percentage_attribute_name||""},schema:[this.textField("percentage_attribute_name")],onChange:e=>o({percentage_attribute_name:e.detail.value.percentage_attribute_name})}])}
                  `):""}

          <!-- Difference Fields -->
          ${"difference"===p.percentage_type?this.renderConditionalFieldsGroup((0,A.kg)("editor.bar.diff_config.title",g,"Difference Calculation Configuration"),n.qy`
                    ${this.renderSettingsSection((0,A.kg)("editor.bar.diff_config.title",g,"Difference Calculation Configuration"),(0,A.kg)("editor.bar.diff_config.desc",g,"Configure difference calculation settings"),[{title:(0,A.kg)("editor.bar.diff_config.current_entity",g,"Current Value Entity"),description:(0,A.kg)("editor.bar.diff_config.current_entity_desc",g,"Entity representing the current/used amount (e.g., fuel used, battery consumed)"),hass:t,data:{percentage_current_entity:p.percentage_current_entity||""},schema:[this.entityField("percentage_current_entity")],onChange:e=>o({percentage_current_entity:e.detail.value.percentage_current_entity})},{title:(0,A.kg)("editor.bar.diff_config.total_entity",g,"Total Value Entity"),description:(0,A.kg)("editor.bar.diff_config.total_entity_desc",g,"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)"),hass:t,data:{percentage_total_entity:p.percentage_total_entity||""},schema:[this.entityField("percentage_total_entity")],onChange:e=>o({percentage_total_entity:e.detail.value.percentage_total_entity})}])}
                  `):""}

          <!-- Template Field -->
          ${"template"===p.percentage_type?this.renderConditionalFieldsGroup((0,A.kg)("editor.bar.template_config.title",g,"Template Configuration"),n.qy`
                    ${this.renderSettingsSection((0,A.kg)("editor.bar.template_config.title",g,"Template Configuration"),(0,A.kg)("editor.bar.template_config.desc",g,"Configure template settings"),[{title:(0,A.kg)("editor.bar.template_config.percentage_template",g,"Percentage Template"),description:(0,A.kg)("editor.bar.template_config.percentage_template_desc",g,"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states('sensor.battery_level') | float) * 100 }}"),hass:t,data:{percentage_template:p.percentage_template||""},schema:[this.textField("percentage_template",!0)],onChange:e=>o({percentage_template:e.detail.value.percentage_template})}])}
                  `):""}

          <!-- Bar Percentage Entity -->
          <div style="margin-top: 24px;">
            ${a.Q.renderField((0,A.kg)("editor.bar.entity.title",g,"Bar Percentage Entity"),p.entity?(0,A.kg)("editor.bar.entity.desc_present",g,"The entity that provides the percentage value for the bar."):(0,A.kg)("editor.bar.entity.desc_empty",g,"Select an entity that provides a percentage value (0-100). Battery sensors are ideal for bars."),t,{entity:p.entity||""},[a.Q.createSchemaItem("entity",{entity:{filter:[{domain:"sensor"},{domain:"input_number"}]}})],(e=>o({entity:e.detail.value.entity})))}
            ${p.entity?"":n.qy`
                    <div
                      style="color: var(--warning-color); font-size: 12px; margin-top: 4px; font-style: italic;"
                    >
                      <ha-icon
                        icon="mdi:information-outline"
                        style="font-size: 14px; margin-right: 4px;"
                      ></ha-icon>
                      ${(0,A.kg)("editor.bar.entity.no_entity_warning",g,"No entity selected - Please choose a sensor with values between 0-100")}
                    </div>
                  `}
          </div>

          <!-- Limit Value Entity -->
          <div style="margin-top: 24px;">
            ${a.Q.renderField((0,A.kg)("editor.bar.limit_entity.title",g,"Limit Value Entity (optional)"),(0,A.kg)("editor.bar.limit_entity.desc",g,"Optional: Add a vertical indicator line on the bar (e.g. charge limit for EV battery)."),t,{limit_entity:p.limit_entity||""},[a.Q.createSchemaItem("limit_entity",{entity:{}})],(e=>o({limit_entity:e.detail.value.limit_entity})))}
          </div>
        </div>

        <!-- Bar Appearance Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,A.kg)("editor.bar.appearance.title",g,"Bar Appearance")}
          </div>

          <!-- Bar Style -->
          <div class="field-group" style="margin-bottom: 16px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 4px;"
            >
              ${(0,A.kg)("editor.bar.appearance.style",g,"Bar Style")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
            >
              ${(0,A.kg)("editor.bar.appearance.style_desc",g,"Choose the visual style of the progress bar.")}
            </div>
            <ha-form
              .hass=${t}
              .data=${{bar_style:p.bar_style||"flat"}}
              .schema=${[{name:"bar_style",selector:{select:{options:[{value:"flat",label:(0,A.kg)("editor.bar.appearance.style_flat",g,"Flat (Default)")},{value:"glossy",label:(0,A.kg)("editor.bar.appearance.style_glossy",g,"Glossy")},{value:"embossed",label:(0,A.kg)("editor.bar.appearance.style_embossed",g,"Embossed")},{value:"inset",label:(0,A.kg)("editor.bar.appearance.style_inset",g,"Inset")},{value:"gradient-overlay",label:(0,A.kg)("editor.bar.appearance.style_gradient",g,"Gradient Overlay")},{value:"neon-glow",label:(0,A.kg)("editor.bar.appearance.style_neon",g,"Neon Glow")},{value:"outline",label:(0,A.kg)("editor.bar.appearance.style_outline",g,"Outline")},{value:"glass",label:(0,A.kg)("editor.bar.appearance.style_glass",g,"Glass")},{value:"metallic",label:(0,A.kg)("editor.bar.appearance.style_metallic",g,"Metallic")},{value:"neumorphic",label:(0,A.kg)("editor.bar.appearance.style_neumorphic",g,"Neumorphic")},{value:"dashed",label:(0,A.kg)("editor.bar.appearance.style_dashed",g,"Dashed")},{value:"dots",label:(0,A.kg)("editor.bar.appearance.style_dots",g,"Dots")},{value:"minimal",label:(0,A.kg)("editor.bar.appearance.style_minimal",g,"Minimal")}],mode:"dropdown"}},label:""}]}
              .computeLabel=${()=>""}
              .computeDescription=${()=>""}
              @value-changed=${e=>o({bar_style:e.detail.value.bar_style})}
            ></ha-form>
          </div>

          <!-- Bar Fill Direction -->
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important;"
            >
              ${(0,A.kg)("editor.bar.appearance.direction",g,"Fill Direction")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
            >
              ${(0,A.kg)("editor.bar.appearance.direction_desc",g,"Choose which direction the bar fills from as the value increases.")}
            </div>
            <div
              style="display: flex; gap: 8px; justify-content: flex-start; flex-wrap: wrap;"
            >
              <button
                type="button"
                style="padding: 8px 12px; border: 2px solid ${"left-to-right"===(p.bar_direction||"left-to-right")?"var(--primary-color)":"var(--divider-color)"}; background: ${"left-to-right"===(p.bar_direction||"left-to-right")?"var(--primary-color)":"transparent"}; color: ${"left-to-right"===(p.bar_direction||"left-to-right")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                @click=${()=>o({bar_direction:"left-to-right"})}
              >
                <ha-icon
                  icon="mdi:arrow-right"
                  style="font-size: 16px; flex-shrink: 0;"
                ></ha-icon>
                <span
                  style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                  >${(0,A.kg)("editor.bar.appearance.left_to_right",g,"Left to Right")}</span
                >
              </button>
              <button
                type="button"
                style="padding: 8px 12px; border: 2px solid ${"right-to-left"===(p.bar_direction||"left-to-right")?"var(--primary-color)":"var(--divider-color)"}; background: ${"right-to-left"===(p.bar_direction||"left-to-right")?"var(--primary-color)":"transparent"}; color: ${"right-to-left"===(p.bar_direction||"left-to-right")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                @click=${()=>o({bar_direction:"right-to-left"})}
              >
                <ha-icon
                  icon="mdi:arrow-left"
                  style="font-size: 16px; flex-shrink: 0;"
                ></ha-icon>
                <span
                  style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                  >${(0,A.kg)("editor.bar.appearance.right_to_left",g,"Right to Left")}</span
                >
              </button>
            </div>
          </div>

          <!-- Bar Height -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title">${(0,A.kg)("editor.bar.appearance.height",g,"Bar Height")}</div>
            <div class="field-description">${(0,A.kg)("editor.bar.appearance.height_desc",g,"Adjust the thickness of the progress bar in pixels.")}</div>
            <style>
              .number-range-control {
                display: flex;
                gap: 8px;
                align-items: center;
              }
              .range-slider {
                flex: 0 0 65%;
              }
            </style>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="8"
                max="60"
                step="2"
                .value="${null!==(l=p.height)&&void 0!==l?l:20}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);o({height:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="8"
                max="60"
                step="2"
                .value="${null!==(s=p.height)&&void 0!==s?s:20}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({height:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||20,n="ArrowUp"===e.key?2:-2,a=Math.max(8,Math.min(60,i+n));o({height:a})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>o({height:20})}
                title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","20px")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>

          <!-- Border Radius -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title">${(0,A.kg)("editor.bar.appearance.border_radius",g,"Border Radius")}</div>
            <div class="field-description">${(0,A.kg)("editor.bar.appearance.border_radius_desc",g,"Control the rounded corners of the bar.")}</div>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="0"
                max="50"
                step="1"
                .value="${null!==(d=p.border_radius)&&void 0!==d?d:10}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);o({border_radius:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="0"
                max="50"
                step="1"
                .value="${null!==(c=p.border_radius)&&void 0!==c?c:10}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({border_radius:i})}}
                @keydown=${e=>{var t;if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const i=e.target,n=null!==(t=parseInt(i.value))&&void 0!==t?t:10,a="ArrowUp"===e.key?1:-1,r=Math.max(0,Math.min(50,n+a));o({border_radius:r})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>o({border_radius:10})}
                title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","10")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>

          <!-- Bar Width -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title">${(0,A.kg)("editor.bar.appearance.width",g,"Bar Width")}</div>
            <div class="field-description">
              ${(0,A.kg)("editor.bar.appearance.width_desc",g,"Set the width of the bar as a percentage of the container.")}
            </div>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="10"
                max="100"
                step="5"
                .value="${p.bar_width||100}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);o({bar_width:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="10"
                max="100"
                step="5"
                .value="${p.bar_width||100}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({bar_width:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||100,n="ArrowUp"===e.key?5:-5,a=Math.max(10,Math.min(100,i+n));o({bar_width:a})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>o({bar_width:100})}
                title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","100")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>

          <!-- Bar Alignment with Icons -->
          ${(p.bar_width||100)<100?n.qy`
                  <div class="field-group" style="margin-bottom: 16px;">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important;"
                    >
                      ${(0,A.kg)("editor.bar.appearance.alignment",g,"Bar Alignment")}
                    </div>
                    <div
                      class="field-description"
                      style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                    >
                      ${(0,A.kg)("editor.bar.appearance.alignment_desc",g,"Choose how to align the bar when it's less than 100% width.")}
                    </div>
                    <div
                      style="display: flex; gap: 8px; justify-content: flex-start; flex-wrap: wrap;"
                    >
                      <button
                        type="button"
                        style="padding: 8px 12px; border: 2px solid ${"left"===(p.bar_alignment||"center")?"var(--primary-color)":"var(--divider-color)"}; background: ${"left"===(p.bar_alignment||"center")?"var(--primary-color)":"transparent"}; color: ${"left"===(p.bar_alignment||"center")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                        @click=${()=>o({bar_alignment:"left"})}
                      >
                        <ha-icon
                          icon="mdi:format-align-left"
                          style="font-size: 16px; flex-shrink: 0;"
                        ></ha-icon>
                        <span
                          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                          >${(0,A.kg)("editor.common.left",g,"Left")}</span
                        >
                      </button>
                      <button
                        type="button"
                        style="padding: 8px 12px; border: 2px solid ${"center"===(p.bar_alignment||"center")?"var(--primary-color)":"var(--divider-color)"}; background: ${"center"===(p.bar_alignment||"center")?"var(--primary-color)":"transparent"}; color: ${"center"===(p.bar_alignment||"center")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                        @click=${()=>o({bar_alignment:"center"})}
                      >
                        <ha-icon
                          icon="mdi:format-align-center"
                          style="font-size: 16px; flex-shrink: 0;"
                        ></ha-icon>
                        <span
                          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                          >${(0,A.kg)("editor.common.center",g,"Center")}</span
                        >
                      </button>
                      <button
                        type="button"
                        style="padding: 8px 12px; border: 2px solid ${"right"===(p.bar_alignment||"center")?"var(--primary-color)":"var(--divider-color)"}; background: ${"right"===(p.bar_alignment||"center")?"var(--primary-color)":"transparent"}; color: ${"right"===(p.bar_alignment||"center")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                        @click=${()=>o({bar_alignment:"right"})}
                      >
                        <ha-icon
                          icon="mdi:format-align-right"
                          style="font-size: 16px; flex-shrink: 0;"
                        ></ha-icon>
                        <span
                          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                          >${(0,A.kg)("editor.common.right",g,"Right")}</span
                        >
                      </button>
                    </div>
                  </div>
                `:""}

          <!-- Label Alignment -->
          ${p.left_enabled||p.right_enabled?n.qy`
                  <div class="field-group">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important;"
                    >
                      ${(0,A.kg)("editor.bar.labels.alignment",g,"Label Alignment")}
                    </div>
                    <div
                      class="field-description"
                      style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                    >
                      ${(0,A.kg)("editor.bar.labels.alignment_desc",g,"Control how the left and right side labels are positioned.")}
                    </div>
                    <ha-form
                      .hass=${t}
                      .data=${{label_alignment:p.label_alignment||"space-between"}}
                      .schema=${[{name:"label_alignment",selector:{select:{options:[{value:"left",label:(0,A.kg)("editor.common.left",g,"Left")},{value:"center",label:(0,A.kg)("editor.common.center",g,"Center")},{value:"right",label:(0,A.kg)("editor.common.right",g,"Right")},{value:"space-between",label:(0,A.kg)("editor.common.space_between",g,"Space Between")}],mode:"dropdown"}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>o({label_alignment:e.detail.value.label_alignment})}
                    ></ha-form>
                  </div>
                `:""}
        </div>

        <!-- Percentage Text Display Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;">
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px; margin: 0;"
            >
              ${(0,A.kg)("editor.bar.percentage.title",g,"Percentage Text Display")}
            </div>
            <ha-switch
              .checked=${!1!==p.show_percentage}
              @change=${e=>o({show_percentage:e.target.checked})}
            ></ha-switch>
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 16px;"
          >
            ${(0,A.kg)("editor.bar.percentage.desc",g,"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.")}
          </div>

          

          ${!1!==p.show_percentage?n.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,A.kg)("editor.bar.percentage.text_size",g,"Text Size")}
                    </div>
                    <div class="field-description">
                      ${(0,A.kg)("editor.bar.percentage.text_size_desc",g,"Adjust the size of the percentage text displayed on the bar.")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.percentage_text_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);o({percentage_text_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.percentage_text_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({percentage_text_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));o({percentage_text_size:a})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>o({percentage_text_size:14})}
                        title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                  <div class="field-group" style="margin-bottom: 16px;">
                    <div class="field-title">
                      ${(0,A.kg)("editor.bar.percentage.text_alignment",g,"Percentage Text Alignment")}
                    </div>
                    <ha-form
                      .hass=${t}
                      .data=${{percentage_text_alignment:p.percentage_text_alignment||"center"}}
                      .schema=${[{name:"percentage_text_alignment",selector:{select:{options:[{value:"left",label:(0,A.kg)("editor.common.left",g,"Left")},{value:"center",label:(0,A.kg)("editor.common.center",g,"Center")},{value:"right",label:(0,A.kg)("editor.common.right",g,"Right")}],mode:"dropdown"}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>o({percentage_text_alignment:e.detail.value.percentage_text_alignment})}
                    ></ha-form>
                  </div>
                `:""}
        </div>

        <!-- Left Side Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,A.kg)("editor.bar.left.title",g,"Left Side")}
            </div>
            <ha-switch
              .checked=${p.left_enabled||!1}
              @change=${e=>{const t=e.target.checked;o(t?{left_enabled:!0,left_title:p.left_title||"Fuel",left_entity:p.left_entity||"",left_template_mode:p.left_template_mode||!1,left_title_size:p.left_title_size||14,left_value_size:p.left_value_size||14,left_title_color:p.left_title_color||"var(--primary-text-color)",left_value_color:p.left_value_color||"var(--primary-text-color)"}:{left_enabled:!1,left_title:"",left_entity:"",left_template_mode:!1,left_template:""})}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,A.kg)("editor.bar.left.desc",g,"Configure the title and entity value displayed on the left side of the bar. This is useful for showing labels like 'Range' or 'Battery' along with their values.")}
          </div>

          ${p.left_enabled?n.qy`
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{left_title:p.left_title||""}}
                      .schema=${[{name:"left_title",selector:{text:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>o({left_title:e.detail.value.left_title})}
                    ></ha-form>
                  </div>

                  <!-- Left Entity (value source) -->
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{left_entity:p.left_entity||""}}
                      .schema=${[{name:"left_entity",selector:{entity:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>o({left_entity:e.detail.value.left_entity})}
                    ></ha-form>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,A.kg)("editor.bar.left.title_size",g,"Title Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.left_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);o({left_title_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.left_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({left_title_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));o({left_title_size:a})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>o({left_title_size:14})}
                        title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,A.kg)("editor.bar.left.value_size",g,"Value Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.left_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);o({left_value_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.left_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({left_value_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));o({left_value_size:a})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>o({left_value_size:14})}
                        title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                  <!-- Left Template Mode -->
                  <div
                    class="field-group"
                    style="margin-bottom: 8px; display: grid !important; grid-template-columns: minmax(0,1fr) auto; align-items: center; column-gap: 12px; width: 100%;"
                  >
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                    >
                      ${(0,A.kg)("editor.bar.left.template_mode",g,"Template Mode")}
                    </div>
                    <ha-switch
                      style="justify-self: end;"
                      .checked=${p.left_template_mode||!1}
                      @change=${e=>o({left_template_mode:e.target.checked})}
                    ></ha-switch>
                  </div>
                  ${p.left_template_mode?n.qy`
                        <div
                          class="field-description"
                          style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.left.template_desc",g,"Use a template to format the displayed value. Templates use Home Assistant's Jinja2 syntax.")}
                        </div>
                        <div class="field-group" style="margin-bottom: 0;">
                          <ha-form
                            .hass=${t}
                            .data=${{left_template:p.left_template||""}}
                            .schema=${[{name:"left_template",label:(0,A.kg)("editor.bar.left.value_template",g,"Value Template"),description:(0,A.kg)("editor.bar.left.value_template_desc",g,"Template to format the left-side value using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                            .computeLabel=${e=>e.label||e.name}
                            .computeDescription=${e=>e.description||""}
                            @value-changed=${e=>o({left_template:e.detail.value.left_template})}
                          ></ha-form>
                        </div>
                      `:""}
                `:n.qy`
                  <div
                    style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                  >
                    ${(0,A.kg)("editor.bar.left.enable_toggle",g,"Enable the toggle above to configure left side settings")}
                  </div>
                `}
        </div>

        <!-- Right Side Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,A.kg)("editor.bar.right.title",g,"Right Side")}
            </div>
            <ha-switch
              .checked=${p.right_enabled||!1}
              @change=${e=>{const t=e.target.checked;o(t?{right_enabled:!0,right_title:p.right_title||"Range",right_entity:p.right_entity||"",right_template_mode:p.right_template_mode||!1,right_title_size:p.right_title_size||14,right_value_size:p.right_value_size||14,right_title_color:p.right_title_color||"var(--primary-text-color)",right_value_color:p.right_value_color||"var(--primary-text-color)"}:{right_enabled:!1,right_title:"",right_entity:"",right_template_mode:!1,right_template:""})}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,A.kg)("editor.bar.right.desc",g,"Configure the title and entity value displayed on the right side of the bar. This is ideal for complementary information like 'Time to Full' or secondary measurements.")}
          </div>

          ${p.right_enabled?n.qy`
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{right_title:p.right_title||""}}
                      .schema=${[{name:"right_title",selector:{text:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>o({right_title:e.detail.value.right_title})}
                    ></ha-form>
                  </div>
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{right_entity:p.right_entity||""}}
                      .schema=${[{name:"right_entity",selector:{entity:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>o({right_entity:e.detail.value.right_entity})}
                    ></ha-form>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,A.kg)("editor.bar.right.title_size",g,"Title Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.right_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);o({right_title_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.right_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({right_title_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));o({right_title_size:a})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>o({right_title_size:14})}
                        title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,A.kg)("editor.bar.right.value_size",g,"Value Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.right_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);o({right_value_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${p.right_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||o({right_value_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,n="ArrowUp"===e.key?1:-1,a=Math.max(8,Math.min(32,i+n));o({right_value_size:a})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>o({right_value_size:14})}
                        title="${(0,A.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                  <div
                    class="field-group"
                    style="margin-bottom: 8px; display: grid !important; grid-template-columns: minmax(0,1fr) auto; align-items: center; column-gap: 12px; width: 100%;"
                  >
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                    >
                      ${(0,A.kg)("editor.bar.right.template_mode",g,"Template Mode")}
                    </div>
                    <ha-switch
                      style="justify-self: end;"
                      .checked=${p.right_template_mode||!1}
                      @change=${e=>o({right_template_mode:e.target.checked})}
                    ></ha-switch>
                  </div>
                  ${p.right_template_mode?n.qy`
                        <div
                          class="field-description"
                          style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.right.template_desc",g,"Use a template to format the displayed value. Templates use Home Assistant's Jinja2 syntax.")}
                        </div>
                        <div class="field-group" style="margin-bottom: 0;">
                          <ha-form
                            .hass=${t}
                            .data=${{right_template:p.right_template||""}}
                            .schema=${[{name:"right_template",label:(0,A.kg)("editor.bar.right.value_template",g,"Value Template"),description:(0,A.kg)("editor.bar.right.value_template_desc",g,"Template to format the right-side value using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                            .computeLabel=${e=>e.label||e.name}
                            .computeDescription=${e=>e.description||""}
                            @value-changed=${e=>o({right_template:e.detail.value.right_template})}
                          ></ha-form>
                        </div>
                      `:""}
                `:n.qy`
                  <div
                    style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                  >
                    ${(0,A.kg)("editor.bar.right.enable_toggle",g,"Enable the toggle above to configure right side settings")}
                  </div>
                `}
        </div>

        <!-- Colors Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,A.kg)("editor.bar.colors.title",g,"Colors")}
          </div>

          
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="colors-grid"
              style="display: grid; grid-template-columns: 1fr; gap: 16px;"
            >
              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,A.kg)("editor.bar.colors.bar_color",g,"Bar Color")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${p.bar_color||""}
                  .defaultValue=${"var(--primary-color)"}
                  .hass=${t}
                  @value-changed=${e=>o({bar_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,A.kg)("editor.bar.colors.background_color",g,"Background Color")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${p.bar_background_color||""}
                  .defaultValue=${"transparent"}
                  .hass=${t}
                  @value-changed=${e=>o({bar_background_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,A.kg)("editor.bar.colors.border_color",g,"Border Color")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${p.bar_border_color||""}
                  .defaultValue=${"var(--divider-color)"}
                  .hass=${t}
                  @value-changed=${e=>o({bar_border_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,A.kg)("editor.bar.colors.limit_indicator",g,"Limit Indicator")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${p.limit_color||""}
                  .defaultValue=${"var(--warning-color)"}
                  .hass=${t}
                  @value-changed=${e=>o({limit_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,A.kg)("editor.bar.colors.percentage_text",g,"Percentage Text")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${p.percentage_text_color||""}
                  .defaultValue=${"var(--primary-text-color)"}
                  .hass=${t}
                  @value-changed=${e=>o({percentage_text_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              ${"minimal"===p.bar_style?n.qy`
                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.colors.dot_color",g,"Dot Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${p.dot_color||""}
                          .defaultValue=${"var(--primary-color)"}
                          .hass=${t}
                          @value-changed=${e=>o({dot_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>
                    `:""}
            </div>
          </div>

          <!-- Left Side Colors -->
          ${p.left_enabled?n.qy`
                  <div class="field-group" style="margin-bottom: 24px;">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px; color: var(--primary-color);"
                    >
                      ${(0,A.kg)("editor.bar.colors.left_side",g,"Left Side Colors")}
                    </div>
                    <div
                      class="colors-grid"
                      style="display: grid; grid-template-columns: 1fr; gap: 16px;"
                    >
                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.colors.title_color",g,"Title Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${p.left_title_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>o({left_title_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>

                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.colors.value_color",g,"Value Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${p.left_value_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>o({left_value_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>
                    </div>
                  </div>
                `:""}

          <!-- Right Side Colors -->
          ${p.right_enabled?n.qy`
                  <div class="field-group">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px; color: var(--primary-color);"
                    >
                      ${(0,A.kg)("editor.bar.colors.right_side",g,"Right Side Colors")}
                    </div>
                    <div
                      class="colors-grid"
                      style="display: grid; grid-template-columns: 1fr; gap: 16px;"
                    >
                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.colors.title_color",g,"Title Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${p.right_title_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>o({right_title_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>

                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,A.kg)("editor.bar.colors.value_color",g,"Value Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${p.right_value_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>o({right_value_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>
                    </div>
                  </div>
                `:""}
        </div>

        <!-- Gradient Mode -->
        <div class="settings-section" style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;">
          <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px;">
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px; margin: 0;"
            >
              ${(0,A.kg)("editor.bar.gradient.title",g,"Gradient Mode")}
            </div>
            <ha-switch
              .checked=${p.use_gradient||!1}
              @change=${e=>{const t=e.target.checked,i={use_gradient:t};!t||p.gradient_stops&&0!==p.gradient_stops.length||(i.gradient_stops=[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],i.gradient_display_mode=p.gradient_display_mode||"full"),o(i)}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 12px;"
          >
            ${(0,A.kg)("editor.bar.gradient.desc",g,"Apply a color gradient to the bar fill. When enabled, choose how the gradient is displayed and customize the color stops below.")}
          </div>

          ${p.use_gradient?n.qy`
                  <div class="field-group" style="margin-bottom: 12px;">
                    <ha-form
                      .hass=${t}
                      .data=${{gradient_display_mode:p.gradient_display_mode||"full"}}
                      .schema=${[{name:"gradient_display_mode",selector:{select:{options:[{value:"full",label:(0,A.kg)("editor.bar.gradient.full",g,"Full")},{value:"cropped",label:(0,A.kg)("editor.bar.gradient.cropped",g,"Cropped")},{value:"value-based",label:(0,A.kg)("editor.bar.gradient.value_based",g,"Value-Based")}],mode:"dropdown"}},label:""}]}
                      .computeLabel=${()=>""}
                      .computeDescription=${()=>""}
                      @value-changed=${e=>o({gradient_display_mode:e.detail.value.gradient_display_mode})}
                    ></ha-form>
                  </div>
                  <uc-gradient-editor
                    .stops=${p.gradient_stops||[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}]}
                    .barSize=${this.getBarSizeFromHeight(null!==(u=p.height)&&void 0!==u?u:20)}
                    .barRadius=${this.getBarRadiusFromStyle(p.border_radius||10)}
                    .barStyle=${p.bar_style||"flat"}
                    @gradient-changed=${e=>{o({gradient_stops:e.detail.stops})}}
                  ></uc-gradient-editor>
                `:""}
        </div>

        <!-- Bar Animation -->
        <div class="settings-section" style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;">
          <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px;">
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px; margin: 0;"
            >
              ${(0,A.kg)("editor.bar.animation.title",g,"Bar Animation")}
            </div>
            <ha-switch
              .checked=${p.bar_animation_enabled||!1}
              @change=${e=>o({bar_animation_enabled:e.target.checked})}
            ></ha-switch>
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 12px;"
          >
            ${(0,A.kg)("editor.bar.animation.desc",g,"Animate the bar fill using presets like charging stripes, pulse, shimmer, and more. You can trigger animations based on an entity's state or attribute, and optionally override the animation when another condition is met.")}
          </div>
          ${p.bar_animation_enabled?n.qy`
                  ${this.renderSettingsSection((0,A.kg)("editor.bar.animation.trigger.title",g,"Animation Trigger"),(0,A.kg)("editor.bar.animation.trigger.desc",g,"Select an entity to watch and define the value + animation to apply when it matches."),[{title:(0,A.kg)("editor.common.entity",g,"Entity"),description:(0,A.kg)("editor.bar.animation.trigger.entity_desc",g,"Entity to evaluate for animation trigger"),hass:t,data:{bar_animation_entity:p.bar_animation_entity||""},schema:[this.entityField("bar_animation_entity")],onChange:e=>o({bar_animation_entity:e.detail.value.bar_animation_entity})},{title:(0,A.kg)("editor.bar.animation.trigger.type",g,"Trigger Type"),description:(0,A.kg)("editor.bar.animation.trigger.type_desc",g,"Choose whether to compare the entity state or an attribute"),hass:t,data:{bar_animation_trigger_type:p.bar_animation_trigger_type||"state"},schema:[this.selectField("bar_animation_trigger_type",[{value:"state",label:(0,A.kg)("editor.common.state",g,"State")},{value:"attribute",label:(0,A.kg)("editor.common.attribute",g,"Attribute")}])],onChange:e=>o(e.detail.value)},..."attribute"===(p.bar_animation_trigger_type||"state")?[{title:(0,A.kg)("editor.common.attribute_name",g,"Attribute Name"),description:(0,A.kg)("editor.bar.animation.trigger.attribute_name_desc",g,"Name of the attribute to compare (e.g., charging_status)"),hass:t,data:{bar_animation_attribute:p.bar_animation_attribute||""},schema:[this.textField("bar_animation_attribute")],onChange:e=>o({bar_animation_attribute:e.detail.value.bar_animation_attribute})}]:[],...(p.bar_animation_entity||"").trim()?[{title:(0,A.kg)("editor.bar.animation.trigger.match_value",g,"Match Value"),description:(0,A.kg)("editor.bar.animation.trigger.match_value_desc",g,"Text to compare against the state or attribute (comparison is string-based)."),hass:t,data:{bar_animation_value:p.bar_animation_value||""},schema:[this.textField("bar_animation_value")],onChange:e=>o({bar_animation_value:e.detail.value.bar_animation_value})}]:[],{title:(0,A.kg)("editor.bar.animation.type",g,"Animation Type"),description:(0,A.kg)("editor.bar.animation.type_desc",g,"Select how the bar should animate when triggered."),hass:t,data:{bar_animation_type:p.bar_animation_type||"none"},schema:[this.selectField("bar_animation_type",[{value:"none",label:(0,A.kg)("editor.common.none",g,"None")},{value:"charging",label:(0,A.kg)("editor.bar.animation.types.charging",g,"Charging (Diagonal Lines)")},{value:"pulse",label:(0,A.kg)("editor.bar.animation.types.pulse",g,"Pulse")},{value:"blinking",label:(0,A.kg)("editor.bar.animation.types.blinking",g,"Blinking")},{value:"bouncing",label:(0,A.kg)("editor.bar.animation.types.bouncing",g,"Bouncing")},{value:"glow",label:(0,A.kg)("editor.bar.animation.types.glow",g,"Glow")},{value:"rainbow",label:(0,A.kg)("editor.bar.animation.types.rainbow",g,"Rainbow")},{value:"bubbles",label:(0,A.kg)("editor.bar.animation.types.bubbles",g,"Bubbles")},{value:"fill",label:(0,A.kg)("editor.bar.animation.types.fill",g,"Fill")},{value:"ripple",label:(0,A.kg)("editor.bar.animation.types.ripple",g,"Ripple")},{value:"traffic",label:(0,A.kg)("editor.bar.animation.types.traffic",g,"Traffic (Barber Pole)")},{value:"heartbeat",label:(0,A.kg)("editor.bar.animation.types.heartbeat",g,"Heartbeat")},{value:"flicker",label:(0,A.kg)("editor.bar.animation.types.flicker",g,"Flicker")},{value:"shimmer",label:(0,A.kg)("editor.bar.animation.types.shimmer",g,"Shimmer")},{value:"vibrate",label:(0,A.kg)("editor.bar.animation.types.vibrate",g,"Vibrate")}])],onChange:e=>o(e.detail.value)}])}
                  ${this.renderSettingsSection((0,A.kg)("editor.bar.animation.override.title",g,"Action Animation Override"),(0,A.kg)("editor.bar.animation.override.desc",g,"Select an Action Entity and state to define when this animation should override the regular animation"),[{title:(0,A.kg)("editor.common.entity",g,"Entity"),description:(0,A.kg)("editor.bar.animation.override.entity_desc",g,"Entity to evaluate for the override trigger"),hass:t,data:{bar_animation_override_entity:p.bar_animation_override_entity||""},schema:[this.entityField("bar_animation_override_entity")],onChange:e=>o({bar_animation_override_entity:e.detail.value.bar_animation_override_entity})},{title:(0,A.kg)("editor.bar.animation.trigger.type",g,"Trigger Type"),description:(0,A.kg)("editor.bar.animation.override.type_desc",g,"Compare the entity state or one of its attributes"),hass:t,data:{bar_animation_override_trigger_type:p.bar_animation_override_trigger_type||"state"},schema:[this.selectField("bar_animation_override_trigger_type",[{value:"state",label:(0,A.kg)("editor.common.state",g,"State")},{value:"attribute",label:(0,A.kg)("editor.common.attribute",g,"Attribute")}])],onChange:e=>o(e.detail.value)},..."attribute"===(p.bar_animation_override_trigger_type||"state")?[{title:(0,A.kg)("editor.common.attribute_name",g,"Attribute Name"),description:(0,A.kg)("editor.bar.animation.override.attribute_name_desc",g,"Name of the attribute to compare"),hass:t,data:{bar_animation_override_attribute:p.bar_animation_override_attribute||""},schema:[this.textField("bar_animation_override_attribute")],onChange:e=>o({bar_animation_override_attribute:e.detail.value.bar_animation_override_attribute})}]:[],{title:(0,A.kg)("editor.bar.animation.override.match_value",g,"Override Match Value"),description:(0,A.kg)("editor.bar.animation.override.match_value_desc",g,"String comparison against state or attribute"),hass:t,data:{bar_animation_override_value:p.bar_animation_override_value||""},schema:[this.textField("bar_animation_override_value")],onChange:e=>o({bar_animation_override_value:e.detail.value.bar_animation_override_value})},{title:(0,A.kg)("editor.bar.animation.override.type",g,"Override Animation Type"),description:(0,A.kg)("editor.bar.animation.override.type_desc",g,"Animation to use when override condition matches."),hass:t,data:{bar_animation_override_type:p.bar_animation_override_type||"none"},schema:[this.selectField("bar_animation_override_type",[{value:"none",label:(0,A.kg)("editor.common.none",g,"None")},{value:"charging",label:(0,A.kg)("editor.bar.animation.types.charging",g,"Charging (Diagonal Lines)")},{value:"pulse",label:(0,A.kg)("editor.bar.animation.types.pulse",g,"Pulse")},{value:"blinking",label:(0,A.kg)("editor.bar.animation.types.blinking",g,"Blinking")},{value:"bouncing",label:(0,A.kg)("editor.bar.animation.types.bouncing",g,"Bouncing")},{value:"glow",label:(0,A.kg)("editor.bar.animation.types.glow",g,"Glow")},{value:"rainbow",label:(0,A.kg)("editor.bar.animation.types.rainbow",g,"Rainbow")},{value:"bubbles",label:(0,A.kg)("editor.bar.animation.types.bubbles",g,"Bubbles")},{value:"fill",label:(0,A.kg)("editor.bar.animation.types.fill",g,"Fill")},{value:"ripple",label:(0,A.kg)("editor.bar.animation.types.ripple",g,"Ripple")},{value:"traffic",label:(0,A.kg)("editor.bar.animation.types.traffic",g,"Traffic (Barber Pole)")},{value:"heartbeat",label:(0,A.kg)("editor.bar.animation.types.heartbeat",g,"Heartbeat")},{value:"flicker",label:(0,A.kg)("editor.bar.animation.types.flicker",g,"Flicker")},{value:"shimmer",label:(0,A.kg)("editor.bar.animation.types.shimmer",g,"Shimmer")},{value:"vibrate",label:(0,A.kg)("editor.bar.animation.types.vibrate",g,"Vibrate")}])],onChange:e=>o(e.detail.value)}])}
                `:""}
        </div>

        <!-- Action Animation Override removed as standalone: now included inside Bar Animation section above -->
      </div>
    `}renderActionsTab(e,t,i,n){return r.A.render(e,t,(e=>n(e)))}renderPreview(e,t){var o,a,r,l,d,c,u,p,g,m,_,h,v,b,f,y,k,x,w,$,A,j,T,I,E,P,M;const L=e;let D=0;const R=e=>Math.min(Math.max(e,0),100),O=!(L.entity&&(null==t?void 0:t.states[L.entity])),V=L.percentage_type||"entity";if("template"===V&&L.percentage_template){if(!this._templateService&&t&&(this._templateService=new S.I(t)),t){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=L.percentage_template,i=`bar_percentage_${L.id}_${this._hashString(e)}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(e,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const n=null===(o=t.__uvc_template_strings)||void 0===o?void 0:o[i];if(void 0!==n){const e=parseFloat(String(n));isNaN(e)||(D=R(e<=1?100*e:e))}}}else if("attribute"===V){const e=L.percentage_attribute_entity||L.entity,i=L.percentage_attribute_name||"",n=e?null==t?void 0:t.states[e]:void 0,o=i?null===(a=null==n?void 0:n.attributes)||void 0===a?void 0:a[i]:void 0,s=(null===(r=null==n?void 0:n.attributes)||void 0===r?void 0:r.unit_of_measurement)||"",d=parseFloat(String(null!=o?o:"0"));if(!isNaN(d))if("%"===s||String(o).toString().trim().endsWith("%"))D=R(d);else if(null===(l=null==n?void 0:n.attributes)||void 0===l?void 0:l.max){const e=parseFloat(String(n.attributes.max));D=e>0?R(d/e*100):0}else D=R(d)}else if("difference"===V){const e=L.percentage_current_entity,i=L.percentage_total_entity,n=e?parseFloat(String(null!==(c=null===(d=null==t?void 0:t.states[e])||void 0===d?void 0:d.state)&&void 0!==c?c:"0")):0,o=i?parseFloat(String(null!==(p=null===(u=null==t?void 0:t.states[i])||void 0===u?void 0:u.state)&&void 0!==p?p:"0")):0;D=o>0?R(n/o*100):0}else{const e=null==t?void 0:t.states[L.entity];let i=0,n=100,o="";e&&(i=parseFloat(e.state)||0,o=(null===(g=e.attributes)||void 0===g?void 0:g.unit_of_measurement)||"",(null===(m=e.attributes)||void 0===m?void 0:m.max)?n=parseFloat(e.attributes.max):("%"===o||"battery"===(null===(_=e.attributes)||void 0===_?void 0:_.device_class))&&(n=100)),D=R(i/n*100)}O&&(D=65);let B="";if(L.left_template_mode&&L.left_template&&(!this._templateService&&t&&(this._templateService=new S.I(t)),t)){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(L.left_template),i=`bar_left_${L.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(L.left_template,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const n=null===(h=t.__uvc_template_strings)||void 0===h?void 0:h[i];void 0!==n&&""!==String(n).trim()&&(B=String(n))}if(!B&&L.left_entity&&(null==t?void 0:t.states[L.left_entity])){const e=t.states[L.left_entity];try{B=(0,z.formatEntityState)(t,L.left_entity,{includeUnit:!0})}catch(t){B=`${e.state}${(null===(v=e.attributes)||void 0===v?void 0:v.unit_of_measurement)||""}`}}let N="";if(L.right_template_mode&&L.right_template&&(!this._templateService&&t&&(this._templateService=new S.I(t)),t)){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(L.right_template),i=`bar_right_${L.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(L.right_template,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const n=null===(b=t.__uvc_template_strings)||void 0===b?void 0:b[i];void 0!==n&&""!==String(n).trim()&&(N=String(n))}if(!N&&L.right_entity&&(null==t?void 0:t.states[L.right_entity])){const e=t.states[L.right_entity];try{N=(0,z.formatEntityState)(t,L.right_entity,{includeUnit:!0})}catch(t){N=`${e.state}${(null===(f=e.attributes)||void 0===f?void 0:f.unit_of_measurement)||""}`}}let H=0;if(L.limit_entity&&(null==t?void 0:t.states[L.limit_entity])){const e=t.states[L.limit_entity],i=parseFloat(e.state)||0,n=100;H=Math.min(Math.max(i/n*100,0),100)}const U=L,F=L.design||{},q=F.background_color||U.background_color||"transparent",K=F.width||U.width||"100%",G=L.bar_background_color||"transparent";let W=null!==(y=L.height)&&void 0!==y?y:20;if("minimal"===L.bar_style){const e=Math.max(1,Math.floor(W/3)),t=Math.max(8,Math.min(24,3*e+6));W=Math.max(W,t+8)}const J=`${W}px`,Z=null!==(x=null!==(k=L.border_radius)&&void 0!==k?k:F.border_radius)&&void 0!==x?x:10,Y="string"==typeof Z?parseInt(Z,10)||10:Z;let X=L.bar_color||U.color||"var(--primary-color)";const Q=e=>{if(!e)return e;const t=String(e).trim();if(t.startsWith("#")||t.startsWith("rgb"))return t;try{const e=document.createElement("span");e.style.color=t,document.body.appendChild(e);const i=getComputedStyle(e).color;return e.remove(),i&&"rgba(0, 0, 0, 0)"!==i?i:t}catch(e){return t}},ee=(e,t)=>{const i=[...e].sort(((e,t)=>e.position-t.position));let n=i[0],o=i[i.length-1];for(let e=0;e<i.length-1;e++)if(t>=i[e].position&&t<=i[e+1].position){n=i[e],o=i[e+1];break}if(n.position===t)return n.color;if(o.position===t)return o.color;const a=o.position-n.position,r=0===a?0:(t-n.position)/a,l=e=>{const t=Q(e);if(!t)return null;if(t.startsWith("#"))return t;const i=t.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*([0-9.]+))?\s*\)/i);if(i){const e=Math.max(0,Math.min(255,parseInt(i[1],10))),t=Math.max(0,Math.min(255,parseInt(i[2],10))),n=Math.max(0,Math.min(255,parseInt(i[3],10)));return this.rgbToHex(e,t,n)}return null},s=l(n.color),d=l(o.color);return s&&d?this.interpolateColor(s,d,r):Q(r<.5?n.color:o.color)};if(L.use_gradient){const e=L.gradient_stops&&L.gradient_stops.length>0?L.gradient_stops:[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],t="right-to-left"===(L.bar_direction||"left-to-right")?"to left":"to right",i=[...e].sort(((e,t)=>e.position-t.position)).map((e=>`${Q(e.color)} ${e.position}%`)).join(", ");if("full"===L.gradient_display_mode)X=`linear-gradient(${t}, ${i})`;else if("value-based"===L.gradient_display_mode){const t=[...e].sort(((e,t)=>e.position-t.position)),i=ee(t,D);X=Q(i)}else{const i=[...e].sort(((e,t)=>e.position-t.position));if(D<=0){const e=i[0];X=e?Q(e.color):X}else{const e=i.filter((e=>e.position<=D)),n=[];if(0===e.length){const e=i[0];e&&n.push(`${e.color} 0%`,`${e.color} 100%`)}else{for(const t of e){const e=t.position/D*100,i=Math.max(0,Math.min(100,e));n.push(`${Q(t.color)} ${i}%`)}const t=Q(ee(i,D));0===n.length?n.push(`${t} 0%`,`${t} 100%`):n.push(`${t} 100%`)}X=`linear-gradient(${t}, ${n.join(", ")})`}}}let te="",ie="",ne="",oe="";const ae=e=>e.includes("linear-gradient")?L.bar_color||"var(--primary-color)":e;switch(ae(X),L.bar_style){case"flat":te="box-shadow: none;";break;case"glossy":L.use_gradient?ne="\n            background-image: linear-gradient(to bottom, \n              rgba(255,255,255,0.3) 0%, \n              rgba(255,255,255,0.1) 50%, \n              rgba(0,0,0,0.1) 51%, \n              rgba(0,0,0,0.05) 100%);\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);\n          ":ie=`\n            background: linear-gradient(to bottom, ${X}, ${X} 50%, rgba(0,0,0,0.1) 51%, ${X});\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);\n          `;break;case"embossed":te="\n          box-shadow: inset 0 1px 2px rgba(0,0,0,0.2), 0 1px 0 rgba(255,255,255,0.8);\n          border: 1px solid rgba(0,0,0,0.1);\n        ",ie="\n          box-shadow: inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(0,0,0,0.1);\n        ";break;case"inset":te="\n          box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);\n          border: 1px solid rgba(0,0,0,0.2);\n        ";break;case"gradient-overlay":L.use_gradient?ne="\n            background-image: linear-gradient(to bottom, \n              rgba(255,255,255,0.4) 0%, \n              rgba(255,255,255,0) 100%);\n          ":ie=`\n            background: linear-gradient(to bottom, \n              ${X} 0%, \n              rgba(255,255,255,0) 100%\n            );\n          `;break;case"neon-glow":const e=(e=>{if(e.includes("linear-gradient")&&L.use_gradient&&L.gradient_stops){const e=L.gradient_display_mode||"full";if("value-based"===e||"cropped"===e)return ee(L.gradient_stops,D);{const e=[...L.gradient_stops].sort(((e,t)=>t.position-e.position));if(e.length>0)return e[0].color}}return ae(e)})(X);ie=`\n          box-shadow: 0 0 10px ${e}, 0 0 20px ${e}, 0 0 30px ${e};\n          filter: brightness(1.2);\n        `,te="\n          box-shadow: inset 0 0 10px rgba(0,0,0,0.5);\n        ";break;case"outline":{const e=!(!L.use_gradient||!L.gradient_stops||"full"!==L.gradient_display_mode&&"cropped"!==L.gradient_display_mode&&"value-based"!==L.gradient_display_mode),t=L.gradient_stops&&L.gradient_stops.length>0?[...L.gradient_stops].sort(((e,t)=>e.position-t.position)):[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],i=t[t.length-1],n=i?Q(i.color):L.bar_color||"var(--primary-color)",o=L.bar_direction||"left-to-right",a="right-to-left"===o?"to left":"to right",r=t.map((e=>`${Q(e.color)} ${e.position}%`)).join(", "),l=Math.max(0,Math.min(100,D)),s=e=>Q(ee(t,e));let d=n;"cropped"!==L.gradient_display_mode&&"value-based"!==L.gradient_display_mode||(d=s(l));const c=G,u=L.gradient_display_mode||"full",p="right-to-left"===o;let g="",m="";e?"value-based"===u?(g=`linear-gradient(${c}, ${c}) padding-box,\n               linear-gradient(${a}, ${d}, ${d}) border-box`,m="background-size: 100% 100%, 100% 100%;"):"cropped"===u?p?(g=`linear-gradient(${c}, ${c}) padding-box,\n                 ${X} border-box,\n                 linear-gradient(${a}, ${d}, ${d}) border-box`,m=`background-size: 100% 100%, ${l}% 100%, 100% 100%;\n                           background-position: 0 0, ${100-l}% 0, 0 0;`):(g=`linear-gradient(${c}, ${c}) padding-box,\n                 ${X} border-box,\n                 linear-gradient(${a}, ${d}, ${d}) border-box`,m=`background-size: 100% 100%, ${l}% 100%, 100% 100%;`):p?(g=`linear-gradient(${c}, ${c}) padding-box,\n                 linear-gradient(${a}, ${r}) border-box,\n                 linear-gradient(${a}, ${d}, ${d}) border-box`,m=`background-size: 100% 100%, ${l}% 100%, 100% 100%;\n                           background-position: 0 0, ${100-l}% 0, 0 0;`):(g=`linear-gradient(${c}, ${c}) padding-box,\n                 linear-gradient(${a}, ${r}) border-box,\n                 linear-gradient(${a}, ${d}, ${d}) border-box`,m=`background-size: 100% 100%, ${l}% 100%, 100% 100%;`):(g=`linear-gradient(${c}, ${c}) padding-box,\n               linear-gradient(${a}, ${X}, ${X}) border-box`,m="background-size: 100% 100%, 100% 100%;"),te=`\n            border: 2px solid transparent;\n            border-radius: ${Y}px;\n            padding: 4px;\n            background: ${g};\n            ${m}\n            background-repeat: no-repeat;\n          `,ie=`\n            background: ${X};\n            border: none;\n            position: relative;\n            margin: 0;\n          `}break;case"glass":te="\n          backdrop-filter: blur(10px);\n          background-color: rgba(255,255,255,0.1) !important;\n          border: 1px solid rgba(255,255,255,0.2);\n        ",L.use_gradient?ne="\n            backdrop-filter: blur(5px);\n            background-image: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));\n          ":ie="\n            backdrop-filter: blur(5px);\n            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1)) !important;\n          ";break;case"metallic":L.use_gradient?ne="\n            background-image: linear-gradient(to bottom, \n              rgba(255,255,255,0.4) 0%, \n              rgba(255,255,255,0) 20%, \n              rgba(255,255,255,0) 80%, \n              rgba(0,0,0,0.2) 100%);\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), inset 0 -1px 0 rgba(0,0,0,0.3);\n          ":ie=`\n            background: linear-gradient(to bottom, \n              rgba(255,255,255,0.4) 0%, \n              ${X} 20%, \n              ${X} 80%, \n              rgba(0,0,0,0.2) 100%);\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), inset 0 -1px 0 rgba(0,0,0,0.3);\n          `;break;case"neumorphic":te="\n          box-shadow: inset 2px 2px 4px rgba(0,0,0,0.1), inset -2px -2px 4px rgba(255,255,255,0.1);\n        ",ie="\n          box-shadow: 2px 2px 4px rgba(0,0,0,0.1), -2px -2px 4px rgba(255,255,255,0.1);\n        ";break;case"dashed":const t=12,i=4,n=t+i,o="right-to-left"===(L.bar_direction||"left-to-right");if(D>=99.5)ie=`\n            mask-image: repeating-linear-gradient(\n              90deg,\n              black 0px,\n              black ${t}px,\n              transparent ${t}px,\n              transparent ${n}px\n            );\n            -webkit-mask-image: repeating-linear-gradient(\n              90deg,\n              black 0px,\n              black ${t}px,\n              transparent ${t}px,\n              transparent ${n}px\n            );\n            border-radius: ${o?`${Y}px 0 0 ${Y}px`:`0 ${Y}px ${Y}px 0`};\n          `;else{const e=o?"270deg":"90deg";ie=`\n            mask-image: \n              repeating-linear-gradient(\n                90deg,\n                black 0px,\n                black ${t}px,\n                transparent ${t}px,\n                transparent ${n}px\n              ),\n              linear-gradient(\n                ${e},\n                black 0%,\n                black calc(100% - ${i+2}px),\n                transparent calc(100% - ${i+2}px),\n                transparent 100%\n              );\n            -webkit-mask-image: \n              repeating-linear-gradient(\n                90deg,\n                black 0px,\n                black ${t}px,\n                transparent ${t}px,\n                transparent ${n}px\n              ),\n              linear-gradient(\n                ${e},\n                black 0%,\n                black calc(100% - ${i+2}px),\n                transparent calc(100% - ${i+2}px),\n                transparent 100%\n              );\n            mask-composite: intersect;\n            -webkit-mask-composite: source-in;\n            border-radius: 0;\n          `}break;case"dots":const a=4,r=[],l=[];for(let e=10;e<=D&&e<=100;e+=10)r.push(`${e}%`),l.push(`radial-gradient(circle ${a}px at ${e}% center, ${X} 0%, ${X} 100%, transparent 100%)`);ie=l.length>0?`\n            background-image: ${l.join(", ")};\n            background-size: 100% 100%;\n            background-repeat: no-repeat;\n          `:"background: transparent;";break;case"minimal":te="\n          background: transparent;\n          border: none;\n          box-shadow: none;\n        ",ie="\n          background: transparent;\n          border: none;\n          position: relative;\n        "}const re=L.bar_animation_type||"none";let le=!1;if(L.bar_animation_enabled&&"none"!==re){const e=L.bar_animation_trigger_type||"state",i=L.bar_animation_entity,n=(null!==(w=L.bar_animation_value)&&void 0!==w?w:"").toString();if(i&&""!==i.trim()&&""!==n.trim()){if(null==t?void 0:t.states[i]){const o=t.states[i];let a="";if("attribute"===e){const e=L.bar_animation_attribute||"";a=e?String(null!==(A=null===($=o.attributes)||void 0===$?void 0:$[e])&&void 0!==A?A:""):""}else a=String(null!==(j=o.state)&&void 0!==j?j:"");le=String(a)===n}}else le=!0;if(le)switch(re){case"charging":oe="bar-anim-charging";break;case"pulse":oe="bar-anim-pulse";break;case"blinking":oe="bar-anim-blink";break;case"bouncing":oe="bar-anim-bounce";break;case"glow":oe="bar-anim-glow";break;case"rainbow":oe="bar-anim-rainbow";break;case"bubbles":oe="bar-anim-bubbles";break;case"fill":oe="bar-anim-fill";break;case"ripple":oe="bar-anim-ripple";break;case"traffic":oe="bar-anim-traffic";break;case"heartbeat":oe="bar-anim-heartbeat";break;case"flicker":oe="bar-anim-flicker";break;case"shimmer":oe="bar-anim-shimmer";break;case"vibrate":oe="bar-anim-vibrate"}}const se=L.bar_animation_override_type||"none";if("none"!==se&&""!==(L.bar_animation_override_entity||"").trim()){const e=L.bar_animation_override_trigger_type||"state",i=L.bar_animation_override_entity,n=(null!==(T=L.bar_animation_override_value)&&void 0!==T?T:"").toString();let o=!1;if(null==t?void 0:t.states[i]){const a=t.states[i];if("attribute"===e){const e=L.bar_animation_override_attribute||"";o=(e?String(null!==(E=null===(I=a.attributes)||void 0===I?void 0:I[e])&&void 0!==E?E:""):"")===n}else o=String(null!==(P=a.state)&&void 0!==P?P:"")===n}if(o)switch(se){case"charging":oe="bar-anim-charging";break;case"pulse":oe="bar-anim-pulse";break;case"blinking":oe="bar-anim-blink";break;case"bouncing":oe="bar-anim-bounce";break;case"glow":oe="bar-anim-glow";break;case"rainbow":oe="bar-anim-rainbow";break;case"bubbles":oe="bar-anim-bubbles";break;case"fill":oe="bar-anim-fill";break;case"ripple":oe="bar-anim-ripple";break;case"traffic":oe="bar-anim-traffic";break;case"heartbeat":oe="bar-anim-heartbeat";break;case"flicker":oe="bar-anim-flicker";break;case"shimmer":oe="bar-anim-shimmer";break;case"vibrate":oe="bar-anim-vibrate"}}const de={padding:F.padding_top||F.padding_bottom||F.padding_left||F.padding_right||U.padding_top||U.padding_bottom||U.padding_left||U.padding_right?`${this.addPixelUnit(F.padding_top||U.padding_top)||"0px"} ${this.addPixelUnit(F.padding_right||U.padding_right)||"0px"} ${this.addPixelUnit(F.padding_bottom||U.padding_bottom)||"0px"} ${this.addPixelUnit(F.padding_left||U.padding_left)||"0px"}`:"0",margin:F.margin_top||F.margin_bottom||F.margin_left||F.margin_right||U.margin_top||U.margin_bottom||U.margin_left||U.margin_right?`${this.addPixelUnit(F.margin_top||U.margin_top)||"0px"} ${this.addPixelUnit(F.margin_right||U.margin_right)||"0px"} ${this.addPixelUnit(F.margin_bottom||U.margin_bottom)||"0px"} ${this.addPixelUnit(F.margin_left||U.margin_left)||"0px"}`:"0",background:q,backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},U),F),t),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",border:(F.border_style||U.border_style)&&"none"!==(F.border_style||U.border_style)?`${this.addPixelUnit(F.border_width||U.border_width)||"1px"} ${F.border_style||U.border_style} ${F.border_color||U.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(F.border_radius||U.border_radius)||"0",position:F.position||U.position||"relative",top:F.top||U.top||"auto",bottom:F.bottom||U.bottom||"auto",left:F.left||U.left||"auto",right:F.right||U.right||"auto",zIndex:F.z_index||U.z_index||"auto",width:K,height:F.height||U.height||"auto",maxWidth:F.max_width||U.max_width||"100%",maxHeight:F.max_height||U.max_height||"none",minWidth:F.min_width||U.min_width||"none",minHeight:F.min_height||U.min_height||"auto",overflow:F.overflow||U.overflow||"visible",clipPath:F.clip_path||U.clip_path||"none",backdropFilter:F.backdrop_filter||U.backdrop_filter||"none",boxShadow:F.box_shadow_h&&F.box_shadow_v?`${F.box_shadow_h||"0"} ${F.box_shadow_v||"0"} ${F.box_shadow_blur||"0"} ${F.box_shadow_spread||"0"} ${F.box_shadow_color||"rgba(0,0,0,0.1)"}`:U.box_shadow_h&&U.box_shadow_v?`${U.box_shadow_h||"0"} ${U.box_shadow_v||"0"} ${U.box_shadow_blur||"0"} ${U.box_shadow_spread||"0"} ${U.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box",color:F.color||U.color||"var(--primary-text-color)",fontFamily:F.font_family||U.font_family||"inherit",fontSize:void 0!==F.font_size&&null!==F.font_size?`${F.font_size}px`:(U.font_size?`${U.font_size}px`:void 0)||"inherit",textAlign:F.text_align||U.text_align||"inherit",lineHeight:F.line_height||U.line_height||"inherit",letterSpacing:F.letter_spacing||U.letter_spacing||"normal",textShadow:F.text_shadow_h&&F.text_shadow_v?`${F.text_shadow_h||"0"} ${F.text_shadow_v||"0"} ${F.text_shadow_blur||"0"} ${F.text_shadow_color||"rgba(0,0,0,0.25)"}`:U.text_shadow_h&&U.text_shadow_v?`${U.text_shadow_h||"0"} ${U.text_shadow_v||"0"} ${U.text_shadow_blur||"0"} ${U.text_shadow_color||"rgba(0,0,0,0.25)"}`:"none"},ce=Math.max(1,Math.min(100,Number(L.bar_width||100))),ue=`${ce}%`;let pe="flex-start";switch(L.bar_alignment){case"left":pe="flex-start";break;case"center":pe="center";break;case"right":pe="flex-end"}let ge=null,me=null,_e=!1,he=0,ve=0;const be=null===(M=L.design)||void 0===M?void 0:M.hover_effect,fe=C.k.getHoverEffectClass(be);return n.qy`
      <style>
        ${this.getStyles()}
      </style>
      <div class="bar-module-preview" style=${this.styleObjectToCss(de)}>
        <!-- Bar Container -->
        <div style="display: flex; justify-content: ${pe}; width: 100%; min-height: ${J}; align-items: center; min-width: 0;">
          <div
            class="bar-container ${fe}"
            style="
            width: ${ue};
            max-width: 100%;
            flex: ${ce<100?"0 0 auto":"1 1 auto"};
            height: ${J}; 
            background: ${G};
            min-width: 80px;
            border-radius: ${Y}px;
            overflow: hidden;
            position: relative;
            transition: ${!1!==L.animation?"all 0.3s ease":"none"};
            border: ${"outline"!==L.bar_style?`1px solid ${L.bar_border_color||U.border_color||"var(--divider-color)"}`:"none"};
            ${te};
            cursor: ${L.tap_action&&"nothing"!==L.tap_action.action||L.hold_action&&"nothing"!==L.hold_action.action||L.double_tap_action&&"nothing"!==L.double_tap_action.action?"pointer":"default"};
          "
          @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),_e=!1,me=setTimeout((()=>{_e=!0,L.hold_action&&"nothing"!==L.hold_action.action&&s.K.handleAction(L.hold_action,t,e.target)}),500)}}
          @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),me&&(clearTimeout(me),me=null),_e)return void(_e=!1);const i=Date.now();i-ve<300&&1===he?(ge&&(clearTimeout(ge),ge=null),he=0,L.double_tap_action&&"nothing"!==L.double_tap_action.action&&s.K.handleAction(L.double_tap_action,t,e.target)):(he=1,ve=i,ge=setTimeout((()=>{he=0,L.tap_action&&"nothing"!==L.tap_action.action&&s.K.handleAction(L.tap_action,t,e.target)}),300))}}
        >
            <!-- Bar Fill / Dots Style / Minimal Style -->
            ${"minimal"===L.bar_style?(()=>{var e;const t=L.bar_direction||"left-to-right",i="right-to-left"===t,o=i?100-D:D;let a=L.bar_color||"var(--primary-color)",r=L.dot_color||L.bar_color||"var(--primary-color)";if(L.use_gradient&&L.gradient_stops&&L.gradient_stops.length>0){const e=[...L.gradient_stops].sort(((e,t)=>e.position-t.position)),i=L.gradient_display_mode||"full",n="right-to-left"===t?"to left":"to right";if("full"===i){const t=e.map((e=>`${Q(e.color)} ${e.position}%`)).join(", ");a=`linear-gradient(${n}, ${t})`,r=L.dot_color||Q(ee(e,D))}else if("cropped"===i)if(D<=0){const t=Q(e[0].color);a=t,r=L.dot_color||t}else{const t=[...e.filter((e=>e.position<=D))],i=ee(e,D);if(t.some((e=>e.position===D))||t.push({id:`cropped_${D}`,position:D,color:i}),t.sort(((e,t)=>e.position-t.position)),0===t.length){const t=Q(e[0].color);a=t,r=L.dot_color||t}else{const e=t.map((e=>Object.assign(Object.assign({},e),{position:D>0?e.position/D*100:0}))).map((e=>`${Q(e.color)} ${Math.min(100,Math.max(0,e.position))}%`)).join(", ");a=`linear-gradient(${n}, ${e})`,r=L.dot_color||Q(i)}}else if("value-based"===i){const t=ee(e,D),i=Q(t);a=i,r=L.dot_color||i}}const l="cropped"===(L.gradient_display_mode||"full")&&L.use_gradient,s=null!==(e=L.height)&&void 0!==e?e:20,d=Math.max(1,Math.floor(s/3)),c=Math.max(8,Math.min(24,3*d+6));return n.qy`
                      ${l?n.qy`
                            <!-- Background track (unfilled portion) -->
                            <div
                              style="
                                position: absolute;
                                top: 50%;
                                left: 0;
                                right: 0;
                                height: ${d}px;
                            background: ${L.bar_background_color||"rgba(var(--rgb-primary-color), 0.2)"};
                            transform: translateY(-50%);
                            border-radius: ${Math.max(1,Math.floor(d/2))}px;
                            opacity: 0.6;
                          "
                            ></div>

                            <!-- Filled track portion (with gradient) -->
                            <div
                              class="minimal-track ${oe}"
                              style="
                                position: absolute;
                                top: 50%;
                                left: ${i?100-D+"%":"0"};
                                width: ${D}%;
                                height: ${d}px;
                            background: ${a};
                            transform: translateY(-50%);
                            border-radius: ${Math.max(1,Math.floor(d/2))}px;
                            opacity: 0.8;
                            transition: ${!1!==L.animation?"all 0.3s ease":"none"};
                          "
                            ></div>
                          `:n.qy`
                            <!-- Track line (full/value-based modes) -->
                            <div
                              class="minimal-track ${oe}"
                              style="
                                position: absolute;
                                top: 50%;
                                left: 0;
                                right: 0;
                                height: ${d}px;
                            background: ${a};
                            transform: translateY(-50%);
                            border-radius: ${Math.max(1,Math.floor(d/2))}px;
                            opacity: 0.8;
                            transition: ${!1!==L.animation?"all 0.3s ease":"none"};
                          "
                            ></div>
                          `}

                      <!-- Dot indicator -->
                      <div
                        class="minimal-dot ${oe}"
                        style="
                          position: absolute;
                          top: 50%;
                          left: ${o}%;
                          width: ${c}px;
                          height: ${c}px;
                          background: ${r};
                          border: 2px solid var(--card-background-color);
                          border-radius: 50%;
                          transform: translate(-50%, -50%);
                          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                          transition: ${!1!==L.animation?"left 0.3s ease, background 0.3s ease":"none"};
                          z-index: 5;
                        "
                      ></div>
                    `})():"dots"===L.bar_style?(()=>{var e;const t=null!==(e=L.height)&&void 0!==e?e:20,i=Math.max(6,Math.floor(t-8)),o=G,a=L.bar_direction||"left-to-right",r=L.use_gradient&&L.gradient_stops&&L.gradient_stops.length>0?[...L.gradient_stops].sort(((e,t)=>e.position-t.position)):[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],l=e=>{const t=[...r].sort(((e,t)=>e.position-t.position));let i=t[0],n=t[t.length-1];for(let o=0;o<t.length-1;o++)if(e>=t[o].position&&e<=t[o+1].position){i=t[o],n=t[o+1];break}if(i.position===e)return i.color;if(n.position===e)return n.color;const o=n.position-i.position,a=0===o?0:(e-i.position)/o;return this.interpolateColor(i.color,n.color,a)},s=L.gradient_display_mode||"full",d=Array.from({length:20},((e,t)=>{const r=Math.round((t+1)/21*100),d="right-to-left"===a?100-r<=D:r<=D;let c=X;if(L.use_gradient){if("full"===s)if(d){const e=D>0?Math.min(100,Math.max(0,Math.round(r/Math.max(1,D)*100))):0;c=l(e)}else c=o;else if("cropped"===s)c=d?l(r):o;else if("value-based"===s){const e=l(D);c=d?e:o}}else c=d?L.bar_color||U.color||"var(--primary-color)":o;return n.qy`<div
                          style="width:${i}px;height:${i}px;border-radius:50%;background:${c};flex-shrink:0;"
                        ></div>`})),c="right-to-left"===a?d.reverse():d;return n.qy`<div
                        class="dots-container"
                        style="display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;padding:0 ${Math.max(2,Math.floor(i/3))}px;box-sizing:border-box;flex-direction:${"right-to-left"===a?"row-reverse":"row"};"
                      >
                        ${c}
                      </div>`})():(()=>{const e="right-to-left"===(L.bar_direction||"left-to-right");let t="";return t=D>=99.5?`${Y}px`:e?`0 ${Y}px ${Y}px 0`:`${Y}px 0 0 ${Y}px`,n.qy`
                        <div
                          class="bar-fill ${oe}"
                          style="
                        width: ${D}%;
                        height: 100%;
                        background: ${X};
                        transition: ${!1!==L.animation?"width 0.3s ease":"none"};
                        border-radius: ${t};
                        position: absolute;
                        ${e?"right: 0;":"left: 0;"}
                        top: 0;
                        bottom: 0;
                        will-change: width;
                        backface-visibility: hidden;
                        ${ie}
                      "
                        >
                          ${ne?n.qy` <div
                                class="bar-fill-overlay"
                                style="
                                position: absolute;
                                inset: 0;
                                border-radius: inherit;
                                pointer-events: none;
                                ${ne}
                              "
                              ></div>`:""}
                        </div>
                      `})()}

            <!-- Limit Indicator -->
            ${L.limit_entity&&(null==t?void 0:t.states[L.limit_entity])&&H>=0?n.qy`
                    <div
                      class="bar-limit-line"
                      style="
                    position: absolute; 
                    top: 0; 
                    bottom: 0; 
                    left: ${H}%; 
                    width: 2px; 
                    background-color: ${L.limit_color||"var(--warning-color)"}; 
                    z-index: 5; 
                    transform: translateX(-50%);
                  "
                      title="${(()=>{var e;try{const n=null===(e=t.states[L.limit_entity])||void 0===e?void 0:e.state;return(async()=>{const{formatEntityState:e}=await Promise.resolve().then(i.bind(i,57));e(t,L.limit_entity,{state:n,includeUnit:!0})})(),`Limit: ${n}`}catch(e){return"Limit"}})()}"
                    ></div>
                  `:""}

            <!-- Percentage Text (Inside Bar) -->
            ${L.show_percentage?n.qy`
                    <div
                      class="percentage-text"
                      style="
                    position: absolute;
                    top: 50%;
                    left: ${"left"===L.percentage_text_alignment?"8px":"right"===L.percentage_text_alignment?"calc(100% - 32px)":"50%"};
                    transform: translate(${"center"===L.percentage_text_alignment?"-50%, -50%":"0, -50%"});
                    text-align: ${L.percentage_text_alignment||"center"};
                    font-size: ${F.font_size?`${F.font_size}px`:`${L.percentage_text_size||14}px`};
                    color: ${L.percentage_text_color||F.color||U.color||"white"};
                    font-weight: 600;
                    z-index: 10;
                    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
                    white-space: nowrap;
                  "
                    >
                      ${Math.round(D)}%
                    </div>
                  `:""}
          </div>

          ${!(null==t?void 0:t.states[L.entity])&&L.entity?n.qy`
                  <div
                    class="entity-error"
                    style="color: var(--error-color); font-size: 12px; margin-top: 4px;"
                  >
                    Entity not found: ${L.entity}
                  </div>
                `:""}
        </div>

        <!-- Left and Right Side Labels (Below Bar) -->
        ${L.left_enabled||L.right_enabled?n.qy`
                <div
                  class="bar-labels-below"
                  style="display: flex; justify-content: ${L.label_alignment||"space-between"}; align-items: center; margin-top: 8px; gap: 16px; width: 100%;"
                >
                  ${L.left_enabled?n.qy`
                        <div class="left-side-below" style="text-align: left;">
                          <span
                            style="font-size: ${F.font_size?`${F.font_size}px`:`${L.left_title_size||14}px`}; color: ${F.color||L.left_title_color||U.color||"var(--primary-text-color)"};"
                          >
                            ${L.left_title}:
                          </span>
                          <span
                            style="font-size: ${F.font_size?`${F.font_size}px`:`${L.left_value_size||14}px`}; font-weight: 600; color: ${F.color||L.left_value_color||U.color||"var(--primary-text-color)"}; margin-left: 4px;"
                          >
                            ${B}
                          </span>
                        </div>
                      `:n.qy`<div></div>`}
                  ${L.right_enabled?n.qy`
                        <div class="right-side-below" style="text-align: right;">
                          <span
                            style="font-size: ${F.font_size?`${F.font_size}px`:`${L.right_title_size||14}px`}; color: ${F.color||L.right_title_color||U.color||"var(--primary-text-color)"};"
                          >
                            ${L.right_title}:
                          </span>
                          <span
                            style="font-size: ${F.font_size?`${F.font_size}px`:`${L.right_value_size||14}px`}; font-weight: 600; color: ${F.color||L.right_value_color||U.color||"var(--primary-text-color)"}; margin-left: 4px;"
                          >
                            ${N}
                          </span>
                        </div>
                      `:n.qy`<div></div>`}
                </div>
              `:""}
        </div>
      </div>
    `}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}validate(e){const t=e,i=[...super.validate(e).errors];return t.entity&&""!==t.entity.trim()||i.push("Entity ID is required"),t.height&&(t.height<5||t.height>200)&&i.push("Bar height must be between 5 and 200 pixels"),t.border_radius&&(t.border_radius<0||t.border_radius>100)&&i.push("Border radius must be between 0 and 100 pixels"),t.limit_entity&&""!==t.limit_entity.trim()&&(t.limit_entity.includes(".")||i.push("Limit entity must be a valid entity ID (e.g., sensor.battery_limit)")),{valid:0===i.length,errors:i}}getStyles(){return'\n      .bar-module-preview {\n        display: block; /* ensure bar occupies width of its container */\n        width: 100%;\n        max-width: 100%;\n        overflow: visible;\n        box-sizing: border-box;\n        min-width: 80px; /* keep a visible track inside flex rows */\n      }\n      \n      .bar-container {\n        width: 100%;\n        position: relative;\n        display: block;\n        box-sizing: border-box;\n        min-width: 0; /* allow flex parent to size correctly */\n      }\n      \n      .bar-fill {\n        position: relative;\n        z-index: 1;\n        overflow: hidden; /* Keep overlay animations clipped to rounded corners */\n      }\n      \n      .bar-fill-overlay {\n        position: absolute;\n        inset: 0;\n        pointer-events: none;\n        z-index: 2;\n        overflow: hidden;\n        mix-blend-mode: normal;\n      }\n      \n      /* Ensure overlay inherits border radius properly */\n      .bar-fill-overlay {\n        border-radius: inherit;\n      }\n      \n      /* Outline style animation */\n      @keyframes outline-pulse {\n        0%, 100% { opacity: 0.6; }\n        50% { opacity: 1; }\n      }\n      \n      .bar-limit-line {\n        opacity: 0.9;\n        transition: opacity 0.2s ease;\n      }\n      \n      .bar-limit-line:hover {\n        opacity: 1;\n      }\n      \n      .bar-name {\n        font-size: 16px;\n        font-weight: 600;\n        color: var(--primary-text-color);\n        margin-bottom: 8px;\n        user-select: none;\n        word-wrap: break-word;\n      }\n      \n      .bar-value {\n        user-select: none;\n        text-shadow: 0 1px 2px rgba(0,0,0,0.1);\n      }\n      \n      .bar-value-outside {\n        user-select: none;\n        text-align: center;\n        font-weight: 600;\n        color: var(--primary-text-color);\n      }\n      \n      .entity-error {\n        font-size: 12px;\n        color: var(--error-color);\n        margin-top: 6px;\n        font-style: italic;\n        opacity: 0.8;\n      }\n      \n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n      \n      .settings-section * {\n        box-sizing: border-box;\n      }\n      \n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        margin-bottom: 12px !important;\n        padding-bottom: 0 !important;\n        border-bottom: none !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n      \n      .settings-section label {\n        display: block;\n        font-weight: 500;\n        margin-bottom: 4px;\n        color: var(--primary-text-color);\n      }\n      \n      .settings-section input,\n      .settings-section select {\n        width: 100%;\n        max-width: 100%;\n        padding: 8px;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--card-background-color);\n        color: var(--primary-text-color);\n        font-size: 14px;\n        box-sizing: border-box;\n      }\n      \n      .settings-section .checkbox-wrapper {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-weight: 500;\n      }\n      \n      .settings-section .checkbox-wrapper input[type="checkbox"] {\n        width: auto;\n        margin: 0;\n      }\n      \n      .help-text {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        margin: 4px 0 0 0;\n        opacity: 0.8;\n        word-wrap: break-word;\n      }\n      \n      .number-input,\n      .text-input,\n      .entity-input,\n      .select-input {\n        transition: border-color 0.2s ease;\n      }\n      \n      .number-input:focus,\n      .text-input:focus,\n      .entity-input:focus,\n      .select-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 1px var(--primary-color);\n      }\n      \n      /* Fix padding overflow */\n      .module-general-settings {\n        max-width: 100%;\n        /* Allow dropdown menus to render outside local containers */\n        overflow: visible;\n      }\n      \n      .module-general-settings { }\n      /* Dropdown positioning fixes scoped to Bar module (defensive in case globals miss) */\n      .bar-module-preview .settings-section ha-select {\n        position: relative !important;\n        overflow: visible !important;\n        z-index: 9999 !important;\n      }\n\n      .bar-module-preview .settings-section ha-select .mdc-select__menu,\n      .bar-module-preview .settings-section ha-select mwc-menu,\n      .bar-module-preview .settings-section ha-select .mdc-menu,\n      .bar-module-preview .settings-section ha-select ha-menu {\n        /* Rely on HA menu positioning; ensure it\'s above */\n        z-index: 10001 !important;\n      }\n\n      .module-general-settings > * {\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Proper form field arrangement: Title -> Description -> Field */\n      .settings-section ha-form {\n        --ha-form-field-margin: 8px 0;\n      }\n\n      .settings-section ha-form::part(field) {\n        margin-bottom: 8px;\n      }\n\n      .settings-section ha-form .ha-form-label {\n        font-size: 14px;\n        font-weight: 500;\n        color: var(--primary-text-color);\n        margin-bottom: 4px;\n        display: block;\n      }\n\n      .settings-section ha-form .ha-form-description {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        margin-bottom: 8px;\n        display: block;\n        opacity: 0.8;\n        line-height: 1.4;\n      }\n\n      .settings-section ha-form mwc-formfield {\n        --mdc-typography-body2-font-size: 14px;\n      }\n\n      .settings-section ha-form ha-switch {\n        --switch-checked-color: var(--primary-color);\n        --switch-unchecked-color: var(--disabled-color);\n      }\n\n      /* Field arrangement styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n      \n        margin-bottom: 4px !important;\n        padding-bottom: 0 !important;\n        border-bottom: none !important;\n        display: block !important;\n        line-height: 1.2 !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n        font-weight: 400 !important;\n      }\n\n      /* Remove labels from ultra-color-picker when using external titles */\n      .settings-section ultra-color-picker .color-label {\n        display: none;\n      }\n\n      /* Prevent form fields from going off screen */\n      .property-input, .property-select {\n        max-width: 500px;\n      }\n\n      /* Apply max-width to ha-form elements */\n      .settings-section ha-form {\n        max-width: 500px;\n      }\n\n      /* Apply max-width to form inputs and selects */\n      .settings-section input,\n      .settings-section select,\n      .settings-section ha-textfield,\n      .settings-section ha-select {\n        max-width: 500px;\n      }\n      /* Give selects a consistent card background (scoped to bar module sections only) */\n      .bar-module-preview .settings-section ha-select {\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        border-radius: 6px !important;\n        padding: 4px 0 !important;\n        /* MWC menu and text field surfaces */\n        --mdc-theme-surface: var(--card-background-color);\n        --mdc-text-field-fill-color: var(--card-background-color);\n        --mdc-select-fill-color: var(--card-background-color);\n        --mdc-menu-surface-fill-color: var(--card-background-color);\n        --mdc-text-field-ink-color: var(--primary-text-color);\n        --mdc-text-field-outline-color: var(--divider-color);\n        --mdc-select-dropdown-icon-color: var(--secondary-text-color);\n        --mdc-theme-text-primary-on-background: var(--primary-text-color);\n        --mdc-theme-on-surface: var(--primary-text-color);\n      }\n\n      /* Ensure ha-form selects inherit same surface in all contexts */\n      .bar-module-preview .settings-section ha-form ha-select {\n        --mdc-theme-surface: var(--card-background-color);\n        --mdc-text-field-fill-color: var(--card-background-color);\n        --mdc-select-fill-color: var(--card-background-color);\n        --mdc-menu-surface-fill-color: var(--card-background-color);\n        --mdc-text-field-ink-color: var(--primary-text-color);\n        --mdc-text-field-outline-color: var(--divider-color);\n        --mdc-select-dropdown-icon-color: var(--secondary-text-color);\n        --mdc-theme-text-primary-on-background: var(--primary-text-color);\n        --mdc-theme-on-surface: var(--primary-text-color);\n      }\n\n      /* Give animation selects a proper background */\n      .settings-section[data-animation] ha-select,\n      .animation-select-group ha-select {\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        border-radius: 6px !important;\n        padding: 4px 0 !important;\n      }\n      /* Ensure percentage type dropdown has standard background container */\n      .percentage-type-group ha-select {\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        border-radius: 6px !important;\n        padding: 4px 0 !important;\n      }\n\n      /* Fix slider and input field layouts */\n      .settings-section .field-group {\n        max-width: 100%;\n        overflow: visible;\n        align-items: stretch;\n      }\n\n      /* Ensure slider containers don\'t get cut off */\n      .settings-section ha-form[style*="flex: 1"] {\n        min-width: 200px;\n        flex: 1 1 200px;\n      }\n\n      /* Fix input field containers */\n      .settings-section input[type="number"] {\n        min-width: 60px;\n        max-width: 80px;\n        flex-shrink: 0;\n      }\n\n      /* Ensure proper spacing for slider + input combos */\n      .settings-section div[style*="display: flex; gap: 8px"] {\n        gap: 8px !important;\n        align-items: center !important;\n        flex-wrap: nowrap !important;\n        min-width: 0;\n      }\n\n      .settings-section div[style*="display: flex; gap: 12px"] {\n        gap: 12px !important;\n        align-items: center !important;\n        flex-wrap: nowrap !important;\n        min-width: 0;\n      }\n\n      /* Prevent overflow in gradient editor */\n      .gradient-editor {\n        max-width: 100%;\n        overflow: visible;\n      }\n\n      .gradient-stop {\n        max-width: 100%;\n        overflow: visible;\n        position: relative;\n      }\n\n      /* Gradient stop drag handle styling */\n      .gradient-stop .drag-handle {\n        transition: all 0.2s ease;\n      }\n\n      .gradient-stop:hover .drag-handle {\n        color: var(--primary-color) !important;\n        transform: scale(1.1);\n      }\n\n      /* Ultra color picker sizing */\n      ultra-color-picker {\n        min-width: 40px;\n        max-width: 60px;\n        flex-shrink: 0;\n      }\n\n      /* Ensure gradient controls don\'t overflow */\n      .gradient-stops {\n        max-width: 100%;\n        overflow: visible;\n      }\n\n      /* Hide automatic value displays from ha-form sliders to prevent cut-off */\n      .settings-section ha-form ha-slider::part(value-display),\n      .settings-section ha-form mwc-slider::part(value-display),\n      .settings-section ha-form ha-slider .value-display,\n      .settings-section ha-form mwc-slider .value-display {\n        display: none !important;\n      }\n\n      /* Hide any automatic number displays that might appear next to sliders */\n      .settings-section ha-form .slider-value,\n      .settings-section ha-form .current-value,\n      .settings-section ha-form .number-display {\n        display: none !important;\n      }\n\n      /* Override any default slider value display styles */\n      .settings-section ha-form[data-field*="size"] .mdc-slider-value-indicator,\n      .settings-section ha-form[data-field*="size"] .value-indicator {\n        display: none !important;\n      }\n\n      /* More comprehensive hiding of slider value displays */\n      .settings-section ha-form ha-textfield[type="number"],\n      .settings-section ha-form mwc-textfield[type="number"],\n      .settings-section ha-form .number-input-display {\n        display: none !important;\n      }\n\n      /* Target specific Home Assistant slider value containers */\n      .settings-section ha-form .form-group .number-display,\n      .settings-section ha-form .ha-form-number .display-value,\n      .settings-section ha-form [role="slider"] + *:not(.mdc-slider-track),\n      .settings-section ha-form .mdc-slider + .value-display {\n        display: none !important;\n      }\n\n      /* Ensure sliders take full width without value displays */\n      .settings-section ha-form .mdc-slider,\n      .settings-section ha-form ha-slider {\n        width: 100% !important;\n        max-width: 100% !important;\n      }\n\n      /* Hide any text elements that might display current values */\n      .settings-section ha-form .field-wrapper > span:last-child,\n      .settings-section ha-form .form-control > span:last-child,\n      .settings-section ha-form .slider-container > span:last-child {\n        display: none !important;\n      }\n\n      /* Specifically target number displays in form groups */\n      .settings-section ha-form .form-group > *:last-child:not(ha-slider):not(.mdc-slider):not(input[type="range"]) {\n        display: none !important;\n      }\n\n      /* Custom Slider Controls - Optimized Design */\n      .number-range-control {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n      }\n\n      .range-slider {\n        flex: 0 0 65%;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        min-width: 0;\n      }\n\n      .range-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider::-moz-range-thumb {\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .range-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-input {\n        flex: 0 0 20%;\n        padding: 6px 8px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        box-sizing: border-box;\n      }\n\n      .range-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .range-reset-btn {\n        width: 32px;\n        height: 32px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .range-reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .range-reset-btn ha-icon {\n        font-size: 14px;\n      }\n\n      /* Conditional Fields Grouping - Reusable Pattern */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n        border-left-color: var(--primary-color);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        margin: 0;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n        background: transparent;\n      }\n\n      /* Remove top margin from first field in conditional groups */\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      /* Ensure proper spacing within conditional field groups */\n      .conditional-fields-content .field-title {\n     \n      }\n\n      .conditional-fields-content .field-description {\n        color: var(--secondary-text-color);\n        opacity: 0.9;\n      }\n\n      /* Animation for conditional fields appearing */\n      .conditional-fields-group {\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Make conditional fields responsive */\n      @media (max-width: 768px) {\n        .conditional-fields-group {\n          border-left-width: 3px;\n        }\n        \n        .conditional-fields-header {\n          padding: 10px 12px;\n          font-size: 13px;\n        }\n        \n        .conditional-fields-content {\n          padding: 12px;\n        }\n      }\n\n      /* ==========================\n         Bar Animations\n         These classes animate the .bar-fill element when triggered\n         ========================== */\n      .bar-fill.bar-anim-charging::after {\n        content: \'\';\n        position: absolute; inset: 0; pointer-events: none;\n        background-image: repeating-linear-gradient(45deg, rgba(255,255,255,0.25) 0, rgba(255,255,255,0.25) 10px, transparent 10px, transparent 20px);\n        background-size: 28px 28px;\n        animation: charging-stripes 1.2s linear infinite;\n      }\n      @keyframes charging-stripes { 0% { background-position: 0 0; } 100% { background-position: 28px 0; } }\n\n      .bar-fill.bar-anim-pulse { animation: bar-pulse 1.6s ease-in-out infinite; }\n      @keyframes bar-pulse { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.3); } }\n\n      .bar-fill.bar-anim-blink { animation: bar-blink 1s steps(2, start) infinite; }\n      @keyframes bar-blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }\n\n      .bar-fill.bar-anim-bounce { animation: bar-bounce 1.2s ease-in-out infinite; transform-origin: center; }\n      @keyframes bar-bounce { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-2px); } }\n\n      .bar-fill.bar-anim-glow { box-shadow: 0 0 10px currentColor, 0 0 20px currentColor; animation: bar-glow 1.5s ease-in-out infinite; }\n      @keyframes bar-glow { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.4); } }\n\n      .bar-fill.bar-anim-rainbow::after { content:\'\'; position:absolute; inset:0; pointer-events:none; background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet); background-size: 400% 100%; mix-blend-mode: overlay; opacity: 0.9; animation: rainbow-shift 3s linear infinite; }\n      @keyframes rainbow-shift { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }\n\n      /* Bubbles: two extended layers with discrete bubbles, animated bottom -> top */\n      .bar-fill.bar-anim-bubbles::before,\n      .bar-fill.bar-anim-bubbles::after {\n        content: \'\';\n        position: absolute;\n        left: 0; right: 0;\n        top: -220%;\n        height: 440%;\n        pointer-events: none;\n        will-change: transform, opacity;\n        background-repeat: no-repeat;\n        filter: none;\n      }\n      /* Layer 1 (faster, fewer bubbles) */\n      .bar-fill.bar-anim-bubbles::before {\n        background:\n          radial-gradient(circle at 8% 80%,  rgba(255,255,255,0.55) 0 6px, transparent 7px),\n          radial-gradient(circle at 22% 55%, rgba(255,255,255,0.45) 0 5px, transparent 6px),\n          radial-gradient(circle at 37% 72%, rgba(255,255,255,0.50) 0 7px, transparent 8px),\n          radial-gradient(circle at 49% 60%, rgba(255,255,255,0.42) 0 5px, transparent 6px),\n          radial-gradient(circle at 63% 82%, rgba(255,255,255,0.50) 0 6px, transparent 7px),\n          radial-gradient(circle at 77% 68%, rgba(255,255,255,0.46) 0 5px, transparent 6px),\n          radial-gradient(circle at 89% 78%, rgba(255,255,255,0.52) 0 6px, transparent 7px);\n        animation: bubbles-rise-layer1 7s linear infinite;\n        transform: translateY(0%);\n      }\n      /* Layer 2 (slower, different positions) */\n      .bar-fill.bar-anim-bubbles::after {\n        background:\n          radial-gradient(circle at 14% 84%, rgba(255,255,255,0.48) 0 7px, transparent 8px),\n          radial-gradient(circle at 30% 66%, rgba(255,255,255,0.40) 0 5px, transparent 6px),\n          radial-gradient(circle at 55% 82%, rgba(255,255,255,0.50) 0 6px, transparent 7px),\n          radial-gradient(circle at 71% 64%, rgba(255,255,255,0.44) 0 5px, transparent 6px),\n          radial-gradient(circle at 84% 78%, rgba(255,255,255,0.50) 0 7px, transparent 8px);\n        animation: bubbles-rise-layer2 10s linear infinite;\n        animation-delay: 1.2s;\n        transform: translateY(0%);\n      }\n      @keyframes bubbles-rise-layer1 {\n        0%   { transform: translateY(0%); opacity: 0; }\n        22%  { opacity: 1; }\n        88%  { opacity: 1; }\n        100% { transform: translateY(-58%); opacity: 0; }\n      }\n      @keyframes bubbles-rise-layer2 {\n        0%   { transform: translateY(0%); opacity: 0; }\n        26%  { opacity: 1; }\n        88%  { opacity: 1; }\n        100% { transform: translateY(-58%); opacity: 0; }\n      }\n\n      .bar-fill.bar-anim-fill { animation: bar-fill-wave 1.5s ease-in-out infinite; }\n      @keyframes bar-fill-wave { 0%,100% { filter: saturate(1); } 50% { filter: saturate(1.4); } }\n\n      .bar-fill.bar-anim-ripple::after {\n        content: \'\';\n        position: absolute; inset: 0; pointer-events: none;\n        background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.65) 20%, transparent 40%);\n        background-size: 200% 100%;\n        animation: ripple-sweep 1.1s ease-in-out infinite;\n        opacity: 0.9;\n      }\n      @keyframes ripple-sweep {\n        0% { background-position-x: -50%; }\n        100% { background-position-x: 150%; }\n      }\n\n      /* Traffic: moving hazard chevrons left->right to evoke flowing traffic lanes */\n      .bar-fill.bar-anim-traffic::after {\n        content:\'\'; position:absolute; inset:0; pointer-events:none; opacity: 0.95;\n        background-image:\n          linear-gradient(135deg, rgba(255,255,255,0.00) 0 40%, rgba(255,255,255,0.25) 40% 60%, rgba(255,255,255,0.00) 60% 100%),\n          linear-gradient(-135deg, rgba(255,255,255,0.00) 0 40%, rgba(255,255,255,0.25) 40% 60%, rgba(255,255,255,0.00) 60% 100%);\n        background-size: 44px 100%, 44px 100%;\n        background-position: 0 0, 22px 0;\n        animation: traffic-chevrons 1s linear infinite;\n        mix-blend-mode: screen;\n      }\n      @keyframes traffic-chevrons { 0% { background-position: 0 0, 22px 0; } 100% { background-position: 44px 0, 66px 0; } }\n\n      /* Traffic Flow: thicker bands with alternating opacity, moving left->right */\n      \n\n      .bar-fill.bar-anim-heartbeat { animation: heartbeat 1.2s ease-in-out infinite; transform-origin: center; }\n      @keyframes heartbeat { 0%,100% { transform: scale(1); } 20% { transform: scale(1.02); } 40% { transform: scale(0.99); } 60% { transform: scale(1.02); } 80% { transform: scale(1); } }\n\n      .bar-fill.bar-anim-flicker { animation: flicker 2s infinite; }\n      @keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100%{ opacity:1 } 20%,24%,55%{ opacity:0.4 } }\n\n      .bar-fill.bar-anim-shimmer { position: relative; overflow: hidden; }\n      .bar-fill.bar-anim-shimmer::after { content:\'\'; position:absolute; top:0; bottom:0; width:40%; left:-40%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.35), transparent); animation: shimmer-move 1.4s ease-in-out infinite; }\n      @keyframes shimmer-move { 0% { left: -40%; } 100% { left: 120%; } }\n\n      .bar-fill.bar-anim-vibrate { animation: vibrate 0.15s linear infinite; }\n      @keyframes vibrate { 0% { transform: translate(0); } 25% { transform: translate(0.5px,-0.5px); } 50% { transform: translate(-0.5px,0.5px); } 75% { transform: translate(0.5px,0.5px); } 100% { transform: translate(0); } }\n\n      /* Minimal Bar Animations */\n      .minimal-track.bar-anim-pulse { animation: minimal-track-pulse 1.6s ease-in-out infinite; }\n      @keyframes minimal-track-pulse { 0%,100% { opacity: 0.8; } 50% { opacity: 1; } }\n      \n      .minimal-dot.bar-anim-pulse { animation: minimal-dot-pulse 1.6s ease-in-out infinite; }\n      @keyframes minimal-dot-pulse { 0%,100% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.15); } }\n      \n      .minimal-track.bar-anim-glow { box-shadow: 0 0 4px currentColor; animation: minimal-track-glow 1.5s ease-in-out infinite; }\n      @keyframes minimal-track-glow { 0%,100% { box-shadow: 0 0 4px currentColor; } 50% { box-shadow: 0 0 8px currentColor; } }\n      \n      .minimal-dot.bar-anim-glow { animation: minimal-dot-glow 1.5s ease-in-out infinite; }\n      @keyframes minimal-dot-glow { 0%,100% { box-shadow: 0 2px 4px rgba(0,0,0,0.2), 0 0 6px currentColor; } 50% { box-shadow: 0 2px 6px rgba(0,0,0,0.3), 0 0 12px currentColor; } }\n      \n      .minimal-track.bar-anim-blink { animation: minimal-blink 1s steps(2, start) infinite; }\n      .minimal-dot.bar-anim-blink { animation: minimal-blink 1s steps(2, start) infinite; }\n      @keyframes minimal-blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }\n      \n      .minimal-dot.bar-anim-bouncing { animation: minimal-dot-bounce 1.2s ease-in-out infinite; }\n      @keyframes minimal-dot-bounce { 0%,100% { transform: translate(-50%, -50%); } 50% { transform: translate(-50%, calc(-50% - 4px)); } }\n      \n      .minimal-track.bar-anim-shimmer { position: relative; overflow: hidden; }\n      .minimal-track.bar-anim-shimmer::after { content:\'\'; position:absolute; top:-50%; bottom:-50%; width:40%; left:-40%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent); animation: minimal-shimmer-move 1.4s ease-in-out infinite; }\n      @keyframes minimal-shimmer-move { 0% { left: -40%; } 100% { left: 120%; } }\n      \n      .minimal-dot.bar-anim-vibrate { animation: minimal-dot-vibrate 0.15s linear infinite; }\n      @keyframes minimal-dot-vibrate { 0% { transform: translate(-50%, -50%); } 25% { transform: translate(calc(-50% + 0.5px), calc(-50% - 0.5px)); } 50% { transform: translate(calc(-50% - 0.5px), calc(-50% + 0.5px)); } 75% { transform: translate(calc(-50% + 0.5px), calc(-50% + 0.5px)); } 100% { transform: translate(-50%, -50%); } }\n    '}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}getBackgroundImageCSS(e,t){const i=e.background_image_type,n=e.background_image,o=e.background_image_entity;switch(i){case"upload":if(n)return n.startsWith("/api/image/serve/")?`url("${this.getImageUrl(t,n)}")`:(n.startsWith("data:image/"),`url("${n}")`);break;case"entity":if(o&&t){const e=t.states[o];if(e){const t=e.attributes.entity_picture||e.attributes.image||e.state;if(t&&"unknown"!==t&&"unavailable"!==t)return`url("${t}")`}}break;case"url":if(n)return`url("${n}")`;break;default:return"none"}return"none"}getImageUrl(e,t){if(!t)return"";if(t.startsWith("http"))return t;if(t.startsWith("data:image/"))return t;if(t.includes("/api/image/serve/")){const i=t.match(/\/api\/image\/serve\/([^\/]+)/);if(i&&i[1]){const n=i[1];try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/api/image/serve/${n}/original`}catch(e){return t}}return t}return t.startsWith("/")?`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}${t}`:t}getBarSizeFromHeight(e){return e<=12?"thin":e<=20?"regular":e<=30?"thick":"thiccc"}getBarRadiusFromStyle(e){return 0===e?"square":e<8?"rounded-square":"round"}interpolateColor(e,t,i){const n=this.hexToRgb(e),o=this.hexToRgb(t);if(!n||!o)return e;const a=Math.round(n.r+(o.r-n.r)*i),r=Math.round(n.g+(o.g-n.g)*i),l=Math.round(n.b+(o.b-n.b)*i);return this.rgbToHex(a,r,l)}hexToRgb(e){if(!e.startsWith("#"))return null;const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}rgbToHex(e,t,i){return`#${((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)}`}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},768:(e,t,i)=>{var n=i(183),o=i(276),a=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};const r=["#000000","#333333","#666666","#999999","#CCCCCC","#FFFFFF","#FF0000","#FF3333","#FF6666","#FF9999","#FFCCCC","#FF6600","#FF8833","#FFAA66","#FFCC99","#FFE6CC","#FFFF00","#FFFF33","#FFFF66","#FFFF99","#FFFFCC","#00FF00","#33FF33","#66FF66","#99FF99","#CCFFCC","#0000FF","#3333FF","#6666FF","#9999FF","#CCCCFF","#9900FF","#AA33FF","#BB66FF","#CC99FF","#DDCCFF","var(--primary-color)","var(--accent-color)","var(--error-color)","var(--warning-color)","var(--success-color)","var(--info-color)","var(--primary-text-color)","var(--secondary-text-color)","var(--disabled-text-color)","var(--divider-color)"];let l=class extends n.WF{constructor(){super(...arguments),this.disabled=!1,this._showPalette=!1}firstUpdated(){this._currentValue=this.value,this._textInputValue=this.value,this._documentClickHandler=this._handleDocumentClick.bind(this),document.addEventListener("click",this._documentClickHandler,!0)}disconnectedCallback(){super.disconnectedCallback(),this._documentClickHandler&&(document.removeEventListener("click",this._documentClickHandler,!0),this._documentClickHandler=void 0)}_handleDocumentClick(e){var t,i,n;if(!this._showPalette)return;const o=null===(i=(t=e).composedPath)||void 0===i?void 0:i.call(t);if(o&&o.includes(this))return;const a=e.target;(null===(n=this.shadowRoot)||void 0===n?void 0:n.contains(a))||a instanceof HTMLInputElement&&"color"===a.type||(this._showPalette=!1)}updated(e){e.has("value")&&(this._currentValue=this.value,this._textInputValue=this.value)}_togglePalette(e){e.stopPropagation(),this.disabled||(this._showPalette=!this._showPalette)}_selectColor(e,t){t.stopPropagation(),this._currentValue=e,this.value=e,this._showPalette=!1,this.requestUpdate();const i=new CustomEvent("value-changed",{detail:{value:e},bubbles:!0,composed:!0});this.dispatchEvent(i)}_handleNativeColorChange(e){e.stopPropagation();const t=e.target.value;this._selectColor(t,e)}_handleTextInputChange(e){const t=e.target;this._textInputValue=t.value}_handleTextInputKeyDown(e){"Enter"===e.key?(e.preventDefault(),this._applyTextInputValue()):"Escape"===e.key&&(e.preventDefault(),this._textInputValue=this._currentValue,this._showPalette=!1)}_applyTextInputValue(){void 0!==this._textInputValue&&this._selectColor(this._textInputValue,new Event("change"))}_isValidColor(e){return!!e&&([/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*[\d.]+\s*\)$/,/^hsl\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*\)$/,/^hsla\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*,\s*[\d.]+\s*\)$/,/^var\(--[\w-]+\)$/].some((t=>t.test(e)))||["transparent","red","blue","green","yellow","orange","purple","pink","brown","black","white","gray","grey"].includes(e.toLowerCase()))}_resetToDefault(){const e=this.defaultValue||"";this._currentValue=e;const t=new CustomEvent("value-changed",{detail:{value:e},bubbles:!0,composed:!0});this.dispatchEvent(t)}_getDisplayValue(){return this._currentValue&&""!==this._currentValue?this._currentValue:this.defaultValue||""}_getColorForNativeInput(){const e=this._getDisplayValue();if(e.startsWith("var(--")){const t=document.createElement("div");t.style.color=e,document.body.appendChild(t);const i=getComputedStyle(t).color;if(document.body.removeChild(t),i&&i.startsWith("rgb")){const e=i.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(e){const[t,i,n,o]=e,a=e=>e.toString(16).padStart(2,"0");return`#${a(parseInt(i))}${a(parseInt(n))}${a(parseInt(o))}`}}return e.includes("--primary-color")?"#03a9f4":e.includes("--primary-text-color")?"#ffffff":"#000000"}return e.startsWith("#")?e:"#000000"}_isDefaultValue(){return!this._currentValue||""===this._currentValue||this._currentValue===this.defaultValue}_getContrastColor(e){if(!e||e.startsWith("var(")||e.includes("gradient"))return"var(--primary-text-color)";if(e.startsWith("#")){const t=e.replace("#","");return(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255>.5?"#000000":"#ffffff"}return"var(--primary-text-color)"}render(){const e=this._getDisplayValue(),t=this._getColorForNativeInput();return n.qy`
      <div class="ultra-color-picker-container">
        ${this.label?n.qy`<label class="color-label">${this.label}</label>`:""}

        <div class="color-picker-wrapper">
          <!-- Main trigger input field -->
          <div
            class="color-input-field ${this.disabled?"disabled":""}"
            style="background-color: ${e}; color: ${this._getContrastColor(e)};"
            @click=${this._togglePalette}
            tabindex="0"
            role="button"
            aria-label="Open color palette"
            @keydown=${e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this._togglePalette(e))}}
          >
            <span class="color-value">${e}</span>
            <ha-icon
              icon="mdi:chevron-${this._showPalette?"up":"down"}"
              class="dropdown-icon"
            ></ha-icon>
          </div>

          <!-- Reset button -->
          <ha-icon-button
            class="reset-button ${this._isDefaultValue()?"disabled":""}"
            .disabled=${this._isDefaultValue()}
            @click=${this._resetToDefault}
            .title=${"Reset to default"}
          >
            <ha-icon icon="mdi:refresh"></ha-icon>
          </ha-icon-button>
        </div>

        <!-- Accordion-style palette -->
        ${this._showPalette?n.qy`
              <div class="color-palette-accordion">
                <!-- Text Input Section -->
                <div class="text-input-section">
                  <div class="input-header">
                    <label class="input-label">Type color value:</label>
                    <div class="native-picker-wrapper">
                      <button
                        class="native-picker-btn"
                        type="button"
                        title="Open native color picker"
                      >
                        <ha-icon icon="mdi:eyedropper"></ha-icon>
                      </button>
                      <input
                        id="native-color-input"
                        type="color"
                        .value=${t}
                        @change=${this._handleNativeColorChange}
                        @click=${e=>e.stopPropagation()}
                        @focus=${e=>e.stopPropagation()}
                        @blur=${e=>e.stopPropagation()}
                        class="native-color-overlay"
                        title="Open native color picker"
                      />
                    </div>
                  </div>

                  <div class="text-input-wrapper">
                    <input
                      type="text"
                      class="color-text-input ${this._isValidColor(this._textInputValue||"")?"valid":"invalid"}"
                      .value=${this._textInputValue||""}
                      @input=${this._handleTextInputChange}
                      @keydown=${this._handleTextInputKeyDown}
                      @click=${e=>e.stopPropagation()}
                      @focus=${e=>e.stopPropagation()}
                      placeholder="e.g. #ff0000, rgb(255,0,0), var(--primary-color)"
                      spellcheck="false"
                    />
                    <button
                      class="apply-text-btn ${this._isValidColor(this._textInputValue||"")?"":"disabled"}"
                      @click=${e=>{e.stopPropagation(),this._applyTextInputValue()}}
                      .disabled=${!this._isValidColor(this._textInputValue||"")}
                      type="button"
                      title="Apply color"
                    >
                      <ha-icon icon="mdi:check"></ha-icon>
                    </button>
                  </div>
                </div>

                <!-- Color Palette Grid -->
                <div class="palette-grid">
                  ${r.map((e=>n.qy`
                      <div
                        class="color-swatch ${this._currentValue===e?"selected":""}"
                        style="background-color: ${e}"
                        @click=${t=>this._selectColor(e,t)}
                        title="${e}"
                      ></div>
                    `))}
                </div>
              </div>
            `:""}
      </div>
    `}static get styles(){return n.AH`
      .ultra-color-picker-container {
        display: flex;
        flex-direction: column;
        gap: 8px;
        width: 100%;
        position: relative;
        box-sizing: border-box;
      }

      .color-label {
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
        margin-bottom: 4px;
      }

      .color-picker-wrapper {
        display: flex;
        align-items: center;
        gap: 12px;
        position: relative;
        /* Ensure palette can overflow this container */
        overflow: visible;
        z-index: 1;
      }

      .color-input-field {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color, #fff);
        color: var(--primary-text-color);
        font-family: var(--code-font-family, monospace);
        font-size: 14px;
        cursor: pointer;
        user-select: none;
        transition: all 0.2s ease;
        min-height: 36px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: relative;
      }

      .color-input-field:hover:not(.disabled) {
        border-color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.1));
      }

      .color-input-field:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.2);
      }

      .color-input-field.disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: var(--disabled-color, #f5f5f5);
        color: var(--disabled-text-color);
      }

      .color-value {
        flex: 1;
        color: var(--primary-text-color);
        font-family: var(--code-font-family, monospace);
        font-size: 14px;
      }

      .dropdown-icon {
        --mdc-icon-size: 20px;
        color: var(--secondary-text-color);
        transition: transform 0.2s ease;
        margin-left: 8px;
      }

      .reset-button {
        --mdc-icon-button-size: 40px;
        --mdc-icon-size: 20px;
        --mdc-theme-primary: var(--primary-color);
        border-radius: 6px;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .reset-button:not(.disabled):hover {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: rotate(180deg);
        transform-origin: center center;
      }

      .reset-button ha-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        transform-origin: center center;
      }

      .reset-button.disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      .reset-button.disabled ha-icon {
        color: var(--disabled-text-color);
      }

      .color-palette-accordion {
        margin-top: 12px;
        background: var(--card-background-color, white);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 16px;
        width: 100%;
        box-sizing: border-box;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        animation: expandDown 0.2s ease-out;
      }

      @keyframes expandDown {
        from {
          opacity: 0;
          transform: scaleY(0.8);
          transform-origin: top;
        }
        to {
          opacity: 1;
          transform: scaleY(1);
          transform-origin: top;
        }
      }

      .text-input-section {
        margin-bottom: 16px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--divider-color);
      }

      .input-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .input-label {
        display: block;
        font-size: 12px;
        font-weight: 500;
        color: var(--secondary-text-color);
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .text-input-wrapper {
        display: flex;
        gap: 8px;
        align-items: stretch;
      }

      .color-text-input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-family: var(--code-font-family, 'Courier New', monospace);
        font-size: 14px;
        transition: all 0.2s ease;
        outline: none;
      }

      .color-text-input:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.2);
      }

      .color-text-input.valid {
        border-color: var(--success-color, #4caf50);
      }

      .color-text-input.invalid {
        border-color: var(--error-color, #f44336);
      }

      .apply-text-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 12px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
        min-width: 44px;
      }

      .apply-text-btn:hover:not(.disabled) {
        background: var(--primary-color-dark, var(--primary-color));
        transform: scale(1.05);
      }

      .apply-text-btn.disabled {
        background: var(--disabled-color, #cccccc);
        color: var(--disabled-text-color);
        cursor: not-allowed;
        opacity: 0.6;
      }

      .apply-text-btn ha-icon {
        --mdc-icon-size: 18px;
      }

      .palette-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(32px, 1fr));
        gap: 8px;
        margin-bottom: 0;
        width: 100%;
        box-sizing: border-box;
        overflow: hidden;
      }

      .color-swatch {
        width: 28px;
        height: 28px;
        border-radius: 4px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        position: relative;
      }

      .color-swatch:hover {
        transform: scale(1.1);
        border-color: var(--primary-color);
      }

      .color-swatch.selected {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.3);
      }

      .color-swatch[style*='var(--'] {
        position: relative;
      }

      .color-swatch[style*='var(--']:after {
        content: 'T';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
        font-weight: bold;
        color: var(--primary-text-color);
        text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
      }

      .native-picker-wrapper {
        position: relative;
        display: inline-block;
      }

      .native-picker-btn {
        background: none;
        border: none;
        padding: 8px;
        border-radius: 6px;
        cursor: pointer;
        color: var(--primary-color);
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 36px;
        height: 36px;
        pointer-events: none; /* Let clicks pass through to the overlay */
      }

      .native-picker-btn:hover {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: scale(1.1);
      }

      .native-picker-btn ha-icon {
        --mdc-icon-size: 18px;
        transition: transform 0.2s ease;
      }

      .native-color-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
        border: none;
        background: transparent;
        z-index: 1;
        border-radius: 6px;
      }

      .native-color-overlay::-webkit-color-swatch-wrapper {
        padding: 0;
        border: none;
        border-radius: 6px;
      }

      .native-color-overlay::-webkit-color-swatch {
        border: none;
        border-radius: 6px;
      }

      .native-picker-wrapper:hover .native-picker-btn {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: scale(1.1);
      }

      @media (max-width: 768px) {
        .color-picker-wrapper {
          gap: 8px;
        }

        .color-input-field {
          font-size: 13px;
          padding: 6px 10px;
        }

        .color-palette-accordion {
          padding: 12px;
        }

        .palette-grid {
          grid-template-columns: repeat(auto-fit, minmax(28px, 1fr));
          gap: 6px;
        }

        .color-swatch {
          width: 28px;
          height: 28px;
        }

        .input-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }

        .text-input-wrapper {
          flex-direction: column;
          gap: 8px;
        }

        .color-text-input {
          width: 100%;
        }
      }
    `}};a([(0,o.MZ)({attribute:!1})],l.prototype,"hass",void 0),a([(0,o.MZ)()],l.prototype,"value",void 0),a([(0,o.MZ)()],l.prototype,"label",void 0),a([(0,o.MZ)()],l.prototype,"defaultValue",void 0),a([(0,o.MZ)({type:Boolean})],l.prototype,"disabled",void 0),a([(0,o.wk)()],l.prototype,"_currentValue",void 0),a([(0,o.wk)()],l.prototype,"_showPalette",void 0),a([(0,o.wk)()],l.prototype,"_textInputValue",void 0),l=a([(0,o.EM)("ultra-color-picker")],l)},790:(e,t,i)=>{i.d(t,{R:()=>g});var n=i(183),o=i(456),a=i(30);class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}setHass(e){this.hass=e}async executeAction(e){if(this.hass&&e.action_type&&"none"!==e.action_type)try{if(e.confirmation&&!confirm(e.confirmation.text||"Are you sure?"))return;switch(e.action_type){case"toggle":e.entity&&await this.hass.callService("homeassistant","toggle",{entity_id:e.entity});break;case"show_more_info":if(e.entity){const t=new CustomEvent("hass-more-info",{detail:{entityId:e.entity},bubbles:!0,composed:!0});document.dispatchEvent(t)}break;case"navigate":if(e.navigation_path){history.pushState(null,"",e.navigation_path);const t=new CustomEvent("location-changed",{detail:{replace:!1},bubbles:!0,composed:!0});window.dispatchEvent(t)}break;case"url":if(e.url||e.url_path){const t=e.url||e.url_path||"";window.open(t,"_blank")}break;case"call_service":if(e.service){const[t,i]=e.service.split(".");t&&i&&await this.hass.callService(t,i,e.service_data,e.target)}break;case"perform_action":if(e.custom_action){const t=new CustomEvent("action",{detail:{action:"tap",config:e.custom_action},bubbles:!0,composed:!0});document.dispatchEvent(t)}break;case"show_map":if(e.latitude&&e.longitude){const t=`/map?latitude=${e.latitude}&longitude=${e.longitude}`;history.pushState(null,"",t);const i=new CustomEvent("location-changed",{detail:{replace:!1},bubbles:!0,composed:!0});window.dispatchEvent(i)}break;case"voice_assistant":if(!1!==e.start_listening){const e=new CustomEvent("hass-start-voice-conversation",{bubbles:!0,composed:!0});document.dispatchEvent(e)}break;case"trigger":e.entity&&await this.hass.callService("automation","trigger",{entity_id:e.entity});break;default:console.warn("Unknown action type:",e.action_type)}}catch(e){console.error("Error executing action:",e)}}getActionTypeOptions(){return[{value:"none",label:"No Action"},{value:"toggle",label:"Toggle"},{value:"show_more_info",label:"Show More Info"},{value:"navigate",label:"Navigate to Path"},{value:"url",label:"Open URL"},{value:"call_service",label:"Call Service"},{value:"perform_action",label:"Perform Action"},{value:"show_map",label:"Show Map"},{value:"voice_assistant",label:"Voice Assistant"},{value:"trigger",label:"Trigger"}]}validateAction(e){const t=[];if(!e.action_type||"none"===e.action_type)return{valid:!0,errors:[]};switch(e.action_type){case"toggle":case"show_more_info":case"trigger":e.entity||t.push("Entity is required for this action type");break;case"navigate":e.navigation_path||t.push("Navigation path is required");break;case"url":e.url||e.url_path||t.push("URL is required");break;case"call_service":e.service?e.service.includes(".")||t.push("Service must be in domain.service format"):t.push("Service is required");break;case"show_map":void 0!==e.latitude&&void 0!==e.longitude||t.push("Latitude and longitude are required for map action")}return{valid:0===t.length,errors:t}}renderActionForm(e,t,i){return{action:t,actionTypes:this.getActionTypeOptions(),onUpdate:i,validate:()=>this.validateAction(t)}}}const l=r.getInstance();var s=i(662),d=i(371),c=i(796),u=i(987),p=(i(768),i(381));class g extends a.m{constructor(){super(...arguments),this.metadata={type:"button",title:"Button",description:"Interactive buttons with actions",author:"WJD Designs",version:"1.0.0",icon:"mdi:gesture-tap-button",category:"interactive",tags:["button","action","click","interactive"]}}createDefault(e,t){return{id:e||this.generateId("button"),type:"button",label:"",action:{action_type:"none"},style:"flat",icon:"",icon_position:"before",show_icon:!1,background_color:"var(--primary-color)",text_color:"white",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}getButtonStyles(e){return[{value:"flat",label:(0,o.kg)("editor.button.styles.flat",e,"Flat (Default)")},{value:"glossy",label:(0,o.kg)("editor.button.styles.glossy",e,"Glossy")},{value:"embossed",label:(0,o.kg)("editor.button.styles.embossed",e,"Embossed")},{value:"inset",label:(0,o.kg)("editor.button.styles.inset",e,"Inset")},{value:"gradient-overlay",label:(0,o.kg)("editor.button.styles.gradient_overlay",e,"Gradient Overlay")},{value:"neon-glow",label:(0,o.kg)("editor.button.styles.neon_glow",e,"Neon Glow")},{value:"outline",label:(0,o.kg)("editor.button.styles.outline",e,"Outline")},{value:"glass",label:(0,o.kg)("editor.button.styles.glass",e,"Glass")},{value:"metallic",label:(0,o.kg)("editor.button.styles.metallic",e,"Metallic")}]}getAlignmentOptions(e){return[{value:"left",label:(0,o.kg)("editor.button.align.left",e,"Left")},{value:"center",label:(0,o.kg)("editor.button.align.center",e,"Center")},{value:"right",label:(0,o.kg)("editor.button.align.right",e,"Right")},{value:"justify",label:(0,o.kg)("editor.button.align.justify",e,"Justify (Full Width)")}]}getIconPositionOptions(e){return[{value:"before",label:(0,o.kg)("editor.button.icon.before",e,"Before Text")},{value:"after",label:(0,o.kg)("editor.button.icon.after",e,"After Text")}]}renderGeneralTab(e,t,i,a){var r,l;const s=e,d=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}
      <div class="general-tab">
        <!-- Basic Settings -->
        ${this.renderSettingsSection((0,o.kg)("editor.button.basic.title",d,"Basic Settings"),(0,o.kg)("editor.button.basic.desc",d,"Configure the button appearance and text content."),[{title:(0,o.kg)("editor.button.text.title",d,"Button Text"),description:(0,o.kg)("editor.button.text.desc",d,"Text to display on the button (leave blank for icon-only)."),hass:t,data:{label:null!==(l=s.label)&&void 0!==l?l:""},schema:[this.textField("label")],onChange:e=>a(e.detail.value)},{title:(0,o.kg)("editor.button.style.title",d,"Button Style"),description:(0,o.kg)("editor.button.style.desc",d,"Visual style of the button"),hass:t,data:{style:s.style||"flat"},schema:[this.selectField("style",this.getButtonStyles(d))],onChange:e=>a(e.detail.value)},{title:(0,o.kg)("editor.button.alignment.title",d,"Alignment"),description:(0,o.kg)("editor.button.alignment.desc",d,"How the button is aligned within its container"),hass:t,data:{alignment:s.alignment||"center"},schema:[this.selectField("alignment",this.getAlignmentOptions(d))],onChange:e=>a(e.detail.value)}])}

        <!-- Icon Settings with toggle in header -->
        <div class="settings-section">
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,o.kg)("editor.button.icon.title",d,"Icon Settings")}
            </div>
            <ha-switch
              .checked=${s.show_icon||!1}
              @change=${e=>{const t=e.target;a({show_icon:t.checked})}}
            ></ha-switch>
          </div>

          ${s.show_icon?n.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,o.kg)("editor.button.icon_field",d,"Icon"),(0,o.kg)("editor.button.icon_desc",d,"Icon to display (e.g., mdi:home)"),t,{icon:s.icon||""},[this.iconField("icon")],(e=>a(e.detail.value)))}
                </div>

                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,o.kg)("editor.button.icon_position",d,"Icon Position"),(0,o.kg)("editor.button.icon_position_desc",d,"Position of the icon relative to text"),t,{icon_position:s.icon_position||"before"},[this.selectField("icon_position",this.getIconPositionOptions(d))],(e=>a(e.detail.value)))}
                </div>
              `:n.qy`
                <div
                  style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                >
                  ${(0,o.kg)("editor.button.icon.enable_toggle_desc",d,"Enable the toggle above to configure icon settings")}
                </div>
              `}
        </div>

        <!-- Colors -->
        <div class="settings-section">
          <div class="section-title">${(0,o.kg)("editor.button.colors.title",d,"Colors")}</div>

          <div class="color-controls">
            <ultra-color-picker
              .label=${(0,o.kg)("editor.button.colors.background",d,"Background Color")}
              .value=${s.background_color||"var(--primary-color)"}
              .defaultValue=${"var(--primary-color)"}
              .hass=${t}
              @value-changed=${e=>a({background_color:e.detail.value})}
            ></ultra-color-picker>

            <ultra-color-picker
              .label=${(0,o.kg)("editor.button.colors.text",d,"Text Color")}
              .value=${s.text_color||"white"}
              .defaultValue=${"white"}
              .hass=${t}
              @value-changed=${e=>a({text_color:e.detail.value})}
            ></ultra-color-picker>
          </div>
        </div>

        <!-- Link Action removed: use global Tap/Hold/Double-Tap actions instead -->
      </div>
    `}renderLinkActionForm(e,t,i){const o=l.getActionTypeOptions();return n.qy`
      <div class="link-action-form">
        <!-- Action Type -->
        <div class="field-group" style="margin-bottom: 16px;">
          ${this.renderFieldSection("Action Type","Choose what happens when the button is clicked",t,{action_type:e.action_type||"none"},[this.selectField("action_type",o)],(t=>i(Object.assign(Object.assign({},e),{action_type:t.detail.value.action_type}))))}
        </div>

        ${this.renderActionTypeSpecificFields(e,t,i)}
      </div>
    `}renderActionTypeSpecificFields(e,t,i){switch(e.action_type){case"toggle":case"show_more_info":case"trigger":return this.renderFieldSection("Entity","Select the entity to interact with",t,{entity:e.entity||""},[this.entityField("entity")],(t=>i(Object.assign(Object.assign({},e),{entity:t.detail.value.entity}))));case"navigate":return this.renderFieldSection("Navigation Path","Path to navigate to (e.g., /dashboard/energy)",t,{navigation_path:e.navigation_path||""},[this.textField("navigation_path")],(t=>i(Object.assign(Object.assign({},e),{navigation_path:t.detail.value.navigation_path}))));case"url":return this.renderFieldSection("URL","URL to open (e.g., https://example.com)",t,{url:e.url||""},[this.textField("url")],(t=>i(Object.assign(Object.assign({},e),{url:t.detail.value.url}))));case"call_service":return n.qy`
          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection("Service","Service to call (e.g., light.turn_on)",t,{service:e.service||""},[this.textField("service")],(t=>i(Object.assign(Object.assign({},e),{service:t.detail.value.service}))))}
          </div>

          <div class="field-group">
            ${this.renderFieldSection("Service Data (JSON)","Optional data to pass to the service (JSON format)",t,{service_data:JSON.stringify(e.service_data||{})},[this.textField("service_data")],(t=>{try{const n=JSON.parse(t.detail.value.service_data||"{}");i(Object.assign(Object.assign({},e),{service_data:n}))}catch(e){console.warn("Invalid JSON in service data")}}))}
          </div>
        `;default:return n.qy``}}renderActionsTab(e,t,i,n){const o=e;return s.A.render(o,t,(e=>n(e)))}renderButtonActionConfig(e,t,i){return n.qy`
      <div style="margin-bottom: 16px;">
        ${this.renderSingleActionConfig("Tap Action","Action to perform when button is tapped",e.tap_action||{action:"nothing"},t,(e=>i({tap_action:e})))}
      </div>

      <div style="margin-bottom: 16px;">
        ${this.renderSingleActionConfig("Hold Action","Action to perform when button is held down",e.hold_action||{action:"nothing"},t,(e=>i({hold_action:e})))}
      </div>

      <div style="margin-bottom: 16px;">
        ${this.renderSingleActionConfig("Double Tap Action","Action to perform when button is double-tapped",e.double_tap_action||{action:"nothing"},t,(e=>i({double_tap_action:e})))}
      </div>
    `}renderSingleActionConfig(e,t,i,o,a){return n.qy`
      <div style="margin-bottom: 16px;">
        <div
          class="field-title"
          style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
        >
          ${e}
        </div>
        <div style="margin-bottom: 12px;">
          <ha-form
            .hass=${o}
            .data=${{action_config:"nothing"===(null==i?void 0:i.action)?Object.assign(Object.assign({},i),{action:"default"}):i}}
            .schema=${[{name:"action_config",label:"",selector:{ui_action:{actions:["default","more-info","toggle","navigate","url","perform-action","assist"]}}}]}
            .computeLabel=${e=>e.label||""}
            .computeDescription=${e=>e.description||""}
            @value-changed=${e=>{var t;const i=null===(t=e.detail.value)||void 0===t?void 0:t.action_config;i&&a(i)}}
          ></ha-form>
        </div>
      </div>
    `}renderPreview(e,t){var i,o;const a=e,r=a,s=a.design||{},d=s.color||a.text_color||"white",p=s.font_size||"14px",g=s.background_color||a.background_color||"var(--primary-color)",m=a.style||"flat",_={flat:`background: ${g}; border: none; box-shadow: none;`,glossy:`background: linear-gradient(180deg, rgba(255,255,255,0.25), rgba(255,255,255,0)) , ${g}; border: none;`,embossed:`background: ${g}; border: 1px solid rgba(0,0,0,0.15); box-shadow: inset 0 2px 2px rgba(255,255,255,0.2), inset 0 -2px 2px rgba(0,0,0,0.15);`,inset:`background: ${g}; border: none; box-shadow: inset 0 2px 6px rgba(0,0,0,0.35);`,"gradient-overlay":`background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(0,0,0,0.15)), ${g}; border: none;`,"neon-glow":`background: ${g}; border: none; box-shadow: 0 0 10px ${g}, 0 0 20px ${g};`,outline:`background: transparent; border: 2px solid ${g}; color: ${g};`,glass:`background: ${g}; backdrop-filter: blur(6px); border: 1px solid rgba(255,255,255,0.25);`,metallic:"background: linear-gradient(90deg, #d7d7d7, #f0f0f0 50%, #d7d7d7); color: #333; border: 1px solid #bbb;"},h=`\n      color: ${d};\n      padding: 12px 24px;\n      font-size: ${p};\n      font-weight: 500;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 8px;\n      min-height: 40px;\n     ${_[m]||_.flat}`,v=`\n      display: flex;\n      justify-content: ${"left"===a.alignment?"flex-start":"right"===a.alignment?"flex-end":"center"};\n    `,b={width:"100%",height:"auto",maxWidth:"none",maxHeight:"none",minWidth:"auto",minHeight:"auto",padding:s.padding_top||s.padding_bottom||s.padding_left||s.padding_right?`${s.padding_top||"8px"} ${s.padding_right||"8px"} ${s.padding_bottom||"8px"} ${s.padding_left||"8px"}`:"8px",margin:s.margin_top||s.margin_bottom||s.margin_left||s.margin_right?`${s.margin_top||"0"} ${s.margin_right||"0"} ${s.margin_bottom||"0"} ${s.margin_left||"0"}`:"0",background:s.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},r),s),t),"background-size":"cover","background-position":"center","background-repeat":"no-repeat","border-radius":s.border_radius||"8px",border:s.border_style&&"none"!==s.border_style?`${s.border_width||"1px"} ${s.border_style} ${s.border_color||"var(--divider-color)"}`:"none","box-shadow":s.box_shadow_h||s.box_shadow_v||s.box_shadow_blur||s.box_shadow_spread?`${s.box_shadow_h||"0px"} ${s.box_shadow_v||"0px"} ${s.box_shadow_blur||"0px"} ${s.box_shadow_spread||"0px"} ${s.box_shadow_color||"rgba(0,0,0,.2)"}`:"none","box-sizing":"border-box"};let f=null,y=null,k=!1,x=0,w=0;const $=null===(i=a.design)||void 0===i?void 0:i.hover_effect,z=u.k.getHoverEffectClass($);return n.qy`
      <div class="button-module-container" style=${this.styleObjectToCss(b)}>
        <div class="button-module-preview" style="${v}">
          <button
            class="ultra-button ${m} ${"justify"===a.alignment?"justify":""} ${z}"
            style="${h} ${"justify"===a.alignment?"width: 100%;":s.width||r.width?`width: ${s.width||r.width};`:""} ${s.height||r.height?`height: ${s.height||r.height};`:""} ${s.max_width||r.max_width?`max-width: ${s.max_width||r.max_width};`:""} ${s.max_height||r.max_height?`max-height: ${s.max_height||r.max_height};`:""} ${s.min_width||r.min_width?`min-width: ${s.min_width||r.min_width};`:""} ${s.min_height||r.min_height?`min-height: ${s.min_height||r.min_height};`:""} ${s.text_align?`text-align:${s.text_align};`:""} ${s.text_shadow_h||s.text_shadow_v||s.text_shadow_blur||s.text_shadow_color?`text-shadow:${s.text_shadow_h||"0px"} ${s.text_shadow_v||"0px"} ${s.text_shadow_blur||"0px"} ${s.text_shadow_color||"rgba(0,0,0,.2)"};`:""}"
            @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),k=!1,y=setTimeout((()=>{k=!0,a.hold_action&&"nothing"!==a.hold_action.action&&c.K.handleAction(a.hold_action,t,e.target)}),500)}}
            @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),y&&(clearTimeout(y),y=null),k)return void(k=!1);const i=Date.now();i-w<300&&1===x?(f&&(clearTimeout(f),f=null),x=0,a.double_tap_action&&"nothing"!==a.double_tap_action.action&&c.K.handleAction(a.double_tap_action,t,e.target)):(x=1,w=i,f=setTimeout((()=>{x=0,a.tap_action&&"nothing"!==a.tap_action.action?c.K.handleAction(a.tap_action,t,e.target):a.action&&(l.setHass(t),l.executeAction(a.action))}),300))}}
          >
            ${a.show_icon&&a.icon&&"before"===a.icon_position?n.qy`<ha-icon icon="${a.icon}"></ha-icon>`:""}
            ${null!==(o=a.label)&&void 0!==o?o:""}
            ${a.show_icon&&a.icon&&"after"===a.icon_position?n.qy`<ha-icon icon="${a.icon}"></ha-icon>`:""}
          </button>
        </div>
      </div>
    `}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${t}`)).join("; ")}getBackgroundImageCSS(e,t){var i,n;const o=e.background_image_type,a=e.background_image,r=e.background_image_entity;if(!o||"none"===o)return"none";switch(o){case"upload":if(a)return`url("${(0,p.V)(t,a)}")`;break;case"url":if(a)return`url("${a}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const o=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(n=e.attributes)||void 0===n?void 0:n.image)||("string"==typeof e.state?e.state:"");if(o&&"unknown"!==o&&"unavailable"!==o)return`url("${(0,p.V)(t,o)}")`}}}return"none"}renderLogicTab(e,t,i,n){return d.X.render(e,t,(e=>n(e)))}}},796:(e,t,i)=>{i.d(t,{K:()=>a});var n=i(183),o=i(456);class a{static render(e,t,i,r){var l,s,d,c;const u=(null===(l=e.locale)||void 0===l?void 0:l.language)||"en",p=r||(0,o.kg)("editor.actions.title",u,"Link Configuration");return n.qy`
      <div class="ultra-link-config">
        <style>
          .ultra-link-config {
            padding: 16px;
          }

          .field-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
          }

          .field-description {
            font-size: 13px;
            font-weight: 400;
            margin-bottom: 16px;
            color: var(--secondary-text-color);
            line-height: 1.4;
          }

          .behavior-group {
            margin-bottom: 24px;
          }

          /* Hide unwanted form elements */
          .ultra-link-config ha-form {
            display: block;
            margin: 0;
            padding: 0;
          }

          /* Hide redundant labels */
          .ultra-link-config ha-form .mdc-form-field > label,
          .ultra-link-config ha-form .mdc-text-field > label,
          .ultra-link-config ha-form .mdc-floating-label,
          .ultra-link-config ha-form .mdc-notched-outline__leading,
          .ultra-link-config ha-form .mdc-notched-outline__notch,
          .ultra-link-config ha-form .mdc-notched-outline__trailing,
          .ultra-link-config ha-form .mdc-floating-label--float-above,
          .ultra-link-config ha-form label[for],
          .ultra-link-config ha-form .ha-form-label,
          .ultra-link-config ha-form .form-label {
            display: none !important;
          }

          /* Hide labels containing underscores */
          .ultra-link-config ha-form label[data-label*='_'],
          .ultra-link-config ha-form .label-text:contains('_'),
          .ultra-link-config label:contains('_') {
            display: none !important;
          }

          /* Additional safeguards for underscore labels */
          .ultra-link-config ha-form .mdc-text-field-character-counter,
          .ultra-link-config ha-form .mdc-text-field-helper-text,
          .ultra-link-config ha-form mwc-formfield,
          .ultra-link-config ha-form .formfield {
            display: none !important;
          }
        </style>

        <div class="field-title" style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">
          ${p}
        </div>
        <div
          class="field-description"
          style="font-size: 13px; font-weight: 400; margin-bottom: 16px; color: var(--secondary-text-color);"
        >
          ${(0,o.kg)("editor.actions.description",u,"Configure what happens when users interact with this element. Choose different actions for tap, hold, and double-tap gestures.")}
        </div>

        <!-- Tap Behavior -->
        <div class="tap-behavior-group" style="margin-bottom: 24px;">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,o.kg)("editor.actions.tap_behavior",u,"Tap Behavior")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
          >
            ${(0,o.kg)("editor.actions.tap_behavior_desc",u,"Action to perform when the element is tapped/clicked.")}
          </div>
          ${a.renderCleanForm(e,{action:(null===(s=t.tap_action)||void 0===s?void 0:s.action)||"default"},[{name:"action",selector:{select:{options:[{value:"nothing",label:"Nothing"},{value:"more-info",label:"More info"},{value:"toggle",label:"Toggle"},{value:"navigate",label:"Navigate"},{value:"url",label:"URL"},{value:"perform-action",label:"Perform action"},{value:"assist",label:"Assist"}],mode:"dropdown"}}}],(e=>{const n=Object.assign(Object.assign({},t.tap_action),{action:e.detail.value.action});i({tap_action:n})}))}
          ${a.renderActionFields(e,t.tap_action||{action:"nothing"},(e=>{const n=Object.assign(Object.assign({},t.tap_action),e);i({tap_action:n})}))}
        </div>

        <!-- Hold Behavior -->
        <div class="hold-behavior-group" style="margin-bottom: 24px;">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,o.kg)("editor.actions.hold_behavior",u,"Hold Behavior")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
          >
            ${(0,o.kg)("editor.actions.hold_behavior_desc",u,"Action to perform when the element is pressed and held.")}
          </div>
          ${a.renderCleanForm(e,{action:(null===(d=t.hold_action)||void 0===d?void 0:d.action)||"default"},[{name:"action",selector:{select:{options:[{value:"nothing",label:"Nothing"},{value:"more-info",label:"More info"},{value:"toggle",label:"Toggle"},{value:"navigate",label:"Navigate"},{value:"url",label:"URL"},{value:"perform-action",label:"Perform action"},{value:"assist",label:"Assist"}],mode:"dropdown"}}}],(e=>{const n=Object.assign(Object.assign({},t.hold_action),{action:e.detail.value.action});i({hold_action:n})}))}
          ${a.renderActionFields(e,t.hold_action||{action:"nothing"},(e=>{const n=Object.assign(Object.assign({},t.hold_action),e);i({hold_action:n})}))}
        </div>

        <!-- Double Tap Behavior -->
        <div class="double-tap-behavior-group">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,o.kg)("editor.actions.double_tap_behavior",u,"Double Tap Behavior")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
          >
            ${(0,o.kg)("editor.actions.double_tap_behavior_desc",u,"Action to perform when the element is double-tapped/clicked.")}
          </div>
          ${a.renderCleanForm(e,{action:(null===(c=t.double_tap_action)||void 0===c?void 0:c.action)||"default"},[{name:"action",selector:{select:{options:[{value:"nothing",label:"Nothing"},{value:"more-info",label:"More info"},{value:"toggle",label:"Toggle"},{value:"navigate",label:"Navigate"},{value:"url",label:"URL"},{value:"perform-action",label:"Perform action"},{value:"assist",label:"Assist"}],mode:"dropdown"}}}],(e=>{const n=Object.assign(Object.assign({},t.double_tap_action),{action:e.detail.value.action});i({double_tap_action:n})}))}
          ${a.renderActionFields(e,t.double_tap_action||{action:"nothing"},(e=>{const n=Object.assign(Object.assign({},t.double_tap_action),e);i({double_tap_action:n})}))}
        </div>
      </div>
    `}static renderCleanForm(e,t,i,o){return n.qy`
      <div class="ultra-clean-form">
        <ha-form .hass=${e} .data=${t} .schema=${i} @value-changed=${o}></ha-form>
      </div>
    `}static renderActionFields(e,t,i){switch(t.action){case"default":break;case"more-info":case"toggle":return n.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              Entity
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Select the entity to
              ${"more-info"===t.action?"show more info for":"toggle"}.
            </div>
            ${a.renderCleanForm(e,{entity:t.entity||""},[{name:"entity",selector:{entity:{}},label:"Entity"}],(e=>i({entity:e.detail.value.entity})))}
          </div>
        `;case"navigate":return n.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              Navigation Path
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Choose where to navigate or enter a custom path (e.g., /lovelace/dashboard).
            </div>
            ${a.renderNavigationPicker(e,t.navigation_path||"",(e=>i({navigation_path:e})))}
          </div>
        `;case"url":return n.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              URL Path
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Enter the URL to navigate to (e.g., https://www.example.com).
            </div>
            ${a.renderCleanForm(e,{url_path:t.url_path||""},[{name:"url_path",selector:{text:{}}}],(e=>i({url_path:e.detail.value.url_path})))}
          </div>
        `;case"perform-action":return n.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              Service
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Choose the service to call or enter a custom service.
            </div>
            ${a.renderCleanForm(e,{service:t.service||""},[{name:"service",selector:{select:{options:[{value:"homeassistant.restart",label:"Restart Home Assistant"},{value:"homeassistant.stop",label:"Stop Home Assistant"},{value:"homeassistant.reload_core_config",label:"Reload Core Config"},{value:"homeassistant.reload_config_entry",label:"Reload Config Entry"},{value:"homeassistant.update_entity",label:"Update Entity"},{value:"system_log.clear",label:"Clear System Log"},{value:"recorder.purge",label:"Purge Recorder"},{value:"hassio.host_reboot",label:"Reboot Host System"},{value:"hassio.host_shutdown",label:"Shutdown Host System"},{value:"light.turn_on",label:"Turn On Light"},{value:"light.turn_off",label:"Turn Off Light"},{value:"light.toggle",label:"Toggle Light"},{value:"switch.turn_on",label:"Turn On Switch"},{value:"switch.turn_off",label:"Turn Off Switch"},{value:"switch.toggle",label:"Toggle Switch"},{value:"climate.set_temperature",label:"Set Temperature"},{value:"climate.turn_on",label:"Turn On Climate"},{value:"climate.turn_off",label:"Turn Off Climate"},{value:"media_player.play_media",label:"Play Media"},{value:"media_player.media_play",label:"Media Play"},{value:"media_player.media_pause",label:"Media Pause"},{value:"media_player.media_stop",label:"Media Stop"},{value:"media_player.volume_set",label:"Set Volume"},{value:"automation.trigger",label:"Trigger Automation"},{value:"automation.turn_on",label:"Enable Automation"},{value:"automation.turn_off",label:"Disable Automation"},{value:"script.turn_on",label:"Run Script"},{value:"scene.turn_on",label:"Activate Scene"},{value:"cover.open_cover",label:"Open Cover"},{value:"cover.close_cover",label:"Close Cover"},{value:"cover.toggle",label:"Toggle Cover"},{value:"lock.lock",label:"Lock"},{value:"lock.unlock",label:"Unlock"},{value:"notify.persistent_notification",label:"Send Notification"},{value:"input_boolean.toggle",label:"Toggle Input Boolean"},{value:"input_select.select_option",label:"Select Input Option"},{value:"custom",label:"Custom Service..."}],mode:"dropdown",custom_value:!0}}}],(e=>{var t;const n=(null===(t=e.detail.value)||void 0===t?void 0:t.service)||e.detail.value;i({service:n})}))}

            <div style="margin-top: 12px;">
              <div
                class="field-title"
                style="font-size: 14px; font-weight: 600; margin-bottom: 4px;"
              >
                Target Entity (optional)
              </div>
              <div
                class="field-description"
                style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
              >
                Choose an entity to target with this service call.
              </div>
              ${a.renderCleanForm(e,{entity:t.entity||""},[{name:"entity",selector:{entity:{}},label:"Entity"}],(e=>{var t;const n=(null===(t=e.detail.value)||void 0===t?void 0:t.entity)||e.detail.value;i({entity:n})}))}
            </div>

            <div style="margin-top: 12px;">
              <div
                class="field-title"
                style="font-size: 14px; font-weight: 600; margin-bottom: 4px;"
              >
                Service Data (optional)
              </div>
              <div
                class="field-description"
                style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
              >
                Enter service data as YAML (e.g., entity_id: light.living_room).
              </div>
              ${a.renderCleanForm(e,{service_data:t.service_data?JSON.stringify(t.service_data,null,2):""},[{name:"service_data",selector:{text:{multiline:!0,type:"text"}}}],(e=>{try{const t=e.detail.value.service_data?JSON.parse(e.detail.value.service_data):void 0;i({service_data:t})}catch(e){}}))}
            </div>
          </div>
        `;default:return n.qy``}}static renderNavigationPicker(e,t,i){const n=[{value:"/lovelace",label:"Overview (/lovelace)"},{value:"/config",label:"Settings (/config)"},{value:"/config/dashboard",label:"Dashboards (/config/dashboard)"},{value:"/config/entities",label:"Entities (/config/entities)"},{value:"/config/devices",label:"Devices (/config/devices)"},{value:"/config/automations",label:"Automations (/config/automations)"},{value:"/config/scripts",label:"Scripts (/config/scripts)"},{value:"/config/scenes",label:"Scenes (/config/scenes)"},{value:"/developer-tools",label:"Developer Tools (/developer-tools)"},...Object.keys(e.panels).filter((t=>e.panels[t].url_path||"lovelace"===t)).map((t=>({value:e.panels[t].url_path||`/lovelace/${t}`,label:`${e.panels[t].title||t} (${e.panels[t].url_path||`/lovelace/${t}`})`})))];return a.renderCleanForm(e,{navigation_path:t},[{name:"navigation_path",selector:{select:{options:[{value:"",label:"Custom path..."},...n],mode:"dropdown",custom_value:!0}}}],(e=>i(e.detail.value.navigation_path)))}static getDefaultConfig(){return{tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"}}}static handleAction(e,t,i){const n=e.service||e.perform_action;switch(e.action){case"more-info":if(e.entity){const t=new CustomEvent("hass-more-info",{bubbles:!0,composed:!0,detail:{entityId:e.entity}});null==i||i.dispatchEvent(t)}break;case"toggle":if(e.entity)t.callService("homeassistant","toggle",{entity_id:e.entity});else if(e.target){const i={};e.target.entity_id&&(i.entity_id=e.target.entity_id),e.target.device_id&&(i.device_id=e.target.device_id),e.target.area_id&&(i.area_id=e.target.area_id),e.target.floor_id&&(i.floor_id=e.target.floor_id),e.target.label_id&&(i.label_id=e.target.label_id),t.callService("homeassistant","toggle",i)}break;case"navigate":if(e.navigation_path){window.history.pushState(null,"",e.navigation_path);const t=new CustomEvent("location-changed",{bubbles:!0,composed:!0,detail:{replace:!1}});window.dispatchEvent(t)}break;case"url":e.url_path&&window.open(e.url_path,"_blank");break;case"perform-action":if(n){const[i,o]=n.split(".");if(i&&o){let a=Object.assign({},e.data||e.service_data);e.entity&&!a.entity_id&&(a.entity_id=e.entity),e.target&&(e.target.entity_id&&!a.entity_id&&(a.entity_id=e.target.entity_id),e.target.device_id&&!a.device_id&&(a.device_id=e.target.device_id),e.target.area_id&&!a.area_id&&(a.area_id=e.target.area_id),e.target.floor_id&&!a.floor_id&&(a.floor_id=e.target.floor_id),e.target.label_id&&!a.label_id&&(a.label_id=e.target.label_id));try{t.callService(i,o,a)}catch(e){console.error(`❌ Ultra Card: Failed to execute service ${n}:`,e)}}else console.warn(`⚠️ Ultra Card: Invalid service format "${n}". Expected format: domain.service`)}else console.warn("⚠️ Ultra Card: No service specified for perform-action",{action:e,serviceProperty:e.service,performActionProperty:e.perform_action});break;case"assist":const o=new CustomEvent("hass-assist",{bubbles:!0,composed:!0});null==i||i.dispatchEvent(o)}}}},863:(e,t,i)=>{i.d(t,{j:()=>u});var n=i(183),o=i(30),a=i(381),r=i(796),l=i(341),s=i(371),d=i(456),c=i(397);class u extends o.m{constructor(){super(...arguments),this.metadata={type:"vertical",title:"Vertical Layout",description:"Arrange modules in columns with flexible alignment and spacing",author:"WJD Designs",version:"1.0.0",icon:"mdi:view-agenda",category:"layout",tags:["layout","vertical","alignment","container","flexbox"]}}createDefault(e,t){return{id:e||this.generateId("vertical"),type:"vertical",alignment:"center",horizontal_alignment:"center",gap:1.2,modules:[],tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const r=e,l=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}

      <div class="module-general-settings">
        <!-- Layout Configuration Section -->
        ${this.renderSettingsSection((0,d.kg)("editor.vertical.layout.title",l,"Layout Configuration"),(0,d.kg)("editor.vertical.layout.desc",l,"Configure alignment and spacing for items in a single column."),[{title:(0,d.kg)("editor.vertical.alignment.horizontal",l,"Horizontal Alignment"),description:(0,d.kg)("editor.vertical.alignment.horizontal_desc",l,"Choose how items are aligned horizontally within the column."),hass:t,data:{horizontal_alignment:r.horizontal_alignment||"center"},schema:[this.selectField("horizontal_alignment",[{value:"left",label:(0,d.kg)("editor.common.left",l,"Left")},{value:"center",label:(0,d.kg)("editor.common.center",l,"Center")},{value:"right",label:(0,d.kg)("editor.common.right",l,"Right")},{value:"stretch",label:(0,d.kg)("editor.common.stretch",l,"Stretch")}])],onChange:e=>o(e.detail.value)},{title:(0,d.kg)("editor.vertical.alignment.vertical",l,"Vertical Distribution"),description:(0,d.kg)("editor.vertical.alignment.vertical_desc",l,"How items are distributed along the vertical axis."),hass:t,data:{alignment:r.alignment||"center"},schema:[this.selectField("alignment",[{value:"top",label:(0,d.kg)("editor.common.top",l,"Top")},{value:"center",label:(0,d.kg)("editor.common.center",l,"Center")},{value:"bottom",label:(0,d.kg)("editor.common.bottom",l,"Bottom")},{value:"space-between",label:(0,d.kg)("editor.common.space_between",l,"Space Between")},{value:"space-around",label:(0,d.kg)("editor.common.space_around",l,"Space Around")}])],onChange:e=>o(e.detail.value)}])}

        <!-- Gap Between Items Field with Custom Slider -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,d.kg)("editor.vertical.gap.title",l,"Gap Configuration")}
          </div>

          <div style="margin-bottom: 8px;">
            <div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              ${(0,d.kg)("editor.vertical.gap.between_items",l,"Gap Between Items")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              ${(0,d.kg)("editor.vertical.gap.desc",l,"Set the spacing between vertical items (in rem units). Use negative values to overlap items. Note: Gap is disabled when using Space Between or Space Around distribution.")}
            </div>
            <div
              class="gap-control-container"
              style="display: flex; align-items: center; gap: 12px; ${"space-between"===r.alignment||"space-around"===r.alignment?"opacity: 0.5; pointer-events: none;":""}"
            >
              <input
                type="range"
                class="gap-slider"
                min="-5"
                max="10"
                step="0.1"
                .value="${r.gap||1.2}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);o({gap:i})}}
              />
              <input
                type="number"
                class="gap-input"
                style="width: 50px !important; max-width: 50px !important; min-width: 50px !important; padding: 4px 6px !important; font-size: 13px !important;"
                min="-5"
                max="10"
                step="0.1"
                .value="${r.gap||1.2}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||o({gap:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||1.2,n="ArrowUp"===e.key?.1:-.1,a=Math.max(-5,Math.min(10,i+n)),r=Math.round(10*a)/10;o({gap:r})}}}
              />
              <button
                class="reset-btn"
                @click=${()=>o({gap:1.2})}
                title="Reset to default (1.2)"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    `}renderPreview(e,t){var i;const o=e,a=(null===(i=null==t?void 0:t.locale)||void 0===i?void 0:i.language)||"en",l=o,s=Object.assign(Object.assign({},l),l.design||{}),u=o.modules&&o.modules.length>0,p=o.gap||1.2,g={padding:this.getPaddingCSS(s),margin:this.getMarginCSS(s),background:this.getBackgroundCSS(s),backgroundImage:this.getBackgroundImageCSS(s,t),backgroundSize:s.background_size||"cover",backgroundPosition:s.background_position||"center",backgroundRepeat:s.background_repeat||"no-repeat",border:s.border_width?this.getBorderCSS(s):"none",borderRadius:this.addPixelUnit(s.border_radius)||"0",display:"flex",flexDirection:"column",justifyContent:this.getJustifyContent(o.alignment||"center"),gap:p>=0&&"space-between"!==o.alignment&&"space-around"!==o.alignment?`${p}rem`:"0",alignItems:this.getAlignItems(o.horizontal_alignment||"center"),width:"100%",minHeight:"0"};let m=null,_=null,h=!1,v=0,b=0;return n.qy`
      <div class="vertical-module-preview">
        <div
          class="vertical-preview-content"
          style="${this.styleObjectToCss(g)}; cursor: ${o.tap_action&&"nothing"!==o.tap_action.action||o.hold_action&&"nothing"!==o.hold_action.action||o.double_tap_action&&"nothing"!==o.double_tap_action.action?"pointer":"default"};"
          @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),h=!1,_=setTimeout((()=>{h=!0,o.hold_action&&"nothing"!==o.hold_action.action&&r.K.handleAction(o.hold_action,t,e.target)}),500)}}
          @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),_&&(clearTimeout(_),_=null),h)return void(h=!1);const i=Date.now();i-b<300&&1===v?(m&&(clearTimeout(m),m=null),v=0,o.double_tap_action&&"nothing"!==o.double_tap_action.action&&r.K.handleAction(o.double_tap_action,t,e.target)):(v=1,b=i,m=setTimeout((()=>{v=0,o.tap_action&&"nothing"!==o.tap_action.action&&r.K.handleAction(o.tap_action,t,e.target)}),300))}}
        >
          ${u?(()=>{c.S.setHass(t);const e=o.modules.filter((e=>{var t,i,n,o;const a=e,r=c.S.evaluateModuleVisibility(a),l=c.S.evaluateLogicProperties({logic_entity:null===(t=null==a?void 0:a.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=null==a?void 0:a.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(n=null==a?void 0:a.design)||void 0===n?void 0:n.logic_operator,logic_value:null===(o=null==a?void 0:a.design)||void 0===o?void 0:o.logic_value});return r&&l}));return e.map(((e,i)=>{const a=p<0&&i>0&&"space-between"!==o.alignment&&"space-around"!==o.alignment,r=a?`${p}rem 0 0 0`:"0",s=a;return n.qy`
                    <div
                      class="child-module-preview ${s?"negative-gap":""}"
                      style="max-width: 100%; overflow: hidden; width: 100%; box-sizing: border-box; margin: ${r}; ${s?"padding: 0; border: none; background: transparent;":""}"
                    >
                      ${this._renderChildModulePreview(e,t,l)}
                    </div>
                  `}))})():n.qy`
                <div class="empty-layout-message">
                  <span
                    >${(0,d.kg)("editor.vertical.empty.no_modules",a,"No modules added yet")}</span
                  >
                  <small
                    >${(0,d.kg)("editor.vertical.empty.add_modules",a,"Add modules in the layout builder to see them here")}</small
                  >
                </div>
              `}
        </div>
      </div>
    `}_renderChildModulePreview(e,t,i){var o,a,r,s,d,u,p,g,m,_,h,v;let b=e;i&&(b=this.applyLayoutDesignToChild(e,i)),c.S.setHass(t);const f=b,y=c.S.evaluateModuleVisibility(f),k=c.S.evaluateLogicProperties({logic_entity:null===(o=null==f?void 0:f.design)||void 0===o?void 0:o.logic_entity,logic_attribute:null===(a=null==f?void 0:f.design)||void 0===a?void 0:a.logic_attribute,logic_operator:null===(r=null==f?void 0:f.design)||void 0===r?void 0:r.logic_operator,logic_value:null===(s=null==f?void 0:f.design)||void 0===s?void 0:s.logic_value});if(!y||!k)return n.qy``;const x=(0,l.oD)().getModule(b.type);if(x){const e=x.renderPreview(b,t),i=b,o=i.animation_type||(null===(d=i.design)||void 0===d?void 0:d.animation_type);if(o&&"none"!==o){const a=i.animation_duration||(null===(u=i.design)||void 0===u?void 0:u.animation_duration)||"2s",r=i.animation_delay||(null===(p=i.design)||void 0===p?void 0:p.animation_delay)||"0s",l=i.animation_timing||(null===(g=i.design)||void 0===g?void 0:g.animation_timing)||"ease",s=i.animation_entity||(null===(m=i.design)||void 0===m?void 0:m.animation_entity),d=i.animation_trigger_type||(null===(_=i.design)||void 0===_?void 0:_.animation_trigger_type)||"state",c=i.animation_attribute||(null===(h=i.design)||void 0===h?void 0:h.animation_attribute),b=i.animation_state||(null===(v=i.design)||void 0===v?void 0:v.animation_state);let f=!1;if(s){if(b&&t&&t.states[s]){const e=t.states[s];f="attribute"===d&&c?String(e.attributes[c])===b:e.state===b}}else f=!0;if(f)return n.qy`
            <div
              class="module-animation-wrapper animation-${o}"
              style="
                --animation-duration: ${a};
                --animation-delay: ${r};
                --animation-timing: ${l};
              "
            >
              ${e}
            </div>
          `}return e}return n.qy`
      <div class="unknown-child-module">
        <ha-icon icon="mdi:help-circle"></ha-icon>
        <span>Unknown Module: ${b.type}</span>
      </div>
    `}applyLayoutDesignToChild(e,t){const i=Object.assign({},e);return t.color&&(i.color=t.color),t.font_size&&(i.font_size=t.font_size),t.font_family&&(i.font_family=t.font_family),t.font_weight&&(i.font_weight=t.font_weight),t.text_align&&(i.text_align=t.text_align),t.line_height&&(i.line_height=t.line_height),t.letter_spacing&&(i.letter_spacing=t.letter_spacing),t.text_transform&&(i.text_transform=t.text_transform),t.font_style&&(i.font_style=t.font_style),t.text_shadow_h&&(i.text_shadow_h=t.text_shadow_h),t.text_shadow_v&&(i.text_shadow_v=t.text_shadow_v),t.text_shadow_blur&&(i.text_shadow_blur=t.text_shadow_blur),t.text_shadow_color&&(i.text_shadow_color=t.text_shadow_color),t.box_shadow_h&&(i.box_shadow_h=t.box_shadow_h),t.box_shadow_v&&(i.box_shadow_v=t.box_shadow_v),t.box_shadow_blur&&(i.box_shadow_blur=t.box_shadow_blur),t.box_shadow_spread&&(i.box_shadow_spread=t.box_shadow_spread),t.box_shadow_color&&(i.box_shadow_color=t.box_shadow_color),t.animation_type&&(i.animation_type=t.animation_type),t.animation_entity&&(i.animation_entity=t.animation_entity),t.animation_trigger_type&&(i.animation_trigger_type=t.animation_trigger_type),t.animation_attribute&&(i.animation_attribute=t.animation_attribute),t.animation_state&&(i.animation_state=t.animation_state),t.intro_animation&&(i.intro_animation=t.intro_animation),t.outro_animation&&(i.outro_animation=t.outro_animation),t.animation_duration&&(i.animation_duration=t.animation_duration),t.animation_delay&&(i.animation_delay=t.animation_delay),t.animation_timing&&(i.animation_timing=t.animation_timing),t.horizontal_alignment&&(i.alignment=t.horizontal_alignment),i}renderLogicTab(e,t,i,n){return s.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.gap&&(t.gap<-5||t.gap>10)&&i.push("Gap must be between -5 and 10 rem"),t.modules&&t.modules.length>0)for(const e of t.modules)"horizontal"===e.type&&i.push("Horizontal layout modules cannot be placed inside vertical layout modules"),"vertical"===e.type&&i.push("Vertical layout modules cannot be nested inside other vertical layout modules");return{valid:0===i.length,errors:i}}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"8px"} ${this.addPixelUnit(e.padding_right)||"8px"} ${this.addPixelUnit(e.padding_bottom)||"8px"} ${this.addPixelUnit(e.padding_left)||"8px"}`:"8px"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0"} ${this.addPixelUnit(e.margin_right)||"0"} ${this.addPixelUnit(e.margin_bottom)||"0"} ${this.addPixelUnit(e.margin_left)||"0"}`:"0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){var i,n;if(!e.background_image_type||"none"===e.background_image_type)return e.background_image?`url("${e.background_image}")`:"none";switch(e.background_image_type){case"upload":if(e.background_image)return`url("${(0,a.V)(t,e.background_image)}")`;break;case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const o=t.states[e.background_image_entity];let r="";if((null===(i=o.attributes)||void 0===i?void 0:i.entity_picture)?r=o.attributes.entity_picture:(null===(n=o.attributes)||void 0===n?void 0:n.image)?r=o.attributes.image:o.state&&"string"==typeof o.state&&(o.state.startsWith("/")||o.state.startsWith("http"))&&(r=o.state),r)return`url("${(0,a.V)(t,r)}")`}}return"none"}getBorderCSS(e){return`${this.addPixelUnit(e.border_width)||"0"} ${e.border_style||"solid"} ${e.border_color||"transparent"}`}getJustifyContent(e){switch(e){case"top":default:return"flex-start";case"center":return"center";case"bottom":return"flex-end";case"space-between":return"space-between";case"space-around":return"space-around"}}getAlignItems(e){switch(e){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end";case"stretch":return"stretch"}}getStyles(){return'\n      /* Vertical Module Styles */\n      .vertical-module-preview {\n        width: 100%;\n        min-height: 60px;\n      }\n\n      .vertical-preview-content {\n        background: transparent;\n        border-radius: 6px;\n        border: none;\n        transition: all 0.2s ease;\n      }\n\n      .child-module-preview {\n        background: transparent;\n        border: none;\n        border-radius: 4px;\n        padding: 0;\n        transition: all 0.2s ease;\n        width: 100%;\n      }\n\n      .child-module-preview.negative-gap {\n        background: transparent !important;\n        border: none !important;\n        border-radius: 0 !important;\n        padding: 0 !important;\n      }\n\n      /* Legacy hover effects removed - now handled by new hover effects system */\n\n      .empty-layout-message {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        gap: 4px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n        text-align: center;\n        width: 100%;\n        padding: 20px;\n      }\n\n      .empty-layout-message span {\n        font-size: 14px;\n        font-weight: 500;\n      }\n\n      .empty-layout-message small {\n        font-size: 12px;\n        opacity: 0.8;\n      }\n\n      .unknown-child-module {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n      }\n\n      /* Scoped list-style reset to avoid stray bullet markers in preview */\n      .vertical-module-preview ul,\n      .vertical-module-preview ol {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n      }\n      .vertical-module-preview li::marker {\n        content: \'\';\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n      \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Custom Range Slider Styling */\n      input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        outline: none;\n        opacity: 0.7;\n        transition: opacity 0.2s;\n      }\n\n      input[type="range"]:hover {\n        opacity: 1;\n      }\n\n      input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-webkit-slider-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-moz-range-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-track {\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        border: none;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n    '}}},866:(e,t,i)=>{i.d(t,{k:()=>m});var n=i(183),o=i(30),a=i(57),r=i(662),l=i(345),s=i(400),d=i(987),c=i(796),u=i(381),p=i(456),g=i(371);i(768);class m extends o.m{constructor(){super(...arguments),this.metadata={type:"icon",title:"Icons",description:"Interactive icon buttons",author:"WJD Designs",version:"1.0.0",icon:"mdi:circle",category:"interactive",tags:["icon","button","interactive","control"]},this._previewCollapsed=!1,this._localStylesInjected=!1}_injectGlobalStyles(){if(!m._globalStylesInjected&&"undefined"!=typeof document){const e="uvc-icon-module-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=this.getStyles()+"\n"+m._ANIMATION_KEYFRAMES,document.head.appendChild(t)}m._globalStylesInjected=!0}}_hashString(e){let t=0;if(0===e.length)return t.toString();for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t).toString(36)}_highlightJinja2(e){if(!e)return"";let t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t=t.replace(/(\{\{[\s\S]*?\}\})/g,'<span style="color: #569cd6;">$1</span>'),t=t.replace(/(\{%[\s\S]*?%\})/g,'<span style="color: #c586c0;">$1</span>'),t=t.replace(/((['"`])[^'"`]*?\2)/g,'<span style="color: #ce9178;">$1</span>'),["if","else","elif","endif","for","endfor","in","not","and","or","is","true","false","none","True","False","None"].forEach((e=>{const i=new RegExp(`\\b(${e})\\b`,"g");t=t.replace(i,'<span style="color: #569cd6;">$1</span>')})),t=t.replace(/\b([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/g,'<span style="color: #dcdcaa;">$1</span>('),t=t.replace(/\|\s*([a-zA-Z_][a-zA-Z0-9_]*)/g,'| <span style="color: #dcdcaa;">$1</span>'),t=t.replace(/\b(\d+(?:\.\d+)?)\b/g,'<span style="color: #b5cea8;">$1</span>'),t=t.replace(/(==|!=|<=|>=|<|>|\+|-|\*|\/|%)/g,'<span style="color: #d4d4d4;">$1</span>'),t}createDefault(e,t){return{id:e||this.generateId("icon"),type:"icon",icons:[{id:this.generateId("icon-item"),entity:"weather.forecast_home",name:"",icon_inactive:"mdi:weather-partly-cloudy",icon_active:"mdi:weather-partly-cloudy",inactive_state:"",active_state:"",custom_inactive_state_text:"",custom_active_state_text:"",custom_inactive_name_text:"",custom_active_name_text:"",inactive_template_mode:!1,inactive_template:"",active_template_mode:!1,active_template:"",use_entity_color_for_icon:!1,color_inactive:"var(--secondary-text-color)",color_active:"var(--primary-color)",inactive_icon_color:"var(--secondary-text-color)",active_icon_color:"var(--primary-color)",inactive_name_color:"var(--primary-text-color)",active_name_color:"var(--primary-text-color)",inactive_state_color:"var(--secondary-text-color)",active_state_color:"var(--secondary-text-color)",show_name_when_inactive:!0,show_state_when_inactive:!0,show_icon_when_inactive:!0,show_name_when_active:!0,show_state_when_active:!0,show_icon_when_active:!0,show_state:!0,show_name:!0,show_units:!0,enable_hover_effect:!1,icon_size:26,text_size:14,name_icon_gap:8,name_state_gap:2,icon_state_gap:4,active_icon_size:26,inactive_icon_size:26,active_text_size:14,inactive_text_size:14,state_size:14,active_state_size:14,inactive_state_size:14,icon_size_locked:!0,text_size_locked:!0,state_size_locked:!0,active_icon_locked:!0,active_icon_color_locked:!1,active_icon_background_locked:!0,active_icon_background_color_locked:!0,active_name_locked:!0,active_name_color_locked:!0,active_state_locked:!1,active_state_color_locked:!0,icon_background:"none",use_entity_color_for_icon_background:!1,icon_background_color:"transparent",inactive_icon_animation:"none",active_icon_animation:"none",vertical_alignment:"center",container_width:void 0,container_background_shape:"none",container_background_color:"#808080",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},click_action:"toggle",double_click_action:"none",hold_action_legacy:"none",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:""}],columns:3,gap:16,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const r=e,l=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        ${r.icons.map(((e,i)=>n.qy`
            <div class="icon-settings-container">
              <!-- Entity Configuration -->
              ${this.renderSettingsSection((0,p.kg)("editor.icon.entity_config.title",l,"ENTITY CONFIGURATION"),(0,p.kg)("editor.icon.entity_config.desc",l,"Configure the entity and active/inactive states"),[{title:(0,p.kg)("editor.icon.entity",l,"Entity"),description:(0,p.kg)("editor.icon.entity_desc",l,"Select the entity this icon represents"),hass:t,data:{entity:e.entity||""},schema:[this.entityField("entity")],onChange:e=>{const n=e.detail.value.entity,a={entity:n};if(n&&(null==t?void 0:t.states[n])){const e=s.s.getEntityIcon(n,t);e&&(a.icon_inactive=e,!1!==r.icons[i].active_icon_locked&&(a.icon_active=e))}if(n&&this._isBinaryEntity(n)){const e=r.icons[i];e.active_state||e.inactive_state||(a.active_state="on",a.inactive_state="off")}this._updateIcon(r,i,a,o)}},{title:(0,p.kg)("editor.icon.inactive_state",l,"Inactive State"),description:(0,p.kg)("editor.icon.inactive_state_desc",l,'State value considered "inactive" (leave blank to use actual entity state)'),hass:t,data:{inactive_state:e.inactive_state||""},schema:[this.textField("inactive_state")],onChange:e=>this._updateIcon(r,i,{inactive_state:e.detail.value.inactive_state},o)},{title:(0,p.kg)("editor.icon.active_state",l,"Active State"),description:(0,p.kg)("editor.icon.active_state_desc",l,'State value considered "active" (leave blank to use actual entity state)'),hass:t,data:{active_state:e.active_state||""},schema:[this.textField("active_state")],onChange:e=>this._updateIcon(r,i,{active_state:e.detail.value.active_state},o)}])}

              <!-- Icon Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <span>${(0,p.kg)("editor.icon.icon_section.title",l,"Icon")}</span>
                    <ha-switch
                      .checked=${!1!==e.show_icon_when_active&&!1!==e.show_icon_when_inactive}
                      @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{show_icon_when_active:t,show_icon_when_inactive:t},o)}}
                    ></ha-switch>
                  </div>
                </div>

                ${!1!==e.show_icon_when_active||!1!==e.show_icon_when_inactive?n.qy`
                      <!-- Inactive Icon Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,p.kg)("editor.icon.inactive_icon",l,"Inactive Icon")}
                          </summary>
                          <div style="padding: 16px;">
                            ${this.renderSettingsSection((0,p.kg)("editor.icon.inactive_icon_config",l,"Inactive Icon Configuration"),(0,p.kg)("editor.icon.inactive_icon_config_desc",l,"Configure the inactive icon settings"),[{title:(0,p.kg)("editor.icon.inactive_icon",l,"Inactive Icon"),description:(0,p.kg)("editor.icon.inactive_icon_desc",l,"Icon to show when inactive"),hass:t,data:{icon_inactive:e.icon_inactive||""},schema:[this.iconField("icon_inactive")],onChange:e=>this._updateIconWithLockSync(r,i,"icon_inactive",e.detail.value.icon_inactive,o)}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_icon_color",l,"Inactive Icon Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.icon_color_inactive",l,"Color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_icon_color||"var(--secondary-text-color)"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_icon_color",e.detail.value,o)}
                              ></ultra-color-picker>
                            </div>

                            ${this.renderSettingsSection((0,p.kg)("editor.icon.background_section.title",l,"Inactive Background"),(0,p.kg)("editor.icon.background_section.desc",l,"Configure the inactive background settings"),[{title:(0,p.kg)("editor.icon.inactive_icon_background",l,"Inactive Background Shape"),description:(0,p.kg)("editor.icon.background_shape_inactive",l,"Background shape when inactive"),hass:t,data:{inactive_icon_background:e.inactive_icon_background||"none"},schema:[this.selectField("inactive_icon_background",[{value:"none",label:"None"},{value:"circle",label:"Circle"},{value:"square",label:"Square"},{value:"rounded-square",label:"Rounded Square"}])],onChange:e=>{const t=e.detail.value.inactive_icon_background,n={inactive_icon_background:t};t&&"none"!==t&&(n.inactive_icon_background_color="var(--divider-color)"),this._updateIcon(r,i,n,o)}}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_icon_background_color",l,"Inactive Background Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.background_color_inactive",l,"Background color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_icon_background_color||"transparent"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_icon_background_color",e.detail.value,o)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_icon_size",l,"Inactive Icon Size")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.icon_size_inactive",l,"Icon size when inactive")}
                              </div>
                              ${this._renderSizeControl(r,i,o,"inactive_icon_size",e.inactive_icon_size||26,0,50,26)}
                            </div>
                          </div>
                        </details>
                      </div>

                      <!-- Active Icon Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,p.kg)("editor.icon.active_icon",l,"Active Icon")}
                          </summary>
                          <div style="padding: 16px;">
                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_icon",l,"Active Icon")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.active_icon_desc",l,"Icon to show when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_icon_locked","icon_active","icon_inactive",e.icon_active||e.icon_inactive||"","icon",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_icon_color",l,"Active Icon Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.icon_color_active",l,"Color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_icon_color_locked","active_icon_color","inactive_icon_color",e.active_icon_color||"var(--primary-color)","color",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_icon_background",l,"Active Background Shape")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.background_shape_active",l,"Background shape when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_icon_background_locked","active_icon_background","inactive_icon_background",e.active_icon_background||"none","select",t,[{value:"none",label:"None"},{value:"circle",label:"Circle"},{value:"square",label:"Square"},{value:"rounded-square",label:"Rounded Square"}])}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_icon_background_color",l,"Active Background Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.background_color_active",l,"Background color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_icon_background_color_locked","active_icon_background_color","inactive_icon_background_color",e.active_icon_background_color||"transparent","color",t)}
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_icon_size",l,"Active Icon Size")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.icon_size_active",l,"Icon size when active")}
                              </div>
                              ${this._renderSizeControlWithLock(r,i,o,"icon_size","active_icon_size","inactive_icon_size",e.active_icon_size||26,0,50,26)}
                            </div>
                          </div>
                        </details>
                      </div>
                    `:""}
              </div>

              <!-- Name Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <span>${(0,p.kg)("editor.icon.name_section.title",l,"Name")}</span>
                    <ha-switch
                      .checked=${!1!==e.show_name_when_active&&!1!==e.show_name_when_inactive}
                      @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{show_name_when_active:t,show_name_when_inactive:t},o)}}
                    ></ha-switch>
                  </div>
                </div>

                ${!1!==e.show_name_when_active||!1!==e.show_name_when_inactive?n.qy`
                      <!-- Inactive Name Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,p.kg)("editor.icon.inactive_name",l,"Inactive Name")}
                          </summary>
                          <div style="padding: 16px;">
                            ${this.renderSettingsSection((0,p.kg)("editor.icon.inactive_name_config",l,"Inactive Name Configuration"),(0,p.kg)("editor.icon.inactive_name_config_desc",l,"Configure the inactive name settings"),[{title:(0,p.kg)("editor.icon.custom_inactive_name",l,"Custom Inactive Name"),description:(0,p.kg)("editor.icon.custom_inactive_name_desc",l,"Override entity name when inactive (leave empty to use entity name)"),hass:t,data:{custom_inactive_name_text:e.custom_inactive_name_text||""},schema:[this.textField("custom_inactive_name_text")],onChange:e=>this._updateIcon(r,i,{custom_inactive_name_text:e.detail.value.custom_inactive_name_text},o)}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_name_color",l,"Inactive Name Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.name_color_inactive",l,"Name color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_name_color||"var(--primary-text-color)"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_name_color",e.detail.value,o)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_name_size",l,"Inactive Name Size")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.name_size_inactive",l,"Name text size when inactive")}
                              </div>
                              ${this._renderSizeControl(r,i,o,"inactive_text_size",e.inactive_text_size||14,0,50,14)}
                            </div>
                          </div>
                        </details>
                      </div>

                      <!-- Active Name Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,p.kg)("editor.icon.active_name",l,"Active Name")}
                          </summary>
                          <div style="padding: 16px;">
                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.custom_active_name",l,"Custom Active Name")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.custom_active_name_desc",l,"Override entity name when active (leave empty to use entity name)")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_name_locked","custom_active_name_text","custom_inactive_name_text",e.custom_active_name_text||"","text",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_name_color",l,"Active Name Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.name_color_active",l,"Name color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_name_color_locked","active_name_color","inactive_name_color",e.active_name_color||"var(--primary-text-color)","color",t)}
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_name_size",l,"Active Name Size")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.name_size_active",l,"Name text size when active")}
                              </div>
                              ${this._renderSizeControlWithLock(r,i,o,"text_size","active_text_size","inactive_text_size",e.active_text_size||e.inactive_text_size||14,0,50,12)}
                            </div>
                          </div>
                        </details>
                      </div>
                    `:""}
              </div>

              <!-- State Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <span>${(0,p.kg)("editor.icon.state_section.title",l,"State")}</span>
                    <ha-switch
                      .checked=${!1!==e.show_state_when_active&&!1!==e.show_state_when_inactive}
                      @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{show_state_when_active:t,show_state_when_inactive:t},o)}}
                    ></ha-switch>
                  </div>
                </div>

                ${!1!==e.show_state_when_active||!1!==e.show_state_when_inactive?n.qy`
                      <!-- Inactive State Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,p.kg)("editor.icon.inactive_state",l,"Inactive State")}
                          </summary>
                          <div style="padding: 16px;">
                            ${this.renderSettingsSection((0,p.kg)("editor.icon.inactive_state_config",l,"Inactive State Configuration"),(0,p.kg)("editor.icon.inactive_state_config_desc",l,"Configure the inactive state settings"),[{title:(0,p.kg)("editor.icon.custom_inactive_state",l,"Custom Inactive State"),description:(0,p.kg)("editor.icon.custom_inactive_state_desc",l,"Custom text when inactive (leave empty to use actual state)"),hass:t,data:{custom_inactive_state_text:e.custom_inactive_state_text||""},schema:[this.textField("custom_inactive_state_text")],onChange:e=>this._updateIcon(r,i,{custom_inactive_state_text:e.detail.value.custom_inactive_state_text},o)}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_state_color",l,"Inactive State Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.state_color_inactive",l,"State color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_state_color||"var(--secondary-text-color)"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_state_color",e.detail.value,o)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.inactive_state_size",l,"Inactive State Size")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.state_size_inactive",l,"State text size when inactive")}
                              </div>
                              ${this._renderSizeControl(r,i,o,"inactive_state_size",e.inactive_state_size||10,0,50,10)}
                            </div>
                          </div>
                        </details>
                      </div>

                      <!-- Active State Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,p.kg)("editor.icon.active_state",l,"Active State")}
                          </summary>
                          <div style="padding: 16px;">
                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.custom_active_state",l,"Custom Active State")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.custom_active_state_desc",l,"Custom text when active (leave empty to use actual state)")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_state_locked","custom_active_state_text","custom_inactive_state_text",e.custom_active_state_text||"","text",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_state_color",l,"Active State Color")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.state_color_active",l,"State color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,o,"active_state_color_locked","active_state_color","inactive_state_color",e.active_state_color||"var(--secondary-text-color)","color",t)}
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,p.kg)("editor.icon.active_state_size",l,"Active State Size")}
                              </div>
                              <div class="field-description">
                                ${(0,p.kg)("editor.icon.state_size_active",l,"State text size when active")}
                              </div>
                              ${this._renderSizeControlWithLock(r,i,o,"state_size","active_state_size","inactive_state_size",e.active_state_size||10,0,50,10)}
                            </div>
                          </div>
                        </details>
                      </div>
                    `:""}
              </div>

              <!-- Advanced Template Mode Section -->
              <div class="template-section" style="margin-bottom: 24px;">
                <div class="template-header">
                  <div class="switch-container">
                    <label class="switch-label"
                      >${(0,p.kg)("editor.icon.template_section.title",l,"Advanced Template Mode")}</label
                    >
                    <label class="switch">
                      <input
                        type="checkbox"
                        .checked=${e.template_mode||!1}
                        @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{template_mode:t},o)}}
                      />
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div class="template-description">
                    ${(0,p.kg)("editor.icon.template_section.desc",l,"Use Jinja2 templates for advanced icon control. Templates can control visibility (true/false to show/hide icons) and customize state text. Return custom text for Active State, return actual entity state for Inactive State.")}
                  </div>
                </div>

                ${e.template_mode?n.qy`
                      <div class="template-content">
                        <textarea
                          .value=${e.template||""}
                          @input=${e=>{const t=e.target;this._updateIcon(r,i,{template:t.value},o)}}
                          placeholder="{% if states('binary_sensor.example') == 'on' %}true{% else %}false{% endif %}"
                          class="template-editor"
                          rows="6"
                        ></textarea>
                        <div class="template-help">
                          <p><strong>For visibility control, return a boolean:</strong></p>
                          <ul>
                            <li>
                              <code>true</code>, <code>on</code>, <code>yes</code>, <code>1</code> →
                              Show icon (Active State)
                            </li>
                            <li>
                              <code>false</code>, <code>off</code>, <code>no</code>,
                              <code>0</code> → Hide icon (Inactive State)
                            </li>
                          </ul>
                          <p><strong>For custom state text, return a string:</strong></p>
                          <ul>
                            <li>
                              <code
                                >{% if states('weather.forecast_home') == 'cloudy' %}About to Rain{%
                                else %}{{ states('weather.forecast_home') }}{% endif %}</code
                              >
                              → When cloudy: shows "About to Rain" (Active), when not cloudy: shows
                              actual state (Inactive)
                            </li>
                            <li>
                              <code>{{ states('sensor.temperature') | round(1) }}°F</code> → Shows
                              formatted temperature and Active State is current
                            </li>
                          </ul>
                          <p>
                            <strong>Note:</strong> Use the same entity name throughout your template
                            to avoid "unknown" states
                          </p>
                        </div>
                      </div>
                    `:""}
              </div>

              <!-- Icon Animation Section -->
              ${this.renderSettingsSection((0,p.kg)("editor.icon.animation_section.title",l,"Icon Animation"),(0,p.kg)("editor.icon.animation_section.desc",l,"Configure animations for active and inactive states"),[{title:(0,p.kg)("editor.icon.active_animation",l,"Active Animation"),description:(0,p.kg)("editor.icon.active_animation_desc",l,"Animation when icon is active"),hass:t,data:{active_icon_animation:e.active_icon_animation||"none"},schema:[this.selectField("active_icon_animation",[{value:"none",label:(0,p.kg)("editor.icon.animation_none",l,"None")},{value:"pulse",label:(0,p.kg)("editor.icon.animation_pulse",l,"Pulse")},{value:"spin",label:(0,p.kg)("editor.icon.animation_spin",l,"Spin")},{value:"bounce",label:(0,p.kg)("editor.icon.animation_bounce",l,"Bounce")},{value:"flash",label:(0,p.kg)("editor.icon.animation_flash",l,"Flash")},{value:"shake",label:(0,p.kg)("editor.icon.animation_shake",l,"Shake")},{value:"vibrate",label:(0,p.kg)("editor.icon.animation_vibrate",l,"Vibrate")},{value:"rotate-left",label:(0,p.kg)("editor.icon.animation_rotate_left",l,"Rotate Left")},{value:"rotate-right",label:(0,p.kg)("editor.icon.animation_rotate_right",l,"Rotate Right")},{value:"fade",label:(0,p.kg)("editor.icon.animation_fade",l,"Fade")},{value:"scale",label:(0,p.kg)("editor.icon.animation_scale",l,"Scale")},{value:"tada",label:(0,p.kg)("editor.icon.animation_tada",l,"Tada")}])],onChange:e=>this._updateIcon(r,i,{active_icon_animation:e.detail.value.active_icon_animation},o)},{title:(0,p.kg)("editor.icon.inactive_animation",l,"Inactive Animation"),description:(0,p.kg)("editor.icon.inactive_animation_desc",l,"Animation when icon is inactive"),hass:t,data:{inactive_icon_animation:e.inactive_icon_animation||"none"},schema:[this.selectField("inactive_icon_animation",[{value:"none",label:(0,p.kg)("editor.icon.animation_none",l,"None")},{value:"pulse",label:(0,p.kg)("editor.icon.animation_pulse",l,"Pulse")},{value:"spin",label:(0,p.kg)("editor.icon.animation_spin",l,"Spin")},{value:"bounce",label:(0,p.kg)("editor.icon.animation_bounce",l,"Bounce")},{value:"flash",label:(0,p.kg)("editor.icon.animation_flash",l,"Flash")},{value:"shake",label:(0,p.kg)("editor.icon.animation_shake",l,"Shake")},{value:"vibrate",label:(0,p.kg)("editor.icon.animation_vibrate",l,"Vibrate")},{value:"rotate-left",label:(0,p.kg)("editor.icon.animation_rotate_left",l,"Rotate Left")},{value:"rotate-right",label:(0,p.kg)("editor.icon.animation_rotate_right",l,"Rotate Right")},{value:"fade",label:(0,p.kg)("editor.icon.animation_fade",l,"Fade")},{value:"scale",label:(0,p.kg)("editor.icon.animation_scale",l,"Scale")},{value:"tada",label:(0,p.kg)("editor.icon.animation_tada",l,"Tada")}])],onChange:e=>this._updateIcon(r,i,{inactive_icon_animation:e.detail.value.inactive_icon_animation},o)}])}
            </div>
          `))}
      </div>
    `}renderActionsTab(e,t,i,n){return r.A.render(e,t,(e=>n(e)))}renderLogicTab(e,t,i,n){return g.X.render(e,t,(e=>n(e)))}renderOtherTab(e,t,i,n){return this.renderLogicTab(e,t,i,n)}renderPreview(e,t){const i=e;!this._templateService&&t&&(this._templateService=new l.I(t)),this._templateService&&t&&this._templateService.updateHass(t);const o=i,a=i.design||{},r={padding:a.padding_top||a.padding_bottom||a.padding_left||a.padding_right||o.padding_top||o.padding_bottom||o.padding_left||o.padding_right?`${this.addPixelUnit(a.padding_top||o.padding_top)||"8px"} ${this.addPixelUnit(a.padding_right||o.padding_right)||"0px"} ${this.addPixelUnit(a.padding_bottom||o.padding_bottom)||"8px"} ${this.addPixelUnit(a.padding_left||o.padding_left)||"0px"}`:"8px 0",margin:a.margin_top||a.margin_bottom||a.margin_left||a.margin_right||o.margin_top||o.margin_bottom||o.margin_left||o.margin_right?`${this.addPixelUnit(a.margin_top||o.margin_top)||"0px"} ${this.addPixelUnit(a.margin_right||o.margin_right)||"0px"} ${this.addPixelUnit(a.margin_bottom||o.margin_bottom)||"0px"} ${this.addPixelUnit(a.margin_left||o.margin_left)||"0px"}`:"0",background:a.background_color||o.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},o),a),t),backgroundSize:a.background_size||o.background_size||"cover",backgroundPosition:a.background_position||o.background_position||"center",backgroundRepeat:a.background_repeat||o.background_repeat||"no-repeat",border:(a.border_style||o.border_style)&&"none"!==(a.border_style||o.border_style)?`${this.addPixelUnit(a.border_width||o.border_width)||"1px"} ${a.border_style||o.border_style} ${a.border_color||o.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(a.border_radius||o.border_radius)||"0",position:a.position||o.position||"relative",top:a.top||o.top||"auto",bottom:a.bottom||o.bottom||"auto",left:a.left||o.left||"auto",right:a.right||o.right||"auto",zIndex:a.z_index||o.z_index||"auto",width:a.width||o.width||"100%",height:a.height||o.height||"auto",maxWidth:a.max_width||o.max_width||"100%",maxHeight:a.max_height||o.max_height||"none",minWidth:a.min_width||o.min_width||"none",minHeight:a.min_height||o.min_height||"auto",overflow:a.overflow||o.overflow||"hidden",clipPath:a.clip_path||o.clip_path||"none",backdropFilter:a.backdrop_filter||o.backdrop_filter||"none",boxShadow:a.box_shadow_h&&a.box_shadow_v?`${a.box_shadow_h||"0"} ${a.box_shadow_v||"0"} ${a.box_shadow_blur||"0"} ${a.box_shadow_spread||"0"} ${a.box_shadow_color||"rgba(0,0,0,0.1)"}`:o.box_shadow_h&&o.box_shadow_v?`${o.box_shadow_h||"0"} ${o.box_shadow_v||"0"} ${o.box_shadow_blur||"0"} ${o.box_shadow_spread||"0"} ${o.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};this._injectGlobalStyles();const s=this._localStylesInjected?n.qy``:n.qy`<style>
          ${this.getStyles()}
        </style>`;return this._localStylesInjected=!0,n.qy`
      ${s}
      <div class="icon-module-container" style=${this.styleObjectToCss(r)}>
        <div class="icon-module-preview">
          <div
            class="icon-grid"
            style="
            display: grid;
            grid-template-columns: repeat(${Math.min(i.columns||3,i.icons.length)}, 1fr);
            gap: ${i.gap||16}px;
            justify-content: ${i.alignment||"center"};
          "
          >
            ${i.icons.slice(0,6).map((e=>{var o,r,s,u,p,g,m,_,h,v,b,f;const y=null==t?void 0:t.states[e.entity],k=(null==y?void 0:y.state)||"unknown",x=this._evaluateIconState(e,t),w=x?!1!==e.show_icon_when_active:!1!==e.show_icon_when_inactive,$=x?!1!==e.show_name_when_active:!1!==e.show_name_when_inactive,z=x?!1!==e.show_state_when_active:!1!==e.show_state_when_inactive;let S=x&&e.icon_active||e.icon_inactive;if(e.dynamic_icon_template_mode&&e.dynamic_icon_template){!this._templateService&&t&&(this._templateService=new l.I(t));const i=this._hashString(e.dynamic_icon_template),n=`dynamic_icon_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(e.dynamic_icon_template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(o=null==t?void 0:t.__uvc_template_strings)||void 0===o?void 0:o[n];a&&""!==String(a).trim()&&(S=String(a))}else(null===(r=null==y?void 0:y.attributes)||void 0===r?void 0:r.icon)&&!S&&(S=y.attributes.icon);let C=e.use_entity_color_for_icon&&(null===(s=null==y?void 0:y.attributes)||void 0===s?void 0:s.rgb_color)?`rgb(${y.attributes.rgb_color.join(",")})`:x?e.active_icon_color:e.inactive_icon_color;if(e.dynamic_color_template_mode&&e.dynamic_color_template){!this._templateService&&t&&(this._templateService=new l.I(t));const i=this._hashString(e.dynamic_color_template),n=`dynamic_color_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(e.dynamic_color_template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(u=null==t?void 0:t.__uvc_template_strings)||void 0===u?void 0:u[n];o&&""!==String(o).trim()&&(C=String(o))}const A=a.color||(x?e.active_name_color:e.inactive_name_color),j=a.color||(x?e.active_state_color:e.inactive_state_color),T=x?e.custom_active_name_text||e.name||(null===(p=null==y?void 0:y.attributes)||void 0===p?void 0:p.friendly_name)||e.entity:e.custom_inactive_name_text||e.name||(null===(g=null==y?void 0:y.attributes)||void 0===g?void 0:g.friendly_name)||e.entity;let I;if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new l.I(t));const i=this._hashString(e.template),n=`display_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(e.template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(m=null==t?void 0:t.__uvc_template_strings)||void 0===m?void 0:m[n];if(void 0!==o){const i=String(o).toLowerCase();I=["true","false","on","off","yes","no","0","1"].includes(i)||""===String(o).trim()?x?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(k,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(k,e.entity,e,t):String(o)!==k?String(o):x?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(k,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(k,e.entity,e,t)}else I=x?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(k,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(k,e.entity,e,t)}else I=x?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(k,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(k,e.entity,e,t);const E=x?e.active_icon_background||e.icon_background:e.inactive_icon_background||e.icon_background,P=x?e.active_icon_background_color||e.icon_background_color:e.inactive_icon_background_color||e.icon_background_color,M="none"!==E?{backgroundColor:e.use_entity_color_for_icon_background&&(null===(_=null==y?void 0:y.attributes)||void 0===_?void 0:_.rgb_color)?`rgb(${y.attributes.rgb_color.join(",")})`:P,borderRadius:"circle"===E?"50%":"rounded-square"===E?"8px":"0",padding:"8px"}:{},L=Object.assign(Object.assign({},{display:"flex",alignItems:"center",justifyContent:"center"}),M),D=e.active_icon_animation||"none",R=e.inactive_icon_animation||"none",O=x?D:R,V="none"!==O?`icon-animation-${O}`:"";V&&setTimeout((()=>{this._updateIconAnimationClasses(e.entity,V,x)}),100);const B={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:e.vertical_alignment||"center",padding:"0",borderRadius:"circle"===e.container_background_shape?"50%":"rounded"===e.container_background_shape?"8px":(e.container_background_shape,"0"),background:e.container_background_shape&&"none"!==e.container_background_shape?e.container_background_color||"#808080":"transparent",cursor:"pointer",transition:"all 0.2s ease",width:e.container_width?`${e.container_width}%`:"auto"};let N=null,H=null,U=!1,F=0,q=0;const K=null===(h=i.design)||void 0===h?void 0:h.hover_effect,G=d.k.getHoverEffectClass(K);return n.qy`
                <div
                  class="icon-item-preview ${G}"
                  style=${this.styleObjectToCss(Object.assign(Object.assign({},B),{gap:"0px",touchAction:"manipulation",backgroundImage:this.getBackgroundImageCSS(e,t),backgroundSize:e.background_size||"cover",backgroundPosition:a.background_position||"center",backgroundRepeat:a.background_repeat||"no-repeat",margin:"0 auto"}))}
                  @pointerdown=${n=>{n.preventDefault(),U=!1,i.hold_action&&(H=setTimeout((()=>{U=!0;const o="default"===i.hold_action.action?Object.assign(Object.assign({},i.hold_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},i.hold_action),{entity:i.hold_action.entity||e.entity});c.K.handleAction(o,t,n.target)}),500))}}
                  @pointerup=${n=>{if(n.preventDefault(),n.stopPropagation(),H&&(clearTimeout(H),H=null),U)return void(U=!1);const o=Date.now();if(o-q<300&&1===F){if(N&&(clearTimeout(N),N=null),F=0,i.double_tap_action){const o="default"===i.double_tap_action.action?Object.assign(Object.assign({},i.double_tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},i.double_tap_action),{entity:i.double_tap_action.entity||e.entity});c.K.handleAction(o,t,n.target)}}else if(F=1,q=o,N&&clearTimeout(N),!i.double_tap_action&&i.tap_action){const o="default"===i.tap_action.action?Object.assign(Object.assign({},i.tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},i.tap_action),{entity:i.tap_action.entity||e.entity});c.K.handleAction(o,t,n.target)}else i.tap_action&&(N=setTimeout((()=>{if(1===F){const o="default"===i.tap_action.action?Object.assign(Object.assign({},i.tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},i.tap_action),{entity:i.tap_action.entity||e.entity});c.K.handleAction(o,t,n.target)}F=0}),300))}}
                  @pointerleave=${()=>{H&&(clearTimeout(H),H=null),U=!1}}
                >
                  ${w?n.qy`
                        <div
                          style="${this.styleObjectToCss(Object.assign(Object.assign({},L),{marginBottom:$?`${null!==(v=e.name_icon_gap)&&void 0!==v?v:8}px`:z?`${null!==(b=e.icon_state_gap)&&void 0!==b?b:4}px`:"0px"}))}"
                        >
                          <ha-icon
                            icon="${S||"mdi:help-circle"}"
                            class="${V} ultra-force-animation"
                            style="
                      color: ${C||"var(--secondary-text-color)"};
                      --mdc-icon-size: ${Number(x?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                    "
                          ></ha-icon>
                        </div>
                      `:""}
                  ${$?n.qy`
                        <div
                          class="icon-name"
                          style="
                      font-size: ${x?e.active_text_size||e.text_size||12:e.inactive_text_size||e.text_size||14}px;
                        color: ${A||"var(--primary-text-color)"};
                      text-align: center;
                      line-height: 1.2;
                        max-width: 120px;
                      word-wrap: break-word;
                      margin-bottom: ${z?`${null!==(f=e.name_state_gap)&&void 0!==f?f:2}px`:"0px"};
                    "
                        >
                          ${T}
                        </div>
                      `:""}
                  ${z?n.qy`
                        <div
                          class="icon-state"
                          style="
                      font-size: ${x?e.active_state_size||e.state_size||12:e.inactive_state_size||e.state_size||12}px;
                        color: ${j||"var(--secondary-text-color)"};
                      text-align: center;
                      line-height: 1.2;
                    "
                        >
                          ${I}
                        </div>
                      `:""}
                </div>
              `}))}
            ${i.icons.length>6?n.qy`
                  <div
                    class="more-icons"
                    style="
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 8px;
                color: var(--secondary-text-color);
                font-size: 12px;
                font-style: italic;
              "
                  >
                    +${i.icons.length-6} more
                  </div>
                `:""}
          </div>

          <!-- More Icons Indicator -->
          ${i.icons.length>6?n.qy`
                <div
                  class="more-icons"
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    padding: 8px;
                    color: var(--secondary-text-color);
                    font-size: 12px;
                    font-style: italic;
                    margin-top: 8px;
                  "
                >
                  +${i.icons.length-6} more icons
                </div>
              `:""}
        </div>
      </div>
    `}renderSplitPreview(e,t){var i;const o=e;let a=!1;if(o.icons.length>0){const e=o.icons[0];if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new l.I(t));const n=this._hashString(e.template),o=`display_${e.entity}_${e.id}_${n}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const r=null===(i=null==t?void 0:t.__uvc_template_strings)||void 0===i?void 0:i[o];if(void 0!==r){const i=String(r).toLowerCase();if(["true","false","on","off","yes","no","0","1"].includes(i))a=["true","on","yes","1"].includes(i)||parseFloat(i)>0&&!isNaN(parseFloat(i));else if(""!==String(r).trim()){const i=null==t?void 0:t.states[e.entity],n=(null==i?void 0:i.state)||"unknown";a=String(r)!==n||this._evaluateIconState(e,t)}else a=!1}}else a=this._evaluateIconState(e,t)}return this._injectGlobalStyles(),this._injectKeyframesForAllSplitPreviewIcons(),n.qy`
      <style>
        ${m._ANIMATION_KEYFRAMES} .icon-split-preview {
          --animation-duration: 2s;
          --animation-timing: linear;
        }
        .icon-split-preview .icon-animation-spin {
          animation: iconSpin var(--animation-duration) var(--animation-timing) infinite;
        }
        .icon-split-preview .icon-animation-bounce {
          animation: iconBounce 1s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-pulse {
          animation: iconPulse 1.5s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-flash {
          animation: iconFlash 1s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-shake {
          animation: iconShake 0.5s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-vibrate {
          animation: iconVibrate 0.3s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-rotate-left {
          animation: iconRotateLeft var(--animation-duration) var(--animation-timing) infinite;
        }
        .icon-split-preview .icon-animation-rotate-right {
          animation: iconRotateRight var(--animation-duration) var(--animation-timing) infinite;
        }
        .icon-split-preview .icon-animation-fade {
          animation: iconFade 2s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-scale {
          animation: iconScale 1.5s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-tada {
          animation: iconTada 2s ease-in-out infinite;
        }
      </style>
      <div class="icon-split-preview">
        <!-- State Labels -->
        <div
          style="
               display: grid; 
               grid-template-columns: 1fr 1fr; 
               margin-bottom: 12px;
               text-align: center;
             "
        >
          <div>
            ${a?n.qy`<div style="height: 14px; margin-bottom: 4px;"></div>`:n.qy`<div
                  style="font-size: 10px; font-weight: 700; color: var(--primary-color); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;"
                >
                  Current
                </div>`}
            <div style="font-size: 12px; font-weight: 600; color: var(--secondary-text-color);">
              Inactive State
            </div>
          </div>
          <div>
            ${a?n.qy`<div
                  style="font-size: 10px; font-weight: 700; color: var(--primary-color); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;"
                >
                  Current
                </div>`:n.qy`<div style="height: 14px; margin-bottom: 4px;"></div>`}
            <div style="font-size: 12px; font-weight: 600; color: var(--secondary-text-color);">
              Active State
            </div>
          </div>
        </div>

        <!-- Split Preview Container -->
        <div
          style="
               display: grid; 
               grid-template-columns: 1fr 1fr; 
               border: 1px solid var(--divider-color); 
               border-radius: 8px; 
               overflow: hidden;
               min-height: 120px;
             "
        >
          <!-- Inactive Preview -->
          <div
            style="
                 background: var(--card-background-color);
                 border-right: 1px solid var(--divider-color);
                 padding: 16px;
                 display: flex;
                 align-items: center;
                 justify-content: center;
               "
          >
            ${this._renderSimpleIconGrid(o,t,!1)}
          </div>

          <!-- Active Preview -->
          <div
            style="
                 background: var(--card-background-color);
                 padding: 16px;
                 display: flex;
                 align-items: center;
                 justify-content: center;
               "
          >
            ${this._renderSimpleIconGrid(o,t,!0)}
          </div>
        </div>

        <!-- Icon Count Indicator -->
        ${o.icons.length>6?n.qy`
              <div
                style="
                 text-align: center;
                 padding: 8px;
                 color: var(--secondary-text-color);
                 font-size: 12px;
                 font-style: italic;
               "
              >
                Showing first 6 of ${o.icons.length} icons
              </div>
            `:""}
      </div>
    `}_renderSimpleIconGrid(e,t,i){const o=e.icons.slice(0,6);return Math.min(3,o.length),n.qy`
      <div
        style="
          display: flex;
        "
      >
        ${o.map((e=>this._renderSingleIconPreview(e,t,i)))}
      </div>
    `}_renderSingleIconPreview(e,t,i,o){var a,r,s,c,u,p,g,m,_,h,v,b;const f=null==t?void 0:t.states[e.entity],y=(null==f?void 0:f.state)||"unknown",k=i?!1!==e.show_icon_when_active:!1!==e.show_icon_when_inactive,x=i?!1!==e.show_name_when_active:!1!==e.show_name_when_inactive,w=i?!1!==e.show_state_when_active:!1!==e.show_state_when_inactive;let $=i&&e.icon_active||e.icon_inactive;if(e.dynamic_icon_template_mode&&e.dynamic_icon_template){!this._templateService&&t&&(this._templateService=new l.I(t));const i=this._hashString(e.dynamic_icon_template),n=`dynamic_icon_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(e.dynamic_icon_template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(a=null==t?void 0:t.__uvc_template_strings)||void 0===a?void 0:a[n];o&&""!==String(o).trim()&&($=String(o))}else(null===(r=null==f?void 0:f.attributes)||void 0===r?void 0:r.icon)&&!$&&($=f.attributes.icon);let z=e.use_entity_color_for_icon&&(null===(s=null==f?void 0:f.attributes)||void 0===s?void 0:s.rgb_color)?`rgb(${f.attributes.rgb_color.join(",")})`:i?e.active_icon_color:e.inactive_icon_color;if(e.dynamic_color_template_mode&&e.dynamic_color_template){!this._templateService&&t&&(this._templateService=new l.I(t));const i=this._hashString(e.dynamic_color_template),n=`dynamic_color_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(n)&&this._templateService.subscribeToTemplate(e.dynamic_color_template,n,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(c=null==t?void 0:t.__uvc_template_strings)||void 0===c?void 0:c[n];o&&""!==String(o).trim()&&(z=String(o))}const S=i?e.active_name_color:e.inactive_name_color,C=i?e.active_state_color:e.inactive_state_color,A=i?e.custom_active_name_text||e.name||(null===(u=null==f?void 0:f.attributes)||void 0===u?void 0:u.friendly_name)||e.entity:e.custom_inactive_name_text||e.name||(null===(p=null==f?void 0:f.attributes)||void 0===p?void 0:p.friendly_name)||e.entity;let j;if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new l.I(t));const n=this._hashString(e.template),o=`state_${e.entity}_${e.id}_${n}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(g=null==t?void 0:t.__uvc_template_strings)||void 0===g?void 0:g[o];if(void 0!==a&&""!==String(a).trim()){const n=String(a).toLowerCase();j=["true","false","on","off","yes","no","0","1"].includes(n)?i?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(y,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(y,e.entity,e,t):"unknown"===String(a)?"Template Error: Check entity names":String(a)}else j=this._formatValueWithUnits(y,e.entity,e,t)}else j=i?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(y,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(y,e.entity,e,t);const T=i?e.active_icon_background||e.icon_background:e.inactive_icon_background||e.icon_background,I=i?e.active_icon_background_color||e.icon_background_color:e.inactive_icon_background_color||e.icon_background_color,E="none"!==T?{backgroundColor:e.use_entity_color_for_icon_background&&(null===(m=null==f?void 0:f.attributes)||void 0===m?void 0:m.rgb_color)?`rgb(${f.attributes.rgb_color.join(",")})`:I,borderRadius:"circle"===T?"50%":"rounded-square"===T?"8px":"0",padding:"8px"}:{},P=Object.assign(Object.assign({},{display:"flex",alignItems:"center",justifyContent:"center"}),E),M=e.active_icon_animation||"none",L=e.inactive_icon_animation||"none",D=i?M:L,R="none"!==D?`icon-animation-${D}`:"",O={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:e.vertical_alignment||"center",padding:"0",borderRadius:"circle"===e.container_background_shape?"50%":"rounded"===e.container_background_shape?"8px":"square"===e.container_background_shape?"0":"8px",background:e.container_background_shape&&"none"!==e.container_background_shape?e.container_background_color||"#808080":"transparent",backgroundImage:this.getBackgroundImageCSS(e,t),backgroundSize:e.background_size||"cover",backgroundPosition:e.background_position||"center",backgroundRepeat:e.background_repeat||"no-repeat",cursor:"pointer",transition:"all 0.2s ease",width:e.container_width?`${e.container_width}%`:"auto",margin:"0 auto"},V=null!==(_=e.name_icon_gap)&&void 0!==_?_:8,B=null!==(h=e.name_state_gap)&&void 0!==h?h:2,N=null!==(v=e.icon_state_gap)&&void 0!==v?v:4,H=o?null===(b=o.design)||void 0===b?void 0:b.hover_effect:void 0,U=d.k.getHoverEffectClass(H);return n.qy`
      <div
        class="icon-item-preview ${U}"
        style=${this.styleObjectToCss(Object.assign(Object.assign({},O),{gap:"0px"}))}
      >
        ${k?n.qy`
              <div
                style="${this.styleObjectToCss(Object.assign(Object.assign({},P),{marginBottom:x?`${V}px`:w?`${N}px`:"0px"}))}"
              >
                <ha-icon
                  icon="${$||"mdi:help-circle"}"
                  class="${R} ultra-force-animation"
                  style="
                    color: ${z||"var(--secondary-text-color)"};
                    --mdc-icon-size: ${Number(i?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                    ${R&&"none"!==R?`animation: ${this._getInlineAnimation(R)} !important;`:""}
                  "
                  data-animation-debug="${R||"none"}"
                  data-is-active="${i}"
                ></ha-icon>
              </div>
            `:""}
        ${x?n.qy`
              <div
                class="icon-name"
                style="
                  font-size: ${i?e.active_text_size||e.text_size||12:e.inactive_text_size||e.text_size||14}px;
                  color: ${S||"var(--primary-text-color)"};
                  text-align: center;
                  line-height: 1.2;
                  max-width: 120px;
                  word-wrap: break-word;
                  margin-bottom: ${w?`${B}px`:"0px"};
                "
              >
                ${A}
              </div>
            `:""}
        ${w?n.qy`
              <div
                class="icon-state"
                style="
                  font-size: ${i?e.active_state_size||e.state_size||10:e.inactive_state_size||e.state_size||10}px;
                  color: ${C||"var(--secondary-text-color)"};
                  text-align: center;
                  line-height: 1.2;
                "
              >
                ${j}
              </div>
            `:""}
      </div>
    `}renderIconGrid(e,t,i,o=!0){var a;const r=null===(a=e.design)||void 0===a?void 0:a.hover_effect,l=d.k.getHoverEffectClass(r);return n.qy`
      <div
        class="icon-grid"
        style="
          display: grid;
          grid-template-columns: repeat(${Math.min(Math.max(1,Math.floor((e.columns||3)/2)),e.icons.length)}, 1fr);
          gap: ${e.gap||16}px;
          justify-content: ${e.alignment||"center"};
        "
      >
        ${e.icons.slice(0,6).map((e=>{var a,r,s,d,c,u,p,g;const m=null==t?void 0:t.states[e.entity],_=(null==m?void 0:m.state)||"unknown",h=i,v=h?!1!==e.show_icon_when_active:!1!==e.show_icon_when_inactive,b=h?!1!==e.show_name_when_active:!1!==e.show_name_when_inactive,f=h?!1!==e.show_state_when_active:!1!==e.show_state_when_inactive;let y=h&&e.icon_active||e.icon_inactive;(null===(a=null==m?void 0:m.attributes)||void 0===a?void 0:a.icon)&&!y&&(y=m.attributes.icon);const k=e.use_entity_color_for_icon&&(null===(r=null==m?void 0:m.attributes)||void 0===r?void 0:r.rgb_color)?`rgb(${m.attributes.rgb_color.join(",")})`:h?e.active_icon_color:e.inactive_icon_color,x=h?e.active_name_color:e.inactive_name_color,w=h?e.active_state_color:e.inactive_state_color,$=h?e.custom_active_name_text||e.name||(null===(s=null==m?void 0:m.attributes)||void 0===s?void 0:s.friendly_name)||e.entity:e.custom_inactive_name_text||e.name||(null===(d=null==m?void 0:m.attributes)||void 0===d?void 0:d.friendly_name)||e.entity;let z;z=h?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(_,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(_,e.entity,e,t);const S=h?e.active_icon_background||e.icon_background:e.inactive_icon_background||e.icon_background,C=h?e.active_icon_background_color||e.icon_background_color:e.inactive_icon_background_color||e.icon_background_color,A="none"!==S?{backgroundColor:e.use_entity_color_for_icon_background&&(null===(c=null==m?void 0:m.attributes)||void 0===c?void 0:c.rgb_color)?`rgb(${m.attributes.rgb_color.join(",")})`:C,borderRadius:"circle"===S?"50%":"rounded-square"===S?"8px":"0",padding:"8px"}:{},j=Object.assign(Object.assign({},{display:"flex",alignItems:"center",justifyContent:"center"}),A),T=e.active_icon_animation||"none",I=e.inactive_icon_animation||"none",E=h?T:I,P="none"!==E?`icon-animation-${E}`:"";P&&o&&setTimeout((()=>{this._updateIconAnimationClasses(e.entity,P,h)}),150);const M={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:e.vertical_alignment||"center",padding:"8px",borderRadius:"circle"===e.container_background_shape?"50%":"rounded"===e.container_background_shape?"8px":"square"===e.container_background_shape?"0":"8px",background:e.container_background_shape&&"none"!==e.container_background_shape?e.container_background_color||"#808080":"transparent",backgroundImage:this.getBackgroundImageCSS(e,t),backgroundSize:e.background_size||"cover",backgroundPosition:e.background_position||"center",backgroundRepeat:e.background_repeat||"no-repeat",cursor:"pointer",transition:"all 0.2s ease",width:e.container_width?`${e.container_width}%`:"auto",margin:"0 auto"},L=null!==(u=e.name_icon_gap)&&void 0!==u?u:8,D=null!==(p=e.name_state_gap)&&void 0!==p?p:2,R=null!==(g=e.icon_state_gap)&&void 0!==g?g:4;return n.qy`
            <div
              class="icon-item-preview ${l}"
              style=${this.styleObjectToCss(Object.assign(Object.assign({},M),{gap:"0px"}))}
            >
              ${v?n.qy`
                    <div
                      style="${this.styleObjectToCss(Object.assign(Object.assign({},j),{marginBottom:b?`${L}px`:f?`${R}px`:"0px"}))}"
                    >
                      <ha-icon
                        icon="${y||"mdi:help-circle"}"
                        class="${P} ultra-force-animation"
                        style="
                          color: ${k||"var(--secondary-text-color)"};
                          --mdc-icon-size: ${Number(h?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                          ${P&&"none"!==P?`animation: ${this._getInlineAnimation(P)} !important;`:""}
                        "
                        data-animation-debug="${P||"none"}"
                        data-is-active="${h}"
                      ></ha-icon>
                    </div>
                  `:""}
              ${b?n.qy`
                    <div
                      class="icon-name"
                      style="
                        font-size: ${h?e.active_text_size||e.text_size||12:e.inactive_text_size||e.text_size||14}px;
                        color: ${x||"var(--primary-text-color)"};
                        text-align: center;
                        line-height: 1.2;
                        max-width: 120px;
                        word-wrap: break-word;
                        margin-bottom: ${f?`${D}px`:"0px"};
                      "
                    >
                      ${$}
                    </div>
                  `:""}
              ${f?n.qy`
                    <div
                      class="icon-state"
                      style="
                        font-size: ${h?e.active_state_size||e.state_size||10:e.inactive_state_size||e.state_size||10}px;
                        color: ${w||"var(--secondary-text-color)"};
                        text-align: center;
                        line-height: 1.2;
                      "
                    >
                      ${z}
                    </div>
                  `:""}
            </div>
          `}))}
      </div>
    `}validate(e){const t=e,i=[...super.validate(e).errors];return t.icons&&0!==t.icons.length||i.push("At least one icon is required"),t.icons.forEach(((e,t)=>{e.entity&&""!==e.entity.trim()||i.push(`Icon ${t+1}: Entity ID is required`),e.icon_inactive&&""!==e.icon_inactive.trim()||i.push(`Icon ${t+1}: Inactive icon is required`)})),{valid:0===i.length,errors:i}}updateHass(e){this._templateService&&this._templateService.updateHass(e)}cleanup(){this._templateService&&(this._templateService.unsubscribeAllTemplates(),this._templateService=void 0)}_isBinaryEntity(e){const t=e.split(".")[0];return["binary_sensor","switch","input_boolean","automation","script","light","fan","lock","cover","device_tracker"].includes(t)}_evaluateIconState(e,t){var i;const n=null==t?void 0:t.states[e.entity];if(!n)return!1;const o=n.state;if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new l.I(t));const n=this._hashString(e.template),a=`display_${e.entity}_${e.id}_${n}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(a)&&this._templateService.subscribeToTemplate(e.template,a,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const r=null===(i=null==t?void 0:t.__uvc_template_strings)||void 0===i?void 0:i[a];if(void 0!==r){const e=String(r).toLowerCase();if(["true","false","on","off","yes","no","0","1"].includes(e))return["true","on","yes","1"].includes(e)||parseFloat(e)>0&&!isNaN(parseFloat(e));if(""===String(r).trim())return!1;if(String(r)!==o)return!0}}if(e.active_state&&e.inactive_state)return o===e.active_state||(e.inactive_state,!1);if(e.active_state)return o===e.active_state;if(e.inactive_state)return o!==e.inactive_state;if(["on","true","active","open","playing","home"].includes(o.toLowerCase()))return!0;if(["off","false","inactive","closed","paused","stopped","away","unavailable","unknown"].includes(o.toLowerCase()))return!1;const a=parseFloat(o);return!isNaN(a)&&a>0}getStyles(){return`\n      /* Hide unwanted form labels with underscores and slots */\n      [slot='label'] {\n        display: none !important;\n      }\n\n      ha-form .mdc-form-field > label,\n      ha-form .mdc-text-field > label,\n      ha-form .mdc-floating-label,\n      ha-form .mdc-notched-outline__leading,\n      ha-form .mdc-notched-outline__notch,\n      ha-form .mdc-notched-outline__trailing,\n      ha-form .mdc-floating-label--float-above,\n      ha-form label[for],\n      ha-form .ha-form-label,\n      ha-form .form-label {\n        display: none !important;\n      }\n\n      /* Hide any labels containing underscores */\n      ha-form label[data-label*='_'],\n      ha-form .label-text:contains('_'),\n      label:contains('_') {\n        display: none !important;\n      }\n        .label {\n          display: none !important;\n        }\n\n      /* Additional safeguards for underscore labels */\n      ha-form .mdc-text-field-character-counter,\n      ha-form .mdc-text-field-helper-text,\n      ha-form mwc-formfield,\n      ha-form .formfield {\n        display: none !important;\n      }\n\n      /* Hide form field labels that match underscore patterns */\n      ha-form[data-field*='_'] label,\n      ha-form[data-field*='_'] .mdc-floating-label,\n      ha-form[data-field*='_'] .mdc-notched-outline__notch > .mdc-floating-label {\n        display: none !important;\n      }\n\n      /* Target specific underscore field names */\n      ha-form[data-field='use_entity_color_for_icon'] label,\n      ha-form[data-field='use_entity_color_for_icon_background'] label,\n      ha-form[data-field='show_name_when_active'] label,\n      ha-form[data-field='show_state_when_active'] label,\n      ha-form[data-field='show_icon_when_active'] label,\n      ha-form[data-field='show_name_when_inactive'] label,\n      ha-form[data-field='show_state_when_inactive'] label,\n      ha-form[data-field='show_icon_when_inactive'] label,\n      ha-form[data-field='active_template_mode'] label,\n      ha-form[data-field='inactive_template_mode'] label,\n      ha-form[data-field='dynamic_icon_template_mode'] label,\n      ha-form[data-field='dynamic_color_template_mode'] label {\n        display: none !important;\n      }\n\n      /* Make dynamic template toggles more compact */\n      ha-form[data-field='dynamic_icon_template_mode'] ha-switch,\n      ha-form[data-field='dynamic_color_template_mode'] ha-switch {\n        --mdc-switch-track-width: 36px !important;\n        --mdc-switch-track-height: 20px !important;\n        --switch-checked-track-color: var(--primary-color) !important;\n        --switch-unchecked-track-color: var(--disabled-color) !important;\n        transform: scale(0.8) !important;\n      }\n\n      ha-form[data-field='dynamic_icon_template_mode'] .mdc-switch,\n      ha-form[data-field='dynamic_color_template_mode'] .mdc-switch {\n        transform: scale(0.8) !important;\n      }\n\n      /* Hide any element with underscore in text content */\n      *:not(script):not(style) {\n        text-decoration: none !important;\n      }\n      \n      /* Target elements that might show underscore text */\n      .mdc-form-field__label:contains('_'),\n      .mdc-text-field__input + label:contains('_'),\n      .mdc-select__selected-text:contains('_') {\n        display: none !important;\n      }\n\n\n      \n      .icon-grid {\n        width: 100%;\n      }\n\n      /* Collapsible Header Styles */\n      .collapsible-header:hover {\n        background: rgba(var(--rgb-primary-color), 0.08) !important;\n        border-color: var(--primary-color) !important;\n      }\n\n      .collapsible-header:active {\n        transform: scale(0.98);\n      }\n\n      /* Split Preview Styles */\n      .split-preview-container {\n        position: relative;\n      }\n\n      .split-preview-container::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 1px;\n        height: 100%;\n        background: var(--divider-color);\n        z-index: 1;\n      }\n\n      .icon-module-split-preview .inactive-preview .icon-item-preview {\n        border: 1px solid rgba(var(--rgb-primary-color), 0.1);\n        background: rgba(var(--rgb-primary-color), 0.02);\n      }\n\n      .icon-module-split-preview .active-preview .icon-item-preview {\n        border: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        background: rgba(var(--rgb-primary-color), 0.04);\n      }\n\n      .icon-module-split-preview .inactive-preview .icon-item-preview.hover-enabled:hover {\n        background: rgba(var(--rgb-primary-color), 0.08) !important;\n        border-color: var(--primary-color) !important;\n        transform: scale(1.02);\n      }\n\n      .icon-module-split-preview .active-preview .icon-item-preview.hover-enabled:hover {\n        background: rgba(var(--rgb-primary-color), 0.12) !important;\n        border-color: var(--primary-color) !important;\n        transform: scale(1.02);\n      }\n\n      /* Preview state indicators */\n      .icon-module-split-preview .preview-header div {\n        padding: 8px 12px;\n        border-radius: 20px;\n        font-size: 12px;\n        font-weight: 700;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        margin: 0 8px;\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border: 1px solid rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      /* Responsive adjustments for split view */\n      @media (max-width: 768px) {\n        .icon-module-split-preview .split-preview-container {\n          grid-template-columns: 1fr !important;\n          grid-template-rows: auto auto;\n        }\n\n        .icon-module-split-preview .preview-header {\n          flex-direction: column !important;\n          gap: 8px !important;\n        }\n\n        .icon-module-split-preview .inactive-preview {\n          border-right: none !important;\n          border-bottom: 1px solid var(--divider-color) !important;\n        }\n\n        .icon-module-split-preview .split-preview-container::before {\n          display: none;\n        }\n\n        .icon-module-split-preview .preview-header div {\n          margin: 0 !important;\n        }\n\n        .collapsible-header {\n          padding: 10px 12px !important;\n        }\n\n        .collapsible-header span {\n          font-size: 14px !important;\n        }\n\n        .collapsible-header ha-icon {\n          font-size: 16px !important;\n        }\n      }\n\n      @media (max-width: 480px) {\n        .icon-module-split-preview .icon-grid {\n          grid-template-columns: repeat(auto-fit, minmax(35px, 1fr)) !important;\n          gap: 2px !important;\n        }\n\n        .icon-module-split-preview .inactive-preview,\n        .icon-module-split-preview .active-preview {\n          padding: 8px !important;\n        }\n\n        .icon-module-split-preview .preview-header div {\n          font-size: 10px !important;\n          padding: 6px 8px !important;\n        }\n\n        .collapsible-header {\n          padding: 8px 10px !important;\n        }\n\n        .collapsible-header span {\n          font-size: 12px !important;\n        }\n\n        .collapsible-header ha-icon {\n          font-size: 14px !important;\n        }\n      }\n      \n      .icon-item-preview.hover-enabled:hover {\n        background: var(--primary-color) !important;\n        color: white;\n        transform: scale(1.05);\n      }\n      \n      .icon-item-preview.hover-enabled:hover ha-icon {\n        color: white !important;\n      }\n      \n      .icon-item-preview.hover-enabled:hover .icon-name,\n      .icon-item-preview.hover-enabled:hover .icon-state {\n        color: white !important;\n      }\n      \n      /* Field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n     \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Expandable details styling */\n      details > summary {\n        list-style: none;\n      }\n\n      details > summary::-webkit-details-marker {\n        display: none;\n      }\n\n      details[open] > summary ha-icon {\n        transform: rotate(90deg);\n      }\n\n      details > summary:hover {\n        background: rgba(var(--rgb-primary-color), 0.1) !important;\n      }\n\n      /* Icon animations - Simple and direct selectors */\n      .icon-animation-pulse {\n        animation: iconPulse 2s ease-in-out infinite !important;\n      }\n\n      .icon-animation-spin {\n        animation: iconSpin 2s linear infinite !important;\n      }\n\n      .icon-animation-bounce {\n        animation: iconBounce 1s ease-in-out infinite !important;\n      }\n\n      .icon-animation-flash {\n        animation: iconFlash 1s ease-in-out infinite !important;\n      }\n\n      .icon-animation-shake {\n        animation: iconShake 0.5s ease-in-out infinite !important;\n      }\n\n      .icon-animation-vibrate {\n        animation: iconVibrate 0.3s ease-in-out infinite !important;\n      }\n\n      .icon-animation-rotate-left {\n        animation: iconRotateLeft 2s linear infinite !important;\n      }\n\n      .icon-animation-rotate-right {\n        animation: iconRotateRight 2s linear infinite !important;\n      }\n\n      .icon-animation-fade {\n        animation: iconFade 2s ease-in-out infinite !important;\n      }\n\n      .icon-animation-scale {\n        animation: iconScale 1s ease-in-out infinite !important;\n      }\n\n      .icon-animation-tada {\n        animation: iconTada 1s ease-in-out infinite !important;\n      }\n\n\n\n      @keyframes iconPulse {\n        0%, 100% { opacity: 1; transform: scale(1); }\n        50% { opacity: 0.7; transform: scale(1.1); }\n      }\n\n      @keyframes iconSpin {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n\n      @keyframes iconBounce {\n        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }\n        40% { transform: translateY(-10px); }\n        60% { transform: translateY(-5px); }\n      }\n\n      @keyframes iconFlash {\n        0%, 50%, 100% { opacity: 1; }\n        25%, 75% { opacity: 0.3; }\n      }\n\n      @keyframes iconShake {\n        0%, 100% { transform: translateX(0); }\n        10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }\n        20%, 40%, 60%, 80% { transform: translateX(2px); }\n      }\n\n      @keyframes iconVibrate {\n        0%, 100% { transform: translate(0); }\n        10% { transform: translate(-1px, -1px); }\n        20% { transform: translate(1px, -1px); }\n        30% { transform: translate(-1px, 1px); }\n        40% { transform: translate(1px, 1px); }\n        50% { transform: translate(-1px, -1px); }\n        60% { transform: translate(1px, -1px); }\n        70% { transform: translate(-1px, 1px); }\n        80% { transform: translate(1px, 1px); }\n        90% { transform: translate(-1px, -1px); }\n      }\n\n      @keyframes iconRotateLeft {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(-360deg); }\n      }\n\n      @keyframes iconRotateRight {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n\n      @keyframes iconFade {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.3; }\n      }\n\n      @keyframes iconScale {\n        0%, 100% { transform: scale(1); }\n        50% { transform: scale(1.2); }\n      }\n\n      @keyframes iconTada {\n        0% { transform: scale(1); }\n        10%, 20% { transform: scale(0.9) rotate(-3deg); }\n        30%, 50%, 70%, 90% { transform: scale(1.1) rotate(3deg); }\n        40%, 60%, 80% { transform: scale(1.1) rotate(-3deg); }\n        100% { transform: scale(1) rotate(0); }\n      }\n\n      @keyframes lockUnlockedPulse {\n        0%, 100% { \n          box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);\n          border-color: var(--info-color, #2196F3);\n        }\n        50% { \n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.4);\n          border-color: var(--info-color, #1976D2);\n        }\n      }\n\n      /* Respect user's motion preferences */\n      @media (prefers-reduced-motion: reduce) {\n        .lock-btn.unlocked {\n          animation: none !important;\n        }\n      }\n\n      /* Add icon button styling */\n      .add-icon-btn:hover {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      /* Remove icon button styling */\n      .remove-icon-btn:disabled {\n        opacity: 0.3;\n        cursor: not-allowed;\n      }\n\n      /* Icon picker specific styling */\n      ha-icon-picker {\n        --ha-icon-picker-width: 100%;\n        --ha-icon-picker-height: 56px;\n      }\n\n      /* Dropdown styling */\n      ha-select {\n        width: 100%;\n        --ha-select-height: 40px;\n      }\n\n      /* Hide any radio buttons that might still be rendered */\n      ha-radio,\n      mwc-radio,\n      .mdc-radio {\n        display: none !important;\n      }\n\n      /* Text field and select consistency */\n      ha-textfield,\n      ha-select {\n        --mdc-shape-small: 8px;\n        --mdc-theme-primary: var(--primary-color);\n      }\n\n      /* Note: Dropdown positioning fixes are now handled globally in ultra-card-editor.ts */\n\n      /* Module tab content input width - restrict to icon module only */\n      .icon-module .module-tab-content input[type="number"], \n      .icon-module .module-tab-content input[type="text"],\n      .icon-module .module-tab-content .gap-input {\n        width: 25% !important;\n        max-width: 25% !important;\n        min-width: 25% !important;\n      }\n\n      /* Grid styling for layout options */\n      .settings-section[style*="grid"] > div {\n        min-width: 0;\n      }\n\n      /* Responsive adjustments */\n      @media (max-width: 768px) {\n        .settings-section[style*="grid-template-columns: 1fr 1fr 1fr"] {\n          grid-template-columns: 1fr !important;\n          gap: 12px !important;\n        }\n\n        .settings-section[style*="grid-template-columns: 1fr 1fr"] {\n          grid-template-columns: 1fr !important;\n          gap: 12px !important;\n        }\n\n        .conditional-fields-group {\n          border-left-width: 3px;\n        }\n        \n        .conditional-fields-header {\n          padding: 10px 12px;\n          font-size: 13px;\n        }\n        \n        .conditional-fields-content {\n          padding: 12px;\n        }\n\n        /* Mobile-friendly field titles and descriptions */\n        .field-title {\n          font-size: 14px !important;\n        }\n\n        .field-description {\n          font-size: 12px !important;\n          line-height: 1.3 !important;\n        }\n\n        .section-title {\n          font-size: 16px !important;\n        }\n\n        /* Mobile-friendly size controls */\n        .gap-control-container {\n          gap: 8px !important;\n        }\n\n        .gap-input {\n          width: 44px !important;\n          max-width: 44px !important;\n          min-width: 44px !important;\n          font-size: 12px !important;\n        }\n\n        .reset-btn {\n          width: 32px !important;\n          height: 32px !important;\n        }\n\n        .reset-btn ha-icon {\n          font-size: 14px !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          line-height: 1 !important;\n        }\n\n        /* Mobile-friendly lock buttons */\n        .lock-btn {\n          padding: 6px 12px !important;\n          font-size: 12px !important;\n        }\n\n        .lock-btn ha-icon {\n          font-size: 16px !important;\n        }\n\n        .lock-btn.unlocked {\n          border-color: var(--info-color, #2196F3) !important;\n          background: rgba(33, 150, 243, 0.15) !important;\n          color: var(--info-color, #2196F3) !important;\n          box-shadow: 0 0 0 1px rgba(33, 150, 243, 0.3) !important;\n        }\n\n        .lock-btn.unlocked ha-icon {\n          color: var(--info-color, #2196F3) !important;\n        }\n\n        /* Mobile-friendly accordions */\n        details > summary {\n          padding: 12px !important;\n          font-size: 14px !important;\n        }\n\n        details > summary ha-icon {\n          font-size: 16px !important;\n        }\n\n        /* Mobile-friendly form fields */\n        .icon-settings-container {\n          padding: 12px !important;\n        }\n\n        /* Mobile-friendly preview grid */\n        .icon-grid {\n          grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)) !important;\n          gap: 8px !important;\n        }\n\n        .icon-item-preview {\n          padding: 6px !important;\n        }\n      }\n\n      /* Extra small devices (phones, 480px and down) */\n      @media (max-width: 480px) {\n        .field-title {\n          font-size: 13px !important;\n        }\n\n        .field-description {\n          font-size: 11px !important;\n        }\n\n        .section-title {\n          font-size: 14px !important;\n        }\n\n        .gap-input {\n          width: 40px !important;\n          max-width: 40px !important;\n          min-width: 40px !important;\n          font-size: 11px !important;\n        }\n\n        .reset-btn {\n          width: 28px !important;\n          height: 28px !important;\n        }\n\n        .reset-btn ha-icon {\n          font-size: 12px !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          line-height: 1 !important;\n        }\n\n        .lock-btn {\n          padding: 4px 8px !important;\n          font-size: 11px !important;\n        }\n\n        .lock-btn.unlocked {\n          border-color: var(--info-color, #2196F3) !important;\n          background: rgba(33, 150, 243, 0.15) !important;\n          color: var(--info-color, #2196F3) !important;\n          box-shadow: 0 0 0 1px rgba(33, 150, 243, 0.3) !important;\n        }\n\n        .lock-btn.unlocked ha-icon {\n          color: var(--info-color, #2196F3) !important;\n        }\n\n        .icon-settings-container {\n          padding: 8px !important;\n        }\n\n        /* Stack lock controls vertically on very small screens */\n        .gap-control-container {\n          flex-wrap: wrap !important;\n          gap: 6px !important;\n        }\n\n        .gap-slider {\n          width: 100% !important;\n          order: 1;\n        }\n\n        .gap-input {\n          order: 2;\n        }\n\n        .reset-btn {\n          order: 3;\n        }\n\n        .lock-btn {\n          order: 4;\n          width: 100% !important;\n          justify-content: center !important;\n        }\n      }\n\n      /* Ensure form elements don't overflow */\n      .settings-section ha-form {\n        max-width: 100%;\n        overflow: visible;\n      }\n\n      /* Color picker adjustments */\n      .settings-section ha-form[data-field*="color"] {\n        min-height: 56px;\n      }\n\n      /* Boolean toggle adjustments */\n      .settings-section ha-form[data-field*="mode"] {\n        display: flex;\n        align-items: center;\n        min-height: auto;\n      }\n\n      /* Number slider adjustments */\n      .settings-section ha-form[data-field*="size"] .mdc-slider,\n      .settings-section ha-form[data-field*="gap"] .mdc-slider,\n      .settings-section ha-form[data-field*="columns"] .mdc-slider {\n        width: 100%;\n        max-width: 100%;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n        transform: none;\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin: 0;\n        padding: 0;\n        line-height: 1;\n      }\n\n      /* Lock button styles */\n      .lock-btn {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px 16px;\n        border: 2px solid var(--divider-color);\n        border-radius: 8px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        font-size: 14px;\n        font-weight: 500;\n        transition: all 0.3s ease;\n        outline: none;\n        position: relative;\n      }\n\n      .lock-btn:hover {\n        border-color: var(--primary-color);\n        background: var(--primary-color);\n        color: white;\n      }\n\n      .lock-btn.locked {\n        border-color: var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.1);\n        color: var(--primary-color);\n      }\n\n      .lock-btn.locked:hover {\n        background: var(--primary-color);\n        color: white;\n      }\n\n      button.lock-btn.unlocked {\n        background-color: var(--primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .lock-btn.unlocked {\n        border-color: var(--info-color, #2196F3) !important;\n        background: rgba(33, 150, 243, 0.15) !important;\n        color: var(--info-color, #2196F3) !important;\n        box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2) !important;\n        animation: lockUnlockedPulse 2s ease-in-out infinite;\n      }\n\n      .lock-btn.unlocked:hover {\n        background: var(--info-color, #2196F3) !important;\n        color: white !important;\n        box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4) !important;\n        animation: none !important;\n      }\n\n      .lock-btn.unlocked ha-icon {\n        color: var(--info-color, #2196F3) !important;\n      }\n\n      .lock-btn.unlocked:hover ha-icon {\n        color: white !important;\n      }\n\n      .lock-btn ha-icon {\n        font-size: 18px;\n      }\n\n      /* Field lock button styling */\n      .field-container .lock-btn {\n        padding: 6px 12px;\n        font-size: 12px;\n        min-width: auto;\n      }\n\n      .field-container .lock-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Icon settings container */\n      .icon-settings-container {\n        background: var(--secondary-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 24px;\n        border: 1px solid var(--divider-color);\n      }\n\n      .icon-header {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        margin-bottom: 16px;\n        padding-bottom: 12px;\n        border-bottom: 1px solid var(--divider-color);\n      }\n\n      .icon-preview {\n        width: 32px;\n        height: 32px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: var(--primary-color);\n        color: white;\n        border-radius: 50%;\n        flex-shrink: 0;\n      }\n\n      .icon-title {\n        flex: 1;\n        font-size: 16px;\n        font-weight: 600;\n        color: var(--primary-text-color);\n      }\n\n      .remove-icon-btn {\n        background: var(--error-color);\n        color: white;\n        border: none;\n        border-radius: 4px;\n        padding: 6px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n      }\n\n      .remove-icon-btn:hover {\n        background: var(--error-color);\n        opacity: 0.8;\n      }\n\n      .remove-icon-btn:disabled {\n        opacity: 0.3;\n        cursor: not-allowed;\n      }\n\n      .remove-icon-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Size lock container */\n      .size-lock-container {\n        padding: 12px;\n        background: rgba(var(--rgb-primary-color), 0.05);\n        border-radius: 8px;\n        border: 1px solid rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      /* Hide unwanted action options */\n      ha-form mwc-list-item[value="toggle"],\n      ha-form mwc-list-item[graphic="icon"]:has(ha-icon[icon="mdi:gesture-tap"]),\n      ha-form .mdc-deprecated-list-item[data-value="toggle"],\n      ha-form .mdc-list-item[data-value="toggle"],\n      ha-form option[value="toggle"] {\n        display: none !important;\n      }\n\n      /* Hide "Default ()" option - target by text content */\n      ha-form mwc-list-item:has-text("Default ()"),\n      ha-form .mdc-deprecated-list-item:has-text("Default ()"),\n      ha-form .mdc-list-item:has-text("Default ()"),\n      ha-form option:has-text("Default ()") {\n        display: none !important;\n      }\n\n      /* Alternative approach using CSS attribute selectors for text content */\n      ha-form mwc-list-item[textContent*="Default ()"],\n      ha-form .mdc-deprecated-list-item[textContent*="Default ()"],\n      ha-form .mdc-list-item[textContent*="Default ()"] {\n        display: none !important;\n      }\n\n      /* Template Section Styles */\n      .template-section {\n        background: var(--card-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        border: 1px solid var(--divider-color);\n        margin-bottom: 32px;\n      }\n\n      .template-header {\n        margin-bottom: 16px;\n      }\n\n      .switch-container {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        gap: 8px;\n        margin-bottom: 8px;\n      }\n\n      .switch-label {\n        font-weight: 600;\n        color: var(--primary-text-color);\n        font-size: 16px;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        width: 50px;\n        height: 24px;\n      }\n\n      .switch input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n      }\n\n      .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: var(--switch-unchecked-color, #ccc);\n        transition: .4s;\n      }\n\n      .slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 18px;\n        left: 3px;\n        bottom: 3px;\n        background-color: white;\n        transition: .4s;\n      }\n\n      input:checked + .slider {\n        background-color: var(--primary-color);\n      }\n\n      input:checked + .slider:before {\n        transform: translateX(26px);\n      }\n\n      .slider.round {\n        border-radius: 24px;\n    max-width: 50px;\n}\n      }\n\n      .slider.round:before {\n        border-radius: 50%;\n      }\n\n      .template-description {\n        font-size: 13px;\n        color: var(--secondary-text-color);\n        line-height: 1.4;\n        margin-bottom: 8px;\n      }\n\n      .template-content {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n      }\n\n      .template-editor {\n        min-height: 120px;\n        font-family: 'Courier New', monospace;\n        font-size: 13px;\n        line-height: 1.4;\n        resize: vertical;\n        width: 100%;\n        padding: 12px;\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        background: var(--card-background-color);\n        color: var(--primary-text-color);\n        outline: none;\n        transition: border-color 0.2s ease;\n      }\n\n      .template-editor:focus {\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 1px var(--primary-color);\n      }\n\n      .template-help {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n        margin-top: 4px;\n      }\n\n      .template-help p {\n        margin: 8px 0;\n        font-weight: 500;\n      }\n\n      .template-help ul {\n        margin: 4px 0;\n        padding-left: 16px;\n      }\n\n      .template-help li {\n        margin: 2px 0;\n      }\n\n      .template-help code {\n        background: rgba(var(--rgb-primary-color), 0.1);\n        padding: 2px 4px;\n        border-radius: 3px;\n        font-family: 'Courier New', monospace;\n        font-size: 11px;\n      }\n\n      ${r.A.getHoverStyles()}\n    `}_addIcon(e,t){const i={id:this.generateId("icon-item"),entity:"weather.forecast_home",name:"",icon_inactive:"mdi:weather-partly-cloudy",icon_active:"mdi:weather-partly-cloudy",inactive_state:"",active_state:"",custom_inactive_state_text:"",custom_active_state_text:"",custom_inactive_name_text:"",custom_active_name_text:"",inactive_template_mode:!1,inactive_template:"",active_template_mode:!1,active_template:"",use_entity_color_for_icon:!1,color_inactive:"var(--secondary-text-color)",color_active:"var(--primary-color)",inactive_icon_color:"var(--secondary-text-color)",active_icon_color:"var(--primary-color)",inactive_name_color:"var(--primary-text-color)",active_name_color:"var(--primary-text-color)",inactive_state_color:"var(--secondary-text-color)",active_state_color:"var(--secondary-text-color)",show_name_when_inactive:!0,show_state_when_inactive:!0,show_icon_when_inactive:!0,show_name_when_active:!0,show_state_when_active:!0,show_icon_when_active:!0,show_state:!0,show_name:!0,icon_size:26,text_size:14,name_icon_gap:8,name_state_gap:2,icon_state_gap:4,active_icon_size:26,inactive_icon_size:26,active_text_size:14,inactive_text_size:14,state_size:14,active_state_size:14,inactive_state_size:14,icon_background:"none",use_entity_color_for_icon_background:!1,icon_background_color:"transparent",active_icon_background:"none",inactive_icon_background:"none",active_icon_background_color:"transparent",inactive_icon_background_color:"transparent",icon_size_locked:!0,text_size_locked:!0,state_size_locked:!0,active_icon_locked:!0,active_icon_color_locked:!1,active_icon_background_locked:!0,active_icon_background_color_locked:!0,active_name_locked:!0,active_name_color_locked:!0,active_state_locked:!1,active_state_color_locked:!0,inactive_icon_animation:"none",active_icon_animation:"none",show_units:!0,vertical_alignment:"center",container_width:void 0,container_background_shape:"none",container_background_color:"#808080",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},click_action:"toggle",double_click_action:"none",hold_action_legacy:"none",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:""};t({icons:[...e.icons,i]})}_removeIcon(e,t,i){e.icons.length<=1||i({icons:e.icons.filter(((e,i)=>i!==t))})}_updateIcon(e,t,i,n){n({icons:e.icons.map(((e,n)=>n===t?Object.assign(Object.assign({},e),i):e))})}_updateIconWithLockSync(e,t,i,n,o){const a=e.icons[t],r={[i]:n},l={icon_inactive:{active:"icon_active",lock:"active_icon_locked"},inactive_icon_size:{active:"active_icon_size",lock:"icon_size_locked"},inactive_text_size:{active:"active_text_size",lock:"text_size_locked"},inactive_state_size:{active:"active_state_size",lock:"state_size_locked"},inactive_icon_color:{active:"active_icon_color",lock:"active_icon_color_locked"},inactive_name_color:{active:"active_name_color",lock:"active_name_color_locked"},inactive_state_color:{active:"active_state_color",lock:"active_state_color_locked"},inactive_icon_background:{active:"active_icon_background",lock:"active_icon_background_locked"},inactive_icon_background_color:{active:"active_icon_background_color",lock:"active_icon_background_color_locked"}}[i];l&&!1!==a[l.lock]&&(r[l.active]=n),this._updateIcon(e,t,r,o)}getBackgroundImageCSS(e,t){var i,n;const o=e.background_image_type,a=e.background_image,r=e.background_image_entity;if(!o||"none"===o)return"none";switch(o){case"upload":if(a)return`url("${(0,u.V)(t,a)}")`;break;case"url":if(a)return`url("${a}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const o=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(n=e.attributes)||void 0===n?void 0:n.image)||("string"==typeof e.state?e.state:"");if(o&&"unknown"!==o&&"unavailable"!==o)return`url("${(0,u.V)(t,o)}")`}}}return"none"}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_renderSizeControl(e,t,i,o,a,r,l,s){return n.qy`
      <div class="gap-control-container" style="display: flex; align-items: center; gap: 12px;">
        <input
          type="range"
          class="gap-slider"
          min="${r}"
          max="${l}"
          step="1"
          .value="${a}"
          @input=${n=>{const a=n.target,r=Number(a.value);this._updateIconWithLockSync(e,t,o,r,i)}}
        />
        <input
          type="number"
          class="gap-input"
          min="${r}"
          max="${l}"
          step="1"
          .value="${a}"
          @input=${n=>{const a=n.target,s=Number(a.value);!isNaN(s)&&s>=r&&s<=l&&this._updateIconWithLockSync(e,t,o,s,i)}}
          @keydown=${n=>{if("ArrowUp"===n.key||"ArrowDown"===n.key){n.preventDefault();const a=n.target,d=Number(a.value)||s,c="ArrowUp"===n.key?1:-1,u=Math.max(r,Math.min(l,d+c));this._updateIconWithLockSync(e,t,o,u,i)}}}
        />
        <button
          class="reset-btn"
          @click=${()=>{this._updateIconWithLockSync(e,t,o,s,i)}}
          title="Reset to default (${s})"
        >
          <ha-icon icon="mdi:refresh"></ha-icon>
        </button>
      </div>
    `}_renderFieldWithLock(e,t,i,o,a,r,l,s,d,c){const u=e.icons[t],p=!1!==u[o],g=p&&u[r]||l;return n.qy`
      <div style="display: flex; align-items: center; gap: 12px;">
        <div style="flex: 1;">
          ${"icon"===s?n.qy`
                <div
                  style="opacity: ${p?"0.5":"1"}; pointer-events: ${p?"none":"auto"};"
                >
                  ${this.renderUcForm(d,{[a]:g},[this.iconField(a)],(n=>{p||this._updateIcon(e,t,{[a]:n.detail.value[a]},i)}),!1)}
                </div>
              `:"color"===s?n.qy`
                  <ultra-color-picker
                    .value=${g}
                    .disabled=${p}
                    @value-changed=${n=>{p||this._updateIcon(e,t,{[a]:n.detail.value},i)}}
                  ></ultra-color-picker>
                `:"select"===s?n.qy`
                    <div
                      style="opacity: ${p?"0.5":"1"}; pointer-events: ${p?"none":"auto"};"
                    >
                      ${this.renderUcForm(d,{[a]:g},[this.selectField(a,c||[])],(n=>{p||this._updateIcon(e,t,{[a]:n.detail.value[a]},i)}),!1)}
                    </div>
                  `:n.qy`
                    <div
                      style="opacity: ${p?"0.5":"1"}; pointer-events: ${p?"none":"auto"};"
                    >
                      ${this.renderUcForm(d,{[a]:g},[this.textField(a)],(n=>{p||this._updateIcon(e,t,{[a]:n.detail.value[a]},i)}),!1)}
                    </div>
                  `}
        </div>
        <button
          class="lock-btn ${p?"locked":"unlocked"}"
          @click=${()=>{const n=!p,l={[o]:n};n&&(l[a]=u[r]),this._updateIcon(e,t,l,i)}}
          title="${p?"Unlock to customize this field independently":"Lock to inherit from inactive state"}"
        >
          <ha-icon icon="${p?"mdi:lock":"mdi:lock-open"}"></ha-icon>
        </button>
      </div>
    `}_renderSizeControlWithLock(e,t,i,o,a,r,l,s,d,c){const u=e.icons[t],p=`${o}_locked`,g=!1!==u[p],m=g?u[r]||c:l;return n.qy`
      <div class="gap-control-container" style="display: flex; align-items: center; gap: 12px;">
        <input
          type="range"
          class="gap-slider"
          min="${s}"
          max="${d}"
          step="1"
          .value="${m}"
          .disabled=${g}
          @input=${n=>{if(!g){const o=n.target,r=Number(o.value);this._updateIcon(e,t,{[a]:r},i)}}}
        />
        <input
          type="number"
          class="gap-input"
          min="${s}"
          max="${d}"
          step="1"
          .value="${m}"
          .disabled=${g}
          @input=${n=>{if(!g){const o=n.target,r=Number(o.value);!isNaN(r)&&r>=s&&r<=d&&this._updateIcon(e,t,{[a]:r},i)}}}
          @keydown=${n=>{if(!g&&("ArrowUp"===n.key||"ArrowDown"===n.key)){n.preventDefault();const o=n.target,r=Number(o.value)||c,l="ArrowUp"===n.key?1:-1,u=Math.max(s,Math.min(d,r+l));this._updateIcon(e,t,{[a]:u},i)}}}
        />
        <button
          class="reset-btn"
          @click=${()=>{g||this._updateIcon(e,t,{[a]:c},i)}}
          title="Reset to default (${c})"
          .disabled=${g}
        >
          <ha-icon icon="mdi:refresh"></ha-icon>
        </button>
        <button
          class="lock-btn ${g?"locked":"unlocked"}"
          @click=${()=>{const n=!g,o={[p]:n};n&&(o[a]=u[r]||c),this._updateIcon(e,t,o,i)}}
          title="${g?"Unlock to set different sizes for active/inactive":"Lock to use same size for both states"}"
        >
          <ha-icon icon="${g?"mdi:lock":"mdi:lock-open"}"></ha-icon>
        </button>
      </div>
    `}_updateIconAnimationClasses(e,t,i){[document,document.body,this.shadowRoot,this.renderRoot,...Array.from(document.querySelectorAll("*")).filter((e=>e.shadowRoot)).map((e=>e.shadowRoot))].filter(Boolean).forEach(((e,i)=>{try{e.querySelectorAll("ha-icon").forEach((e=>{if((e.getAttribute("data-animation-debug")||"")!==t)return;const i=e.className.split(" ").filter((e=>!e.startsWith("icon-animation-")));t&&!t.includes("none")&&i.push(t),e.className=i.join(" ");const n=t.replace("icon-animation-","");if(n&&"none"!==n){const t="icon"+n.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),i=n.includes("spin")||n.includes("rotate")?"2s linear infinite":"1s ease-in-out infinite";e.style.animation=`${t} ${i}`}else e.style.animation="";this._injectKeyframesIntoHaIcon(e),e.offsetHeight}))}catch(e){}}))}_getInlineAnimation(e){const t=e.replace("icon-animation-","");return t&&"none"!==t?`${"icon"+t.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")} ${t.includes("spin")||t.includes("rotate")?"2s linear infinite":"bounce"===t?"1s ease-in-out infinite":"shake"===t?"0.5s ease-in-out infinite":"vibrate"===t?"0.3s ease-in-out infinite":"2s ease-in-out infinite"}`:""}_applyAnimationDirectly(e,t){const i=t.replace("icon-animation-","");if(!i||"none"===i)return;const n="icon"+i.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),o=i.includes("spin")||i.includes("rotate")?"2s linear infinite":"2s ease-in-out infinite";e.style.animation=`${n} ${o}`,this._injectKeyframesIntoHaIcon(e)}_injectKeyframesForAllSplitPreviewIcons(){const e=(t=1)=>{const i=document.querySelectorAll('ha-icon[data-animation-debug]:not([data-animation-debug="none"])'),n=[...Array.from(document.querySelectorAll("*")).filter((e=>e.shadowRoot)).map((e=>e.shadowRoot))],o=Array.from(i);n.forEach((e=>{e.querySelectorAll('ha-icon[data-animation-debug]:not([data-animation-debug="none"])').forEach((e=>o.push(e)))}));let a=0;o.forEach((e=>{this._injectKeyframesIntoHaIcon(e),a++})),0===a&&t<10&&setTimeout((()=>e(t+1)),150)};e()}_formatValueWithUnits(e,t,i,n){var o;return t&&(null===(o=null==n?void 0:n.states)||void 0===o?void 0:o[t])?(0,a.formatEntityState)(n,t,{state:e,includeUnit:!1!==i.show_units}):e}_injectKeyframesIntoHaIcon(e){const t=e.shadowRoot;if(!t)return;const i=t.querySelector("style[data-uvc-keyframes]");i&&i.remove();try{const e=document.createElement("style");if(e.setAttribute("data-uvc-keyframes",""),e.textContent=m._ANIMATION_KEYFRAMES,t.appendChild(e),!document.head.querySelector("style[data-uvc-global-keyframes]")){const e=document.createElement("style");e.setAttribute("data-uvc-global-keyframes",""),e.textContent=m._ANIMATION_KEYFRAMES,document.head.appendChild(e)}}catch(e){console.error("❌ Error injecting keyframes:",e)}}}m._globalStylesInjected=!1,m._ANIMATION_KEYFRAMES="\n    @keyframes iconPulse {0%,100%{opacity:1;transform:scale(1);}50%{opacity:0.7;transform:scale(1.1);}}\n    @keyframes iconSpin {from{transform:rotate(0deg);}to{transform:rotate(360deg);}}\n    @keyframes iconBounce {0%,20%,50%,80%,100%{transform:translateY(0);}40%{transform:translateY(-10px);}60%{transform:translateY(-5px);}}\n    @keyframes iconFlash {0%,50%,100%{opacity:1;}25%,75%{opacity:0.3;}}\n    @keyframes iconShake {0%,100%{transform:translateX(0);}10%,30%,50%,70%,90%{transform:translateX(-2px);}20%,40%,60%,80%{transform:translateX(2px);}}\n    @keyframes iconVibrate {0%,100%{transform:translate(0);}10%{transform:translate(-1px,-1px);}20%{transform:translate(1px,-1px);}30%{transform:translate(-1px,1px);}40%{transform:translate(1px,1px);}50%{transform:translate(-1px,-1px);}60%{transform:translate(1px,-1px);}70%{transform:translate(-1px,1px);}80%{transform:translate(1px,1px);}90%{transform:translate(-1px,-1px);}}\n    @keyframes iconRotateLeft {from{transform:rotate(0deg);}to{transform:rotate(-360deg);}}\n    @keyframes iconRotateRight {from{transform:rotate(0deg);}to{transform:rotate(360deg);}}\n    @keyframes iconFade {0%,100%{opacity:1;}50%{opacity:0.3;}}\n    @keyframes iconScale {0%,100%{transform:scale(1);}50%{transform:scale(1.2);}}\n    @keyframes iconTada {0%{transform:scale(1);}10%,20%{transform:scale(0.9) rotate(-3deg);}30%,50%,70%,90%{transform:scale(1.1) rotate(3deg);}40%,60%,80%{transform:scale(1.1) rotate(-3deg);}100%{transform:scale(1) rotate(0);}}\n  "},884:(e,t,i)=>{i.d(t,{Y:()=>u});var n=i(183),o=i(30),a=(i(768),i(796)),r=i(987),l=i(914),s=i(371),d=i(456),c=i(139);class u extends o.m{constructor(){super(...arguments),this.metadata={type:"image",title:"Images",description:"Display images and photos",author:"WJD Designs",version:"1.0.0",icon:"mdi:image",category:"media",tags:["image","picture","media","photo"]}}createDefault(e){return{id:e||this.generateId("image"),type:"image",image_type:"default",image_url:"",entity:"",image_entity:"",image_attribute:"",width:100,height:200,aspect_ratio:"auto",object_fit:"cover",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},filter_blur:0,filter_brightness:100,filter_contrast:100,filter_saturate:100,filter_hue_rotate:0,filter_opacity:100,border_radius:0,border_width:0,border_color:"var(--divider-color)",box_shadow:"none",hover_enabled:!1,hover_effect:"scale",hover_scale:105,hover_rotate:5,hover_opacity:90,hover_blur:0,hover_brightness:110,hover_shadow:"none",hover_translate_x:0,hover_translate_y:0,hover_transition:300,display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;const r=e,s=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";return n.qy`
      ${l.Q.injectCleanFormStyles()}
      <div class="module-general-settings">
        <!-- Image Settings -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,d.kg)("editor.image.settings",s,"Image Settings")}
          </div>

          <!-- Image Source Type -->
          ${l.Q.renderField((0,d.kg)("editor.image.source_type",s,"Image Source Type"),(0,d.kg)("editor.image.source_type_desc",s,"Choose how you want to specify the image source."),t,{image_type:r.image_type||"default"},[l.Q.createSchemaItem("image_type",{select:{options:[{value:"default",label:(0,d.kg)("editor.image.source.default",s,"Default Image")},{value:"url",label:(0,d.kg)("editor.image.source.url",s,"Image URL")},{value:"upload",label:(0,d.kg)("editor.image.source.upload",s,"Upload Image")},{value:"entity",label:(0,d.kg)("editor.image.source.entity",s,"Entity Image")},{value:"attribute",label:(0,d.kg)("editor.image.source.attribute",s,"Entity Attribute")}],mode:"dropdown"}})],(e=>o({image_type:e.detail.value.image_type})))}

          <!-- URL Image Source -->
          ${"url"===r.image_type?this.renderConditionalFieldsGroup((0,d.kg)("editor.image.url_section.title",s,"Image URL Configuration"),n.qy`
                  ${l.Q.renderField((0,d.kg)("editor.image.image_url",s,"Image URL"),(0,d.kg)("editor.image.image_url_desc",s,"Enter the direct URL to the image you want to display."),t,{image_url:r.image_url||""},[l.Q.createSchemaItem("image_url",{text:{}})],(e=>o({image_url:e.detail.value.image_url})))}
                `):""}

          <!-- Upload Image Source -->
          ${"upload"===r.image_type?this.renderConditionalFieldsGroup((0,d.kg)("editor.image.upload_section.title",s,"Upload Image Configuration"),n.qy`
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,d.kg)("editor.image.upload",s,"Upload Image")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                  >
                    ${(0,d.kg)("editor.image.upload_desc",s,"Click to upload an image file from your device.")}
                  </div>
                  <input
                    type="file"
                    accept="image/*"
                    style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                    @change=${e=>this.handleFileUpload(e,o)}
                  />
                `):""}

          <!-- Entity Image Source -->
          ${"entity"===r.image_type?this.renderConditionalFieldsGroup((0,d.kg)("editor.image.entity_section.title",s,"Entity Image Configuration"),n.qy`
                  ${l.Q.renderField((0,d.kg)("editor.image.entity",s,"Entity"),(0,d.kg)("editor.image.entity_desc",s,"Select an entity that has an image (e.g., person, camera entities)."),t,{image_entity:r.image_entity||""},[l.Q.createSchemaItem("image_entity",{entity:{}})],(e=>o({image_entity:e.detail.value.image_entity})))}
                `):""}

          <!-- Attribute Image Source -->
          ${"attribute"===r.image_type?this.renderConditionalFieldsGroup((0,d.kg)("editor.image.attribute_section.title",s,"Entity Attribute Configuration"),n.qy`
                  ${l.Q.renderField((0,d.kg)("editor.image.entity",s,"Entity"),(0,d.kg)("editor.image.entity_attr_desc",s,"Select the entity that contains the image URL in one of its attributes."),t,{image_entity:r.image_entity||""},[l.Q.createSchemaItem("image_entity",{entity:{}})],(e=>o({image_entity:e.detail.value.image_entity})))}

                  <div style="margin-top: 16px;">
                    ${l.Q.renderField((0,d.kg)("editor.image.attribute_name",s,"Attribute Name"),(0,d.kg)("editor.image.attribute_name_desc",s,"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard)."),t,{image_attribute:r.image_attribute||""},[l.Q.createSchemaItem("image_attribute",{text:{}})],(e=>o({image_attribute:e.detail.value.image_attribute})))}
                  </div>
                `):""}

          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.width",s,"Width (%)"),(0,d.kg)("editor.image.width_desc",s,"Set the width as a percentage of the container."),t,{width:r.width||100},[l.Q.createSchemaItem("width",{number:{min:10,max:100,step:1}})],(e=>o({width:e.detail.value.width})))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.height",s,"Height (px)"),(0,d.kg)("editor.image.height_desc",s,"Set the height in pixels."),t,{height:r.height||200},[l.Q.createSchemaItem("height",{number:{min:0,max:2e3,step:1}})],(e=>o({height:e.detail.value.height})))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.crop_fit",s,"Crop & Fit"),(0,d.kg)("editor.image.crop_fit_desc",s,"Control how the image fits within its container."),t,{object_fit:r.object_fit||"cover"},[l.Q.createSchemaItem("object_fit",{select:{options:[{value:"cover",label:(0,d.kg)("editor.image.fit.cover",s,"Cover (crop to fill)")},{value:"contain",label:(0,d.kg)("editor.image.fit.contain",s,"Contain (fit entire image)")},{value:"fill",label:(0,d.kg)("editor.image.fit.fill",s,"Fill (stretch to fit)")},{value:"scale-down",label:(0,d.kg)("editor.image.fit.scale_down",s,"Scale Down")},{value:"none",label:(0,d.kg)("editor.image.fit.none",s,"None (original size)")}],mode:"dropdown"}})],(e=>o({object_fit:e.detail.value.object_fit})))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.border_radius",s,"Border Radius"),(0,d.kg)("editor.image.border_radius_desc",s,"Control the rounded corners of the image."),t,{border_radius:r.border_radius||8},[l.Q.createSchemaItem("border_radius",{number:{min:0,max:64,step:1}})],(e=>o({border_radius:e.detail.value.border_radius})))}
          </div>
        </div>

        <div
          class="settings-section"
          style="padding: 16px; border-radius: 8px; background: var(--secondary-background-color);"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px;"
          >
            ${(0,d.kg)("editor.image.filters",s,"Filters")}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.filter.blur",s,"Blur"),(0,d.kg)("editor.image.filter.blur_desc",s,"Apply a blur effect to your image."),t,{filter_blur:r.filter_blur||0},[l.Q.createSchemaItem("filter_blur",{number:{min:0,max:20,step:1}})],(e=>o({filter_blur:e.detail.value.filter_blur})))}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.filter.brightness",s,"Brightness (%)"),(0,d.kg)("editor.image.filter.brightness_desc",s,"Adjust the brightness of your image."),t,{filter_brightness:r.filter_brightness||100},[l.Q.createSchemaItem("filter_brightness",{number:{min:0,max:200,step:1}})],(e=>o({filter_brightness:e.detail.value.filter_brightness})))}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${l.Q.renderField((0,d.kg)("editor.image.filter.contrast",s,"Contrast (%)"),(0,d.kg)("editor.image.filter.contrast_desc",s,"Modify the contrast of your image."),t,{filter_contrast:r.filter_contrast||100},[l.Q.createSchemaItem("filter_contrast",{number:{min:0,max:200,step:1}})],(e=>o({filter_contrast:e.detail.value.filter_contrast})))}
          </div>
          <div class="field-group">
            ${l.Q.renderField((0,d.kg)("editor.image.filter.saturation",s,"Saturation (%)"),(0,d.kg)("editor.image.filter.saturation_desc",s,"Adjust the saturation of your image."),t,{filter_saturate:r.filter_saturate||100},[l.Q.createSchemaItem("filter_saturate",{number:{min:0,max:200,step:1}})],(e=>o({filter_saturate:e.detail.value.filter_saturate})))}
          </div>
        </div>

        ${r.hover_enabled?n.qy`
              <div
                class="settings-section"
                style="padding: 16px; border-radius: 8px; background: var(--secondary-background-color);"
              >
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px;"
                >
                  ${(0,d.kg)("editor.image.hover.title",s,"Hover Effects")}
                </div>
                <div class="field-group" style="margin-bottom: 16px;">
                  ${l.Q.renderField((0,d.kg)("editor.image.hover.effect_type",s,"Effect Type"),(0,d.kg)("editor.image.hover.effect_type_desc",s,"Choose the type of hover effect."),t,{effect:r.hover_effect||"scale"},[l.Q.createSchemaItem("effect",{select:{options:[{value:"scale",label:(0,d.kg)("editor.image.hover.scale",s,"Scale (zoom in/out)")},{value:"rotate",label:(0,d.kg)("editor.image.hover.rotate",s,"Rotate")},{value:"fade",label:(0,d.kg)("editor.image.hover.fade",s,"Fade (opacity change)")},{value:"blur",label:(0,d.kg)("editor.image.hover.blur",s,"Blur")},{value:"brightness",label:(0,d.kg)("editor.image.hover.brightness",s,"Brightness")},{value:"glow",label:(0,d.kg)("editor.image.hover.glow",s,"Glow (box shadow)")},{value:"slide",label:(0,d.kg)("editor.image.hover.slide",s,"Slide (translate)")}],mode:"dropdown"}})],(e=>o({hover_effect:e.detail.value.effect})))}
                </div>

                ${"scale"===r.hover_effect?n.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${l.Q.renderField((0,d.kg)("editor.image.hover.scale_amount",s,"Scale (%)"),(0,d.kg)("editor.image.hover.scale_amount_desc",s,"Adjust the scale of the image on hover."),t,{scale:r.hover_scale||105},[l.Q.createSchemaItem("scale",{number:{min:50,max:200,step:1}})],(e=>o({hover_scale:e.detail.value.scale})))}
                    </div>`:""}
                ${"rotate"===r.hover_effect?n.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${l.Q.renderField((0,d.kg)("editor.image.hover.rotate_amount",s,"Rotation (°)"),(0,d.kg)("editor.image.hover.rotate_amount_desc",s,"Rotate the image on hover."),t,{rotate:r.hover_rotate||5},[l.Q.createSchemaItem("rotate",{number:{min:-45,max:45,step:1}})],(e=>o({hover_rotate:e.detail.value.rotate})))}
                    </div>`:""}
                ${"fade"===r.hover_effect?n.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${l.Q.renderField((0,d.kg)("editor.image.hover.opacity",s,"Opacity (%)"),(0,d.kg)("editor.image.hover.opacity_desc",s,"Change the opacity of the image on hover."),t,{opacity:r.hover_opacity||90},[l.Q.createSchemaItem("opacity",{number:{min:0,max:100,step:1}})],(e=>o({hover_opacity:e.detail.value.opacity})))}
                    </div>`:""}
                ${"blur"===r.hover_effect?n.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${l.Q.renderField((0,d.kg)("editor.image.hover.blur_amount",s,"Blur (px)"),(0,d.kg)("editor.image.hover.blur_amount_desc",s,"Apply a blur effect to the image on hover."),t,{blur:r.hover_blur||2},[l.Q.createSchemaItem("blur",{number:{min:0,max:20,step:1}})],(e=>o({hover_blur:e.detail.value.blur})))}
                    </div>`:""}
                ${"brightness"===r.hover_effect?n.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${l.Q.renderField((0,d.kg)("editor.image.hover.brightness_amount",s,"Brightness (%)"),(0,d.kg)("editor.image.hover.brightness_amount_desc",s,"Adjust the brightness of the image on hover."),t,{brightness:r.hover_brightness||110},[l.Q.createSchemaItem("brightness",{number:{min:0,max:200,step:1}})],(e=>o({hover_brightness:e.detail.value.brightness})))}
                    </div>`:""}
                ${"glow"===r.hover_effect?n.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${l.Q.renderField((0,d.kg)("editor.image.hover.glow_intensity",s,"Glow Intensity"),(0,d.kg)("editor.image.hover.glow_intensity_desc",s,"Choose the intensity of the glow effect on hover."),t,{shadow:r.hover_shadow||"medium"},[l.Q.createSchemaItem("shadow",{select:{options:[{value:"light",label:(0,d.kg)("editor.image.hover.glow_light",s,"Light Glow")},{value:"medium",label:(0,d.kg)("editor.image.hover.glow_medium",s,"Medium Glow")},{value:"heavy",label:(0,d.kg)("editor.image.hover.glow_heavy",s,"Heavy Glow")},{value:"custom",label:(0,d.kg)("editor.image.hover.glow_custom",s,"Custom Shadow")}],mode:"dropdown"}})],(e=>o({hover_shadow:e.detail.value.shadow})))}
                    </div>`:""}
                ${"slide"===r.hover_effect?n.qy`
                      <div class="field-group" style="margin-bottom: 16px;">
                        ${l.Q.renderField((0,d.kg)("editor.image.hover.translate_x",s,"Horizontal (px)"),(0,d.kg)("editor.image.hover.translate_x_desc",s,"Translate the image horizontally on hover."),t,{translate_x:r.hover_translate_x||0},[l.Q.createSchemaItem("translate_x",{number:{min:-100,max:100,step:1}})],(e=>o({hover_translate_x:e.detail.value.translate_x})))}
                      </div>
                      <div class="field-group" style="margin-bottom: 16px;">
                        ${l.Q.renderField((0,d.kg)("editor.image.hover.translate_y",s,"Vertical (px)"),(0,d.kg)("editor.image.hover.translate_y_desc",s,"Translate the image vertically on hover."),t,{translate_y:r.hover_translate_y||0},[l.Q.createSchemaItem("translate_y",{number:{min:-100,max:100,step:1}})],(e=>o({hover_translate_y:e.detail.value.translate_y})))}
                      </div>
                    `:""}
              </div>
            `:""}
      </div>
    `}renderPreview(e,t){var i,o,l,s,u,p;const g=e;let m="";switch(g.image_type){case"default":default:m=c.P2;break;case"url":case"upload":m=g.image_url||"";break;case"entity":if(g.image_entity&&(null==t?void 0:t.states[g.image_entity])){const e=t.states[g.image_entity];(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)?m=e.attributes.entity_picture:e.state&&e.state.startsWith("http")&&(m=e.state)}break;case"attribute":if(g.image_entity&&g.image_attribute&&(null==t?void 0:t.states[g.image_entity])){const e=t.states[g.image_entity],i=this.getAttributeByPath(e.attributes,g.image_attribute);i&&"string"==typeof i&&(m=i)}}const _=[];g.filter_blur&&g.filter_blur>0&&_.push(`blur(${g.filter_blur}px)`),g.filter_brightness&&100!==g.filter_brightness&&_.push(`brightness(${g.filter_brightness}%)`),g.filter_contrast&&100!==g.filter_contrast&&_.push(`contrast(${g.filter_contrast}%)`),g.filter_saturate&&100!==g.filter_saturate&&_.push(`saturate(${g.filter_saturate}%)`);const h=_.length>0?_.join(" "):"none";let v="";const b=g.hover_enabled?`${g.hover_transition||300}ms`:"none";if(g.hover_enabled)switch(g.hover_effect||"scale"){case"scale":v=`transform: scale(${(g.hover_scale||105)/100});`;break;case"rotate":v=`transform: rotate(${g.hover_rotate||5}deg);`;break;case"fade":v=`opacity: ${(g.hover_opacity||90)/100};`;break;case"blur":v=`filter: blur(${g.hover_blur||2}px);`;break;case"brightness":v=`filter: brightness(${g.hover_brightness||110}%);`;break;case"glow":let e="";switch(g.hover_shadow||"medium"){case"light":e="0 0 10px rgba(var(--rgb-primary-color), 0.5)";break;case"medium":e="0 0 20px rgba(var(--rgb-primary-color), 0.7)";break;case"heavy":e="0 0 30px rgba(var(--rgb-primary-color), 1)";break;case"custom":e=g.hover_shadow||"0 0 20px rgba(var(--rgb-primary-color), 0.7)"}v=`box-shadow: ${e};`;break;case"slide":v=`transform: translate(${g.hover_translate_x||0}px, ${g.hover_translate_y||0}px);`}const f=`\n      width: ${g.width||100}%;\n      height: ${g.height||200}px;\n      object-fit: ${g.object_fit||"cover"};\n      border-radius: ${null!==(o=g.border_radius)&&void 0!==o?o:0}px;\n      filter: ${h};\n      transition: ${g.hover_enabled?`transform ${b} ease, filter ${b} ease, opacity ${b} ease, box-shadow ${b} ease`:"none"};\n      cursor: pointer;\n      display: block;\n      border: ${g.border_width?`${g.border_width}px solid ${g.border_color}`:"none"};\n    `;let y="center";switch(g.alignment){case"left":y="flex-start";break;case"center":y="center";break;case"right":y="flex-end"}const k=g,x={padding:k.padding_top||k.padding_bottom||k.padding_left||k.padding_right?`${this.addPixelUnit(k.padding_top)||"0px"} ${this.addPixelUnit(k.padding_right)||"0px"} ${this.addPixelUnit(k.padding_bottom)||"0px"} ${this.addPixelUnit(k.padding_left)||"0px"}`:"0",margin:k.margin_top||k.margin_bottom||k.margin_left||k.margin_right?`${this.addPixelUnit(k.margin_top)||"0px"} ${this.addPixelUnit(k.margin_right)||"0px"} ${this.addPixelUnit(k.margin_bottom)||"0px"} ${this.addPixelUnit(k.margin_left)||"0px"}`:"0",background:k.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(k,t),backgroundSize:k.background_size||"cover",backgroundPosition:k.background_position||"center",backgroundRepeat:k.background_repeat||"no-repeat",border:k.border_style&&"none"!==k.border_style?`${k.border_width||"1px"} ${k.border_style} ${k.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(k.border_radius)||"0",position:k.position||"relative",top:k.top||"auto",bottom:k.bottom||"auto",left:k.left||"auto",right:k.right||"auto",zIndex:k.z_index||"auto",width:k.width||"100%",height:k.height||"auto",maxWidth:k.max_width||"100%",maxHeight:k.max_height||"none",minWidth:k.min_width||"none",minHeight:k.min_height||"auto",overflow:k.overflow||"visible",clipPath:k.clip_path||"none",backdropFilter:k.backdrop_filter||"none",boxShadow:k.box_shadow_h&&k.box_shadow_v?`${k.box_shadow_h||"0"} ${k.box_shadow_v||"0"} ${k.box_shadow_blur||"0"} ${k.box_shadow_spread||"0"} ${k.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};let w=null,$=null,z=!1,S=0,C=0;const A=null===(l=g.design)||void 0===l?void 0:l.hover_effect,j=r.k.getHoverEffectClass(A);return n.qy`
      <div class="image-module-container" style=${this.styleObjectToCss(x)}>
        <div class="image-module-preview">
          <!-- Image Container with Alignment -->
          <div style="display: flex; justify-content: ${y}; width: 100%;">
            ${m?n.qy`
                  <img
                    src="${m}"
                    @error=${e=>{const t=e.currentTarget;t&&t.src!==c.aR&&(t.src=c.aR)}}
                    alt="${(0,d.kg)("editor.image.alt",(null===(s=null==t?void 0:t.locale)||void 0===s?void 0:s.language)||"en","Image")}"
                    style="${f}"
                    class="${j}"
                    @pointerdown=${e=>{z=!1,$=setTimeout((()=>{z=!0;const i=g.hold_action||{action:"nothing"};i&&"nothing"!==i.action&&a.K.handleAction(i,t,e.target)}),500)}}
                    @pointerup=${e=>{if($&&(clearTimeout($),$=null),z)return void(z=!1);const i=Date.now();if(i-C<300&&1===S){w&&(clearTimeout(w),w=null),S=0;const i=g.double_tap_action||{action:"nothing"};i&&"nothing"!==i.action&&a.K.handleAction(i,t,e.target)}else S=1,C=i,w=setTimeout((()=>{S=0;const i=g.tap_action||{action:"nothing"};i&&"nothing"!==i.action&&a.K.handleAction(i,t,e.target)}),300)}}
                  />
                `:n.qy`
                  <div
                    class="${j}"
                    style="
                      width: ${g.width||100}%;
                      height: ${g.height||200}px;
                      background: var(--secondary-background-color);
                      border: 2px dashed var(--divider-color);
                      border-radius: ${null!==(u=g.border_radius)&&void 0!==u?u:0}px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      color: var(--secondary-text-color);
                      font-size: 14px;
                    "
                  >
                    <div style="text-align: center;">
                      <ha-icon
                        icon="mdi:image-off"
                        style="font-size: 48px; margin-bottom: 8px; opacity: 0.5;"
                      ></ha-icon>
                      <div>
                        ${(0,d.kg)("editor.image.no_source",(null===(p=null==t?void 0:t.locale)||void 0===p?void 0:p.language)||"en","No image source configured")}
                      </div>
                    </div>
                  </div>
                `}
          </div>
        </div>
      </div>
    `}async handleFileUpload(e,t){var i,n;const o=null===(i=e.target.files)||void 0===i?void 0:i[0];if(o)try{const e=new FormData;e.append("file",o);const i=await fetch("/api/media_source/local/upload",{method:"POST",body:e,headers:{Authorization:`Bearer ${(null===(n=window.hassTokens)||void 0===n?void 0:n.access_token)||""}`}});if(i.ok){const e=(await i.json()).media_content_id||`/media/local/${o.name}`;t({image_url:e,image_type:"upload"})}else{console.error("Upload failed:",i.statusText);const e=new FileReader;e.onload=e=>{var i;const n=null===(i=e.target)||void 0===i?void 0:i.result;t({image_url:n,image_type:"upload"})},e.readAsDataURL(o)}}catch(e){console.error("Error uploading file:",e);const i=new FileReader;i.onload=e=>{var i;const n=null===(i=e.target)||void 0===i?void 0:i.result;t({image_url:n,image_type:"upload"})},i.readAsDataURL(o)}}renderLogicTab(e,t,i,n){return s.X.render(e,t,(e=>n(e)))}validate(e){const t=e,i=[...super.validate(e).errors];switch(t.image_type){case"url":t.image_url&&""!==t.image_url.trim()||i.push("Image URL is required when using URL type");break;case"upload":t.image_url&&""!==t.image_url.trim()||i.push("Uploaded image is required when using upload type");break;case"entity":t.image_entity&&""!==t.image_entity.trim()||i.push("Image entity is required when using entity type");break;case"attribute":t.image_entity&&""!==t.image_entity.trim()||i.push("Entity is required when using attribute type"),t.image_attribute&&""!==t.image_attribute.trim()||i.push("Attribute name is required when using attribute type")}return t.link_enabled&&!t.link_url&&i.push("Link URL is required when link is enabled"),t.width&&(t.width<1||t.width>100)&&i.push("Width must be between 1 and 100 percent"),t.height&&(t.height<50||t.height>800)&&i.push("Height must be between 50 and 800 pixels"),{valid:0===i.length,errors:i}}getBackgroundImageCSS(e,t){var i,n;if(!e.background_image_type||"none"===e.background_image_type)return"none";switch(e.background_image_type){case"upload":case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const o=t.states[e.background_image_entity];let a="";if((null===(i=o.attributes)||void 0===i?void 0:i.entity_picture)?a=o.attributes.entity_picture:(null===(n=o.attributes)||void 0===n?void 0:n.image)?a=o.attributes.image:o.state&&"string"==typeof o.state&&(o.state.startsWith("/")||o.state.startsWith("http"))&&(a=o.state),a)return a.startsWith("/local/")||a.startsWith("/media/")||a.startsWith("/"),`url("${a}")`}}return"none"}getAttributeByPath(e,t){if(!e||!t)return;const i=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").filter(Boolean);let n=e;for(const e of i){if(null==n)return;n=n[e]}return n}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}getStyles(){return"\n      .image-module-preview {\n        max-width: 100%;\n        overflow: hidden;\n        box-sizing: border-box;\n      }\n\n\n\n      .image-module-preview img {\n        max-width: 100%;\n        height: auto;\n        display: block;\n      }\n\n      /* Defensive dropdown positioning for selects inside image module sections */\n      .module-general-settings ha-select {\n        position: relative !important;\n        overflow: visible !important;\n        z-index: 9999 !important;\n      }\n      .module-general-settings ha-select .mdc-select__menu,\n      .module-general-settings ha-select mwc-menu,\n      .module-general-settings ha-select .mdc-menu,\n      .module-general-settings ha-select ha-menu {\n        /* Rely on HA menu positioning; ensure it's above */\n        z-index: 10001 !important;\n      }\n\n      /* Ensure container allows dropdown overflow */\n      .module-general-settings {\n        overflow: visible !important;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Field styling - ensure vertical stacking, no columns */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n        \n        margin-bottom: 4px !important;\n        display: block !important;\n        width: 100% !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n        width: 100% !important;\n      }\n\n      .field-group {\n        display: flex !important;\n        flex-direction: column !important;\n        width: 100% !important;\n        margin-bottom: 16px !important;\n      }\n\n      .field-group ha-form {\n        width: 100% !important;\n        display: block !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n    "}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},885:(e,t,i)=>{i.d(t,{mN:()=>z,AH:()=>s,W3:()=>x,Ec:()=>w});const n=globalThis,o=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,a=Symbol(),r=new WeakMap;class l{constructor(e,t,i){if(this._$cssResult$=!0,i!==a)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(o&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=r.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&r.set(t,e))}return e}toString(){return this.cssText}}const s=(e,...t)=>{const i=1===e.length?e[0]:t.reduce(((t,i,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[n+1]),e[0]);return new l(i,e,a)},d=(e,t)=>{if(o)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const i of t){const t=document.createElement("style"),o=n.litNonce;void 0!==o&&t.setAttribute("nonce",o),t.textContent=i.cssText,e.appendChild(t)}},c=o?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new l("string"==typeof e?e:e+"",void 0,a))(t)})(e):e,{is:u,defineProperty:p,getOwnPropertyDescriptor:g,getOwnPropertyNames:m,getOwnPropertySymbols:_,getPrototypeOf:h}=Object,v=globalThis,b=v.trustedTypes,f=b?b.emptyScript:"",y=v.reactiveElementPolyfillSupport,k=(e,t)=>e,x={toAttribute(e,t){switch(t){case Boolean:e=e?f:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},w=(e,t)=>!u(e,t),$={attribute:!0,type:String,converter:x,reflect:!1,hasChanged:w};Symbol.metadata??=Symbol("metadata"),v.litPropertyMetadata??=new WeakMap;class z extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=$){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(e,i,t);void 0!==n&&p(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){const{get:n,set:o}=g(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return n?.call(this)},set(t){const a=n?.call(this);o.call(this,t),this.requestUpdate(e,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??$}static _$Ei(){if(this.hasOwnProperty(k("elementProperties")))return;const e=h(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(k("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(k("properties"))){const e=this.properties,t=[...m(e),..._(e)];for(const i of t)this.createProperty(i,e[i])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,i]of t)this.elementProperties.set(e,i)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const i=this._$Eu(e,t);void 0!==i&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(c(e))}else void 0!==e&&t.push(c(e));return t}static _$Eu(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return d(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EC(e,t){const i=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,i);if(void 0!==n&&!0===i.reflect){const o=(void 0!==i.converter?.toAttribute?i.converter:x).toAttribute(t,i.type);this._$Em=e,null==o?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(e,t){const i=this.constructor,n=i._$Eh.get(e);if(void 0!==n&&this._$Em!==n){const e=i.getPropertyOptions(n),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:x;this._$Em=n,this[n]=o.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,i){if(void 0!==e){if(i??=this.constructor.getPropertyOptions(e),!(i.hasChanged??w)(this[e],t))return;this.P(e,t,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,i){this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,i]of e)!0!==i.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],i)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}z.elementStyles=[],z.shadowRootOptions={mode:"open"},z[k("elementProperties")]=new Map,z[k("finalized")]=new Map,y?.({ReactiveElement:z}),(v.reactiveElementVersions??=[]).push("2.0.4")},914:(e,t,i)=>{i.d(t,{Q:()=>o});var n=i(183);class o{static renderCleanForm(e,t,i,a){const r=`clean-form-${Math.random().toString(36).substr(2,9)}`;return setTimeout((()=>{const e=document.getElementById(r);e&&(o.setupFormObserver(e,r),o.aggressiveCleanup(e))}),0),setTimeout((()=>{const e=document.getElementById(r);e&&o.aggressiveCleanup(e)}),100),n.qy`
      <div class="ultra-clean-form" id="${r}">
        <ha-form
          .hass=${e}
          .data=${t}
          .schema=${i}
          .computeLabel=${()=>""}
          .computeDescription=${()=>""}
          @value-changed=${e=>{a(e),setTimeout((()=>{const e=document.getElementById(r);e&&o.aggressiveCleanup(e)}),0)}}
        ></ha-form>
      </div>
    `}static setupFormObserver(e,t){var i;o.activeObservers.has(t)&&(null===(i=o.activeObservers.get(t))||void 0===i||i.disconnect());const n=new MutationObserver((i=>{let n=!1;i.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&(n=!0)}))})),n&&!o.cleanupQueue.has(t)&&(o.cleanupQueue.add(t),setTimeout((()=>{o.aggressiveCleanup(e),o.cleanupQueue.delete(t)}),10))}));n.observe(e,{childList:!0,subtree:!0,characterData:!0}),o.activeObservers.set(t,n),setTimeout((()=>{document.contains(e)||(n.disconnect(),o.activeObservers.delete(t))}),3e4)}static aggressiveCleanup(e){var t;if(!e)return;const i=["action","entity","template_mode","icon","name","value","text","url","path","attribute","state","condition","enabled","disabled","template","mode","type","size","color","style","width","height","radius","opacity","service","data","latitude","longitude","navigation_path","show_icon","label","button"],n=e.querySelector("ha-form");if(!n)return;const o=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null),a=[];let r;for(;r=o.nextNode();){const e=null===(t=r.textContent)||void 0===t?void 0:t.trim().toLowerCase();e&&i.includes(e)&&a.push(r)}a.forEach((e=>{var t;const i=e.parentElement;if(i){const n=i.querySelector("input, select, ha-entity-picker, ha-selector, mwc-select, mwc-textfield");e.textContent&&e.textContent.trim().length<30&&(n||(null===(t=i.parentElement)||void 0===t?void 0:t.querySelector("input, select, ha-entity-picker, ha-selector")))&&e.remove()}})),n.querySelectorAll("*").forEach((e=>{var t,n;const o=null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase();o&&i.includes(o)&&0===e.children.length&&(null===(n=e.parentElement)||void 0===n?void 0:n.querySelector("input, select, ha-entity-picker, ha-selector"))&&(e.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; height: 0 !important; width: 0 !important; margin: 0 !important; padding: 0 !important;")})),['div[role="group"] > div:first-child:not([class])','div[role="group"] > span:first-child:not([class])',".mdc-form-field__label",".mdc-text-field__label",".mdc-select__label","label:not([for])","div:not([class]):not([id])","span:not([class]):not([id])"].forEach((e=>{try{n.querySelectorAll(e).forEach((e=>{var t;const n=null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase();n&&i.includes(n)&&(e.style.cssText="display: none !important;")}))}catch(e){}})),n.querySelectorAll('[class*="mdc-"]').forEach((e=>{var t;const n=null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase();n&&i.includes(n)&&0===e.children.length&&(e.classList.contains("mdc-floating-label")||e.classList.contains("mdc-form-field__label")||e.classList.contains("mdc-text-field__label"))&&(e.style.cssText="display: none !important;")})),setTimeout((()=>{var e;const t=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null),o=[];let a;for(;a=t.nextNode();){const t=null===(e=a.textContent)||void 0===e?void 0:e.trim().toLowerCase();t&&i.includes(t)&&o.push(a)}o.forEach((e=>{e.parentNode&&(e.textContent="")}))}),50)}static getCleanFormStyles(){return"\n      /* Ultra-aggressive label hiding */\n      .ultra-clean-form ha-form label,\n      .ultra-clean-form ha-form .label,\n      .ultra-clean-form ha-form .mdc-floating-label,\n      .ultra-clean-form ha-form .mdc-text-field__label,\n      .ultra-clean-form ha-form .mdc-select__label,\n      .ultra-clean-form ha-form .mdc-form-field__label,\n      .ultra-clean-form ha-form .ha-form-label,\n      .ultra-clean-form ha-form .mdc-notched-outline__leading,\n      .ultra-clean-form ha-form .mdc-notched-outline__notch,\n      .ultra-clean-form ha-form .mdc-notched-outline__trailing,\n      .ultra-clean-form ha-form .mdc-line-ripple {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        width: 0 !important;\n        margin: 0 !important;\n        padding: 0 !important;\n        font-size: 0 !important;\n        line-height: 0 !important;\n      }\n\n      /* Override any existing label styles completely */\n      .ultra-clean-form label,\n      .ultra-clean-form .ultra-clean-form label *,\n      .ultra-clean-form ha-form label,\n      .ultra-clean-form ha-form label * {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        width: 0 !important;\n        margin: 0 !important;\n        padding: 0 !important;\n        border: none !important;\n        outline: none !important;\n        background: none !important;\n        font-size: 0 !important;\n        line-height: 0 !important;\n        position: absolute !important;\n        left: -9999px !important;\n        top: -9999px !important;\n        z-index: -1 !important;\n        pointer-events: none !important;\n      }\n\n      /* Hide any text that could be a redundant label */\n      .ultra-clean-form ha-form div:not([class]):not([id]),\n      .ultra-clean-form ha-form span:not([class]):not([id]),\n      .ultra-clean-form ha-form p:not([class]):not([id]) {\n        font-size: 0 !important;\n        line-height: 0 !important;\n        color: transparent !important;\n        height: 0 !important;\n        overflow: hidden !important;\n      }\n\n      /* Make sure form inputs still work */\n      .ultra-clean-form ha-form input,\n      .ultra-clean-form ha-form select,\n      .ultra-clean-form ha-form textarea,\n      .ultra-clean-form ha-form ha-entity-picker,\n      .ultra-clean-form ha-form ha-icon-picker,\n      .ultra-clean-form ha-form ha-selector,\n      .ultra-clean-form ha-form .mdc-text-field,\n      .ultra-clean-form ha-form .mdc-select,\n      .ultra-clean-form ha-form .mdc-switch {\n        font-size: 14px !important;\n        line-height: normal !important;\n        color: var(--primary-text-color) !important;\n        height: auto !important;\n        width: auto !important;\n        margin-top: 0 !important;\n        border-radius: 8px !important;\n      }\n\n      /* Ensure dropdowns work */\n      .ultra-clean-form ha-form .mdc-select__selected-text,\n      .ultra-clean-form ha-form .mdc-select__dropdown-icon {\n        font-size: 14px !important;\n        color: var(--primary-text-color) !important;\n        opacity: 1 !important;\n        height: auto !important;\n        width: auto !important;\n      }\n\n      /* Style field titles and descriptions consistently */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n       \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n    "}static cleanupRedundantLabels(e){o.aggressiveCleanup(e)}static renderField(e,t,i,a,r,l){return n.qy`
      <div class="form-field-container">
        <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
          ${e}
        </div>
        <div
          class="field-description"
          style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
        >
          ${t}
        </div>
        ${o.renderCleanForm(i,a,r,l)}
      </div>
    `}static createSchemaItem(e,t){return{name:e,selector:t}}static renderSection(e,t,i){return n.qy`
      <div
        class="settings-section"
        style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
      >
        <div
          class="section-title"
          style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
        >
          ${e}
        </div>
        ${t?n.qy`
              <div
                class="field-description"
                style="font-size: 13px; font-weight: 400; margin-bottom: 16px; color: var(--secondary-text-color);"
              >
                ${t}
              </div>
            `:""}
        ${i.map((e=>n.qy`
            <div style="margin-bottom: 16px;">
              ${o.renderField(e.title,e.description,e.hass,e.data,e.schema,e.onChange)}
            </div>
          `))}
      </div>
    `}static injectCleanFormStyles(){return n.qy`
      <style>
        ${o.getCleanFormStyles()}
      </style>
    `}}o.activeObservers=new Map,o.cleanupQueue=new Set},987:(e,t,i)=>{i.d(t,{k:()=>n});class n{static getHoverEffectClass(e){if(!e||!e.effect||"none"===e.effect)return"";const t=e.intensity||"normal";return`uc-hover-${e.effect}-${t}`}static generateHoverEffectStyles(e){if(!e||!e.effect||"none"===e.effect)return"";const t=e.duration||300,i=e.timing||"ease",n=e.intensity||"normal",o=this.getHoverEffectClass(e);let a=`\n      .${o} {\n        transition: all ${t}ms ${i};\n        cursor: pointer;\n      }\n      .${o}:hover {\n    `;switch(e.effect){case"highlight":a+=`\n          background-color: ${e.highlight_color||"rgba(var(--rgb-primary-color), 0.2)"} !important;\n        `;break;case"outline":const o=e.outline_color||"var(--primary-color)";a+=`\n          outline: ${e.outline_width||2}px solid ${o};\n          outline-offset: 2px;\n        `;break;case"grow":a+=`\n          transform: scale(${this.getScaleValue("grow",n)});\n        `;break;case"shrink":a+=`\n          transform: scale(${this.getScaleValue("shrink",n)});\n        `;break;case"pulse":a+=`\n          animation: uc-pulse-${n} ${t}ms ${i} infinite;\n        `;break;case"bounce":a+=`\n          animation: uc-bounce-${n} ${t}ms ${i};\n        `;break;case"float":a+=`\n          transform: translateY(-${this.getFloatDistance(n)}px);\n        `;break;case"glow":const r=e.glow_color||"var(--primary-color)";a+=`\n          box-shadow: 0 0 ${this.getGlowIntensity(n)}px ${r};\n        `;break;case"shadow":const l=e.shadow_color||"rgba(0, 0, 0, 0.3)",s=this.getShadowIntensity(n);a+=`\n          box-shadow: 0 ${s}px ${2*s}px ${l};\n        `;break;case"rotate":a+=`\n          transform: rotate(${e.rotate_degrees||this.getRotateDegrees(n)}deg);\n        `;break;case"skew":const d=this.getSkewValue(n);a+=`\n          transform: skew(${d}deg, ${d}deg);\n        `;break;case"wobble":a+=`\n          animation: uc-wobble-${n} ${t}ms ${i};\n        `;break;case"buzz":a+=`\n          animation: uc-buzz-${n} ${t}ms ${i};\n        `;break;case"fade":a+=`\n          opacity: ${this.getFadeOpacity(n)};\n        `}return a+="\n      }\n    ",a}static generateAllHoverEffectStyles(){const e=["subtle","normal","strong"];let t="";return t+=this.generateAllKeyframes(),["highlight","outline","grow","shrink","pulse","bounce","float","glow","shadow","rotate","skew","wobble","buzz","fade"].forEach((i=>{e.forEach((e=>{const n={effect:i,intensity:e,duration:300,timing:"ease"};t+=this.generateHoverEffectStyles(n)}))})),t}static generateAllKeyframes(){let e="";return["subtle","normal","strong"].forEach((t=>{e+=this.generatePulseKeyframes(`uc-pulse-${t}`,t),e+=this.generateBounceKeyframes(`uc-bounce-${t}`,t),e+=this.generateWobbleKeyframes(`uc-wobble-${t}`,t),e+=this.generateBuzzKeyframes(`uc-buzz-${t}`,t)})),e}static getScaleValue(e,t){const i={grow:{subtle:1.02,normal:1.05,strong:1.1},shrink:{subtle:.98,normal:.95,strong:.9}};return i[e][t]||i[e].normal}static getBounceDistance(e){const t={subtle:2,normal:4,strong:8};return t[e]||t.normal}static getFloatDistance(e){const t={subtle:2,normal:4,strong:8};return t[e]||t.normal}static getGlowIntensity(e){const t={subtle:5,normal:10,strong:20};return t[e]||t.normal}static getShadowIntensity(e){const t={subtle:2,normal:4,strong:8};return t[e]||t.normal}static getRotateDegrees(e){const t={subtle:2,normal:5,strong:10};return t[e]||t.normal}static getSkewValue(e){const t={subtle:1,normal:2,strong:4};return t[e]||t.normal}static getFadeOpacity(e){const t={subtle:.8,normal:.6,strong:.4};return t[e]||t.normal}static generatePulseKeyframes(e,t){return`\n      @keyframes ${e} {\n        0% { transform: scale(1); }\n        50% { transform: scale(${this.getScaleValue("grow",t)}); }\n        100% { transform: scale(1); }\n      }\n    `}static generateBounceKeyframes(e,t){const i=this.getBounceDistance(t);return`\n      @keyframes ${e} {\n        0%, 20%, 53%, 80%, 100% { transform: translateY(0); }\n        40%, 43% { transform: translateY(-${i}px); }\n        70% { transform: translateY(-${i/2}px); }\n        90% { transform: translateY(-${i/4}px); }\n      }\n    `}static generateWobbleKeyframes(e,t){const i=this.getSkewValue(t);return`\n      @keyframes ${e} {\n        16.65% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        33.3% { transform: translateX(${i/2}px) rotate(${i/2}deg); }\n        49.95% { transform: translateX(-${i/3}px) rotate(-${i/3}deg); }\n        66.6% { transform: translateX(${i/4}px) rotate(${i/4}deg); }\n        83.25% { transform: translateX(-${i/5}px) rotate(-${i/5}deg); }\n        100% { transform: translateX(0) rotate(0); }\n      }\n    `}static generateBuzzKeyframes(e,t){const i=this.getSkewValue(t);return`\n      @keyframes ${e} {\n        10% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        20% { transform: translateX(${i}px) rotate(${i}deg); }\n        30% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        40% { transform: translateX(${i}px) rotate(${i}deg); }\n        50% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        60% { transform: translateX(${i}px) rotate(${i}deg); }\n        70% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        80% { transform: translateX(${i}px) rotate(${i}deg); }\n        90% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        100% { transform: translateX(0) rotate(0); }\n      }\n    `}static injectHoverEffectStyles(e){const t="uc-hover-effects-styles";if(e){let i=e.querySelector(`#${t}`);i||(i=document.createElement("style"),i.id=t,e.appendChild(i)),i.textContent=this.generateAllHoverEffectStyles()}else{let e=document.getElementById(t);e||(e=document.createElement("style"),e.id=t,document.head.appendChild(e)),e.textContent=this.generateAllHoverEffectStyles()}}static removeHoverEffectStyles(e){const t="uc-hover-effects-styles";if(e){const i=e.querySelector(`#${t}`);i&&i.remove()}else{const e=document.getElementById(t);e&&e.remove()}}}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return i[e](a,a.exports,o),a.loaded=!0,a.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var a=Object.create(null);o.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&i;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>r[e]=()=>i[e]));return r.default=()=>i,o.d(a,r),a},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a=o(183),r=o(276),l=(o(30),o(341)),s=(o(504),o(278),o(884),o(649),o(679),o(866),o(790),o(70),o(101),o(863),o(381)),d=o(397);class c{static getInstance(){return c.instance||(c.instance=new c),c.instance}validateAndCorrectConfig(e){const t=[],i=[];let n;try{n=JSON.parse(JSON.stringify(e))}catch(e){return{valid:!1,errors:["Invalid JSON structure"],warnings:[]}}return n.type||(n.type="custom:ultra-card",i.push("Added missing card type")),"custom:ultra-card"!==n.type&&t.push(`Invalid card type: ${n.type}`),n.layout||(n.layout={rows:[]},i.push("Added missing layout structure")),n.layout.rows||(n.layout.rows=[],i.push("Added missing rows array")),n.layout.rows=n.layout.rows.map(((e,n)=>{const o=this.validateAndCorrectRow(e,n);return t.push(...o.errors),i.push(...o.warnings),o.correctedRow})),n.layout.rows=n.layout.rows.filter((e=>null!==e)),{valid:0===t.length,errors:t,warnings:i,correctedConfig:n}}validateAndCorrectRow(e,t){const i=[],n=[];return e.id||(e.id=`row-${Date.now()}-${t}`,n.push(`Row ${t}: Added missing ID`)),e.columns&&Array.isArray(e.columns)||(e.columns=[{id:`col-${Date.now()}-0`,modules:[]}],n.push(`Row ${t}: Added missing columns array`)),e.columns=e.columns.map(((e,o)=>{const a=this.validateAndCorrectColumn(e,t,o);return i.push(...a.errors),n.push(...a.warnings),a.correctedColumn})).filter((e=>null!==e)),0===e.columns.length&&(e.columns=[{id:`col-${Date.now()}-fallback`,modules:[]}],n.push(`Row ${t}: Added fallback column`)),{correctedRow:e,errors:i,warnings:n}}validateAndCorrectColumn(e,t,i){const n=[],o=[];return e.id||(e.id=`col-${Date.now()}-${t}-${i}`,o.push(`Row ${t}, Column ${i}: Added missing ID`)),e.modules&&Array.isArray(e.modules)||(e.modules=[],o.push(`Row ${t}, Column ${i}: Added missing modules array`)),e.modules=e.modules.map(((e,a)=>{const r=this.validateAndCorrectModule(e,t,i,a);return r.valid?r.correctedModule?(o.push(...r.warnings||[]),r.correctedModule):e:(n.push(...r.errors),null)})).filter((e=>null!==e)),{correctedColumn:e,errors:n,warnings:o}}validateAndCorrectModule(e,t,i,n){const o=[],a=[],r=(0,l.oD)();if(e.id||(e.id=`${e.type||"unknown"}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a.push("Module: Added missing ID")),!e.type)return o.push(`Module ${e.id}: Missing type`),{valid:!1,errors:o,warnings:a};if(!r.isModuleRegistered(e.type))return o.push(`Module ${e.id}: Unknown module type "${e.type}"`),{valid:!1,errors:o,warnings:a};const s=r.getModule(e.type);if(s){const t=s.validate(e);if(!t.valid)return o.push(...t.errors.map((t=>`Module ${e.id}: ${t}`))),{valid:!1,errors:o,warnings:a};const i=s.createDefault(e.id);return{valid:!0,errors:[],warnings:a,correctedModule:this.mergeWithDefaults(e,i)}}return{valid:!1,errors:[`Module ${e.id}: No handler found for type "${e.type}"`],warnings:a}}mergeWithDefaults(e,t){const i=Object.assign({},t);return Object.keys(e).forEach((n=>{void 0!==e[n]&&null!==e[n]&&("object"!=typeof e[n]||Array.isArray(e[n])||"object"!=typeof t[n]?i[n]=e[n]:i[n]=Object.assign(Object.assign({},t[n]),e[n]))})),i}countTotalModules(e){return e.layout.rows.reduce(((e,t)=>e+t.columns.reduce(((e,t)=>e+t.modules.length),0)),0)}validateUniqueModuleIds(e){const t=new Set,i=[];for(const n of e.layout.rows)for(const e of n.columns)for(const n of e.modules)t.has(n.id)?i.push(n.id):t.add(n.id);return{valid:0===i.length,duplicates:i}}fixDuplicateModuleIds(e){const t=new Set,i=JSON.parse(JSON.stringify(e));for(const e of i.layout.rows)for(const i of e.columns)for(const e of i.modules){if(t.has(e.id)){let i=`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;for(;t.has(i);)i=`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e.id=i}t.add(e.id)}return i}}const u=c.getInstance();var p=o(987),g=o(456);const m="1.1.0-beta2";var _=o(139),h=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let v=class extends a.WF{render(){var e,t;const i=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return a.qy`
      <div class="about-tab">
        <div class="about-logo-container">
          <img
            src="${_.P2}"
            alt="Ultra Card"
            class="about-logo"
            @error=${e=>{const t=e.currentTarget;t&&t.src!==_.aR&&(t.src=_.aR)}}
          />
        </div>

        <div class="about-developed-by">
          ${(0,g.kg)("editor.about.developed_by",i,"Developed by")}
          <a href="https://wjddesigns.com" target="_blank" rel="noopener">WJD Designs</a>
        </div>

        <div class="about-description">
          <p>
            ${(0,g.kg)("editor.about.desc1",i,"A powerful modular card builder for Home Assistant")}
          </p>
          <p>
            ${(0,g.kg)("editor.about.desc2",i,"Create custom layouts with a professional page-builder interface")}
          </p>
          <p>
            ${(0,g.kg)("editor.about.desc3",i,"Modular layout system with conditional logic and professional design tools")}
          </p>
        </div>

        <div class="about-buttons">
          <a
            href="https://discord.com/invite/5SkUf6Ch"
            target="_blank"
            rel="noopener"
            class="about-button discord"
          >
            <svg viewBox="0 0 24 24" width="24" height="24" class="about-button-icon">
              <path
                fill="currentColor"
                d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0189 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"
              />
            </svg>
            ${(0,g.kg)("editor.about.join_discord",i,"Join Our Discord")}
          </a>

          <a
            href="https://github.com/WJDDesigns/Ultra-Card"
            target="_blank"
            rel="noopener"
            class="about-button github"
          >
            <svg viewBox="0 0 24 24" width="24" height="24" class="about-button-icon">
              <path
                fill="currentColor"
                d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
              />
            </svg>
            ${(0,g.kg)("editor.about.github_repo",i,"Check Out Our Github")}
          </a>
        </div>

        <div class="support-section">
          <h3>${(0,g.kg)("editor.about.support_title",i,"Support Ultra Card")}</h3>
          <p>
            ${(0,g.kg)("editor.about.support_desc",i,"Your generous tips fuel the development of amazing features for this card! Without support from users like you, continued innovation wouldn't be possible.")}
          </p>

          <a
            href="https://www.paypal.com/donate/?cmd=_s-xclick&hosted_button_id=4JVCZ46FZPUTG&clickref=1101lAycwnhU&gad_source=7&pid=328130457&dclid=CjgKEAjwh_i_BhCRhu7RxN_14hYSJACbYkcgx98-Vsb49UI4imjGhPA2lwk73DpbbgCri-G8TCTB9PD_BwE&ssrt=1744735247042"
            target="_blank"
            rel="noopener"
            class="about-button paypal"
          >
            <svg viewBox="0 0 24 24" width="24" height="24" class="about-button-icon">
              <path
                fill="currentColor"
                d="M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.26-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.555.493l-1.07 6.781a.382.382 0 0 0 .378.44h3.613a.896.896 0 0 0 .884-.764l.035-.234.65-4.135.041-.29a.896.896 0 0 1 .884-.763h.557c3.748 0 6.68-1.526 7.534-5.942.356-1.846.174-3.388-.777-4.471z"
              />
            </svg>
            ${(0,g.kg)("editor.about.leave_tip",i,"LEAVE A TIP (PAYPAL)")}
          </a>
        </div>

        <div class="version-info">
          <p>${(0,g.kg)("editor.about.version",i,"Version")} ${m}</p>
        </div>
      </div>
    `}};v.styles=a.AH`
    .about-tab {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px;
      max-width: 600px;
      margin: 0 auto;
      color: var(--primary-text-color);
    }

    .about-logo-container {
      margin-bottom: 24px;
    }

    .about-logo {
      max-width: 300px;
      width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .about-developed-by {
      font-size: 1.2em;
      margin-bottom: 24px;
      color: var(--secondary-text-color);
      text-align: center;
    }

    .about-developed-by a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: bold;
    }

    .about-developed-by a:hover {
      text-decoration: underline;
    }

    .about-description {
      text-align: center;
      margin-bottom: 32px;
    }

    .about-description p {
      margin: 8px 0;
      color: var(--secondary-text-color);
      line-height: 1.5;
    }

    .about-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      max-width: 300px;
      margin-bottom: 32px;
    }

    .about-button {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
      color: white;
      border: none;
      font-size: 14px;
    }

    .about-button svg {
      margin-right: 8px;
      fill: currentColor;
    }

    .about-button.discord {
      background-color: #5865f2;
    }

    .about-button.github {
      background-color: #24292e;
    }

    .about-button.paypal {
      background-color: #0070ba;
    }

    .about-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .support-section {
      text-align: center;
      margin-bottom: 32px;
      padding: 24px;
      background: var(--secondary-background-color);
      border-radius: 12px;
      width: 100%;
      max-width: 500px;
    }

    .support-section h3 {
      color: var(--primary-color);
      margin: 0 0 16px 0;
      font-size: 1.5em;
    }

    .support-section p {
      color: var(--secondary-text-color);
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .version-info {
      text-align: center;
      color: var(--secondary-text-color);
      font-size: 0.9em;
    }

    .version-info p {
      margin: 4px 0;
    }
  `,h([(0,r.MZ)({attribute:!1})],v.prototype,"hass",void 0),v=h([(0,r.EM)("ultra-about-tab")],v),o(461),o(768);var b=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let f=class extends a.WF{constructor(){super(...arguments),this._activeTab="layout",this._isFullScreen=!1,this._isMobile=!1,this._moduleStylesInjected=!1}setConfig(e){this.config=e||{type:"custom:ultra-card",layout:{rows:[]}}}connectedCallback(){super.connectedCallback(),this.addEventListener("config-changed",this._handleConfigChanged),this.addEventListener("keydown",this._handleKeyDown),this._checkMobileDevice(),this._resizeListener=this._checkMobileDevice.bind(this),window.addEventListener("resize",this._resizeListener),this._injectModuleStyles(),p.k.injectHoverEffectStyles(this.shadowRoot)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("config-changed",this._handleConfigChanged),this.removeEventListener("keydown",this._handleKeyDown),p.k.removeHoverEffectStyles(this.shadowRoot),this._resizeListener&&window.removeEventListener("resize",this._resizeListener),document.body.classList.remove("ultra-card-fullscreen")}_checkMobileDevice(){const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=this._isMobile;this._isMobile=e||t,this._isMobile&&!i&&this._isFullScreen&&this._toggleFullScreen()}_handleConfigChanged(e){if(e.stopPropagation(),e.detail&&e.detail.config&&(this.config=e.detail.config,!e.detail.isInternal)){const t=new CustomEvent("config-changed",{detail:{config:e.detail.config,isInternal:!0},bubbles:!0,composed:!0});this.dispatchEvent(t)}}_handleKeyDown(e){"Escape"===e.key&&this._isFullScreen&&(e.preventDefault(),this._toggleFullScreen())}_updateConfig(e){const t=Object.assign(Object.assign({},this.config),e);this._configDebounceTimeout&&clearTimeout(this._configDebounceTimeout),this._configDebounceTimeout=window.setTimeout((()=>{const e=u.validateAndCorrectConfig(t);if(!e.valid){console.error("❌ Ultra Card Editor: Config validation failed",{errors:e.errors,warnings:e.warnings});const i=new CustomEvent("config-changed",{detail:{config:t,isInternal:!0},bubbles:!0,composed:!0});return void this.dispatchEvent(i)}const i=u.validateUniqueModuleIds(e.correctedConfig);let n=e.correctedConfig;i.valid||(console.warn("⚠️  Ultra Card Editor: Duplicate module IDs detected, fixing...",{duplicates:i.duplicates}),n=u.fixDuplicateModuleIds(n)),e.warnings.length>0&&console.info("ℹ️  Ultra Card: Config corrected with warnings",{warnings:e.warnings.length});const o=new CustomEvent("config-changed",{detail:{config:n,isInternal:!0},bubbles:!0,composed:!0});this.dispatchEvent(o)}),100)}_toggleFullScreen(){this._isFullScreen=!this._isFullScreen,this._isFullScreen?(document.body.classList.add("ultra-card-fullscreen"),"layout"!==this._activeTab&&(this._activeTab="layout")):document.body.classList.remove("ultra-card-fullscreen")}render(){var e;if(!this.hass||!this.config)return a.qy`<div>Loading...</div>`;const t=(null===(e=this.hass.locale)||void 0===e?void 0:e.language)||"en";return a.qy`
      <div class="card-config ${this._isFullScreen?"fullscreen":""}">
        <div class="tabs">
          <button
            class="tab ${"layout"===this._activeTab?"active":""}"
            @click=${()=>this._activeTab="layout"}
          >
            ${this._isFullScreen?"Ultra Card Layout Builder":(0,g.kg)("editor.tabs.layout",t,"Layout Builder")}
          </button>
          ${this._isFullScreen?"":a.qy`
                <button
                  class="tab ${"settings"===this._activeTab?"active":""}"
                  @click=${()=>this._activeTab="settings"}
                >
                  ${(0,g.kg)("editor.tabs.settings",t,"Settings")}
                </button>
                <button
                  class="tab ${"about"===this._activeTab?"active":""}"
                  @click=${()=>this._activeTab="about"}
                >
                  ${(0,g.kg)("editor.tabs.about",t,"About")}
                </button>
              `}
          ${this._isMobile?"":a.qy`
                <button
                  class="fullscreen-toggle"
                  @click=${this._toggleFullScreen}
                  title=${this._isFullScreen?(0,g.kg)("editor.tooltips.return_dashboard",t,"Return to Dashboard"):(0,g.kg)("editor.tooltips.enter_fullscreen",t,"Enter Full Screen")}
                >
                  ${this._isFullScreen?a.qy`
                        <svg viewBox="0 0 24 24" class="arrow-icon">
                          <path d="M15.41,7.41L14,6L8,12L14,18L15.41,16.59L10.83,12L15.41,7.41Z" />
                        </svg>
                        <span class="dashboard-text"
                          >${(0,g.kg)("editor.tooltips.dashboard",t,"Dashboard")}</span
                        >
                      `:a.qy`
                        <svg viewBox="0 0 24 24" class="arrow-icon">
                          <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" />
                        </svg>
                      `}
                </button>
              `}
        </div>

        <div class="tab-content">
          ${"layout"===this._activeTab?a.qy`<ultra-layout-tab
                .hass=${this.hass}
                .config=${this.config}
                .isFullScreen=${this._isFullScreen}
              ></ultra-layout-tab>`:"settings"===this._activeTab?this._renderSettingsTab():a.qy`<ultra-about-tab .hass=${this.hass}></ultra-about-tab>`}
        </div>
      </div>
    `}_renderSettingsTab(){var e,t,i,n,o;const r=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en",l="var(--card-background-color)";return a.qy`
      <div class="settings-tab">
        <div class="settings-header">
          <h3>${(0,g.kg)("editor.settings.title",r,"Card Settings")}</h3>
          <p>
            ${(0,g.kg)("editor.settings.description",r,"Configure global card appearance and behavior.")}
          </p>
        </div>

        <div class="settings-container">
          <!-- Appearance Section -->
          <div class="settings-section">
            <div class="section-header">
              <h4>${(0,g.kg)("editor.appearance.title",r,"Appearance")}</h4>
              <p>
                ${(0,g.kg)("editor.appearance.description",r,"Control the visual appearance of your card")}
              </p>
            </div>

            <div class="settings-grid">
              <div class="setting-item">
                <label>
                  ${(0,g.kg)("editor.fields.card_background_color",r,"Card Background Color")}
                </label>
                <div class="setting-description">
                  ${(0,g.kg)("editor.fields.card_background_color_desc",r,"The background color of the entire card")}
                </div>
                <ultra-color-picker
                  .label=${"Card Background Color"}
                  .value=${this.config.card_background||l}
                  .defaultValue=${l}
                  .hass=${this.hass}
                  @value-changed=${e=>this._updateConfig({card_background:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="setting-item">
                <label> ${(0,g.kg)("editor.fields.border_radius",r,"Border Radius")} </label>
                <div class="setting-description">
                  ${(0,g.kg)("editor.fields.border_radius_desc",r,"Rounded corners for the card (in pixels)")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="50"
                    .value=${null!==(i=this.config.card_border_radius)&&void 0!==i?i:""}
                    placeholder="12"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_border_radius:""===t?void 0:Number(t)})}}
                  />
                  <span class="unit">${(0,g.kg)("editor.fields.unit_px",r,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_border_radius:12})}
                    title=${(0,g.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","12px")}
                  >
                    ↺
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Spacing Section -->
          <div class="settings-section">
            <div class="section-header">
              <h4>${(0,g.kg)("editor.spacing.title",r,"Spacing")}</h4>
              <p>
                ${(0,g.kg)("editor.spacing.description",r,"Control the spacing and positioning of your card")}
              </p>
            </div>

            <div class="settings-grid">
              <div class="setting-item">
                <label>${(0,g.kg)("editor.fields.card_padding",r,"Card Padding")}</label>
                <div class="setting-description">
                  ${(0,g.kg)("editor.fields.card_padding_desc",r,"Internal spacing within the card")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="100"
                    .value=${null!==(n=this.config.card_padding)&&void 0!==n?n:""}
                    placeholder="16"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_padding:""===t?16:Number(t)})}}
                  />
                  <span class="unit">${(0,g.kg)("editor.fields.unit_px",r,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_padding:16})}
                    title=${(0,g.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","16px")}
                  >
                    ↺
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <label>${(0,g.kg)("editor.fields.card_margin",r,"Card Margin")}</label>
                <div class="setting-description">
                  ${(0,g.kg)("editor.fields.card_margin_desc",r,"External spacing around the card")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="50"
                    .value=${null!==(o=this.config.card_margin)&&void 0!==o?o:""}
                    placeholder="0"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_margin:""===t?0:Number(t)})}}
                  />
                  <span class="unit">${(0,g.kg)("editor.fields.unit_px",r,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_margin:0})}
                    title=${(0,g.kg)("editor.fields.reset_default_value",r,"Reset to default ({value})").replace("{value}","0px")}
                  >
                    ↺
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}_injectModuleStyles(){if(this._moduleStylesInjected||!this.shadowRoot)return;const e=(0,l.oD)().getAllModuleStyles();if(e.trim().length){const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}this._moduleStylesInjected=!0}static get styles(){return a.AH`
      /* Global styles for hiding preview in full screen */
      :host {
        --ultra-editor-transition: all 0.3s ease;
      }

      .card-config {
        padding: 16px;
        max-width: 100%;
        margin: 0 auto;
        width: 100%;
        box-sizing: border-box;
        transition: var(--ultra-editor-transition);
      }

      /* Full screen mode styles */
      .card-config.fullscreen {
        max-width: none !important;
        width: 100vw !important;
        margin: 0 !important;
        padding: 20px !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        height: 100vh !important;
        z-index: 10000 !important;
        background: var(--card-background-color) !important;
        overflow-y: auto !important;
        box-sizing: border-box !important;
      }

      /* Full screen mode tab content */
      .card-config.fullscreen .tab-content {
        min-height: calc(100vh - 120px) !important;
        width: 100% !important;
        max-width: none !important;
      }

      /* Full screen mode header adjustments */
      .card-config.fullscreen .tabs {
        border: none;
        background: var(--card-background-color);
        padding: 16px;
        position: sticky;
        top: 0;
        z-index: 100;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      /* Remove the gradient line in fullscreen */
      .card-config.fullscreen .tabs::before {
        display: none;
      }

      /* Center the single tab in fullscreen mode and remove borders */
      .card-config.fullscreen .tab {
        flex: none;
        min-width: auto;
        justify-content: center;
        border: none;
        border-radius: 12px;
        background: var(--primary-color);
        color: white;
        padding: 12px 24px;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(var(--rgb-primary-color), 0.3);
      }

      .card-config.fullscreen .tab:hover {
        background: var(--primary-color);
        opacity: 0.9;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(var(--rgb-primary-color), 0.4);
      }

      /* Hide Home Assistant preview when in full screen mode */
      :global(body.ultra-card-fullscreen) {
        overflow: hidden !important;
      }

      :global(body.ultra-card-fullscreen *) {
        .element-preview,
        .element-preview-container,
        .preview-container,
        .card-preview,
        .preview-pane,
        hui-card-preview,
        .card-config > div:last-child:not(.card-config),
        .card-config-row > div:last-child,
        .mdc-dialog .mdc-dialog__container .mdc-dialog__surface > div:last-child:not(.card-config) {
          display: none !important;
        }

        .card-config-container,
        .editor-container,
        .card-config-row,
        .mdc-dialog .mdc-dialog__container .mdc-dialog__surface {
          width: 100% !important;
          max-width: none !important;
        }

        /* Override HA dialog sizing */
        .mdc-dialog .mdc-dialog__container {
          max-width: 100vw !important;
          width: 100vw !important;
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          z-index: 9999 !important;
        }

        .mdc-dialog .mdc-dialog__surface {
          max-width: 100vw !important;
          width: 100vw !important;
          max-height: 100vh !important;
          height: 100vh !important;
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          margin: 0 !important;
          border-radius: 0 !important;
        }

        /* Hide the backdrop */
        .mdc-dialog .mdc-dialog__scrim {
          display: none !important;
        }
      }

      /* Allow action forms to display all their elements properly */
      ha-form[data-action-form] *,
      ha-form[data-action-form] .mdc-form-field,
      ha-form[data-action-form] .mdc-text-field,
      ha-form[data-action-form] .mdc-floating-label,
      ha-form[data-action-form] .mdc-notched-outline__leading,
      ha-form[data-action-form] .mdc-notched-outline__notch,
      ha-form[data-action-form] .mdc-notched-outline__trailing,
      ha-form[data-action-form] .mdc-floating-label--float-above,
      ha-form[data-action-form] label,
      ha-form[data-action-form] .ha-form-label,
      ha-form[data-action-form] .form-label,
      ha-form[data-action-form] .mdc-text-field-character-counter,
      ha-form[data-action-form] .mdc-text-field-helper-text,
      ha-form[data-action-form] mwc-formfield,
      ha-form[data-action-form] .formfield {
        display: initial !important;
        visibility: visible !important;
      }

      /* Ensure action forms themselves are visible */
      ha-form[data-action-form] {
        display: block !important;
        visibility: visible !important;
      }

      /* Hide unwanted form labels with underscores - but only for non-action forms */
      ha-form:not([data-action-form]) .mdc-form-field > label,
      ha-form:not([data-action-form]) .mdc-text-field > label,
      ha-form:not([data-action-form]) .mdc-floating-label,
      ha-form:not([data-action-form]) .mdc-notched-outline__leading,
      ha-form:not([data-action-form]) .mdc-notched-outline__notch,
      ha-form:not([data-action-form]) .mdc-notched-outline__trailing,
      ha-form:not([data-action-form]) .mdc-floating-label--float-above,
      ha-form:not([data-action-form]) label[for],
      ha-form:not([data-action-form]) .ha-form-label,
      ha-form:not([data-action-form]) .form-label {
        display: none !important;
      }

      /* Hide labels containing underscores only for non-action forms */
      ha-form:not([data-action-form]) label[data-label*='_'],
      ha-form:not([data-action-form]) .label-text:contains('_'),
      :not([data-action-form]) label:contains('_') {
        display: none !important;
      }

      /* Additional safeguards for underscore labels in non-action forms */
      ha-form:not([data-action-form]) .mdc-text-field-character-counter,
      ha-form:not([data-action-form]) .mdc-text-field-helper-text,
      ha-form:not([data-action-form]) mwc-formfield,
      ha-form:not([data-action-form]) .formfield {
        display: none !important;
      }

      /* GLOBAL DROPDOWN POSITIONING FIXES - All Modules */
      /* These fixes ensure ha-select dropdowns render properly across all modules */
      ha-select {
        position: relative !important;
        overflow: visible !important;
        z-index: 9999 !important;
      }

      /* Ensure dropdown menus are visible and above other content */
      ha-select .mdc-select__menu,
      ha-select mwc-menu,
      ha-select .mdc-menu,
      ha-select ha-menu {
        z-index: 10001 !important;
        max-height: 300px !important;
        overflow-y: auto !important;
      }

      /* Ensure ha-form containers allow dropdown overflow */
      ha-form {
        overflow: visible !important;
        position: relative;
        z-index: 1;
      }

      /* Specific fixes for nested form contexts */
      .settings-section ha-form,
      .field-section ha-form,
      .module-general-settings ha-form,
      .module-tab-content ha-form {
        overflow: visible !important;
        position: relative;
        z-index: 1;
      }

      /* Ensure all select elements in forms have proper positioning */
      .settings-section ha-select,
      .field-section ha-select,
      .module-general-settings ha-select,
      .module-tab-content ha-select,
      ha-form ha-select {
        position: relative !important;
        overflow: visible !important;
        z-index: 9999 !important;
      }

      /* Fix for conditional fields and nested containers */
      .conditional-fields-content ha-select,
      .icon-settings-container ha-select,
      details ha-select {
        position: relative !important;
        overflow: visible !important;
        z-index: 9999 !important;
      }

      /* Ensure dropdown menus in nested contexts are properly positioned */
      .conditional-fields-content ha-select .mdc-select__menu,
      .conditional-fields-content ha-select mwc-menu,
      .icon-settings-container ha-select .mdc-select__menu,
      .icon-settings-container ha-select mwc-menu,
      details ha-select .mdc-select__menu,
      details ha-select mwc-menu {
        position: fixed !important; /* fixed to avoid clipping inside scrollable containers */
        z-index: 10001 !important;
        max-height: 300px !important;
        overflow-y: auto !important;
      }

      /* Mobile responsive adjustments */
      @media (max-width: 768px) {
        .card-config {
          padding: 8px;
        }

        /* Hide fullscreen toggle on mobile as additional safeguard */
        .fullscreen-toggle {
          display: none !important;
        }
      }

      .tabs {
        display: flex;
        border-bottom: 2px solid var(--divider-color);
        margin-bottom: 16px;
      }

      .tab {
        background: none;
        border: none;
        padding: 12px 16px;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 14px;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
        flex: 1;
        text-align: center;
      }

      .tab:hover {
        color: var(--primary-color);
      }

      .tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
      }

      .fullscreen-toggle {
        background: none;
        border: none;
        padding: 8px 12px;
        cursor: pointer;
        color: var(--secondary-text-color);
        margin-left: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 6px;
        transition: var(--ultra-editor-transition);
        position: relative;
        min-width: 40px;
        height: 40px;
        gap: 6px;
      }

      .fullscreen-toggle:hover {
        background: var(--divider-color);
        color: var(--primary-color);
      }

      .fullscreen-toggle:active {
        transform: scale(0.95);
      }

      /* Active fullscreen state - Dashboard button styling */
      .card-config.fullscreen .fullscreen-toggle {
        background: rgba(var(--rgb-primary-color), 0.1);
        color: var(--primary-color);
        border: 1px solid rgba(var(--rgb-primary-color), 0.2);
        padding: 8px 16px;
        min-width: auto;
        height: auto;
      }

      .card-config.fullscreen .fullscreen-toggle:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
        transform: translateX(-2px);
      }

      .arrow-icon {
        width: 20px;
        height: 20px;
        fill: currentColor;
        transition: var(--ultra-editor-transition);
        flex-shrink: 0;
      }

      .dashboard-text {
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
      }

      .tab-content {
        min-height: 400px;
        transition: var(--ultra-editor-transition);
      }

      /* Full screen mode tab content */
      .card-config.fullscreen .tab-content {
        min-height: calc(100vh - 120px);
      }

      .settings-tab {
        padding: 12px;
        background: var(--card-background-color);
        border-radius: 8px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .settings-header {
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--divider-color);
      }

      .settings-header h3 {
        margin: 0 0 8px 0;
        color: var(--primary-text-color);
        font-size: 18px;
        font-weight: 600;
      }

      .settings-header p {
        margin: 0;
        color: var(--secondary-text-color);
        font-size: 14px;
        line-height: 1.4;
      }

      .settings-container {
        display: flex;
        flex-direction: column;
        gap: 24px;
        flex: 1;
      }

      .settings-section {
        background: var(--secondary-background-color);
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        padding: 20px;
        box-sizing: border-box;
      }

      .section-header {
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);
      }

      .section-header h4 {
        margin: 0 0 6px 0;
        color: var(--primary-text-color);
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .section-header p {
        margin: 0;
        color: var(--secondary-text-color);
        font-size: 13px;
        line-height: 1.4;
      }

      .settings-grid {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .setting-item {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .setting-item label {
        color: var(--primary-text-color);
        font-size: 14px;
        font-weight: 500;
        margin: 0;
      }

      .setting-description {
        color: var(--secondary-text-color);
        font-size: 12px;
        line-height: 1.3;
        margin-bottom: 4px;
      }

      .input-with-unit {
        display: flex;
        align-items: center;
        gap: 8px;
        max-width: 200px;
      }

      .input-with-unit input {
        flex: 1;
        padding: 10px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        transition: all 0.2s ease;
        min-width: 0;
      }

      .input-with-unit input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
      }

      .input-with-unit .unit {
        color: var(--secondary-text-color);
        font-size: 12px;
        font-weight: 500;
        min-width: 20px;
        text-align: center;
      }

      .reset-btn {
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        color: var(--secondary-text-color);
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        padding: 0;
        flex-shrink: 0;
      }

      .reset-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
        transform: scale(1.05);
      }

      .reset-btn:active {
        transform: scale(0.95);
      }

      .setting-item ultra-color-picker {
        max-width: 300px;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .settings-tab {
          padding: 16px 12px;
        }

        .settings-section {
          padding: 16px;
        }

        .settings-grid {
          gap: 16px;
        }
      }

      /* Full screen mode responsive behavior for builder columns */
      .card-config.fullscreen {
        /* Allow horizontal layout components to display side by side */
        ::slotted(ultra-layout-tab) {
          --layout-columns-display: flex;
          --layout-columns-direction: row;
          --layout-columns-gap: 16px;
        }

        /* Style for layout builder in full screen */
        ultra-layout-tab {
          --columns-layout: horizontal;
        }
      }

      /* Default preview mode - stack columns vertically */
      .card-config:not(.fullscreen) {
        ::slotted(ultra-layout-tab) {
          --layout-columns-display: flex;
          --layout-columns-direction: column;
          --layout-columns-gap: 12px;
        }

        ultra-layout-tab {
          --columns-layout: vertical;
        }
      }

      /* Enhanced mobile behavior */
      @media (max-width: 768px) {
        .card-config.fullscreen {
          width: 100vw;
          height: 100vh;
          padding: 12px;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 9999;
          background: var(--card-background-color);
        }

        .fullscreen-toggle {
          padding: 6px 10px;
          min-width: 36px;
          height: 36px;
        }

        .arrow-icon {
          width: 16px;
          height: 16px;
        }
      }
    `}};b([(0,r.MZ)({attribute:!1})],f.prototype,"hass",void 0),b([(0,r.MZ)({attribute:!1})],f.prototype,"config",void 0),b([(0,r.wk)()],f.prototype,"_activeTab",void 0),b([(0,r.wk)()],f.prototype,"_configDebounceTimeout",void 0),b([(0,r.wk)()],f.prototype,"_isFullScreen",void 0),b([(0,r.wk)()],f.prototype,"_isMobile",void 0),f=b([(0,r.EM)("ultra-card-editor")],f);var y=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let k=class extends a.WF{constructor(){super(...arguments),this._moduleVisibilityState=new Map,this._animatingModules=new Set,this._rowVisibilityState=new Map,this._columnVisibilityState=new Map,this._animatingRows=new Set,this._animatingColumns=new Set,this._lastHassChangeTime=0,this._moduleStylesInjected=!1}connectedCallback(){super.connectedCallback(),this._injectModuleStyles(),p.k.injectHoverEffectStyles(this.shadowRoot),this._templateUpdateListener=()=>{this.requestUpdate()},window.addEventListener("ultra-card-template-update",this._templateUpdateListener)}disconnectedCallback(){super.disconnectedCallback(),p.k.removeHoverEffectStyles(this.shadowRoot),this._templateUpdateListener&&window.removeEventListener("ultra-card-template-update",this._templateUpdateListener)}willUpdate(e){if(e.has("config")){const t=e.get("config"),i=this.config;t&&JSON.stringify(t.layout)===JSON.stringify(null==i?void 0:i.layout)||(this._moduleVisibilityState.clear(),this._animatingModules.clear(),this._rowVisibilityState.clear(),this._columnVisibilityState.clear(),this._animatingRows.clear(),this._animatingColumns.clear()),this.requestUpdate();const n=null==i?void 0:i.card_border_radius;null!=n?this.style.setProperty("--ha-card-border-radius",`${n}px`):this.style.removeProperty("--ha-card-border-radius")}if(e.has("hass")){const e=Date.now();e-this._lastHassChangeTime>100&&(this._lastHassChangeTime=e,this.hass&&d.S.setHass(this.hass),this.requestUpdate())}}setConfig(e){if(!e)throw new Error("Invalid configuration");const t=u.validateAndCorrectConfig(e);if(!t.valid)throw console.error("❌ Ultra Card: Config validation failed",{errors:t.errors,warnings:t.warnings}),new Error(`Invalid configuration: ${t.errors.join(", ")}`);const i=u.validateUniqueModuleIds(t.correctedConfig);let n=t.correctedConfig;i.valid||(console.warn("⚠️  Ultra Card: Duplicate module IDs detected, fixing...",{duplicates:i.duplicates}),n=u.fixDuplicateModuleIds(n)),this.config=Object.assign({},n),this.requestUpdate()}static getConfigElement(){return document.createElement("ultra-card-editor")}static getStubConfig(){return{type:"custom:ultra-card",layout:{rows:[{id:"row1",columns:[{id:"col1",modules:[{type:"text",text:"Ultra Card",font_size:24,color:"#2196f3",alignment:"center"},{type:"image",image_type:"default",width:100,height:200,alignment:"center",border_radius:8,object_fit:"cover"}]}]}]}}}render(){if(!this.config||!this.hass)return a.qy`<div>Loading...</div>`;const e=this._getCardStyle();return this.config.layout&&this.config.layout.rows&&0!==this.config.layout.rows.length?a.qy`
      <div class="card-container" style="${e}">
        ${this.config.layout.rows.map((e=>this._renderRow(e)))}
      </div>
    `:a.qy`
        <div class="card-container" style="${e}">
          <div class="welcome-text">
            <h2>Ultra Card</h2>
            <p>Modular card builder for Home Assistant</p>
            <p>Configure using the visual editor</p>
          </div>
        </div>
      `}_getCardStyle(){if(!this.config)return"";const e=[];return this.config.card_background&&e.push(`background: ${this.config.card_background}`),void 0!==this.config.card_border_radius&&e.push(`border-radius: ${this.config.card_border_radius}px`),void 0!==this.config.card_padding&&e.push(`padding: ${this.config.card_padding}px`),void 0!==this.config.card_margin&&e.push(`margin: ${this.config.card_margin}px`),e.join("; ")}_renderRow(e){var t,i,n,o,r,l,s,c,u,g;this.hass&&d.S.setHass(this.hass);const m=d.S.evaluateRowVisibility(e),_=e,h=d.S.evaluateLogicProperties({logic_entity:null===(t=_.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=_.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(n=_.design)||void 0===n?void 0:n.logic_operator,logic_value:null===(o=_.design)||void 0===o?void 0:o.logic_value});if(!m||!h)return a.qy``;const v=e.id||`row-${Math.random()}`,b=this._rowVisibilityState.get(v),f=!0,y=(null===(r=e.design)||void 0===r?void 0:r.intro_animation)||"none",k=(null===(l=e.design)||void 0===l?void 0:l.outro_animation)||"none",x=(null===(s=e.design)||void 0===s?void 0:s.animation_duration)||"2s",w=(null===(c=e.design)||void 0===c?void 0:c.animation_delay)||"0s",$=(null===(u=e.design)||void 0===u?void 0:u.animation_timing)||"ease",z=this._getStateBasedAnimationClass(e.design);let S="",C=!1;const A=this._animatingRows.has(v);z?S=z:void 0!==b&&b!==f?"none"!==y&&(A?S=`animation-${y}`:(S=`animation-${y}`,C=!0,this._animatingRows.add(v),setTimeout((()=>{this._animatingRows.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w)))):void 0===b&&"none"!==y?(S=`animation-${y}`,C=!0,this._animatingRows.add(v),setTimeout((()=>{this._animatingRows.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w))):A&&"none"!==y&&(S=`animation-${y}`),this._rowVisibilityState.set(v,f);const j=this._generateRowStyles(e),T=null===(g=e.design)||void 0===g?void 0:g.hover_effect,I=p.k.getHoverEffectClass(T),E=a.qy`
      <div class="card-row ${I}" style=${j}>
        ${e.columns.map((e=>this._renderColumn(e)))}
      </div>
    `;return S||"none"!==y||"none"!==k||z?a.qy`
        <div
          class="row-animation-wrapper ${S}"
          style="
            --animation-duration: ${x};
            --animation-delay: ${w};
            --animation-timing: ${$};
          "
        >
          ${E}
        </div>
      `:E}_renderColumn(e){var t,i,n,o,r,l,s,c,u,g;const m=d.S.evaluateColumnVisibility(e),_=e,h=d.S.evaluateLogicProperties({logic_entity:null===(t=_.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=_.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(n=_.design)||void 0===n?void 0:n.logic_operator,logic_value:null===(o=_.design)||void 0===o?void 0:o.logic_value});if(!m||!h)return a.qy``;const v=e.id||`column-${Math.random()}`,b=this._columnVisibilityState.get(v),f=!0,y=(null===(r=e.design)||void 0===r?void 0:r.intro_animation)||"none",k=(null===(l=e.design)||void 0===l?void 0:l.outro_animation)||"none",x=(null===(s=e.design)||void 0===s?void 0:s.animation_duration)||"2s",w=(null===(c=e.design)||void 0===c?void 0:c.animation_delay)||"0s",$=(null===(u=e.design)||void 0===u?void 0:u.animation_timing)||"ease",z=this._getStateBasedAnimationClass(e.design);let S="",C=!1;const A=this._animatingColumns.has(v);z?S=z:void 0!==b&&b!==f?"none"!==y&&(A?S=`animation-${y}`:(S=`animation-${y}`,C=!0,this._animatingColumns.add(v),setTimeout((()=>{this._animatingColumns.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w)))):void 0===b&&"none"!==y?(S=`animation-${y}`,C=!0,this._animatingColumns.add(v),setTimeout((()=>{this._animatingColumns.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w))):A&&"none"!==y&&(S=`animation-${y}`),this._columnVisibilityState.set(v,f);const j=this._generateColumnStyles(e),T=null===(g=e.design)||void 0===g?void 0:g.hover_effect,I=p.k.getHoverEffectClass(T),E=a.qy`
      <div class="card-column ${I}" style=${j}>
        ${e.modules.map((e=>this._renderModule(e)))}
      </div>
    `;return S||"none"!==y||"none"!==k||z?a.qy`
        <div
          class="column-animation-wrapper ${S}"
          style="
            --animation-duration: ${x};
            --animation-delay: ${w};
            --animation-timing: ${$};
          "
        >
          ${E}
        </div>
      `:E}_renderModule(e){var t,i,n,o,r,s,c,u,g,m,_,h,v,b,f;const y=d.S.evaluateModuleVisibility(e),k=e,x=d.S.evaluateLogicProperties({logic_entity:null===(t=k.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=k.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(n=k.design)||void 0===n?void 0:n.logic_operator,logic_value:null===(o=k.design)||void 0===o?void 0:o.logic_value}),w=y&&x,$=e.id||`${e.type}-${Math.random()}`,z=this._moduleVisibilityState.get($),S=this._animatingModules.has($),C=k.intro_animation||(null===(r=k.design)||void 0===r?void 0:r.intro_animation)||"none",A=k.outro_animation||(null===(s=k.design)||void 0===s?void 0:s.outro_animation)||"none",j=k.animation_duration||(null===(c=k.design)||void 0===c?void 0:c.animation_duration)||"2s",T=k.animation_delay||(null===(u=k.design)||void 0===u?void 0:u.animation_delay)||"0s",I=k.animation_timing||(null===(g=k.design)||void 0===g?void 0:g.animation_timing)||"ease",E=k.animation_type||(null===(m=k.design)||void 0===m?void 0:m.animation_type),P=k.animation_entity||(null===(_=k.design)||void 0===_?void 0:_.animation_entity),M=k.animation_trigger_type||(null===(h=k.design)||void 0===h?void 0:h.animation_trigger_type)||"state",L=k.animation_attribute||(null===(v=k.design)||void 0===v?void 0:v.animation_attribute),D=k.animation_state||(null===(b=k.design)||void 0===b?void 0:b.animation_state);let R=!1;if(E&&"none"!==E)if(P){if(D&&this.hass){const e=this.hass.states[P];if(e)if("attribute"===M&&L){const t=e.attributes[L];R=String(t)===D}else R=e.state===D}}else R=!0;let O="",V=!1;if(R&&"none"!==E?O=`animation-${E}`:void 0!==z&&z!==w?w&&"none"!==C?S?O=`animation-${C}`:(O=`animation-${C}`,V=!0,this._animatingModules.add($),setTimeout((()=>{this._animatingModules.delete($),this.requestUpdate()}),this._parseAnimationDuration(j)+this._parseAnimationDuration(T))):w||"none"===A||(S?O=`animation-${A}`:(O=`animation-${A}`,V=!0,this._animatingModules.add($),setTimeout((()=>{this._animatingModules.delete($),this.requestUpdate()}),this._parseAnimationDuration(j)+this._parseAnimationDuration(T)))):void 0===z&&w&&"none"!==C?(O=`animation-${C}`,V=!0,this._animatingModules.add($),setTimeout((()=>{this._animatingModules.delete($),this.requestUpdate()}),this._parseAnimationDuration(j)+this._parseAnimationDuration(T))):S&&(w&&"none"!==C?O=`animation-${C}`:w||"none"===A||(O=`animation-${A}`)),this._moduleVisibilityState.set($,w),!w&&!S&&!V)return a.qy``;const B=(0,l.oD)().getModule(e.type);let N;N=B&&this.hass?B.renderPreview(e,this.hass):a.qy`
        <div class="unknown-module">
          <span>Unknown Module: ${e.type}</span>
        </div>
      `;const H=null===(f=k.design)||void 0===f?void 0:f.hover_effect,U=p.k.getHoverEffectClass(H);return O||"none"!==C||"none"!==A||R?a.qy`
        <div
          class="module-animation-wrapper ${O} ${U}"
          style="
            --animation-duration: ${j};
            --animation-delay: ${T};
            --animation-timing: ${I};
          "
        >
          ${N}
        </div>
      `:U?a.qy` <div class="module-hover-wrapper ${U}">${N}</div> `:N}_parseAnimationDuration(e){const t=e.match(/^(\d*\.?\d+)(s|ms)?$/);if(!t)return 300;const i=parseFloat(t[1]),n=t[2];return n?"s"===n?1e3*i:i:1e3*i}_getStateBasedAnimationClass(e){if(!e)return"";const t=e.animation_type,i=e.animation_entity,n=e.animation_trigger_type||"state",o=e.animation_attribute,a=e.animation_state;if(!t||"none"===t)return"";if(!i)return`animation-${t}`;if(!a||!this.hass)return"";const r=this.hass.states[i];if(!r)return"";let l=!1;if("attribute"===n&&o){const e=r.attributes[o];l=String(e)===a}else l=r.state===a;return l?`animation-${t}`:""}_countTotalModules(e){return e.layout&&e.layout.rows?e.layout.rows.reduce(((e,t)=>e+t.columns.reduce(((e,t)=>e+t.modules.length),0)),0):0}_getGridTemplateColumns(e,t){return{"1-col":"1fr","1-2-1-2":"1fr 1fr","1-3-2-3":"1fr 2fr","2-3-1-3":"2fr 1fr","2-5-3-5":"2fr 3fr","3-5-2-5":"3fr 2fr","1-3-1-3-1-3":"1fr 1fr 1fr","1-4-1-2-1-4":"1fr 2fr 1fr","1-5-3-5-1-5":"1fr 3fr 1fr","1-6-2-3-1-6":"1fr 4fr 1fr","1-4-1-4-1-4-1-4":"1fr 1fr 1fr 1fr","1-5-1-5-1-5-1-5":"1fr 1fr 1fr 1fr","1-6-1-6-1-6-1-6":"1fr 1fr 1fr 1fr","1-8-1-4-1-4-1-8":"1fr 2fr 2fr 1fr","1-5-1-5-1-5-1-5-1-5":"1fr 1fr 1fr 1fr 1fr","1-6-1-6-1-3-1-6-1-6":"1fr 1fr 2fr 1fr 1fr","1-8-1-4-1-4-1-4-1-8":"1fr 2fr 2fr 2fr 1fr","1-6-1-6-1-6-1-6-1-6-1-6":"1fr 1fr 1fr 1fr 1fr 1fr","50-50":"1fr 1fr","30-70":"3fr 7fr","70-30":"7fr 3fr","40-60":"4fr 6fr","60-40":"6fr 4fr","33-33-33":"1fr 1fr 1fr","25-50-25":"1fr 2fr 1fr","20-60-20":"1fr 3fr 1fr","25-25-25-25":"1fr 1fr 1fr 1fr"}[e]||`repeat(${t}, 1fr)`}_addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_generateRowStyles(e){const t=e.design||{},i=(e=>{switch(e){case"top":return"start";case"bottom":return"end";case"middle":return"center";default:return}})(e.column_alignment),n=(e=>{switch(e){case"start":return"start";case"end":return"end";case"center":return"center";case"stretch":return"stretch";default:return}})(e.content_alignment),o={display:"grid",gridTemplateColumns:this._getGridTemplateColumns(e.column_layout||"1-col",e.columns.length),gap:`${e.gap||16}px`};void 0!==i&&(o.alignItems=i),void 0!==n&&(o.justifyItems=n);const a={padding:t.padding_top||t.padding_bottom||t.padding_left||t.padding_right?`${t.padding_top||"0"} ${t.padding_right||"0"} ${t.padding_bottom||"0"} ${t.padding_left||"0"}`:e.padding?`${e.padding}px`:void 0,margin:t.margin_top||t.margin_bottom||t.margin_left||t.margin_right?`${t.margin_top||"0"} ${t.margin_right||"0"} ${t.margin_bottom||"0"} ${t.margin_left||"0"}`:e.margin?`${e.margin}px`:void 0,background:t.background_color||e.background_color||"transparent",backgroundImage:this._resolveBackgroundImageCSS(t),backgroundSize:t.background_size||(t.background_image?"cover":void 0),backgroundPosition:t.background_position||(t.background_image?"center":void 0),backgroundRepeat:t.background_repeat||(t.background_image?"no-repeat":void 0),border:t.border_style&&"none"!==t.border_style?`${t.border_width||"1px"} ${t.border_style} ${t.border_color||"var(--divider-color)"}`:"none",borderRadius:this._addPixelUnit(t.border_radius)||(e.border_radius?`${e.border_radius}px`:"0"),position:t.position||"inherit",top:t.top||"auto",bottom:t.bottom||"auto",left:t.left||"auto",right:t.right||"auto",zIndex:t.z_index||"auto",width:t.width||"100%",height:t.height||"auto",maxWidth:t.max_width||"none",maxHeight:t.max_height||"none",minWidth:t.min_width||"none",minHeight:t.min_height||"auto",overflow:t.overflow||"visible",clipPath:t.clip_path||"none",backdropFilter:t.backdrop_filter||"none",boxShadow:t.box_shadow_h&&t.box_shadow_v?`${t.box_shadow_h||"0"} ${t.box_shadow_v||"0"} ${t.box_shadow_blur||"0"} ${t.box_shadow_spread||"0"} ${t.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},r=Object.assign(Object.assign({},o),a),l=Object.fromEntries(Object.entries(r).filter((([e,t])=>void 0!==t)));return this._styleObjectToCss(l)}_generateColumnStyles(e){const t=e.design||{},i={display:"flex",flexDirection:"column",gap:"8px"};e.horizontal_alignment&&(i.alignItems="left"===e.horizontal_alignment?"flex-start":"right"===e.horizontal_alignment?"flex-end":"stretch"===e.horizontal_alignment?"stretch":"center"),e.vertical_alignment&&(i.justifyContent="top"===e.vertical_alignment?"flex-start":"bottom"===e.vertical_alignment?"flex-end":"stretch"===e.vertical_alignment?"stretch":"center");const n={padding:t.padding_top||t.padding_bottom||t.padding_left||t.padding_right?`${t.padding_top||"0"} ${t.padding_right||"0"} ${t.padding_bottom||"0"} ${t.padding_left||"0"}`:e.padding?`${e.padding}px`:void 0,margin:t.margin_top||t.margin_bottom||t.margin_left||t.margin_right?`${t.margin_top||"0"} ${t.margin_right||"0"} ${t.margin_bottom||"0"} ${t.margin_left||"0"}`:e.margin?`${e.margin}px`:void 0,background:t.background_color||e.background_color||"transparent",backgroundImage:this._resolveBackgroundImageCSS(t),backgroundSize:t.background_size||(t.background_image?"cover":void 0),backgroundPosition:t.background_position||(t.background_image?"center":void 0),backgroundRepeat:t.background_repeat||(t.background_image?"no-repeat":void 0),border:t.border_style&&"none"!==t.border_style?`${t.border_width||"1px"} ${t.border_style} ${t.border_color||"var(--divider-color)"}`:"none",borderRadius:this._addPixelUnit(t.border_radius)||(e.border_radius?`${e.border_radius}px`:"0"),position:t.position||"inherit",top:t.top||"auto",bottom:t.bottom||"auto",left:t.left||"auto",right:t.right||"auto",zIndex:t.z_index||"auto",width:t.width||"100%",height:t.height||"auto",maxWidth:t.max_width||"none",maxHeight:t.max_height||"none",minWidth:t.min_width||"none",minHeight:t.min_height||"auto",overflow:t.overflow||"visible",clipPath:t.clip_path||"none",backdropFilter:t.backdrop_filter||"none",boxShadow:t.box_shadow_h&&t.box_shadow_v?`${t.box_shadow_h||"0"} ${t.box_shadow_v||"0"} ${t.box_shadow_blur||"0"} ${t.box_shadow_spread||"0"} ${t.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},o=Object.assign(Object.assign({},i),n),a=Object.fromEntries(Object.entries(o).filter((([e,t])=>void 0!==t)));return this._styleObjectToCss(a)}_resolveBackgroundImageCSS(e){var t,i;const n=this.hass,o=null==e?void 0:e.background_image_type,a=null==e?void 0:e.background_image;if(!o||"none"===o)return a?`url("${n?(0,s.V)(n,a):a}")`:"none";if("upload"===o||"url"===o)return a?`url("${n?(0,s.V)(n,a):a}")`:"none";if("entity"===o){const o=null==e?void 0:e.background_image_entity;if(o&&n&&n.states[o]){const e=n.states[o];let a="";if((null===(t=e.attributes)||void 0===t?void 0:t.entity_picture)?a=e.attributes.entity_picture:(null===(i=e.attributes)||void 0===i?void 0:i.image)?a=e.attributes.image:"string"==typeof e.state&&(a=e.state),a)return`url("${(0,s.V)(n,a)}")`}return"none"}return"none"}_styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}_injectModuleStyles(){if(this._moduleStylesInjected||!this.shadowRoot)return;const e=(0,l.oD)().getAllModuleStyles();if(e.trim().length>0){const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t),this._moduleStylesInjected=!0}}static get styles(){return a.AH`
      :host {
        display: block;
      }

      .card-container {
        background: var(--card-background-color, var(--ha-card-background, white));
        border-radius: var(--ha-card-border-radius, 8px);
        box-shadow: var(--ha-card-box-shadow, 0 2px 4px rgba(0, 0, 0, 0.1));
        padding: 16px;
        transition: all 0.3s ease;
      }

      .welcome-text {
        text-align: center;
        padding: 24px;
      }

      .welcome-text h2 {
        margin: 0 0 16px 0;
        color: var(--primary-text-color);
      }

      .welcome-text p {
        margin: 8px 0;
        color: var(--secondary-text-color);
      }

      .card-row {
        margin-bottom: 16px;
      }

      .card-row:last-child {
        margin-bottom: 0;
      }

      .card-column {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .unknown-module {
        padding: 16px;
        background: var(--error-color);
        color: white;
        border-radius: 4px;
        text-align: center;
        font-size: 14px;
      }

      /* Animation Wrappers */
      .module-animation-wrapper,
      .row-animation-wrapper,
      .column-animation-wrapper {
        animation-duration: var(--animation-duration, 2s);
        animation-delay: var(--animation-delay, 0s);
        animation-timing-function: var(--animation-timing, ease);
        animation-fill-mode: both;
        /* Inherit width from content */
        display: inherit;
        width: inherit;
        height: inherit;
        flex: inherit;
      }

      /* Intro Animations */
      .animation-fadeIn {
        animation-name: fadeIn;
      }

      .animation-slideInUp {
        animation-name: slideInUp;
      }

      .animation-slideInDown {
        animation-name: slideInDown;
      }

      .animation-slideInLeft {
        animation-name: slideInLeft;
      }

      .animation-slideInRight {
        animation-name: slideInRight;
      }

      .animation-zoomIn {
        animation-name: zoomIn;
      }

      .animation-bounceIn {
        animation-name: bounceIn;
      }

      .animation-flipInX {
        animation-name: flipInX;
      }

      .animation-flipInY {
        animation-name: flipInY;
      }

      .animation-rotateIn {
        animation-name: rotateIn;
      }

      /* Outro Animations */
      .animation-fadeOut {
        animation-name: fadeOut;
      }

      .animation-slideOutUp {
        animation-name: slideOutUp;
      }

      .animation-slideOutDown {
        animation-name: slideOutDown;
      }

      .animation-slideOutLeft {
        animation-name: slideOutLeft;
      }

      .animation-slideOutRight {
        animation-name: slideOutRight;
      }

      .animation-zoomOut {
        animation-name: zoomOut;
      }

      .animation-bounceOut {
        animation-name: bounceOut;
      }

      .animation-flipOutX {
        animation-name: flipOutX;
      }

      .animation-flipOutY {
        animation-name: flipOutY;
      }

      .animation-rotateOut {
        animation-name: rotateOut;
      }

      /* State-based Animations */
      .animation-pulse {
        animation-name: pulse;
        animation-iteration-count: infinite;
      }

      .animation-vibrate {
        animation-name: vibrate;
        animation-iteration-count: infinite;
      }

      .animation-rotate-left {
        animation-name: rotateLeft;
        animation-iteration-count: infinite;
      }

      .animation-rotate-right {
        animation-name: rotateRight;
        animation-iteration-count: infinite;
      }

      .animation-hover {
        animation-name: hover;
        animation-iteration-count: infinite;
      }

      .animation-fade {
        animation-name: fadeInOut;
        animation-iteration-count: infinite;
      }

      .animation-scale {
        animation-name: scale;
        animation-iteration-count: infinite;
      }

      .animation-bounce {
        animation-name: bounce;
        animation-iteration-count: infinite;
      }

      .animation-shake {
        animation-name: shake;
        animation-iteration-count: infinite;
      }

      .animation-tada {
        animation-name: tada;
        animation-iteration-count: infinite;
      }

      /* Animation Keyframes */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      @keyframes slideInUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes zoomIn {
        from {
          transform: scale(0);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes flipInX {
        from {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
        to {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
      }

      @keyframes flipInY {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        to {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
      }

      @keyframes rotateIn {
        from {
          transform: rotate(-200deg);
          opacity: 0;
        }
        to {
          transform: rotate(0deg);
          opacity: 1;
        }
      }

      @keyframes slideOutUp {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      @keyframes slideOutDown {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(100%);
          opacity: 0;
        }
      }

      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes zoomOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0);
          opacity: 0;
        }
      }

      @keyframes bounceOut {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        25% {
          transform: scale(0.95);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(0);
          opacity: 0;
        }
      }

      @keyframes flipOutX {
        from {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
      }

      @keyframes flipOutY {
        from {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
      }

      @keyframes rotateOut {
        from {
          transform: rotate(0deg);
          opacity: 1;
        }
        to {
          transform: rotate(200deg);
          opacity: 0;
        }
      }

      /* State-based Animation Keyframes */
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes vibrate {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-2px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(2px);
        }
      }

      @keyframes rotateLeft {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(-360deg);
        }
      }

      @keyframes rotateRight {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes hover {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      @keyframes scale {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        53%,
        80%,
        100% {
          transform: translateY(0);
        }
        40%,
        43% {
          transform: translateY(-15px);
        }
        70% {
          transform: translateY(-7px);
        }
        90% {
          transform: translateY(-3px);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-5px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(5px);
        }
      }

      @keyframes tada {
        0% {
          transform: scale(1);
        }
        10%,
        20% {
          transform: scale(0.9) rotate(-3deg);
        }
        30%,
        50%,
        70%,
        90% {
          transform: scale(1.1) rotate(3deg);
        }
        40%,
        60%,
        80% {
          transform: scale(1.1) rotate(-3deg);
        }
        100% {
          transform: scale(1) rotate(0);
        }
      }

      @keyframes slideOutUp {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideOutDown {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(100%);
          opacity: 0;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes zoomIn {
        from {
          transform: scale(0.3);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes zoomOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounceOut {
        20% {
          transform: scale(0.9);
        }
        50%,
        55% {
          transform: scale(1.05);
          opacity: 1;
        }
        100% {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes flipInX {
        from {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateX(-20deg);
        }
        60% {
          transform: perspective(400px) rotateX(10deg);
        }
        80% {
          transform: perspective(400px) rotateX(-5deg);
        }
        to {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutX {
        from {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
      }

      @keyframes flipInY {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateY(-20deg);
        }
        60% {
          transform: perspective(400px) rotateY(10deg);
        }
        80% {
          transform: perspective(400px) rotateY(-5deg);
        }
        to {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutY {
        from {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
      }

      @keyframes rotateIn {
        from {
          transform: rotate(-200deg);
          opacity: 0;
        }
        to {
          transform: rotate(0);
          opacity: 1;
        }
      }

      @keyframes rotateOut {
        from {
          transform: rotate(0);
          opacity: 1;
        }
        to {
          transform: rotate(200deg);
          opacity: 0;
        }
      }
    `}};y([(0,r.MZ)({attribute:!1})],k.prototype,"hass",void 0),y([(0,r.MZ)({attribute:!1,type:Object})],k.prototype,"config",void 0),y([(0,r.wk)()],k.prototype,"_moduleVisibilityState",void 0),y([(0,r.wk)()],k.prototype,"_animatingModules",void 0),y([(0,r.wk)()],k.prototype,"_rowVisibilityState",void 0),y([(0,r.wk)()],k.prototype,"_columnVisibilityState",void 0),y([(0,r.wk)()],k.prototype,"_animatingRows",void 0),y([(0,r.wk)()],k.prototype,"_animatingColumns",void 0),k=y([(0,r.EM)("ultra-card")],k),setTimeout((()=>{if(!customElements.get("ultra-card"))try{customElements.define("ultra-card",k)}catch(e){}}),0);var x=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r};let w=class extends a.WF{constructor(){super(...arguments),this.value="",this.label="Navigation Target",this.disabled=!1}_valueChanged(e){const t=e.detail.value;this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:t},bubbles:!0,composed:!0}))}render(){return a.qy`
      <div class="navigation-picker">
        ${this.label?a.qy`<label class="label">${this.label}</label>`:""}
        ${this.helper?a.qy`<div class="helper">${this.helper}</div>`:""}

        <ha-selector
          .hass=${this.hass}
          .selector=${{navigation:{}}}
          .value=${this.value}
          .disabled=${this.disabled}
          @value-changed=${this._valueChanged}
        ></ha-selector>
      </div>
    `}};w.styles=a.AH`
    :host {
      display: block;
    }

    .navigation-picker {
      width: 100%;
    }

    .label {
      display: block;
      font-weight: 500;
      color: var(--primary-text-color);
      margin-bottom: 8px;
    }

    .helper {
      font-size: 12px;
      color: var(--secondary-text-color);
      margin-bottom: 8px;
    }

    ha-selector {
      width: 100%;
      display: block;
    }
  `,x([(0,r.MZ)({attribute:!1})],w.prototype,"hass",void 0),x([(0,r.MZ)()],w.prototype,"value",void 0),x([(0,r.MZ)()],w.prototype,"label",void 0),x([(0,r.MZ)()],w.prototype,"helper",void 0),x([(0,r.MZ)({type:Boolean})],w.prototype,"disabled",void 0),w=x([(0,r.EM)("ultra-navigation-picker")],w);const $=(0,l.oD)().getRegistryStats().totalModules;console.info(`%c 🚀 Ultra Card %c v${m} %c ${$} modules `,"color: #fff; background:#03a9f4; font-weight:700; padding:3px 8px; border-radius:14px 0 0 14px;","color: #fff; background:#555555; font-weight:700; padding:3px 8px; border-radius:0 14px 14px 0; margin-right:6px;","color: #fff; background:#2e7d32; font-weight:700; padding:3px 10px; border-radius:14px;"),window.customCards=window.customCards||[],window.customCards.push({type:"ultra-card",name:"Ultra Card",description:"A modular card system for Home Assistant with dynamic layouts and powerful customization options.",preview:!0,documentationURL:"https://github.com/WJDDesigns/Ultra-Card",version:m})})();