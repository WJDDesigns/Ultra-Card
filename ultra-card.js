/*! For license information please see ultra-card.js.LICENSE.txt */
(()=>{"use strict";var e,t,i={278:(e,t,i)=>{i.d(t,{O:()=>d});var o=i(5183),a=i(866),n=i(9662),r=i(2371),s=i(796),l=i(456);class d extends a.m{constructor(){super(...arguments),this.metadata={type:"separator",title:"Separator Module",description:"Visual dividers and spacing",author:"WJD Designs",version:"1.0.0",icon:"mdi:minus",category:"content",tags:["separator","divider","spacing","layout"]}}createDefault(e,t){return{id:e||this.generateId("separator"),type:"separator",separator_style:"line",orientation:"horizontal",thickness:2,width_percent:100,height_px:300,color:"#cccccc",show_title:!1,title:"",title_size:14,title_color:"var(--secondary-text-color)",title_bold:!1,title_italic:!1,title_uppercase:!1,title_strikethrough:!1,title_underline:!1,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},enable_hover_effect:!0,hover_background_color:"var(--divider-color, #cccccc)",display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const r=e,s=(null===(n=t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Separator Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,l.kg)("editor.separator.config.title",s,"Separator Configuration")}
          </div>

          <!-- Separator Style -->
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,l.kg)("editor.separator.style.title",s,"Separator Style")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
          >
            ${(0,l.kg)("editor.separator.style.desc",s,"Choose the visual style of the separator line.")}
          </div>
          ${this.renderUcForm(t,{separator_style:r.separator_style},[this.selectField("separator_style",[{value:"line",label:(0,l.kg)("editor.separator.options.solid",s,"Solid Line")},{value:"double_line",label:(0,l.kg)("editor.separator.options.double",s,"Double Line")},{value:"dotted",label:(0,l.kg)("editor.separator.options.dotted",s,"Dotted Line")},{value:"double_dotted",label:(0,l.kg)("editor.separator.options.double_dotted",s,"Double Dotted")},{value:"shadow",label:(0,l.kg)("editor.separator.options.shadow",s,"Shadow")},{value:"blank",label:(0,l.kg)("editor.separator.options.blank",s,"Blank Space")}])],(e=>{e.detail.value.separator_style!==r.separator_style&&(a(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}

          <!-- Orientation -->
          <div
            class="field-title"
            style="font-size: 16px; font-weight: 600; margin-bottom: 4px; margin-top: 24px;"
          >
            ${(0,l.kg)("editor.separator.orientation.title",s,"Orientation")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
          >
            ${(0,l.kg)("editor.separator.orientation.desc",s,"Choose whether the separator runs horizontally or vertically.")}
          </div>
          ${this.renderUcForm(t,{orientation:r.orientation},[this.selectField("orientation",[{value:"horizontal",label:(0,l.kg)("editor.separator.orientation.horizontal",s,"Horizontal")},{value:"vertical",label:(0,l.kg)("editor.separator.orientation.vertical",s,"Vertical")}])],(e=>{e.detail.value.orientation!==r.orientation&&(a(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
        </div>

        <!-- Appearance Configuration -->
        ${"blank"!==r.separator_style?o.qy`
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
              >
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
                >
                  ${(0,l.kg)("editor.separator.appearance.title",s,"Appearance")}
                </div>

                <!-- Thickness -->
                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">
                    ${(0,l.kg)("editor.separator.thickness",s,"Thickness (px)")}
                  </div>
                  <div class="field-description">
                    ${(0,l.kg)("editor.separator.thickness_desc",s,"Thickness of the separator line.")}
                  </div>
                  <div
                    class="gap-control-container"
                    style="display: flex; align-items: center; gap: 12px;"
                  >
                    <input
                      type="range"
                      class="gap-slider"
                      min="1"
                      max="20"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseFloat(t.value);a({thickness:i})}}
                    />
                    <input
                      type="number"
                      class="gap-input"
                      min="1"
                      max="20"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({thickness:i})}}
                      @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||1,o="ArrowUp"===e.key?1:-1,n=Math.max(1,Math.min(20,i+o));a({thickness:n})}}}
                    />
                    <button
                      class="reset-btn"
                      @click=${()=>a({thickness:1})}
                      title=${(0,l.kg)("editor.fields.reset_default_value",s,"Reset to default ({value})").replace("{value}","1")}
                    >
                      <ha-icon icon="mdi:refresh"></ha-icon>
                    </button>
                  </div>
                </div>

                <!-- Width/Height based on orientation -->
                ${"shadow"===r.separator_style||"blank"===r.separator_style?o.qy``:o.qy`
                      <div class="field-container" style="margin-bottom: 24px;">
                        <div class="field-title">
                          ${"vertical"===r.orientation?(0,l.kg)("editor.separator.height",s,"Height (px)"):(0,l.kg)("editor.separator.width",s,"Width (%)")}
                        </div>
                        <div class="field-description">
                          ${"vertical"===r.orientation?(0,l.kg)("editor.separator.height_desc",s,"Height of the separator in pixels."):(0,l.kg)("editor.separator.width_desc",s,"Width of the separator as percentage of container.")}
                        </div>
                        <div
                          class="gap-control-container"
                          style="display: flex; align-items: center; gap: 12px;"
                        >
                          ${"vertical"===r.orientation?o.qy`
                                <input
                                  type="range"
                                  class="gap-slider"
                                  min="50"
                                  max="1000"
                                  step="10"
                                  .value="${r.height_px||300}"
                                  @input=${e=>{const t=e.target,i=parseFloat(t.value);a({height_px:i})}}
                                />
                                <input
                                  type="number"
                                  class="gap-input"
                                  min="50"
                                  max="1000"
                                  step="10"
                                  .value="${r.height_px||300}"
                                  @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({height_px:i})}}
                                  @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||300,o="ArrowUp"===e.key?10:-10,n=Math.max(50,Math.min(1e3,i+o));a({height_px:n})}}}
                                />
                                <button
                                  class="reset-btn"
                                  @click=${()=>a({height_px:300})}
                                  title=${(0,l.kg)("editor.fields.reset_default_value",s,"Reset to default ({value})").replace("{value}","300")}
                                >
                                  <ha-icon icon="mdi:refresh"></ha-icon>
                                </button>
                              `:o.qy`
                                <input
                                  type="range"
                                  class="gap-slider"
                                  min="10"
                                  max="100"
                                  step="5"
                                  .value="${r.width_percent||100}"
                                  @input=${e=>{const t=e.target,i=parseFloat(t.value);a({width_percent:i})}}
                                />
                                <input
                                  type="number"
                                  class="gap-input"
                                  min="10"
                                  max="100"
                                  step="5"
                                  .value="${r.width_percent||100}"
                                  @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({width_percent:i})}}
                                  @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||100,o="ArrowUp"===e.key?5:-5,n=Math.max(10,Math.min(100,i+o));a({width_percent:n})}}}
                                />
                                <button
                                  class="reset-btn"
                                  @click=${()=>a({width_percent:100})}
                                  title=${(0,l.kg)("editor.fields.reset_default_value",s,"Reset to default ({value})").replace("{value}","100")}
                                >
                                  <ha-icon icon="mdi:refresh"></ha-icon>
                                </button>
                              `}
                        </div>
                      </div>
                    `}

                <!-- Color -->
                <div class="field-group">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,l.kg)("editor.separator.color.title",s,"Color")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                  >
                    ${(0,l.kg)("editor.separator.color.desc",s,"Color of the separator line.")}
                  </div>
                  <ultra-color-picker
                    .label=${""}
                    .value=${r.color||""}
                    .defaultValue=${"var(--divider-color, #cccccc)"}
                    .hass=${t}
                    @value-changed=${e=>a(e.detail.value)}
                  ></ultra-color-picker>
                </div>
              </div>
            `:""}
        ${"blank"!==r.separator_style?o.qy` <!-- Text in Separator -->
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
              >
                <div
                  style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
                >
                  <div
                    class="section-title"
                    style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px; margin-bottom: 0;"
                  >
                    ${(0,l.kg)("editor.separator.show_title",s,"Show Title")}
                  </div>
                  <ha-switch
                    .checked=${r.show_title||!1}
                    @change=${e=>{const t=e.target;a({show_title:t.checked})}}
                  ></ha-switch>
                </div>
                <div
                  class="field-description"
                  style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
                >
                  ${(0,l.kg)("editor.separator.show_title_desc",s,"Add text in the middle of the separator line (e.g., ------ Text ------)")}
                </div>

                ${r.show_title?o.qy`
                      <!-- Text Content -->
                      <div class="field-group" style="margin-bottom: 16px;">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                        >
                          ${(0,l.kg)("editor.separator.text_content.title",s,"Text Content")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                        >
                          ${(0,l.kg)("editor.separator.text_content.desc",s,"Text to display in the middle of the separator.")}
                        </div>
                        <ha-form
                          .hass=${t}
                          .data=${{title:r.title||""}}
                          .schema=${[{name:"title",selector:{text:{}},label:""}]}
                          @value-changed=${e=>a({title:e.detail.value.title})}
                        ></ha-form>
                      </div>

                      <!-- Font Size -->
                      <div class="field-container" style="margin-bottom: 24px;">
                        <div class="field-title">
                          ${(0,l.kg)("editor.separator.font_size",s,"Font Size")}
                        </div>
                        <div class="field-description">
                          ${(0,l.kg)("editor.separator.font_size_desc",s,"Size of the text in pixels.")}
                        </div>
                        <div
                          class="gap-control-container"
                          style="display: flex; align-items: center; gap: 12px;"
                        >
                          <input
                            type="range"
                            class="gap-slider"
                            min="8"
                            max="48"
                            step="1"
                            .value="${r.title_size||14}"
                            @input=${e=>{const t=e.target,i=parseFloat(t.value);a({title_size:i})}}
                          />
                          <input
                            type="number"
                            class="gap-input"
                            min="8"
                            max="48"
                            step="1"
                            .value="${r.title_size||14}"
                            @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({title_size:i})}}
                            @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(48,i+o));a({title_size:n})}}}
                          />
                          <button
                            class="reset-btn"
                            @click=${()=>a({title_size:14})}
                            title=${(0,l.kg)("editor.fields.reset_default_value",s,"Reset to default ({value})").replace("{value}","14")}
                          >
                            <ha-icon icon="mdi:refresh"></ha-icon>
                          </button>
                        </div>
                      </div>

                      <!-- Text Color -->
                      <div class="field-group" style="margin-bottom: 16px;">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                        >
                          ${(0,l.kg)("editor.separator.text_color.title",s,"Text Color")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                        >
                          ${(0,l.kg)("editor.separator.text_color.desc",s,"Color of the separator text.")}
                        </div>
                        <ultra-color-picker
                          .label=${""}
                          .value=${r.title_color||""}
                          .defaultValue=${"var(--secondary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>a(e.detail.value)}
                        ></ultra-color-picker>
                      </div>

                      <!-- Text Formatting -->
                      <div class="field-group">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                        >
                          ${(0,l.kg)("editor.separator.text_format.title",s,"Text Formatting")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                        >
                          ${(0,l.kg)("editor.separator.text_format.desc",s,"Apply formatting styles to the separator text.")}
                        </div>
                        <div
                          class="format-buttons"
                          style="display: flex; gap: 8px; flex-wrap: wrap;"
                        >
                          <button
                            class="format-btn ${r.title_bold?"active":""}"
                            @click=${()=>a({title_bold:!r.title_bold})}
                            style="padding: 8px; border: 1px solid var(--divider-color, #cccccc); border-radius: 4px; background: ${r.title_bold?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_bold?"white":"var(--primary-text-color)"};"
                            title=${(0,l.kg)("editor.separator.text_format.bold",s,"Bold")}
                          >
                            <ha-icon icon="mdi:format-bold"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_italic?"active":""}"
                            @click=${()=>a({title_italic:!r.title_italic})}
                            style="padding: 8px; border: 1px solid var(--divider-color, #cccccc); border-radius: 4px; background: ${r.title_italic?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_italic?"white":"var(--primary-text-color)"};"
                            title=${(0,l.kg)("editor.separator.text_format.italic",s,"Italic")}
                          >
                            <ha-icon icon="mdi:format-italic"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_underline?"active":""}"
                            @click=${()=>a({title_underline:!r.title_underline})}
                            style="padding: 8px; border: 1px solid var(--divider-color, #cccccc); border-radius: 4px; background: ${r.title_underline?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_underline?"white":"var(--primary-text-color)"};"
                            title=${(0,l.kg)("editor.separator.text_format.underline",s,"Underline")}
                          >
                            <ha-icon icon="mdi:format-underline"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_uppercase?"active":""}"
                            @click=${()=>a({title_uppercase:!r.title_uppercase})}
                            style="padding: 8px; border: 1px solid var(--divider-color, #cccccc); border-radius: 4px; background: ${r.title_uppercase?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_uppercase?"white":"var(--primary-text-color)"};"
                            title=${(0,l.kg)("editor.separator.text_format.uppercase",s,"Uppercase")}
                          >
                            <ha-icon icon="mdi:format-letter-case-upper"></ha-icon>
                          </button>
                          <button
                            class="format-btn ${r.title_strikethrough?"active":""}"
                            @click=${()=>a({title_strikethrough:!r.title_strikethrough})}
                            style="padding: 8px; border: 1px solid var(--divider-color, #cccccc); border-radius: 4px; background: ${r.title_strikethrough?"var(--primary-color)":"var(--secondary-background-color)"}; cursor: pointer; transition: all 0.2s ease; color: ${r.title_strikethrough?"white":"var(--primary-text-color)"};"
                            title=${(0,l.kg)("editor.separator.text_format.strikethrough",s,"Strikethrough")}
                          >
                            <ha-icon icon="mdi:format-strikethrough"></ha-icon>
                          </button>
                        </div>
                      </div>
                    `:o.qy`
                      <div
                        style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                      >
                        ${(0,l.kg)("editor.separator.show_title_toggle.enable_toggle_desc",s,"Enable the toggle above to configure title settings")}
                      </div>
                    `}
              </div>`:o.qy`
              <!-- Spacer (Blank) Thickness Control -->
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
              >
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
                >
                  ${(0,l.kg)("editor.separator.spacer.title",s,"Spacer Height")}
                </div>
                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">
                    ${(0,l.kg)("editor.separator.height",s,"Height (px)")}
                  </div>
                  <div class="field-description">
                    ${(0,l.kg)("editor.separator.height_desc",s,"Controls the visual gap for Blank Space.")}
                  </div>
                  <div
                    class="gap-control-container"
                    style="display: flex; align-items: center; gap: 12px;"
                  >
                    <input
                      type="range"
                      class="gap-slider"
                      min="1"
                      max="300"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseInt(t.value);a({thickness:i})}}
                    />
                    <input
                      type="number"
                      class="gap-input"
                      min="1"
                      max="300"
                      step="1"
                      .value="${r.thickness||1}"
                      @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({thickness:i})}}
                    />
                    <button
                      class="reset-btn"
                      @click=${()=>a({thickness:1})}
                      title=${(0,l.kg)("editor.fields.reset_default_value",s,"Reset to default ({value})").replace("{value}","1")}
                    >
                      <ha-icon icon="mdi:refresh"></ha-icon>
                    </button>
                  </div>
                </div>
              </div>
            `}
      </div>
    `}renderActionsTab(e,t,i,o){return n.A.render(e,t,(e=>o(e)))}renderPreview(e,t,i){const a=e,n=a,r=a.design||{},l={padding:r.padding_top||r.padding_bottom||r.padding_left||r.padding_right||n.padding_top||n.padding_bottom||n.padding_left||n.padding_right?`${this.addPixelUnit(r.padding_top||n.padding_top)||"0px"} ${this.addPixelUnit(r.padding_right||n.padding_right)||"0px"} ${this.addPixelUnit(r.padding_bottom||n.padding_bottom)||"0px"} ${this.addPixelUnit(r.padding_left||n.padding_left)||"0px"}`:"0",margin:r.margin_top||r.margin_bottom||r.margin_left||r.margin_right||n.margin_top||n.margin_bottom||n.margin_left||n.margin_right?`${r.margin_top||n.margin_top||"8px"} ${r.margin_right||n.margin_right||"0px"} ${r.margin_bottom||n.margin_bottom||"8px"} ${r.margin_left||n.margin_left||"0px"}`:"8px 0",background:r.background_color||n.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},n),r),t),backgroundSize:r.background_size||n.background_size||"cover",backgroundPosition:r.background_position||n.background_position||"center",backgroundRepeat:r.background_repeat||n.background_repeat||"no-repeat",border:(r.border_style||n.border_style)&&"none"!==(r.border_style||n.border_style)?`${this.addPixelUnit(r.border_width||n.border_width)||"1px"} ${r.border_style||n.border_style} ${r.border_color||n.border_color||"var(--divider-color, #cccccc)"}`:"none",borderRadius:this.addPixelUnit(r.border_radius||n.border_radius)||"0",position:r.position||n.position||"relative",top:r.top||n.top||"auto",bottom:r.bottom||n.bottom||"auto",left:r.left||n.left||"auto",right:r.right||n.right||"auto",zIndex:r.z_index||n.z_index||"auto",width:r.width||n.width||"100%",height:r.height||n.height||("vertical"===a.orientation?`${a.height_px||300}px`:"auto"),maxWidth:r.max_width||n.max_width||"100%",maxHeight:r.max_height||n.max_height||"none",minWidth:r.min_width||n.min_width||"none",minHeight:r.min_height||n.min_height||("vertical"===a.orientation?`${Math.min(a.height_px||300,50)}px`:"10px"),overflow:r.overflow||n.overflow||"visible",clipPath:r.clip_path||n.clip_path||"none",backdropFilter:r.backdrop_filter||n.backdrop_filter||"none",boxShadow:r.box_shadow_h&&r.box_shadow_v?`${r.box_shadow_h||"0"} ${r.box_shadow_v||"0"} ${r.box_shadow_blur||"0"} ${r.box_shadow_spread||"0"} ${r.box_shadow_color||"rgba(0,0,0,0.1)"}`:n.box_shadow_h&&n.box_shadow_v?`${n.box_shadow_h||"0"} ${n.box_shadow_v||"0"} ${n.box_shadow_blur||"0"} ${n.box_shadow_spread||"0"} ${n.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};if("blank"===a.separator_style){const e="vertical"===a.orientation;return o.qy`
        <div class="separator-module-container" style=${this.styleObjectToCss(l)}>
          <div
            class="separator-preview blank-separator"
            style="${e?`width: ${a.thickness||1}px; height: ${a.height_px||300}px; display: block; margin: 0 auto;`:`height: ${a.thickness||1}px; width: 100%;`}"
          ></div>
        </div>
      `}const d=this.getSeparatorStyles(a);let c=null,p=null,u=!1,g=0,m=0;return o.qy`
      <div
        class="separator-module-container"
        style="${this.styleObjectToCss(l)}; cursor: ${a.tap_action&&"nothing"!==a.tap_action.action||a.hold_action&&"nothing"!==a.hold_action.action||a.double_tap_action&&"nothing"!==a.double_tap_action.action?"pointer":"default"};"
        @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),u=!1,p=setTimeout((()=>{u=!0,a.hold_action&&"nothing"!==a.hold_action.action&&s.K.handleAction(a.hold_action,t,e.target,i)}),500)}}
        @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),p&&(clearTimeout(p),p=null),u)return void(u=!1);const o=Date.now();o-m<300&&1===g?(c&&(clearTimeout(c),c=null),g=0,a.double_tap_action&&"nothing"!==a.double_tap_action.action&&s.K.handleAction(a.double_tap_action,t,e.target,i)):(g=1,m=o,c=setTimeout((()=>{g=0,a.tap_action&&"nothing"!==a.tap_action.action&&s.K.handleAction(a.tap_action,t,e.target,i)}),300))}}
      >
        <div
          class="separator-preview ${"vertical"===a.orientation?"vertical":""}"
          style="width: 100%; text-align: center;"
        >
          ${a.show_title&&a.title?o.qy`
                <div
                  class="separator-with-title ${"vertical"===a.orientation?"vertical":""}"
                  style=${this.getTitleContainerStyles(a.design||{},"vertical"===a.orientation)}
                >
                  <div
                    class="separator-line-left"
                    style=${this.getSeparatorLineStyles(a,"left")}
                  ></div>
                  <div
                    class="separator-title ${"vertical"===a.orientation?"vertical":""}"
                    style=${this.getTitleStyles(a,a.design||{})}
                  >
                    ${a.title}
                  </div>
                  <div
                    class="separator-line-right"
                    style=${this.getSeparatorLineStyles(a,"right")}
                  ></div>
                </div>
              `:o.qy` <div class="separator-line" style=${d}></div> `}
        </div>
      </div>
    `}renderLogicTab(e,t,i,o){return r.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors],o="vertical"===t.orientation;if("blank"!==t.separator_style)t.thickness&&(t.thickness<1||t.thickness>50)&&i.push("Thickness must be between 1 and 50 pixels");else if(t.thickness&&(t.thickness<1||t.thickness>300)){const e=o?"width":"height";i.push(`Spacer ${e} must be between 1 and 300 pixels`)}return o?t.height_px&&(t.height_px<50||t.height_px>1e3)&&i.push("Height must be between 50 and 1000 pixels"):t.width_percent&&(t.width_percent<1||t.width_percent>100)&&i.push("Width must be between 1 and 100 percent"),!t.show_title||t.title&&""!==t.title.trim()||i.push("Title text is required when show title is enabled"),o&&t.show_title&&t.title&&t.title.length>20&&i.push("Title text should be shorter for vertical separators (max 20 characters recommended)"),{valid:0===i.length,errors:i}}getStyles(){return"\n      .separator-preview {\n        min-height: 1px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n      }\n      \n      .separator-preview.vertical {\n        min-width: 1px;\n        min-height: 50px;\n        height: 100%;\n        align-items: stretch;\n        justify-content: center;\n      }\n      \n      .blank-separator {\n        background: transparent;\n        display: block;\n        min-height: 0;\n      }\n      \n      .separator-with-title {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: 100%;\n      }\n      \n      .separator-with-title.vertical {\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: auto;\n      }\n      \n      .separator-title {\n        margin: 0;\n        line-height: 1.2;\n        background: var(--card-background-color);\n        padding: 0 8px;\n        position: relative;\n        z-index: 1;\n        white-space: nowrap;\n      }\n      \n      .separator-title.vertical {\n        writing-mode: vertical-rl;\n        text-orientation: mixed;\n        padding: 8px 0;\n        white-space: normal;\n      }\n      \n      .separator-line,\n      .separator-line-left,\n      .separator-line-right {\n        display: block;\n        background-color: var(--divider-color, #cccccc); /* Fallback color */\n      }\n      \n      .separator-line-left,\n      .separator-line-right {\n        flex: 1;\n      }\n      \n      .separator-line {\n        min-height: 1px;\n        min-width: 1px;\n      }\n      \n      \n      /* Format button styles */\n      .format-buttons {\n        display: flex;\n        gap: 8px;\n        flex-wrap: wrap;\n      }\n      \n      .format-btn {\n        padding: 8px;\n        border: 1px solid var(--divider-color, #cccccc);\n        border-radius: 4px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        min-width: 36px;\n        min-height: 36px;\n      }\n      \n      .format-btn:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n      }\n      \n      .format-btn ha-icon {\n        font-size: 16px;\n      }\n      \n      /* Settings section styling */\n      .settings-section {\n        background: var(--secondary-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 32px;\n      }\n      \n      .section-title {\n        font-size: 18px;\n        font-weight: 700;\n        text-transform: uppercase;\n        color: var(--primary-color);\n        margin-bottom: 16px;\n        padding-bottom: 0;\n        border-bottom: none;\n        letter-spacing: 0.5px;\n      }\n      \n      .field-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin-bottom: 4px;\n      }\n      \n      .field-description {\n        font-size: 13px;\n        font-weight: 400;\n        margin-bottom: 12px;\n        color: var(--secondary-text-color);\n      }\n      \n      .field-group {\n        margin-bottom: 16px;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color, #cccccc);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color, #cccccc);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color, #cccccc);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n    "}getSeparatorStyles(e){const t="vertical"===e.orientation,i={};switch(t?(i.width=`${e.thickness||1}px`,i.height=`${e.height_px||300}px`,i.margin="0 auto",i.display="block"):(i.width=`${e.width_percent||100}%`,i.height=`${e.thickness||1}px`,i.margin="0 auto"),e.separator_style||"line"){case"line":i.backgroundColor=e.color||"var(--divider-color, #cccccc)";break;case"double_line":t?(i.borderLeft=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,i.borderRight=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,i.width=3*(e.thickness||1)+"px"):(i.borderTop=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,i.borderBottom=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,i.height=3*(e.thickness||1)+"px");break;case"dotted":t?(i.borderLeft=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,i.width="0"):(i.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,i.height="0");break;case"double_dotted":t?(i.borderLeft=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,i.borderRight=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,i.width=3*(e.thickness||1)+"px"):(i.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,i.borderBottom=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,i.height=3*(e.thickness||1)+"px");break;case"shadow":{const o=e.thickness||1,a=this._colorWithAlpha(e.color||"#000000",.35);if(t){const e=Math.max(8*o,14);i.height="calc(100% + (var(--ha-card-padding, 16px) * 2))",i.margin="calc(var(--ha-card-padding, 16px) * -1) 0",i.width=`${e}px`,i.background=`linear-gradient(to right, ${a} 0%, rgba(0,0,0,0) 100%)`}else{const e=Math.max(8*o,14);i.width="calc(100% + (var(--ha-card-padding, 16px) * 2))",i.margin="0 calc(var(--ha-card-padding, 16px) * -1)",i.height=`${e}px`,i.background=`linear-gradient(to bottom, ${a} 0%, rgba(0,0,0,0) 100%)`}break}}return Object.entries(i).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}getSeparatorLineStyles(e,t){const i="vertical"===e.orientation,o={};i?(o.flex="1",o.width=`${e.thickness||1}px`,o.margin="left"===t?"0 0 8px 0":"8px 0 0 0"):(o.flex="1",o.height=`${e.thickness||1}px`,o.margin="left"===t?"0 8px 0 0":"0 0 0 8px");const a=(e.design||{}).text_align;switch(a&&"inherit"!==a&&(o.flex=i?"top"===a?"left"===t?"0 0 12px":"1":"bottom"===a&&"right"===t?"0 0 12px":"1":"left"===a?"left"===t?"0 0 12px":"1":"right"===a&&"right"===t?"0 0 12px":"1"),e.separator_style||"line"){case"line":o.backgroundColor=e.color||"var(--divider-color, #cccccc)";break;case"double_line":i?(o.borderLeft=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,o.borderRight=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,o.width=3*(e.thickness||1)+"px"):(o.borderTop=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,o.borderBottom=`${e.thickness||1}px solid ${e.color||"var(--divider-color, #cccccc)"}`,o.height=3*(e.thickness||1)+"px");break;case"dotted":i?(o.borderLeft=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,o.width="0"):(o.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,o.height="0");break;case"double_dotted":i?(o.borderLeft=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,o.borderRight=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,o.width=3*(e.thickness||1)+"px"):(o.borderTop=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,o.borderBottom=`${e.thickness||1}px dotted ${e.color||"var(--divider-color, #cccccc)"}`,o.height=3*(e.thickness||1)+"px");break;case"shadow":{const t=e.thickness||1,a=this._colorWithAlpha(e.color||"#000000",.35),n=this._colorWithAlpha(e.color||"#000000",.22),r=this._colorWithAlpha(e.color||"#000000",.25);if(i){const e=Math.max(8*t,14);o.width=`${e}px`,o.margin="0",o.background=`\n            linear-gradient(to right, ${r}, rgba(0,0,0,0) 66%) left/2px 100% no-repeat,\n            radial-gradient(ellipse at center, ${a} 0%, ${n} 55%, rgba(0,0,0,0) 80%) right/100% 120% no-repeat\n          `}else{const e=Math.max(8*t,14);o.height=`${e}px`,o.margin="0",o.background=`\n            linear-gradient(to bottom, ${r}, rgba(0,0,0,0) 66%) top/100% 2px no-repeat,\n            radial-gradient(ellipse at center, ${a} 0%, ${n} 55%, rgba(0,0,0,0) 80%) bottom/120% 100% no-repeat\n          `}break}}return Object.entries(o).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}getTitleContainerStyles(e={},t=!1){const i=(null==e?void 0:e.text_align)&&"inherit"!==e.text_align?e.text_align:"center",o={position:"relative",display:"flex",width:"100%",height:"100%"};if(t){o.flexDirection="column",o.alignItems="center";const e="top"===i?"flex-start":"bottom"===i?"flex-end":"center";o.justifyContent=e}else{o.flexDirection="row",o.alignItems="center";const e="left"===i?"flex-start":"right"===i?"flex-end":"center";o.justifyContent=e}return Object.entries(o).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}getTitleStyles(e,t={}){const i="vertical"===e.orientation,o={fontSize:void 0!==t.font_size&&null!==t.font_size?"number"==typeof t.font_size?`${t.font_size}px`:String(t.font_size):`${e.title_size||14}px`,color:t.color||e.title_color||"var(--secondary-text-color)",fontWeight:t.font_weight||(e.title_bold?"bold":"normal"),fontStyle:t.font_style||(e.title_italic?"italic":"normal"),textTransform:t.text_transform||(e.title_uppercase?"uppercase":"none"),letterSpacing:t.letter_spacing||void 0,lineHeight:t.line_height||void 0,textAlign:t.text_align||void 0,margin:"0",padding:i?"8px 0":"0 8px",backgroundColor:"transparent",position:"relative",zIndex:"1",writingMode:i?"vertical-rl":"horizontal-tb",textOrientation:"mixed"},a=[];return e.title_strikethrough&&a.push("line-through"),e.title_underline&&a.push("underline"),o.textDecoration=a.length>0?a.join(" "):"none",t.text_shadow_h&&t.text_shadow_v&&(o.textShadow=`${t.text_shadow_h||"0"} ${t.text_shadow_v||"0"} ${t.text_shadow_blur||"0"} ${t.text_shadow_color||"rgba(0,0,0,0.25)"}`),Object.entries(o).filter((([e,t])=>null!=t&&""!==t)).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}_colorWithAlpha(e,t){if(!e)return`rgba(0,0,0,${t})`;if(e.startsWith("rgba(")){const i=e.replace("rgba(","").replace(")","").split(",").map((e=>e.trim())),[o,a,n]=i.map(((e,t)=>t<3?Number(e):e));return`rgba(${o||0}, ${a||0}, ${n||0}, ${t})`}if(e.startsWith("rgb(")){const i=e.replace("rgb(","").replace(")","").split(",").map((e=>Number(e.trim()))),[o,a,n]=i;return`rgba(${o||0}, ${a||0}, ${n||0}, ${t})`}if(e.startsWith("#")){const i=e.replace("#",""),o=parseInt(3===i.length?i.split("").map((e=>e+e)).join(""):i,16);return`rgba(${o>>16&255}, ${o>>8&255}, ${255&o}, ${t})`}return`rgba(0,0,0,${t})`}getBackgroundImageCSS(e,t){var i,o;if(!e.background_image_type||"none"===e.background_image_type)return"none";switch(e.background_image_type){case"upload":case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const a=t.states[e.background_image_entity];let n="";if((null===(i=a.attributes)||void 0===i?void 0:i.entity_picture)?n=a.attributes.entity_picture:(null===(o=a.attributes)||void 0===o?void 0:o.image)?n=a.attributes.image:a.state&&"string"==typeof a.state&&(a.state.startsWith("/")||a.state.startsWith("http"))&&(n=a.state),n)return n.startsWith("/local/")||n.startsWith("/media/")||n.startsWith("/"),`url("${n}")`}}return"none"}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},456:(e,t,i)=>{i.d(t,{kg:()=>j});const o=JSON.parse('{"editor":{"tabs":{"layout":"Builder","settings":"Settings","about":"About","pro":"Pro"},"settings":{"title":"Card Settings","description":"Configure global card appearance and behavior."},"appearance":{"title":"Appearance","description":"Control the visual appearance of your card"},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"spacing":{"title":"Spacing","description":"Control the spacing and positioning of your card"},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"fields":{"card_background_color":"Card Background Color","card_background_color_desc":"The background color of the entire card","border_radius":"Border Radius","border_radius_desc":"Rounded corners for the card (in pixels)","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_padding":"Card Padding","card_padding_desc":"Internal spacing within the card","card_margin":"Card Margin","card_margin_desc":"External spacing around the card","card_shadow_enabled":"Custom Drop Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts","unit_px":"px","reset_default":"Reset to default","reset_default_value":"Reset to default ({value})"},"tooltips":{"enter_fullscreen":"Enter Full Screen","return_dashboard":"Return to Dashboard","dashboard":"Dashboard"},"common":{"left":"Left","center":"Center","right":"Right","top":"Top","bottom":"Bottom","none":"None","state":"State","attribute":"Attribute","attribute_name":"Attribute Name","entity":"Entity","space_between":"Space Between","space_around":"Space Around","justify":"Justify","stretch":"Stretch","baseline":"Baseline"},"horizontal":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged horizontally within the container."},"alignment":{"horizontal":"Horizontal Alignment","horizontal_desc":"Choose how elements are aligned horizontally within the container.","vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"wrapping":{"title":"Allow Wrapping","desc":"Allow elements to wrap to the next line when they exceed the container width."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between horizontal elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"vertical":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged vertically within the container."},"alignment":{"vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between vertical elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"layout":{"live_preview":"Live Preview","toggle_preview":"Toggle preview","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)","drag_to_move_module":"Drag to move module","edit_module":"Edit Module","duplicate_module":"Duplicate Module","delete_module":"Delete Module","drag_to_move_layout":"Drag to move layout module","horizontal_layout":"Horizontal Layout","vertical_layout":"Vertical Layout","add_module_to_layout":"Add Module to Layout","layout_settings":"Layout Settings","duplicate_layout":"Duplicate Layout","delete_layout":"Delete Layout","click_to_add_module":"Click to add a module","drop_modules_here":"Drop modules here","drag_to_reorder":"Drag to reorder","edit_child_module":"Edit Child Module","duplicate_child_module":"Duplicate Child Module","delete_child_module":"Delete Child Module","module_settings_title":"Module Settings","child_module_settings_title":"Child Module Settings","general_tab":"General","actions_tab":"Actions","other_tab":"Other","logic_tab":"Logic","design_tab":"Design","drag_to_resize":"Drag to resize","hidden_by_logic":"Hidden by Logic","add_row":"Add Row","add_row_tooltip":"Add a new row to your layout","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","row_settings":"Row Settings","column_settings":"Column Settings","row_background_color":"Row Background Color","column_gap":"Column Gap (px)","vertical_alignment":"Vertical Alignment","horizontal_alignment":"Horizontal Alignment","column_preview":"Column Preview","modules_count":"{count} modules","alignment_top":"Top","alignment_center":"Center","alignment_bottom":"Bottom","alignment_stretch":"Stretch","alignment_left":"Left","alignment_right":"Right"},"layout_logic":{"display_title":"Display this Element","display_desc":"Control when this element is shown. Choose \\"Always\\" to keep it visible. Select \\"If EVERY condition below is met\\" or \\"If ANY condition below is met\\" to display it only when the conditions you add below evaluate to true.","always":"Always","every":"If EVERY condition below is met","any":"If ANY condition below is met","conditions":"Conditions","add_condition":"Add Condition","no_conditions":"No conditions added yet. Click \\"Add Condition\\" to get started.","condition_types":{"entity_state":"Entity State","entity_attribute":"Entity Attribute","time":"Time Range","template":"Template"},"condition_fields":{"entity":"Entity","operator":"Operator","value":"Value","attribute":"Attribute","time_from":"From","time_to":"To","template":"Template"},"condition_header":"Condition","custom_name":"Custom Name","custom_name_desc":"Optional: Give this condition a custom name for easier identification","condition_type":"Condition Type"},"hover_effects":{"title":"Hover Effects","description":"Configure visual effects that appear when hovering over this module, row, or column.","effect":"Hover Effect","effect_desc":"Select the visual effect to apply when hovering","effects":{"none":"None","highlight":"Highlight","outline":"Outline","grow":"Grow","shrink":"Shrink","pulse":"Pulse","bounce":"Bounce","float":"Float","glow":"Glow","shadow":"Shadow","rotate":"Rotate","skew":"Skew","wobble":"Wobble","buzz":"Buzz","fade":"Fade"}},"about":{"developed_by":"Developed by","desc1":"A powerful modular card builder for Home Assistant","desc2":"Create custom layouts with a professional page-builder interface","desc3":"Modular layout system with conditional logic and professional design tools","github_repo":"Check Out Our Github","join_discord":"Join Our Discord","support_title":"Support Ultra Card","support_desc":"Your generous tips fuel the development of amazing features for this card! Without support from users like you, continued innovation wouldn\'t be possible.","leave_tip":"LEAVE A TIP (PAYPAL)","version":"Version"},"actions":{"title":"Link Configuration","description":"Configure what happens when users interact with this element. Choose different actions for tap, hold, and double-tap gestures.","tap_action":"Tap Action","tap_action_desc":"Action performed when tapping/clicking the module","hold_action":"Hold Action","hold_action_desc":"Action performed when holding down on the module","double_tap_action":"Double Tap Action","double_tap_action_desc":"Action performed when double-tapping the module","tap_behavior":"Tap Behavior","tap_behavior_desc":"Action to perform when the element is tapped/clicked.","hold_behavior":"Hold Behavior","hold_behavior_desc":"Action to perform when the element is pressed and held.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices","double_tap_behavior":"Double Tap Behavior","double_tap_behavior_desc":"Action to perform when the element is double-tapped/clicked."},"icon":{"entity_config":{"title":"ENTITY CONFIGURATION","desc":"Configure the entity and active/inactive states"},"entity":"Entity","entity_desc":"Select the entity this icon represents","inactive_state":"Inactive State","inactive_state_desc":"State value considered \\"inactive\\" (leave blank to use actual entity state)","active_state":"Active State","active_state_desc":"State value considered \\"active\\" (leave blank to use actual entity state)","icon_section":{"title":"Icon Configuration"},"inactive_icon":"Inactive Icon","inactive_icon_desc":"Icon to show when inactive","inactive_icon_config":"Inactive Icon Configuration","inactive_icon_config_desc":"Configure inactive icon settings","active_icon":"Active Icon","active_icon_desc":"Icon to show when active","icon_color_inactive":"Color when inactive","icon_color_active":"Color when active","background_shape_inactive":"Background shape when inactive","background_shape_active":"Background shape when active","background_color_inactive":"Background color when inactive","background_color_active":"Background color when active","icon_size_inactive":"Icon size when inactive","icon_size_active":"Icon size when active","inactive_icon_color":"Inactive icon color","active_icon_color":"Active icon color","inactive_icon_background":"Inactive icon background","active_icon_background":"Active icon background","inactive_icon_background_color":"Inactive icon background color","active_icon_background_color":"Active icon background color","name_section":{"title":"Name Configuration"},"inactive_name":"Inactive Name","inactive_name_desc":"Custom name when inactive","inactive_name_config":"Inactive Name Configuration","inactive_name_config_desc":"Configure inactive name settings","active_name":"Active Name","active_name_desc":"Custom name when active","custom_inactive_name":"Custom Inactive Name","custom_inactive_name_desc":"Override entity name when inactive (leave empty to use entity name)","custom_active_name":"Custom Active Name","custom_active_name_desc":"Override entity name when active (leave empty to use entity name)","name_color_inactive":"Name color when inactive","name_color_active":"Name color when active","name_size_inactive":"Name text size when inactive","name_size_active":"Name text size when active","inactive_name_color":"Inactive name color","active_name_color":"Active name color","state_section":{"title":"State Configuration"},"inactive_state_color":"Inactive state color","active_state_color":"Active state color","inactive_state_text":"Inactive state text","active_state_text":"Active state text","inactive_state_config":"Inactive State Configuration","inactive_state_config_desc":"Configure inactive state settings","custom_inactive_state":"Custom Inactive State","custom_inactive_state_desc":"Custom text when inactive (leave empty to use actual state)","custom_active_state":"Custom Active State","custom_active_state_desc":"Custom text when active (leave empty to use actual state)","state_color_inactive":"State color when inactive","state_color_active":"State color when active","state_size_inactive":"State text size when inactive","state_size_active":"State text size when active","background_section":{"title":"Inactive Background","desc":"Configure inactive background settings"},"template_section":{"title":"Advanced Template Mode","desc":"Use Jinja2 templates for advanced icon control. Templates can control visibility (true/false to show/hide icons) and customize state text. Return custom text for Active State, return actual entity state for Inactive State."},"template_mode":"Advanced Template Mode","template":"Template","animation_section":{"title":"Icon Animation","desc":"Configure animations for active and inactive states"},"active_animation":"Active Animation","active_animation_desc":"Animation when icon is active","inactive_animation":"Inactive Animation","inactive_animation_desc":"Animation when icon is inactive","animation_none":"None","animation_pulse":"Pulse","animation_spin":"Spin","animation_bounce":"Bounce","animation_flash":"Flash","animation_shake":"Shake","animation_vibrate":"Vibrate","animation_rotate_left":"Rotate Left","animation_rotate_right":"Rotate Right","animation_fade":"Fade","animation_scale":"Scale","animation_tada":"Tada"},"text":{"content_section":{"title":"Content Configuration","desc":"Configure the text content and basic settings for this module."},"text_content":"Text Content","text_content_desc":"Enter the text content to display in this module.","icon_section":{"title":"Icon Configuration","desc":"Choose an icon to display alongside the text content."},"icon":"Icon","icon_desc":"Choose an icon to display alongside the text. Leave empty for no icon.","icon_position":"Icon Position","icon_position_desc":"Choose where to position the icon relative to the text.","before_text":"Before Text","after_text":"After Text","template_mode":"Template Mode","template_mode_desc":"Use Home Assistant templating syntax to render text","value_template":"Value Template","value_template_desc":"Template to render the text using Jinja2 syntax","examples_title":"Common Examples:","example_basic":"Basic value","example_percent":"With percent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"markdown":{"content":{"title":"Markdown Content","label":"Content","desc":"Enter your markdown content with full formatting support"},"features":{"title":"Markdown Features"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks"},"bar":{"bar_settings":{"title":"Bar Settings","desc":"Configure how the bar percentage is calculated and displayed."},"perc_type":{"entity":"Entity (0-100)","attribute":"Entity Attribute","difference":"Difference","template":"Template"},"attribute_section":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings"},"attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")","diff_section":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings"},"current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)","template_section":{"title":"Template Configuration","desc":"Configure template settings"},"percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings","attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")"},"diff_config":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings","current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)"},"template_config":{"title":"Template Configuration","desc":"Configure template settings","percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Bar Percentage Entity","desc_present":"The entity that provides the percentage value for the bar.","desc_empty":"Select an entity that provides a percentage value (0-100). Battery sensors are ideal for bars.","no_entity_warning":"No entity selected - Please choose a sensor with values between 0-100"},"limit_entity":{"title":"Limit Value Entity (Optional)","desc":"Optional: Add a vertical indicator line on the bar (e.g. charge limit for EV battery)."},"appearance":{"title":"Bar Appearance","direction":"Fill Direction","direction_desc":"Choose which direction the bar fills from as the value increases.","left_to_right":"Left to Right","right_to_left":"Right to Left","height":"Bar Height","height_desc":"Adjust the thickness of the progress bar in pixels.","border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the bar.","style":"Bar Style","style_desc":"Choose the visual style of the progress bar.","style_flat":"Flat (Default)","style_glossy":"Glossy","style_embossed":"Embossed","style_inset":"Inset","style_gradient":"Gradient Overlay","style_neon":"Neon Glow","style_outline":"Outline","style_glass":"Glass","style_metallic":"Metallic","style_neumorphic":"Neumorphic","style_dashed":"Dashed","style_dots":"Dots","width":"Bar Width","width_desc":"Set the bar width as percentage of container.","alignment":"Bar Alignment","alignment_desc":"Choose how to align the bar when it\'s less than 100% width."},"labels":{"alignment":"Label Alignment","alignment_desc":"Control how left and right labels are positioned."},"percentage":{"title":"Percentage Text Display","desc":"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.","text_size":"Text Size","text_size_desc":"Adjust the size of percentage text shown on the bar.","text_alignment":"Percentage Text Alignment"},"text_display":{"title":"Text Display","desc":"Control the visibility and appearance of text values shown directly on the bar. For difference and template modes, you can choose to display raw entity values instead of percentages.","show_value":"Show Value Instead of Percentage","show_value_desc":"When enabled, shows the actual entity value instead of percentage. Useful for displaying raw sensor values like \\"45 kWh\\" instead of \\"75%\\".","text_size":"Text Size","text_size_desc":"Adjust the size of the text displayed on the bar.","text_alignment":"Text Alignment"},"left":{"title":"Left Side","desc":"Configure the title and entity value shown on the left side of the bar. This is useful for displaying labels like \'Range\' or \'Battery\' alongside their values.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the left side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure left side settings"},"right":{"title":"Right Side","desc":"Configure the title and entity value shown on the right side of the bar. This is ideal for complementary information like \'Time to Full\' or secondary measurements.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the right side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure right side settings"},"colors":{"title":"Colors","bar_color":"Bar Color","background_color":"Background Color","border_color":"Border Color","limit_indicator":"Limit Indicator","percentage_text":"Percentage Text","text_color":"Text Color","text_color_desc":"Choose the color for the text displayed on the bar.","left_side":"Left Side Colors","right_side":"Right Side Colors","title_color":"Title Color","value_color":"Value Color"},"gradient":{"title":"Gradient Mode","desc":"Apply a color gradient to the bar fill. When enabled, choose how the gradient is displayed and customize color stops below.","full":"Full","cropped":"Cropped","value_based":"Value Based"},"animation":{"title":"Bar Animation","desc":"Animate the bar fill using presets like charging stripes, pulse, glow and more. You can trigger animations based on an entity\'s state or attribute, and optionally override the animation when another condition is met.","trigger":{"title":"Animation Trigger","desc":"Select an entity to watch and define the value + animation to apply when it matches.","entity_desc":"Entity to evaluate for animation trigger","type":"Trigger Type","type_desc":"Choose whether to compare entity state or an attribute","attribute_name_desc":"Attribute name to compare (e.g., charging_status)","match_value":"Match Value","match_value_desc":"Text to compare against state or attribute (comparison is text-based)."},"type":"Animation Type","type_desc":"Select how the bar should animate when triggered.","types":{"charging":"Charging (Diagonal Lines)","pulse":"Pulse","blinking":"Blinking","bouncing":"Bouncing","glow":"Glow","rainbow":"Rainbow","bubbles":"Bubbles","fill":"Fill","ripple":"Ripple","traffic":"Traffic (Barber Pole)","heartbeat":"Heartbeat","flicker":"Flicker","shimmer":"Shimmer","vibrate":"Vibrate"},"override":{"title":"Action Animation Override","desc":"Select an action entity and state to define when this animation should override the regular animation","entity_desc":"Entity to evaluate for override trigger","type_desc":"Animation to use when override condition matches.","attribute_name_desc":"Attribute name to compare","match_value":"Override Match Value","match_value_desc":"Text comparison against state or attribute","type":"Override Animation Type"}}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Entity Attribute"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Entity","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Entity Attribute Configuration"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Attribute Name","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width","width_desc":"Set the width (supports px, %, em, rem, vw, vh, etc.).","height":"Height","height_desc":"Set the height (supports px, %, em, rem, vw, vh, etc.).","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation ()","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Image","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"data_sources":{"title":"Data Sources","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."},"entity":{"label":"Entity","desc":"Select an entity to plot.","display_name_placeholder":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribute","attribute_desc":"Use entity state or select a specific attribute to track.","state_default":"State (default)","forecast_attr":"Forecast Attribute","forecast_attr_desc":"Which forecast value to plot on the graph","expand_options":"Expand Options"},"line":{"show_points":"Show Points","fill_area":"Fill Area","line_width":"Line Width","line_style":"Line Style"},"line_styles":{"solid":"Solid","dashed":"Dashed","dotted":"Dotted"},"display":{"title":"Display Options","show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","background_color":"Background Color","chart_options":"Chart Options","show_legend":"Show Legend","show_grid":"Show Grid","show_grid_values":"Show Grid Values","smooth_lines":"Smooth Lines","show_tooltips":"Show Tooltips","add_slice_gap":"Add Slice Gap"},"agg":{"mean":"Average","sum":"Sum","min":"Minimum","max":"Maximum","median":"Median","first":"First Value","last":"Last Value","count":"Count","delta":"Change"},"position":{"top":"Top","bottom":"Bottom","left":"Left","right":"Right","hidden":"Hidden","top_left":"Top Left","top_right":"Top Right","bottom_left":"Bottom Left","bottom_right":"Bottom Right","middle":"Center","center":"Center"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"reset_345":"Reset to default (345px)","reset_100":"Reset to default (100%)","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribute","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)"},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","drag_option":"Drag to reorder","default_badge":"DEFAULT","option":{"label":"Label","label_desc":"Display text for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","action":"Action","action_desc":"What happens when this option is selected","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"}},"info":{"entity_section":{"title":"ENTITY CONFIGURATION"},"entity":"Entity","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Icon","icon_desc":"Choose an icon to display","icon_color":"Icon Color","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Color","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Color","template":{"title":"Template Mode","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Template Mode","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Value Template","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Value Size","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Icon Position","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Common Examples:","example_basic":"Basic value","example_units":"With units","example_round":"Round to 1 decimal"},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"align":{"left":"Left","center":"Center","right":"Right","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Before Text","after":"After Text","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"icon_field":"Icon","show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Icon Position","icon_position_desc":"Position of the icon relative to text","colors":{"title":"Colors","background":"Background Color","text":"Text Color"},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"None","color":"Color Change","scale":"Scale","glow":"Glow","lift":"Lift (translate Y)","hover_color":"Hover Color","glow_color":"Glow Color","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Entity","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Tap Action","desc":"Action to perform when button is tapped"},"hold":{"title":"Hold Action","desc":"Action to perform when button is held down"},"double":{"title":"Double Tap Action","desc":"Action to perform when button is double-tapped"}},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout_title":"Layout","layout_desc":"Arrangement of buttons and value","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position_title":"Value Position","value_position_desc":"Where to display the value relative to buttons","value_position_options":{"center":"Center (Between Buttons)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Value Spacing","button_spacing_desc":"Space between buttons and value display in pixels","button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"}},"layout_extra":{"module_name":"Module Name:","module_name_placeholder":"Give this module a custom name to make it easier to identify in the editor.","module_name_help":"Give this module a custom name to make it easier to identify in the editor."},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"},"name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Center","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Template Mode","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Template Mode","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Common Examples:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Appearance"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Color","desc":"Color of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"},"text_content":{"title":"Text Content","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Color","desc":"Color of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space."},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Text","text_color":"Text Color","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":" Default ","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"None","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Background","background_color":"Background Color","background_image_type":"Background Image Type","bg_none":"None","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Spacing","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Width","height":"Height","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Border Radius","border_style":"Border Style","border_width":"Border Width","border_color":"Border Color","margin":"Margin","padding":"Padding","top":"Top","right":"Right","bottom":"Bottom","left":"Left","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Color","box_shadow_color":"Box Shadow Color","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Animation Type","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"None","ease":"Ease","border_style_none":"None","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":" Default ","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Text Module","image":"Image Module","icon":"Icon Module","bar":"Bar Module","info":"Info Module","button":"Button Module","spinbox":"Spinbox Module","separator":"Separator Module","markdown":"Markdown Module","camera":"Camera Module","graphs":"Graphs Module","dropdown":"Dropdown Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text"}}}');var a=i.t(o,2);const n=JSON.parse('{"editor":{"tabs":{"layout":"Konstruktor rozvren","settings":"Nastaven","about":"O aplikaci","pro":"Pro"},"settings":{"title":"Nastaven karty","description":"Konfigurace globlnho vzhledu a chovn karty."},"appearance":{"title":"Vzhled","description":"Ovldn vizulnho vzhledu va karty"},"spacing":{"title":"Rozestupy","description":"Ovldn rozestup a umstn va karty"},"fields":{"card_background_color":"Barva pozad karty","card_background_color_desc":"Barva pozad cel karty","border_radius":"Polomr ohranien","border_radius_desc":"Zaoblen rohy karty (v pixelech)","card_padding":"Vnitn okraje karty","card_padding_desc":"Vnitn rozestupy uvnit karty","card_margin":"Vnj okraje karty","card_margin_desc":"Vnj rozestupy kolem karty","unit_px":"px","reset_default":"Obnovit vchoz","reset_default_value":"Obnovit vchoz ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Pejt na celou obrazovku","return_dashboard":"Nvrat na nstnku","dashboard":"Nstnka"},"layout":{"live_preview":"iv nhled","toggle_preview":"Pepnout nhled","drag_to_move_module":"Pethnte pro pesun modulu","edit_module":"Upravit modul","duplicate_module":"Duplikovat modul","delete_module":"Smazat modul","drag_to_move_layout":"Pethnte pro pesun modulu rozvren","horizontal_layout":"Horizontln rozvren","vertical_layout":"Vertikln rozvren","add_module_to_layout":"Pidat modul do rozvren","layout_settings":"Nastaven rozvren","duplicate_layout":"Duplikovat rozvren","delete_layout":"Smazat rozvren","click_to_add_module":"Kliknte pro pidn modulu","drop_modules_here":"Pethnte moduly sem","drag_to_reorder":"Pethnte pro zmnu poad","edit_child_module":"Upravit podzen modul","duplicate_child_module":"Duplikovat podzen modul","delete_child_module":"Smazat podzen modul","module_settings_title":"Nastaven modulu","general_tab":"Obecn","actions_tab":"Akce","other_tab":"Ostatn","logic_tab":"Logika","design_tab":"Vzhled","drag_to_resize":"Pethnte pro zmnu velikosti","hidden_by_logic":"Skryto logikou","child_module_settings_title":"Nastaven podzenho modulu","add_row":"Pidat dek","add_row_tooltip":"Pidejte nov dek do vaeho rozvren","row_settings":"Nastaven dku","column_settings":"Nastaven sloupce","row_background_color":"Barva pozad dku","column_gap":"Mezera mezi sloupci (px)","vertical_alignment":"Vertikln zarovnn","horizontal_alignment":"Horizontln zarovnn","column_preview":"Nhled sloupce","modules_count":"{count} modul","alignment_top":"Nahoe","alignment_center":"Sted","alignment_bottom":"Dole","alignment_stretch":"Rozthnout","alignment_left":"Vlevo","alignment_right":"Vpravo","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Vyvinuto","desc1":"Vkonn modulrn stavitel karet pro Home Assistant","desc2":"Vytvejte vlastn rozvren s profesionlnm rozhranm pro tvorbu strnek","desc3":"Modulrn systm rozvren s podmnnou logikou a profesionlnmi nstroji pro design","github_repo":"GitHub repozit","version":"Verze","join_discord":"Pipojte se k naemu Discordu","support_title":"Podpote Ultra Card","support_desc":"Vae tdr pspvky podporuj vvoj asnch funkc pro tuto kartu! Bez podpory uivatel jako jste vy by pokraujc inovace nebyly mon.","leave_tip":"ZANECHAT PSPVEK (PAYPAL)"},"actions":{"title":"Konfigurace akc","description":"Konfigurujte, jak tento modul reaguje na interakce uivatel. Pouv nativn systm akc Home Assistantu pro konzistentn chovn na vaem dashboardu.","tap_action":"Akce pi klepnut","tap_action_desc":"Akce proveden pi klepnut/kliknut na modul","hold_action":"Akce pi podren","hold_action_desc":"Akce proveden pi podren modulu","double_tap_action":"Akce pi dvojitm klepnut","double_tap_action_desc":"Akce proveden pi dvojitm klepnut na modul","tap_behavior":"Chovn pi klepnut","tap_behavior_desc":"Akce k proveden pi klepnut/kliknut na prvek.","hold_behavior":"Chovn pi podren","hold_behavior_desc":"Akce k proveden pi stisknut a podren prvku.","double_tap_behavior":"Chovn pi dvojitm klepnut","double_tap_behavior_desc":"Akce k proveden pi dvojitm klepnut/kliknut na prvek.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"KONFIGURACE ENTITY","desc":"Konfigurace entity a aktivnch/neaktivnch stav"},"entity":"Entita","entity_desc":"Vyberte entitu, kterou tato ikona pedstavuje","inactive_state":"Neaktivn stav","inactive_state_desc":"Hodnota stavu povaovan za \\"neaktivn\\" (ponechte przdn pro pouit skutenho stavu entity)","active_state":"Aktivn stav","active_state_desc":"Hodnota stavu povaovan za \\"aktivn\\" (ponechte przdn pro pouit skutenho stavu entity)","active_animation":"Aktivn animace","active_animation_desc":"Animace pi aktivn ikon","active_icon":"Aktivn ikona","active_icon_background":"Pozad aktivn ikony","active_icon_background_color":"Barva pozad aktivn ikony","active_icon_color":"Barva aktivn ikony","active_icon_desc":"Ikona zobrazovan pi aktivnm stavu","active_name":"Aktivn nzev","active_name_color":"Barva aktivnho nzvu","active_name_desc":"Vlastn nzev pi aktivnm stavu","active_state_color":"Barva aktivnho stavu","active_state_text":"Text aktivnho stavu","animation_bounce":"Poskakovn","animation_fade":"Mizen","animation_flash":"Blikn","animation_none":"dn","animation_pulse":"Pulsovn","animation_rotate_left":"Rotace vlevo","animation_rotate_right":"Rotace vpravo","animation_scale":"klovn","animation_section":{"desc":"Konfigurace animac pro aktivn a neaktivn stavy","title":"Animace ikony"},"animation_shake":"Tesen","animation_spin":"Oten","animation_tada":"Tada","animation_vibrate":"Vibrace","background_color_active":"Barva pozad pi aktivnm stavu","background_color_inactive":"Barva pozad pi neaktivnm stavu","background_section":{"desc":"Konfigurace nastaven neaktivnho pozad","title":"Neaktivn pozad"},"background_shape_active":"Tvar pozad pi aktivnm stavu","background_shape_inactive":"Tvar pozad pi neaktivnm stavu","custom_active_name":"Vlastn aktivn nzev","custom_active_name_desc":"Pepsat nzev entity pi aktivnm stavu (ponechte przdn pro pouit nzvu entity)","custom_active_state":"Vlastn aktivn stav","custom_active_state_desc":"Vlastn text pi aktivnm stavu (ponechte przdn pro skuten stav)","custom_inactive_name":"Vlastn neaktivn nzev","custom_inactive_name_desc":"Pepsat nzev entity pi neaktivnm stavu (ponechte przdn pro pouit nzvu entity)","custom_inactive_state":"Vlastn neaktivn stav","custom_inactive_state_desc":"Vlastn text pi neaktivnm stavu (ponechte przdn pro skuten stav)","icon_color_active":"Barva pi aktivnm stavu","icon_color_inactive":"Barva pi neaktivnm stavu","icon_section":{"title":"Konfigurace ikony"},"icon_size_active":"Velikost ikony pi aktivnm stavu","icon_size_inactive":"Velikost ikony pi neaktivnm stavu","inactive_animation":"Neaktivn animace","inactive_animation_desc":"Animace pi neaktivn ikon","inactive_icon":"Neaktivn ikona","inactive_icon_background":"Pozad neaktivn ikony","inactive_icon_background_color":"Barva pozad neaktivn ikony","inactive_icon_color":"Barva neaktivn ikony","inactive_icon_config":"Konfigurace neaktivn ikony","inactive_icon_config_desc":"Konfigurace nastaven neaktivn ikony","inactive_icon_desc":"Ikona zobrazovan pi neaktivnm stavu","inactive_name":"Neaktivn nzev","inactive_name_color":"Barva neaktivnho nzvu","inactive_name_config":"Konfigurace neaktivnho nzvu","inactive_name_config_desc":"Konfigurace nastaven neaktivnho nzvu","inactive_name_desc":"Vlastn nzev pi neaktivnm stavu","inactive_state_color":"Barva neaktivnho stavu","inactive_state_config":"Konfigurace neaktivnho stavu","inactive_state_config_desc":"Konfigurace nastaven neaktivnho stavu","inactive_state_text":"Text neaktivnho stavu","name_color_active":"Barva nzvu pi aktivnm stavu","name_color_inactive":"Barva nzvu pi neaktivnm stavu","name_section":{"title":"Konfigurace nzvu"},"name_size_active":"Velikost textu nzvu pi aktivnm stavu","name_size_inactive":"Velikost textu nzvu pi neaktivnm stavu","state_color_active":"Barva stavu pi aktivnm stavu","state_color_inactive":"Barva stavu pi neaktivnm stavu","state_section":{"title":"Konfigurace stavu"},"state_size_active":"Velikost textu stavu pi aktivnm stavu","state_size_inactive":"Velikost textu stavu pi neaktivnm stavu","template":"ablona","template_mode":"Pokroil reim ablony","template_section":{"desc":"Pouijte ablony Jinja2 pro pokroil ovldn ikon. ablony mohou ovldat viditelnost (true/false pro zobrazen/skryt ikon) a pizpsobit text stavu. Vrate vlastn text pro aktivn stav, vrate skuten stav entity pro neaktivn stav.","title":"Pokroil reim ablony"}},"text":{"content_section":{"title":"Konfigurace obsahu","desc":"Konfigurace textovho obsahu a zkladnch nastaven pro tento modul."},"text_content":"Textov obsah","text_content_desc":"Zadejte textov obsah k zobrazen v tomto modulu.","icon_section":{"title":"Konfigurace ikony","desc":"Vyberte ikonu k zobrazen vedle textovho obsahu."},"icon":"Ikona","icon_desc":"Vyberte ikonu k zobrazen vedle textu. Ponechte przdn pro dnou ikonu.","icon_position":"Pozice ikony","icon_position_desc":"Vyberte, kde umstit ikonu vzhledem k textu.","before_text":"Ped textem","after_text":"Za textem","template_mode":"Reim ablony","template_mode_desc":"Pouijte syntaxi ablon Home Assistantu pro vykreslen textu","value_template":"ablona hodnoty","value_template_desc":"ablona pro vykreslen textu pomoc syntaxe Jinja2","examples_title":"Bn pklady:","example_basic":"Zkladn hodnota","example_percent":"S procenty","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Nastaven pruhu","desc":"Konfigurace zpsobu vpotu a zobrazen procent pruhu."},"perc_type":{"entity":"Entita (0-100)","attribute":"Atribut entity","difference":"Rozdl","template":"ablona"},"attribute_section":{"title":"Konfigurace atributu entity","desc":"Konfigurace nastaven atributu entity"},"attribute_entity":"Entita atributu","attribute_entity_desc":"Vyberte entitu obsahujc atribut s procentuln hodnotou","attribute_name":"Nzev atributu","attribute_name_desc":"Zadejte nzev atributu obsahujcho procentuln hodnotu (nap. \\"battery_level\\")","diff_section":{"title":"Konfigurace vpotu rozdlu","desc":"Konfigurace nastaven vpotu rozdlu"},"current_entity":"Entita aktuln hodnoty","current_entity_desc":"Entita pedstavujc aktuln/spotebovan mnostv (nap. spotebovan palivo, vybit baterie)","total_entity":"Entita celkov hodnoty","total_entity_desc":"Entita pedstavujc celkov/maximln mnostv (nap. kapacita ndre, kapacita baterie)","template_section":{"title":"Konfigurace ablony","desc":"Konfigurace nastaven ablony"},"percentage_template":"ablona procent","percentage_template_desc":"Zadejte ablonu Jinja2, kter vrac slo mezi 0-100 pro procenta. Pklad: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animujte vpl pruhu pomoc pedvoleb jako nabjec pruhy, pulsovn, ze a dal. Mete spustit animace na zklad stavu nebo atributu entity a voliteln pepsat animaci pi splnn jin podmnky.","override":{"attribute_name_desc":"Nzev atributu k porovnn","desc":"Vyberte akn entitu a stav pro definovn, kdy m tato animace pepsat bnou animaci","entity_desc":"Entita k vyhodnocen pro pepsn spoute","match_value":"Hodnota shody pepsn","match_value_desc":"Textov porovnn se stavem nebo atributem","title":"Pepsn animace akce","type":"Typ pepsn animace","type_desc":"Animace k pouit pi shod podmnky pepsn."},"title":"Animace pruhu","trigger":{"attribute_name_desc":"Nzev atributu k porovnn (nap. charging_status)","desc":"Vyberte entitu ke sledovn a definujte hodnotu + animaci k pouit pi shod.","entity_desc":"Entita k vyhodnocen pro spout animace","match_value":"Hodnota shody","match_value_desc":"Text k porovnn se stavem nebo atributem (porovnn je textov).","title":"Spout animace","type":"Typ spoute","type_desc":"Vyberte, zda porovnvat stav entity nebo atribut"},"type":"Typ animace","type_desc":"Vyberte, jak se m pruh animovat pi sputn.","types":{"blinking":"Blikn","bouncing":"Poskakovn","bubbles":"Bubliny","charging":"Nabjen (diagonln ry)","fill":"Plnn","flicker":"Tepotn","glow":"Ze","heartbeat":"Tlukot srdce","pulse":"Pulsovn","rainbow":"Duha","ripple":"Vlnn","shimmer":"Tpyt","traffic":"Provoz (holisk sloup)","vibrate":"Vibrace"}},"appearance":{"direction":"Smr plnn","direction_desc":"Vyberte smr, kterm se pruh pln pi zvyovn hodnoty.","left_to_right":"Zleva doprava","right_to_left":"Zprava doleva","alignment":"Zarovnn pruhu","alignment_desc":"Vyberte zpsob zarovnn pruhu, kdy je ka men ne 100%.","border_radius":"Polomr ohranien","border_radius_desc":"Ovldn zaoblench roh pruhu.","height":"Vka pruhu","height_desc":"Upravte tlouku indiktoru prbhu v pixelech.","style":"Styl pruhu","style_dashed":"rkovan","style_desc":"Vyberte vizuln styl indiktoru prbhu.","style_dots":"Teky","style_embossed":"Relifn","style_flat":"Ploch (vchoz)","style_glass":"Sklo","style_glossy":"Leskl","style_gradient":"Gradientn pekryt","style_inset":"Zaputn","style_metallic":"Kovov","style_neon":"Neonov ze","style_neumorphic":"Neumorfn","style_outline":"Obrys","title":"Vzhled pruhu","width":"ka pruhu","width_desc":"Nastavte ku pruhu jako procento kontejneru."},"attr_config":{"attribute_entity":"Entita atributu","attribute_entity_desc":"Vyberte entitu obsahujc atribut s procentuln hodnotou","attribute_name":"Nzev atributu","attribute_name_desc":"Zadejte nzev atributu obsahujcho procentuln hodnotu (nap. \\"battery_level\\")","desc":"Konfigurace nastaven atributu entity","title":"Konfigurace atributu entity"},"colors":{"background_color":"Barva pozad","bar_color":"Barva pruhu","border_color":"Barva ohranien","left_side":"Barvy lev strany","limit_indicator":"Indiktor limitu","percentage_text":"Text procent","right_side":"Barvy prav strany","title":"Barvy","title_color":"Barva nadpisu","value_color":"Barva hodnoty","text_color":"Barva textu","text_color_desc":"Vyberte barvu pro text zobrazovan na pruhu."},"diff_config":{"current_entity":"Entita aktuln hodnoty","current_entity_desc":"Entita pedstavujc aktuln/spotebovan mnostv (nap. spotebovan palivo, vybit baterie)","desc":"Konfigurace nastaven vpotu rozdlu","title":"Konfigurace vpotu rozdlu","total_entity":"Entita celkov hodnoty","total_entity_desc":"Entita pedstavujc celkov/maximln mnostv (nap. kapacita ndre, kapacita baterie)"},"entity":{"desc_empty":"Vyberte entitu poskytujc procentuln hodnotu (0-100). Senzory baterie jsou ideln pro pruhy.","desc_present":"Entita poskytujc procentuln hodnotu pro pruh.","no_entity_warning":"dn entita nevybrna - Vyberte prosm senzor s hodnotami mezi 0-100","title":"Entita procent pruhu"},"gradient":{"cropped":"Oznut","desc":"Pouijte barevn gradient na vpl pruhu. Po aktivaci vyberte zpsob zobrazen gradientu a pizpsobte body barev ne.","full":"Pln","title":"Reim gradientu","value_based":"Zaloen na hodnot"},"labels":{"alignment":"Zarovnn ttku","alignment_desc":"Ovldn umstn levch a pravch ttk."},"left":{"desc":"Konfigurace nadpisu a hodnoty entity zobrazen na lev stran pruhu. To je uiten pro zobrazen ttk jako \'Dosah\' nebo \'Baterie\' spolu s jejich hodnotami.","enable_toggle":"Aktivujte pepna ve pro konfiguraci nastaven lev strany","template_desc":"Pouijte ablonu pro formtovn zobrazen hodnoty. ablony pouvaj syntaxi Jinja2 Home Assistantu.","template_mode":"Reim ablony","title":"Lev strana","title_size":"Velikost nadpisu","value_size":"Velikost hodnoty","value_template":"ablona hodnoty","value_template_desc":"ablona pro formtovn hodnoty lev strany pomoc syntaxe Jinja2"},"limit_entity":{"desc":"Voliteln: Pidejte vertikln indiktorovou ru na pruh (nap. limit nabit pro EV baterii).","title":"Entita limitn hodnoty (voliteln)"},"percentage":{"desc":"Ovldn viditelnosti a vzhledu procentulnch hodnot zobrazench pmo na pruhu. Tato sla poskytuj jasn vizuln indiktor aktuln rovn.","text_alignment":"Zarovnn textu procent","text_size":"Velikost textu","text_size_desc":"Upravte velikost textu procent zobrazenho na pruhu.","title":"Zobrazen textu procent"},"right":{"desc":"Konfigurace nadpisu a hodnoty entity zobrazen na prav stran pruhu. To je ideln pro doplujc informace jako \'as do plnho nabit\' nebo sekundrn men.","enable_toggle":"Aktivujte pepna ve pro konfiguraci nastaven prav strany","template_desc":"Pouijte ablonu pro formtovn zobrazen hodnoty. ablony pouvaj syntaxi Jinja2 Home Assistantu.","template_mode":"Reim ablony","title":"Prav strana","title_size":"Velikost nadpisu","value_size":"Velikost hodnoty","value_template":"ablona hodnoty","value_template_desc":"ablona pro formtovn hodnoty prav strany pomoc syntaxe Jinja2"},"template_config":{"desc":"Konfigurace nastaven ablony","percentage_template":"ablona procent","percentage_template_desc":"Zadejte ablonu Jinja2, kter vrac slo mezi 0-100 pro procenta. Pklad: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Konfigurace ablony"},"text_display":{"title":"Zobrazen textu","desc":"Ovldejte viditelnost a vzhled textovch hodnot zobrazench pmo na pruhu. Pro rozdlov a ablonov reimy mete zvolit zobrazen surovch hodnot entit msto procent.","show_value":"Zobrazit hodnotu msto procenta","show_value_desc":"Kdy je povoleno, zobrazuje skutenou hodnotu entity msto procenta. Uiten pro zobrazovn surovch hodnot senzor jako \\"45 kWh\\" msto \\"75%\\".","text_size":"Velikost textu","text_size_desc":"Upravte velikost textu zobrazovanho na pruhu.","text_alignment":"Zarovnn textu"}},"image":{"settings":"Nastaven obrzku","source_type":"Typ zdroje obrzku","source_type_desc":"Vyberte zpsob specifikace zdroje obrzku.","source":{"default":"Vchoz obrzek","url":"URL obrzku","upload":"Nahrt obrzek","entity":"Obrzek entity","attribute":"Atribut entity"},"url_section":{"title":"Konfigurace URL obrzku"},"image_url":"URL obrzku","image_url_desc":"Zadejte pmou URL obrzku, kter chcete zobrazit.","upload_section":{"title":"Konfigurace nahrn obrzku"},"upload":"Nahrt obrzek","upload_desc":"Kliknte pro nahrn souboru obrzku z vaeho zazen.","entity_section":{"title":"Konfigurace obrzku entity"},"entity":"Entita","entity_desc":"Vyberte entitu s obrzkem (nap. osoba, kamery).","attribute_section":{"title":"Konfigurace atributu entity"},"entity_attr_desc":"Vyberte entitu obsahujc URL obrzku v jednom ze svch atribut.","attribute_name":"Nzev atributu","attribute_name_desc":"Zadejte cestu atributu obsahujc URL obrzku (podporovna tekov notace, nap. vehicle_data.vehicleDetails.generalDashboard).","width":"ka (%)","width_desc":"Nastavte ku jako procento kontejneru.","height":"Vka (px)","height_desc":"Nastavte vku v pixelech.","crop_fit":"Oez a pizpsoben","crop_fit_desc":"Ovldn zpsobu, jak se obrzek vejde do kontejneru.","fit":{"cover":"Pokrt (oznout pro vyplnn)","contain":"Obsahovat (vejde cel obrzek)","fill":"Vyplnit (rozthnout pro pizpsoben)","scale_down":"Zmenit","none":"dn (pvodn velikost)"},"border_radius":"Polomr ohranien","border_radius_desc":"Ovldn zaoblench roh obrzku.","tap_actions":"Akce klepnut","filters":"Filtry","filter":{"blur":"Rozmazn","blur_desc":"Pouijte efekt rozmazn na v obrzek.","brightness":"Jas (%)","brightness_desc":"Upravte jas vaeho obrzku.","contrast":"Kontrast (%)","contrast_desc":"Upravte kontrast vaeho obrzku.","saturation":"Sytost (%)","saturation_desc":"Upravte sytost vaeho obrzku."},"hover":{"title":"Efekty pi najet","effect_type":"Typ efektu","effect_type_desc":"Vyberte typ efektu pi najet.","scale":"klovn (piblen/oddlen)","rotate":"Rotace","fade":"Mizen (zmna prhlednosti)","blur":"Rozmazn","brightness":"Jas","glow":"Ze (stn rmeku)","slide":"Posouvn (peklad)","scale_amount":"klovn (%)","scale_amount_desc":"Upravte klovn obrzku pi najet.","rotate_amount":"Rotace ()","rotate_amount_desc":"Rotujte obrzek pi najet.","opacity":"Prhlednost (%)","opacity_desc":"Zmte prhlednost obrzku pi najet.","blur_amount":"Rozmazn (px)","blur_amount_desc":"Pouijte efekt rozmazn na obrzek pi najet.","brightness_amount":"Jas (%)","brightness_amount_desc":"Upravte jas obrzku pi najet.","glow_intensity":"Intenzita ze","glow_intensity_desc":"Vyberte intenzitu efektu ze pi najet.","glow_light":"Slab ze","glow_medium":"Stedn ze","glow_heavy":"Siln ze","glow_custom":"Vlastn stn","translate_x":"Horizontln (px)","translate_x_desc":"Posute obrzek horizontln pi najet.","translate_y":"Vertikln (px)","translate_y_desc":"Posute obrzek vertikln pi najet."},"alt":"Obrzek","no_source":"dn zdroj obrzku nenakonfigurovn"},"graphs":{"chart_type":{"title":"Typ grafu","type":"Typ","desc":"Vyberte styl vizualizace pro vae data."},"types":{"line":"rov graf","bar":"Sloupcov graf","pie":"Kolov graf","donut":"Kobliha graf"},"data_sources":{"title":"Zdroje dat","add_entity":"Pidat entitu","add_first_entity":"Pidejte svou prvn entitu pro vytvoen grafu","no_entities":"dn entity nepidny"},"entity":"Entita","entity_desc":"Vyberte entitu k zobrazen.","display_name_optional":"Zobrazovan nzev (voliteln)","use_as_card_info":"Pout jako informace karty","attribute":"Atribut","attribute_desc":"Pouijte stav entity nebo vyberte konkrtn atribut ke sledovn.","attribute_state_default":"Stav (vchoz)","show_points":"Zobrazit body","fill_area":"Vyplnit oblast","line_style":"Styl ry","line_solid":"Pln","line_dashed":"rkovan","line_dotted":"Tekovan","pie_show_title":"Zobrazit nadpis v sekci","pie_show_value":"Zobrazit hodnotu v sekci","expand_options":"Rozbalit monosti","no_entities":"dn entity nepidny","add_first_entity":"Pidejte svou prvn entitu pro vytvoen grafu","add_entity":"Pidat entitu","display_options":{"title":"Monosti zobrazen"},"show_title":"Zobrazit nadpis grafu","show_value":"Zobrazit hodnotu grafu","chart_title":"Nadpis grafu","chart_title_placeholder":"Zadejte nadpis grafu","time_period":"asov obdob","time_period_desc":"Kolik historickch dat zobrazit.","period":{"1h":"Posledn hodina","3h":"Posledn 3 hodiny","6h":"Posledn 6 hodin","12h":"Posledn 12 hodin","24h":"Posledn 24 hodin","2d":"Posledn 2 dny","7d":"Posledn tden","30d":"Posledn msc","90d":"Posledn 3 msce","365d":"Posledn rok"},"normalize_values":"Normalizovat hodnoty na stejnou klu","normalize_desc":"Uiten pi porovnvn entit s rznmi jednotkami (nap. % vs mle)","chart_height":"Vka grafu","reset_345":"Obnovit vchoz (345px)","chart_width":"ka grafu (%)","reset_100":"Obnovit vchoz (100%)","agg":{"count":"Poet","delta":"Zmna","first":"Prvn hodnota","last":"Posledn hodnota","max":"Maximum","mean":"Prmr","median":"Medin","min":"Minimum","sum":"Souet"},"display":{"add_slice_gap":"Pidat mezeru mezi sekcemi","background_color":"Barva pozad","chart_alignment":"Zarovnn grafu","chart_alignment_desc":"Zarovnn grafu v jeho kontejneru.","chart_height":"Vka grafu","chart_options":"Monosti grafu","chart_title":"Nadpis grafu","chart_title_placeholder":"Zadejte nadpis grafu","chart_width":"ka grafu (%)","chart_width_desc":"Procento dostupn ky modulu. Zarovnn ovld umstn.","info_position":"Pozice informac","info_position_desc":"Pozice pekryt zobrazujc nzev/hodnotu.","legend_position":"Pozice legendy","legend_position_desc":"Kde umstit legendu pi aktivaci.","normalize_desc":"Uiten pi porovnvn entit s rznmi jednotkami (nap. % vs mle)","normalize_values":"Normalizovat hodnoty na stejnou klu","show_grid":"Zobrazit mku","show_legend":"Zobrazit legendu","show_title":"Zobrazit nadpis grafu","show_tooltips":"Zobrazit npovdy","show_value":"Zobrazit hodnotu grafu","smooth_lines":"Hladk ry","time_period":"asov obdob","time_period_desc":"Kolik historickch dat zobrazit.","title":"Monosti zobrazen","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Vyplnit oblast","line_style":"Styl ry","line_width":"ka ry","show_points":"Zobrazit body"},"line_styles":{"dashed":"rkovan","dotted":"Tekovan","solid":"Pln"},"pie":{"show_title":"Zobrazit nadpis v sekci","show_value":"Zobrazit hodnotu v sekci"},"position":{"bottom":"Dole","bottom_left":"Vlevo dole","bottom_right":"Vpravo dole","center":"Sted","hidden":"Skryt","left":"Vlevo","middle":"Sted","right":"Vpravo","top":"Nahoe","top_left":"Vlevo nahoe","top_right":"Vpravo nahoe"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Zkladn nastaven","desc":"Konfigurace vzhledu tlatka a textovho obsahu."},"text":{"title":"Text tlatka","desc":"Text zobrazovan na tlatku (ponechte przdn pouze pro ikonu)."},"style":{"title":"Styl tlatka","desc":"Vizuln styl tlatka"},"alignment":{"title":"Zarovnn","desc":"Zpsob zarovnn tlatka v jeho kontejneru"},"styles":{"flat":"Ploch (vchoz)","glossy":"Leskl","embossed":"Relifn","inset":"Zaputn","gradient_overlay":"Gradientn pekryt","neon_glow":"Neonov ze","outline":"Obrys","glass":"Sklo","metallic":"Kovov"},"align":{"left":"Vlevo","center":"Sted","right":"Vpravo","justify":"Zarovnat (pln ka)"},"icon":{"title":"Nastaven ikony","desc":"Konfigurace zobrazen a umstn ikony pro tlatko.","before":"Ped textem","after":"Za textem","enable_toggle_desc":"Aktivujte pepna ve pro konfiguraci nastaven ikony"},"colors":{"title":"Barvy","background":"Barva pozad","text":"Barva textu"},"hover":{"effect_type":"Typ efektu","effect_type_desc":"Vyberte efekt pi najet pro toto tlatko.","none":"dn","color":"Zmna barvy","scale":"klovn","glow":"Ze","lift":"Zvednut (peklad Y)","hover_color":"Barva pi najet","glow_color":"Barva ze","title":"Efekty pi najet","enable_toggle_desc":"Aktivujte pepna ve pro konfiguraci efekt pi najet"},"actions":{"type":"Typ akce","type_desc":"Vyberte, co se stane pi kliknut na tlatko","entity":"Entita","entity_desc":"Vyberte entitu pro interakci","navigation_path":"Navigan cesta","navigation_path_desc":"Cesta pro navigaci (nap. /dashboard/energy)","service":"Sluba","service_desc":"Sluba k voln (nap. light.turn_on)","service_data":"Data sluby (JSON)","service_data_desc":"Voliteln data pedan slub (formt JSON)"},"tap":{"title":"Akce pi klepnut","desc":"Akce k proveden pi klepnut na tlatko"},"hold":{"title":"Akce pi podren","desc":"Akce k proveden pi podren tlatka"},"double":{"title":"Akce pi dvojitm klepnut","desc":"Akce k proveden pi dvojitm klepnut na tlatko"},"show_icon":"Zobrazit ikonu","show_icon_desc":"Zobrazit ikonu na tlatku","icon_desc":"Ikona k zobrazen (nap. mdi:home)","icon_position":"Pozice ikony","icon_position_desc":"Pozice ikony vzhledem k textu","icon_field":"Ikona"},"info":{"entity_section":{"title":"KONFIGURACE ENTITY"},"entity":"Entita","entity_desc":"Vyberte entitu k zobrazen","icon_section":{"title":"Nastaven ikony"},"show_icon":"Zobrazit ikonu","show_icon_desc":"Zobrazit ikonu vedle hodnoty entity","icon":"Ikona","icon_desc":"Vyberte ikonu k zobrazen","icon_color":"Barva ikony","name_section":{"title":"Nastaven nzvu"},"show_name":"Zobrazit nzev","show_name_desc":"Zobrazit nzev entity nad hodnotou","custom_name":"Vlastn nzev","custom_name_desc":"Pepsat nzev entity vlastnm nzvem","name_color":"Barva nzvu","state_section":{"title":"Nastaven stavu"},"show_state":"Zobrazit stav","show_state_desc":"Zobrazit stav/hodnotu entity","show_units":"Zobrazit jednotky","show_units_desc":"Zobrazit mrnou jednotku (pokud je dostupn)","state_color":"Barva stavu","template":{"title":"Reim ablony","desc":"Pouijte ablonu pro formtovn hodnoty entity. ablony umouj pout syntaxi ablon Home Assistantu pro sloit formtovn.","mode":"Reim ablony","mode_desc":"Pouijte syntaxi ablon Home Assistantu pro formtovn hodnoty","value":"ablona hodnoty","value_desc":"ablona pro formtovn hodnoty entity pomoc syntaxe Jinja2"},"size_section":{"title":"Nastaven velikosti"},"icon_size":"Velikost ikony","icon_size_desc":"Velikost ikony v pixelech","name_size":"Velikost nzvu","name_size_desc":"Velikost textu nzvu entity v pixelech","value_size":"Velikost hodnoty","value_size_desc":"Velikost textu hodnoty entity v pixelech","icon_gap":"Mezera ikony","icon_gap_desc":"Mezera mezi ikonou a obsahem v pixelech","layout_section":{"title":"Rozvren a umstn"},"icon_position":"Pozice ikony","overall_alignment":"Celkov zarovnn","icon_alignment":"Zarovnn ikony","content_alignment":"Zarovnn obsahu","examples_title":"Bn pklady:","example_basic":"Zkladn hodnota","example_units":"S jednotkami","example_round":"Zaokrouhlit na 1 desetinn msto"},"camera":{"config":{"title":"Konfigurace kamery","desc":"Konfigurace entity kamery a nastaven zobrazen."},"entity":"Entita kamery","entity_desc":"Vyberte entitu kamery k zobrazen. Mla by to bt entita kamery nebo mjpeg z Home Assistantu.","name":"Nzev kamery","name_desc":"Vlastn nzev pro kameru. Ponechte przdn pro pouit nzvu entity.","show_name":"Zobrazit nzev kamery","show_name_desc":"Zobrazit nzev kamery v kanlu","name_position":{"group_title":"Pozice nzvu kamery","title":"Pozice nzvu","desc":"Vyberte, kde se nzev kamery objev jako pekryt na obrzku kamery.","options":{"top_left":"Vlevo nahoe","top_right":"Vpravo nahoe","center":"Sted","bottom_left":"Vlevo dole","bottom_right":"Vpravo dole"}},"display":{"title":"Nastaven zobrazen"},"live_view":{"title":"iv nhled","desc":"Aktivujte pro zobrazen ivho streamu kamery (vyaduje integraci stream). Pi deaktivaci zobrazuje statick snmky."},"auto_refresh":{"section_title":"Nastaven automatickho obnoven","title":"Automatick obnoven","desc":"Automaticky obnovovat obrzek kamery v pravidelnch intervalech"},"refresh_interval":{"title":"Interval obnoven (sekundy)","desc":"Jak asto automaticky obnovovat obrzek kamery."},"dimensions":{"title":"Rozmry"},"width":"ka (px)","width_desc":"Nastavte ku zobrazen kamery. Rozsah: 100-1000px","height":"Vka (px)","height_desc":"Nastavte vku zobrazen kamery. Rozsah: 100-1000px","link_aspect":"Propojit pomr stran","unlink_aspect":"Odpojit pomr stran","aspect_linked":{"title":"Pomr stran propojen","desc":"Rozmry udruj pomr {ratio}:1. prava jednoho rozmru automaticky aktualizuje druh pro zachovn proporc."},"aspect_independent":{"title":"Nezvisl rozmry","desc":"ka a vka mohou bt upraveny nezvisle. Kliknte na tlatko propojen ve pro zachovn pomru stran."},"crop":{"title":"Oez a pozice","desc":"Upravte oez a pozici zobrazen kamery. Uiten pro zamen na konkrtn oblasti nebo odstrann nedoucch okraj.","left_title":"Lev oez (%)","left_desc":"Oez z levho okraje. Vy hodnoty zobrazuj mn z lev strany.","right_title":"Prav oez (%)","right_desc":"Oez z pravho okraje. Vy hodnoty zobrazuj mn z prav strany.","top_title":"Horn oez (%)","top_desc":"Oez z hornho okraje. Vy hodnoty zobrazuj mn z horn oblasti.","bottom_title":"Doln oez (%)","bottom_desc":"Oez z dolnho okraje. Vy hodnoty zobrazuj mn z doln oblasti.","active_applied":"Aktivn oezy pouity","reset_all":"Obnovit vechny oezy"},"template":{"title":"Reim ablony","desc":"Pouijte ablonu pro dynamick nastaven entity kamery. ablony umouj pout syntaxi ablon Home Assistantu pro podmnn vbr kamery.","mode_label":"Reim ablony","mode_desc":"Pouijte syntaxi ablon Home Assistantu pro dynamick vbr entity kamery","camera_template_label":"ablona kamery","camera_template_desc":"ablona pro dynamick nastaven entity kamery pomoc syntaxe Jinja2","examples_title":"Bn pklady:","example1_desc":"Zobrazit kameru pi slunenm poas","example2_desc":"Pepnat mezi kamerami na zklad vstupnho boolean","example3_desc":"Pout input select pro vbr entity kamery"},"show_name_toggle":{"enable_toggle_desc":"Aktivujte pepna ve pro konfiguraci zobrazen nzvu kamery"}},"separator":{"config":{"title":"Konfigurace oddlovae"},"style":{"title":"Styl oddlovae","desc":"Vyberte vizuln styl oddlovac ry."},"options":{"solid":"Pln ra","double":"Dvojit ra","dotted":"Tekovan ra","double_dotted":"Dvojit tekovan","shadow":"Stn","blank":"Przdn msto"},"appearance":{"title":"Vzhled"},"thickness":"Tlouka (px)","thickness_desc":"Tlouka oddlovac ry.","width":"ka (%)","width_desc":"ka oddlovae jako procento kontejneru.","color":{"title":"Barva","desc":"Barva oddlovac ry."},"show_title":"Zobrazit nadpis","show_title_desc":"Pidejte text do stedu oddlovac ry (nap. ------ Text ------)","text_content":{"title":"Textov obsah","desc":"Text zobrazovan ve stedu oddlovae."},"font_size":"Velikost psma","font_size_desc":"Velikost textu v pixelech.","text_color":{"title":"Barva textu","desc":"Barva textu oddlovae."},"text_format":{"title":"Formtovn textu","desc":"Pouijte styly formtovn na text oddlovae.","bold":"Tun","italic":"Kurzva","underline":"Podtren","uppercase":"Velk psmena","strikethrough":"Pekrtnut"},"spacer":{"title":"Vka rozestupu"},"height":"Vka (px)","height_desc":"Ovld vizuln mezeru pro przdn msto.","show_title_toggle":{"enable_toggle_desc":"Aktivujte pepna ve pro konfiguraci nastaven nadpisu"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Nzev modulu:","module_name_placeholder":"Dejte tomuto modulu vlastn nzev, aby se lpe identifikoval v editoru.","module_name_help":"Dejte tomuto modulu vlastn nzev, aby se lpe identifikoval v editoru."},"layout_logic":{"display_title":"Zobrazit tento prvek","display_desc":"Ovldn, kdy je tento prvek zobrazen. Vyberte \\"Vdy\\" pro zachovn viditelnosti. Vyberte \\"Pokud jsou splnny VECHNY podmnky ne\\" nebo \\"Pokud je splnna JAKKOLI podmnka ne\\" pro zobrazen pouze kdy podmnky, kter pidte ne, jsou vyhodnoceny jako pravdiv.","always":"Vdy","every":"Pokud jsou splnny VECHNY podmnky ne","any":"Pokud je splnna JAKKOLI podmnka ne","conditions":"Podmnky","add_condition":"Pidat podmnku","no_conditions":"Zatm nejsou pidny dn podmnky. Kliknte na \\"Pidat podmnku\\" pro zatek.","condition_types":{"entity_state":"Stav entity","entity_attribute":"Atribut entity","time":"asov rozsah","template":"ablona"},"condition_fields":{"entity":"Entita","operator":"Opertor","value":"Hodnota","attribute":"Atribut","time_from":"Od","time_to":"Do","template":"ablona"},"condition_header":"Podmnka","custom_name":"Vlastn nzev","custom_name_desc":"Voliteln: Dejte tto podmnce vlastn nzev pro snadnj identifikaci","condition_type":"Typ podmnky"},"hover_effects":{"title":"Efekty pi najet","description":"Konfigurujte vizuln efekty, kter se zobraz pi najet my na tento modul, dek nebo sloupec.","effect":"Efekt pi najet","effect_desc":"Vyberte vizuln efekt, kter se pouije pi najet my","effects":{"none":"dn","highlight":"Zvraznn","outline":"Obrys","grow":"Zvten","shrink":"Zmenen","pulse":"Pulsovn","bounce":"Odskok","float":"Plavn","glow":"Zen","shadow":"Stn","rotate":"Rotace","skew":"Naklonn","wobble":"Kolsn","buzz":"Vibrace","fade":"Miznn"}},"design":{"copy":"Koprovat","paste":"Vloit","reset_all":"Obnovit ve","copy_tooltip":"Koprovat aktuln nastaven vzhledu (funguje nap vemi Ultra kartami)","paste_tooltip_has":"Vloit zkoprovan nastaven vzhledu (z mezikarty schrnky)","paste_tooltip_none":"dn nastaven vzhledu v mezikarty schrnce","reset_all_tooltip":"Obnovit vechna nastaven vzhledu na vchoz","text_section":"Text","text_color":"Barva textu","alignment":"Zarovnn","inherit_alignment":"Zddit (bez zarovnn)","font_size":"Velikost psma","font_size_placeholder":"16px (vchoz), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Obnovit velikost psma na vchoz","line_height":"Vka dku","line_height_placeholder":"0 (vchoz), 28px, 1.7","reset_line_height":"Obnovit vku dku na vchoz","letter_spacing":"Rozestup psmen","letter_spacing_placeholder":"auto (vchoz), 1px, -0.04em","reset_letter_spacing":"Obnovit rozestup psmen na vchoz","font":"Psmo","font_weight":"Tlouka psma","text_transform":"Transformace textu","font_style":"Styl psma","default_option":" Vchoz ","weight_thin":"100 - Tenk","weight_light":"300 - Svtl","weight_normal":"400 - Normln","weight_medium":"500 - Stedn","weight_semi_bold":"600 - Polo tun","weight_bold":"700 - Tun","weight_black":"900 - ern","transform_none":"dn","transform_uppercase":"VELK PSMENA","transform_lowercase":"mal psmena","transform_capitalize":"Velk prvn psmena","style_normal":"Normln","style_italic":"Kurzva","style_oblique":"ikm","background_section":"Pozad","background_color":"Barva pozad","background_image_type":"Typ obrzku pozad","bg_none":"dn","bg_upload":"Nahrt obrzek","bg_entity":"Obrzek entity","bg_url":"URL obrzku","sizes_section":"Velikosti","spacing_section":"Rozestupy","border_section":"Ohranien","text_shadow_section":"Stn textu","box_shadow_section":"Stn rmeku","position_section":"Pozice","overflow_section":"Peteen","animations_section":"Animace","width":"ka","height":"Vka","max_width":"Maximln ka","max_height":"Maximln vka","min_width":"Minimln ka","min_height":"Minimln vka","border_radius":"Polomr ohranien","border_style":"Styl ohranien","border_width":"ka ohranien","border_color":"Barva ohranien","margin":"Okraj","padding":"Vnitn okraj","top":"Nahoe","right":"Vpravo","bottom":"Dole","left":"Vlevo","unlock_sides":"Odemknout pro nezvisl pravy stran","lock_sides":"Zamknout pro spolen pravy vech stran","horizontal_shift":"Horizontln posun","vertical_shift":"Vertikln posun","blur":"Rozmazn","text_shadow_color":"Barva stnu textu","box_shadow_color":"Barva stnu rmeku","overflow":"Peteen","clip_path":"Cesta oezu","upload_bg_image":"Nahrt obrzek pozad","bg_image_entity":"Entita obrzku pozad","bg_image_url":"URL obrzku pozad","choose_file":"Vybrat soubor","no_file_chosen":"dn soubor nevybrn","backdrop_filter":"Filtr pozad","spread":"Rozen","visible_default":"Viditeln (vchoz)","examples":"Pklady","state_based_animation":"Animace zaloen na stavu","animation_type":"Typ animace","animation_duration":"Doba trvn animace","animation_duration_desc":"Doba trvn animace (nap. 2s, 500ms, 1.5s)","intro_outro_animations":"vodn a zvren animace","intro_animation":"vodn animace","outro_animation":"Zvren animace","duration":"Doba trvn","delay":"Zpodn","timing":"Naasovn","none":"dn","ease":"Zmrnn","border_style_none":"dn","border_style_solid":"Pln","border_style_dashed":"rkovan","border_style_dotted":"Tekovan","border_style_double":"Double","position_default":" Vchoz ","position_static":"Statick","position_relative":"Relativn","position_absolute":"Absolutn","position_fixed":"Pevn","position_sticky":"Lepkav"},"modules":{"text":"Textov modul","image":"Obrzkov modul","icon":"Ikonov modul","bar":"Sloupcov modul","info":"Informan modul","button":"Tlatkov modul","separator":"Modul oddlovae","markdown":"Markdown modul","camera":"Kamerov modul","graphs":"Modul graf","no_text_configured":"dn text nenakonfigurovn","no_image_configured":"dn obrzek nenakonfigurovn","uploaded_image":"Nahran obrzek","icons_configured":"{count} ikon nakonfigurovno","no_icons_configured":"dn ikony nenakonfigurovny","default_entity_suggestion":"Entita: sensor.battery_level","sample_text":"Ukzkov text","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Atribut","attribute_name":"Nzev atributu","baseline":"Zkladn linie","bottom":"Dole","center":"Sted","entity":"Entita","justify":"Zarovnat","left":"Vlevo","none":"dn","right":"Vpravo","space_around":"Mezera kolem","space_between":"Mezera mezi","state":"Stav","stretch":"Rozthnout","top":"Nahoe"},"horizontal":{"alignment":{"horizontal":"Horizontln zarovnn","horizontal_desc":"Vyberte zpsob horizontlnho zarovnn prvk v kontejneru.","vertical":"Vertikln zarovnn","vertical_desc":"Vyberte zpsob vertiklnho zarovnn prvk v kontejneru."},"empty":{"add_modules":"Pidejte moduly v konstruktoru rozvren pro jejich zobrazen zde","no_modules":"Zatm nejsou pidny dn moduly"},"gap":{"between_items":"Mezera mezi polokami","desc":"Nastavte rozestupy mezi horizontlnmi prvky (v jednotkch rem). Pouijte zporn hodnoty pro pekrvn prvk.","title":"Konfigurace mezer"},"layout":{"desc":"Konfigurace zpsobu horizontlnho uspodn prvk v kontejneru.","title":"Konfigurace rozvren"},"wrapping":{"desc":"Povolit prvkm pejt na dal dek pi pekroen ky kontejneru.","title":"Povolit zalamovn"}},"markdown":{"code_highlighting":"Zvraznn kdu","code_highlighting_desc":"Zvraznn syntaxe pro bloky kdu","content":{"desc":"Zadejte v markdown obsah s plnou podporou formtovn","label":"Obsah","title":"Markdown obsah"},"enable_html":"Povolit HTML","enable_html_desc":"Povolit HTML tagy v markdown obsahu","enable_tables":"Povolit tabulky","enable_tables_desc":"Podpora syntaxe markdown tabulek","features":{"title":"Funkce Markdown"}},"vertical":{"alignment":{"vertical":"Vertikln zarovnn","vertical_desc":"Vyberte zpsob vertiklnho zarovnn prvk v kontejneru."},"empty":{"add_modules":"Pidejte moduly v konstruktoru rozvren pro jejich zobrazen zde","no_modules":"Zatm nejsou pidny dn moduly"},"gap":{"between_items":"Mezera mezi polokami","desc":"Nastavte rozestupy mezi vertiklnmi prvky (v jednotkch rem). Pouijte zporn hodnoty pro pekrvn prvk.","title":"Konfigurace mezer"},"layout":{"desc":"Konfigurace zpsobu vertiklnho uspodn prvk v kontejneru.","title":"Konfigurace rozvren"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var r=i.t(n,2);const s=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbygger","settings":"Indstillinger","about":"Om","pro":"Pro"},"settings":{"title":"Kortindstillinger","description":"Konfigurer kortets generelle udseende og adfrd."},"appearance":{"title":"Udseende","description":"Kontroller det visuelle udtryk for dit kort"},"spacing":{"title":"Mellemrum","description":"Kontroller mellemrum og positionering af dit kort"},"fields":{"card_background_color":"Kortets baggrundsfarve","card_background_color_desc":"Baggrundsfarve for hele kortet","border_radius":"Hjrneradius","border_radius_desc":"Afrundede hjrner for kortet (i pixel)","card_padding":"Indre afstand","card_padding_desc":"Indvendig afstand i kortet","card_margin":"Ydre margin","card_margin_desc":"Ydre afstand omkring kortet","unit_px":"px","reset_default":"Nulstil til standard","reset_default_value":"Nulstil til standard ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Fuld skrm","return_dashboard":"Tilbage til dashboard","dashboard":"Dashboard"},"layout":{"live_preview":"Live forhndsvisning","toggle_preview":"Skift forhndsvisning","drag_to_move_module":"Trk for at flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliker modul","delete_module":"Slet modul","drag_to_move_layout":"Trk for at flytte layout","horizontal_layout":"Vandret layout","vertical_layout":"Lodret layout","add_module_to_layout":"Tilfj modul til layout","layout_settings":"Layoutindstillinger","duplicate_layout":"Dupliker layout","delete_layout":"Slet layout","click_to_add_module":"Klik for at tilfje et modul","drop_modules_here":"Slip moduler her","drag_to_reorder":"Trk for at omarrangere","edit_child_module":"Rediger undermodul","duplicate_child_module":"Dupliker undermodul","delete_child_module":"Slet undermodul","module_settings_title":"Modulindstillinger","general_tab":"Generelt","actions_tab":"Handlinger","other_tab":"Andet","logic_tab":"Logik","design_tab":"Design","drag_to_resize":"Trk for at ndre strrelse","hidden_by_logic":"Skjult af logik","child_module_settings_title":"Indstillinger for undermodul","add_row":"Tilfj rkke","add_row_tooltip":"Tilfj en ny rkke til dit layout","row_settings":"Rkkeindstillinger","column_settings":"Kolonneindstillinger","row_background_color":"Rkkens baggrundsfarve","column_gap":"Kolonneafstand (px)","vertical_alignment":"Lodret justering","horizontal_alignment":"Vandret justering","column_preview":"Forhndsvisning af kolonne","modules_count":"{count} moduler","alignment_top":"verst","alignment_center":"Center","alignment_bottom":"Nederst","alignment_stretch":"Strk","alignment_left":"Venstre","alignment_right":"Hjre","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Udviklet af","desc1":"En kraftfuld modulr kortbygger til Home Assistant","desc2":"Opret brugerdefinerede layouts med en professionel sidebygger-grnseflade","desc3":"Modulrt layout-system med betinget logik og professionelle designvrktjer","github_repo":"GitHub-arkiv","version":"Version","join_discord":"Deltag p vores Discord","support_title":"Stt Ultra Card","support_desc":"Dine generse bidrag driver udviklingen af fantastiske funktioner til dette kort! Uden sttte fra brugere som dig, ville fortsat innovation ikke vre mulig.","leave_tip":"GIV ET BIDRAG (PAYPAL)"},"actions":{"title":"Handlingskonfiguration","description":"Konfigurer hvordan modulet reagerer p brugerinteraktioner. Bruger Home Assistants indbyggede handlingssystem for ensartet adfrd p dit dashboard.","tap_action":"Tryk-handling","tap_action_desc":"Handling der udfres ved tryk/klik p modulet","hold_action":"Hold-handling","hold_action_desc":"Handling der udfres ved at holde nede p modulet","double_tap_action":"Dobbelttryk-handling","double_tap_action_desc":"Handling der udfres ved dobbelttryk p modulet","tap_behavior":"Tryk-adfrd","tap_behavior_desc":"Handling der udfres nr elementet trykkes/klikkes.","hold_behavior":"Hold-adfrd","hold_behavior_desc":"Handling der udfres nr elementet holdes nede.","double_tap_behavior":"Dobbelttryk-adfrd","double_tap_behavior_desc":"Handling der udfres nr elementet dobbelttrykkes/klikkes.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITETSKONFIGURATION","desc":"Konfigurer entitet og aktive/inaktive tilstande"},"entity":"Entitet","entity_desc":"Vlg den entitet, som dette ikon reprsenterer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsvrdi der betragtes som \\"inaktiv\\" (lad st tom for at bruge faktisk entitetstilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsvrdi der betragtes som \\"aktiv\\" (lad st tom for at bruge faktisk entitetstilstand)","active_animation":"Aktiv animation","active_animation_desc":"Animation nr ikon er aktiv","active_icon":"Aktivt ikon","active_icon_background":"Aktivt ikon baggrund","active_icon_background_color":"Aktivt ikon baggrundsfarve","active_icon_color":"Aktivt ikon farve","active_icon_desc":"Ikon der skal vises nr aktiv","active_name":"Aktivt navn","active_name_color":"Aktivt navn farve","active_name_desc":"Brugerdefineret navn nr aktiv","active_state_color":"Aktiv tilstandsfarve","active_state_text":"Aktiv tilstandstekst","animation_bounce":"Hop","animation_fade":"Fade","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter hjre","animation_scale":"Skalering","animation_section":{"desc":"Konfigurer animationer for aktive og inaktive tilstande","title":"Ikonanimation"},"animation_shake":"Ryst","animation_spin":"Spin","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Baggrundsfarve nr aktiv","background_color_inactive":"Baggrundsfarve nr inaktiv","background_section":{"desc":"Konfigurer indstillinger for inaktiv baggrund","title":"Inaktiv baggrund"},"background_shape_active":"Baggrundsform nr aktiv","background_shape_inactive":"Baggrundsform nr inaktiv","custom_active_name":"Brugerdefineret aktivt navn","custom_active_name_desc":"Overskriv entitetsnavn nr aktiv (lad st tom for at bruge entitetsnavn)","custom_active_state":"Brugerdefineret aktiv tilstand","custom_active_state_desc":"Brugerdefineret tekst nr aktiv (lad st tom for at bruge faktisk tilstand)","custom_inactive_name":"Brugerdefineret inaktivt navn","custom_inactive_name_desc":"Overskriv entitetsnavn nr inaktiv (lad st tom for at bruge entitetsnavn)","custom_inactive_state":"Brugerdefineret inaktiv tilstand","custom_inactive_state_desc":"Brugerdefineret tekst nr inaktiv (lad st tom for at bruge faktisk tilstand)","icon_color_active":"Farve nr aktiv","icon_color_inactive":"Farve nr inaktiv","icon_section":{"title":"Ikonkonfiguration"},"icon_size_active":"Ikonstrrelse nr aktiv","icon_size_inactive":"Ikonstrrelse nr inaktiv","inactive_animation":"Inaktiv animation","inactive_animation_desc":"Animation nr ikon er inaktiv","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Inaktivt ikon baggrund","inactive_icon_background_color":"Inaktivt ikon baggrundsfarve","inactive_icon_color":"Inaktivt ikon farve","inactive_icon_config":"Konfiguration af inaktivt ikon","inactive_icon_config_desc":"Konfigurer indstillinger for inaktivt ikon","inactive_icon_desc":"Ikon der skal vises nr inaktiv","inactive_name":"Inaktivt navn","inactive_name_color":"Inaktivt navn farve","inactive_name_config":"Konfiguration af inaktivt navn","inactive_name_config_desc":"Konfigurer indstillinger for inaktivt navn","inactive_name_desc":"Brugerdefineret navn nr inaktiv","inactive_state_color":"Inaktiv tilstandsfarve","inactive_state_config":"Konfiguration af inaktiv tilstand","inactive_state_config_desc":"Konfigurer indstillinger for inaktiv tilstand","inactive_state_text":"Inaktiv tilstandstekst","name_color_active":"Navnefarve nr aktiv","name_color_inactive":"Navnefarve nr inaktiv","name_section":{"title":"Navnekonfiguration"},"name_size_active":"Navnetekststrrelse nr aktiv","name_size_inactive":"Navnetekststrrelse nr inaktiv","state_color_active":"Tilstandsfarve nr aktiv","state_color_inactive":"Tilstandsfarve nr inaktiv","state_section":{"title":"Tilstandskonfiguration"},"state_size_active":"Tilstandstekststrrelse nr aktiv","state_size_inactive":"Tilstandstekststrrelse nr inaktiv","template":"Skabelon","template_mode":"Avanceret skabelontilstand","template_section":{"desc":"Brug Jinja2-skabeloner til avanceret ikonstyring. Skabeloner kan styre synlighed (sand/falsk for at vise/skjule ikoner) og tilpasse tilstandstekst. Returnr brugerdefineret tekst for aktiv tilstand, returnr faktisk entitetstilstand for inaktiv.","title":"Avanceret skabelontilstand"}},"text":{"content_section":{"title":"Indholdskonfiguration","desc":"Konfigurer tekstindhold og grundlggende indstillinger for dette modul."},"text_content":"Tekstindhold","text_content_desc":"Indtast den tekst, der skal vises i dette modul.","icon_section":{"title":"Ikonkonfiguration","desc":"Vlg et ikon, der vises sammen med tekstindholdet."},"icon":"Ikon","icon_desc":"Vlg et ikon der vises sammen med teksten. Lad st tom for intet ikon.","icon_position":"Ikonposition","icon_position_desc":"Vlg hvor ikonet skal placeres i forhold til teksten.","before_text":"Fr tekst","after_text":"Efter tekst","template_mode":"Skabelontilstand","template_mode_desc":"Brug Home Assistants skabelonsyntaks til at gengive tekst","value_template":"Vrdi-skabelon","value_template_desc":"Skabelon til at gengive teksten ved hjlp af Jinja2-syntaks","examples_title":"Almindelige eksempler:","example_basic":"Grundvrdi","example_percent":"Med procent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Bjlkeindstillinger","desc":"Konfigurer hvordan bjlkeprocenten beregnes og vises."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattribut","difference":"Forskel","template":"Skabelon"},"attribute_section":{"title":"Konfiguration af entitetsattribut","desc":"Konfigurer entitetsattributindstillinger"},"attribute_entity":"Attributentitet","attribute_entity_desc":"Vlg entiteten der indeholder attributten med procentvrdien","attribute_name":"Attributnavn","attribute_name_desc":"Indtast navnet p attributten der indeholder procentvrdien (f.eks. \\"battery_level\\")","diff_section":{"title":"Konfiguration af forskelberegning","desc":"Konfigurer indstillinger for forskelberegning"},"current_entity":"Nuvrende vrdi-entitet","current_entity_desc":"Entitet der reprsenterer den nuvrende/brugte mngde (f.eks. brugt brndstof, forbrugt batteri)","total_entity":"Total vrdi-entitet","total_entity_desc":"Entitet der reprsenterer den totale/maksimale mngde (f.eks. brndstofkapacitet, batterikapacitet)","template_section":{"title":"Skabelonkonfiguration","desc":"Konfigurer skabelonindstillinger"},"percentage_template":"Procentskabelon","percentage_template_desc":"Indtast en Jinja2-skabelon der returnerer et tal mellem 0-100 for procenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer bjlkefyldet ved hjlp af forudindstillinger som ladestriber, puls, gld og mere. Du kan udlse animationer baseret p en entitets tilstand eller attribut, og eventuelt overstyre animationen nr en anden betingelse er opfyldt.","override":{"attribute_name_desc":"Attributnavn der skal sammenlignes","desc":"Vlg en handlingsentitet og tilstand for at definere hvornr denne animation skal overstyre den almindelige animation","entity_desc":"Entitet der skal evalueres for overstyring af trigger","match_value":"Overstyring af matchvrdi","match_value_desc":"Tekstsammenligning mod tilstand eller attribut","title":"Overstyring af handlingsanimation","type":"Overstyring af animationstype","type_desc":"Animation der skal bruges nr overstyringsbetingelsen matcher."},"title":"Bjlkeanimation","trigger":{"attribute_name_desc":"Attributnavn der skal sammenlignes (f.eks. charging_status)","desc":"Vlg en entitet der skal overvges og definer vrdien + animation der skal anvendes nr den matcher.","entity_desc":"Entitet der skal evalueres for animationstrigger","match_value":"Matchvrdi","match_value_desc":"Tekst der skal sammenlignes med tilstand eller attribut (sammenligning er tekstbaseret).","title":"Animationstrigger","type":"Triggertype","type_desc":"Vlg om der skal sammenlignes entitetstilstand eller en attribut"},"type":"Animationstype","type_desc":"Vlg hvordan bjlken skal animeres nr den udlses.","types":{"blinking":"Blinkende","bouncing":"Hoppende","bubbles":"Bobler","charging":"Opladning (diagonale linjer)","fill":"Fyld","flicker":"Flimmer","glow":"Gld","heartbeat":"Hjerteslag","pulse":"Puls","rainbow":"Regnbue","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafik (barberstang)","vibrate":"Vibrer"}},"appearance":{"direction":"Fylderetning","direction_desc":"Vlg retningen bjlken fylder i nr vrdien stiger.","left_to_right":"Venstre til hjre","right_to_left":"Hjre til venstre","alignment":"Bjlkejustering","alignment_desc":"Vlg hvordan bjlken skal justeres nr den er mindre end 100% bredde.","border_radius":"Kantradius","border_radius_desc":"Kontroller de afrundede hjrner af bjlken.","height":"Bjlkehjde","height_desc":"Juster tykkelsen af fremskridtsbjlken i pixels.","style":"Bjlkestil","style_dashed":"Stiplet","style_desc":"Vlg den visuelle stil af fremskridtsbjlken.","style_dots":"Prikker","style_embossed":"Prget","style_flat":"Flad (standard)","style_glass":"Glas","style_glossy":"Blank","style_gradient":"Gradientoverlay","style_inset":"Indsat","style_metallic":"Metallisk","style_neon":"Neongld","style_neumorphic":"Neumorfisk","style_outline":"Kontur","title":"Bjlkeudseende","width":"Bjlkebredde","width_desc":"Indstil bjlkebredden som procent af container."},"attr_config":{"attribute_entity":"Attributentitet","attribute_entity_desc":"Vlg entiteten der indeholder attributten med procentvrdien","attribute_name":"Attributnavn","attribute_name_desc":"Indtast navnet p attributten der indeholder procentvrdien (f.eks. \\"battery_level\\")","desc":"Konfigurer entitetsattributindstillinger","title":"Konfiguration af entitetsattribut"},"colors":{"background_color":"Baggrundsfarve","bar_color":"Bjlkefarve","border_color":"Kantfarve","left_side":"Venstre side farver","limit_indicator":"Grnseindikator","percentage_text":"Procenttekst","right_side":"Hjre side farver","title":"Farver","title_color":"Titelfarve","value_color":"Vrdifarve","text_color":"Tekstfarve","text_color_desc":"Vlg farven for teksten vist p bjlken."},"diff_config":{"current_entity":"Nuvrende vrdi-entitet","current_entity_desc":"Entitet der reprsenterer den nuvrende/brugte mngde (f.eks. brugt brndstof, forbrugt batteri)","desc":"Konfigurer indstillinger for forskelberegning","title":"Konfiguration af forskelberegning","total_entity":"Total vrdi-entitet","total_entity_desc":"Entitet der reprsenterer den totale/maksimale mngde (f.eks. brndstofkapacitet, batterikapacitet)"},"entity":{"desc_empty":"Vlg en entitet der giver en procentvrdi (0-100). Batterisensorer er ideelle til bjlker.","desc_present":"Entiteten der giver procentvrdien for bjlken.","no_entity_warning":"Ingen entitet valgt - Vlg venligst en sensor med vrdier mellem 0-100","title":"Bjlke procent-entitet"},"gradient":{"cropped":"Beskret","desc":"Anvend en farvegradient p bjlkefyldet. Nr aktiveret, vlg hvordan gradienten vises og tilpas farvestop nedenfor.","full":"Fuld","title":"Gradienttilstand","value_based":"Vrdibaseret"},"labels":{"alignment":"Etikettejustering","alignment_desc":"Kontroller hvordan venstre og hjre etiketter er positioneret."},"left":{"desc":"Konfigurer titlen og entitetsvrdien vist p venstre side af bjlken. Dette er nyttigt til at vise etiketter som \'Rkkevidde\' eller \'Batteri\' sammen med deres vrdier.","enable_toggle":"Aktiver skifteren ovenfor for at konfigurere venstre side indstillinger","template_desc":"Brug en skabelon til at formatere den viste vrdi. Skabeloner bruger Home Assistants Jinja2-syntaks.","template_mode":"Skabelontilstand","title":"Venstre side","title_size":"Titelstrrelse","value_size":"Vrdistrrelse","value_template":"Vrdiskabelon","value_template_desc":"Skabelon til formatering af venstre side vrdien ved hjlp af Jinja2-syntaks"},"limit_entity":{"desc":"Valgfrit: Tilfj en vertikal indikatorlinje p bjlken (f.eks. ladegrnse for EV-batteri).","title":"Grnsevrdi-entitet (valgfrit)"},"percentage":{"desc":"Kontroller synligheden og udseendet af procentvrdier vist direkte p bjlken. Disse tal giver en klar visuel indikator for det nuvrende niveau.","text_alignment":"Procenttekst justering","text_size":"Tekststrrelse","text_size_desc":"Juster strrelsen af procenttekst vist p bjlken.","title":"Procenttekst visning"},"right":{"desc":"Konfigurer titlen og entitetsvrdien vist p hjre side af bjlken. Dette er ideelt til supplerende information som \'Tid til fuld\' eller sekundre mlinger.","enable_toggle":"Aktiver skifteren ovenfor for at konfigurere hjre side indstillinger","template_desc":"Brug en skabelon til at formatere den viste vrdi. Skabeloner bruger Home Assistants Jinja2-syntaks.","template_mode":"Skabelontilstand","title":"Hjre side","title_size":"Titelstrrelse","value_size":"Vrdistrrelse","value_template":"Vrdiskabelon","value_template_desc":"Skabelon til formatering af hjre side vrdien ved hjlp af Jinja2-syntaks"},"template_config":{"desc":"Konfigurer skabelonindstillinger","percentage_template":"Procentskabelon","percentage_template_desc":"Indtast en Jinja2-skabelon der returnerer et tal mellem 0-100 for procenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Skabelonkonfiguration"},"text_display":{"title":"Tekstvisning","desc":"Kontroller synligheden og udseendet af tekstvrdier vist direkte p bjlken. For forskel- og skabelontilstande kan du vlge at vise r entitetsvrdier i stedet for procenter.","show_value":"Vis vrdi i stedet for procent","show_value_desc":"Nr aktiveret, viser den faktiske entitetsvrdi i stedet for procent. Nyttig til visning af r sensorvrdier som \\"45 kWh\\" i stedet for \\"75%\\".","text_size":"Tekststrrelse","text_size_desc":"Juster strrelsen p teksten vist p bjlken.","text_alignment":"Tekstjustering"}},"image":{"settings":"Billedindstillinger","source_type":"Type af billedkilde","source_type_desc":"Vlg hvordan du vil angive billedkilden.","source":{"default":"Standardbillede","url":"Billede-URL","upload":"Upload billede","entity":"Entitetsbillede","attribute":"Entitetsattribut"},"url_section":{"title":"Konfiguration af billede-URL"},"image_url":"Billede-URL","image_url_desc":"Indtast den direkte URL til billedet, du vil vise.","upload_section":{"title":"Konfiguration af billedupload"},"upload":"Upload billede","upload_desc":"Klik for at uploade en billedfil fra din enhed.","entity_section":{"title":"Konfiguration af entitetsbillede"},"entity":"Entitet","entity_desc":"Vlg en entitet der har et billede (fx person, kamera).","attribute_section":{"title":"Konfiguration af entitetsattribut"},"entity_attr_desc":"Vlg den entitet der indeholder billed-URL\'en i en af sine attributter.","attribute_name":"Attributnavn","attribute_name_desc":"Indtast attributstien der indeholder billed-URL\'en (punktnotation understttes, fx vehicle_data.vehicleDetails.generalDashboard).","width":"Bredde (%)","width_desc":"Angiv bredden som en procentdel af beholderen.","height":"Hjde (px)","height_desc":"Angiv hjden i pixel.","crop_fit":"Beskr & tilpas","crop_fit_desc":"Kontroller hvordan billedet passer i sin beholder.","fit":{"cover":"Dk (beskr for at udfylde)","contain":"Indeholder (tilpas hele billedet)","fill":"Fyld (strk for at tilpasse)","scale_down":"Skaler ned","none":"Ingen (oprindelig strrelse)"},"border_radius":"Hjrneradius","border_radius_desc":"Kontroller billedets afrundede hjrner.","tap_actions":"Tryk-handlinger","filters":"Filtre","filter":{"blur":"Slring","blur_desc":"Anvend en slringseffekt p dit billede.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrken p dit billede.","contrast":"Kontrast (%)","contrast_desc":"ndr kontrasten p dit billede.","saturation":"Mtning (%)","saturation_desc":"Juster mtningsniveauet p dit billede."},"hover":{"title":"Hover-effekter","effect_type":"Effekttype","effect_type_desc":"Vlg typen af hover-effekt.","scale":"Skalr (zoom ind/ud)","rotate":"Roter","fade":"Fade (ndring af opacitet)","blur":"Slr","brightness":"Lysstyrke","glow":"Gld (kasseskgge)","slide":"Glid (translation)","scale_amount":"Skalering (%)","scale_amount_desc":"Juster billedets skalering ved hover.","rotate_amount":"Rotation ()","rotate_amount_desc":"Roter billedet ved hover.","opacity":"Opacitet (%)","opacity_desc":"ndr billedets opacitet ved hover.","blur_amount":"Slring (px)","blur_amount_desc":"Anvend slring p billedet ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrken ved hover.","glow_intensity":"Gld-intensitet","glow_intensity_desc":"Vlg intensiteten af gldeffekten ved hover.","glow_light":"Let gld","glow_medium":"Middel gld","glow_heavy":"Kraftig gld","glow_custom":"Brugerdefineret skygge","translate_x":"Vandret (px)","translate_x_desc":"Flyt billedet vandret ved hover.","translate_y":"Lodret (px)","translate_y_desc":"Flyt billedet lodret ved hover."},"alt":"Billede","no_source":"Ingen billedkilde konfigureret"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Vlg visualiseringsstil for dine data."},"types":{"line":"Linjediagram","bar":"Sjlediagram","pie":"Cirkeldiagram","donut":"Donutdiagram"},"data_sources":{"title":"Datakilder","add_entity":"Tilfj entitet","add_first_entity":"Tilfj din frste entitet for at oprette et diagram","no_entities":"Ingen entiteter tilfjet"},"entity":"Entitet","entity_desc":"Vlg en entitet der skal plottes.","display_name_optional":"Visningsnavn (valgfrit)","use_as_card_info":"Brug som kortinfo","attribute":"Attribut","attribute_desc":"Brug entitetstilstand eller vlg en specifik attribut at flge.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkter","fill_area":"Udfyld omrde","line_style":"Linjestil","line_solid":"Fuld","line_dashed":"Stiplet","line_dotted":"Prikket","pie_show_title":"Vis titel i sektor","pie_show_value":"Vis vrdi i sektor","expand_options":"Udvid indstillinger","no_entities":"Ingen entiteter tilfjet","add_first_entity":"Tilfj din frste entitet for at oprette et diagram","add_entity":"Tilfj entitet","display_options":{"title":"Visningsindstillinger"},"show_title":"Vis diagramtitel","show_value":"Vis diagramvrdi","chart_title":"Diagramtitel","chart_title_placeholder":"Indtast diagramtitel","time_period":"Tidsperiode","time_period_desc":"Hvor mange historiske data der skal vises.","period":{"1h":"Seneste time","3h":"Seneste 3 timer","6h":"Seneste 6 timer","12h":"Seneste 12 timer","24h":"Seneste 24 timer","2d":"Seneste 2 dage","7d":"Seneste uge","30d":"Seneste mned","90d":"Seneste 3 mneder","365d":"Seneste r"},"normalize_values":"Normalisr vrdier til samme skala","normalize_desc":"Nyttigt ved sammenligning af entiteter med forskellige enheder (fx % vs miles)","chart_height":"Diagramhjde","reset_345":"Nulstil til standard (345px)","chart_width":"Diagrambredde (%)","reset_100":"Nulstil til standard (100%)","agg":{"count":"Antal","delta":"ndring","first":"Frste vrdi","last":"Sidste vrdi","max":"Maksimum","mean":"Gennemsnit","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Tilfj sektormellemrum","background_color":"Baggrundsfarve","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering af diagrammet i dets beholder.","chart_height":"Diagramhjde","chart_options":"Diagramindstillinger","chart_title":"Diagramtitel","chart_title_placeholder":"Indtast diagramtitel","chart_width":"Diagrambredde (%)","chart_width_desc":"Procentdel af modulets tilgngelige bredde. Justering styrer placering.","info_position":"Info-position","info_position_desc":"Position for overlejring der viser navn/vrdi.","legend_position":"Forklaringsposition","legend_position_desc":"Hvor forklaringen placeres nr aktiveret.","normalize_desc":"Nyttigt ved sammenligning af entiteter med forskellige enheder (fx % vs miles)","normalize_values":"Normalisr vrdier til samme skala","show_grid":"Vis gitter","show_legend":"Vis forklaring","show_title":"Vis diagramtitel","show_tooltips":"Vis vrktjstips","show_value":"Vis diagramvrdi","smooth_lines":"Udglattede linjer","time_period":"Tidsperiode","time_period_desc":"Hvor mange historiske data der skal vises.","title":"Visningsindstillinger","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Udfyld omrde","line_style":"Linjestil","line_width":"Linjebredde","show_points":"Vis punkter"},"line_styles":{"dashed":"Stiplet","dotted":"Prikket","solid":"Fuld"},"pie":{"show_title":"Vis titel i sektor","show_value":"Vis vrdi i sektor"},"position":{"bottom":"Bund","bottom_left":"Nederst til venstre","bottom_right":"Nederst til hjre","center":"Center","hidden":"Skjult","left":"Venstre","middle":"Midten","right":"Hjre","top":"Top","top_left":"verst til venstre","top_right":"verst til hjre"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Grundindstillinger","desc":"Konfigurer knappens udseende og tekstindhold."},"text":{"title":"Knaptekst","desc":"Tekst der vises p knappen (lad st tom for kun ikon)."},"style":{"title":"Knapstil","desc":"Knapens visuelle stil"},"alignment":{"title":"Justering","desc":"Hvordan knappen justeres i sin beholder"},"styles":{"flat":"Flad (standard)","glossy":"Blank","embossed":"Prget","inset":"Indsat","gradient_overlay":"Farveovergang","neon_glow":"Neongld","outline":"Kontur","glass":"Glas","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Center","right":"Hjre","justify":"Juster (fuld bredde)"},"icon":{"title":"Ikonindstillinger","desc":"Konfigurer ikonvisning og -placering for knappen.","before":"Fr tekst","after":"Efter tekst","enable_toggle_desc":"Aktivr skifteren ovenfor for at konfigurere ikonindstillinger"},"colors":{"title":"Farver","background":"Baggrundsfarve","text":"Tekstfarve"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Vlg hover-effekt for denne knap.","none":"Ingen","color":"Farveskift","scale":"Skalr","glow":"Gld","lift":"Lft (Y-translation)","hover_color":"Farve ved hover","glow_color":"Gldfarve","title":"Hover-effekter","enable_toggle_desc":"Aktivr skifteren ovenfor for at konfigurere hover-effekter"},"actions":{"type":"Handlingstype","type_desc":"Vlg hvad der sker, nr knappen klikkes","entity":"Entitet","entity_desc":"Vlg den entitet der interageres med","navigation_path":"Navigationssti","navigation_path_desc":"Sti at navigere til (fx /dashboard/energy)","service":"Tjeneste","service_desc":"Service der skal kaldes (fx light.turn_on)","service_data":"Service-data (JSON)","service_data_desc":"Valgfrie data der sendes til servicen (JSON-format)"},"tap":{"title":"Tryk-handling","desc":"Handling der udfres nr knappen trykkes"},"hold":{"title":"Hold-handling","desc":"Handling der udfres nr knappen holdes nede"},"double":{"title":"Dobbelttryk-handling","desc":"Handling der udfres nr knappen dobbelttrykkes"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon p knappen","icon_desc":"Ikon der vises (fx mdi:home)","icon_position":"Ikonposition","icon_position_desc":"Ikonets position i forhold til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURATION"},"entity":"Entitet","entity_desc":"Vlg entiteten der skal vises","icon_section":{"title":"Ikonindstillinger"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon ved siden af entitetsvrdien","icon":"Ikon","icon_desc":"Vlg et ikon der skal vises","icon_color":"Ikonfarve","name_section":{"title":"Navneindstillinger"},"show_name":"Vis navn","show_name_desc":"Vis entitetsnavnet over vrdien","custom_name":"Brugerdefineret navn","custom_name_desc":"Overskriv entitetsnavnet med et brugerdefineret navn","name_color":"Navnefarve","state_section":{"title":"Tilstandsindstillinger"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/vrdi","show_units":"Vis enheder","show_units_desc":"Vis mleenheden (hvis tilgngelig)","state_color":"Tilstandsfarve","template":{"title":"Skabelontilstand","desc":"Brug en skabelon til at formatere entitetsvrdien. Skabeloner giver dig mulighed for at bruge Home Assistants skabelonsyntaks til kompleks formatering.","mode":"Skabelontilstand","mode_desc":"Brug Home Assistants skabelonsyntaks til at formatere vrdien","value":"Vrdiskabelon","value_desc":"Skabelon til formatering af entitetsvrdien ved hjlp af Jinja2-syntaks"},"size_section":{"title":"Strrelsesindstillinger"},"icon_size":"Ikonstrrelse","icon_size_desc":"Strrelse af ikonet i pixels","name_size":"Navnestrrelse","name_size_desc":"Strrelse af entitetsnavnets tekst i pixels","value_size":"Vrdistrrelse","value_size_desc":"Strrelse af entitetsvrdiens tekst i pixels","icon_gap":"Ikonafstand","icon_gap_desc":"Afstand mellem ikon og indhold i pixels","layout_section":{"title":"Layout og positionering"},"icon_position":"Ikonposition","overall_alignment":"Samlet justering","icon_alignment":"Ikonjustering","content_alignment":"Indholdsjustering","examples_title":"Almindelige eksempler:","example_basic":"Grundvrdi","example_units":"Med enheder","example_round":"Afrund til 1 decimal"},"camera":{"config":{"title":"Kamerakonfiguration","desc":"Konfigurer kameraentiteten og visningsindstillinger."},"entity":"Kameraentitet","entity_desc":"Vlg kameraentiteten der skal vises. Dette skal vre en kamera- eller mjpeg-entitet fra Home Assistant.","name":"Kameranavn","name_desc":"Brugerdefineret navn til kameraet. Lad st tomt for at bruge entitetsnavnet.","show_name":"Vis kameranavn","show_name_desc":"Vis kameranavnet p feedet","name_position":{"group_title":"Position af kameranavn","title":"Navneposition","desc":"Vlg hvor kameranavnet vises som et overlay p kamerabilledet.","options":{"top_left":"verst til venstre","top_right":"verst til hjre","center":"Center","bottom_left":"Nederst til venstre","bottom_right":"Nederst til hjre"}},"display":{"title":"Visningsindstillinger"},"live_view":{"title":"Live visning","desc":"Aktiver for at vise live kamerastream (krver stream-integration). Nr deaktiveret, vises stillbilleder."},"auto_refresh":{"section_title":"Indstillinger for automatisk opdatering","title":"Automatisk opdatering","desc":"Opdater automatisk kamerabilledet med jvne mellemrum"},"refresh_interval":{"title":"Opdateringsinterval (sekunder)","desc":"Hvor ofte kamerabilledet skal opdateres automatisk."},"dimensions":{"title":"Dimensioner"},"width":"Bredde (px)","width_desc":"Indstil bredden af kameravisningen. Omrde: 100-1000px","height":"Hjde (px)","height_desc":"Indstil hjden af kameravisningen. Omrde: 100-1000px","link_aspect":"Sammenkd billedformat","unlink_aspect":"Frakobl billedformat","aspect_linked":{"title":"Billedformat sammenkdet","desc":"Dimensioner opretholder {ratio}:1 forhold. Justering af n dimension opdaterer automatisk den anden for at bevare proportioner."},"aspect_independent":{"title":"Uafhngige dimensioner","desc":"Bredde og hjde kan justeres uafhngigt. Klik p sammenkdningsknappen ovenfor for at bevare billedformatet."},"crop":{"title":"Beskr og position","desc":"Juster beskring og position af kameravisningen. Nyttigt til at fokusere p specifikke omrder eller fjerne unskede kanter.","left_title":"Venstre beskring (%)","left_desc":"Beskr fra venstre kant. Hjere vrdier viser mindre af venstre side.","right_title":"Hjre beskring (%)","right_desc":"Beskr fra hjre kant. Hjere vrdier viser mindre af hjre side.","top_title":"Top beskring (%)","top_desc":"Beskr fra verste kant. Hjere vrdier viser mindre af det verste omrde.","bottom_title":"Bund beskring (%)","bottom_desc":"Beskr fra nederste kant. Hjere vrdier viser mindre af det nederste omrde.","active_applied":"Aktive beskringer anvendt","reset_all":"Nulstil alle beskringer"},"template":{"title":"Skabelontilstand","desc":"Brug en skabelon til dynamisk at indstille kameraentiteten. Skabeloner giver mulighed for at bruge Home Assistants skabelonsyntaks til betinget kameravalg.","mode_label":"Skabelontilstand","mode_desc":"Brug Home Assistants skabelonsyntaks til dynamisk at vlge kameraentitet","camera_template_label":"Kameraskabelon","camera_template_desc":"Skabelon til dynamisk indstilling af kameraentiteten ved hjlp af Jinja2-syntaks","examples_title":"Almindelige eksempler:","example1_desc":"Vis kamera nr vejret er solrigt","example2_desc":"Skift mellem kameraer baseret p input boolean","example3_desc":"Brug input select til at vlge kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktiver skifteren ovenfor for at konfigurere visning af kameranavn"}},"separator":{"config":{"title":"Separator-konfiguration"},"style":{"title":"Separator-stil","desc":"Vlg den visuelle stil for separationslinjen."},"options":{"solid":"Fuld linje","double":"Dobbelt linje","dotted":"Prikket linje","double_dotted":"Dobbelt prikker","shadow":"Skygge","blank":"Tomt mellemrum"},"appearance":{"title":"Udseende"},"thickness":"Tykkelse (px)","thickness_desc":"Tykkelsen p separationslinjen.","width":"Bredde (%)","width_desc":"Separatorens bredde som procent af beholderen.","color":{"title":"Farve","desc":"Farve p separationslinjen."},"show_title":"Vis titel","show_title_desc":"Tilfj tekst i midten af separationslinjen (fx ------ Tekst ------)","text_content":{"title":"Tekstindhold","desc":"Tekst der vises i midten af separationslinjen."},"font_size":"Skriftstrrelse","font_size_desc":"Tekstens strrelse i pixel.","text_color":{"title":"Tekstfarve","desc":"Farve p separatorens tekst."},"text_format":{"title":"Tekstformatering","desc":"Anvend formateringsstile p separatorens tekst.","bold":"Fed","italic":"Kursiv","underline":"Understreget","uppercase":"Store bogstaver","strikethrough":"Gennemstreget"},"spacer":{"title":"Mellemrums-hjde"},"height":"Hjde (px)","height_desc":"Kontrollerer det visuelle mellemrum for Tomt mellemrum.","show_title_toggle":{"enable_toggle_desc":"Aktivr skifteren ovenfor for at konfigurere titelindstillinger"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Modulnavn:","module_name_placeholder":"Giv dette modul et brugerdefineret navn for at gre det lettere at identificere i editoren.","module_name_help":"Giv dette modul et brugerdefineret navn for at gre det lettere at identificere i editoren."},"layout_logic":{"display_title":"Vis dette element","display_desc":"Kontrollr hvornr dette element vises. Vlg \\"Altid\\" for at holde det synligt. Vlg \\"Hvis ALLE betingelser nedenfor er opfyldt\\" eller \\"Hvis ENHVER betingelse nedenfor er opfyldt\\" for kun at vise det, nr de tilfjede betingelser er sande.","always":"Altid","every":"Hvis ALLE betingelser er opfyldt","any":"Hvis ENHVER betingelse er opfyldt","conditions":"Betingelser","add_condition":"Tilfj betingelse","no_conditions":"Ingen betingelser tilfjet endnu. Klik \\"Tilfj betingelse\\" for at starte.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattribut","time":"Tidsinterval","template":"Skabelon"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Vrdi","attribute":"Attribut","time_from":"Fra","time_to":"Til","template":"Skabelon"},"condition_header":"Betingelse","custom_name":"Brugernavn","custom_name_desc":"Valgfrit: Giv denne betingelse et navn for nemmere identifikation","condition_type":"Betingelsestype"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurer visuelle effekter, der vises nr du holder musen over dette modul, rkke eller kolonne.","effect":"Hover-effekt","effect_desc":"Vlg den visuelle effekt, der skal anvendes ved hover","effects":{"none":"Ingen","highlight":"Fremhv","outline":"Kontur","grow":"Voks","shrink":"Skrump","pulse":"Pulsere","bounce":"Hoppe","float":"Svve","glow":"Gld","shadow":"Skygge","rotate":"Roter","skew":"Skv","wobble":"Vakle","buzz":"Vibrere","fade":"Fade"}},"design":{"copy":"Kopier","paste":"Indst","reset_all":"Nulstil alt","copy_tooltip":"Kopier nuvrende designindstillinger (virker p tvrs af alle Ultra Cards)","paste_tooltip_has":"Indst kopierede designindstillinger (fra tvrkort-udklipsholder)","paste_tooltip_none":"Ingen designindstillinger i tvrkort-udklipsholder","reset_all_tooltip":"Nulstil alle designindstillinger til standard","text_section":"Tekst","text_color":"Tekstfarve","alignment":"Justering","inherit_alignment":"Arv (ingen justering)","font_size":"Skriftstrrelse","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Nulstil skriftstrrelse til standard","line_height":"Linjehjde","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Nulstil linjehjde til standard","letter_spacing":"Bogstavafstand","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Nulstil bogstavafstand til standard","font":"Skrifttype","font_weight":"Skriftvgt","text_transform":"Teksttransformation","font_style":"Skriftstil","default_option":" Standard ","weight_thin":"100 - Tynd","weight_light":"300 - Let","weight_normal":"400 - Normal","weight_medium":"500 - Mellem","weight_semi_bold":"600 - Halvfed","weight_bold":"700 - Fed","weight_black":"900 - Sort","transform_none":"Ingen","transform_uppercase":"STORE BOGSTAVER","transform_lowercase":"sm bogstaver","transform_capitalize":"Stort begyndelsesbogstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skr","background_section":"Baggrund","background_color":"Baggrundsfarve","background_image_type":"Baggrundsbilledtype","bg_none":"Ingen","bg_upload":"Upload billede","bg_entity":"Entitetsbillede","bg_url":"Billede-URL","sizes_section":"Strrelser","spacing_section":"Spacing","border_section":"Kant","text_shadow_section":"Tekstskygge","box_shadow_section":"Boksskygge","position_section":"Position","overflow_section":"Overlb","animations_section":"Animationer","width":"Bredde","height":"Hjde","max_width":"Maks bredde","max_height":"Maks hjde","min_width":"Min bredde","min_height":"Min hjde","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredde","border_color":"Kantfarve","margin":"Margin","padding":"Polstring","top":"Top","right":"Hjre","bottom":"Bund","left":"Venstre","unlock_sides":"Ls op for at redigere sider uafhngigt","lock_sides":"Ls for at redigere alle sider sammen","horizontal_shift":"Vandret forskydning","vertical_shift":"Lodret forskydning","blur":"Slring","text_shadow_color":"Tekstskyggefarve","box_shadow_color":"Boksskyggefarve","overflow":"Overlb","clip_path":"Klippesti","upload_bg_image":"Upload baggrundsbillede","bg_image_entity":"Baggrundsbillede-entitet","bg_image_url":"Baggrundsbillede-URL","choose_file":"Vlg fil","no_file_chosen":"Ingen fil valgt","backdrop_filter":"Baggrundsfilter","spread":"Spredning","visible_default":"Synlig (standard)","examples":"Eksempler","state_based_animation":"Tilstandsbaseret animation","animation_type":"Animationstype","animation_duration":"Animationsvarighed","animation_duration_desc":"Varighed for animationen (f.eks. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outro-animationer","intro_animation":"Intro-animation","outro_animation":"Outro-animation","duration":"Varighed","delay":"Forsinkelse","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Fuld linje","border_style_dashed":"Stiplet","border_style_dotted":"Prikket","border_style_double":"Double","position_default":" Standard ","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolut","position_fixed":"Fast","position_sticky":"Klbrig"},"modules":{"text":"Tekstmodul","image":"Billede modul","icon":"Ikon modul","bar":"Bjlke modul","info":"Info-modul","button":"Knap modul","separator":"Separator-modul","markdown":"Markdown-modul","camera":"Kamera modul","graphs":"Diagram-modul","no_text_configured":"Ingen tekst konfigureret","no_image_configured":"Intet billede konfigureret","uploaded_image":"Uploadet billede","icons_configured":"{count} ikoner konfigureret","no_icons_configured":"Ingen ikoner konfigureret","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Attribut","attribute_name":"Attributnavn","baseline":"Grundlinje","bottom":"Bund","center":"Center","entity":"Entitet","justify":"Justr","left":"Venstre","none":"Ingen","right":"Hjre","space_around":"Plads omkring","space_between":"Plads mellem","state":"Tilstand","stretch":"Strk","top":"Top"},"horizontal":{"alignment":{"horizontal":"Vandret justering","horizontal_desc":"Vlg hvordan elementer justeres vandret i beholderen.","vertical":"Lodret justering","vertical_desc":"Vlg hvordan elementer justeres lodret i beholderen."},"empty":{"add_modules":"Tilfj moduler i layoutbyggeren for at se dem her","no_modules":"Ingen moduler tilfjet endnu"},"gap":{"between_items":"Mellemrum mellem elementer","desc":"Angiv mellemrum mellem vandrette elementer (i rem). Brug negative vrdier for overlap.","title":"Mellemrumskonfiguration"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres vandret i beholderen.","title":"Layoutkonfiguration"},"wrapping":{"desc":"Tillad at elementer brydes til nste linje nr de overstiger beholderens bredde.","title":"Tillad linjeskift"}},"markdown":{"code_highlighting":"Kodefremhvning","code_highlighting_desc":"Syntaksfremhvning for kodeblokke","content":{"desc":"Indtast dit Markdown-indhold med fuld formatteringsunderstttelse","label":"Indhold","title":"Markdown-indhold"},"enable_html":"Aktivr HTML","enable_html_desc":"Tillad HTML-tags i Markdown-indhold","enable_tables":"Aktivr tabeller","enable_tables_desc":"Understttelse af Markdown-tabelsyntaks","features":{"title":"Markdown-funktioner"}},"vertical":{"alignment":{"vertical":"Lodret justering","vertical_desc":"Vlg hvordan elementer justeres lodret i beholderen."},"empty":{"add_modules":"Tilfj moduler i layoutbyggeren for at se dem her","no_modules":"Ingen moduler tilfjet endnu"},"gap":{"between_items":"Mellemrum mellem elementer","desc":"Angiv mellemrum mellem lodrette elementer (i rem). Brug negative vrdier for overlap.","title":"Mellemrumskonfiguration"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres lodret i beholderen.","title":"Layoutkonfiguration"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var l=i.t(s,2);const d=JSON.parse('{"editor":{"tabs":{"layout":"Layout-Builder","settings":"Einstellungen","about":"ber","pro":"Pro"},"settings":{"title":"Karten-Einstellungen","description":"Konfigurieren Sie das globale Erscheinungsbild und Verhalten der Karte."},"appearance":{"title":"Erscheinungsbild","description":"Steuern Sie das visuelle Erscheinungsbild Ihrer Karte"},"spacing":{"title":"Abstand","description":"Steuern Sie den Abstand und die Positionierung Ihrer Karte"},"fields":{"card_background_color":"Karten-Hintergrundfarbe","card_background_color_desc":"Die Hintergrundfarbe der gesamten Karte","border_radius":"Rahmen-Radius","border_radius_desc":"Abgerundete Ecken fr die Karte (in Pixeln)","card_border_color":"Rahmen-Farbe","card_border_color_desc":"Die Rahmenfarbe der Karte","card_border_width":"Rahmen-Breite","card_border_width_desc":"Die Dicke des Kartenrahmens (in Pixeln)","card_padding":"Karten-Innenabstand","card_padding_desc":"Interner Abstand innerhalb der Karte","card_margin":"Karten-Auenabstand","card_margin_desc":"Externer Abstand um die Karte","unit_px":"px","reset_default":"Auf Standard zurcksetzen","reset_default_value":"Auf Standard zurcksetzen ({value})","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Vollbild aktivieren","return_dashboard":"Zurck zum Dashboard","dashboard":"Dashboard"},"common":{"left":"Links","center":"Mitte","right":"Rechts","top":"Oben","bottom":"Unten","none":"Keine","state":"Zustand","attribute":"Attribut","attribute_name":"Attributname","entity":"Entitt","space_between":"Abstand zwischen","space_around":"Abstand um","justify":"Ausrichten","stretch":"Strecken","baseline":"Grundlinie"},"horizontal":{"layout":{"title":"Layout-Konfiguration","desc":"Konfigurieren Sie, wie Elemente horizontal im Container angeordnet werden."},"alignment":{"horizontal":"Horizontale Ausrichtung","horizontal_desc":"Whlen Sie, wie Elemente horizontal im Container ausgerichtet werden.","vertical":"Vertikale Ausrichtung","vertical_desc":"Whlen Sie, wie Elemente vertikal im Container ausgerichtet werden."},"wrapping":{"title":"Umbruch erlauben","desc":"Erlaubt Elementen, zur nchsten Zeile zu wechseln, wenn sie die Container-Breite berschreiten."},"gap":{"title":"Abstand-Konfiguration","between_items":"Abstand zwischen Elementen","desc":"Setzen Sie den Abstand zwischen horizontalen Elementen (in rem-Einheiten). Verwenden Sie negative Werte zum berlappen von Elementen."},"empty":{"no_modules":"Noch keine Module hinzugefgt","add_modules":"Fgen Sie Module im Layout-Builder hinzu, um sie hier zu sehen"}},"vertical":{"layout":{"title":"Layout-Konfiguration","desc":"Konfigurieren Sie, wie Elemente vertikal im Container angeordnet werden."},"alignment":{"vertical":"Vertikale Ausrichtung","vertical_desc":"Whlen Sie, wie Elemente vertikal im Container ausgerichtet werden."},"gap":{"title":"Abstand-Konfiguration","between_items":"Abstand zwischen Elementen","desc":"Setzen Sie den Abstand zwischen vertikalen Elementen (in rem-Einheiten). Verwenden Sie negative Werte zum berlappen von Elementen."},"empty":{"no_modules":"Noch keine Module hinzugefgt","add_modules":"Fgen Sie Module im Layout-Builder hinzu, um sie hier zu sehen"}},"layout":{"live_preview":"Live-Vorschau","toggle_preview":"Vorschau umschalten","drag_to_move_module":"Ziehen zum Verschieben des Moduls","edit_module":"Modul bearbeiten","duplicate_module":"Modul duplizieren","delete_module":"Modul lschen","drag_to_move_layout":"Ziehen zum Verschieben des Layout-Moduls","horizontal_layout":"Horizontales Layout","vertical_layout":"Vertikales Layout","add_module_to_layout":"Modul zum Layout hinzufgen","layout_settings":"Layout-Einstellungen","duplicate_layout":"Layout duplizieren","delete_layout":"Layout lschen","click_to_add_module":"Klicken zum Hinzufgen eines Moduls","drop_modules_here":"Module hier ablegen","drag_to_reorder":"Ziehen zum Neuordnen","edit_child_module":"Untermodul bearbeiten","duplicate_child_module":"Untermodul duplizieren","delete_child_module":"Untermodul lschen","module_settings_title":"Modul-Einstellungen","child_module_settings_title":"Untermodul-Einstellungen","general_tab":"Allgemein","actions_tab":"Aktionen","other_tab":"Andere","logic_tab":"Logik","design_tab":"Design","drag_to_resize":"Ziehen zum ndern der Gre","hidden_by_logic":"Durch Logik verborgen","add_row":"Zeile hinzufgen","add_row_tooltip":"Eine neue Zeile zu Ihrem Layout hinzufgen","undo":"Rckgngig","undo_tooltip":"Letzte nderung rckgngig machen (Strg+Z)","redo":"Wiederholen","redo_tooltip":"Letzte rckgngig gemachte nderung wiederholen (Strg+Y)","row_settings":"Zeilen-Einstellungen","column_settings":"Spalten-Einstellungen","row_background_color":"Zeilen-Hintergrundfarbe","column_gap":"Spaltenabstand (px)","vertical_alignment":"Vertikale Ausrichtung","horizontal_alignment":"Horizontale Ausrichtung","column_preview":"Spalten-Vorschau","modules_count":"{count} Module","alignment_top":"Oben","alignment_center":"Mitte","alignment_bottom":"Unten","alignment_stretch":"Strecken","alignment_left":"Links","alignment_right":"Rechts","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"layout_logic":{"display_title":"Dieses Element anzeigen","display_desc":"Steuern Sie, wann dieses Element angezeigt wird. Whlen Sie \\"Immer\\" um es sichtbar zu halten. Whlen Sie \\"Wenn ALLE Bedingungen erfllt sind\\" oder \\"Wenn EINE Bedingung erfllt ist\\" um es nur anzuzeigen, wenn die hinzugefgten Bedingungen als wahr bewertet werden.","always":"Immer","every":"Wenn ALLE Bedingungen erfllt sind","any":"Wenn EINE Bedingung erfllt ist","conditions":"Bedingungen","add_condition":"Bedingung hinzufgen","no_conditions":"Noch keine Bedingungen hinzugefgt. Klicken Sie auf \\"Bedingung hinzufgen\\" um zu beginnen.","condition_types":{"entity_state":"Entittszustand","entity_attribute":"Entittsattribut","time":"Zeitbereich","template":"Vorlage"},"condition_fields":{"entity":"Entitt","operator":"Operator","value":"Wert","attribute":"Attribut","time_from":"Von","time_to":"Bis","template":"Vorlage"},"condition_header":"Bedingung","custom_name":"Benutzerdefinierter Name","custom_name_desc":"Optional: Geben Sie dieser Bedingung einen benutzerdefinierten Namen zur leichteren Identifikation","condition_type":"Bedingungstyp"},"hover_effects":{"title":"Hover-Effekte","description":"Konfigurieren Sie visuelle Effekte, die beim Bewegen des Mauszeigers ber dieses Modul, diese Zeile oder Spalte angezeigt werden.","effect":"Hover-Effekt","effect_desc":"Whlen Sie den visuellen Effekt aus, der beim Hovern angewendet werden soll","effects":{"none":"Keine","highlight":"Hervorheben","outline":"Umriss","grow":"Vergrern","shrink":"Verkleinern","pulse":"Pulsieren","bounce":"Springen","float":"Schweben","glow":"Leuchten","shadow":"Schatten","rotate":"Drehen","skew":"Neigen","wobble":"Wackeln","buzz":"Vibrieren","fade":"Ausblenden"}},"about":{"developed_by":"Entwickelt von","desc1":"Ein leistungsstarker modularer Karten-Builder fr Home Assistant","desc2":"Erstellen Sie benutzerdefinierte Layouts mit einer professionellen Page-Builder-Oberflche","desc3":"Modulares Layout-System mit bedingter Logik und professionellen Design-Tools","github_repo":"Besuchen Sie unser Github","join_discord":"Unserem Discord beitreten","support_title":"Ultra Card untersttzen","support_desc":"Ihre grozgigen Spenden frdern die Entwicklung erstaunlicher Funktionen fr diese Karte! Ohne die Untersttzung von Benutzern wie Ihnen wre kontinuierliche Innovation nicht mglich.","leave_tip":"TRINKGELD GEBEN (PAYPAL)","version":"Version"},"actions":{"title":"Link-Konfiguration","description":"Konfigurieren Sie, was passiert, wenn Benutzer mit diesem Element interagieren. Whlen Sie verschiedene Aktionen fr Tippen, Halten und Doppeltippen.","tap_action":"Tipp-Aktion","tap_action_desc":"Aktion, die beim Tippen/Klicken auf das Modul ausgefhrt wird","hold_action":"Halte-Aktion","hold_action_desc":"Aktion, die beim Gedrckthalten des Moduls ausgefhrt wird","double_tap_action":"Doppeltipp-Aktion","double_tap_action_desc":"Aktion, die beim Doppeltippen auf das Modul ausgefhrt wird","tap_behavior":"Tipp-Verhalten","tap_behavior_desc":"Aktion, die ausgefhrt wird, wenn das Element getippt/geklickt wird.","hold_behavior":"Halte-Verhalten","hold_behavior_desc":"Aktion, die ausgefhrt wird, wenn das Element gedrckt und gehalten wird.","double_tap_behavior":"Doppeltipp-Verhalten","double_tap_behavior_desc":"Aktion, die ausgefhrt wird, wenn das Element doppelt getippt/geklickt wird.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITTS-KONFIGURATION","desc":"Konfigurieren Sie die Entitt und aktive/inaktive Zustnde"},"entity":"Entitt","entity_desc":"Whlen Sie die Entitt aus, die dieses Symbol reprsentiert","inactive_state":"Inaktiver Zustand","inactive_state_desc":"Zustandswert gilt als \\"inaktiv\\" (leer lassen, um den tatschlichen Entittszustand zu verwenden)","active_state":"Aktiver Zustand","active_state_desc":"Zustandswert gilt als \\"aktiv\\" (leer lassen, um den tatschlichen Entittszustand zu verwenden)","icon_section":{"title":"Symbol-Konfiguration"},"inactive_icon":"Inaktives Symbol","inactive_icon_desc":"Symbol, das bei Inaktivitt angezeigt wird","inactive_icon_config":"Inaktive Symbol-Konfiguration","inactive_icon_config_desc":"Konfigurieren Sie die Einstellungen fr inaktive Symbole","active_icon":"Aktives Symbol","active_icon_desc":"Symbol, das bei Aktivitt angezeigt wird","icon_color_inactive":"Farbe bei Inaktivitt","icon_color_active":"Farbe bei Aktivitt","background_shape_inactive":"Hintergrundform bei Inaktivitt","background_shape_active":"Hintergrundform bei Aktivitt","background_color_inactive":"Hintergrundfarbe bei Inaktivitt","background_color_active":"Hintergrundfarbe bei Aktivitt","icon_size_inactive":"Symbolgre bei Inaktivitt","icon_size_active":"Symbolgre bei Aktivitt","inactive_icon_color":"Inaktive Symbolfarbe","active_icon_color":"Aktive Symbolfarbe","inactive_icon_background":"Inaktiver Symbolhintergrund","active_icon_background":"Aktiver Symbolhintergrund","inactive_icon_background_color":"Inaktive Symbolhintergrundfarbe","active_icon_background_color":"Aktive Symbolhintergrundfarbe","name_section":{"title":"Name-Konfiguration"},"inactive_name":"Inaktiver Name","inactive_name_desc":"Benutzerdefinierter Name bei Inaktivitt","inactive_name_config":"Inaktive Name-Konfiguration","inactive_name_config_desc":"Konfigurieren Sie die Einstellungen fr inaktive Namen","active_name":"Aktiver Name","active_name_desc":"Benutzerdefinierter Name bei Aktivitt","custom_inactive_name":"Benutzerdefinierter inaktiver Name","custom_inactive_name_desc":"Entittsname bei Inaktivitt berschreiben (leer lassen, um Entittsname zu verwenden)","custom_active_name":"Benutzerdefinierter aktiver Name","custom_active_name_desc":"Entittsname bei Aktivitt berschreiben (leer lassen, um Entittsname zu verwenden)","name_color_inactive":"Namefarbe bei Inaktivitt","name_color_active":"Namefarbe bei Aktivitt","name_size_inactive":"Nametextgre bei Inaktivitt","name_size_active":"Nametextgre bei Aktivitt","inactive_name_color":"Inaktive Namefarbe","active_name_color":"Aktive Namefarbe","state_section":{"title":"Zustand-Konfiguration"},"inactive_state_color":"Inaktive Zustandsfarbe","active_state_color":"Aktive Zustandsfarbe","inactive_state_text":"Inaktiver Zustandstext","active_state_text":"Aktiver Zustandstext","inactive_state_config":"Inaktive Zustand-Konfiguration","inactive_state_config_desc":"Konfigurieren Sie die Einstellungen fr inaktive Zustnde","custom_inactive_state":"Benutzerdefinierter inaktiver Zustand","custom_inactive_state_desc":"Benutzerdefinierter Text bei Inaktivitt (leer lassen, um tatschlichen Zustand zu verwenden)","custom_active_state":"Benutzerdefinierter aktiver Zustand","custom_active_state_desc":"Benutzerdefinierter Text bei Aktivitt (leer lassen, um tatschlichen Zustand zu verwenden)","state_color_inactive":"Zustandsfarbe bei Inaktivitt","state_color_active":"Zustandsfarbe bei Aktivitt","state_size_inactive":"Zustandstextgre bei Inaktivitt","state_size_active":"Zustandstextgre bei Aktivitt","background_section":{"title":"Inaktiver Hintergrund","desc":"Konfigurieren Sie die Einstellungen fr inaktive Hintergrnde"},"template_section":{"title":"Erweiterter Vorlagen-Modus","desc":"Verwenden Sie Jinja2-Vorlagen fr erweiterte Symbolsteuerung. Vorlagen knnen die Sichtbarkeit steuern (wahr/falsch zum Ein-/Ausblenden von Symbolen) und Zustandstext anpassen. Geben Sie benutzerdefinierten Text fr aktiven Zustand zurck, geben Sie tatschlichen Entittszustand fr inaktiven Zustand zurck."},"template_mode":"Erweiterter Vorlagen-Modus","template":"Vorlage","animation_section":{"title":"Symbol-Animation","desc":"Konfigurieren Sie Animationen fr aktive und inaktive Zustnde"},"active_animation":"Aktive Animation","active_animation_desc":"Animation wenn Symbol aktiv ist","inactive_animation":"Inaktive Animation","inactive_animation_desc":"Animation wenn Symbol inaktiv ist","animation_none":"Keine","animation_pulse":"Pulsieren","animation_spin":"Drehen","animation_bounce":"Springen","animation_flash":"Blitzen","animation_shake":"Schtteln","animation_vibrate":"Vibrieren","animation_rotate_left":"Links drehen","animation_rotate_right":"Rechts drehen","animation_fade":"Ausblenden","animation_scale":"Skalieren","animation_tada":"Tada"},"text":{"content_section":{"title":"Inhalts-Konfiguration","desc":"Konfigurieren Sie den Textinhalt und die Grundeinstellungen fr dieses Modul."},"text_content":"Textinhalt","text_content_desc":"Geben Sie den Textinhalt ein, der in diesem Modul angezeigt werden soll.","icon_section":{"title":"Symbol-Konfiguration","desc":"Whlen Sie ein Symbol, das neben dem Textinhalt angezeigt werden soll."},"icon":"Symbol","icon_desc":"Whlen Sie ein Symbol, das neben dem Text angezeigt werden soll. Lassen Sie es leer fr kein Symbol.","icon_position":"Symbol-Position","icon_position_desc":"Whlen Sie, wo das Symbol relativ zum Text positioniert werden soll.","before_text":"Vor dem Text","after_text":"Nach dem Text","template_mode":"Vorlagen-Modus","template_mode_desc":"Verwenden Sie die Home Assistant Vorlagen-Syntax zum Rendern von Text","value_template":"Wert-Vorlage","value_template_desc":"Vorlage zum Rendern des Textes mit Jinja2-Syntax","examples_title":"Hufige Beispiele:","example_basic":"Grundwert","example_percent":"Mit Prozent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"markdown":{"content":{"title":"Markdown-Inhalt","label":"Inhalt","desc":"Geben Sie Ihren Markdown-Inhalt mit vollstndiger Formatierungsuntersttzung ein"},"features":{"title":"Markdown-Funktionen"},"enable_html":"HTML aktivieren","enable_html_desc":"HTML-Tags im Markdown-Inhalt erlauben","enable_tables":"Tabellen aktivieren","enable_tables_desc":"Untersttzung fr Markdown-Tabellensyntax","code_highlighting":"Code-Hervorhebung","code_highlighting_desc":"Syntaxhervorhebung fr Codeblcke"},"bar":{"bar_settings":{"title":"Balken-Einstellungen","desc":"Konfigurieren Sie, wie der Balkenprozentsatz berechnet und angezeigt wird."},"perc_type":{"entity":"Entitt (0100)","attribute":"Entittsattribut","difference":"Differenz","template":"Vorlage"},"attribute_section":{"title":"Entittsattribut-Konfiguration","desc":"Entittsattribut-Einstellungen konfigurieren"},"attribute_entity":"Attribut-Entitt","attribute_entity_desc":"Whlen Sie die Entitt aus, die das Attribut mit dem Prozentwert enthlt","attribute_name":"Attributname","attribute_name_desc":"Geben Sie den Namen des Attributs ein, das den Prozentwert enthlt (z. B. \\"battery_level\\")","diff_section":{"title":"Konfiguration der Differenzberechnung","desc":"Einstellungen der Differenzberechnung konfigurieren"},"current_entity":"Entitt fr aktuellen Wert","current_entity_desc":"Entitt, die den aktuellen/genutzten Betrag darstellt (z. B. verbrauchter Kraftstoff, verbrauchte Batterie)","total_entity":"Entitt fr Gesamtwert","total_entity_desc":"Entitt, die den Gesamt-/Maximalwert darstellt (z. B. Tankkapazitt, Batteriekapazitt)","template_section":{"title":"Vorlagen-Konfiguration","desc":"Vorlageneinstellungen konfigurieren"},"percentage_template":"Prozent-Vorlage","percentage_template_desc":"Geben Sie eine Jinja2-Vorlage ein, die eine Zahl zwischen 0100 fr den Prozentwert zurckgibt. Beispiel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Entittsattribut-Konfiguration","desc":"Entittsattribut-Einstellungen konfigurieren","attribute_entity":"Attribut-Entitt","attribute_entity_desc":"Whlen Sie die Entitt aus, die das Attribut mit dem Prozentwert enthlt","attribute_name":"Attributname","attribute_name_desc":"Geben Sie den Namen des Attributs ein, das den Prozentwert enthlt (z. B. \\"battery_level\\")"},"diff_config":{"title":"Konfiguration der Differenzberechnung","desc":"Einstellungen der Differenzberechnung konfigurieren","current_entity":"Entitt fr aktuellen Wert","current_entity_desc":"Entitt, die den aktuellen/genutzten Betrag darstellt (z. B. verbrauchter Kraftstoff, verbrauchte Batterie)","total_entity":"Entitt fr Gesamtwert","total_entity_desc":"Entitt, die den Gesamt-/Maximalwert darstellt (z. B. Tankkapazitt, Batteriekapazitt)"},"template_config":{"title":"Vorlagen-Konfiguration","desc":"Vorlageneinstellungen konfigurieren","percentage_template":"Prozent-Vorlage","percentage_template_desc":"Geben Sie eine Jinja2-Vorlage ein, die eine Zahl zwischen 0100 fr den Prozentwert zurckgibt. Beispiel: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Prozent-Entitt des Balkens","desc_present":"Die Entitt, die den Prozentwert fr den Balken liefert.","desc_empty":"Whlen Sie eine Entitt, die einen Prozentwert (0100) liefert. Batteriesensoren eignen sich ideal fr Balken.","no_entity_warning":"Keine Entitt ausgewhlt  Bitte whlen Sie einen Sensor mit Werten zwischen 0100"},"limit_entity":{"title":"Grenzwert-Entitt (optional)","desc":"Optional: Fgen Sie eine vertikale Indikatorlinie auf dem Balken hinzu (z. B. Ladungsgrenze fr EV-Batterie)."},"appearance":{"title":"Balken-Erscheinungsbild","direction":"Fllrichtung","direction_desc":"Whlen Sie die Richtung, in die sich der Balken bei steigendem Wert fllt.","left_to_right":"Links nach Rechts","right_to_left":"Rechts nach Links","height":"Balkenhhe","height_desc":"Passen Sie die Dicke des Fortschrittsbalkens in Pixeln an.","border_radius":"Rahmen-Radius","border_radius_desc":"Steuern Sie die abgerundeten Ecken des Balkens.","style":"Balkenstil","style_desc":"Whlen Sie den visuellen Stil des Fortschrittsbalkens.","style_flat":"Flach (Standard)","style_glossy":"Glnzend","style_embossed":"Geprgt","style_inset":"Vertieft","style_gradient":"Farbverlauf-berlagerung","style_neon":"Neon-Leuchten","style_outline":"Umriss","style_glass":"Glas","style_metallic":"Metallisch","style_neumorphic":"Neumorph","style_dashed":"Gestrichelt","style_dots":"Punkte","width":"Balkenbreite","width_desc":"Legen Sie die Balkenbreite als Prozentsatz des Containers fest.","alignment":"Balkenausrichtung","alignment_desc":"Whlen Sie, wie der Balken ausgerichtet wird, wenn er weniger als 100 % Breite hat."},"labels":{"alignment":"Beschriftungsausrichtung","alignment_desc":"Steuern Sie, wie linke und rechte Beschriftungen positioniert werden."},"percentage":{"title":"Anzeige von Prozenttext","desc":"Steuern Sie die Sichtbarkeit und das Erscheinungsbild der Prozentwerte, die direkt auf dem Balken angezeigt werden. Diese Zahlen liefern einen klaren visuellen Indikator fr den aktuellen Stand.","text_size":"Textgre","text_size_desc":"Passen Sie die Gre des Prozenttextes auf dem Balken an.","text_alignment":"Ausrichtung des Prozenttexts"},"text_display":{"title":"Textanzeige","desc":"Steuern Sie die Sichtbarkeit und das Erscheinungsbild der Textwerte, die direkt auf dem Balken angezeigt werden. Bei Differenz- und Vorlagenmodi knnen Sie whlen, ob Rohentittswerte anstelle von Prozentstzen angezeigt werden sollen.","show_value":"Wert statt Prozentsatz anzeigen","show_value_desc":"Wenn aktiviert, wird der tatschliche Entittswert anstelle des Prozentsatzes angezeigt. Ntzlich fr die Anzeige von Rohsensorwerten wie \\"45 kWh\\" anstelle von \\"75%\\".","text_size":"Textgre","text_size_desc":"Passen Sie die Gre des auf dem Balken angezeigten Textes an.","text_alignment":"Textausrichtung"},"left":{"title":"Linke Seite","desc":"Konfigurieren Sie den Titel und den Entittswert, der auf der linken Seite des Balkens angezeigt wird. Dies ist ntzlich, um Beschriftungen wie \'Reichweite\' oder \'Batterie\' zusammen mit ihren Werten anzuzeigen.","title_size":"Titelgre","value_size":"Wertgre","template_mode":"Vorlagen-Modus","template_desc":"Verwenden Sie eine Vorlage, um den angezeigten Wert zu formatieren. Vorlagen verwenden die Jinja2-Syntax von Home Assistant.","value_template":"Wert-Vorlage","value_template_desc":"Vorlage zur Formatierung des Werts auf der linken Seite mit Jinja2-Syntax","enable_toggle":"Aktivieren Sie den Schalter oben, um die Einstellungen fr die linke Seite zu konfigurieren"},"right":{"title":"Rechte Seite","desc":"Konfigurieren Sie den Titel und den Entittswert, der auf der rechten Seite des Balkens angezeigt wird. Dies ist ideal fr ergnzende Informationen wie \'Zeit bis voll\' oder sekundre Messwerte.","title_size":"Titelgre","value_size":"Wertgre","template_mode":"Vorlagen-Modus","template_desc":"Verwenden Sie eine Vorlage, um den angezeigten Wert zu formatieren. Vorlagen verwenden die Jinja2-Syntax von Home Assistant.","value_template":"Wert-Vorlage","value_template_desc":"Vorlage zur Formatierung des Werts auf der rechten Seite mit Jinja2-Syntax","enable_toggle":"Aktivieren Sie den Schalter oben, um die Einstellungen fr die rechte Seite zu konfigurieren"},"colors":{"title":"Farben","bar_color":"Balkenfarbe","background_color":"Hintergrundfarbe","border_color":"Randfarbe","limit_indicator":"Grenzwertanzeige","percentage_text":"Prozenttext","text_color":"Textfarbe","text_color_desc":"Whlen Sie die Farbe fr den auf dem Balken angezeigten Text.","left_side":"Farben der linken Seite","right_side":"Farben der rechten Seite","title_color":"Titelfarbe","value_color":"Wertfarbe"},"gradient":{"title":"Farbverlaufsmodus","desc":"Wenden Sie einen Farbverlauf auf die Balkenfllung an. Wenn aktiviert, whlen Sie, wie der Verlauf angezeigt wird, und passen Sie unten die Farbstopps an.","full":"Voll","cropped":"Zugeschnitten","value_based":"Wertbasiert"},"animation":{"title":"Balkenanimation","desc":"Animieren Sie die Balkenfllung mit Presets wie Lade-Streifen, Pulsieren, Leuchten und mehr. Sie knnen Animationen basierend auf dem Zustand oder einem Attribut einer Entitt auslsen und optional die Animation berschreiben, wenn eine andere Bedingung erfllt ist.","trigger":{"title":"Animationsauslser","desc":"Whlen Sie eine Entitt aus und definieren Sie den Wert + die Animation, die angewendet werden soll, wenn dieser bereinstimmt.","entity_desc":"Entitt fr Animationsauslser","type":"Auslsertype","type_desc":"Whlen Sie, ob der Entittszustand oder ein Attribut verglichen werden soll","attribute_name_desc":"Attributname zum Vergleichen (z. B. charging_status)","match_value":"Vergleichswert","match_value_desc":"Text zum Vergleich mit Zustand oder Attribut (Vergleich ist textbasiert)."},"type":"Animationstyp","type_desc":"Whlen Sie, wie der Balken animiert werden soll, wenn er ausgelst wird.","types":{"charging":"Laden (diagonale Linien)","pulse":"Pulsieren","blinking":"Blinken","bouncing":"Springen","glow":"Leuchten","rainbow":"Regenbogen","bubbles":"Blasen","fill":"Fllen","ripple":"Wellen","traffic":"Laufband (Barber Pole)","heartbeat":"Herzschlag","flicker":"Flackern","shimmer":"Schimmern","vibrate":"Vibrieren"},"override":{"title":"Aktions-Animations-Override","desc":"Whlen Sie eine Aktions-Entitt und einen Zustand, um festzulegen, wann diese Animation die regulre Animation berschreiben soll","entity_desc":"Entitt zur Auswertung fr den Override-Auslser","type_desc":"Animation, die verwendet wird, wenn die Override-Bedingung erfllt ist.","attribute_name_desc":"Attributname zum Vergleichen","match_value":"Override-Vergleichswert","match_value_desc":"Textvergleich mit Zustand oder Attribut","type":"Override-Animationstyp"}}},"image":{"settings":"Bildeinstellungen","source_type":"Bildquellentyp","source_type_desc":"Whlen Sie aus, wie Sie die Bildquelle angeben mchten.","source":{"default":"Standardbild","url":"Bild-URL","upload":"Bild hochladen","entity":"Entittsbild","attribute":"Entittsattribut"},"url_section":{"title":"Konfiguration der Bild-URL"},"image_url":"Bild-URL","image_url_desc":"Geben Sie die direkte URL zu dem Bild ein, das Sie anzeigen mchten.","upload_section":{"title":"Konfiguration Bild-Upload"},"upload":"Bild hochladen","upload_desc":"Klicken Sie, um eine Bilddatei von Ihrem Gert hochzuladen.","entity_section":{"title":"Konfiguration Entittsbild"},"entity":"Entitt","entity_desc":"Whlen Sie eine Entitt mit Bild (z. B. Personen- oder Kamera-Entitten).","attribute_section":{"title":"Entittsattribut-Konfiguration"},"entity_attr_desc":"Whlen Sie die Entitt aus, die die Bild-URL in einem ihrer Attribute enthlt.","attribute_name":"Attributname","attribute_name_desc":"Geben Sie den Attributpfad ein, der die Bild-URL enthlt (Punktnotation wird untersttzt, z. B. vehicle_data.vehicleDetails.generalDashboard).","width":"Breite (%)","width_desc":"Legen Sie die Breite als Prozentsatz des Containers fest.","height":"Hhe (px)","height_desc":"Legen Sie die Hhe in Pixeln fest.","crop_fit":"Zuschneiden & Anpassen","crop_fit_desc":"Steuern Sie, wie das Bild in seinen Container passt.","fit":{"cover":"Abdecken (zum Fllen zuschneiden)","contain":"Einpassen (gesamtes Bild anzeigen)","fill":"Fllen (zum Anpassen strecken)","scale_down":"Herunterskalieren","none":"Keine (Originalgre)"},"border_radius":"Rahmen-Radius","border_radius_desc":"Steuern Sie die abgerundeten Ecken des Bildes.","tap_actions":"Tipp-Aktionen","filters":"Filter","filter":{"blur":"Weichzeichnen","blur_desc":"Wenden Sie einen Weichzeichnungseffekt auf Ihr Bild an.","brightness":"Helligkeit (%)","brightness_desc":"Passen Sie die Helligkeit Ihres Bildes an.","contrast":"Kontrast (%)","contrast_desc":"ndern Sie den Kontrast Ihres Bildes.","saturation":"Sttigung (%)","saturation_desc":"Passen Sie die Sttigung Ihres Bildes an."},"hover":{"title":"Hover-Effekte","effect_type":"Effekttyp","effect_type_desc":"Whlen Sie den Typ des Hover-Effekts.","scale":"Skalieren (heran-/herauszoomen)","rotate":"Drehen","fade":"berblenden (Deckkraftnderung)","blur":"Weichzeichnen","brightness":"Helligkeit","glow":"Leuchten (Schlagschatten)","slide":"Verschieben (Translate)","scale_amount":"Skalierung (%)","scale_amount_desc":"Passen Sie die Skalierung des Bildes beim Hover an.","rotate_amount":"Rotation ()","rotate_amount_desc":"Rotieren Sie das Bild beim Hover.","opacity":"Deckkraft (%)","opacity_desc":"ndern Sie die Deckkraft des Bildes beim Hover.","blur_amount":"Weichzeichnen (px)","blur_amount_desc":"Wenden Sie beim Hover einen Weichzeichnungseffekt auf das Bild an.","brightness_amount":"Helligkeit (%)","brightness_amount_desc":"Passen Sie die Helligkeit des Bildes beim Hover an.","glow_intensity":"Leuchtintensitt","glow_intensity_desc":"Whlen Sie die Intensitt des Leuchteffekts beim Hover.","glow_light":"Leichtes Leuchten","glow_medium":"Mittleres Leuchten","glow_heavy":"Starkes Leuchten","glow_custom":"Benutzerdefinierter Schatten","translate_x":"Horizontal (px)","translate_x_desc":"Verschieben Sie das Bild beim Hover horizontal.","translate_y":"Vertikal (px)","translate_y_desc":"Verschieben Sie das Bild beim Hover vertikal."},"alt":"Bild","no_source":"Keine Bildquelle konfiguriert"},"graphs":{"chart_type":{"title":"Diagrammtyp","type":"Typ","desc":"Whlen Sie den Visualisierungsstil fr Ihre Daten."},"types":{"line":"Liniendiagramm","bar":"Balkendiagramm","pie":"Kreisdiagramm","donut":"Donut-Diagramm"},"data_sources":{"title":"Datenquellen","no_entities":"Keine Entitten hinzugefgt","add_first_entity":"Fgen Sie Ihre erste Entitt hinzu, um ein Diagramm zu erstellen","add_entity":"Entitt hinzufgen"},"entity":"Entitt","line":{"show_points":"Punkte anzeigen","fill_area":"Flche fllen","line_width":"Linienbreite","line_style":"Linienstil"},"line_styles":{"solid":"Durchgezogen","dashed":"Gestrichelt","dotted":"Gepunktet"},"display":{"title":"Anzeigeoptionen","show_title":"Diagrammtitel anzeigen","show_value":"Diagrammwert anzeigen","chart_title":"Diagrammtitel","chart_title_placeholder":"Diagrammtitel eingeben","time_period":"Zeitraum","time_period_desc":"Wie viele historische Daten angezeigt werden sollen.","normalize_values":"Werte auf gleiche Skala normalisieren","normalize_desc":"Ntzlich beim Vergleich von Entitten mit unterschiedlichen Einheiten (z. B. % vs. Meilen)","chart_height":"Diagrammhhe","chart_width":"Diagrammbreite (%)","chart_width_desc":"Prozentsatz der verfgbaren Modulbreite. Ausrichtung steuert die Platzierung.","chart_alignment":"Diagrammausrichtung","chart_alignment_desc":"Ausrichtung des Diagramms innerhalb seines Containers.","info_position":"Info-Position","info_position_desc":"Position der berlagerung mit Name/Wert.","legend_position":"Legendenposition","legend_position_desc":"Position der Legende, wenn aktiviert.","background_color":"Hintergrundfarbe","chart_options":"Diagrammoptionen","show_legend":"Legende anzeigen","show_grid":"Gitter anzeigen","smooth_lines":"Linien gltten","show_tooltips":"Tooltips anzeigen","add_slice_gap":"Segmentabstand hinzufgen","show_grid_values":"Show Grid Values"},"agg":{"mean":"Durchschnitt","sum":"Summe","min":"Minimum","max":"Maximum","median":"Median","first":"Erster Wert","last":"Letzter Wert","count":"Anzahl","delta":"nderung"},"position":{"top":"Oben","bottom":"Unten","left":"Links","right":"Rechts","hidden":"Ausgeblendet","top_left":"Oben links","top_right":"Oben rechts","bottom_left":"Unten links","bottom_right":"Unten rechts","middle":"Mitte","center":"Mitte"},"pie":{"show_title":"Titel im Segment anzeigen","show_value":"Wert im Segment anzeigen"},"period":{"1h":"Letzte Stunde","3h":"Letzte 3 Stunden","6h":"Letzte 6 Stunden","12h":"Letzte 12 Stunden","24h":"Letzte 24 Stunden","2d":"Letzte 2 Tage","7d":"Letzte Woche","30d":"Letzter Monat","90d":"Letzte 3 Monate","365d":"Letztes Jahr"},"reset_345":"Auf Standard zurcksetzen (345px)","reset_100":"Auf Standard zurcksetzen (100%)","entity_desc":"Whlen Sie eine Entitt zum Plotten.","display_name_optional":"Anzeigename (optional)","use_as_card_info":"Als Karteninfo verwenden","attribute":"Attribut","attribute_desc":"Entittszustand verwenden oder ein bestimmtes Attribut zum Verfolgen auswhlen.","attribute_state_default":"Zustand (Standard)","show_points":"Punkte anzeigen","fill_area":"Flche fllen","line_style":"Linienstil","line_solid":"Durchgezogen","line_dashed":"Gestrichelt","line_dotted":"Gepunktet","pie_show_title":"Titel im Segment anzeigen","pie_show_value":"Wert im Segment anzeigen","expand_options":"Optionen erweitern","no_entities":"Keine Entitten hinzugefgt","add_first_entity":"Fgen Sie Ihre erste Entitt hinzu, um ein Diagramm zu erstellen","add_entity":"Entitt hinzufgen","display_options":{"title":"Anzeigeoptionen"},"show_title":"Diagrammtitel anzeigen","show_value":"Diagrammwert anzeigen","chart_title":"Diagrammtitel","chart_title_placeholder":"Diagrammtitel eingeben","time_period":"Zeitraum","time_period_desc":"Wie viele historische Daten angezeigt werden sollen.","normalize_values":"Werte auf gleiche Skala normalisieren","normalize_desc":"Ntzlich beim Vergleich von Entitten mit unterschiedlichen Einheiten (z. B. % vs. Meilen)","chart_height":"Diagrammhhe","chart_width":"Diagrammbreite (%)","data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"info":{"entity_section":{"title":"ENTITTS-KONFIGURATION"},"entity":"Entitt","entity_desc":"Whlen Sie die anzuzeigende Entitt aus","icon_section":{"title":"Symbol-Einstellungen"},"show_icon":"Symbol anzeigen","show_icon_desc":"Ein Symbol neben dem Entittswert anzeigen","icon":"Symbol","icon_desc":"Whlen Sie ein anzuzeigendes Symbol","icon_color":"Symbolfarbe","name_section":{"title":"Name-Einstellungen"},"show_name":"Name anzeigen","show_name_desc":"Den Entittsnamen ber dem Wert anzeigen","custom_name":"Benutzerdefinierter Name","custom_name_desc":"Den Entittsnamen durch einen benutzerdefinierten Namen ersetzen","name_color":"Farbe des Namens","state_section":{"title":"Zustandseinstellungen"},"show_state":"Zustand anzeigen","show_state_desc":"Den Entittszustand/-wert anzeigen","show_units":"Einheiten anzeigen","show_units_desc":"Die Maeinheit anzeigen (falls verfgbar)","state_color":"Zustandsfarbe","template":{"title":"Vorlagen-Modus","desc":"Verwenden Sie eine Vorlage, um den Entittswert zu formatieren. Vorlagen ermglichen die Verwendung der Home-Assistant-Templating-Syntax fr komplexe Formatierungen.","mode":"Vorlagen-Modus","mode_desc":"Verwenden Sie die Home-Assistant-Templating-Syntax zur Formatierung des Werts","value":"Wert-Vorlage","value_desc":"Vorlage zur Formatierung des Entittswerts mit Jinja2-Syntax"},"size_section":{"title":"Greneinstellungen"},"icon_size":"Symbolgre","icon_size_desc":"Gre des Symbols in Pixeln","name_size":"Namensgre","name_size_desc":"Gre des Entittsnamens in Pixeln","value_size":"Wertgre","value_size_desc":"Gre des Entittswerts in Pixeln","icon_gap":"Symbolabstand","icon_gap_desc":"Abstand zwischen Symbol und Inhalt in Pixeln","layout_section":{"title":"Layout & Positionierung"},"icon_position":"Symbol-Position","overall_alignment":"Gesamtausrichtung","icon_alignment":"Symbolausrichtung","content_alignment":"Inhaltsausrichtung","examples_title":"Hufige Beispiele:","example_basic":"Grundwert","example_units":"Mit Einheiten","example_round":"Auf 1 Dezimalstelle runden"},"button":{"basic":{"title":"Grundeinstellungen","desc":"Konfigurieren Sie das Erscheinungsbild der Schaltflche und den Textinhalt."},"text":{"title":"Schaltflchentext","desc":"Text, der auf der Schaltflche angezeigt wird (leer lassen fr nur Symbol)."},"style":{"title":"Schaltflchenstil","desc":"Visueller Stil der Schaltflche"},"alignment":{"title":"Ausrichtung","desc":"Wie die Schaltflche in ihrem Container ausgerichtet ist"},"styles":{"flat":"Flach (Standard)","glossy":"Glnzend","embossed":"Geprgt","inset":"Vertieft","gradient_overlay":"Farbverlauf-berlagerung","neon_glow":"Neon-Leuchten","outline":"Umriss","glass":"Glas","metallic":"Metallisch"},"align":{"left":"Links","center":"Mitte","right":"Rechts","justify":"Auffllen (volle Breite)"},"icon":{"title":"Symboleinstellungen","desc":"Anzeige und Positionierung des Symbols fr die Schaltflche konfigurieren.","before":"Vor dem Text","after":"Nach dem Text","enable_toggle_desc":"Aktivieren Sie den Schalter oben, um die Symboleinstellungen zu konfigurieren"},"icon_field":"Symbol","show_icon":"Symbol anzeigen","show_icon_desc":"Ein Symbol auf der Schaltflche anzeigen","icon_desc":"Anzuzeigendes Symbol (z. B. mdi:home)","icon_position":"Symbol-Position","icon_position_desc":"Position des Symbols relativ zum Text","colors":{"title":"Farben","background":"Hintergrundfarbe","text":"Textfarbe"},"hover":{"title":"Hover-Effekte","effect_type":"Effekttyp","effect_type_desc":"Whlen Sie den Hover-Effekt fr diese Schaltflche.","none":"Keine","color":"Farbnderung","scale":"Skalieren","glow":"Leuchten","lift":"Anheben (translate Y)","hover_color":"Hover-Farbe","glow_color":"Leuchtfarbe","enable_toggle_desc":"Aktivieren Sie den Schalter oben, um die Hover-Effekte zu konfigurieren"},"actions":{"type":"Aktionstyp","type_desc":"Whlen Sie, was beim Klick auf die Schaltflche passiert","entity":"Entitt","entity_desc":"Whlen Sie die Entitt fr die Interaktion","navigation_path":"Navigationspfad","navigation_path_desc":"Pfad zum Navigieren (z. B. /dashboard/energy)","service":"Dienst","service_desc":"Aufzurufender Dienst (z. B. light.turn_on)","service_data":"Servicedaten (JSON)","service_data_desc":"Optionale Daten, die an den Dienst bergeben werden (JSON-Format)"},"tap":{"title":"Tipp-Aktion","desc":"Aktion, die beim Tippen ausgefhrt wird"},"hold":{"title":"Halte-Aktion","desc":"Aktion, die beim Gedrckthalten ausgefhrt wird"},"double":{"title":"Doppeltipp-Aktion","desc":"Aktion, die beim Doppeltippen ausgefhrt wird"}},"layout_extra":{"module_name":"Modulname:","module_name_placeholder":"Geben Sie diesem Modul einen benutzerdefinierten Namen, um es im Editor leichter zu identifizieren.","module_name_help":"Geben Sie diesem Modul einen benutzerdefinierten Namen, um es im Editor leichter zu identifizieren."},"camera":{"config":{"title":"Kamera-Konfiguration","desc":"Konfigurieren Sie die Kamera-Entitt und Anzeigeeinstellungen."},"entity":"Kamera-Entitt","entity_desc":"Whlen Sie die anzuzeigende Kamera-Entitt. Dies sollte eine Kamera- oder MJPEG-Entitt aus Home Assistant sein.","name":"Kameraname","name_desc":"Benutzerdefinierter Name fr die Kamera. Leer lassen, um den Entittsnamen zu verwenden.","show_name":"Kameranamen anzeigen","show_name_desc":"Den Kameranamen im Feed anzeigen","show_name_toggle":{"enable_toggle_desc":"Aktivieren Sie den obigen Schalter, um die Anzeige des Kameranamens zu konfigurieren"},"name_position":{"group_title":"Position des Kameranamens","title":"Namensposition","desc":"Whlen Sie, wo der Kameraname als Overlay auf dem Kamerabild erscheint.","options":{"top_left":"Oben links","top_right":"Oben rechts","center":"Mitte","bottom_left":"Unten links","bottom_right":"Unten rechts"}},"display":{"title":"Anzeigeeinstellungen"},"live_view":{"title":"Live-Ansicht","desc":"Aktivieren, um den Live-Kamerastream anzuzeigen (erfordert Stream-Integration). Wenn deaktiviert, werden Standbilder angezeigt."},"auto_refresh":{"section_title":"Automatische Aktualisierung","title":"Automatisch aktualisieren","desc":"Das Kamerabild in regelmigen Abstnden automatisch aktualisieren"},"refresh_interval":{"title":"Aktualisierungsintervall (Sekunden)","desc":"Wie oft das Kamerabild automatisch aktualisiert werden soll."},"dimensions":{"title":"Abmessungen"},"width":"Breite (px)","width_desc":"Legen Sie die Breite der Kameraanzeige fest. Bereich: 1001000 px","height":"Hhe (px)","height_desc":"Legen Sie die Hhe der Kameraanzeige fest. Bereich: 1001000 px","link_aspect":"Seitenverhltnis verknpfen","unlink_aspect":"Seitenverhltnis lsen","aspect_linked":{"title":"Seitenverhltnis verknpft","desc":"Abmessungen behalten das Verhltnis {ratio}:1 bei. Das Anpassen einer Abmessung aktualisiert automatisch die andere, um die Proportionen beizubehalten."},"aspect_independent":{"title":"Unabhngige Abmessungen","desc":"Breite und Hhe knnen unabhngig angepasst werden. Klicken Sie oben auf Verknpfen, um das Seitenverhltnis beizubehalten."},"crop":{"title":"Zuschnitt & Position","desc":"Passen Sie Zuschnitt und Position der Kameraansicht an. Ntzlich, um bestimmte Bereiche zu fokussieren oder unerwnschte Rnder zu entfernen.","left_title":"Zuschnitt links (%)","left_desc":"Vom linken Rand zuschneiden. Hhere Werte zeigen weniger von der linken Seite.","right_title":"Zuschnitt rechts (%)","right_desc":"Vom rechten Rand zuschneiden. Hhere Werte zeigen weniger von der rechten Seite.","top_title":"Zuschnitt oben (%)","top_desc":"Vom oberen Rand zuschneiden. Hhere Werte zeigen weniger vom oberen Bereich.","bottom_title":"Zuschnitt unten (%)","bottom_desc":"Vom unteren Rand zuschneiden. Hhere Werte zeigen weniger vom unteren Bereich.","active_applied":"Aktive Zuschnitte angewendet","reset_all":"Alle Zuschnitte zurcksetzen"},"template":{"title":"Vorlagen-Modus","desc":"Verwenden Sie eine Vorlage, um die Kamera-Entitt dynamisch festzulegen. Vorlagen erlauben die Home-Assistant-Templating-Syntax fr bedingte Kameraauswahl.","mode_label":"Vorlagen-Modus","mode_desc":"Verwenden Sie die Home-Assistant-Templating-Syntax, um die Kamera-Entitt dynamisch zu whlen","camera_template_label":"Kamera-Vorlage","camera_template_desc":"Vorlage zum dynamischen Setzen der Kamera-Entitt mittels Jinja2-Syntax","examples_title":"Hufige Beispiele:","example1_desc":"Kamera anzeigen, wenn das Wetter sonnig ist","example2_desc":"Zwischen Kameras basierend auf einem Input-Bool wechseln","example3_desc":"Input Select verwenden, um die Kamera-Entitt zu whlen"}},"separator":{"config":{"title":"Trennzeichen-Konfiguration"},"style":{"title":"Trennzeichenstil","desc":"Whlen Sie den visuellen Stil der Trennlinie."},"options":{"solid":"Durchgezogene Linie","double":"Doppellinie","dotted":"Gepunktete Linie","double_dotted":"Doppelt gepunktet","shadow":"Schatten","blank":"Leerraum"},"appearance":{"title":"Erscheinungsbild"},"thickness":"Dicke (px)","thickness_desc":"Dicke der Trennlinie.","width":"Breite (%)","width_desc":"Breite des Trennzeichens als Prozentsatz des Containers.","color":{"title":"Farbe","desc":"Farbe der Trennlinie."},"show_title":"Titel anzeigen","show_title_desc":"Fgen Sie Text in der Mitte der Trennlinie hinzu (z. B. ------ Text ------)","show_title_toggle":{"enable_toggle_desc":"Aktivieren Sie den obigen Schalter, um die Titel-Einstellungen zu konfigurieren"},"text_content":{"title":"Textinhalt","desc":"Text, der in der Mitte des Trennzeichens angezeigt wird."},"font_size":"Schriftgre","font_size_desc":"Gre des Textes in Pixeln.","text_color":{"title":"Textfarbe","desc":"Farbe des Trennzeichen-Textes."},"text_format":{"title":"Textformatierung","desc":"Formatierungsstile auf den Trennzeichen-Text anwenden.","bold":"Fett","italic":"Kursiv","underline":"Unterstreichen","uppercase":"Grobuchstaben","strikethrough":"Durchgestrichen"},"spacer":{"title":"Abstandshhe"},"height":"Hhe (px)","height_desc":"Steuert den sichtbaren Abstand fr Leerraum.","orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"design":{"copy":"Kopieren","paste":"Einfgen","reset_all":"Alle zurcksetzen","copy_tooltip":"Aktuelle Design-Einstellungen kopieren (funktioniert kartenbergreifend)","paste_tooltip_has":"Kopierte Design-Einstellungen einfgen (aus der kartenbergreifenden Zwischenablage)","paste_tooltip_none":"Keine Design-Einstellungen in der kartenbergreifenden Zwischenablage","reset_all_tooltip":"Alle Design-Einstellungen auf Standard zurcksetzen","text_section":"Text","text_color":"Textfarbe","alignment":"Ausrichtung","inherit_alignment":"Vererben (keine Ausrichtung)","font_size":"Schriftgre","font_size_placeholder":"16px (Standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Schriftgre auf Standard zurcksetzen","line_height":"Zeilenhhe","line_height_placeholder":"0 (Standard), 28px, 1.7","reset_line_height":"Zeilenhhe auf Standard zurcksetzen","letter_spacing":"Buchstabenabstand","letter_spacing_placeholder":"auto (Standard), 1px, -0.04em","reset_letter_spacing":"Buchstabenabstand auf Standard zurcksetzen","font":"Schriftart","font_weight":"Schriftstrke","text_transform":"Texttransformation","font_style":"Schriftstil","default_option":" Standard ","weight_thin":"100 - Dnn","weight_light":"300 - Leicht","weight_normal":"400 - Normal","weight_medium":"500 - Mittel","weight_semi_bold":"600 - Halb-fett","weight_bold":"700 - Fett","weight_black":"900 - Schwarz","transform_none":"Keine","transform_uppercase":"GROBUCHSTABEN","transform_lowercase":"kleinschreibung","transform_capitalize":"Groschreibung","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Schrg","background_section":"Hintergrund","background_color":"Hintergrundfarbe","background_image_type":"Hintergrundbild-Typ","bg_none":"Keine","bg_upload":"Bild hochladen","bg_entity":"Entittsbild","bg_url":"Bild-URL","sizes_section":"Gren","spacing_section":"Abstand","border_section":"Rahmen","text_shadow_section":"Textschatten","box_shadow_section":"Boxschatten","position_section":"Position","overflow_section":"berlauf","animations_section":"Animationen","width":"Breite","height":"Hhe","max_width":"Maximale Breite","max_height":"Maximale Hhe","min_width":"Minimale Breite","min_height":"Minimale Hhe","border_radius":"Rahmen-Radius","border_style":"Rahmenstil","border_width":"Rahmenbreite","border_color":"Rahmenfarbe","margin":"Auenabstand","padding":"Innenabstand","top":"Oben","right":"Rechts","bottom":"Unten","left":"Links","unlock_sides":"Entsperren, um Seiten unabhngig zu bearbeiten","lock_sides":"Sperren, um alle Seiten gemeinsam zu bearbeiten","horizontal_shift":"Horizontalverschiebung","vertical_shift":"Vertikalverschiebung","blur":"Weichzeichnen","text_shadow_color":"Textschattenfarbe","box_shadow_color":"Boxschattenfarbe","overflow":"berlauf","clip_path":"Clip-Pfad","upload_bg_image":"Hintergrundbild hochladen","bg_image_entity":"Hintergrundbild-Entitt","bg_image_url":"Hintergrundbild-URL","choose_file":"Datei auswhlen","no_file_chosen":"Keine Datei ausgewhlt","backdrop_filter":"Hintergrundfilter","spread":"Ausbreitung","visible_default":"Sichtbar (Standard)","examples":"Beispiele","state_based_animation":"Zustandsbasierte Animation","animation_type":"Animationstyp","animation_duration":"Animationsdauer","animation_duration_desc":"Dauer der Animation (z. B. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- & Outro-Animationen","intro_animation":"Intro-Animation","outro_animation":"Outro-Animation","duration":"Dauer","delay":"Verzgerung","timing":"Timing","none":"Keine","ease":"Ease","border_style_none":"Keine","border_style_solid":"Durchgezogen","border_style_dashed":"Gestrichelt","border_style_dotted":"Gepunktet","border_style_double":"Doppelt","position_default":" Standard ","position_static":"Statisch","position_relative":"Relativ","position_absolute":"Absolut","position_fixed":"Fixiert","position_sticky":"Sticky"},"modules":{"text":"Text-Modul","image":"Bild-Modul","icon":"Symbol-Modul","bar":"Balken-Modul","info":"Info-Modul","button":"Button-Modul","separator":"Trennzeichen-Modul","markdown":"Markdown-Modul","camera":"Kamera-Modul","graphs":"Diagramm-Modul","no_text_configured":"Kein Text konfiguriert","no_image_configured":"Kein Bild konfiguriert","uploaded_image":"Hochgeladenes Bild","icons_configured":"{count} Symbole konfiguriert","no_icons_configured":"Keine Symbole konfiguriert","default_entity_suggestion":"Entitt: sensor.battery_level","sample_text":"Beispieltext","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var c=i.t(d,2);const p=JSON.parse('{"editor":{"tabs":{"layout":"Layout Builder","settings":"Settings","about":"About","pro":"Pro"},"settings":{"title":"Card Settings","description":"Configure global card appearance and behaviour."},"appearance":{"title":"Appearance","description":"Control the visual appearance of your card"},"spacing":{"title":"Spacing","description":"Control the spacing and positioning of your card"},"fields":{"card_background_color":"Card Background Colour","card_background_color_desc":"The background colour of the entire card","border_radius":"Border Radius","border_radius_desc":"Rounded corners for the card (in pixels)","card_border_color":"Border Colour","card_border_color_desc":"The border colour of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_padding":"Card Padding","card_padding_desc":"Internal spacing within the card","card_margin":"Card Margin","card_margin_desc":"External spacing around the card","unit_px":"px","reset_default":"Reset to default","reset_default_value":"Reset to default ({value})","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Enter Full Screen","return_dashboard":"Return to Dashboard","dashboard":"Dashboard"},"common":{"left":"Left","center":"Center","right":"Right","top":"Top","bottom":"Bottom","none":"None","state":"State","attribute":"Attribute","attribute_name":"Attribute Name","entity":"Entity","space_between":"Space Between","space_around":"Space Around","justify":"Justify","stretch":"Stretch","baseline":"Baseline"},"horizontal":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged horizontally within the container."},"alignment":{"horizontal":"Horizontal Alignment","horizontal_desc":"Choose how elements are aligned horizontally within the container.","vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"wrapping":{"title":"Allow Wrapping","desc":"Allow elements to wrap to the next line when they exceed the container width."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between horizontal elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"vertical":{"layout":{"title":"Layout Configuration","desc":"Configure how elements are arranged vertically within the container."},"alignment":{"vertical":"Vertical Alignment","vertical_desc":"Choose how elements are aligned vertically within the container."},"gap":{"title":"Gap Configuration","between_items":"Gap Between Items","desc":"Set the spacing between vertical elements (in rem units). Use negative values to overlap elements."},"empty":{"no_modules":"No modules added yet","add_modules":"Add modules in the layout builder to see them here"}},"layout":{"live_preview":"Live Preview","toggle_preview":"Toggle preview","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)","drag_to_move_module":"Drag to move module","edit_module":"Edit Module","duplicate_module":"Duplicate Module","delete_module":"Delete Module","drag_to_move_layout":"Drag to move layout module","horizontal_layout":"Horizontal Layout","vertical_layout":"Vertical Layout","add_module_to_layout":"Add Module to Layout","layout_settings":"Layout Settings","duplicate_layout":"Duplicate Layout","delete_layout":"Delete Layout","click_to_add_module":"Click to add a module","drop_modules_here":"Drop modules here","drag_to_reorder":"Drag to reorder","edit_child_module":"Edit Child Module","duplicate_child_module":"Duplicate Child Module","delete_child_module":"Delete Child Module","module_settings_title":"Module Settings","child_module_settings_title":"Child Module Settings","general_tab":"General","actions_tab":"Actions","other_tab":"Other","logic_tab":"Logic","design_tab":"Design","drag_to_resize":"Drag to resize","hidden_by_logic":"Hidden by Logic","add_row":"Add Row","add_row_tooltip":"Add a new row to your layout","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","row_settings":"Row Settings","column_settings":"Column Settings","row_background_color":"Row Background Colour","column_gap":"Column Gap (px)","vertical_alignment":"Vertical Alignment","horizontal_alignment":"Horizontal Alignment","column_preview":"Column Preview","modules_count":"{count} modules","alignment_top":"Top","alignment_center":"Center","alignment_bottom":"Bottom","alignment_stretch":"Stretch","alignment_left":"Left","alignment_right":"Right"},"layout_logic":{"display_title":"Display this Element","display_desc":"Control when this element is shown. Choose \\"Always\\" to keep it visible. Select \\"If EVERY condition below is met\\" or \\"If ANY condition below is met\\" to display it only when the conditions you add below evaluate to true.","always":"Always","every":"If EVERY condition below is met","any":"If ANY condition below is met","conditions":"Conditions","add_condition":"Add Condition","no_conditions":"No conditions added yet. Click \\"Add Condition\\" to get started.","condition_types":{"entity_state":"Entity State","entity_attribute":"Entity Attribute","time":"Time Range","template":"Template"},"condition_fields":{"entity":"Entity","operator":"Operator","value":"Value","attribute":"Attribute","time_from":"From","time_to":"To","template":"Template"},"condition_header":"Condition","custom_name":"Custom Name","custom_name_desc":"Optional: Give this condition a custom name for easier identification","condition_type":"Condition Type"},"hover_effects":{"title":"Hover Effects","description":"Configure visual effects that appear when hovering over this module, row, or column.","effect":"Hover Effect","effect_desc":"Select the visual effect to apply when hovering","effects":{"none":"None","highlight":"Highlight","outline":"Outline","grow":"Grow","shrink":"Shrink","pulse":"Pulse","bounce":"Bounce","float":"Float","glow":"Glow","shadow":"Shadow","rotate":"Rotate","skew":"Skew","wobble":"Wobble","buzz":"Buzz","fade":"Fade"}},"about":{"developed_by":"Developed by","desc1":"A powerful modular card builder for Home Assistant","desc2":"Create custom layouts with a professional page-builder interface","desc3":"Modular layout system with conditional logic and professional design tools","github_repo":"Check Out Our Github","join_discord":"Join Our Discord","support_title":"Support Ultra Card","support_desc":"Your generous tips fuel the development of amazing features for this card! Without support from users like you, continued innovation wouldn\'t be possible.","leave_tip":"LEAVE A TIP (PAYPAL)","version":"Version"},"actions":{"title":"Link Configuration","description":"Configure what happens when users interact with this element. Choose different actions for tap, hold, and double-tap gestures.","tap_action":"Tap Action","tap_action_desc":"Action performed when tapping/clicking the module","hold_action":"Hold Action","hold_action_desc":"Action performed when holding down on the module","double_tap_action":"Double Tap Action","double_tap_action_desc":"Action performed when double-tapping the module","tap_behavior":"Tap Behaviour","tap_behavior_desc":"Action to perform when the element is tapped/clicked.","hold_behavior":"Hold Behaviour","hold_behavior_desc":"Action to perform when the element is pressed and held.","double_tap_behavior":"Double Tap Behaviour","double_tap_behavior_desc":"Action to perform when the element is double-tapped/clicked.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITY CONFIGURATION","desc":"Configure the entity and active/inactive states"},"entity":"Entity","entity_desc":"Select the entity this icon represents","inactive_state":"Inactive State","inactive_state_desc":"State value considered \\"inactive\\" (leave blank to use actual entity state)","active_state":"Active State","active_state_desc":"State value considered \\"active\\" (leave blank to use actual entity state)","icon_section":{"title":"Icon Configuration"},"inactive_icon":"Inactive Icon","inactive_icon_desc":"Icon to show when inactive","inactive_icon_config":"Inactive Icon Configuration","inactive_icon_config_desc":"Configure inactive icon settings","active_icon":"Active Icon","active_icon_desc":"Icon to show when active","icon_color_inactive":"Colour when inactive","icon_color_active":"Colour when active","background_shape_inactive":"Background shape when inactive","background_shape_active":"Background shape when active","background_color_inactive":"Background colour when inactive","background_color_active":"Background colour when active","icon_size_inactive":"Icon size when inactive","icon_size_active":"Icon size when active","inactive_icon_color":"Inactive icon colour","active_icon_color":"Active icon colour","inactive_icon_background":"Inactive icon background","active_icon_background":"Active icon background","inactive_icon_background_color":"Inactive icon background colour","active_icon_background_color":"Active icon background colour","name_section":{"title":"Name Configuration"},"inactive_name":"Inactive Name","inactive_name_desc":"Custom name when inactive","inactive_name_config":"Inactive Name Configuration","inactive_name_config_desc":"Configure inactive name settings","active_name":"Active Name","active_name_desc":"Custom name when active","custom_inactive_name":"Custom Inactive Name","custom_inactive_name_desc":"Override entity name when inactive (leave empty to use entity name)","custom_active_name":"Custom Active Name","custom_active_name_desc":"Override entity name when active (leave empty to use entity name)","name_color_inactive":"Name colour when inactive","name_color_active":"Name colour when active","name_size_inactive":"Name text size when inactive","name_size_active":"Name text size when active","inactive_name_color":"Inactive name colour","active_name_color":"Active name colour","state_section":{"title":"State Configuration"},"inactive_state_color":"Inactive state colour","active_state_color":"Active state colour","inactive_state_text":"Inactive state text","active_state_text":"Active state text","inactive_state_config":"Inactive State Configuration","inactive_state_config_desc":"Configure inactive state settings","custom_inactive_state":"Custom Inactive State","custom_inactive_state_desc":"Custom text when inactive (leave empty to use actual state)","custom_active_state":"Custom Active State","custom_active_state_desc":"Custom text when active (leave empty to use actual state)","state_color_inactive":"State colour when inactive","state_color_active":"State colour when active","state_size_inactive":"State text size when inactive","state_size_active":"State text size when active","background_section":{"title":"Inactive Background","desc":"Configure inactive background settings"},"template_section":{"title":"Advanced Template Mode","desc":"Use Jinja2 templates for advanced icon control. Templates can control visibility (true/false to show/hide icons) and customize state text. Return custom text for Active State, return actual entity state for Inactive State."},"template_mode":"Advanced Template Mode","template":"Template","animation_section":{"title":"Icon Animation","desc":"Configure animations for active and inactive states"},"active_animation":"Active Animation","active_animation_desc":"Animation when icon is active","inactive_animation":"Inactive Animation","inactive_animation_desc":"Animation when icon is inactive","animation_none":"None","animation_pulse":"Pulse","animation_spin":"Spin","animation_bounce":"Bounce","animation_flash":"Flash","animation_shake":"Shake","animation_vibrate":"Vibrate","animation_rotate_left":"Rotate Left","animation_rotate_right":"Rotate Right","animation_fade":"Fade","animation_scale":"Scale","animation_tada":"Tada"},"text":{"content_section":{"title":"Content Configuration","desc":"Configure the text content and basic settings for this module."},"text_content":"Text Content","text_content_desc":"Enter the text content to display in this module.","icon_section":{"title":"Icon Configuration","desc":"Choose an icon to display alongside the text content."},"icon":"Icon","icon_desc":"Choose an icon to display alongside the text. Leave empty for no icon.","icon_position":"Icon Position","icon_position_desc":"Choose where to position the icon relative to the text.","before_text":"Before Text","after_text":"After Text","template_mode":"Template Mode","template_mode_desc":"Use Home Assistant templating syntax to render text","value_template":"Value Template","value_template_desc":"Template to render the text using Jinja2 syntax","examples_title":"Common Examples:","example_basic":"Basic value","example_percent":"With percent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"markdown":{"content":{"title":"Markdown Content","label":"Content","desc":"Enter your markdown content with full formatting support"},"features":{"title":"Markdown Features"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks"},"bar":{"bar_settings":{"title":"Bar Settings","desc":"Configure how the bar percentage is calculated and displayed."},"perc_type":{"entity":"Entity (0-100)","attribute":"Entity Attribute","difference":"Difference","template":"Template"},"attribute_section":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings"},"attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")","diff_section":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings"},"current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)","template_section":{"title":"Template Configuration","desc":"Configure template settings"},"percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Entity Attribute Configuration","desc":"Configure entity attribute settings","attribute_entity":"Attribute Entity","attribute_entity_desc":"Select the entity that contains the attribute with the percentage value","attribute_name":"Attribute Name","attribute_name_desc":"Enter the name of the attribute that contains the percentage value (e.g., \\"battery_level\\")"},"diff_config":{"title":"Difference Calculation Configuration","desc":"Configure difference calculation settings","current_entity":"Current Value Entity","current_entity_desc":"Entity representing the current/used amount (e.g., fuel used, battery consumed)","total_entity":"Total Value Entity","total_entity_desc":"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)"},"template_config":{"title":"Template Configuration","desc":"Configure template settings","percentage_template":"Percentage Template","percentage_template_desc":"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Bar Percentage Entity","desc_present":"The entity that provides the percentage value for the bar.","desc_empty":"Select an entity that provides a percentage value (0-100). Battery sensors are ideal for bars.","no_entity_warning":"No entity selected - Please choose a sensor with values between 0-100"},"limit_entity":{"title":"Limit Value Entity (Optional)","desc":"Optional: Add a vertical indicator line on the bar (e.g. charge limit for EV battery)."},"appearance":{"title":"Bar Appearance","direction":"Fill Direction","direction_desc":"Choose which direction the bar fills from as the value increases.","left_to_right":"Left to Right","right_to_left":"Right to Left","height":"Bar Height","height_desc":"Adjust the thickness of the progress bar in pixels.","border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the bar.","style":"Bar Style","style_desc":"Choose the visual style of the progress bar.","style_flat":"Flat (Default)","style_glossy":"Glossy","style_embossed":"Embossed","style_inset":"Inset","style_gradient":"Gradient Overlay","style_neon":"Neon Glow","style_outline":"Outline","style_glass":"Glass","style_metallic":"Metallic","style_neumorphic":"Neumorphic","style_dashed":"Dashed","style_dots":"Dots","width":"Bar Width","width_desc":"Set the bar width as percentage of container.","alignment":"Bar Alignment","alignment_desc":"Choose how to align the bar when it\'s less than 100% width."},"labels":{"alignment":"Label Alignment","alignment_desc":"Control how left and right labels are positioned."},"percentage":{"title":"Percentage Text Display","desc":"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.","text_size":"Text Size","text_size_desc":"Adjust the size of percentage text shown on the bar.","text_alignment":"Percentage Text Alignment"},"left":{"title":"Left Side","desc":"Configure the title and entity value shown on the left side of the bar. This is useful for displaying labels like \'Range\' or \'Battery\' alongside their values.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the left side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure left side settings"},"right":{"title":"Right Side","desc":"Configure the title and entity value shown on the right side of the bar. This is ideal for complementary information like \'Time to Full\' or secondary measurements.","title_size":"Title Size","value_size":"Value Size","template_mode":"Template Mode","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","value_template":"Value Template","value_template_desc":"Template to format the right side value using Jinja2 syntax","enable_toggle":"Enable the toggle above to configure right side settings"},"colors":{"title":"Colors","bar_color":"Bar Colour","background_color":"Background Colour","border_color":"Border Colour","limit_indicator":"Limit Indicator","percentage_text":"Percentage Text","left_side":"Left Side Colors","right_side":"Right Side Colors","title_color":"Title Colour","value_color":"Value Colour","text_color":"Text Colour","text_color_desc":"Choose the colour for the text displayed on the bar."},"gradient":{"title":"Gradient Mode","desc":"Apply a colour gradient to the bar fill. When enabled, choose how the gradient is displayed and customize colour stops below.","full":"Full","cropped":"Cropped","value_based":"Value Based"},"animation":{"title":"Bar Animation","desc":"Animate the bar fill using presets like charging stripes, pulse, glow and more. You can trigger animations based on an entity\'s state or attribute, and optionally override the animation when another condition is met.","trigger":{"title":"Animation Trigger","desc":"Select an entity to watch and define the value + animation to apply when it matches.","entity_desc":"Entity to evaluate for animation trigger","type":"Trigger Type","type_desc":"Choose whether to compare entity state or an attribute","attribute_name_desc":"Attribute name to compare (e.g., charging_status)","match_value":"Match Value","match_value_desc":"Text to compare against state or attribute (comparison is text-based)."},"type":"Animation Type","type_desc":"Select how the bar should animate when triggered.","types":{"charging":"Charging (Diagonal Lines)","pulse":"Pulse","blinking":"Blinking","bouncing":"Bouncing","glow":"Glow","rainbow":"Rainbow","bubbles":"Bubbles","fill":"Fill","ripple":"Ripple","traffic":"Traffic (Barber Pole)","heartbeat":"Heartbeat","flicker":"Flicker","shimmer":"Shimmer","vibrate":"Vibrate"},"override":{"title":"Action Animation Override","desc":"Select an action entity and state to define when this animation should override the regular animation","entity_desc":"Entity to evaluate for override trigger","type_desc":"Animation to use when override condition matches.","attribute_name_desc":"Attribute name to compare","match_value":"Override Match Value","match_value_desc":"Text comparison against state or attribute","type":"Override Animation Type"}},"text_display":{"title":"Text Display","desc":"Control the visibility and appearance of text values shown directly on the bar. For difference and template modes, you can choose to display raw entity values instead of percentages.","show_value":"Show Value Instead of Percentage","show_value_desc":"When enabled, shows the actual entity value instead of percentage. Useful for displaying raw sensor values like \\"45 kWh\\" instead of \\"75%\\".","text_size":"Text Size","text_size_desc":"Adjust the size of the text displayed on the bar.","text_alignment":"Text Alignment"}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Entity Attribute"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Entity","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Entity Attribute Configuration"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Attribute Name","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Border Radius","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation ()","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Image","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity"},"entity":"Entity","line":{"show_points":"Show Points","fill_area":"Fill Area","line_width":"Line Width","line_style":"Line Style"},"line_styles":{"solid":"Solid","dashed":"Dashed","dotted":"Dotted"},"display":{"title":"Display Options","show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","background_color":"Background Colour","chart_options":"Chart Options","show_legend":"Show Legend","show_grid":"Show Grid","smooth_lines":"Smooth Lines","show_tooltips":"Show Tooltips","add_slice_gap":"Add Slice Gap","show_grid_values":"Show Grid Values"},"agg":{"mean":"Average","sum":"Sum","min":"Minimum","max":"Maximum","median":"Median","first":"First Value","last":"Last Value","count":"Count","delta":"Change"},"position":{"top":"Top","bottom":"Bottom","left":"Left","right":"Right","hidden":"Hidden","top_left":"Top Left","top_right":"Top Right","bottom_left":"Bottom Left","bottom_right":"Bottom Right","middle":"Center","center":"Center"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"reset_345":"Reset to default (345px)","reset_100":"Reset to default (100%)","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribute","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","chart_width":"Chart Width (%)","data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"info":{"entity_section":{"title":"ENTITY CONFIGURATION"},"entity":"Entity","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Icon","icon_desc":"Choose an icon to display","icon_color":"Icon Colour","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Colour","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Colour","template":{"title":"Template Mode","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Template Mode","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Value Template","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Value Size","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Icon Position","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Common Examples:","example_basic":"Basic value","example_units":"With units","example_round":"Round to 1 decimal"},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"align":{"left":"Left","center":"Center","right":"Right","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Before Text","after":"After Text","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"icon_field":"Icon","show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Icon Position","icon_position_desc":"Position of the icon relative to text","colors":{"title":"Colors","background":"Background Colour","text":"Text Colour"},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"None","color":"Colour Change","scale":"Scale","glow":"Glow","lift":"Lift (translate Y)","hover_color":"Hover Colour","glow_color":"Glow Colour","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Entity","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Tap Action","desc":"Action to perform when button is tapped"},"hold":{"title":"Hold Action","desc":"Action to perform when button is held down"},"double":{"title":"Double Tap Action","desc":"Action to perform when button is double-tapped"}},"layout_extra":{"module_name":"Module Name:","module_name_placeholder":"Give this module a custom name to make it easier to identify in the editor.","module_name_help":"Give this module a custom name to make it easier to identify in the editor."},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"},"name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Center","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Template Mode","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Template Mode","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Common Examples:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Appearance"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Colour","desc":"Colour of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"},"text_content":{"title":"Text Content","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Colour","desc":"Colour of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space.","orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Text","text_color":"Text Colour","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":" Default ","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"None","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Background","background_color":"Background Colour","background_image_type":"Background Image Type","bg_none":"None","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Spacing","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Width","height":"Height","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Border Radius","border_style":"Border Style","border_width":"Border Width","border_color":"Border Colour","margin":"Margin","padding":"Padding","top":"Top","right":"Right","bottom":"Bottom","left":"Left","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Colour","box_shadow_color":"Box Shadow Colour","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Animation Type","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"None","ease":"Ease","border_style_none":"None","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":" Default ","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Text Module","image":"Image Module","icon":"Icon Module","bar":"Bar Module","info":"Info Module","button":"Button Module","separator":"Separator Module","markdown":"Markdown Module","camera":"Camera Module","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var u=i.t(p,2);const g=JSON.parse('{"editor":{"tabs":{"layout":"Constructor de diseo","settings":"Configuracin","about":"Acerca de","pro":"Pro"},"settings":{"title":"Configuracin de tarjeta","description":"Configura la apariencia global y el comportamiento de la tarjeta."},"appearance":{"title":"Apariencia","description":"Controla la apariencia visual de tu tarjeta"},"spacing":{"title":"Espaciado","description":"Controla el espaciado y posicionamiento de tu tarjeta"},"fields":{"reset_default_value":"Restablecer al valor predeterminado ({value})","card_background_color":"Color de fondo de tarjeta","card_background_color_desc":"El color de fondo de toda la tarjeta","border_radius":"Radio del borde","border_radius_desc":"Esquinas redondeadas para la tarjeta (en pxeles)","card_border_color":"Color del borde","card_border_color_desc":"El color del borde de la tarjeta","card_border_width":"Ancho del borde","card_border_width_desc":"El grosor del borde de la tarjeta (en pxeles)","card_padding":"Relleno de tarjeta","card_padding_desc":"Espaciado interno dentro de la tarjeta","card_margin":"Margen de tarjeta","card_margin_desc":"Espaciado externo alrededor de la tarjeta","unit_px":"px","reset_default":"Restablecer a predeterminado","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Pantalla completa","return_dashboard":"Volver al panel","dashboard":"Panel"},"layout":{"live_preview":"Vista previa","toggle_preview":"Mostrar/ocultar vista previa","drag_to_move_module":"Arrastrar para mover mdulo","edit_module":"Editar mdulo","duplicate_module":"Duplicar mdulo","delete_module":"Eliminar mdulo","drag_to_move_layout":"Arrastrar para mover el diseo","horizontal_layout":"Diseo Horizontal","vertical_layout":"Diseo Vertical","add_module_to_layout":"Aadir mdulo al diseo","layout_settings":"Ajustes de diseo","duplicate_layout":"Duplicar diseo","delete_layout":"Eliminar diseo","click_to_add_module":"Clic para aadir un mdulo","drop_modules_here":"Suelta mdulos aqu","drag_to_reorder":"Arrastrar para reordenar","edit_child_module":"Editar mdulo hijo","duplicate_child_module":"Duplicar mdulo hijo","delete_child_module":"Eliminar mdulo hijo","module_settings_title":"Ajustes del mdulo","child_module_settings_title":"Ajustes del mdulo hijo","general_tab":"General","actions_tab":"Acciones","other_tab":"Otro","logic_tab":"Lgica","design_tab":"Diseo","drag_to_resize":"Arrastrar para redimensionar","hidden_by_logic":"Oculto por lgica","add_row":"Aadir fila","add_row_tooltip":"Aadir una nueva fila a tu diseo","undo":"Deshacer","undo_tooltip":"Deshacer ltimo cambio (Ctrl+Z)","redo":"Rehacer","redo_tooltip":"Rehacer ltimo cambio deshecho (Ctrl+Y)","row_settings":"Configuracin de fila","column_settings":"Configuracin de columna","row_background_color":"Color de fondo de fila","column_gap":"Espacio entre columnas (px)","vertical_alignment":"Alineacin vertical","horizontal_alignment":"Alineacin horizontal","column_preview":"Vista previa de columna","modules_count":"{count} mdulos","alignment_top":"Arriba","alignment_center":"Centro","alignment_bottom":"Abajo","alignment_stretch":"Estirar","alignment_left":"Izquierda","alignment_right":"Derecha","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"common":{"left":"Izquierda","center":"Centro","right":"Derecha","top":"Arriba","bottom":"Abajo","none":"Ninguno","state":"Estado","attribute":"Atributo","attribute_name":"Nombre del atributo","entity":"Entidad","space_between":"Espacio entre","space_around":"Espacio alrededor","justify":"Justificar","stretch":"Estirar","baseline":"Lnea base"},"horizontal":{"layout":{"title":"Configuracin de diseo","desc":"Configura cmo se organizan los elementos horizontalmente dentro del contenedor."},"alignment":{"horizontal":"Alineacin horizontal","horizontal_desc":"Elige cmo se alinean los elementos horizontalmente dentro del contenedor.","vertical":"Alineacin vertical","vertical_desc":"Elige cmo se alinean los elementos verticalmente dentro del contenedor."},"wrapping":{"title":"Permitir ajuste","desc":"Permite que los elementos se ajusten a la siguiente lnea cuando excedan el ancho del contenedor."},"gap":{"title":"Configuracin de espacio","between_items":"Espacio entre elementos","desc":"Establece el espaciado entre elementos horizontales (en unidades rem). Usa valores negativos para superponer elementos."},"empty":{"no_modules":"An no se han aadido mdulos","add_modules":"Aade mdulos en el constructor de diseo para verlos aqu"}},"vertical":{"layout":{"title":"Configuracin de diseo","desc":"Configura cmo se organizan los elementos verticalmente dentro del contenedor."},"alignment":{"vertical":"Alineacin vertical","vertical_desc":"Elige cmo se alinean los elementos verticalmente dentro del contenedor."},"gap":{"title":"Configuracin de espacio","between_items":"Espacio entre elementos","desc":"Establece el espaciado entre elementos verticales (en unidades rem). Usa valores negativos para superponer elementos."},"empty":{"no_modules":"An no se han aadido mdulos","add_modules":"Aade mdulos en el constructor de diseo para verlos aqu"}},"layout_extra":{"module_name":"Nombre del mdulo:","module_name_placeholder":"Asigna un nombre para identificarlo fcilmente en el editor.","module_name_help":"Asigna un nombre para identificarlo fcilmente en el editor."},"layout_logic":{"display_title":"Mostrar este elemento","display_desc":"Controla cundo se muestra este elemento. Elige \\"Siempre\\" para mantenerlo visible. Selecciona \\"Si TODAS las condiciones se cumplen\\" o \\"Si CUALQUIER condicin se cumple\\" para mostrarlo solo cuando las condiciones aadidas se evalen como verdaderas.","always":"Siempre","every":"Si TODAS las condiciones se cumplen","any":"Si CUALQUIER condicin se cumple","conditions":"Condiciones","add_condition":"Aadir condicin","no_conditions":"An no hay condiciones. Haz clic en \\"Aadir condicin\\" para empezar.","condition_types":{"entity_state":"Estado de entidad","entity_attribute":"Atributo de entidad","time":"Rango de tiempo","template":"Plantilla"},"condition_fields":{"entity":"Entidad","operator":"Operador","value":"Valor","attribute":"Atributo","time_from":"Desde","time_to":"Hasta","template":"Plantilla"},"condition_header":"Condicin","custom_name":"Nombre personalizado","custom_name_desc":"Opcional: Asigna un nombre personalizado a esta condicin para identificarla ms fcilmente","condition_type":"Tipo de condicin"},"hover_effects":{"title":"Efectos de hover","description":"Configura efectos visuales que aparecen al pasar el cursor sobre este mdulo, fila o columna.","effect":"Efecto de hover","effect_desc":"Selecciona el efecto visual que se aplicar al pasar el cursor","effects":{"none":"Ninguno","highlight":"Resaltar","outline":"Contorno","grow":"Crecer","shrink":"Encoger","pulse":"Pulso","bounce":"Rebotar","float":"Flotar","glow":"Brillo","shadow":"Sombra","rotate":"Rotar","skew":"Inclinar","wobble":"Tambalear","buzz":"Vibrar","fade":"Desvanecer"}},"about":{"developed_by":"Desarrollado por","desc1":"Un potente constructor de tarjetas modulares para Home Assistant","desc2":"Crea diseos personalizados con una interfaz profesional de constructor de pginas","desc3":"Sistema de diseo modular con lgica condicional y herramientas de diseo profesionales","github_repo":"Visita nuestro Github","join_discord":"nete a nuestro Discord","support_title":"Apoya Ultra Card","support_desc":"Tus generosas propinas impulsan el desarrollo de caractersticas increbles para esta tarjeta! Sin el apoyo de usuarios como t, la innovacin continua no sera posible.","leave_tip":"DEJA UNA PROPINA (PAYPAL)","version":"Versin"},"actions":{"title":"Configuracin de enlaces","description":"Configura qu sucede cuando los usuarios interactan con este elemento. Elige diferentes acciones para gestos de toque, mantener presionado y doble toque.","tap_action":"Accin de toque","tap_action_desc":"Accin realizada al tocar/hacer clic en el mdulo","hold_action":"Accin de mantener presionado","hold_action_desc":"Accin realizada al mantener presionado el mdulo","double_tap_action":"Accin de doble toque","double_tap_action_desc":"Accin realizada al hacer doble toque en el mdulo","tap_behavior":"Comportamiento de toque","tap_behavior_desc":"Accin a realizar cuando se toca/hace clic en el elemento.","hold_behavior":"Comportamiento de mantener presionado","hold_behavior_desc":"Accin a realizar cuando se presiona y mantiene el elemento.","double_tap_behavior":"Comportamiento de doble toque","double_tap_behavior_desc":"Accin a realizar cuando se hace doble toque/clic en el elemento.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"CONFIGURACIN DE ENTIDAD","desc":"Configura la entidad y los estados activo/inactivo"},"entity":"Entidad","entity_desc":"Selecciona la entidad que representa este icono","inactive_state":"Estado inactivo","inactive_state_desc":"Valor de estado considerado \\"inactivo\\" (dejar en blanco para usar el estado real de la entidad)","active_state":"Estado activo","active_state_desc":"Valor de estado considerado \\"activo\\" (dejar en blanco para usar el estado real de la entidad)","icon_section":{"title":"Configuracin de icono"},"inactive_icon":"Icono inactivo","inactive_icon_desc":"Icono a mostrar cuando est inactivo","inactive_icon_config":"Configuracin de icono inactivo","inactive_icon_config_desc":"Configura los ajustes del icono inactivo","active_icon":"Icono activo","active_icon_desc":"Icono a mostrar cuando est activo","icon_color_inactive":"Color cuando est inactivo","icon_color_active":"Color cuando est activo","background_shape_inactive":"Forma de fondo cuando est inactivo","background_shape_active":"Forma de fondo cuando est activo","background_color_inactive":"Color de fondo cuando est inactivo","background_color_active":"Color de fondo cuando est activo","icon_size_inactive":"Tamao del icono cuando est inactivo","icon_size_active":"Tamao del icono cuando est activo","inactive_icon_color":"Color del icono inactivo","active_icon_color":"Color del icono activo","inactive_icon_background":"Fondo del icono inactivo","active_icon_background":"Fondo del icono activo","inactive_icon_background_color":"Color de fondo del icono inactivo","active_icon_background_color":"Color de fondo del icono activo","name_section":{"title":"Configuracin de nombre"},"inactive_name":"Nombre inactivo","inactive_name_desc":"Nombre personalizado cuando est inactivo","inactive_name_config":"Configuracin de nombre inactivo","inactive_name_config_desc":"Configura los ajustes del nombre inactivo","active_name":"Nombre activo","active_name_desc":"Nombre personalizado cuando est activo","custom_inactive_name":"Nombre inactivo personalizado","custom_inactive_name_desc":"Anular el nombre de la entidad cuando est inactivo (dejar vaco para usar el nombre de la entidad)","custom_active_name":"Nombre activo personalizado","custom_active_name_desc":"Anular el nombre de la entidad cuando est activo (dejar vaco para usar el nombre de la entidad)","name_color_inactive":"Color del nombre cuando est inactivo","name_color_active":"Color del nombre cuando est activo","name_size_inactive":"Tamao del texto del nombre cuando est inactivo","name_size_active":"Tamao del texto del nombre cuando est activo","inactive_name_color":"Color del nombre inactivo","active_name_color":"Color del nombre activo","state_section":{"title":"Configuracin de estado"},"inactive_state_color":"Color del estado inactivo","active_state_color":"Color del estado activo","inactive_state_text":"Texto de estado inactivo","active_state_text":"Texto de estado activo","inactive_state_config":"Configuracin de estado inactivo","inactive_state_config_desc":"Configura los ajustes del estado inactivo","custom_inactive_state":"Estado inactivo personalizado","custom_inactive_state_desc":"Texto personalizado cuando est inactivo (dejar vaco para usar el estado real)","custom_active_state":"Estado activo personalizado","custom_active_state_desc":"Texto personalizado cuando est activo (dejar vaco para usar el estado real)","state_color_inactive":"Color del estado cuando est inactivo","state_color_active":"Color del estado cuando est activo","state_size_inactive":"Tamao del texto del estado cuando est inactivo","state_size_active":"Tamao del texto del estado cuando est activo","background_section":{"title":"Fondo inactivo","desc":"Configura los ajustes del fondo inactivo"},"template_section":{"title":"Modo de plantilla avanzado","desc":"Usa plantillas Jinja2 para control avanzado de iconos. Las plantillas pueden controlar la visibilidad (verdadero/falso para mostrar/ocultar iconos) y personalizar el texto de estado. Devuelve texto personalizado para Estado Activo, devuelve el estado real de la entidad para Estado Inactivo."},"template_mode":"Modo de plantilla avanzado","template":"Plantilla","animation_section":{"title":"Animacin de icono","desc":"Configura animaciones para estados activos e inactivos"},"active_animation":"Animacin activa","active_animation_desc":"Animacin cuando el icono est activo","inactive_animation":"Animacin inactiva","inactive_animation_desc":"Animacin cuando el icono est inactivo","animation_none":"Ninguna","animation_pulse":"Pulso","animation_spin":"Girar","animation_bounce":"Rebotar","animation_flash":"Destello","animation_shake":"Temblar","animation_vibrate":"Vibrar","animation_rotate_left":"Rotar izquierda","animation_rotate_right":"Rotar derecha","animation_fade":"Desvanecer","animation_scale":"Escalar","animation_tada":"Tada"},"markdown":{"content":{"title":"Contenido de Markdown","label":"Contenido","desc":"Introduce tu contenido markdown con soporte completo de formato"},"features":{"title":"Caractersticas de Markdown"},"enable_html":"Habilitar HTML","enable_html_desc":"Permitir etiquetas HTML en el contenido markdown","enable_tables":"Habilitar tablas","enable_tables_desc":"Soporte para sintaxis de tablas markdown","code_highlighting":"Resaltado de cdigo","code_highlighting_desc":"Resaltado de sintaxis para bloques de cdigo"},"text":{"content_section":{"title":"Configuracin de contenido","desc":"Configura el contenido de texto y los ajustes bsicos de este mdulo."},"text_content":"Contenido de texto","text_content_desc":"Introduce el texto que se mostrar en este mdulo.","icon_section":{"title":"Configuracin del icono","desc":"Elige un icono para mostrar junto al texto."},"icon":"Icono","icon_desc":"Elige un icono para mostrar junto al texto. Djalo vaco para no mostrar icono.","icon_position":"Posicin del icono","icon_position_desc":"Elige dnde posicionar el icono respecto al texto.","before_text":"Antes del texto","after_text":"Despus del texto","template_mode":"Modo plantilla","template_mode_desc":"Usa la sintaxis de plantillas de Home Assistant para renderizar el texto","value_template":"Plantilla de valor","value_template_desc":"Plantilla para renderizar el texto usando sintaxis Jinja2","examples_title":"Ejemplos comunes:","example_basic":"Valor bsico","example_percent":"Con porcentaje","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Configuracin de barra","desc":"Configura cmo se calcula y muestra el porcentaje de la barra."},"perc_type":{"entity":"Entidad (0-100)","attribute":"Atributo de entidad","difference":"Diferencia","template":"Plantilla"},"attribute_section":{"title":"Configuracin de atributo de entidad","desc":"Configura los ajustes del atributo de entidad"},"attribute_entity":"Entidad del atributo","attribute_entity_desc":"Selecciona la entidad que contiene el atributo con el valor del porcentaje","attribute_name":"Nombre del atributo","attribute_name_desc":"Ingresa el nombre del atributo que contiene el valor del porcentaje (ej., \\"battery_level\\")","diff_section":{"title":"Configuracin de clculo de diferencia","desc":"Configura los ajustes de clculo de diferencia"},"current_entity":"Entidad de valor actual","current_entity_desc":"Entidad que representa la cantidad actual/usada (ej., combustible usado, batera consumida)","total_entity":"Entidad de valor total","total_entity_desc":"Entidad que representa la cantidad total/mxima (ej., capacidad de combustible, capacidad de batera)","template_section":{"title":"Configuracin de plantilla","desc":"Configura los ajustes de plantilla"},"percentage_template":"Plantilla de porcentaje","percentage_template_desc":"Ingresa una plantilla Jinja2 que devuelva un nmero entre 0-100 para el porcentaje. Ejemplo: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Configuracin de atributo de entidad","desc":"Configura los ajustes del atributo de entidad","attribute_entity":"Entidad del atributo","attribute_entity_desc":"Selecciona la entidad que contiene el atributo con el valor del porcentaje","attribute_name":"Nombre del atributo","attribute_name_desc":"Ingresa el nombre del atributo que contiene el valor del porcentaje (ej., \\"battery_level\\")"},"diff_config":{"title":"Configuracin de clculo de diferencia","desc":"Configura los ajustes del clculo de diferencia","current_entity":"Entidad de valor actual","current_entity_desc":"Entidad que representa la cantidad actual/usada (ej., combustible usado, batera consumida)","total_entity":"Entidad de valor total","total_entity_desc":"Entidad que representa la cantidad total/mxima (ej., capacidad de combustible, capacidad de batera)"},"template_config":{"title":"Configuracin de plantilla","desc":"Configura los ajustes de plantilla","percentage_template":"Plantilla de porcentaje","percentage_template_desc":"Ingresa una plantilla Jinja2 que devuelva un nmero entre 0-100 para el porcentaje. Ejemplo: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Entidad de porcentaje de barra","desc_present":"La entidad que proporciona el valor del porcentaje para la barra.","desc_empty":"Selecciona una entidad que proporcione un valor de porcentaje (0-100). Los sensores de batera son ideales para barras.","no_entity_warning":"No se seleccion entidad - Por favor elige un sensor con valores entre 0-100"},"limit_entity":{"title":"Entidad de valor lmite (opcional)","desc":"Opcional: Aade una lnea indicadora vertical en la barra (ej. lmite de carga para batera EV)."},"appearance":{"title":"Apariencia de la barra","direction":"Direccin de llenado","direction_desc":"Elija la direccin en la que se llena la barra a medida que aumenta el valor.","left_to_right":"Izquierda a derecha","right_to_left":"Derecha a izquierda","height":"Altura de la barra","height_desc":"Ajusta el grosor de la barra de progreso en pxeles.","border_radius":"Radio del borde","border_radius_desc":"Controla las esquinas redondeadas de la barra.","style":"Estilo de barra","style_desc":"Elige el estilo visual de la barra de progreso.","style_flat":"Plano (Predeterminado)","style_glossy":"Brillante","style_embossed":"Relieve","style_inset":"Hundido","style_gradient":"Superposicin de gradiente","style_neon":"Resplandor nen","style_outline":"Contorno","style_glass":"Cristal","style_metallic":"Metlico","style_neumorphic":"Neumrfico","style_dashed":"Punteado","style_dots":"Puntos","width":"Ancho de barra","width_desc":"Establece el ancho de la barra como porcentaje del contenedor.","alignment":"Alineacin de barra","alignment_desc":"Elige cmo alinear la barra cuando es menos del 100% de ancho."},"labels":{"alignment":"Alineacin de etiquetas","alignment_desc":"Controla cmo se posicionan las etiquetas izquierda y derecha."},"percentage":{"title":"Visualizacin de texto de porcentaje","desc":"Controla la visibilidad y apariencia de los valores de porcentaje mostrados directamente en la barra. Estos nmeros proporcionan un indicador visual claro del nivel actual.","text_size":"Tamao del texto","text_size_desc":"Ajusta el tamao del texto de porcentaje mostrado en la barra.","text_alignment":"Alineacin del texto de porcentaje"},"left":{"title":"Lado izquierdo","desc":"Configura el ttulo y valor de entidad mostrado en el lado izquierdo de la barra. Esto es til para mostrar etiquetas como \'Rango\' o \'Batera\' junto con sus valores.","title_size":"Tamao del ttulo","value_size":"Tamao del valor","template_mode":"Modo plantilla","template_desc":"Usa una plantilla para formatear el valor mostrado. Las plantillas usan la sintaxis Jinja2 de Home Assistant.","value_template":"Plantilla de valor","value_template_desc":"Plantilla para formatear el valor del lado izquierdo usando sintaxis Jinja2","enable_toggle":"Activa el interruptor arriba para configurar los ajustes del lado izquierdo"},"right":{"title":"Lado derecho","desc":"Configura el ttulo y valor de entidad mostrado en el lado derecho de la barra. Esto es ideal para informacin complementaria como \'Tiempo hasta lleno\' o mediciones secundarias.","title_size":"Tamao del ttulo","value_size":"Tamao del valor","template_mode":"Modo plantilla","template_desc":"Usa una plantilla para formatear el valor mostrado. Las plantillas usan la sintaxis Jinja2 de Home Assistant.","value_template":"Plantilla de valor","value_template_desc":"Plantilla para formatear el valor del lado derecho usando sintaxis Jinja2","enable_toggle":"Activa el interruptor arriba para configurar los ajustes del lado derecho"},"colors":{"title":"Colores","bar_color":"Color de la barra","background_color":"Color de fondo","border_color":"Color del borde","limit_indicator":"Indicador de lmite","percentage_text":"Texto de porcentaje","left_side":"Colores del lado izquierdo","right_side":"Colores del lado derecho","title_color":"Color del ttulo","value_color":"Color del valor","text_color":"Color del texto","text_color_desc":"Elige el color para el texto mostrado en la barra."},"gradient":{"title":"Modo gradiente","desc":"Aplica un gradiente de color al relleno de la barra. Cuando est habilitado, elige cmo se muestra el gradiente y personaliza las paradas de color abajo.","full":"Completo","cropped":"Recortado","value_based":"Basado en valor"},"animation":{"title":"Animacin de barra","desc":"Anima el relleno de la barra usando presets como rayas de carga, pulso, brillo y ms. Puedes activar animaciones basadas en el estado o atributo de una entidad, y opcionalmente anular la animacin cuando se cumple otra condicin.","trigger":{"title":"Disparador de animacin","desc":"Selecciona una entidad para observar y define el valor + animacin a aplicar cuando coincida.","entity_desc":"Entidad para evaluar el disparador de animacin","type":"Tipo de disparador","type_desc":"Elige si comparar el estado de la entidad o un atributo","attribute_name_desc":"Nombre del atributo a comparar (ej., charging_status)","match_value":"Valor de coincidencia","match_value_desc":"Texto para comparar contra el estado o atributo (la comparacin es basada en texto)."},"type":"Tipo de animacin","type_desc":"Selecciona cmo debe animarse la barra cuando se activa.","types":{"charging":"Carga (Lneas diagonales)","pulse":"Pulso","blinking":"Parpadeo","bouncing":"Rebote","glow":"Resplandor","rainbow":"Arcoris","bubbles":"Burbujas","fill":"Relleno","ripple":"Ondulacin","traffic":"Trfico (Poste de barbero)","heartbeat":"Latido","flicker":"Parpadeo","shimmer":"Brillo","vibrate":"Vibracin"},"override":{"title":"Anulacin de animacin de accin","desc":"Selecciona una entidad de accin y estado para definir cundo esta animacin debe anular la animacin regular","entity_desc":"Entidad para evaluar el disparador de anulacin","type_desc":"Animacin a usar cuando la condicin de anulacin coincide.","attribute_name_desc":"Nombre del atributo a comparar","match_value":"Valor de coincidencia de anulacin","match_value_desc":"Comparacin de texto contra estado o atributo","type":"Tipo de animacin de anulacin"}},"text_display":{"title":"Visualizacin de texto","desc":"Controla la visibilidad y apariencia de los valores de texto mostrados directamente en la barra. Para los modos de diferencia y plantilla, puedes elegir mostrar valores de entidad sin procesar en lugar de porcentajes.","show_value":"Mostrar valor en lugar de porcentaje","show_value_desc":"Cuando est habilitado, muestra el valor real de la entidad en lugar del porcentaje. til para mostrar valores de sensor sin procesar como \\"45 kWh\\" en lugar de \\"75%\\".","text_size":"Tamao del texto","text_size_desc":"Ajusta el tamao del texto mostrado en la barra.","text_alignment":"Alineacin del texto"}},"image":{"settings":"Configuracin de imagen","source_type":"Tipo de fuente de imagen","source_type_desc":"Elige cmo quieres especificar la fuente de la imagen.","source":{"default":"Imagen predeterminada","url":"URL de imagen","upload":"Subir imagen","entity":"Imagen de entidad","attribute":"Atributo de entidad"},"url_section":{"title":"Configuracin de URL de imagen"},"image_url":"URL de imagen","image_url_desc":"Ingresa la URL directa de la imagen que quieres mostrar.","upload_section":{"title":"Configuracin de subida de imagen"},"upload":"Subir imagen","upload_desc":"Haz clic para subir un archivo de imagen desde tu dispositivo.","entity_section":{"title":"Configuracin de imagen de entidad"},"entity":"Entidad","entity_desc":"Selecciona una entidad que tenga una imagen (ej., entidades de persona, cmara).","attribute_section":{"title":"Configuracin de atributo de entidad"},"entity_attr_desc":"Selecciona la entidad que contiene la URL de la imagen en uno de sus atributos.","attribute_name":"Nombre del atributo","attribute_name_desc":"Ingresa la ruta del atributo que contiene la URL de la imagen (notacin de punto soportada, ej., vehicle_data.vehicleDetails.generalDashboard).","width":"Ancho (%)","width_desc":"Establece el ancho como porcentaje del contenedor.","height":"Alto (px)","height_desc":"Establece la altura en pxeles.","crop_fit":"Recorte y ajuste","crop_fit_desc":"Controla cmo se ajusta la imagen dentro de su contenedor.","fit":{"cover":"Cubrir (recortar para llenar)","contain":"Contener (ajustar imagen completa)","fill":"Llenar (estirar para ajustar)","scale_down":"Reducir escala","none":"Ninguno (tamao original)"},"border_radius":"Radio del borde","border_radius_desc":"Controla las esquinas redondeadas de la imagen.","tap_actions":"Acciones de toque","filters":"Filtros","filter":{"blur":"Desenfoque","blur_desc":"Aplica un efecto de desenfoque a tu imagen.","brightness":"Brillo (%)","brightness_desc":"Ajusta el brillo de tu imagen.","contrast":"Contraste (%)","contrast_desc":"Modifica el contraste de tu imagen.","saturation":"Saturacin (%)","saturation_desc":"Ajusta la saturacin de tu imagen."},"hover":{"title":"Efectos al pasar el cursor","effect_type":"Tipo de efecto","effect_type_desc":"Elige el tipo de efecto al pasar el cursor.","scale":"Escala (zoom in/out)","rotate":"Rotar","fade":"Desvanecer (cambio de opacidad)","blur":"Desenfocar","brightness":"Brillo","glow":"Resplandor (sombra de caja)","slide":"Deslizar (trasladar)","scale_amount":"Escala (%)","scale_amount_desc":"Ajusta la escala de la imagen al pasar el cursor.","rotate_amount":"Rotacin ()","rotate_amount_desc":"Rota la imagen al pasar el cursor.","opacity":"Opacidad (%)","opacity_desc":"Cambia la opacidad de la imagen al pasar el cursor.","blur_amount":"Desenfoque (px)","blur_amount_desc":"Aplica un efecto de desenfoque a la imagen al pasar el cursor.","brightness_amount":"Brillo (%)","brightness_amount_desc":"Ajusta el brillo de la imagen al pasar el cursor.","glow_intensity":"Intensidad del resplandor","glow_intensity_desc":"Elige la intensidad del efecto de resplandor al pasar el cursor.","glow_light":"Resplandor ligero","glow_medium":"Resplandor medio","glow_heavy":"Resplandor intenso","glow_custom":"Sombra personalizada","translate_x":"Horizontal (px)","translate_x_desc":"Traslada la imagen horizontalmente al pasar el cursor.","translate_y":"Vertical (px)","translate_y_desc":"Traslada la imagen verticalmente al pasar el cursor."},"alt":"Imagen","no_source":"No hay fuente de imagen configurada"},"graphs":{"chart_type":{"title":"Tipo de grfico","type":"Tipo","desc":"Selecciona el estilo de visualizacin para tus datos."},"types":{"line":"Grfico de lneas","bar":"Grfico de barras","pie":"Grfico circular","donut":"Grfico de dona"},"data_sources":{"title":"Fuentes de datos","no_entities":"No hay entidades aadidas","add_first_entity":"Aade tu primera entidad para crear un grfico","add_entity":"Aadir entidad"},"entity":"Entidad","line":{"show_points":"Mostrar puntos","fill_area":"Rellenar rea","line_width":"Ancho de lnea","line_style":"Estilo de lnea"},"line_styles":{"solid":"Slido","dashed":"Discontinuo","dotted":"Punteado"},"display":{"title":"Opciones de visualizacin","show_title":"Mostrar ttulo del grfico","show_value":"Mostrar valor del grfico","chart_title":"Ttulo del grfico","chart_title_placeholder":"Introduce el ttulo del grfico","time_period":"Perodo de tiempo","time_period_desc":"Cuntos datos histricos mostrar.","normalize_values":"Normalizar valores a la misma escala","normalize_desc":"til al comparar entidades con diferentes unidades (ej., % vs millas)","chart_height":"Altura del grfico","chart_width":"Ancho del grfico (%)","chart_width_desc":"Porcentaje del ancho disponible del mdulo. La alineacin controla la ubicacin.","chart_alignment":"Alineacin del grfico","chart_alignment_desc":"Alineacin del grfico dentro de su contenedor.","info_position":"Posicin de informacin","info_position_desc":"Posicin de la superposicin que muestra el nombre/valor.","legend_position":"Posicin de leyenda","legend_position_desc":"Dnde colocar la leyenda cuando est habilitada.","background_color":"Color de fondo","chart_options":"Opciones del grfico","show_legend":"Mostrar leyenda","show_grid":"Mostrar cuadrcula","smooth_lines":"Lneas suaves","show_tooltips":"Mostrar informacin emergente","add_slice_gap":"Aadir espacio entre segmentos","show_grid_values":"Show Grid Values"},"period":{"1h":"ltima hora","3h":"ltimas 3 horas","6h":"ltimas 6 horas","12h":"ltimas 12 horas","24h":"ltimas 24 horas","2d":"ltimos 2 das","7d":"ltima semana","30d":"ltimo mes","90d":"ltimos 3 meses","365d":"ltimo ao"},"agg":{"mean":"Promedio","sum":"Suma","min":"Mnimo","max":"Mximo","median":"Mediana","first":"Primer valor","last":"ltimo valor","count":"Recuento","delta":"Cambio"},"position":{"top":"Arriba","bottom":"Abajo","left":"Izquierda","right":"Derecha","hidden":"Oculto","top_left":"Arriba izquierda","top_right":"Arriba derecha","bottom_left":"Abajo izquierda","bottom_right":"Abajo derecha","middle":"Centro","center":"Centro"},"pie":{"show_title":"Mostrar ttulo en segmento","show_value":"Mostrar valor en segmento"},"reset_345":"Restablecer a predeterminado (345px)","reset_100":"Restablecer a predeterminado (100%)","entity_desc":"Selecciona una entidad para graficar.","display_name_optional":"Nombre a mostrar (opcional)","use_as_card_info":"Usar como informacin de tarjeta","attribute":"Atributo","attribute_desc":"Usa el estado de la entidad o selecciona un atributo especfico a seguir.","attribute_state_default":"Estado (predeterminado)","show_points":"Mostrar puntos","fill_area":"Rellenar rea","line_style":"Estilo de lnea","line_solid":"Slido","line_dashed":"Discontinuo","line_dotted":"Punteado","pie_show_title":"Mostrar ttulo en segmento","pie_show_value":"Mostrar valor en segmento","expand_options":"Expandir opciones","no_entities":"No hay entidades aadidas","add_first_entity":"Aade tu primera entidad para crear un grfico","add_entity":"Aadir entidad","display_options":{"title":"Opciones de visualizacin"},"show_title":"Mostrar ttulo del grfico","show_value":"Mostrar valor del grfico","chart_title":"Ttulo del grfico","chart_title_placeholder":"Introduce el ttulo del grfico","time_period":"Perodo de tiempo","time_period_desc":"Cuntos datos histricos mostrar.","normalize_values":"Normalizar valores a la misma escala","normalize_desc":"til al comparar entidades con diferentes unidades (ej., % vs millas)","chart_height":"Altura del grfico","chart_width":"Ancho del grfico (%)","data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Configuracin bsica","desc":"Configura la apariencia del botn y el contenido del texto."},"text":{"title":"Texto del botn","desc":"Texto a mostrar en el botn (dejar en blanco para solo icono)."},"style":{"title":"Estilo del botn","desc":"Estilo visual del botn"},"alignment":{"title":"Alineacin","desc":"Cmo se alinea el botn dentro de su contenedor"},"styles":{"flat":"Plano (Predeterminado)","glossy":"Brillante","embossed":"Relieve","inset":"Hundido","gradient_overlay":"Superposicin de gradiente","neon_glow":"Resplandor nen","outline":"Contorno","glass":"Cristal","metallic":"Metlico"},"align":{"left":"Izquierda","center":"Centro","right":"Derecha","justify":"Justificar (Ancho completo)"},"icon":{"title":"Configuracin de icono","desc":"Configura la visualizacin y posicionamiento del icono para el botn.","before":"Antes del texto","after":"Despus del texto","enable_toggle_desc":"Activa el interruptor arriba para configurar los ajustes del icono"},"icon_field":"Icono","icon_desc":"Icono a mostrar (ej., mdi:home)","icon_position":"Posicin del icono","icon_position_desc":"Posicin del icono relativa al texto","show_icon":"Mostrar icono","show_icon_desc":"Mostrar un icono en el botn","colors":{"title":"Colores","background":"Color de fondo","text":"Color del texto"},"hover":{"effect_type":"Tipo de efecto","effect_type_desc":"Elige el efecto de hover para este botn.","none":"Ninguno","color":"Cambio de color","scale":"Escala","glow":"Resplandor","lift":"Elevar (trasladar Y)","hover_color":"Color al pasar el cursor","glow_color":"Color del resplandor","title":"Efectos de hover","enable_toggle_desc":"Activa el interruptor arriba para configurar efectos de hover"},"actions":{"type":"Tipo de accin","type_desc":"Elige qu sucede cuando se hace clic en el botn","entity":"Entidad","entity_desc":"Selecciona la entidad con la que interactuar","navigation_path":"Ruta de navegacin","navigation_path_desc":"Ruta a la que navegar (ej., /dashboard/energy)","service":"Servicio","service_desc":"Servicio a llamar (ej., light.turn_on)","service_data":"Datos del servicio (JSON)","service_data_desc":"Datos opcionales para pasar al servicio (formato JSON)"},"tap":{"title":"Accin de toque","desc":"Accin a realizar cuando se toca el botn"},"hold":{"title":"Accin de mantener presionado","desc":"Accin a realizar cuando se mantiene presionado el botn"},"double":{"title":"Accin de doble toque","desc":"Accin a realizar cuando se hace doble toque en el botn"}},"info":{"entity_section":{"title":"CONFIGURACIN DE ENTIDAD"},"entity":"Entidad","entity_desc":"Selecciona la entidad a mostrar","icon_section":{"title":"Configuracin de icono"},"show_icon":"Mostrar icono","show_icon_desc":"Mostrar un icono junto al valor de la entidad","icon":"Icono","icon_desc":"Elige un icono a mostrar","icon_color":"Color del icono","name_section":{"title":"Configuracin de nombre"},"show_name":"Mostrar nombre","show_name_desc":"Mostrar el nombre de la entidad arriba del valor","custom_name":"Nombre personalizado","custom_name_desc":"Anular el nombre de la entidad con un nombre personalizado","name_color":"Color del nombre","state_section":{"title":"Configuracin de estado"},"show_state":"Mostrar estado","show_state_desc":"Mostrar el estado/valor de la entidad","show_units":"Mostrar unidades","show_units_desc":"Mostrar la unidad de medida (si est disponible)","state_color":"Color del estado","template":{"title":"Modo de plantilla","desc":"Usa una plantilla para formatear el valor de la entidad. Las plantillas permiten usar la sintaxis de plantillas de Home Assistant para formato complejo.","mode":"Modo de plantilla","mode_desc":"Usa la sintaxis de plantillas de Home Assistant para formatear el valor","value":"Plantilla de valor","value_desc":"Plantilla para formatear el valor de la entidad usando sintaxis Jinja2"},"size_section":{"title":"Configuracin de tamaos"},"icon_size":"Tamao del icono","icon_size_desc":"Tamao del icono en pxeles","name_size":"Tamao del nombre","name_size_desc":"Tamao del texto del nombre de la entidad en pxeles","value_size":"Tamao del valor","value_size_desc":"Tamao del texto del valor de la entidad en pxeles","icon_gap":"Espacio del icono","icon_gap_desc":"Espacio entre el icono y el contenido en pxeles","layout_section":{"title":"Diseo y posicionamiento"},"icon_position":"Posicin del icono","overall_alignment":"Alineacin general","icon_alignment":"Alineacin del icono","content_alignment":"Alineacin del contenido","examples_title":"Ejemplos comunes:","example_basic":"Valor bsico","example_units":"Con unidades","example_round":"Redondear a 1 decimal"},"camera":{"config":{"title":"Configuracin de cmara","desc":"Configura la entidad de cmara y ajustes de visualizacin."},"entity":"Entidad de cmara","entity_desc":"Selecciona la entidad de cmara a mostrar. Debe ser una entidad de cmara o mjpeg de Home Assistant.","name":"Nombre de cmara","name_desc":"Nombre personalizado para la cmara. Dejar vaco para usar el nombre de la entidad.","show_name":"Mostrar nombre de cmara","show_name_desc":"Mostrar el nombre de la cmara en la transmisin","show_name_toggle":{"enable_toggle_desc":"Activa el interruptor arriba para configurar la visualizacin del nombre de cmara"},"name_position":{"group_title":"Posicin del nombre de cmara","title":"Posicin del nombre","desc":"Elige dnde aparece el nombre de la cmara como superposicin en la imagen de la cmara.","options":{"top_left":"Arriba izquierda","top_right":"Arriba derecha","center":"Centro","bottom_left":"Abajo izquierda","bottom_right":"Abajo derecha"}},"display":{"title":"Configuracin de visualizacin"},"live_view":{"title":"Vista en vivo","desc":"Habilitar para mostrar transmisin de cmara en vivo (requiere integracin de stream). Cuando est deshabilitado, muestra instantneas de imagen fija."},"auto_refresh":{"section_title":"Configuracin de actualizacin automtica","title":"Actualizacin automtica","desc":"Actualizar automticamente la imagen de la cmara a intervalos regulares"},"refresh_interval":{"title":"Intervalo de actualizacin (segundos)","desc":"Con qu frecuencia actualizar automticamente la imagen de la cmara."},"dimensions":{"title":"Dimensiones"},"width":"Ancho (px)","width_desc":"Establece el ancho de la visualizacin de la cmara. Rango: 100-1000px","height":"Alto (px)","height_desc":"Establece la altura de la visualizacin de la cmara. Rango: 100-1000px","link_aspect":"Vincular relacin de aspecto","unlink_aspect":"Desvincular relacin de aspecto","aspect_linked":{"title":"Relacin de aspecto vinculada","desc":"Las dimensiones mantienen una relacin {ratio}:1. Ajustar una dimensin actualiza automticamente la otra para mantener las proporciones."},"aspect_independent":{"title":"Dimensiones independientes","desc":"El ancho y alto se pueden ajustar independientemente. Haz clic en el botn de enlace arriba para mantener la relacin de aspecto."},"crop":{"title":"Recorte y posicin","desc":"Ajusta el recorte y posicin de la vista de cmara. til para enfocar en reas especficas o eliminar bordes no deseados.","left_title":"Recorte izquierdo (%)","left_desc":"Recortar desde el borde izquierdo. Valores ms altos muestran menos del lado izquierdo.","right_title":"Recorte derecho (%)","right_desc":"Recortar desde el borde derecho. Valores ms altos muestran menos del lado derecho.","top_title":"Recorte superior (%)","top_desc":"Recortar desde el borde superior. Valores ms altos muestran menos del rea superior.","bottom_title":"Recorte inferior (%)","bottom_desc":"Recortar desde el borde inferior. Valores ms altos muestran menos del rea inferior.","active_applied":"Recortes activos aplicados","reset_all":"Restablecer todos los recortes"},"template":{"title":"Modo de plantilla","desc":"Usa una plantilla para establecer dinmicamente la entidad de cmara. Las plantillas permiten usar la sintaxis de plantillas de Home Assistant para seleccin condicional de cmara.","mode_label":"Modo de plantilla","mode_desc":"Usa la sintaxis de plantillas de Home Assistant para seleccionar dinmicamente la entidad de cmara","camera_template_label":"Plantilla de cmara","camera_template_desc":"Plantilla para establecer dinmicamente la entidad de cmara usando sintaxis Jinja2","examples_title":"Ejemplos comunes:","example1_desc":"Mostrar cmara cuando el clima est soleado","example2_desc":"Cambiar entre cmaras basado en booleano de entrada","example3_desc":"Usar selector de entrada para elegir entidad de cmara"}},"separator":{"config":{"title":"Configuracin de separador"},"style":{"title":"Estilo de separador","desc":"Elige el estilo visual de la lnea separadora."},"options":{"solid":"Lnea slida","double":"Lnea doble","dotted":"Lnea punteada","double_dotted":"Doble punteada","shadow":"Sombra","blank":"Espacio en blanco"},"appearance":{"title":"Apariencia"},"thickness":"Grosor (px)","thickness_desc":"Grosor de la lnea separadora.","width":"Ancho (%)","width_desc":"Ancho del separador como porcentaje del contenedor.","color":{"title":"Color","desc":"Color de la lnea separadora."},"show_title":"Mostrar ttulo","show_title_desc":"Aadir texto en el medio de la lnea separadora (ej., ------ Texto ------)","show_title_toggle":{"enable_toggle_desc":"Activa el interruptor arriba para configurar los ajustes del ttulo"},"text_content":{"title":"Contenido del texto","desc":"Texto a mostrar en el medio del separador."},"font_size":"Tamao de fuente","font_size_desc":"Tamao del texto en pxeles.","text_color":{"title":"Color del texto","desc":"Color del texto del separador."},"text_format":{"desc":"Aplica estilos de formato al texto del separador.","title":"Formato del texto","bold":"Negrita","italic":"Cursiva","underline":"Subrayado","uppercase":"Maysculas","strikethrough":"Tachado"},"spacer":{"title":"Altura del espaciador"},"height":"Altura (px)","height_desc":"Controla el espacio visual para el espacio en blanco.","orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"design":{"copy":"Copiar","paste":"Pegar","reset_all":"Restablecer todo","copy_tooltip":"Copiar configuracin de diseo actual (funciona en todas las Ultra Cards)","paste_tooltip_has":"Pegar configuracin de diseo copiada (desde portapapeles)","paste_tooltip_none":"No hay configuracin de diseo en el portapapeles","reset_all_tooltip":"Restablecer toda la configuracin de diseo por defecto","text_section":"Texto","text_color":"Color del texto","alignment":"Alineacin","inherit_alignment":"Heredar (sin alineacin)","font_size":"Tamao de fuente","font_size_placeholder":"16px (por defecto), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Restablecer tamao de fuente por defecto","line_height":"Altura de lnea","line_height_placeholder":"0 (por defecto), 28px, 1.7","reset_line_height":"Restablecer altura de lnea por defecto","letter_spacing":"Espaciado de letras","letter_spacing_placeholder":"auto (por defecto), 1px, -0.04em","reset_letter_spacing":"Restablecer espaciado de letras por defecto","font":"Fuente","font_weight":"Grosor de fuente","text_transform":"Transformacin de texto","font_style":"Estilo de fuente","default_option":" Por defecto ","weight_thin":"100 - Fino","weight_light":"300 - Ligero","weight_normal":"400 - Normal","weight_medium":"500 - Medio","weight_semi_bold":"600 - Semi negrita","weight_bold":"700 - Negrita","weight_black":"900 - Negro","transform_none":"Ninguno","transform_uppercase":"MAYSCULAS","transform_lowercase":"minsculas","transform_capitalize":"Capitalizar","style_normal":"Normal","style_italic":"Cursiva","style_oblique":"Oblicua","background_section":"Fondo","background_color":"Color de fondo","background_image_type":"Tipo de imagen de fondo","bg_none":"Ninguno","bg_upload":"Subir imagen","bg_entity":"Imagen de entidad","bg_url":"URL de imagen","sizes_section":"Tamaos","spacing_section":"Espaciado","border_section":"Borde","text_shadow_section":"Sombra de texto","box_shadow_section":"Sombra de caja","position_section":"Posicin","overflow_section":"Desbordamiento","animations_section":"Animaciones","width":"Ancho","height":"Alto","max_width":"Ancho mximo","max_height":"Alto mximo","min_width":"Ancho mnimo","min_height":"Alto mnimo","border_radius":"Radio del borde","border_style":"Estilo del borde","border_width":"Grosor del borde","border_color":"Color del borde","margin":"Margen","padding":"Relleno","top":"Arriba","right":"Derecha","bottom":"Abajo","left":"Izquierda","unlock_sides":"Desbloquear para editar lados independientemente","lock_sides":"Bloquear para editar todos los lados juntos","horizontal_shift":"Desplazamiento horizontal","vertical_shift":"Desplazamiento vertical","blur":"Desenfoque","text_shadow_color":"Color de sombra del texto","box_shadow_color":"Color de sombra de caja","overflow":"Desbordamiento","clip_path":"Ruta de recorte","upload_bg_image":"Subir imagen de fondo","bg_image_entity":"Entidad de imagen de fondo","bg_image_url":"URL de imagen de fondo","choose_file":"Elegir archivo","no_file_chosen":"Ningn archivo elegido","backdrop_filter":"Filtro de fondo","spread":"Extensin","visible_default":"Visible (Predeterminado)","examples":"Ejemplos","state_based_animation":"Animacin basada en estado","animation_type":"Tipo de animacin","animation_duration":"Duracin de animacin","animation_duration_desc":"Duracin de la animacin (ej., 2s, 500ms, 1.5s)","intro_outro_animations":"Animaciones de entrada y salida","intro_animation":"Animacin de entrada","outro_animation":"Animacin de salida","duration":"Duracin","delay":"Retraso","timing":"Temporizacin","none":"Ninguno","ease":"Suave","border_style_none":"Ninguno","border_style_solid":"Slido","border_style_dashed":"Discontinuo","border_style_dotted":"Punteado","border_style_double":"Doble","position_default":" Predeterminado ","position_static":"Esttico","position_relative":"Relativo","position_absolute":"Absoluto","position_fixed":"Fijo","position_sticky":"Pegajoso"},"modules":{"text":"Mdulo de texto","image":"Mdulo de imagen","icon":"Mdulo de icono","bar":"Mdulo de barra","info":"Mdulo de informacin","button":"Mdulo de botn","separator":"Mdulo separador","markdown":"Mdulo de markdown","camera":"Mdulo de cmara","graphs":"Mdulo de grficos","no_text_configured":"Sin texto configurado","no_image_configured":"Sin imagen configurada","uploaded_image":"Imagen subida","icons_configured":"{count} iconos configurados","no_icons_configured":"Sin iconos configurados","default_entity_suggestion":"Entidad: sensor.battery_level","sample_text":"Texto de ejemplo","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var m=i.t(g,2);const h=JSON.parse('{"editor":{"tabs":{"layout":"Constructeur de mise en page","settings":"Paramtres","about":" propos","pro":"Pro"},"settings":{"title":"Paramtres de carte","description":"Configurez l\'apparence globale et le comportement de la carte."},"appearance":{"title":"Apparence","description":"Contrlez l\'apparence visuelle de votre carte"},"spacing":{"title":"Espacement","description":"Contrlez l\'espacement et le positionnement de votre carte"},"fields":{"card_background_color":"Couleur d\'arrire-plan de la carte","card_background_color_desc":"La couleur d\'arrire-plan de toute la carte","border_radius":"Rayon de bordure","border_radius_desc":"Coins arrondis de la carte (en pixels)","card_border_color":"Couleur de bordure","card_border_color_desc":"La couleur de bordure de la carte","card_border_width":"Largeur de bordure","card_border_width_desc":"L\'paisseur de la bordure de la carte (en pixels)","card_padding":"Rembourrage de la carte","card_padding_desc":"Espacement interne  l\'intrieur de la carte","card_margin":"Marge de la carte","card_margin_desc":"Espacement externe autour de la carte","unit_px":"px","reset_default":"Rinitialiser par dfaut","reset_default_value":"Rinitialiser par dfaut ({value})","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Plein cran","return_dashboard":"Retour au tableau de bord","dashboard":"Tableau de bord"},"common":{"left":"Gauche","center":"Centre","right":"Droite","top":"Haut","bottom":"Bas","none":"Aucun","state":"tat","attribute":"Attribut","attribute_name":"Nom de l\'attribut","entity":"Entit","space_between":"Espace entre","space_around":"Espace autour","justify":"Justifier","stretch":"tirer","baseline":"Ligne de base"},"horizontal":{"layout":{"title":"Configuration de la mise en page","desc":"Configurez la disposition horizontale des lments dans le conteneur."},"alignment":{"horizontal":"Alignement horizontal","horizontal_desc":"Choisissez comment les lments sont aligns horizontalement dans le conteneur.","vertical":"Alignement vertical","vertical_desc":"Choisissez comment les lments sont aligns verticalement dans le conteneur."},"wrapping":{"title":"Autoriser le retour  la ligne","desc":"Autorise les lments  passer  la ligne lorsqu\'ils dpassent la largeur du conteneur."},"gap":{"title":"Configuration des espacements","between_items":"Espace entre les lments","desc":"Dfinissez l\'espacement entre les lments horizontaux (en units rem). Utilisez des valeurs ngatives pour superposer les lments."},"empty":{"no_modules":"Aucun module ajout","add_modules":"Ajoutez des modules dans le constructeur de mise en page pour les voir ici"}},"vertical":{"layout":{"title":"Configuration de la mise en page","desc":"Configurez la disposition verticale des lments dans le conteneur."},"alignment":{"vertical":"Alignement vertical","vertical_desc":"Choisissez comment les lments sont aligns verticalement dans le conteneur."},"gap":{"title":"Configuration des espacements","between_items":"Espace entre les lments","desc":"Dfinissez l\'espacement entre les lments verticaux (en units rem). Utilisez des valeurs ngatives pour superposer les lments."},"empty":{"no_modules":"Aucun module ajout","add_modules":"Ajoutez des modules dans le constructeur de mise en page pour les voir ici"}},"layout":{"live_preview":"Aperu en direct","toggle_preview":"Afficher/masquer l\'aperu","drag_to_move_module":"Glisser pour dplacer le module","edit_module":"Modifier le module","duplicate_module":"Dupliquer le module","delete_module":"Supprimer le module","drag_to_move_layout":"Glisser pour dplacer la mise en page","horizontal_layout":"Disposition horizontale","vertical_layout":"Disposition verticale","add_module_to_layout":"Ajouter un module  la mise en page","layout_settings":"Paramtres de mise en page","duplicate_layout":"Dupliquer la mise en page","delete_layout":"Supprimer la mise en page","click_to_add_module":"Cliquer pour ajouter un module","drop_modules_here":"Dposer les modules ici","drag_to_reorder":"Glisser pour rorganiser","edit_child_module":"Modifier le module enfant","duplicate_child_module":"Dupliquer le module enfant","delete_child_module":"Supprimer le module enfant","module_settings_title":"Paramtres du module","child_module_settings_title":"Paramtres du module enfant","general_tab":"Gnral","actions_tab":"Actions","other_tab":"Autre","logic_tab":"Logique","design_tab":"Design","drag_to_resize":"Glisser pour redimensionner","hidden_by_logic":"Masqu par la logique","add_row":"Ajouter une ligne","add_row_tooltip":"Ajouter une nouvelle ligne  votre mise en page","undo":"Annuler","undo_tooltip":"Annuler la dernire modification (Ctrl+Z)","redo":"Refaire","redo_tooltip":"Refaire la dernire modification annule (Ctrl+Y)","row_settings":"Paramtres de ligne","column_settings":"Paramtres de colonne","row_background_color":"Couleur d\'arrire-plan de la ligne","column_gap":"Espacement des colonnes (px)","vertical_alignment":"Alignement vertical","horizontal_alignment":"Alignement horizontal","column_preview":"Aperu de la colonne","modules_count":"{count} modules","alignment_top":"Haut","alignment_center":"Centre","alignment_bottom":"Bas","alignment_stretch":"tirer","alignment_left":"Gauche","alignment_right":"Droite","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"layout_logic":{"display_title":"Afficher cet lment","display_desc":"Contrlez quand cet lment est affich. Choisissez \\"Toujours\\" pour le garder visible. Slectionnez \\"Si TOUTES les conditions ci-dessous sont remplies\\" ou \\"Si N\'IMPORTE QUELLE condition ci-dessous est remplie\\" pour l\'afficher uniquement lorsque les conditions ajoutes sont vraies.","always":"Toujours","every":"Si TOUTES les conditions ci-dessous sont remplies","any":"Si N\'IMPORTE QUELLE condition ci-dessous est remplie","conditions":"Conditions","add_condition":"Ajouter une condition","no_conditions":"Aucune condition ajoute pour le moment. Cliquez sur \\"Ajouter une condition\\" pour commencer.","condition_types":{"entity_state":"tat de l\'entit","entity_attribute":"Attribut de l\'entit","time":"Plage horaire","template":"Modle"},"condition_fields":{"entity":"Entit","operator":"Oprateur","value":"Valeur","attribute":"Attribut","time_from":"De","time_to":"","template":"Modle"},"condition_header":"Condition","custom_name":"Nom personnalis","custom_name_desc":"Optionnel: Donnez un nom personnalis  cette condition pour l\'identifier plus facilement","condition_type":"Type de condition"},"hover_effects":{"title":"Effets au survol","description":"Configurez les effets visuels qui apparaissent au survol de ce module, de cette ligne ou de cette colonne.","effect":"Effet au survol","effect_desc":"Slectionnez l\'effet visuel  appliquer au survol","effects":{"none":"Aucun","highlight":"Surligner","outline":"Contour","grow":"Agrandir","shrink":"Rduire","pulse":"Pulsation","bounce":"Rebondir","float":"Flotter","glow":"Lueur","shadow":"Ombre","rotate":"Pivoter","skew":"Incliner","wobble":"Osciller","buzz":"Vibrer","fade":"Fondu"}},"about":{"developed_by":"Dvelopp par","desc1":"Un puissant constructeur de cartes modulaires pour Home Assistant","desc2":"Crez des mises en page personnalises avec une interface professionnelle de cration de pages","desc3":"Systme de mise en page modulaire avec logique conditionnelle et outils de conception professionnels","github_repo":"Consultez notre GitHub","join_discord":"Rejoignez notre Discord","support_title":"Soutenez Ultra Card","support_desc":"Vos gnreux dons financent le dveloppement de fonctionnalits incroyables pour cette carte! Sans le soutien d\'utilisateurs comme vous, l\'innovation continue ne serait pas possible.","leave_tip":"FAIRE UN DON (PAYPAL)","version":"Version"},"actions":{"title":"Configuration des actions","description":"Configurez ce qui se passe lorsque les utilisateurs interagissent avec cet lment. Choisissez des actions diffrentes pour toucher, maintenir et double toucher.","tap_action":"Action au toucher","tap_action_desc":"Action effectue lors d\'un toucher/clic sur le module","hold_action":"Action au maintien","hold_action_desc":"Action effectue lors d\'un maintien sur le module","double_tap_action":"Action au double appui","double_tap_action_desc":"Action effectue lors d\'un double appui sur le module","tap_behavior":"Comportement au toucher","tap_behavior_desc":"Action  effectuer lorsque l\'lment est touch/click.","hold_behavior":"Comportement au maintien","hold_behavior_desc":"Action  effectuer lorsque l\'lment est press et maintenu.","double_tap_behavior":"Comportement au double appui","double_tap_behavior_desc":"Action  effectuer lorsque l\'lment est doublement touch/click.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"CONFIGURATION DE L\'ENTIT","desc":"Configurez l\'entit et les tats actif/inactif"},"entity":"Entit","entity_desc":"Slectionnez l\'entit que cet icne reprsente","inactive_state":"tat inactif","inactive_state_desc":"Valeur d\'tat considre comme \\"inactive\\" (laisser vide pour utiliser l\'tat rel de l\'entit)","active_state":"tat actif","active_state_desc":"Valeur d\'tat considre comme \\"active\\" (laisser vide pour utiliser l\'tat rel de l\'entit)","icon_section":{"title":"Configuration de l\'icne"},"inactive_icon":"Icne inactif","inactive_icon_desc":"Icne affich lorsque inactif","inactive_icon_config":"Configuration de l\'icne inactif","inactive_icon_config_desc":"Configurer les paramtres de l\'icne inactif","active_icon":"Icne actif","active_icon_desc":"Icne affich lorsque actif","icon_color_inactive":"Couleur lorsque inactif","icon_color_active":"Couleur lorsque actif","background_shape_inactive":"Forme d\'arrire-plan lorsque inactif","background_shape_active":"Forme d\'arrire-plan lorsque actif","background_color_inactive":"Couleur d\'arrire-plan lorsque inactif","background_color_active":"Couleur d\'arrire-plan lorsque actif","icon_size_inactive":"Taille de l\'icne lorsque inactif","icon_size_active":"Taille de l\'icne lorsque actif","inactive_icon_color":"Couleur de l\'icne inactif","active_icon_color":"Couleur de l\'icne actif","inactive_icon_background":"Arrire-plan de l\'icne inactif","active_icon_background":"Arrire-plan de l\'icne actif","inactive_icon_background_color":"Couleur d\'arrire-plan de l\'icne inactif","active_icon_background_color":"Couleur d\'arrire-plan de l\'icne actif","name_section":{"title":"Configuration du nom"},"inactive_name":"Nom inactif","inactive_name_desc":"Nom personnalis lorsque inactif","inactive_name_config":"Configuration du nom inactif","inactive_name_config_desc":"Configurer les paramtres de nom inactif","active_name":"Nom actif","active_name_desc":"Nom personnalis lorsque actif","custom_inactive_name":"Nom inactif personnalis","custom_inactive_name_desc":"Remplacer le nom de l\'entit lorsque inactif (laisser vide pour utiliser le nom de l\'entit)","custom_active_name":"Nom actif personnalis","custom_active_name_desc":"Remplacer le nom de l\'entit lorsque actif (laisser vide pour utiliser le nom de l\'entit)","name_color_inactive":"Couleur du nom lorsque inactif","name_color_active":"Couleur du nom lorsque actif","name_size_inactive":"Taille du texte du nom lorsque inactif","name_size_active":"Taille du texte du nom lorsque actif","inactive_name_color":"Couleur du nom inactif","active_name_color":"Couleur du nom actif","state_section":{"title":"Configuration de l\'tat"},"inactive_state_color":"Couleur de l\'tat inactif","active_state_color":"Couleur de l\'tat actif","inactive_state_text":"Texte de l\'tat inactif","active_state_text":"Texte de l\'tat actif","inactive_state_config":"Configuration de l\'tat inactif","inactive_state_config_desc":"Configurer les paramtres de l\'tat inactif","custom_inactive_state":"tat inactif personnalis","custom_inactive_state_desc":"Texte personnalis lorsque inactif (laisser vide pour utiliser l\'tat rel)","custom_active_state":"tat actif personnalis","custom_active_state_desc":"Texte personnalis lorsque actif (laisser vide pour utiliser l\'tat rel)","state_color_inactive":"Couleur de l\'tat lorsque inactif","state_color_active":"Couleur de l\'tat lorsque actif","state_size_inactive":"Taille du texte de l\'tat lorsque inactif","state_size_active":"Taille du texte de l\'tat lorsque actif","background_section":{"title":"Arrire-plan inactif","desc":"Configurer les paramtres d\'arrire-plan inactif"},"template_section":{"title":"Mode modle avanc","desc":"Utilisez des modles Jinja2 pour un contrle avanc des icnes. Les modles peuvent contrler la visibilit (vrai/faux pour afficher/masquer les icnes) et personnaliser le texte de l\'tat. Renvoyez un texte personnalis pour l\'tat actif, renvoyez l\'tat rel de l\'entit pour l\'tat inactif."},"template_mode":"Mode modle avanc","template":"Modle","animation_section":{"title":"Animation de l\'icne","desc":"Configurez des animations pour les tats actifs et inactifs"},"active_animation":"Animation active","active_animation_desc":"Animation lorsque l\'icne est active","inactive_animation":"Animation inactive","inactive_animation_desc":"Animation lorsque l\'icne est inactive","animation_none":"Aucun","animation_pulse":"Pulsation","animation_spin":"Rotation","animation_bounce":"Rebond","animation_flash":"Clignoter","animation_shake":"Secouer","animation_vibrate":"Vibrer","animation_rotate_left":"Rotation gauche","animation_rotate_right":"Rotation droite","animation_fade":"Fondu","animation_scale":"chelle","animation_tada":"Tada"},"text":{"content_section":{"title":"Configuration du contenu","desc":"Configurez le contenu texte et les paramtres de base de ce module."},"text_content":"Contenu du texte","text_content_desc":"Saisissez le contenu texte  afficher dans ce module.","icon_section":{"title":"Configuration de l\'icne","desc":"Choisissez une icne  afficher  ct du contenu texte."},"icon":"Icne","icon_desc":"Choisissez une icne  afficher  ct du texte. Laissez vide pour aucune icne.","icon_position":"Position de l\'icne","icon_position_desc":"Choisissez o positionner l\'icne par rapport au texte.","before_text":"Avant le texte","after_text":"Aprs le texte","template_mode":"Mode modle","template_mode_desc":"Utilisez la syntaxe de templating Home Assistant pour rendre le texte","value_template":"Modle de valeur","value_template_desc":"Modle pour rendre le texte en utilisant la syntaxe Jinja2","examples_title":"Exemples courants:","example_basic":"Valeur de base","example_percent":"Avec pourcentage","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"markdown":{"content":{"title":"Contenu Markdown","label":"Contenu","desc":"Saisissez votre contenu Markdown avec une prise en charge complte de la mise en forme"},"features":{"title":"Fonctionnalits Markdown"},"enable_html":"Activer HTML","enable_html_desc":"Autoriser les balises HTML dans le contenu Markdown","enable_tables":"Activer les tableaux","enable_tables_desc":"Prise en charge de la syntaxe des tableaux Markdown","code_highlighting":"Coloration syntaxique","code_highlighting_desc":"Coloration syntaxique pour les blocs de code"},"bar":{"bar_settings":{"title":"Paramtres de barre","desc":"Configurez comment le pourcentage de la barre est calcul et affich."},"perc_type":{"entity":"Entit (0-100)","attribute":"Attribut d\'entit","difference":"Diffrence","template":"Modle"},"attribute_section":{"title":"Configuration d\'attribut d\'entit","desc":"Configurer les paramtres d\'attribut d\'entit"},"attribute_entity":"Entit d\'attribut","attribute_entity_desc":"Slectionnez l\'entit qui contient l\'attribut avec la valeur de pourcentage","attribute_name":"Nom d\'attribut","attribute_name_desc":"Entrez le nom de l\'attribut qui contient la valeur de pourcentage (ex. \\"battery_level\\")","diff_section":{"title":"Configuration de calcul de diffrence","desc":"Configurer les paramtres de calcul de diffrence"},"current_entity":"Entit de valeur actuelle","current_entity_desc":"Entit reprsentant la quantit actuelle/utilise (ex. carburant utilis, batterie consomme)","total_entity":"Entit de valeur totale","total_entity_desc":"Entit reprsentant la quantit totale/maximale (ex. capacit de carburant, capacit de batterie)","template_section":{"title":"Configuration de modle","desc":"Configurer les paramtres de modle"},"percentage_template":"Modle de pourcentage","percentage_template_desc":"Entrez un modle Jinja2 qui retourne un nombre entre 0-100 pour le pourcentage. Exemple : {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Configuration d\'attribut d\'entit","desc":"Configurer les paramtres d\'attribut d\'entit","attribute_entity":"Entit d\'attribut","attribute_entity_desc":"Slectionnez l\'entit qui contient l\'attribut avec la valeur de pourcentage","attribute_name":"Nom d\'attribut","attribute_name_desc":"Entrez le nom de l\'attribut qui contient la valeur de pourcentage (ex. \\"battery_level\\")"},"diff_config":{"title":"Configuration de calcul de diffrence","desc":"Configurer les paramtres de calcul de diffrence","current_entity":"Entit de valeur actuelle","current_entity_desc":"Entit reprsentant la quantit actuelle/utilise (ex. carburant utilis, batterie consomme)","total_entity":"Entit de valeur totale","total_entity_desc":"Entit reprsentant la quantit totale/maximale (ex. capacit de carburant, capacit de batterie)"},"template_config":{"title":"Configuration de modle","desc":"Configurer les paramtres de modle","percentage_template":"Modle de pourcentage","percentage_template_desc":"Entrez un modle Jinja2 qui retourne un nombre entre 0-100 pour le pourcentage. Exemple : {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Entit de pourcentage de barre","desc_present":"L\'entit qui fournit la valeur de pourcentage pour la barre.","desc_empty":"Slectionnez une entit qui fournit une valeur de pourcentage (0-100). Les capteurs de batterie sont idaux pour les barres.","no_entity_warning":"Aucune entit slectionne - Veuillez choisir un capteur avec des valeurs entre 0-100"},"limit_entity":{"title":"Entit de valeur limite (optionnel)","desc":"Optionnel : Ajoutez une ligne d\'indicateur vertical sur la barre (ex. limite de charge pour batterie VE)."},"appearance":{"title":"Apparence de barre","direction":"Direction de remplissage","direction_desc":"Choisissez la direction dans laquelle la barre se remplit lorsque la valeur augmente.","left_to_right":"Gauche vers droite","right_to_left":"Droite vers gauche","height":"Hauteur de barre","height_desc":"Ajustez l\'paisseur de la barre de progression en pixels.","border_radius":"Rayon de bordure","border_radius_desc":"Contrlez les coins arrondis de la barre.","style":"Style de barre","style_desc":"Choisissez le style visuel de la barre de progression.","style_flat":"Plat (par dfaut)","style_glossy":"Brillant","style_embossed":"Emboss","style_inset":"Incrust","style_gradient":"Superposition de dgrad","style_neon":"Lueur non","style_outline":"Contour","style_glass":"Verre","style_metallic":"Mtallique","style_neumorphic":"Nomorphique","style_dashed":"Tirets","style_dots":"Points","width":"Largeur de barre","width_desc":"Dfinissez la largeur de la barre en pourcentage du conteneur.","alignment":"Alignement de barre","alignment_desc":"Choisissez comment aligner la barre quand elle fait moins de 100% de largeur."},"labels":{"alignment":"Alignement d\'tiquette","alignment_desc":"Contrlez comment les tiquettes gauche et droite sont positionnes."},"percentage":{"title":"Affichage du texte de pourcentage","desc":"Contrlez la visibilit et l\'apparence des valeurs de pourcentage affiches directement sur la barre. Ces chiffres fournissent un indicateur visuel clair du niveau actuel.","text_size":"Taille du texte","text_size_desc":"Ajustez la taille du texte de pourcentage affich sur la barre.","text_alignment":"Alignement du texte de pourcentage"},"text_display":{"title":"Affichage du texte","desc":"Contrlez la visibilit et l\'apparence des valeurs de texte affiches directement sur la barre. Pour les modes diffrence et modle, vous pouvez choisir d\'afficher les valeurs d\'entit brutes au lieu des pourcentages.","show_value":"Afficher la valeur au lieu du pourcentage","show_value_desc":"Lorsque activ, affiche la valeur relle de l\'entit au lieu du pourcentage. Utile pour afficher des valeurs de capteur brutes comme \\"45 kWh\\" au lieu de \\"75%\\".","text_size":"Taille du texte","text_size_desc":"Ajustez la taille du texte affich sur la barre.","text_alignment":"Alignement du texte"},"left":{"title":"Ct gauche","desc":"Configurez le titre et la valeur d\'entit affichs sur le ct gauche de la barre. Ceci est utile pour afficher des tiquettes comme \'Porte\' ou \'Batterie\' avec leurs valeurs.","title_size":"Taille du titre","value_size":"Taille de la valeur","template_mode":"Mode modle","template_desc":"Utilisez un modle pour formater la valeur affiche. Les modles utilisent la syntaxe Jinja2 de Home Assistant.","value_template":"Modle de valeur","value_template_desc":"Modle pour formater la valeur du ct gauche en utilisant la syntaxe Jinja2","enable_toggle":"Activez le commutateur ci-dessus pour configurer les paramtres du ct gauche"},"right":{"title":"Ct droit","desc":"Configurez le titre et la valeur d\'entit affichs sur le ct droit de la barre. Ceci est idal pour des informations complmentaires comme \'Temps jusqu\'au plein\' ou des mesures secondaires.","title_size":"Taille du titre","value_size":"Taille de la valeur","template_mode":"Mode modle","template_desc":"Utilisez un modle pour formater la valeur affiche. Les modles utilisent la syntaxe Jinja2 de Home Assistant.","value_template":"Modle de valeur","value_template_desc":"Modle pour formater la valeur du ct droit en utilisant la syntaxe Jinja2","enable_toggle":"Activez le commutateur ci-dessus pour configurer les paramtres du ct droit"},"colors":{"title":"Couleurs","bar_color":"Couleur de la barre","background_color":"Couleur d\'arrire-plan","border_color":"Couleur de bordure","limit_indicator":"Indicateur de limite","percentage_text":"Texte du pourcentage","text_color":"Couleur du texte","text_color_desc":"Choisissez la couleur pour le texte affich sur la barre.","left_side":"Couleurs du ct gauche","right_side":"Couleurs du ct droit","title_color":"Couleur du titre","value_color":"Couleur de la valeur"},"gradient":{"title":"Mode dgrad","desc":"Appliquez un dgrad de couleur au remplissage de la barre. Quand activ, choisissez comment le dgrad est affich et personnalisez les arrts de couleur ci-dessous.","full":"Complet","cropped":"Recadr","value_based":"Bas sur la valeur"},"animation":{"title":"Animation de barre","desc":"Animez le remplissage de la barre en utilisant des prrglages comme les rayures de charge, le pouls, la lueur et plus. Vous pouvez dclencher des animations bases sur l\'tat ou l\'attribut d\'une entit, et ventuellement remplacer l\'animation quand une autre condition est remplie.","trigger":{"title":"Dclencheur d\'animation","desc":"Slectionnez une entit  surveiller et dfinissez la valeur + animation  appliquer quand elle correspond.","entity_desc":"Entit  valuer pour le dclencheur d\'animation","type":"Type de dclencheur","type_desc":"Choisissez s\'il faut comparer l\'tat de l\'entit ou un attribut","attribute_name_desc":"Nom d\'attribut  comparer (ex. charging_status)","match_value":"Valeur de correspondance","match_value_desc":"Texte  comparer avec l\'tat ou l\'attribut (la comparaison est base sur le texte)."},"type":"Type d\'animation","type_desc":"Slectionnez comment la barre doit s\'animer quand dclenche.","types":{"charging":"Charge (lignes diagonales)","pulse":"Pouls","blinking":"Clignotant","bouncing":"Rebondissant","glow":"Lueur","rainbow":"Arc-en-ciel","bubbles":"Bulles","fill":"Remplir","ripple":"Ondulation","traffic":"Trafic (poteau de barbier)","heartbeat":"Battement de cur","flicker":"Scintillement","shimmer":"Miroitement","vibrate":"Vibrer"},"override":{"title":"Remplacement d\'animation d\'action","desc":"Slectionnez une entit d\'action et un tat pour dfinir quand cette animation doit remplacer l\'animation normale","entity_desc":"Entit  valuer pour le dclencheur de remplacement","type_desc":"Animation  utiliser quand la condition de remplacement correspond.","attribute_name_desc":"Nom d\'attribut  comparer","match_value":"Valeur de correspondance de remplacement","match_value_desc":"Comparaison de texte contre l\'tat ou l\'attribut","type":"Type d\'animation de remplacement"}}},"image":{"settings":"Paramtres d\'image","source_type":"Type de source d\'image","source_type_desc":"Choisissez comment vous souhaitez spcifier la source de l\'image.","source":{"default":"Image par dfaut","url":"URL de l\'image","upload":"Tlverser une image","entity":"Image d\'entit","attribute":"Attribut d\'entit"},"url_section":{"title":"Configuration de l\'URL de l\'image"},"image_url":"URL de l\'image","image_url_desc":"Entrez l\'URL directe de l\'image que vous souhaitez afficher.","upload_section":{"title":"Configuration du tlversement d\'image"},"upload":"Tlverser une image","upload_desc":"Cliquez pour tlverser une image depuis votre appareil.","entity_section":{"title":"Configuration de l\'image d\'entit"},"entity":"Entit","entity_desc":"Slectionnez une entit qui possde une image (par ex., personne, camra).","attribute_section":{"title":"Configuration de l\'attribut d\'entit"},"entity_attr_desc":"Slectionnez l\'entit qui contient l\'URL de l\'image dans l\'un de ses attributs.","attribute_name":"Nom de l\'attribut","attribute_name_desc":"Saisissez le chemin de l\'attribut qui contient l\'URL de l\'image (notation par points prise en charge, p. ex., vehicle_data.vehicleDetails.generalDashboard).","width":"Largeur (%)","width_desc":"Dfinissez la largeur en pourcentage du conteneur.","height":"Hauteur (px)","height_desc":"Dfinissez la hauteur en pixels.","crop_fit":"Recadrer et ajuster","crop_fit_desc":"Contrlez la faon dont l\'image s\'adapte  son conteneur.","fit":{"cover":"Couvrir (recadrer pour remplir)","contain":"Contenir (ajuster l\'image entire)","fill":"Remplir (tirer pour ajuster)","scale_down":"Rduire","none":"Aucun (taille originale)"},"border_radius":"Rayon de bordure","border_radius_desc":"Contrlez les coins arrondis de l\'image.","tap_actions":"Actions au toucher","filters":"Filtres","filter":{"blur":"Flou","blur_desc":"Appliquez un effet de flou  votre image.","brightness":"Luminosit (%)","brightness_desc":"Ajustez la luminosit de votre image.","contrast":"Contraste (%)","contrast_desc":"Modifiez le contraste de votre image.","saturation":"Saturation (%)","saturation_desc":"Ajustez la saturation de votre image."},"hover":{"title":"Effets au survol","effect_type":"Type d\'effet","effect_type_desc":"Choisissez le type d\'effet au survol.","scale":"chelle (zoom avant/arrire)","rotate":"Rotation","fade":"Fondu (changement d\'opacit)","blur":"Flou","brightness":"Luminosit","glow":"Lueur (ombre porte)","slide":"Glisser (translation)","scale_amount":"chelle (%)","scale_amount_desc":"Ajustez l\'chelle de l\'image au survol.","rotate_amount":"Rotation ()","rotate_amount_desc":"Faites pivoter l\'image au survol.","opacity":"Opacit (%)","opacity_desc":"Modifiez l\'opacit de l\'image au survol.","blur_amount":"Flou (px)","blur_amount_desc":"Appliquez un effet de flou  l\'image au survol.","brightness_amount":"Luminosit (%)","brightness_amount_desc":"Ajustez la luminosit de l\'image au survol.","glow_intensity":"Intensit de la lueur","glow_intensity_desc":"Choisissez l\'intensit de l\'effet de lueur au survol.","glow_light":"Lueur lgre","glow_medium":"Lueur moyenne","glow_heavy":"Lueur forte","glow_custom":"Ombre personnalise","translate_x":"Horizontal (px)","translate_x_desc":"Translatez l\'image horizontalement au survol.","translate_y":"Vertical (px)","translate_y_desc":"Translatez l\'image verticalement au survol."},"alt":"Image","no_source":"Aucune source d\'image configure"},"graphs":{"chart_type":{"title":"Type de graphique","type":"Type","desc":"Slectionnez le style de visualisation pour vos donnes."},"types":{"line":"Graphique linaire","bar":"Diagramme  barres","pie":"Diagramme circulaire","donut":"Diagramme en anneau"},"data_sources":{"title":"Sources de donnes","no_entities":"Aucune entit ajoute","add_first_entity":"Ajoutez votre premire entit pour crer un graphique","add_entity":"Ajouter une entit"},"entity":"Entit","line":{"show_points":"Afficher les points","fill_area":"Remplir la zone","line_width":"paisseur de ligne","line_style":"Style de ligne"},"line_styles":{"solid":"Plein","dashed":"Tirets","dotted":"Pointill"},"display":{"title":"Options d\'affichage","show_title":"Afficher le titre du graphique","show_value":"Afficher la valeur du graphique","chart_title":"Titre du graphique","chart_title_placeholder":"Saisir le titre du graphique","time_period":"Priode","time_period_desc":"Quantit de donnes historiques  afficher.","normalize_values":"Normaliser les valeurs sur la mme chelle","normalize_desc":"Utile pour comparer des entits avec des units diffrentes (p. ex., % vs miles)","chart_height":"Hauteur du graphique","chart_width":"Largeur du graphique (%)","chart_width_desc":"Pourcentage de la largeur disponible du module. L\'alignement contrle le placement.","chart_alignment":"Alignement du graphique","chart_alignment_desc":"Alignement du graphique dans son conteneur.","info_position":"Position des infos","info_position_desc":"Position de la superposition affichant le nom/la valeur.","legend_position":"Position de la lgende","legend_position_desc":"O placer la lgende lorsqu\'elle est active.","background_color":"Couleur d\'arrire-plan","chart_options":"Options du graphique","show_legend":"Afficher la lgende","show_grid":"Afficher la grille","smooth_lines":"Lignes lisses","show_tooltips":"Afficher les infobulles","add_slice_gap":"Ajouter un espace entre les parts","show_grid_values":"Show Grid Values"},"agg":{"mean":"Moyenne","sum":"Somme","min":"Minimum","max":"Maximum","median":"Mdiane","first":"Premire valeur","last":"Dernire valeur","count":"Nombre","delta":"Variation"},"position":{"top":"Haut","bottom":"Bas","left":"Gauche","right":"Droite","hidden":"Masqu","top_left":"En haut  gauche","top_right":"En haut  droite","bottom_left":"En bas  gauche","bottom_right":"En bas  droite","middle":"Centre","center":"Centre"},"pie":{"show_title":"Afficher le titre dans la part","show_value":"Afficher la valeur dans la part"},"period":{"1h":"Dernire heure","3h":"3dernires heures","6h":"6dernires heures","12h":"12dernires heures","24h":"24dernires heures","2d":"2derniers jours","7d":"Semaine dernire","30d":"Mois dernier","90d":"3derniers mois","365d":"Anne dernire"},"reset_345":"Rinitialiser par dfaut (345px)","reset_100":"Rinitialiser par dfaut (100%)","entity_desc":"Slectionnez une entit  tracer.","display_name_optional":"Nom d\'affichage (facultatif)","use_as_card_info":"Utiliser comme info de carte","attribute":"Attribut","attribute_desc":"Utilisez l\'tat de l\'entit ou slectionnez un attribut spcifique  suivre.","attribute_state_default":"tat (par dfaut)","show_points":"Afficher les points","fill_area":"Remplir la zone","line_style":"Style de ligne","line_solid":"Plein","line_dashed":"Tirets","line_dotted":"Pointill","pie_show_title":"Afficher le titre dans la part","pie_show_value":"Afficher la valeur dans la part","expand_options":"Dvelopper les options","no_entities":"Aucune entit ajoute","add_first_entity":"Ajoutez votre premire entit pour crer un graphique","add_entity":"Ajouter une entit","display_options":{"title":"Options d\'affichage"},"show_title":"Afficher le titre du graphique","show_value":"Afficher la valeur du graphique","chart_title":"Titre du graphique","chart_title_placeholder":"Saisir le titre du graphique","time_period":"Priode","time_period_desc":"Quantit de donnes historiques  afficher.","normalize_values":"Normaliser les valeurs sur la mme chelle","normalize_desc":"Utile pour comparer des entits avec des units diffrentes (p. ex., % vs miles)","chart_height":"Hauteur du graphique","chart_width":"Largeur du graphique (%)","data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"info":{"entity_section":{"title":"CONFIGURATION DE L\'ENTIT"},"entity":"Entit","entity_desc":"Slectionnez l\'entit  afficher","icon_section":{"title":"Paramtres de l\'icne"},"show_icon":"Afficher l\'icne","show_icon_desc":"Afficher une icne  ct de la valeur de l\'entit","icon":"Icne","icon_desc":"Choisissez une icne  afficher","icon_color":"Couleur de l\'icne","name_section":{"title":"Paramtres du nom"},"show_name":"Afficher le nom","show_name_desc":"Afficher le nom de l\'entit au-dessus de la valeur","custom_name":"Nom personnalis","custom_name_desc":"Remplacer le nom de l\'entit par un nom personnalis","name_color":"Couleur du nom","state_section":{"title":"Paramtres d\'tat"},"show_state":"Afficher l\'tat","show_state_desc":"Afficher l\'tat/la valeur de l\'entit","show_units":"Afficher les units","show_units_desc":"Afficher l\'unit de mesure (si disponible)","state_color":"Couleur de l\'tat","template":{"title":"Mode modle","desc":"Utilisez un modle pour formater la valeur de l\'entit. Les modles vous permettent d\'utiliser la syntaxe de templating de Home Assistant pour un formatage complexe.","mode":"Mode modle","mode_desc":"Utilisez la syntaxe de templating de Home Assistant pour formater la valeur","value":"Modle de valeur","value_desc":"Modle pour formater la valeur de l\'entit en utilisant la syntaxe Jinja2"},"size_section":{"title":"Paramtres de taille"},"icon_size":"Taille de l\'icne","icon_size_desc":"Taille de l\'icne en pixels","name_size":"Taille du nom","name_size_desc":"Taille du texte du nom de l\'entit en pixels","value_size":"Taille de la valeur","value_size_desc":"Taille du texte de la valeur de l\'entit en pixels","icon_gap":"Espacement de l\'icne","icon_gap_desc":"Espace entre l\'icne et le contenu en pixels","layout_section":{"title":"Disposition et positionnement"},"icon_position":"Position de l\'icne","overall_alignment":"Alignement global","icon_alignment":"Alignement de l\'icne","content_alignment":"Alignement du contenu","examples_title":"Exemples courants:","example_basic":"Valeur de base","example_units":"Avec units","example_round":"Arrondir  1 dcimale"},"button":{"basic":{"title":"Paramtres de base","desc":"Configurez l\'apparence du bouton et le contenu du texte."},"text":{"title":"Texte du bouton","desc":"Texte  afficher sur le bouton (laisser vide pour icne seule)."},"style":{"title":"Style du bouton","desc":"Style visuel du bouton"},"alignment":{"title":"Alignement","desc":"Comment le bouton est align dans son conteneur"},"styles":{"flat":"Plat (par dfaut)","glossy":"Lustr","embossed":"Emboss","inset":"Enfonc","gradient_overlay":"Superposition en dgrad","neon_glow":"Lueur non","outline":"Contour","glass":"Verre","metallic":"Mtallique"},"align":{"left":"Gauche","center":"Centre","right":"Droite","justify":"Justifier (pleine largeur)"},"icon":{"title":"Paramtres de l\'icne","desc":"Configurez l\'affichage et le positionnement de l\'icne pour le bouton.","before":"Avant le texte","after":"Aprs le texte","enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer les paramtres de l\'icne"},"icon_field":"Icne","show_icon":"Afficher l\'icne","show_icon_desc":"Afficher une icne sur le bouton","icon_desc":"Icne  afficher (p. ex., mdi:home)","icon_position":"Position de l\'icne","icon_position_desc":"Position de l\'icne par rapport au texte","colors":{"title":"Couleurs","background":"Couleur d\'arrire-plan","text":"Couleur du texte"},"hover":{"title":"Effets au survol","effect_type":"Type d\'effet","effect_type_desc":"Choisissez l\'effet au survol pour ce bouton.","none":"Aucun","color":"Changement de couleur","scale":"chelle","glow":"Lueur","lift":"lvation (translation Y)","hover_color":"Couleur au survol","glow_color":"Couleur de la lueur","enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer les effets au survol"},"actions":{"type":"Type d\'action","type_desc":"Choisissez ce qui se passe lorsque le bouton est cliqu","entity":"Entit","entity_desc":"Slectionnez l\'entit avec laquelle interagir","navigation_path":"Chemin de navigation","navigation_path_desc":"Chemin vers lequel naviguer (p. ex., /dashboard/energy)","service":"Service","service_desc":"Service  appeler (p. ex., light.turn_on)","service_data":"Donnes de service (JSON)","service_data_desc":"Donnes facultatives  transmettre au service (format JSON)"},"tap":{"title":"Action au toucher","desc":"Action  effectuer lorsque le bouton est touch"},"hold":{"title":"Action au maintien","desc":"Action  effectuer lorsque le bouton est maintenu enfonc"},"double":{"title":"Action au double appui","desc":"Action  effectuer lorsque le bouton est doublement touch"}},"layout_extra":{"module_name":"Nom du module :","module_name_placeholder":"Donnez un nom personnalis  ce module pour l\'identifier plus facilement dans l\'diteur.","module_name_help":"Donnez un nom personnalis  ce module pour l\'identifier plus facilement dans l\'diteur."},"camera":{"config":{"title":"Configuration de la camra","desc":"Configurez l\'entit camra et les paramtres d\'affichage."},"entity":"Entit camra","entity_desc":"Slectionnez l\'entit camra  afficher. Il doit s\'agir d\'une entit camera ou mjpeg de Home Assistant.","name":"Nom de la camra","name_desc":"Nom personnalis pour la camra. Laisser vide pour utiliser le nom de l\'entit.","show_name":"Afficher le nom de la camra","show_name_desc":"Afficher le nom de la camra sur le flux","show_name_toggle":{"enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer l\'affichage du nom de la camra"},"name_position":{"group_title":"Position du nom de la camra","title":"Position du nom","desc":"Choisissez o le nom de la camra apparat en superposition sur l\'image de la camra.","options":{"top_left":"En haut  gauche","top_right":"En haut  droite","center":"Centre","bottom_left":"En bas  gauche","bottom_right":"En bas  droite"}},"display":{"title":"Paramtres d\'affichage"},"live_view":{"title":"Vue en direct","desc":"Activez pour afficher le flux vido en direct (ncessite l\'intgration stream). Dsactiv, affiche des images fixes."},"auto_refresh":{"section_title":"Paramtres d\'actualisation automatique","title":"Actualisation automatique","desc":"Actualiser automatiquement l\'image de la camra  intervalles rguliers"},"refresh_interval":{"title":"Intervalle d\'actualisation (secondes)","desc":"Frquence d\'actualisation automatique de l\'image de la camra."},"dimensions":{"title":"Dimensions"},"width":"Largeur (px)","width_desc":"Dfinissez la largeur de l\'affichage de la camra. Plage: 100-1000px","height":"Hauteur (px)","height_desc":"Dfinissez la hauteur de l\'affichage de la camra. Plage: 100-1000px","link_aspect":"Lier le format d\'image","unlink_aspect":"Dissocier le format d\'image","aspect_linked":{"title":"Format d\'image li","desc":"Les dimensions conservent un ratio de {ratio}:1. L\'ajustement d\'une dimension met automatiquement  jour l\'autre pour conserver les proportions."},"aspect_independent":{"title":"Dimensions indpendantes","desc":"La largeur et la hauteur peuvent tre ajustes indpendamment. Cliquez sur le bouton de liaison ci-dessus pour conserver le format d\'image."},"crop":{"title":"Recadrage et position","desc":"Ajustez le recadrage et la position de la vue camra. Utile pour se concentrer sur des zones spcifiques ou supprimer des bords indsirables.","left_title":"Recadrage gauche (%)","left_desc":"Recadrer depuis le bord gauche. Des valeurs plus leves montrent moins de la partie gauche.","right_title":"Recadrage droit (%)","right_desc":"Recadrer depuis le bord droit. Des valeurs plus leves montrent moins de la partie droite.","top_title":"Recadrage suprieur (%)","top_desc":"Recadrer depuis le bord suprieur. Des valeurs plus leves montrent moins de la zone suprieure.","bottom_title":"Recadrage infrieur (%)","bottom_desc":"Recadrer depuis le bord infrieur. Des valeurs plus leves montrent moins de la zone infrieure.","active_applied":"Recadrages actifs appliqus","reset_all":"Rinitialiser tous les recadrages"},"template":{"title":"Mode modle","desc":"Utilisez un modle pour dfinir dynamiquement l\'entit camra. Les modles permettent d\'utiliser la syntaxe de templating de Home Assistant pour une slection conditionnelle de la camra.","mode_label":"Mode modle","mode_desc":"Utilisez la syntaxe de templating de Home Assistant pour slectionner dynamiquement l\'entit camra","camera_template_label":"Modle de camra","camera_template_desc":"Modle pour dfinir dynamiquement l\'entit camra en utilisant la syntaxe Jinja2","examples_title":"Exemples courants:","example1_desc":"Afficher la camra lorsque la mto est ensoleille","example2_desc":"Basculer entre les camras en fonction d\'un boolen d\'entre","example3_desc":"Utiliser un input select pour choisir l\'entit camra"}},"separator":{"config":{"title":"Configuration du sparateur"},"style":{"title":"Style du sparateur","desc":"Choisissez le style visuel de la ligne de sparation."},"options":{"solid":"Ligne continue","double":"Double ligne","dotted":"Ligne pointille","double_dotted":"Double pointill","shadow":"Ombre","blank":"Espace vide"},"appearance":{"title":"Apparence"},"thickness":"paisseur (px)","thickness_desc":"paisseur de la ligne de sparation.","width":"Largeur (%)","width_desc":"Largeur du sparateur en pourcentage du conteneur.","color":{"title":"Couleur","desc":"Couleur de la ligne de sparation."},"show_title":"Afficher le titre","show_title_desc":"Ajouter du texte au milieu de la ligne de sparation (p. ex., ------ Texte ------)","show_title_toggle":{"enable_toggle_desc":"Activez l\'interrupteur ci-dessus pour configurer les paramtres du titre"},"text_content":{"title":"Contenu du texte","desc":"Texte  afficher au milieu du sparateur."},"font_size":"Taille de police","font_size_desc":"Taille du texte en pixels.","text_color":{"title":"Couleur du texte","desc":"Couleur du texte du sparateur."},"text_format":{"title":"Formatage du texte","desc":"Appliquez des styles de formatage au texte du sparateur.","bold":"Gras","italic":"Italique","underline":"Soulign","uppercase":"Majuscules","strikethrough":"Barr"},"spacer":{"title":"Hauteur de l\'espacement"},"height":"Hauteur (px)","height_desc":"Contrle l\'espace visuel pour l\'Espace vide.","orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"design":{"copy":"Copier","paste":"Coller","reset_all":"Tout rinitialiser","copy_tooltip":"Copier les paramtres de conception actuels (fonctionne sur toutes les Ultra Cards)","paste_tooltip_has":"Coller les paramtres de conception copis (depuis le presse-papiers inter-cartes)","paste_tooltip_none":"Aucun paramtre de conception dans le presse-papiers inter-cartes","reset_all_tooltip":"Rinitialiser tous les paramtres de conception par dfaut","text_section":"Texte","text_color":"Couleur du texte","alignment":"Alignement","inherit_alignment":"Hriter (pas d\'alignement)","font_size":"Taille de police","font_size_placeholder":"16px (par dfaut), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Rinitialiser la taille de police par dfaut","line_height":"Interligne","line_height_placeholder":"0 (par dfaut), 28px, 1.7","reset_line_height":"Rinitialiser l\'interligne par dfaut","letter_spacing":"Espacement des lettres","letter_spacing_placeholder":"auto (par dfaut), 1px, -0.04em","reset_letter_spacing":"Rinitialiser l\'espacement des lettres par dfaut","font":"Police","font_weight":"Graisse de police","text_transform":"Transformation du texte","font_style":"Style de police","default_option":" Par dfaut ","weight_thin":"100 - Trs fin","weight_light":"300 - Lger","weight_normal":"400 - Normal","weight_medium":"500 - Moyen","weight_semi_bold":"600 - Semi-gras","weight_bold":"700 - Gras","weight_black":"900 - Noir","transform_none":"Aucun","transform_uppercase":"MAJUSCULES","transform_lowercase":"minuscules","transform_capitalize":"Capitaliser","style_normal":"Normal","style_italic":"Italique","style_oblique":"Oblique","background_section":"Arrire-plan","background_color":"Couleur d\'arrire-plan","background_image_type":"Type d\'image d\'arrire-plan","bg_none":"Aucun","bg_upload":"Tlverser une image","bg_entity":"Image d\'entit","bg_url":"URL de l\'image","sizes_section":"Tailles","spacing_section":"Espacement","border_section":"Bordure","text_shadow_section":"Ombre du texte","box_shadow_section":"Ombre porte","position_section":"Position","overflow_section":"Dbordement","animations_section":"Animations","width":"Largeur","height":"Hauteur","max_width":"Largeur max","max_height":"Hauteur max","min_width":"Largeur min","min_height":"Hauteur min","border_radius":"Rayon de bordure","border_style":"Style de bordure","border_width":"Largeur de bordure","border_color":"Couleur de bordure","margin":"Marge","padding":"Rembourrage","top":"Haut","right":"Droite","bottom":"Bas","left":"Gauche","unlock_sides":"Dverrouiller pour modifier les cts indpendamment","lock_sides":"Verrouiller pour modifier tous les cts ensemble","horizontal_shift":"Dcalage horizontal","vertical_shift":"Dcalage vertical","blur":"Flou","text_shadow_color":"Couleur de l\'ombre du texte","box_shadow_color":"Couleur de l\'ombre porte","overflow":"Dbordement","clip_path":"Clip-path","upload_bg_image":"Tlverser l\'image d\'arrire-plan","bg_image_entity":"Entit d\'image d\'arrire-plan","bg_image_url":"URL de l\'image d\'arrire-plan","choose_file":"Choisir un fichier","no_file_chosen":"Aucun fichier choisi","backdrop_filter":"Filtre d\'arrire-plan","spread":"Propagation","visible_default":"Visible (par dfaut)","examples":"Exemples","state_based_animation":"Animation base sur l\'tat","animation_type":"Type d\'animation","animation_duration":"Dure de l\'animation","animation_duration_desc":"Dure de l\'animation (p. ex., 2s, 500ms, 1.5s)","intro_outro_animations":"Animations d\'introduction et de sortie","intro_animation":"Animation d\'introduction","outro_animation":"Animation de sortie","duration":"Dure","delay":"Dlai","timing":"Synchronisation","none":"Aucun","ease":"Ease","border_style_none":"Aucun","border_style_solid":"Plein","border_style_dashed":"Tirets","border_style_dotted":"Pointill","border_style_double":"Double","position_default":" Par dfaut ","position_static":"Statique","position_relative":"Relative","position_absolute":"Absolue","position_fixed":"Fixe","position_sticky":"Adhsive"},"modules":{"text":"Module de texte","image":"Module d\'image","icon":"Module d\'icne","bar":"Module de barre","info":"Module d\'info","button":"Module de bouton","separator":"Module de sparateur","markdown":"Module Markdown","camera":"Module de camra","graphs":"Module de graphiques","no_text_configured":"Aucun texte configur","no_image_configured":"Aucune image configure","uploaded_image":"Image tlverse","icons_configured":"{count} icnes configures","no_icons_configured":"Aucune icne configure","default_entity_suggestion":"Entit: sensor.battery_level","sample_text":"Texte d\'exemple","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var _=i.t(h,2);const v=JSON.parse('{"editor":{"tabs":{"layout":"Costruttore di layout","settings":"Impostazioni","about":"Informazioni","pro":"Pro"},"settings":{"title":"Impostazioni carta","description":"Configura l\'aspetto globale e il comportamento della carta."},"appearance":{"title":"Aspetto","description":"Controlla l\'aspetto visivo della tua scheda"},"spacing":{"title":"Spaziatura","description":"Controlla la spaziatura e il posizionamento della tua scheda"},"fields":{"card_background_color":"Colore di sfondo della scheda","card_background_color_desc":"Il colore di sfondo dell\'intera scheda","border_radius":"Raggio del bordo","border_radius_desc":"Angoli arrotondati della scheda (in pixel)","card_padding":"Imbottitura della scheda","card_padding_desc":"Spaziatura interna all\'interno della scheda","card_margin":"Margine della scheda","card_margin_desc":"Spaziatura esterna intorno alla scheda","unit_px":"px","reset_default":"Ripristina predefinito","reset_default_value":"Ripristina predefinito ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Schermo intero","return_dashboard":"Torna alla dashboard","dashboard":"Dashboard"},"common":{"left":"Sinistra","center":"Centro","right":"Destra","top":"Alto","bottom":"Basso","none":"Nessuno","state":"Stato","attribute":"Attributo","attribute_name":"Nome attributo","entity":"Entit","space_between":"Spazio tra","space_around":"Spazio intorno","justify":"Giustifica","stretch":"Allunga","baseline":"Linea di base"},"horizontal":{"layout":{"title":"Configurazione layout","desc":"Configura come gli elementi sono disposti orizzontalmente all\'interno del contenitore."},"alignment":{"horizontal":"Allineamento orizzontale","horizontal_desc":"Scegli come allineare gli elementi orizzontalmente nel contenitore.","vertical":"Allineamento verticale","vertical_desc":"Scegli come allineare gli elementi verticalmente nel contenitore."},"wrapping":{"title":"Consenti a capo","desc":"Consenti agli elementi di andare a capo quando superano la larghezza del contenitore."},"gap":{"title":"Configurazione spaziatura","between_items":"Spazio tra elementi","desc":"Imposta la spaziatura tra gli elementi orizzontali (in unit rem). Usa valori negativi per sovrapporre gli elementi."},"empty":{"no_modules":"Nessun modulo aggiunto","add_modules":"Aggiungi moduli nel costruttore di layout per vederli qui"}},"vertical":{"layout":{"title":"Configurazione layout","desc":"Configura come gli elementi sono disposti verticalmente all\'interno del contenitore."},"alignment":{"vertical":"Allineamento verticale","vertical_desc":"Scegli come allineare gli elementi verticalmente nel contenitore."},"gap":{"title":"Configurazione spaziatura","between_items":"Spazio tra elementi","desc":"Imposta la spaziatura tra gli elementi verticali (in unit rem). Usa valori negativi per sovrapporre gli elementi."},"empty":{"no_modules":"Nessun modulo aggiunto","add_modules":"Aggiungi moduli nel costruttore di layout per vederli qui"}},"layout":{"live_preview":"Anteprima dal vivo","toggle_preview":"Attiva/disattiva anteprima","drag_to_move_module":"Trascina per spostare il modulo","edit_module":"Modifica modulo","duplicate_module":"Duplica modulo","delete_module":"Elimina modulo","drag_to_move_layout":"Trascina per spostare il layout","horizontal_layout":"Layout orizzontale","vertical_layout":"Layout verticale","add_module_to_layout":"Aggiungi modulo al layout","layout_settings":"Impostazioni layout","duplicate_layout":"Duplica layout","delete_layout":"Elimina layout","click_to_add_module":"Clicca per aggiungere un modulo","drop_modules_here":"Rilascia i moduli qui","drag_to_reorder":"Trascina per riordinare","edit_child_module":"Modifica modulo figlio","duplicate_child_module":"Duplica modulo figlio","delete_child_module":"Elimina modulo figlio","module_settings_title":"Impostazioni modulo","child_module_settings_title":"Impostazioni modulo figlio","general_tab":"Generale","actions_tab":"Azioni","other_tab":"Altro","logic_tab":"Logica","design_tab":"Design","drag_to_resize":"Trascina per ridimensionare","hidden_by_logic":"Nascosto dalla logica","add_row":"Aggiungi riga","add_row_tooltip":"Aggiungi una nuova riga al tuo layout","row_settings":"Impostazioni riga","column_settings":"Impostazioni colonna","row_background_color":"Colore sfondo riga","column_gap":"Spazio tra colonne (px)","vertical_alignment":"Allineamento verticale","horizontal_alignment":"Allineamento orizzontale","column_preview":"Anteprima colonna","modules_count":"{count} moduli","alignment_top":"Alto","alignment_center":"Centro","alignment_bottom":"Basso","alignment_stretch":"Allunga","alignment_left":"Sinistra","alignment_right":"Destra","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"layout_logic":{"display_title":"Mostra questo elemento","display_desc":"Controlla quando viene mostrato questo elemento. Scegli \\"Sempre\\" per mantenerlo visibile. Seleziona \\"Se TUTTE le condizioni qui sotto sono soddisfatte\\" oppure \\"Se QUALSIASI condizione qui sotto  soddisfatta\\" per visualizzarlo solo quando le condizioni aggiunte risultano vere.","always":"Sempre","every":"Se TUTTE le condizioni qui sotto sono soddisfatte","any":"Se QUALSIASI condizione qui sotto  soddisfatta","conditions":"Condizioni","add_condition":"Aggiungi condizione","no_conditions":"Nessuna condizione aggiunta. Clicca \\"Aggiungi condizione\\" per iniziare.","condition_types":{"entity_state":"Stato entit","entity_attribute":"Attributo entit","time":"Intervallo di tempo","template":"Modello"},"condition_fields":{"entity":"Entit","operator":"Operatore","value":"Valore","attribute":"Attributo","time_from":"Da","time_to":"A","template":"Modello"},"condition_header":"Condizione","custom_name":"Nome personalizzato","custom_name_desc":"Opzionale: assegna un nome personalizzato a questa condizione per identificarla pi facilmente","condition_type":"Tipo di condizione"},"hover_effects":{"title":"Effetti al passaggio del mouse","description":"Configura gli effetti visivi che compaiono quando passi il mouse su questo modulo, riga o colonna.","effect":"Effetto hover","effect_desc":"Seleziona l\'effetto visivo da applicare al passaggio del mouse","effects":{"none":"Nessuno","highlight":"Evidenzia","outline":"Contorno","grow":"Cresci","shrink":"Riduci","pulse":"Impulso","bounce":"Rimbalzo","float":"Fluttuare","glow":"Bagliore","shadow":"Ombra","rotate":"Ruota","skew":"Inclina","wobble":"Oscilla","buzz":"Vibra","fade":"Dissolvenza"}},"about":{"developed_by":"Sviluppato da","desc1":"Un potente generatore di schede modulari per Home Assistant","desc2":"Crea layout personalizzati con un\'interfaccia professionale di page builder","desc3":"Sistema di layout modulare con logica condizionale e strumenti di design professionali","github_repo":"Visita il nostro GitHub","join_discord":"Unisciti al nostro Discord","support_title":"Sostieni Ultra Card","support_desc":"Le tue generose donazioni alimentano lo sviluppo di funzionalit straordinarie per questa scheda! Senza il supporto di utenti come te, l\'innovazione continua non sarebbe possibile.","leave_tip":"FAI UNA DONAZIONE (PAYPAL)","version":"Versione"},"actions":{"title":"Configurazione azioni","description":"Configura cosa accade quando gli utenti interagiscono con questo elemento. Scegli azioni diverse per tocco, pressione prolungata e doppio tocco.","tap_action":"Azione al tocco","tap_action_desc":"Azione eseguita toccando/facendo clic sul modulo","hold_action":"Azione alla pressione","hold_action_desc":"Azione eseguita tenendo premuto sul modulo","double_tap_action":"Azione al doppio tocco","double_tap_action_desc":"Azione eseguita al doppio tocco sul modulo","tap_behavior":"Comportamento al tocco","tap_behavior_desc":"Azione da eseguire quando l\'elemento viene toccato/cliccato.","hold_behavior":"Comportamento alla pressione","hold_behavior_desc":"Azione da eseguire quando l\'elemento viene premuto e tenuto.","double_tap_behavior":"Comportamento al doppio tocco","double_tap_behavior_desc":"Azione da eseguire quando l\'elemento viene toccato/cliccato due volte.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"CONFIGURAZIONE ENTIT","desc":"Configura l\'entit e gli stati attivo/inattivo"},"entity":"Entit","entity_desc":"Seleziona l\'entit che questa icona rappresenta","inactive_state":"Stato inattivo","inactive_state_desc":"Valore di stato considerato \\"inattivo\\" (lascia vuoto per usare lo stato reale dell\'entit)","active_state":"Stato attivo","active_state_desc":"Valore di stato considerato \\"attivo\\" (lascia vuoto per usare lo stato reale dell\'entit)","icon_section":{"title":"Configurazione icona"},"inactive_icon":"Icona inattiva","inactive_icon_desc":"Icona da mostrare quando inattivo","inactive_icon_config":"Configurazione icona inattiva","inactive_icon_config_desc":"Configura le impostazioni dell\'icona inattiva","active_icon":"Icona attiva","active_icon_desc":"Icona da mostrare quando attivo","icon_color_inactive":"Colore quando inattivo","icon_color_active":"Colore quando attivo","background_shape_inactive":"Forma sfondo quando inattivo","background_shape_active":"Forma sfondo quando attivo","background_color_inactive":"Colore sfondo quando inattivo","background_color_active":"Colore sfondo quando attivo","icon_size_inactive":"Dimensione icona quando inattivo","icon_size_active":"Dimensione icona quando attivo","inactive_icon_color":"Colore icona inattiva","active_icon_color":"Colore icona attiva","inactive_icon_background":"Sfondo icona inattiva","active_icon_background":"Sfondo icona attiva","inactive_icon_background_color":"Colore sfondo icona inattiva","active_icon_background_color":"Colore sfondo icona attiva","name_section":{"title":"Configurazione nome"},"inactive_name":"Nome inattivo","inactive_name_desc":"Nome personalizzato quando inattivo","inactive_name_config":"Configurazione nome inattivo","inactive_name_config_desc":"Configura le impostazioni del nome inattivo","active_name":"Nome attivo","active_name_desc":"Nome personalizzato quando attivo","custom_inactive_name":"Nome inattivo personalizzato","custom_inactive_name_desc":"Sostituisci il nome dell\'entit quando inattivo (lascia vuoto per usare il nome dell\'entit)","custom_active_name":"Nome attivo personalizzato","custom_active_name_desc":"Sostituisci il nome dell\'entit quando attivo (lascia vuoto per usare il nome dell\'entit)","name_color_inactive":"Colore nome quando inattivo","name_color_active":"Colore nome quando attivo","name_size_inactive":"Dimensione testo nome quando inattivo","name_size_active":"Dimensione testo nome quando attivo","inactive_name_color":"Colore nome inattivo","active_name_color":"Colore nome attivo","state_section":{"title":"Configurazione stato"},"inactive_state_color":"Colore stato inattivo","active_state_color":"Colore stato attivo","inactive_state_text":"Testo stato inattivo","active_state_text":"Testo stato attivo","inactive_state_config":"Configurazione stato inattivo","inactive_state_config_desc":"Configura le impostazioni dello stato inattivo","custom_inactive_state":"Stato inattivo personalizzato","custom_inactive_state_desc":"Testo personalizzato quando inattivo (lascia vuoto per usare lo stato reale)","custom_active_state":"Stato attivo personalizzato","custom_active_state_desc":"Testo personalizzato quando attivo (lascia vuoto per usare lo stato reale)","state_color_inactive":"Colore stato quando inattivo","state_color_active":"Colore stato quando attivo","state_size_inactive":"Dimensione testo stato quando inattivo","state_size_active":"Dimensione testo stato quando attivo","background_section":{"title":"Sfondo inattivo","desc":"Configura le impostazioni dello sfondo inattivo"},"template_section":{"title":"Modalit modello avanzata","desc":"Usa modelli Jinja2 per un controllo avanzato delle icone. I modelli possono controllare la visibilit (vero/falso per mostrare/nascondere le icone) e personalizzare il testo dello stato. Restituisci testo personalizzato per lo stato attivo, restituisci lo stato reale dell\'entit per lo stato inattivo."},"template_mode":"Modalit modello avanzata","template":"Modello","animation_section":{"title":"Animazione icona","desc":"Configura le animazioni per gli stati attivo e inattivo"},"active_animation":"Animazione attiva","active_animation_desc":"Animazione quando l\'icona  attiva","inactive_animation":"Animazione inattiva","inactive_animation_desc":"Animazione quando l\'icona  inattiva","animation_none":"Nessuno","animation_pulse":"Impulso","animation_spin":"Rotazione","animation_bounce":"Rimbalzo","animation_flash":"Lampeggio","animation_shake":"Scuotere","animation_vibrate":"Vibrare","animation_rotate_left":"Ruota a sinistra","animation_rotate_right":"Ruota a destra","animation_fade":"Dissolvenza","animation_scale":"Scala","animation_tada":"Tada"},"text":{"content_section":{"title":"Configurazione contenuto","desc":"Configura il contenuto testuale e le impostazioni di base per questo modulo."},"text_content":"Contenuto del testo","text_content_desc":"Inserisci il contenuto testuale da visualizzare in questo modulo.","icon_section":{"title":"Configurazione icona","desc":"Scegli un\'icona da visualizzare accanto al contenuto testuale."},"icon":"Icona","icon_desc":"Scegli un\'icona da visualizzare accanto al testo. Lascia vuoto per nessuna icona.","icon_position":"Posizione icona","icon_position_desc":"Scegli dove posizionare l\'icona rispetto al testo.","before_text":"Prima del testo","after_text":"Dopo il testo","template_mode":"Modalit modello","template_mode_desc":"Usa la sintassi di templating di Home Assistant per renderizzare il testo","value_template":"Modello valore","value_template_desc":"Modello per renderizzare il testo usando la sintassi Jinja2","examples_title":"Esempi comuni:","example_basic":"Valore base","example_percent":"Con percentuale","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"markdown":{"content":{"title":"Contenuto Markdown","label":"Contenuto","desc":"Inserisci il contenuto Markdown con pieno supporto alla formattazione"},"features":{"title":"Funzionalit Markdown"},"enable_html":"Abilita HTML","enable_html_desc":"Consenti tag HTML nel contenuto Markdown","enable_tables":"Abilita tabelle","enable_tables_desc":"Supporto per la sintassi delle tabelle in Markdown","code_highlighting":"Evidenziazione del codice","code_highlighting_desc":"Evidenziazione della sintassi per i blocchi di codice"},"bar":{"bar_settings":{"title":"Impostazioni barra","desc":"Configura come viene calcolata e visualizzata la percentuale della barra."},"perc_type":{"entity":"Entit (0-100)","attribute":"Attributo entit","difference":"Differenza","template":"Modello"},"attribute_section":{"title":"Configurazione attributo entit","desc":"Configura le impostazioni dell\'attributo dell\'entit"},"attribute_entity":"Entit attributo","attribute_entity_desc":"Seleziona l\'entit che contiene l\'attributo con il valore percentuale","attribute_name":"Nome attributo","attribute_name_desc":"Inserisci il nome dell\'attributo che contiene il valore percentuale (es., \\"battery_level\\")","diff_section":{"title":"Configurazione calcolo differenza","desc":"Configura le impostazioni del calcolo della differenza"},"current_entity":"Entit valore attuale","current_entity_desc":"Entit che rappresenta la quantit attuale/utilizzata (es., carburante usato, batteria consumata)","total_entity":"Entit valore totale","total_entity_desc":"Entit che rappresenta la quantit totale/massima (es., capacit serbatoio, capacit batteria)","template_section":{"title":"Configurazione modello","desc":"Configura le impostazioni del modello"},"percentage_template":"Modello percentuale","percentage_template_desc":"Inserisci un modello Jinja2 che restituisca un numero tra 0 e 100 per la percentuale. Esempio: {{ (states(\'sensor.battery_level\') | float) * 100 }}","attr_config":{"title":"Configurazione attributo entit","desc":"Configura le impostazioni dell\'attributo dell\'entit","attribute_entity":"Entit attributo","attribute_entity_desc":"Seleziona l\'entit che contiene l\'attributo con il valore percentuale","attribute_name":"Nome attributo","attribute_name_desc":"Inserisci il nome dell\'attributo che contiene il valore percentuale (es., \\"battery_level\\")"},"diff_config":{"title":"Configurazione calcolo differenza","desc":"Configura le impostazioni del calcolo della differenza","current_entity":"Entit valore attuale","current_entity_desc":"Entit che rappresenta la quantit attuale/utilizzata (es., carburante usato, batteria consumata)","total_entity":"Entit valore totale","total_entity_desc":"Entit che rappresenta la quantit totale/massima (es., capacit serbatoio, capacit batteria)"},"template_config":{"title":"Configurazione modello","desc":"Configura le impostazioni del modello","percentage_template":"Modello percentuale","percentage_template_desc":"Inserisci un modello Jinja2 che restituisca un numero tra 0 e 100 per la percentuale. Esempio: {{ (states(\'sensor.battery_level\') | float) * 100 }}"},"entity":{"title":"Entit percentuale barra","desc_present":"L\'entit che fornisce il valore percentuale per la barra.","desc_empty":"Seleziona un\'entit che fornisce un valore percentuale (0-100). I sensori batteria sono ideali.","no_entity_warning":"Nessuna entit selezionata - Scegli un sensore con valori tra 0 e 100"},"limit_entity":{"title":"Entit valore limite (facoltativa)","desc":"Facoltativo: aggiungi una linea indicatrice verticale sulla barra (es. limite di carica per batteria EV)."},"appearance":{"title":"Aspetto barra","direction":"Direzione di riempimento","direction_desc":"Scegli la direzione in cui si riempie la barra all\'aumentare del valore.","left_to_right":"Da sinistra a destra","right_to_left":"Da destra a sinistra","height":"Altezza barra","height_desc":"Regola lo spessore della barra di avanzamento in pixel.","border_radius":"Raggio del bordo","border_radius_desc":"Controlla gli angoli arrotondati della barra.","style":"Stile barra","style_desc":"Scegli lo stile visivo della barra di avanzamento.","style_flat":"Piatto (predefinito)","style_glossy":"Lucido","style_embossed":"Rilievo","style_inset":"Incassato","style_gradient":"Sovrapposizione gradiente","style_neon":"Bagliore neon","style_outline":"Contorno","style_glass":"Vetro","style_metallic":"Metallico","style_neumorphic":"Neumorfico","style_dashed":"Tratteggiato","style_dots":"Punti","width":"Larghezza barra","width_desc":"Imposta la larghezza della barra come percentuale del contenitore.","alignment":"Allineamento barra","alignment_desc":"Scegli come allineare la barra quando  inferiore al 100% di larghezza."},"labels":{"alignment":"Allineamento etichette","alignment_desc":"Controlla come sono posizionate le etichette di sinistra e destra."},"percentage":{"title":"Visualizzazione testo percentuale","desc":"Controlla visibilit e aspetto dei valori percentuali mostrati direttamente sulla barra. Questi numeri forniscono un chiaro indicatore del livello attuale.","text_size":"Dimensione testo","text_size_desc":"Regola la dimensione del testo percentuale mostrato sulla barra.","text_alignment":"Allineamento testo percentuale"},"left":{"title":"Lato sinistro","desc":"Configura il titolo e il valore dell\'entit mostrati sul lato sinistro della barra. Utile per etichette come \'Autonomia\' o \'Batteria\' insieme ai loro valori.","title_size":"Dimensione titolo","value_size":"Dimensione valore","template_mode":"Modalit modello","template_desc":"Usa un modello per formattare il valore mostrato. I modelli usano la sintassi Jinja2 di Home Assistant.","value_template":"Modello valore","value_template_desc":"Modello per formattare il valore del lato sinistro usando la sintassi Jinja2","enable_toggle":"Abilita l\'interruttore sopra per configurare le impostazioni del lato sinistro"},"right":{"title":"Lato destro","desc":"Configura il titolo e il valore dell\'entit mostrati sul lato destro della barra. Ideale per informazioni complementari come \'Tempo al pieno\' o misurazioni secondarie.","title_size":"Dimensione titolo","value_size":"Dimensione valore","template_mode":"Modalit modello","template_desc":"Usa un modello per formattare il valore mostrato. I modelli usano la sintassi Jinja2 di Home Assistant.","value_template":"Modello valore","value_template_desc":"Modello per formattare il valore del lato destro usando la sintassi Jinja2","enable_toggle":"Abilita l\'interruttore sopra per configurare le impostazioni del lato destro"},"colors":{"title":"Colori","bar_color":"Colore barra","background_color":"Colore sfondo","border_color":"Colore bordo","limit_indicator":"Indicatore limite","percentage_text":"Testo percentuale","left_side":"Colori lato sinistro","right_side":"Colori lato destro","title_color":"Colore titolo","value_color":"Colore valore","text_color":"Colore testo","text_color_desc":"Scegli il colore per il testo mostrato sulla barra."},"gradient":{"title":"Modalit gradiente","desc":"Applica un gradiente di colore al riempimento della barra. Quando abilitato, scegli come visualizzare il gradiente e personalizza i punti colore qui sotto.","full":"Completo","cropped":"Ritagliato","value_based":"Basato sul valore"},"animation":{"title":"Animazione barra","desc":"Anima il riempimento della barra usando preset come strisce di carica, impulso, bagliore e altro. Puoi attivare animazioni in base allo stato o all\'attributo di un\'entit e, facoltativamente, sovrascrivere l\'animazione quando si verifica un\'altra condizione.","trigger":{"title":"Trigger animazione","desc":"Seleziona un\'entit da osservare e definisci valore + animazione da applicare quando corrisponde.","entity_desc":"Entit da valutare per il trigger dell\'animazione","type":"Tipo di trigger","type_desc":"Scegli se confrontare lo stato dell\'entit o un attributo","attribute_name_desc":"Nome attributo da confrontare (es., charging_status)","match_value":"Valore di corrispondenza","match_value_desc":"Testo da confrontare con stato o attributo (il confronto  testuale)."},"type":"Tipo di animazione","type_desc":"Seleziona come deve animarsi la barra quando attivata.","types":{"charging":"Carica (linee diagonali)","pulse":"Impulso","blinking":"Lampeggiante","bouncing":"Rimbalzante","glow":"Bagliore","rainbow":"Arcobaleno","bubbles":"Bolle","fill":"Riempimento","ripple":"Increspatura","traffic":"Traffic (asta da barbiere)","heartbeat":"Battito cardiaco","flicker":"Sfarfallio","shimmer":"Sbrilluccichio","vibrate":"Vibrare"},"override":{"title":"Sostituzione animazione dell\'azione","desc":"Seleziona un\'entit azione e uno stato per definire quando questa animazione deve sostituire quella normale","entity_desc":"Entit da valutare per il trigger di sostituzione","type_desc":"Animazione da usare quando la condizione di sostituzione corrisponde.","attribute_name_desc":"Nome attributo da confrontare","match_value":"Valore di corrispondenza per sostituzione","match_value_desc":"Confronto testuale con stato o attributo","type":"Tipo di animazione di sostituzione"}},"text_display":{"title":"Visualizzazione testo","desc":"Controlla la visibilit e l\'aspetto dei valori di testo mostrati direttamente sulla barra. Per le modalit differenza e modello, puoi scegliere di mostrare valori di entit grezzi invece delle percentuali.","show_value":"Mostra valore invece della percentuale","show_value_desc":"Quando abilitato, mostra il valore effettivo dell\'entit invece della percentuale. Utile per mostrare valori di sensore grezzi come \\"45 kWh\\" invece di \\"75%\\".","text_size":"Dimensione testo","text_size_desc":"Regola la dimensione del testo mostrato sulla barra.","text_alignment":"Allineamento testo"}},"image":{"settings":"Impostazioni immagine","source_type":"Tipo di sorgente immagine","source_type_desc":"Scegli come specificare la sorgente dell\'immagine.","source":{"default":"Immagine predefinita","url":"URL immagine","upload":"Carica immagine","entity":"Immagine entit","attribute":"Attributo entit"},"url_section":{"title":"Configurazione URL immagine"},"image_url":"URL immagine","image_url_desc":"Inserisci l\'URL diretto dell\'immagine che vuoi visualizzare.","upload_section":{"title":"Configurazione caricamento immagine"},"upload":"Carica immagine","upload_desc":"Clicca per caricare un file immagine dal tuo dispositivo.","entity_section":{"title":"Configurazione immagine entit"},"entity":"Entit","entity_desc":"Seleziona un\'entit che abbia un\'immagine (es., persona, camera).","attribute_section":{"title":"Configurazione attributo entit"},"entity_attr_desc":"Seleziona l\'entit che contiene l\'URL dell\'immagine in uno dei suoi attributi.","attribute_name":"Nome attributo","attribute_name_desc":"Inserisci il percorso dell\'attributo che contiene l\'URL dell\'immagine (supportata notazione a punti, es., vehicle_data.vehicleDetails.generalDashboard).","width":"Larghezza (%)","width_desc":"Imposta la larghezza come percentuale del contenitore.","height":"Altezza (px)","height_desc":"Imposta l\'altezza in pixel.","crop_fit":"Ritaglia e adatta","crop_fit_desc":"Controlla come l\'immagine si adatta al suo contenitore.","fit":{"cover":"Copri (ritaglia per riempire)","contain":"Contieni (adatta l\'intera immagine)","fill":"Riempi (stira per adattare)","scale_down":"Riduci","none":"Nessuno (dimensione originale)"},"border_radius":"Raggio del bordo","border_radius_desc":"Controlla gli angoli arrotondati dell\'immagine.","tap_actions":"Azioni al tocco","filters":"Filtri","filter":{"blur":"Sfocatura","blur_desc":"Applica un effetto di sfocatura alla tua immagine.","brightness":"Luminosit (%)","brightness_desc":"Regola la luminosit della tua immagine.","contrast":"Contrasto (%)","contrast_desc":"Modifica il contrasto della tua immagine.","saturation":"Saturazione (%)","saturation_desc":"Regola la saturazione della tua immagine."},"hover":{"title":"Effetti hover","effect_type":"Tipo di effetto","effect_type_desc":"Scegli il tipo di effetto hover.","scale":"Scala (zoom avanti/indietro)","rotate":"Ruota","fade":"Dissolvenza (variazione opacit)","blur":"Sfocatura","brightness":"Luminosit","glow":"Bagliore (ombra)","slide":"Scorri (traslazione)","scale_amount":"Scala (%)","scale_amount_desc":"Regola la scala dell\'immagine al passaggio del mouse.","rotate_amount":"Rotazione ()","rotate_amount_desc":"Ruota l\'immagine al passaggio del mouse.","opacity":"Opacit (%)","opacity_desc":"Cambia l\'opacit dell\'immagine al passaggio del mouse.","blur_amount":"Sfocatura (px)","blur_amount_desc":"Applica un effetto di sfocatura all\'immagine al passaggio del mouse.","brightness_amount":"Luminosit (%)","brightness_amount_desc":"Regola la luminosit dell\'immagine al passaggio del mouse.","glow_intensity":"Intensit bagliore","glow_intensity_desc":"Scegli l\'intensit dell\'effetto bagliore al passaggio del mouse.","glow_light":"Bagliore leggero","glow_medium":"Bagliore medio","glow_heavy":"Bagliore intenso","glow_custom":"Ombra personalizzata","translate_x":"Orizzontale (px)","translate_x_desc":"Trasla l\'immagine orizzontalmente al passaggio del mouse.","translate_y":"Verticale (px)","translate_y_desc":"Trasla l\'immagine verticalmente al passaggio del mouse."},"alt":"Immagine","no_source":"Nessuna sorgente immagine configurata"},"graphs":{"chart_type":{"title":"Tipo di grafico","type":"Tipo","desc":"Seleziona lo stile di visualizzazione per i tuoi dati."},"types":{"line":"Grafico a linee","bar":"Grafico a barre","pie":"Grafico a torta","donut":"Grafico ad anello"},"data_sources":{"title":"Sorgenti dati","no_entities":"Nessuna entit aggiunta","add_first_entity":"Aggiungi la tua prima entit per creare un grafico","add_entity":"Aggiungi entit"},"entity":"Entit","line":{"show_points":"Mostra punti","fill_area":"Riempimento area","line_width":"Spessore linea","line_style":"Stile linea"},"line_styles":{"solid":"Pieno","dashed":"Tratteggiato","dotted":"Punteggiato"},"display":{"title":"Opzioni di visualizzazione","show_title":"Mostra titolo grafico","show_value":"Mostra valore grafico","chart_title":"Titolo grafico","chart_title_placeholder":"Inserisci il titolo del grafico","time_period":"Periodo","time_period_desc":"Quanti dati storici mostrare.","normalize_values":"Normalizza i valori sulla stessa scala","normalize_desc":"Utile quando si confrontano entit con unit diverse (es., % vs miglia)","chart_height":"Altezza grafico","chart_width":"Larghezza grafico (%)","chart_width_desc":"Percentuale della larghezza disponibile del modulo. L\'allineamento controlla il posizionamento.","chart_alignment":"Allineamento grafico","chart_alignment_desc":"Allineamento del grafico all\'interno del suo contenitore.","info_position":"Posizione info","info_position_desc":"Posizione della sovrapposizione che mostra nome/valore.","legend_position":"Posizione legenda","legend_position_desc":"Dove posizionare la legenda quando abilitata.","background_color":"Colore sfondo","chart_options":"Opzioni grafico","show_legend":"Mostra legenda","show_grid":"Mostra griglia","smooth_lines":"Linee smussate","show_tooltips":"Mostra suggerimenti","add_slice_gap":"Aggiungi spazio tra le fette","show_grid_values":"Show Grid Values"},"agg":{"mean":"Media","sum":"Somma","min":"Minimo","max":"Massimo","median":"Mediana","first":"Primo valore","last":"Ultimo valore","count":"Conteggio","delta":"Variazione"},"position":{"top":"Alto","bottom":"Basso","left":"Sinistra","right":"Destra","hidden":"Nascosto","top_left":"In alto a sinistra","top_right":"In alto a destra","bottom_left":"In basso a sinistra","bottom_right":"In basso a destra","middle":"Centro","center":"Centro"},"pie":{"show_title":"Mostra titolo nella fetta","show_value":"Mostra valore nella fetta"},"period":{"1h":"Ultima ora","3h":"Ultime 3 ore","6h":"Ultime 6 ore","12h":"Ultime 12 ore","24h":"Ultime 24 ore","2d":"Ultimi 2 giorni","7d":"Ultima settimana","30d":"Ultimo mese","90d":"Ultimi 3 mesi","365d":"Ultimo anno"},"reset_345":"Ripristina predefinito (345px)","reset_100":"Ripristina predefinito (100%)","entity_desc":"Seleziona un\'entit da tracciare.","display_name_optional":"Nome visualizzato (facoltativo)","use_as_card_info":"Usa come info scheda","attribute":"Attributo","attribute_desc":"Usa lo stato dell\'entit o seleziona un attributo specifico da tracciare.","attribute_state_default":"Stato (predefinito)","show_points":"Mostra punti","fill_area":"Riempimento area","line_style":"Stile linea","line_solid":"Pieno","line_dashed":"Tratteggiato","line_dotted":"Punteggiato","pie_show_title":"Mostra titolo nella fetta","pie_show_value":"Mostra valore nella fetta","expand_options":"Espandi opzioni","no_entities":"Nessuna entit aggiunta","add_first_entity":"Aggiungi la tua prima entit per creare un grafico","add_entity":"Aggiungi entit","display_options":{"title":"Opzioni di visualizzazione"},"show_title":"Mostra titolo grafico","show_value":"Mostra valore grafico","chart_title":"Titolo grafico","chart_title_placeholder":"Inserisci il titolo del grafico","time_period":"Periodo","time_period_desc":"Quanti dati storici mostrare.","normalize_values":"Normalizza i valori sulla stessa scala","normalize_desc":"Utile quando si confrontano entit con unit diverse (es., % vs miglia)","chart_height":"Altezza grafico","chart_width":"Larghezza grafico (%)","data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"info":{"entity_section":{"title":"CONFIGURAZIONE ENTIT"},"entity":"Entit","entity_desc":"Seleziona l\'entit da visualizzare","icon_section":{"title":"Impostazioni icona"},"show_icon":"Mostra icona","show_icon_desc":"Mostra un\'icona accanto al valore dell\'entit","icon":"Icona","icon_desc":"Scegli un\'icona da visualizzare","icon_color":"Colore icona","name_section":{"title":"Impostazioni nome"},"show_name":"Mostra nome","show_name_desc":"Mostra il nome dell\'entit sopra il valore","custom_name":"Nome personalizzato","custom_name_desc":"Sostituisci il nome dell\'entit con un nome personalizzato","name_color":"Colore nome","state_section":{"title":"Impostazioni stato"},"show_state":"Mostra stato","show_state_desc":"Mostra lo stato/valore dell\'entit","show_units":"Mostra unit","show_units_desc":"Mostra l\'unit di misura (se disponibile)","state_color":"Colore stato","template":{"title":"Modalit modello","desc":"Usa un modello per formattare il valore dell\'entit. I modelli consentono di utilizzare la sintassi di templating di Home Assistant per formattazioni complesse.","mode":"Modalit modello","mode_desc":"Usa la sintassi di templating di Home Assistant per formattare il valore","value":"Modello valore","value_desc":"Modello per formattare il valore dell\'entit usando la sintassi Jinja2"},"size_section":{"title":"Impostazioni dimensioni"},"icon_size":"Dimensione icona","icon_size_desc":"Dimensione dell\'icona in pixel","name_size":"Dimensione nome","name_size_desc":"Dimensione del testo del nome dell\'entit in pixel","value_size":"Dimensione valore","value_size_desc":"Dimensione del testo del valore dell\'entit in pixel","icon_gap":"Spazio icona","icon_gap_desc":"Spazio tra icona e contenuto in pixel","layout_section":{"title":"Layout e posizionamento"},"icon_position":"Posizione icona","overall_alignment":"Allineamento generale","icon_alignment":"Allineamento icona","content_alignment":"Allineamento contenuto","examples_title":"Esempi comuni:","example_basic":"Valore base","example_units":"Con unit","example_round":"Arrotonda a 1 decimale"},"button":{"basic":{"title":"Impostazioni di base","desc":"Configura l\'aspetto del pulsante e il contenuto del testo."},"text":{"title":"Testo pulsante","desc":"Testo da visualizzare sul pulsante (lascia vuoto per solo icona)."},"style":{"title":"Stile pulsante","desc":"Stile visivo del pulsante"},"alignment":{"title":"Allineamento","desc":"Come il pulsante  allineato nel suo contenitore"},"styles":{"flat":"Piatto (predefinito)","glossy":"Lucido","embossed":"In rilievo","inset":"Incassato","gradient_overlay":"Sovrapposizione gradiente","neon_glow":"Bagliore neon","outline":"Contorno","glass":"Vetro","metallic":"Metallico"},"align":{"left":"Sinistra","center":"Centro","right":"Destra","justify":"Giustifica (larghezza piena)"},"icon":{"title":"Impostazioni icona","desc":"Configura visualizzazione e posizionamento dell\'icona per il pulsante.","before":"Prima del testo","after":"Dopo il testo","enable_toggle_desc":"Abilita l\'interruttore sopra per configurare le impostazioni dell\'icona"},"icon_field":"Icona","show_icon":"Mostra icona","show_icon_desc":"Mostra un\'icona sul pulsante","icon_desc":"Icona da visualizzare (es., mdi:home)","icon_position":"Posizione icona","icon_position_desc":"Posizione dell\'icona rispetto al testo","colors":{"title":"Colori","background":"Colore sfondo","text":"Colore testo"},"hover":{"title":"Effetti hover","effect_type":"Tipo di effetto","effect_type_desc":"Scegli l\'effetto hover per questo pulsante.","none":"Nessuno","color":"Cambio colore","scale":"Scala","glow":"Bagliore","lift":"Sollevamento (traslazione Y)","hover_color":"Colore hover","glow_color":"Colore bagliore","enable_toggle_desc":"Abilita l\'interruttore sopra per configurare gli effetti hover"},"actions":{"type":"Tipo di azione","type_desc":"Scegli cosa accade quando si clicca il pulsante","entity":"Entit","entity_desc":"Seleziona l\'entit con cui interagire","navigation_path":"Percorso di navigazione","navigation_path_desc":"Percorso verso cui navigare (es., /dashboard/energy)","service":"Servizio","service_desc":"Servizio da chiamare (es., light.turn_on)","service_data":"Dati servizio (JSON)","service_data_desc":"Dati facoltativi da passare al servizio (formato JSON)"},"tap":{"title":"Azione al tocco","desc":"Azione da eseguire quando si tocca il pulsante"},"hold":{"title":"Azione alla pressione","desc":"Azione da eseguire quando il pulsante  tenuto premuto"},"double":{"title":"Azione al doppio tocco","desc":"Azione da eseguire quando il pulsante viene toccato due volte"}},"layout_extra":{"module_name":"Nome del modulo:","module_name_placeholder":"Assegna un nome personalizzato a questo modulo per identificarlo pi facilmente nell\'editor.","module_name_help":"Assegna un nome personalizzato a questo modulo per identificarlo pi facilmente nell\'editor."},"camera":{"config":{"title":"Configurazione telecamera","desc":"Configura l\'entit telecamera e le impostazioni di visualizzazione."},"entity":"Entit telecamera","entity_desc":"Seleziona l\'entit telecamera da visualizzare. Dovrebbe essere un\'entit camera o mjpeg da Home Assistant.","name":"Nome telecamera","name_desc":"Nome personalizzato per la telecamera. Lascia vuoto per usare il nome dell\'entit.","show_name":"Mostra nome telecamera","show_name_desc":"Visualizza il nome della telecamera nel feed","show_name_toggle":{"enable_toggle_desc":"Abilita l\'interruttore sopra per configurare la visualizzazione del nome della telecamera"},"name_position":{"group_title":"Posizione nome telecamera","title":"Posizione nome","desc":"Scegli dove il nome della telecamera appare come sovrapposizione sull\'immagine della telecamera.","options":{"top_left":"In alto a sinistra","top_right":"In alto a destra","center":"Centro","bottom_left":"In basso a sinistra","bottom_right":"In basso a destra"}},"display":{"title":"Impostazioni visualizzazione"},"live_view":{"title":"Vista dal vivo","desc":"Abilita per mostrare lo stream della telecamera dal vivo (richiede integrazione stream). Quando disabilitato, mostra istantanee di immagini fisse."},"auto_refresh":{"section_title":"Impostazioni aggiornamento automatico","title":"Aggiornamento automatico","desc":"Aggiorna automaticamente l\'immagine della telecamera a intervalli regolari"},"refresh_interval":{"title":"Intervallo di aggiornamento (secondi)","desc":"Quanto spesso aggiornare automaticamente l\'immagine della telecamera."},"dimensions":{"title":"Dimensioni"},"width":"Larghezza (px)","width_desc":"Imposta la larghezza del display della telecamera. Intervallo: 100-1000px","height":"Altezza (px)","height_desc":"Imposta l\'altezza del display della telecamera. Intervallo: 100-1000px","link_aspect":"Collega rapporto d\'aspetto","unlink_aspect":"Scollega rapporto d\'aspetto","aspect_linked":{"title":"Rapporto d\'aspetto collegato","desc":"Le dimensioni mantengono un rapporto {ratio}:1. Regolare una dimensione aggiorna automaticamente l\'altra per mantenere le proporzioni."},"aspect_independent":{"title":"Dimensioni indipendenti","desc":"Larghezza e altezza possono essere regolate indipendentemente. Clicca il pulsante di collegamento sopra per mantenere il rapporto d\'aspetto."},"crop":{"title":"Ritaglia e posizione","desc":"Regola il ritaglio e la posizione della vista della telecamera. Utile per focalizzare su aree specifiche o rimuovere bordi indesiderati.","left_title":"Ritaglio sinistro (%)","left_desc":"Ritaglia dal bordo sinistro. Valori pi alti mostrano meno del lato sinistro.","right_title":"Ritaglio destro (%)","right_desc":"Ritaglia dal bordo destro. Valori pi alti mostrano meno del lato destro.","top_title":"Ritaglio superiore (%)","top_desc":"Ritaglia dal bordo superiore. Valori pi alti mostrano meno dell\'area superiore.","bottom_title":"Ritaglio inferiore (%)","bottom_desc":"Ritaglia dal bordo inferiore. Valori pi alti mostrano meno dell\'area inferiore.","active_applied":"Ritagli attivi applicati","reset_all":"Reimposta tutti i ritagli"},"template":{"title":"Modalit modello","desc":"Usa un modello per impostare dinamicamente l\'entit telecamera. I modelli permettono di usare la sintassi di templating di Home Assistant per la selezione condizionale della telecamera.","mode_label":"Modalit modello","mode_desc":"Usa la sintassi di templating di Home Assistant per selezionare dinamicamente l\'entit telecamera","camera_template_label":"Modello telecamera","camera_template_desc":"Modello per impostare dinamicamente l\'entit telecamera usando la sintassi Jinja2","examples_title":"Esempi comuni:","example1_desc":"Mostra telecamera quando il tempo  soleggiato","example2_desc":"Cambia tra telecamere basato su input boolean","example3_desc":"Usa input select per scegliere l\'entit telecamera"}},"separator":{"config":{"title":"Configurazione separatore"},"style":{"title":"Stile separatore","desc":"Scegli lo stile visivo della linea di separazione."},"options":{"solid":"Linea continua","double":"Doppia linea","dotted":"Linea tratteggiata","double_dotted":"Doppio tratteggio","shadow":"Ombra","blank":"Spazio vuoto"},"appearance":{"title":"Aspetto"},"thickness":"Spessore (px)","thickness_desc":"Spessore della linea di separazione.","width":"Larghezza (%)","width_desc":"Larghezza del separatore come percentuale del contenitore.","color":{"title":"Colore","desc":"Colore della linea di separazione."},"show_title":"Mostra titolo","show_title_desc":"Aggiungi testo al centro della linea di separazione (es., ------ Testo ------)","show_title_toggle":{"enable_toggle_desc":"Abilita l\'interruttore sopra per configurare le impostazioni del titolo"},"text_content":{"title":"Contenuto testo","desc":"Testo da visualizzare al centro del separatore."},"font_size":"Dimensione carattere","font_size_desc":"Dimensione del testo in pixel.","text_color":{"title":"Colore testo","desc":"Colore del testo del separatore."},"text_format":{"title":"Formattazione testo","desc":"Applica stili di formattazione al testo del separatore.","bold":"Grassetto","italic":"Corsivo","underline":"Sottolineato","uppercase":"Maiuscolo","strikethrough":"Barrato"},"spacer":{"title":"Altezza spazio"},"height":"Altezza (px)","height_desc":"Controlla lo spazio visivo per Spazio vuoto.","orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"design":{"copy":"Copia","paste":"Incolla","reset_all":"Reimposta tutto","copy_tooltip":"Copia le impostazioni di design correnti (funziona su tutte le Ultra Card)","paste_tooltip_has":"Incolla le impostazioni di design copiate (dal clipboard tra schede)","paste_tooltip_none":"Nessuna impostazione di design nel clipboard tra schede","reset_all_tooltip":"Reimposta tutte le impostazioni di design ai valori predefiniti","text_section":"Testo","text_color":"Colore testo","alignment":"Allineamento","inherit_alignment":"Eredita (nessun allineamento)","font_size":"Dimensione carattere","font_size_placeholder":"16px (predefinito), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reimposta dimensione carattere predefinita","line_height":"Interlinea","line_height_placeholder":"0 (predefinito), 28px, 1.7","reset_line_height":"Reimposta interlinea predefinita","letter_spacing":"Spaziatura lettere","letter_spacing_placeholder":"auto (predefinito), 1px, -0.04em","reset_letter_spacing":"Reimposta spaziatura lettere predefinita","font":"Carattere","font_weight":"Spessore carattere","text_transform":"Trasformazione testo","font_style":"Stile carattere","default_option":" Predefinito ","weight_thin":"100 - Sottile","weight_light":"300 - Leggero","weight_normal":"400 - Normale","weight_medium":"500 - Medio","weight_semi_bold":"600 - Semi grassetto","weight_bold":"700 - Grassetto","weight_black":"900 - Nero","transform_none":"Nessuno","transform_uppercase":"MAIUSCOLO","transform_lowercase":"minuscolo","transform_capitalize":"Iniziale maiuscola","style_normal":"Normale","style_italic":"Corsivo","style_oblique":"Obliquo","background_section":"Sfondo","background_color":"Colore sfondo","background_image_type":"Tipo immagine di sfondo","bg_none":"Nessuno","bg_upload":"Carica immagine","bg_entity":"Immagine entit","bg_url":"URL immagine","sizes_section":"Dimensioni","spacing_section":"Spaziatura","border_section":"Bordo","text_shadow_section":"Ombra testo","box_shadow_section":"Ombra del riquadro","position_section":"Posizione","overflow_section":"Overflow","animations_section":"Animazioni","width":"Larghezza","height":"Altezza","max_width":"Larghezza max","max_height":"Altezza max","min_width":"Larghezza min","min_height":"Altezza min","border_radius":"Raggio del bordo","border_style":"Stile bordo","border_width":"Spessore bordo","border_color":"Colore bordo","margin":"Margine","padding":"Spaziatura interna","top":"Alto","right":"Destra","bottom":"Basso","left":"Sinistra","unlock_sides":"Sblocca per modificare i lati indipendentemente","lock_sides":"Blocca per modificare tutti i lati insieme","horizontal_shift":"Spostamento orizzontale","vertical_shift":"Spostamento verticale","blur":"Sfocatura","text_shadow_color":"Colore ombra testo","box_shadow_color":"Colore ombra riquadro","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Carica immagine di sfondo","bg_image_entity":"Entit immagine di sfondo","bg_image_url":"URL immagine di sfondo","choose_file":"Scegli file","no_file_chosen":"Nessun file selezionato","backdrop_filter":"Filtro sfondo","spread":"Diffusione","visible_default":"Visibile (predefinito)","examples":"Esempi","state_based_animation":"Animazione basata sullo stato","animation_type":"Tipo di animazione","animation_duration":"Durata animazione","animation_duration_desc":"Durata dell\'animazione (es., 2s, 500ms, 1.5s)","intro_outro_animations":"Animazioni di entrata e uscita","intro_animation":"Animazione di entrata","outro_animation":"Animazione di uscita","duration":"Durata","delay":"Ritardo","timing":"Temporizzazione","none":"Nessuno","ease":"Ease","border_style_none":"Nessuno","border_style_solid":"Pieno","border_style_dashed":"Tratteggiato","border_style_dotted":"Punteggiato","border_style_double":"Doppio","position_default":" Predefinito ","position_static":"Statico","position_relative":"Relativo","position_absolute":"Assoluto","position_fixed":"Fisso","position_sticky":"Adesivo"},"modules":{"text":"Modulo testo","image":"Modulo immagine","icon":"Modulo icona","bar":"Modulo barra","info":"Modulo info","button":"Modulo pulsante","separator":"Modulo separatore","markdown":"Modulo Markdown","camera":"Modulo telecamera","graphs":"Modulo grafici","no_text_configured":"Nessun testo configurato","no_image_configured":"Nessuna immagine configurata","uploaded_image":"Immagine caricata","icons_configured":"{count} icone configurate","no_icons_configured":"Nessuna icona configurata","default_entity_suggestion":"Entit: sensor.battery_level","sample_text":"Testo di esempio","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var f=i.t(v,2);const b=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbygger","settings":"Innstillinger","about":"Om","pro":"Pro"},"settings":{"title":"Kortinnstillinger","description":"Konfigurer global kortutseende og oppfrsel."},"appearance":{"title":"Utseende","description":"Kontroller det visuelle utseendet til kortet ditt"},"spacing":{"title":"Avstand","description":"Kontroller avstanden og posisjoneringen til kortet ditt"},"fields":{"card_background_color":"Kort bakgrunnsfarge","card_background_color_desc":"Bakgrunnsfargen til hele kortet","border_radius":"Kantradius","border_radius_desc":"Avrundede hjrner for kortet (i piksler)","card_padding":"Kort polstring","card_padding_desc":"Intern avstand innenfor kortet","card_margin":"Kort marg","card_margin_desc":"Ekstern avstand rundt kortet","unit_px":"px","reset_default":"Tilbakestill til standard","reset_default_value":"Tilbakestill til standard ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"G til fullskjerm","return_dashboard":"Tilbake til dashbord","dashboard":"Dashbord"},"layout":{"live_preview":"Live forhndsvisning","toggle_preview":"Veksle forhndsvisning","drag_to_move_module":"Dra for  flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliser modul","delete_module":"Slett modul","drag_to_move_layout":"Dra for  flytte layoutmodul","horizontal_layout":"Horisontal layout","vertical_layout":"Vertikal layout","add_module_to_layout":"Legg til modul i layout","layout_settings":"Layoutinnstillinger","duplicate_layout":"Dupliser layout","delete_layout":"Slett layout","click_to_add_module":"Klikk for  legge til en modul","drop_modules_here":"Slipp moduler her","drag_to_reorder":"Dra for  endre rekkeflge","edit_child_module":"Rediger undermodul","duplicate_child_module":"Dupliser undermodul","delete_child_module":"Slett undermodul","module_settings_title":"Modulinnstillinger","general_tab":"Generelt","actions_tab":"Handlinger","other_tab":"Annet","logic_tab":"Logikk","design_tab":"Design","drag_to_resize":"Dra for  endre strrelse","hidden_by_logic":"Skjult av logikk","child_module_settings_title":"Undermodulinnstillinger","add_row":"Legg til rad","add_row_tooltip":"Legg til en ny rad til layoutet ditt","row_settings":"Radinnstillinger","column_settings":"Kolonneinnstillinger","row_background_color":"Rad bakgrunnsfarge","column_gap":"Kolonneavstand (px)","vertical_alignment":"Vertikal justering","horizontal_alignment":"Horisontal justering","column_preview":"Kolonneforhndsvisning","modules_count":"{count} moduler","alignment_top":"Topp","alignment_center":"Senter","alignment_bottom":"Bunn","alignment_stretch":"Strekk","alignment_left":"Venstre","alignment_right":"Hyre","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Utviklet av","desc1":"En kraftig modulr kortbygger for Home Assistant","desc2":"Lag tilpassede layouter med et profesjonelt sidebygger-grensesnitt","desc3":"Modulrt layoutsystem med betinget logikk og profesjonelle designverkty","github_repo":"GitHub-repositorium","version":"Versjon","join_discord":"Bli med p vr Discord","support_title":"Sttt Ultra Card","support_desc":"Dine sjenerse tips driver utviklingen av fantastiske funksjoner for dette kortet! Uten sttte fra brukere som deg, ville fortsatt innovasjon ikke vrt mulig.","leave_tip":"GI ET TIPS (PAYPAL)"},"actions":{"title":"Handlingskonfigurasjon","description":"Konfigurer hvordan denne modulen reagerer p brukerinteraksjoner. Bruker Home Assistants innebygde handlingssystem for konsistent oppfrsel p dashbordet ditt.","tap_action":"Trykk-handling","tap_action_desc":"Handling utfrt ved  trykke/klikke p modulen","hold_action":"Hold-handling","hold_action_desc":"Handling utfrt ved  holde nede p modulen","double_tap_action":"Dobbelttrykk-handling","double_tap_action_desc":"Handling utfrt ved dobbelttrykking p modulen","tap_behavior":"Trykk-oppfrsel","tap_behavior_desc":"Handling  utfre nr elementet trykkes/klikkes.","hold_behavior":"Hold-oppfrsel","hold_behavior_desc":"Handling  utfre nr elementet trykkes og holdes.","double_tap_behavior":"Dobbelttrykk-oppfrsel","double_tap_behavior_desc":"Handling  utfre nr elementet dobbeltrykkes/klikkes.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITETSKONFIGURASJON","desc":"Konfigurer entiteten og aktive/inaktive tilstander"},"entity":"Entitet","entity_desc":"Velg entiteten dette ikonet representerer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsverdi ansett som \\"inaktiv\\" (la st tom for  bruke faktisk entitetstilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsverdi ansett som \\"aktiv\\" (la st tom for  bruke faktisk entitetstilstand)","active_animation":"Aktiv animasjon","active_animation_desc":"Animasjon nr ikon er aktiv","active_icon":"Aktivt ikon","active_icon_background":"Aktivt ikon bakgrunn","active_icon_background_color":"Aktivt ikon bakgrunnsfarge","active_icon_color":"Aktivt ikon farge","active_icon_desc":"Ikon  vise nr aktiv","active_name":"Aktivt navn","active_name_color":"Aktivt navn farge","active_name_desc":"Tilpasset navn nr aktiv","active_state_color":"Aktiv tilstandsfarge","active_state_text":"Aktiv tilstandstekst","animation_bounce":"Hopp","animation_fade":"Fade","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter hyre","animation_scale":"Skaler","animation_section":{"desc":"Konfigurer animasjoner for aktive og inaktive tilstander","title":"Ikonanimasjon"},"animation_shake":"Rist","animation_spin":"Snurr","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Bakgrunnsfarge nr aktiv","background_color_inactive":"Bakgrunnsfarge nr inaktiv","background_section":{"desc":"Konfigurer inaktive bakgrunnsinnstillinger","title":"Inaktiv bakgrunn"},"background_shape_active":"Bakgrunnsform nr aktiv","background_shape_inactive":"Bakgrunnsform nr inaktiv","custom_active_name":"Tilpasset aktivt navn","custom_active_name_desc":"Overstyr entitetsnavn nr aktiv (la st tom for  bruke entitetsnavn)","custom_active_state":"Tilpasset aktiv tilstand","custom_active_state_desc":"Tilpasset tekst nr aktiv (la st tom for  bruke faktisk tilstand)","custom_inactive_name":"Tilpasset inaktivt navn","custom_inactive_name_desc":"Overstyr entitetsnavn nr inaktiv (la st tom for  bruke entitetsnavn)","custom_inactive_state":"Tilpasset inaktiv tilstand","custom_inactive_state_desc":"Tilpasset tekst nr inaktiv (la st tom for  bruke faktisk tilstand)","icon_color_active":"Farge nr aktiv","icon_color_inactive":"Farge nr inaktiv","icon_section":{"title":"Ikonkonfigurasjon"},"icon_size_active":"Ikonstrrelse nr aktiv","icon_size_inactive":"Ikonstrrelse nr inaktiv","inactive_animation":"Inaktiv animasjon","inactive_animation_desc":"Animasjon nr ikon er inaktiv","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Inaktivt ikon bakgrunn","inactive_icon_background_color":"Inaktivt ikon bakgrunnsfarge","inactive_icon_color":"Inaktivt ikon farge","inactive_icon_config":"Konfigurasjon av inaktivt ikon","inactive_icon_config_desc":"Konfigurer innstillinger for inaktivt ikon","inactive_icon_desc":"Ikon  vise nr inaktiv","inactive_name":"Inaktivt navn","inactive_name_color":"Inaktivt navn farge","inactive_name_config":"Konfigurasjon av inaktivt navn","inactive_name_config_desc":"Konfigurer innstillinger for inaktivt navn","inactive_name_desc":"Tilpasset navn nr inaktiv","inactive_state_color":"Inaktiv tilstandsfarge","inactive_state_config":"Konfigurasjon av inaktiv tilstand","inactive_state_config_desc":"Konfigurer innstillinger for inaktiv tilstand","inactive_state_text":"Inaktiv tilstandstekst","name_color_active":"Navnefarge nr aktiv","name_color_inactive":"Navnefarge nr inaktiv","name_section":{"title":"Navnekonfigurasjon"},"name_size_active":"Navnetekststrrelse nr aktiv","name_size_inactive":"Navnetekststrrelse nr inaktiv","state_color_active":"Tilstandsfarge nr aktiv","state_color_inactive":"Tilstandsfarge nr inaktiv","state_section":{"title":"Tilstandskonfigurasjon"},"state_size_active":"Tilstandstekststrrelse nr aktiv","state_size_inactive":"Tilstandstekststrrelse nr inaktiv","template":"Mal","template_mode":"Avansert malmodus","template_section":{"desc":"Bruk Jinja2-maler for avansert ikonkontroll. Maler kan kontrollere synlighet (sant/usant for  vise/skjule ikoner) og tilpasse tilstandstekst. Returner tilpasset tekst for aktiv tilstand, returner faktisk entitetstilstand for inaktiv tilstand.","title":"Avansert malmodus"}},"text":{"content_section":{"title":"Innholdskonfigurasjon","desc":"Konfigurer tekstinnholdet og grunnleggende innstillinger for denne modulen."},"text_content":"Tekstinnhold","text_content_desc":"Skriv inn tekstinnholdet som skal vises i denne modulen.","icon_section":{"title":"Ikonkonfigurasjon","desc":"Velg et ikon som skal vises sammen med tekstinnholdet."},"icon":"Ikon","icon_desc":"Velg et ikon som skal vises sammen med teksten. La st tom for ingen ikon.","icon_position":"Ikonposisjon","icon_position_desc":"Velg hvor ikonet skal plasseres i forhold til teksten.","before_text":"Fr tekst","after_text":"Etter tekst","template_mode":"Malmodus","template_mode_desc":"Bruk Home Assistant-malsyntaks for  gjengi tekst","value_template":"Verdimal","value_template_desc":"Mal for  gjengi teksten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_percent":"Med prosent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Stolpeinnstillinger","desc":"Konfigurer hvordan stolpeprosenten beregnes og vises."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattributt","difference":"Forskjell","template":"Mal"},"attribute_section":{"title":"Konfigurasjon av entitetsattributt","desc":"Konfigurer entitetsattributtinnstillinger"},"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet p attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","diff_section":{"title":"Konfigurasjon av forskjellsberegning","desc":"Konfigurer innstillinger for forskjellsberegning"},"current_entity":"Nvrende verdi-entitet","current_entity_desc":"Entitet som representerer nvrende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)","template_section":{"title":"Malkonfigurasjon","desc":"Konfigurer malinnstillinger"},"percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer stolpefyllet ved hjelp av forhndsinnstillinger som ladestiper, puls, gld og mer. Du kan utlse animasjoner basert p en entitets tilstand eller attributt, og eventuelt overstyre animasjonen nr en annen betingelse er oppfylt.","override":{"attribute_name_desc":"Attributtnavn  sammenligne","desc":"Velg en handlingsentitet og tilstand for  definere nr denne animasjonen skal overstyre den vanlige animasjonen","entity_desc":"Entitet  evaluere for overstyring av utlser","match_value":"Overstyr samsvarverdi","match_value_desc":"Tekstsammenligning mot tilstand eller attributt","title":"Overstyring av handlingsanimasjon","type":"Overstyr animasjonstype","type_desc":"Animasjon  bruke nr overstyringsbetingelsen samsvarer."},"title":"Stolpeanimasjon","trigger":{"attribute_name_desc":"Attributtnavn  sammenligne (f.eks. charging_status)","desc":"Velg en entitet  overvke og definer verdien + animasjonen  bruke nr den samsvarer.","entity_desc":"Entitet  evaluere for animasjonsutlser","match_value":"Samsvarverdi","match_value_desc":"Tekst  sammenligne mot tilstand eller attributt (sammenligning er tekstbasert).","title":"Animasjonsutlser","type":"Utlsertype","type_desc":"Velg om du vil sammenligne entitetstilstand eller et attributt"},"type":"Animasjonstype","type_desc":"Velg hvordan stolpen skal animeres nr utlst.","types":{"blinking":"Blinkende","bouncing":"Hoppende","bubbles":"Bobler","charging":"Lading (diagonale linjer)","fill":"Fyll","flicker":"Flimmer","glow":"Gld","heartbeat":"Hjerteslag","pulse":"Puls","rainbow":"Regnbue","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafikk (barberstang)","vibrate":"Vibrer"}},"appearance":{"alignment":"Stolpejustering","alignment_desc":"Velg hvordan stolpen skal justeres nr den er mindre enn 100% bredde.","border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjrnene til stolpen.","height":"Stolpehyde","height_desc":"Juster tykkelsen til fremdriftsstolpen i piksler.","style":"Stolpestil","style_dashed":"Stiplet","style_desc":"Velg den visuelle stilen til fremdriftsstolpen.","style_dots":"Dots","style_embossed":"Preget","style_flat":"Flat (standard)","style_glass":"Glass","style_glossy":"Blank","style_gradient":"Gradientoverlegg","style_inset":"Innfelt","style_metallic":"Metallisk","style_neon":"Neongld","style_neumorphic":"Neumorfisk","style_outline":"Omriss","title":"Stolpeutseende","direction":"Fylleretning","direction_desc":"Velg retningen stolpen fyller seg i nr verdien ker.","left_to_right":"Venstre til hyre","right_to_left":"Hyre til venstre","width":"Stolpebredde","width_desc":"Sett stolpebredden som prosent av beholder."},"attr_config":{"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet p attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","desc":"Konfigurer entitetsattributtinnstillinger","title":"Konfigurasjon av entitetsattributt"},"colors":{"background_color":"Bakgrunnsfarge","bar_color":"Stolpefarge","border_color":"Kantfarge","left_side":"Venstre side farger","limit_indicator":"Grenseindikator","percentage_text":"Prosenttekst","right_side":"Hyre side farger","title":"Farger","title_color":"Tittelfarge","value_color":"Verdifarge","text_color":"Tekstfarge","text_color_desc":"Velg fargen for teksten vist p stolpen."},"diff_config":{"current_entity":"Nvrende verdi-entitet","current_entity_desc":"Entitet som representerer nvrende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","desc":"Konfigurer innstillinger for forskjellsberegning","title":"Konfigurasjon av forskjellsberegning","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)"},"entity":{"desc_empty":"Velg en entitet som gir en prosentverdi (0-100). Batterisensorer er ideelle for stolper.","desc_present":"Entiteten som gir prosentverdien for stolpen.","no_entity_warning":"Ingen entitet valgt - Velg en sensor med verdier mellom 0-100","title":"Stolpe prosent-entitet"},"gradient":{"cropped":"Beskret","desc":"Bruk en fargegradient p stolpefyllet. Nr aktivert, velg hvordan gradienten vises og tilpass fargestopp nedenfor.","full":"Full","title":"Gradientmodus","value_based":"Verdibasert"},"labels":{"alignment":"Etikettjustering","alignment_desc":"Kontroller hvordan venstre og hyre etiketter er posisjonert."},"left":{"desc":"Konfigurer tittelen og entitetsverdien vist p venstre side av stolpen. Dette er nyttig for  vise etiketter som \'Rekkevidde\' eller \'Batteri\' sammen med deres verdier.","enable_toggle":"Aktiver bryteren over for  konfigurere venstre side innstillinger","template_desc":"Bruk en mal for  formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Venstre side","title_size":"Tittelstrrelse","value_size":"Verdistrrelse","value_template":"Verdimal","value_template_desc":"Mal for  formatere venstre side verdien ved hjelp av Jinja2-syntaks"},"limit_entity":{"desc":"Valgfritt: Legg til en vertikal indikatorlinje p stolpen (f.eks. ladegrense for EV-batteri).","title":"Grenseverdi-entitet (valgfritt)"},"percentage":{"desc":"Kontroller synligheten og utseendet til prosentverdier vist direkte p stolpen. Disse tallene gir en klar visuell indikator for nvrende niv.","text_alignment":"Prosenttekst justering","text_size":"Tekststrrelse","text_size_desc":"Juster strrelsen p prosenttekst vist p stolpen.","title":"Prosenttekst visning"},"right":{"desc":"Konfigurer tittelen og entitetsverdien vist p hyre side av stolpen. Dette er ideelt for utfyllende informasjon som \'Tid til full\' eller sekundre mlinger.","enable_toggle":"Aktiver bryteren over for  konfigurere hyre side innstillinger","template_desc":"Bruk en mal for  formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Hyre side","title_size":"Tittelstrrelse","value_size":"Verdistrrelse","value_template":"Verdimal","value_template_desc":"Mal for  formatere hyre side verdien ved hjelp av Jinja2-syntaks"},"template_config":{"desc":"Konfigurer malinnstillinger","percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Malkonfigurasjon"},"text_display":{"title":"Tekstvisning","desc":"Kontroller synligheten og utseendet til tekstverdier vist direkte p stolpen. For forskjells- og malmoduser kan du velge  vise r enhetsverdier i stedet for prosenter.","show_value":"Vis verdi i stedet for prosent","show_value_desc":"Nr aktivert, viser den faktiske enhetsverdien i stedet for prosent. Nyttig for  vise r sensorverdier som \\"45 kWh\\" i stedet for \\"75%\\".","text_size":"Tekststrrelse","text_size_desc":"Juster strrelsen p teksten vist p stolpen.","text_alignment":"Tekstjustering"}},"image":{"settings":"Bildeinnstillinger","source_type":"Bildekildetype","source_type_desc":"Velg hvordan du vil spesifisere bildekilden.","source":{"default":"Standardbilde","url":"Bilde-URL","upload":"Last opp bilde","entity":"Entitetsbilde","attribute":"Entitetsattributt"},"url_section":{"title":"Konfigurasjon av bilde-URL"},"image_url":"Bilde-URL","image_url_desc":"Skriv inn den direkte URL-en til bildet du vil vise.","upload_section":{"title":"Konfigurasjon av bildeopplasting"},"upload":"Last opp bilde","upload_desc":"Klikk for  laste opp en bildefil fra enheten din.","entity_section":{"title":"Konfigurasjon av entitetsbilde"},"entity":"Entitet","entity_desc":"Velg en entitet som har et bilde (f.eks. person, kameraentiteter).","attribute_section":{"title":"Konfigurasjon av entitetsattributt"},"entity_attr_desc":"Velg entiteten som inneholder bilde-URL-en i et av sine attributter.","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn attributtstien som inneholder bilde-URL-en (punktnotasjon stttet, f.eks. vehicle_data.vehicleDetails.generalDashboard).","width":"Bredde (%)","width_desc":"Sett bredden som en prosent av beholderen.","height":"Hyde (px)","height_desc":"Sett hyden i piksler.","crop_fit":"Beskjr og tilpass","crop_fit_desc":"Kontroller hvordan bildet passer innenfor sin beholder.","fit":{"cover":"Dekk (beskjr for  fylle)","contain":"Innhold (tilpass hele bildet)","fill":"Fyll (strekk for  passe)","scale_down":"Skaler ned","none":"Ingen (original strrelse)"},"border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjrnene til bildet.","tap_actions":"Trykk-handlinger","filters":"Filtre","filter":{"blur":"Uskarphet","blur_desc":"Bruk en uskarphet-effekt p bildet ditt.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrken til bildet ditt.","contrast":"Kontrast (%)","contrast_desc":"Endre kontrasten til bildet ditt.","saturation":"Metning (%)","saturation_desc":"Juster metningen til bildet ditt."},"hover":{"title":"Hover-effekter","effect_type":"Effekttype","effect_type_desc":"Velg typen hover-effekt.","scale":"Skaler (zoom inn/ut)","rotate":"Roter","fade":"Fade (gjennomsiktighetendring)","blur":"Uskarphet","brightness":"Lysstyrke","glow":"Gld (boksskygge)","slide":"Gli (oversett)","scale_amount":"Skaler (%)","scale_amount_desc":"Juster skaleringen av bildet ved hover.","rotate_amount":"Rotasjon ()","rotate_amount_desc":"Roter bildet ved hover.","opacity":"Gjennomsiktighet (%)","opacity_desc":"Endre gjennomsiktigheten til bildet ved hover.","blur_amount":"Uskarphet (px)","blur_amount_desc":"Bruk en uskarphet-effekt p bildet ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrken til bildet ved hover.","glow_intensity":"Gldintensitet","glow_intensity_desc":"Velg intensiteten til gldeffekten ved hover.","glow_light":"Lett gld","glow_medium":"Medium gld","glow_heavy":"Kraftig gld","glow_custom":"Tilpasset skygge","translate_x":"Horisontal (px)","translate_x_desc":"Oversett bildet horisontalt ved hover.","translate_y":"Vertikal (px)","translate_y_desc":"Oversett bildet vertikalt ved hover."},"alt":"Bilde","no_source":"Ingen bildekilde konfigurert"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Velg visualiseringsstilen for dataene dine."},"types":{"line":"Linjediagram","bar":"Stolpediagram","pie":"Sektordiagram","donut":"Smultringdiagram"},"data_sources":{"title":"Datakilder","add_entity":"Add Entity","add_first_entity":"Legg til din frste entitet for  lage et diagram","no_entities":"Ingen entiteter lagt til"},"entity":"Entitet","entity_desc":"Velg en entitet  plotte.","display_name_optional":"Visningsnavn (valgfritt)","use_as_card_info":"Bruk som kortinfo","attribute":"Attributt","attribute_desc":"Bruk entitetstilstand eller velg et spesifikt attributt  spore.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkter","fill_area":"Fyll omrde","line_style":"Linjestil","line_solid":"Hel","line_dashed":"Stiplet","line_dotted":"Prikket","pie_show_title":"Vis tittel i utsnitt","pie_show_value":"Vis verdi i utsnitt","expand_options":"Utvid alternativer","no_entities":"Ingen entiteter lagt til","add_first_entity":"Legg til din frste entitet for  lage et diagram","add_entity":"Add Entity","display_options":{"title":"Visningsalternativer"},"show_title":"Vis diagramtittel","show_value":"Vis diagramverdi","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","period":{"1h":"Siste time","3h":"Siste 3 timer","6h":"Siste 6 timer","12h":"Siste 12 timer","24h":"Siste 24 timer","2d":"Siste 2 dager","7d":"Siste uke","30d":"Siste mned","90d":"Siste 3 mneder","365d":"Siste r"},"normalize_values":"Normaliser verdier til samme skala","normalize_desc":"Nyttig nr du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","chart_height":"Diagramhyde","reset_345":"Tilbakestill til standard (345px)","chart_width":"Diagrambredde (%)","reset_100":"Tilbakestill til standard (100%)","agg":{"count":"Antall","delta":"Endring","first":"Frste verdi","last":"Siste verdi","max":"Maksimum","mean":"Gjennomsnitt","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Legg til utsnittgap","background_color":"Bakgrunnsfarge","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagrammet innenfor sin beholder.","chart_height":"Diagramhyde","chart_options":"Diagramalternativer","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","chart_width":"Diagrambredde (%)","chart_width_desc":"Prosent av modulens tilgjengelige bredde. Justering styrer plassering.","info_position":"Infoposisjon","info_position_desc":"Posisjon til overlegget som viser navn/verdi.","legend_position":"Legendeposisjon","legend_position_desc":"Hvor legenden skal plasseres nr aktivert.","normalize_desc":"Nyttig nr du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","normalize_values":"Normaliser verdier til samme skala","show_grid":"Vis rutenett","show_legend":"Vis legende","show_title":"Vis diagramtittel","show_tooltips":"Vis verktytips","show_value":"Vis diagramverdi","smooth_lines":"Glatte linjer","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","title":"Visningsalternativer","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Fyll omrde","line_style":"Linjestil","line_width":"Linjebredde","show_points":"Vis punkter"},"line_styles":{"dashed":"Stiplet","dotted":"Prikket","solid":"Hel"},"pie":{"show_title":"Vis tittel i utsnitt","show_value":"Vis verdi i utsnitt"},"position":{"bottom":"Bunn","bottom_left":"Nederst til venstre","bottom_right":"Nederst til hyre","center":"Senter","hidden":"Skjult","left":"Venstre","middle":"Senter","right":"Hyre","top":"Topp","top_left":"verst til venstre","top_right":"verst til hyre"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Grunninnstillinger","desc":"Konfigurer knappens utseende og tekstinnhold."},"text":{"title":"Knapptekst","desc":"Tekst som skal vises p knappen (la st tom for kun ikon)."},"style":{"title":"Knappstil","desc":"Visuell stil for knappen"},"alignment":{"title":"Justering","desc":"Hvordan knappen er justert innenfor sin beholder"},"styles":{"flat":"Flat (standard)","glossy":"Blank","embossed":"Preget","inset":"Innfelt","gradient_overlay":"Gradientoverlegg","neon_glow":"Neongld","outline":"Omriss","glass":"Glass","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Senter","right":"Hyre","justify":"Juster (full bredde)"},"icon":{"title":"Ikoninnstillinger","desc":"Konfigurer ikonvisning og posisjonering for knappen.","before":"Fr tekst","after":"Etter tekst","enable_toggle_desc":"Aktiver bryteren over for  konfigurere ikoninnstillinger"},"colors":{"title":"Farger","background":"Bakgrunnsfarge","text":"Tekstfarge"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Velg hover-effekten for denne knappen.","none":"Ingen","color":"Fargeendring","scale":"Skaler","glow":"Gld","lift":"Lft (oversett Y)","hover_color":"Hover-farge","glow_color":"Gldfarge","title":"Hover-effekter","enable_toggle_desc":"Aktiver bryteren over for  konfigurere hover-effekter"},"actions":{"type":"Handlingstype","type_desc":"Velg hva som skjer nr knappen klikkes","entity":"Entitet","entity_desc":"Velg entiteten  samhandle med","navigation_path":"Navigasjonsbane","navigation_path_desc":"Bane  navigere til (f.eks. /dashboard/energy)","service":"Tjeneste","service_desc":"Tjeneste  kalle (f.eks. light.turn_on)","service_data":"Tjenestedata (JSON)","service_data_desc":"Valgfrie data  sende til tjenesten (JSON-format)"},"tap":{"title":"Trykk-handling","desc":"Handling  utfre nr knappen trykkes"},"hold":{"title":"Hold-handling","desc":"Handling  utfre nr knappen holdes nede"},"double":{"title":"Dobbelttrykk-handling","desc":"Handling  utfre nr knappen dobbeltrykkes"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon p knappen","icon_desc":"Ikon som skal vises (f.eks. mdi:home)","icon_position":"Ikonposisjon","icon_position_desc":"Posisjon til ikonet relativt til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURASJON"},"entity":"Entitet","entity_desc":"Velg entiteten som skal vises","icon_section":{"title":"Ikoninnstillinger"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon ved siden av entitetsverdien","icon":"Ikon","icon_desc":"Velg et ikon som skal vises","icon_color":"Ikonfarge","name_section":{"title":"Navneinnstillinger"},"show_name":"Vis navn","show_name_desc":"Vis entitetsnavnet over verdien","custom_name":"Tilpasset navn","custom_name_desc":"Overstyr entitetsnavnet med et tilpasset navn","name_color":"Navnefarge","state_section":{"title":"Tilstandsinnstillinger"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/verdi","show_units":"Vis enheter","show_units_desc":"Vis mleenheten (hvis tilgjengelig)","state_color":"Tilstandsfarge","template":{"title":"Malmodus","desc":"Bruk en mal for  formatere entitetsverdien. Maler lar deg bruke Home Assistants malsyntaks for kompleks formatering.","mode":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for  formatere verdien","value":"Verdimal","value_desc":"Mal for  formatere entitetsverdien ved hjelp av Jinja2-syntaks"},"size_section":{"title":"Strrelsesinnstillinger"},"icon_size":"Ikonstrrelse","icon_size_desc":"Strrelse p ikonet i piksler","name_size":"Navnestrrelse","name_size_desc":"Strrelse p entitetsnavnteksten i piksler","value_size":"Verdistrrelse","value_size_desc":"Strrelse p entitetsverditeksten i piksler","icon_gap":"Ikonavstand","icon_gap_desc":"Avstand mellom ikon og innhold i piksler","layout_section":{"title":"Layout og posisjonering"},"icon_position":"Ikonposisjon","overall_alignment":"Overordnet justering","icon_alignment":"Ikonjustering","content_alignment":"Innholdsjustering","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_units":"Med enheter","example_round":"Avrund til 1 desimal"},"camera":{"config":{"title":"Kamerakonfigurasjon","desc":"Konfigurer kameraentiteten og visningsinnstillinger."},"entity":"Kameraentitet","entity_desc":"Velg kameraentiteten som skal vises. Dette br vre en kamera- eller mjpeg-entitet fra Home Assistant.","name":"Kameranavn","name_desc":"Tilpasset navn for kameraet. La st tom for  bruke entitetsnavn.","show_name":"Vis kameranavn","show_name_desc":"Vis kameranavnet p feeden","name_position":{"group_title":"Kameranavn posisjon","title":"Navneposisjon","desc":"Velg hvor kameranavnet vises som et overlegg p kamerabildet.","options":{"top_left":"verst til venstre","top_right":"verst til hyre","center":"Senter","bottom_left":"Nederst til venstre","bottom_right":"Nederst til hyre"}},"display":{"title":"Visningsinnstillinger"},"live_view":{"title":"Live visning","desc":"Aktiver for  vise live kamerastrm (krever strm-integrasjon). Nr deaktivert, vises stillbildeyeblikksbilder."},"auto_refresh":{"section_title":"Automatiske oppdateringsinnstillinger","title":"Automatisk oppdatering","desc":"Oppdater automatisk kamerabildet med jevne mellomrom"},"refresh_interval":{"title":"Oppdateringsintervall (sekunder)","desc":"Hvor ofte kamerabildet skal oppdateres automatisk."},"dimensions":{"title":"Dimensjoner"},"width":"Bredde (px)","width_desc":"Sett bredden p kameravisningen. Omrde: 100-1000px","height":"Hyde (px)","height_desc":"Sett hyden p kameravisningen. Omrde: 100-1000px","link_aspect":"Koble strrelsesforhold","unlink_aspect":"Frakoble strrelsesforhold","aspect_linked":{"title":"Strrelsesforhold koblet","desc":"Dimensjoner opprettholder {ratio}:1 forhold. Justering av en dimensjon oppdaterer automatisk den andre for  opprettholde proporsjoner."},"aspect_independent":{"title":"Uavhengige dimensjoner","desc":"Bredde og hyde kan justeres uavhengig. Klikk p koblingknappen over for  opprettholde strrelsesforhold."},"crop":{"title":"Beskjr og posisjon","desc":"Juster beskjringen og posisjonen til kameravisningen. Nyttig for  fokusere p spesifikke omrder eller fjerne unskede kanter.","left_title":"Venstre beskjring (%)","left_desc":"Beskjr fra venstre kant. Hyere verdier viser mindre av venstre side.","right_title":"Hyre beskjring (%)","right_desc":"Beskjr fra hyre kant. Hyere verdier viser mindre av hyre side.","top_title":"Topp beskjring (%)","top_desc":"Beskjr fra topp kant. Hyere verdier viser mindre av toppomrdet.","bottom_title":"Bunn beskjring (%)","bottom_desc":"Beskjr fra bunn kant. Hyere verdier viser mindre av bunnomrdet.","active_applied":"Aktive beskjringer anvendt","reset_all":"Tilbakestill alle beskjringer"},"template":{"title":"Malmodus","desc":"Bruk en mal for  dynamisk sette kameraentiteten. Maler lar deg bruke Home Assistants malsyntaks for betinget kameravalg.","mode_label":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for  dynamisk velge kameraentitet","camera_template_label":"Kameramal","camera_template_desc":"Mal for  dynamisk sette kameraentiteten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example1_desc":"Vis kamera nr vret er solrikt","example2_desc":"Bytt mellom kameraer basert p input boolean","example3_desc":"Bruk input select for  velge kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktiver bryteren over for  konfigurere kameranavn visning"}},"separator":{"config":{"title":"Separatorkonfigurasjon"},"style":{"title":"Separatorstil","desc":"Velg den visuelle stilen til separatorlinjen."},"options":{"solid":"Hel linje","double":"Dobbel linje","dotted":"Prikket linje","double_dotted":"Dobbel prikket","shadow":"Skygge","blank":"Tomt rom"},"appearance":{"title":"Utseende"},"thickness":"Tykkelse (px)","thickness_desc":"Tykkelse p separatorlinjen.","width":"Bredde (%)","width_desc":"Bredde p separatoren som prosent av beholder.","color":{"title":"Farge","desc":"Farge p separatorlinjen."},"show_title":"Vis tittel","show_title_desc":"Legg til tekst i midten av separatorlinjen (f.eks. ------ Tekst ------)","text_content":{"title":"Tekstinnhold","desc":"Tekst som skal vises i midten av separatoren."},"font_size":"Skriftstrrelse","font_size_desc":"Strrelse p teksten i piksler.","text_color":{"title":"Tekstfarge","desc":"Farge p separatorteksten."},"text_format":{"title":"Tekstformatering","desc":"Bruk formateringsstiler p separatorteksten.","bold":"Fet","italic":"Kursiv","underline":"Understreking","uppercase":"Store bokstaver","strikethrough":"Gjennomstreking"},"spacer":{"title":"Avstandshyde"},"height":"Hyde (px)","height_desc":"Styrer det visuelle gapet for tomt rom.","show_title_toggle":{"enable_toggle_desc":"Aktiver bryteren over for  konfigurere tittelinnstillinger"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Modulnavn:","module_name_placeholder":"Gi denne modulen et tilpasset navn for  gjre det lettere  identifisere i redigereren.","module_name_help":"Gi denne modulen et tilpasset navn for  gjre det lettere  identifisere i redigereren."},"layout_logic":{"display_title":"Vis dette elementet","display_desc":"Kontroller nr dette elementet vises. Velg \\"Alltid\\" for  holde det synlig. Velg \\"Hvis ALLE betingelser nedenfor er oppfylt\\" eller \\"Hvis NOEN betingelse nedenfor er oppfylt\\" for  vise det bare nr betingelsene du legger til nedenfor evalueres som sanne.","always":"Alltid","every":"Hvis ALLE betingelser nedenfor er oppfylt","any":"Hvis NOEN betingelse nedenfor er oppfylt","conditions":"Betingelser","add_condition":"Legg til betingelse","no_conditions":"Ingen betingelser lagt til enn. Klikk \\"Legg til betingelse\\" for  komme i gang.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattributt","time":"Tidsomrde","template":"Mal"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Verdi","attribute":"Attributt","time_from":"Fra","time_to":"Til","template":"Mal"},"condition_header":"Betingelse","custom_name":"Tilpasset navn","custom_name_desc":"Valgfritt: Gi denne betingelsen et tilpasset navn for enklere identifikasjon","condition_type":"Betingelsestype"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurer visuelle effekter som vises nr du hover over denne modulen, raden eller kolonnen.","effect":"Hover-effekt","effect_desc":"Velg den visuelle effekten som skal brukes ved hovring","effects":{"none":"Ingen","highlight":"Uthev","outline":"Kontur","grow":"Voks","shrink":"Krympe","pulse":"Pulsere","bounce":"Sprette","float":"Flyte","glow":"Glde","shadow":"Skygge","rotate":"Rotere","skew":"Skjevt","wobble":"Vakle","buzz":"Vibrere","fade":"Falme"}},"design":{"copy":"Kopier","paste":"Lim inn","reset_all":"Tilbakestill alt","copy_tooltip":"Kopier nvrende designinnstillinger (virker p tvers av alle Ultra Cards)","paste_tooltip_has":"Lim inn kopierte designinnstillinger (fra tverrkort-utklippstavle)","paste_tooltip_none":"Ingen designinnstillinger i tverrkort-utklippstavle","reset_all_tooltip":"Tilbakestill alle designinnstillinger til standard","text_section":"Tekst","text_color":"Tekstfarge","alignment":"Justering","inherit_alignment":"Arv (ingen justering)","font_size":"Skriftstrrelse","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Tilbakestill skriftstrrelse til standard","line_height":"Linjehyde","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Tilbakestill linjehyde til standard","letter_spacing":"Bokstavavstand","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Tilbakestill bokstavavstand til standard","font":"Skrifttype","font_weight":"Skriftvekt","text_transform":"Teksttransformasjon","font_style":"Skriftstil","default_option":" Standard ","weight_thin":"100 - Tynn","weight_light":"300 - Lett","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Halvfet","weight_bold":"700 - Fet","weight_black":"900 - Svart","transform_none":"Ingen","transform_uppercase":"STORE BOKSTAVER","transform_lowercase":"sm bokstaver","transform_capitalize":"Stor forbokstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skr","background_section":"Bakgrunn","background_color":"Bakgrunnsfarge","background_image_type":"Bakgrunnsbilde type","bg_none":"Ingen","bg_upload":"Last opp bilde","bg_entity":"Entitetsbilde","bg_url":"Bilde-URL","sizes_section":"Strrelser","spacing_section":"Avstand","border_section":"Kant","text_shadow_section":"Tekstskygge","box_shadow_section":"Boksskygge","position_section":"Posisjon","overflow_section":"Overflyt","animations_section":"Animasjoner","width":"Bredde","height":"Hyde","max_width":"Maks bredde","max_height":"Maks hyde","min_width":"Min bredde","min_height":"Min hyde","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredde","border_color":"Kantfarge","margin":"Margin","padding":"Polstring","top":"Topp","right":"Hyre","bottom":"Bunn","left":"Venstre","unlock_sides":"Ls opp for  redigere sider uavhengig","lock_sides":"Ls for  redigere alle sider sammen","horizontal_shift":"Horisontal forskyvning","vertical_shift":"Vertikal forskyvning","blur":"Uskarphet","text_shadow_color":"Tekstskygge farge","box_shadow_color":"Boksskygge farge","overflow":"Overflyt","clip_path":"Klippebane","upload_bg_image":"Last opp bakgrunnsbilde","bg_image_entity":"Bakgrunnsbilde-entitet","bg_image_url":"Bakgrunnsbilde-URL","choose_file":"Velg fil","no_file_chosen":"Ingen fil valgt","backdrop_filter":"Bakgrunnsfilter","spread":"Spredning","visible_default":"Synlig (standard)","examples":"Eksempler","state_based_animation":"Tilstandsbasert animasjon","animation_type":"Animasjonstype","animation_duration":"Animation Duration","animation_duration_desc":"Varighet for animasjonen (f.eks. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outro-animasjoner","intro_animation":"Intro-animasjon","outro_animation":"Outro-animasjon","duration":"Varighet","delay":"Forsinkelse","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Hel","border_style_dashed":"Stiplet","border_style_dotted":"Prikket","border_style_double":"Double","position_default":" Standard ","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolutt","position_fixed":"Fast","position_sticky":"Klebrig"},"modules":{"text":"Tekstmodul","image":"Bildemodul","icon":"Ikonmodul","bar":"Stolpemodul","info":"Infomodul","button":"Knappmodul","separator":"Separatormodul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Grafmodul","no_text_configured":"Ingen tekst konfigurert","no_image_configured":"Ingen bilde konfigurert","uploaded_image":"Opplastet bilde","icons_configured":"{count} ikoner konfigurert","no_icons_configured":"Ingen ikoner konfigurert","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Attributt","attribute_name":"Attributtnavn","baseline":"Grunnlinje","bottom":"Bunn","center":"Senter","entity":"Entitet","justify":"Juster","left":"Venstre","none":"Ingen","right":"Hyre","space_around":"Plass rundt","space_between":"Plass mellom","state":"Tilstand","stretch":"Strekk","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Horisontal justering","horizontal_desc":"Velg hvordan elementer justeres horisontalt innenfor beholderen.","vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for  se dem her","no_modules":"Ingen moduler lagt til enn"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom horisontale elementer (i rem-enheter). Bruk negative verdier for  overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres horisontalt innenfor beholderen.","title":"Layoutkonfigurasjon"},"wrapping":{"desc":"Tillat elementer  bryte til neste linje nr de overskrider beholderbredden.","title":"Tillat ombrytning"}},"markdown":{"code_highlighting":"Kodemarkering","code_highlighting_desc":"Syntaksmarkering for kodeblokker","content":{"desc":"Skriv inn ditt markdown-innhold med full formateringssttte","label":"Innhold","title":"Markdown-innhold"},"enable_html":"Aktiver HTML","enable_html_desc":"Tillat HTML-tagger i markdown-innhold","enable_tables":"Aktiver tabeller","enable_tables_desc":"Sttte for markdown-tabellsyntaks","features":{"title":"Markdown-funksjoner"}},"vertical":{"alignment":{"vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for  se dem her","no_modules":"Ingen moduler lagt til enn"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom vertikale elementer (i rem-enheter). Bruk negative verdier for  overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres vertikalt innenfor beholderen.","title":"Layoutkonfigurasjon"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var y=i.t(b,2);const k=JSON.parse('{"editor":{"tabs":{"layout":"Lay-outbouwer","settings":"Instellingen","about":"Over","pro":"Pro"},"settings":{"title":"Kaart instellingen","description":"Configureer globale kaart uiterlijk en gedrag."},"appearance":{"title":"Uiterlijk","description":"Beheer het visuele uiterlijk van je kaart"},"spacing":{"title":"Afstand","description":"Beheer de afstand en positionering van je kaart"},"fields":{"card_background_color":"Achtergrondkleur kaart","card_background_color_desc":"De achtergrondkleur van de hele kaart","border_radius":"Randradius","border_radius_desc":"Afgeronde hoeken van de kaart (in pixels)","card_padding":"Binnenmarge","card_padding_desc":"Interne afstand binnen de kaart","card_margin":"Buitenmarge","card_margin_desc":"Externe afstand rondom de kaart","unit_px":"px","reset_default":"Standaard herstellen","reset_default_value":"Standaard herstellen ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Volledig scherm","return_dashboard":"Terug naar dashboard","dashboard":"Dashboard"},"layout":{"live_preview":"Live voorvertoning","toggle_preview":"Voorvertoning schakelen","drag_to_move_module":"Sleep om module te verplaatsen","edit_module":"Module bewerken","duplicate_module":"Module dupliceren","delete_module":"Module verwijderen","drag_to_move_layout":"Sleep om lay-out te verplaatsen","horizontal_layout":"Horizontale lay-out","vertical_layout":"Verticale lay-out","add_module_to_layout":"Module aan lay-out toevoegen","layout_settings":"Lay-outinstellingen","duplicate_layout":"Lay-out dupliceren","delete_layout":"Lay-out verwijderen","click_to_add_module":"Klik om een module toe te voegen","drop_modules_here":"Zet modules hier neer","drag_to_reorder":"Sleep om te herordenen","edit_child_module":"Submodule bewerken","duplicate_child_module":"Submodule dupliceren","delete_child_module":"Submodule verwijderen","module_settings_title":"Module instellingen","general_tab":"Algemeen","actions_tab":"Acties","other_tab":"Overig","logic_tab":"Logica","design_tab":"Ontwerp","drag_to_resize":"Sleep om formaat te wijzigen","hidden_by_logic":"Verborgen door logica","child_module_settings_title":"Instellingen submodule","add_row":"Rij toevoegen","add_row_tooltip":"Voeg een nieuwe rij toe aan je lay-out","row_settings":"Rij-instellingen","column_settings":"Kolom-instellingen","row_background_color":"Achtergrondkleur rij","column_gap":"Kolomafstand (px)","vertical_alignment":"Verticale uitlijning","horizontal_alignment":"Horizontale uitlijning","column_preview":"Kolomvoorbeeld","modules_count":"{count} modules","alignment_top":"Boven","alignment_center":"Midden","alignment_bottom":"Onder","alignment_stretch":"Uitrekken","alignment_left":"Links","alignment_right":"Rechts","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Ontwikkeld door","desc1":"Een krachtige modulaire kaartbouwer voor Home Assistant","desc2":"Maak aangepaste lay-outs met een professionele page-builder interface","desc3":"Modulair lay-out systeem met conditionele logica en professionele ontwerptools","github_repo":"GitHub-repository","version":"Versie","join_discord":"Word lid van onze Discord","support_title":"Steun Ultra Card","support_desc":"Jouw gulle donaties stimuleren de ontwikkeling van geweldige functies voor deze kaart! Zonder steun van gebruikers zoals jij zou voortdurende innovatie niet mogelijk zijn.","leave_tip":"GEVEN (PAYPAL)"},"actions":{"title":"Actieconfiguratie","description":"Configureer hoe deze module reageert op gebruikersinteracties. Maakt gebruik van Home Assistant\'s eigen actiesysteem voor consistent gedrag in je dashboard.","tap_action":"Tik-actie","tap_action_desc":"Actie uitgevoerd bij tikken/klikken op de module","hold_action":"Vasthoud-actie","hold_action_desc":"Actie uitgevoerd bij vasthouden op de module","double_tap_action":"Dubbel-tik actie","double_tap_action_desc":"Actie uitgevoerd bij dubbel tikken op de module","tap_behavior":"Tik-gedrag","tap_behavior_desc":"Actie die wordt uitgevoerd wanneer het element wordt getikt/geklikt.","hold_behavior":"Vasthoud-gedrag","hold_behavior_desc":"Actie die wordt uitgevoerd wanneer het element wordt ingedrukt en vastgehouden.","double_tap_behavior":"Dubbel-tik gedrag","double_tap_behavior_desc":"Actie die wordt uitgevoerd wanneer het element dubbel wordt getikt/geklikt.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITEIT CONFIGURATIE","desc":"Configureer de entiteit en actieve/inactieve toestanden"},"entity":"Entiteit","entity_desc":"Selecteer de entiteit die dit icoon vertegenwoordigt","inactive_state":"Inactieve toestand","inactive_state_desc":"Toestandswaarde beschouwd als \\"inactief\\" (laat leeg om werkelijke entiteitstoestand te gebruiken)","active_state":"Actieve toestand","active_state_desc":"Toestandswaarde beschouwd als \\"actief\\" (laat leeg om werkelijke entiteitstoestand te gebruiken)","active_animation":"Actieve animatie","active_animation_desc":"Animatie wanneer icoon actief is","active_icon":"Actief icoon","active_icon_background":"Actief icoon achtergrond","active_icon_background_color":"Actief icoon achtergrondkleur","active_icon_color":"Actief icoon kleur","active_icon_desc":"Icoon om te tonen wanneer actief","active_name":"Actieve naam","active_name_color":"Actieve naam kleur","active_name_desc":"Aangepaste naam wanneer actief","active_state_color":"Actieve toestandskleur","active_state_text":"Actieve toestandstekst","animation_bounce":"Stuiter","animation_fade":"Vervagen","animation_flash":"Flits","animation_none":"Geen","animation_pulse":"Puls","animation_rotate_left":"Draai links","animation_rotate_right":"Draai rechts","animation_scale":"Schaal","animation_section":{"desc":"Configureer animaties voor actieve en inactieve toestanden","title":"Icoon animatie"},"animation_shake":"Schudden","animation_spin":"Draaien","animation_tada":"Tada","animation_vibrate":"Trillen","background_color_active":"Achtergrondkleur wanneer actief","background_color_inactive":"Achtergrondkleur wanneer inactief","background_section":{"desc":"Configureer inactieve achtergrondinstellingen","title":"Inactieve achtergrond"},"background_shape_active":"Achtergrondvorm wanneer actief","background_shape_inactive":"Achtergrondvorm wanneer inactief","custom_active_name":"Aangepaste actieve naam","custom_active_name_desc":"Overschrijf entiteitsnaam wanneer actief (laat leeg om entiteitsnaam te gebruiken)","custom_active_state":"Aangepaste actieve toestand","custom_active_state_desc":"Aangepaste tekst wanneer actief (laat leeg om werkelijke toestand te gebruiken)","custom_inactive_name":"Aangepaste inactieve naam","custom_inactive_name_desc":"Overschrijf entiteitsnaam wanneer inactief (laat leeg om entiteitsnaam te gebruiken)","custom_inactive_state":"Aangepaste inactieve toestand","custom_inactive_state_desc":"Aangepaste tekst wanneer inactief (laat leeg om werkelijke toestand te gebruiken)","icon_color_active":"Kleur wanneer actief","icon_color_inactive":"Kleur wanneer inactief","icon_section":{"title":"Icoon configuratie"},"icon_size_active":"Icoongrootte wanneer actief","icon_size_inactive":"Icoongrootte wanneer inactief","inactive_animation":"Inactieve animatie","inactive_animation_desc":"Animatie wanneer icoon inactief is","inactive_icon":"Inactief icoon","inactive_icon_background":"Inactief icoon achtergrond","inactive_icon_background_color":"Inactief icoon achtergrondkleur","inactive_icon_color":"Inactief icoon kleur","inactive_icon_config":"Inactieve icoon configuratie","inactive_icon_config_desc":"Configureer inactieve icoon instellingen","inactive_icon_desc":"Icoon om te tonen wanneer inactief","inactive_name":"Inactieve naam","inactive_name_color":"Inactieve naam kleur","inactive_name_config":"Inactieve naam configuratie","inactive_name_config_desc":"Configureer inactieve naam instellingen","inactive_name_desc":"Aangepaste naam wanneer inactief","inactive_state_color":"Inactieve toestandskleur","inactive_state_config":"Inactieve toestand configuratie","inactive_state_config_desc":"Configureer inactieve toestand instellingen","inactive_state_text":"Inactieve toestandstekst","name_color_active":"Naamkleur wanneer actief","name_color_inactive":"Naamkleur wanneer inactief","name_section":{"title":"Naam configuratie"},"name_size_active":"Naamtekstgrootte wanneer actief","name_size_inactive":"Naamtekstgrootte wanneer inactief","state_color_active":"Toestandskleur wanneer actief","state_color_inactive":"Toestandskleur wanneer inactief","state_section":{"title":"Toestand configuratie"},"state_size_active":"Toestandstekstgrootte wanneer actief","state_size_inactive":"Toestandstekstgrootte wanneer inactief","template":"Sjabloon","template_mode":"Geavanceerde sjabloonmodus","template_section":{"desc":"Gebruik Jinja2-sjablonen voor geavanceerde icoonbesturing. Sjablonen kunnen zichtbaarheid controleren (waar/onwaar om iconen te tonen/verbergen) en toestandstekst aanpassen. Retourneer aangepaste tekst voor actieve toestand, retourneer werkelijke entiteitstoestand voor inactieve toestand.","title":"Geavanceerde sjabloonmodus"}},"text":{"content_section":{"title":"Inhoud configuratie","desc":"Configureer de tekstinhoud en basisinstellingen voor deze module."},"text_content":"Tekstinhoud","text_content_desc":"Voer de tekstinhoud in om weer te geven in deze module.","icon_section":{"title":"Icoon configuratie","desc":"Kies een icoon om weer te geven naast de tekstinhoud."},"icon":"Icoon","icon_desc":"Kies een icoon om weer te geven naast de tekst. Laat leeg voor geen icoon.","icon_position":"Icoon positie","icon_position_desc":"Kies waar het icoon moet worden gepositioneerd ten opzichte van de tekst.","before_text":"Voor tekst","after_text":"Na tekst","template_mode":"Sjabloon modus","template_mode_desc":"Gebruik Home Assistant sjabloon syntaxis om tekst te renderen","value_template":"Waarde sjabloon","value_template_desc":"Sjabloon om de tekst te renderen met Jinja2-syntaxis","examples_title":"Veelvoorkomende voorbeelden:","example_basic":"Basiswaarde","example_percent":"Met procent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Balk instellingen","desc":"Configureer hoe het balkpercentage wordt berekend en weergegeven."},"perc_type":{"entity":"Entiteit (0-100)","attribute":"Entiteit attribuut","difference":"Verschil","template":"Sjabloon"},"attribute_section":{"title":"Entiteit attribuut configuratie","desc":"Configureer entiteit attribuut instellingen"},"attribute_entity":"Attribuut entiteit","attribute_entity_desc":"Selecteer de entiteit die het attribuut bevat met de percentagewaarde","attribute_name":"Attribuut naam","attribute_name_desc":"Voer de naam in van het attribuut dat de percentagewaarde bevat (bijv. \\"battery_level\\")","diff_section":{"title":"Verschil berekening configuratie","desc":"Configureer verschil berekening instellingen"},"current_entity":"Huidige waarde entiteit","current_entity_desc":"Entiteit die de huidige/gebruikte hoeveelheid vertegenwoordigt (bijv. gebruikt brandstof, verbruikte batterij)","total_entity":"Totale waarde entiteit","total_entity_desc":"Entiteit die de totale/maximale hoeveelheid vertegenwoordigt (bijv. brandstofcapaciteit, batterijcapaciteit)","template_section":{"title":"Sjabloon configuratie","desc":"Configureer sjabloon instellingen"},"percentage_template":"Percentage sjabloon","percentage_template_desc":"Voer een Jinja2-sjabloon in die een getal tussen 0-100 retourneert voor het percentage. Voorbeeld: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animeer de balkvulling met voorinstellingen zoals laadstrepen, puls, gloed en meer. Je kunt animaties activeren op basis van een entiteit\'s toestand of attribuut, en optioneel de animatie overschrijven wanneer aan een andere voorwaarde wordt voldaan.","override":{"attribute_name_desc":"Attribuut naam om te vergelijken","desc":"Selecteer een actie-entiteit en toestand om te definiren wanneer deze animatie de reguliere animatie moet overschrijven","entity_desc":"Entiteit om te evalueren voor overschrijving trigger","match_value":"Overschrijf overeenkomstwaarde","match_value_desc":"Tekstvergelijking tegen toestand of attribuut","title":"Actie animatie overschrijving","type":"Overschrijf animatietype","type_desc":"Animatie om te gebruiken wanneer overschrijvingsvoorwaarde overeenkomt."},"title":"Balk animatie","trigger":{"attribute_name_desc":"Attribuut naam om te vergelijken (bijv. charging_status)","desc":"Selecteer een entiteit om te bekijken en definieer de waarde + animatie om toe te passen wanneer het overeenkomt.","entity_desc":"Entiteit om te evalueren voor animatie trigger","match_value":"Overeenkomstwaarde","match_value_desc":"Tekst om te vergelijken met toestand of attribuut (vergelijking is tekstgebaseerd).","title":"Animatie trigger","type":"Trigger type","type_desc":"Kies of entiteitstoestand of een attribuut moet worden vergeleken"},"type":"Animatietype","type_desc":"Selecteer hoe de balk moet animeren wanneer geactiveerd.","types":{"blinking":"Knipperend","bouncing":"Stuiterend","bubbles":"Bubbels","charging":"Opladen (diagonale lijnen)","fill":"Vullen","flicker":"Flikkeren","glow":"Gloeien","heartbeat":"Hartslag","pulse":"Puls","rainbow":"Regenboog","ripple":"Rimpeling","shimmer":"Glinsteren","traffic":"Verkeer (kapperspaal)","vibrate":"Trillen"}},"appearance":{"direction":"Vulrichting","direction_desc":"Kies de richting waarin de balk vult naarmate de waarde toeneemt.","left_to_right":"Links naar rechts","right_to_left":"Rechts naar links","alignment":"Balk uitlijning","alignment_desc":"Kies hoe de balk moet worden uitgelijnd wanneer deze minder dan 100% breed is.","border_radius":"Randradius","border_radius_desc":"Beheer de afgeronde hoeken van de balk.","height":"Balk hoogte","height_desc":"Pas de dikte van de voortgangsbalk aan in pixels.","style":"Balk stijl","style_dashed":"Dashed","style_desc":"Kies de visuele stijl van de voortgangsbalk.","style_dots":"Dots","style_embossed":"Relif","style_flat":"Plat (standaard)","style_glass":"Glas","style_glossy":"Glanzend","style_gradient":"Gradient overlay","style_inset":"Inzet","style_metallic":"Metalliek","style_neon":"Neon gloed","style_neumorphic":"Neumorfisch","style_outline":"Omtrek","title":"Balk uiterlijk","width":"Balk breedte","width_desc":"Stel de balkbreedte in als percentage van de container."},"attr_config":{"attribute_entity":"Attribuut entiteit","attribute_entity_desc":"Selecteer de entiteit die het attribuut bevat met de percentagewaarde","attribute_name":"Attribuut naam","attribute_name_desc":"Voer de naam in van het attribuut dat de percentagewaarde bevat (bijv. \\"battery_level\\")","desc":"Configureer entiteit attribuut instellingen","title":"Entiteit attribuut configuratie"},"colors":{"background_color":"Achtergrondkleur","bar_color":"Balkkleur","border_color":"Randkleur","left_side":"Linkerkant kleuren","limit_indicator":"Limiet indicator","percentage_text":"Percentage tekst","right_side":"Rechterkant kleuren","title":"Kleuren","title_color":"Titelkleur","value_color":"Waardekleur","text_color":"Tekstkleur","text_color_desc":"Kies de kleur voor de tekst die op de balk wordt weergegeven."},"diff_config":{"current_entity":"Huidige waarde entiteit","current_entity_desc":"Entiteit die de huidige/gebruikte hoeveelheid vertegenwoordigt (bijv. gebruikt brandstof, verbruikte batterij)","desc":"Configureer verschil berekening instellingen","title":"Verschil berekening configuratie","total_entity":"Totale waarde entiteit","total_entity_desc":"Entiteit die de totale/maximale hoeveelheid vertegenwoordigt (bijv. brandstofcapaciteit, batterijcapaciteit)"},"entity":{"desc_empty":"Selecteer een entiteit die een percentagewaarde levert (0-100). Batterijsensoren zijn ideaal voor balken.","desc_present":"De entiteit die de percentagewaarde voor de balk levert.","no_entity_warning":"Geen entiteit geselecteerd - Kies een sensor met waarden tussen 0-100","title":"Balk percentage entiteit"},"gradient":{"cropped":"Bijgesneden","desc":"Pas een kleurverloop toe op de balkvulling. Wanneer ingeschakeld, kies hoe het verloop wordt weergegeven en pas kleurstops hieronder aan.","full":"Vol","title":"Gradient modus","value_based":"Waardegebaseerd"},"labels":{"alignment":"Label uitlijning","alignment_desc":"Beheer hoe linker en rechter labels worden gepositioneerd."},"left":{"desc":"Configureer de titel en entiteitswaarde die aan de linkerkant van de balk wordt getoond. Dit is handig voor het weergeven van labels zoals \'Bereik\' of \'Batterij\' naast hun waarden.","enable_toggle":"Schakel de schakelaar hierboven in om linkerkant instellingen te configureren","template_desc":"Gebruik een sjabloon om de weergegeven waarde te formatteren. Sjablonen gebruiken Home Assistant\'s Jinja2-syntaxis.","template_mode":"Sjabloon modus","title":"Linkerkant","title_size":"Titelgrootte","value_size":"Waardegrootte","value_template":"Waarde sjabloon","value_template_desc":"Sjabloon om de linkerkantwaarde te formatteren met Jinja2-syntaxis"},"limit_entity":{"desc":"Optioneel: Voeg een verticale indicatorlijn toe op de balk (bijv. laadlimiet voor EV-batterij).","title":"Limietwaarde entiteit (optioneel)"},"percentage":{"desc":"Beheer de zichtbaarheid en het uiterlijk van percentagewaarden die direct op de balk worden getoond. Deze cijfers bieden een duidelijke visuele indicator van het huidige niveau.","text_alignment":"Percentage tekst uitlijning","text_size":"Tekstgrootte","text_size_desc":"Pas de grootte aan van de percentagetekst die op de balk wordt getoond.","title":"Percentage tekst weergave"},"right":{"desc":"Configureer de titel en entiteitswaarde die aan de rechterkant van de balk wordt getoond. Dit is ideaal voor aanvullende informatie zoals \'Tijd tot vol\' of secundaire metingen.","enable_toggle":"Schakel de schakelaar hierboven in om rechterkant instellingen te configureren","template_desc":"Gebruik een sjabloon om de weergegeven waarde te formatteren. Sjablonen gebruiken Home Assistant\'s Jinja2-syntaxis.","template_mode":"Sjabloon modus","title":"Rechterkant","title_size":"Titelgrootte","value_size":"Waardegrootte","value_template":"Waarde sjabloon","value_template_desc":"Sjabloon om de rechterkantwaarde te formatteren met Jinja2-syntaxis"},"template_config":{"desc":"Configureer sjabloon instellingen","percentage_template":"Percentage sjabloon","percentage_template_desc":"Voer een Jinja2-sjabloon in die een getal tussen 0-100 retourneert voor het percentage. Voorbeeld: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Sjabloon configuratie"},"text_display":{"title":"Tekstweergave","desc":"Beheer de zichtbaarheid en het uiterlijk van tekstwaarden die direct op de balk worden weergegeven. Voor verschil- en sjabloonmodi kun je kiezen om ruwe entiteitswaarden te tonen in plaats van percentages.","show_value":"Toon waarde in plaats van percentage","show_value_desc":"Wanneer ingeschakeld, toont het de werkelijke entiteitswaarde in plaats van percentage. Handig voor het weergeven van ruwe sensorwaarden zoals \\"45 kWh\\" in plaats van \\"75%\\".","text_size":"Tekstgrootte","text_size_desc":"Pas de grootte aan van de tekst die op de balk wordt weergegeven.","text_alignment":"Tekstuitlijning"}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Entiteit attribuut"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Entiteit","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Entiteit attribuut configuratie"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Attribuut naam","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Randradius","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation ()","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Afbeelding","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","add_entity":"Add Entity","add_first_entity":"Add your first entity to create a chart","no_entities":"No entities added"},"entity":"Entiteit","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Attribuut","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","reset_345":"Reset to default (345px)","chart_width":"Chart Width (%)","reset_100":"Reset to default (100%)","agg":{"count":"Count","delta":"Change","first":"First Value","last":"Last Value","max":"Maximum","mean":"Average","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Add Slice Gap","background_color":"Achtergrondkleur","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","chart_height":"Chart Height","chart_options":"Chart Options","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","normalize_values":"Normalize values to same scale","show_grid":"Show Grid","show_legend":"Show Legend","show_title":"Show Graph Title","show_tooltips":"Show Tooltips","show_value":"Show Graph Value","smooth_lines":"Smooth Lines","time_period":"Time Period","time_period_desc":"How much historical data to show.","title":"Display Options","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Fill Area","line_style":"Line Style","line_width":"Line Width","show_points":"Show Points"},"line_styles":{"dashed":"Dashed","dotted":"Dotted","solid":"Solid"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"position":{"bottom":"Onder","bottom_left":"Bottom Left","bottom_right":"Bottom Right","center":"Midden","hidden":"Hidden","left":"Links","middle":"Midden","right":"Rechts","top":"Boven","top_left":"Top Left","top_right":"Top Right"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Plat (standaard)","glossy":"Glanzend","embossed":"Relif","inset":"Inzet","gradient_overlay":"Gradient overlay","neon_glow":"Neon gloed","outline":"Omtrek","glass":"Glas","metallic":"Metalliek"},"align":{"left":"Links","center":"Midden","right":"Rechts","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Voor tekst","after":"Na tekst","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"colors":{"title":"Kleuren","background":"Achtergrondkleur","text":"Text Color"},"hover":{"effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"Geen","color":"Color Change","scale":"Schaal","glow":"Gloeien","lift":"Lift (translate Y)","hover_color":"Hover Color","glow_color":"Glow Color","title":"Hover Effects","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Entiteit","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Tik-actie","desc":"Action to perform when button is tapped"},"hold":{"title":"Vasthoud-actie","desc":"Action to perform when button is held down"},"double":{"title":"Dubbel-tik actie","desc":"Action to perform when button is double-tapped"},"show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Icoon positie","icon_position_desc":"Position of the icon relative to text","icon_field":"Icoon"},"info":{"entity_section":{"title":"ENTITEIT CONFIGURATIE"},"entity":"Entiteit","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Icoon","icon_desc":"Choose an icon to display","icon_color":"Icon Color","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Color","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Color","template":{"title":"Sjabloon modus","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Sjabloon modus","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Waarde sjabloon","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Waardegrootte","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Icoon positie","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Veelvoorkomende voorbeelden:","example_basic":"Basiswaarde","example_units":"With units","example_round":"Round to 1 decimal"},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"Midden","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Sjabloon modus","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Sjabloon modus","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Veelvoorkomende voorbeelden:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"},"show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Uiterlijk"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Color","desc":"Color of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","text_content":{"title":"Tekstinhoud","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Color","desc":"Color of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space.","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Modulenaam:","module_name_placeholder":"Geef deze module een aangepaste naam om het makkelijker te identificeren in de editor.","module_name_help":"Geef deze module een aangepaste naam om het makkelijker te identificeren in de editor."},"layout_logic":{"display_title":"Toon dit element","display_desc":"Bepaal wanneer dit element wordt weergegeven. Kies \\"Altijd\\" om het zichtbaar te houden. Kies \\"Als ALLE onderstaande voorwaarden waar zijn\\" of \\"Als ENIGE onderstaande voorwaarde waar is\\" om het alleen te tonen als de door jou toegevoegde voorwaarden waar zijn.","always":"Altijd","every":"Als ALLE voorwaarden waar zijn","any":"Als ENIGE voorwaarde waar is","conditions":"Voorwaarden","add_condition":"Voorwaarde toevoegen","no_conditions":"Nog geen voorwaarden toegevoegd. Klik op \\"Voorwaarde toevoegen\\" om te beginnen.","condition_types":{"entity_state":"Entiteitstatus","entity_attribute":"Entiteitattribuut","time":"Tijdsinterval","template":"Sjabloon"},"condition_fields":{"entity":"Entiteit","operator":"Operator","value":"Waarde","attribute":"Attribuut","time_from":"Van","time_to":"Tot","template":"Sjabloon"},"condition_header":"Voorwaarde","custom_name":"Aangepaste naam","custom_name_desc":"Optioneel: geef deze voorwaarde een aangepaste naam voor eenvoudige herkenning","condition_type":"Voorwaardetype"},"hover_effects":{"title":"Hover-effecten","description":"Configureer visuele effecten die verschijnen bij het zweven over deze module, rij of kolom.","effect":"Hover-effect","effect_desc":"Selecteer het visuele effect dat wordt toegepast bij hoveren","effects":{"none":"Geen","highlight":"Markeren","outline":"Omtrek","grow":"Groeien","shrink":"Krimpen","pulse":"Pulseren","bounce":"Stuiteren","float":"Zweven","glow":"Gloeien","shadow":"Schaduw","rotate":"Draaien","skew":"Scheeftrekken","wobble":"Wiebelen","buzz":"Trillen","fade":"Vervagen"}},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Tekst","text_color":"Text Color","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":" Default ","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"Geen","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"Achtergrond","background_color":"Achtergrondkleur","background_image_type":"Background Image Type","bg_none":"Geen","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Afstand","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Breedte","height":"Hoogte","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Randradius","border_style":"Border Style","border_width":"Border Width","border_color":"Randkleur","margin":"Margin","padding":"Padding","top":"Boven","right":"Rechts","bottom":"Onder","left":"Links","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Color","box_shadow_color":"Box Shadow Color","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Animatietype","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"Geen","ease":"Ease","border_style_none":"Geen","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":" Default ","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Tekst module","image":"Afbeelding module","icon":"Icoon module","bar":"Balk module","info":"Info Module","button":"Knop module","separator":"Separator Module","markdown":"Markdown Module","camera":"Camera module","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Attribuut","attribute_name":"Attribuutnaam","baseline":"Basislijn","bottom":"Onder","center":"Midden","entity":"Entiteit","justify":"Uitvullen","left":"Links","none":"Geen","right":"Rechts","space_around":"Ruimte rondom","space_between":"Ruimte tussen","state":"Status","stretch":"Uitrekken","top":"Boven"},"horizontal":{"alignment":{"horizontal":"Horizontale uitlijning","horizontal_desc":"Kies hoe elementen horizontaal worden uitgelijnd binnen de container.","vertical":"Verticale uitlijning","vertical_desc":"Kies hoe elementen verticaal worden uitgelijnd binnen de container."},"empty":{"add_modules":"Voeg modules toe in de lay-outbouwer om ze hier te zien","no_modules":"Nog geen modules toegevoegd"},"gap":{"between_items":"Ruimte tussen items","desc":"Stel de afstand in tussen horizontale elementen (in rem). Gebruik negatieve waarden om te overlappen.","title":"Afstand-configuratie"},"layout":{"desc":"Configureer hoe elementen horizontaal worden gerangschikt binnen de container.","title":"Lay-outconfiguratie"},"wrapping":{"desc":"Sta toe dat elementen worden doorgebroken naar een nieuwe regel wanneer ze de containerbreedte overschrijden.","title":"Doorlopen toestaan"}},"markdown":{"code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks","content":{"desc":"Enter your markdown content with full formatting support","label":"Content","title":"Markdown Content"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","features":{"title":"Markdown Features"}},"vertical":{"alignment":{"vertical":"Verticale uitlijning","vertical_desc":"Kies hoe elementen verticaal worden uitgelijnd binnen de container."},"empty":{"add_modules":"Voeg modules toe in de lay-outbouwer om ze hier te zien","no_modules":"Nog geen modules toegevoegd"},"gap":{"between_items":"Ruimte tussen items","desc":"Stel de afstand in tussen verticale elementen (in rem). Gebruik negatieve waarden om te overlappen.","title":"Afstand-configuratie"},"layout":{"desc":"Configureer hoe elementen verticaal worden gerangschikt binnen de container.","title":"Lay-outconfiguratie"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var x=i.t(k,2);const w=JSON.parse('{"editor":{"tabs":{"layout":"Oppsettbyggjar","settings":"Innstillingar","about":"Om","pro":"Pro"},"settings":{"title":"Kortinnstillingar","description":"Konfigurer global utsjnad og tferd for kortet."},"appearance":{"title":"Utsjnad","description":"Kontroller den visuelle utsjnaden til kortet"},"spacing":{"title":"Avstand","description":"Kontroller avstand og plassering for kortet"},"fields":{"card_background_color":"Bakgrunnsfarge for kort","card_background_color_desc":"Bakgrunnsfargen for heile kortet","border_radius":"Kantavrunding","border_radius_desc":"Avrunda hjrne p kortet (i pikslar)","card_padding":"Innvendig marg","card_padding_desc":"Innvendig avstand i kortet","card_margin":"Utvendig marg","card_margin_desc":"Utvendig avstand rundt kortet","unit_px":"px","reset_default":"Tilbakestill til standard","reset_default_value":"Tilbakestill til standard ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Fullskjerm","return_dashboard":"Tilbake til dashbord","dashboard":"Dashbord"},"layout":{"live_preview":"Live frehandsvisning","toggle_preview":"Sl p/av frehandsvisning","drag_to_move_module":"Dra for  flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliser modul","delete_module":"Slett modul","drag_to_move_layout":"Dra for  flytte oppsettmodul","horizontal_layout":"Vassrett oppsett","vertical_layout":"Loddrett oppsett","add_module_to_layout":"Legg til modul i oppsett","layout_settings":"Oppsettinnstillingar","duplicate_layout":"Dupliser oppsett","delete_layout":"Slett oppsett","click_to_add_module":"Klikk for  leggja til ein modul","drop_modules_here":"Slepp modular her","drag_to_reorder":"Dra for  endra rekkjeflgje","edit_child_module":"Rediger barnemodul","duplicate_child_module":"Dupliser barnemodul","delete_child_module":"Slett barnemodul","module_settings_title":"Modulinnstillingar","general_tab":"Generelt","actions_tab":"Handlingar","other_tab":"Anna","logic_tab":"Logikk","design_tab":"Design","drag_to_resize":"Dra for  endre storleik","hidden_by_logic":"Gymd av logikk","child_module_settings_title":"Innstillingar for barnemodul","add_row":"Legg til rad","add_row_tooltip":"Legg til ei ny rad i oppsettet","row_settings":"Radinnstillingar","column_settings":"Kolonneinnstillingar","row_background_color":"Bakgrunnsfarge for rad","column_gap":"Kolonnegap (px)","vertical_alignment":"Loddrett justering","horizontal_alignment":"Vassrett justering","column_preview":"Kolonnefrehandsvisning","modules_count":"{count} modular","alignment_top":"Topp","alignment_center":"Senter","alignment_bottom":"Botn","alignment_stretch":"Strekk","alignment_left":"Venstre","alignment_right":"Hgre","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Utvikla av","desc1":"Ein kraftig modulr kortbyggjar for Home Assistant","desc2":"Lag eigne oppsett med eit profesjonelt side-byggjargrensesnitt","desc3":"Modulrt oppsettsystem med vilkrslogikk og profesjonelle verkty for design","github_repo":"GitHub-lager","version":"Versjon","join_discord":"Bli med p Discord","support_title":"Sttt Ultra Card","support_desc":"Dine rause tips driv utviklinga av nye, flotte funksjonar for dette kortet! Utan sttte fr brukarar som deg hadde vidare innovasjon ikkje vore mogleg.","leave_tip":"GI EIN TIP (PAYPAL)"},"actions":{"title":"Konfigurasjon av handlingar","description":"Konfigurer korleis denne modulen svarar p brukarinteraksjonar. Bruker Home Assistant sitt eigne handlingssystem for jamn tferd p dashbordet.","tap_action":"Trykkhandling","tap_action_desc":"Handling nr du trykkjer/klikkar p modulen","hold_action":"Haldehandling","hold_action_desc":"Handling nr du held nede p modulen","double_tap_action":"Dobbelttrykk","double_tap_action_desc":"Handling ved dobbelttrykk/klikk","tap_behavior":"Trykktferd","tap_behavior_desc":"Handling som skal utfrast ved trykk/klikk.","hold_behavior":"Haldetferd","hold_behavior_desc":"Handling som skal utfrast nr elementet blir halde inne.","double_tap_behavior":"Dobbelttrykk-tferd","double_tap_behavior_desc":"Handling som skal utfrast ved dobbelttrykk/klikk.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"KONFIGURASJON AV ENTITET","desc":"Konfigurer entiteten og aktiv/inaktiv tilstand"},"entity":"Entitet","entity_desc":"Vel entiteten dette ikonet representerer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsverdi som reknast som inaktiv (la st tom for  bruke faktisk tilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsverdi som reknast som aktiv (la st tom for  bruke faktisk tilstand)","active_animation":"Aktivanimasjon","active_animation_desc":"Animasjon nr ikonet er aktivt","active_icon":"Aktivt ikon","active_icon_background":"Bakgrunn for aktivt ikon","active_icon_background_color":"Bakgrunnsfarge for aktivt ikon","active_icon_color":"Farge for aktivt ikon","active_icon_desc":"Ikon som visast nr aktiv","active_name":"Aktivt namn","active_name_color":"Farge p aktivt namn","active_name_desc":"Tilpassa namn nr aktiv","active_state_color":"Farge p aktiv tilstand","active_state_text":"Tekst for aktiv tilstand","animation_bounce":"Sprett","animation_fade":"Falme","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter hgre","animation_scale":"Skaler","animation_section":{"desc":"Konfigurer animasjonar for aktive og inaktive tilstandar","title":"Ikonanimasjon"},"animation_shake":"Rist","animation_spin":"Snurr","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Bakgrunnsfarge nr aktiv","background_color_inactive":"Bakgrunnsfarge nr inaktiv","background_section":{"desc":"Konfigurer bakgrunn ved inaktiv tilstand","title":"Inaktiv bakgrunn"},"background_shape_active":"Bakgrunnsform nr aktiv","background_shape_inactive":"Bakgrunnsform nr inaktiv","custom_active_name":"Eige namn ved aktiv","custom_active_name_desc":"Overstyr entitetsnamn nr aktiv (tomt for  bruke entitetsnamn)","custom_active_state":"Eiga tilstandstekst ved aktiv","custom_active_state_desc":"Tilpassa tekst nr aktiv (tomt for faktisk tilstand)","custom_inactive_name":"Eige namn ved inaktiv","custom_inactive_name_desc":"Overstyr entitetsnamn nr inaktiv (tomt for  bruke entitetsnamn)","custom_inactive_state":"Eiga tilstandstekst ved inaktiv","custom_inactive_state_desc":"Tilpassa tekst nr inaktiv (tomt for faktisk tilstand)","icon_color_active":"Farge nr aktiv","icon_color_inactive":"Farge nr inaktiv","icon_section":{"title":"Ikonkonfigurasjon"},"icon_size_active":"Ikonstorleik nr aktiv","icon_size_inactive":"Ikonstorleik nr inaktiv","inactive_animation":"Inaktivanimasjon","inactive_animation_desc":"Animasjon nr ikonet er inaktivt","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Bakgrunn for inaktivt ikon","inactive_icon_background_color":"Bakgrunnsfarge for inaktivt ikon","inactive_icon_color":"Farge for inaktivt ikon","inactive_icon_config":"Konfigurasjon for inaktivt ikon","inactive_icon_config_desc":"Konfigurer innstillingar for inaktivt ikon","inactive_icon_desc":"Ikon som visast nr inaktiv","inactive_name":"Inaktivt namn","inactive_name_color":"Farge p inaktivt namn","inactive_name_config":"Konfigurasjon for inaktivt namn","inactive_name_config_desc":"Konfigurer innstillingar for inaktivt namn","inactive_name_desc":"Tilpassa namn nr inaktiv","inactive_state_color":"Farge p inaktiv tilstand","inactive_state_config":"Konfigurasjon for inaktiv tilstand","inactive_state_config_desc":"Konfigurer innstillingar for inaktiv tilstand","inactive_state_text":"Tekst for inaktiv tilstand","name_color_active":"Namnefarge nr aktiv","name_color_inactive":"Namnefarge nr inaktiv","name_section":{"title":"Namn-konfigurasjon"},"name_size_active":"Tekststorleik p namn ved aktiv","name_size_inactive":"Tekststorleik p namn ved inaktiv","state_color_active":"Tilstandsfarge nr aktiv","state_color_inactive":"Tilstandsfarge nr inaktiv","state_section":{"title":"Tilstandskonfigurasjon"},"state_size_active":"Tekststorleik p tilstand ved aktiv","state_size_inactive":"Tekststorleik p tilstand ved inaktiv","template":"Mal","template_mode":"Avansert malmodus","template_section":{"desc":"Bruk Jinja2-malar for avansert ikonstyring. Malar kan styre synlegheit (true/false for  vise/gyme ikon) og tilpassa tilstandstekst. Returner tilpassa tekst for aktiv tilstand, returner faktisk entitetstilstand for inaktiv.","title":"Avansert malmodus"}},"text":{"content_section":{"title":"Innhaldskonfigurasjon","desc":"Konfigurer tekstinnhald og grunnleggjande innstillingar for denne modulen."},"text_content":"Tekstinnhald","text_content_desc":"Skriv inn teksten som skal visast i denne modulen.","icon_section":{"title":"Ikonkonfigurasjon","desc":"Vel eit ikon som skal visast saman med teksten."},"icon":"Ikon","icon_desc":"Vel eit ikon som skal visast saman med teksten. La st tomt for ingen ikon.","icon_position":"Ikonplassering","icon_position_desc":"Vel plassering av ikon i forhold til tekst.","before_text":"Fr tekst","after_text":"Etter tekst","template_mode":"Malmodus","template_mode_desc":"Bruk Home Assistant-malesyntaks til  rendre tekst","value_template":"Verdimal","value_template_desc":"Mal for  rendre tekst med Jinja2-syntaks","examples_title":"Vanlege dme:","example_basic":"Grunnleggjande verdi","example_percent":"Med prosent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Stolpeinnstillingar","desc":"Konfigurer korleis prosent vert utrekna og vist."},"perc_type":{"entity":"Entitet (0100)","attribute":"Entitetsattributt","difference":"Differanse","template":"Mal"},"attribute_section":{"title":"Konfigurasjon av entitetsattributt","desc":"Konfigurer innstillingar for attributt"},"attribute_entity":"Attributtentitet","attribute_entity_desc":"Vel entiteten som har attributtet med prosentverdien","attribute_name":"Attributtnamn","attribute_name_desc":"Skriv namnet p attributtet som inneheld prosentverdien (t.d. battery_level)","diff_section":{"title":"Konfigurasjon for differanseutrekning","desc":"Konfigurer innstillingar for differanse"},"current_entity":"Entitet for noverdi","current_entity_desc":"Entitet som representerer brukt/noverande mengd (t.d. brukt drivstoff, forbrukt batteri)","total_entity":"Entitet for totalverdi","total_entity_desc":"Entitet som representerer total/maks mengd (t.d. tankvolum, batterikapasitet)","template_section":{"title":"Malkonfigurasjon","desc":"Konfigurer malinnstillingar"},"percentage_template":"Prosentmal","percentage_template_desc":"Skriv ein Jinja2-mal som returnerer eit tal mellom 0100 for prosent. Dme: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer stolpefyllet med forval som lading-striper, puls, gld og meir. Du kan trigge animasjonar basert p entitetstilstand eller attributt, og eventuelt overstyre animasjonen nr ein annan tilstand oppstr.","override":{"attribute_name_desc":"Attributtnamn  samanlikne","desc":"Vel ei handling-entitet og tilstand nr denne animasjonen skal overstyre den vanlege","entity_desc":"Entitet som skal evaluerast for overstyring","match_value":"Overstyringsverdi","match_value_desc":"Tekstsamanlikning mot tilstand eller attributt","title":"Overstyring av animasjon","type":"Type overstyring","type_desc":"Animasjon som skal brukast nr vilkret treff."},"title":"Stolpeanimasjon","trigger":{"attribute_name_desc":"Attributtnamn  samanlikne (t.d. charging_status)","desc":"Vel ei entitet  overvake og definer verdien + animasjonen som skal gjelde nr det treff.","entity_desc":"Entitet som skal evaluerast for animasjonstrigger","match_value":"Samsvarsverdi","match_value_desc":"Tekst  samanlikne mot tilstand eller attributt (tekstbasert samanlikning).","title":"Trigger for animasjon","type":"Triggertype","type_desc":"Vel om du vil samanlikne entitetstilstand eller eit attributt"},"type":"Animasjonstype","type_desc":"Vel korleis stolpen skal animerast nr trigga.","types":{"blinking":"Blinkande","bouncing":"Sprettande","bubbles":"Bobler","charging":"Lading (diagonale linjer)","fill":"Fyll","flicker":"Flimring","glow":"Gld","heartbeat":"Hjarteslag","pulse":"Puls","rainbow":"Regnboge","ripple":"Ringar","shimmer":"Skimring","traffic":"Barberstolpe","vibrate":"Vibrer"}},"appearance":{"direction":"Fylleretning","direction_desc":"Vel retninga stolpen fyllast i nr verdien aukar.","left_to_right":"Venstre til hgre","right_to_left":"Hgre til venstre","alignment":"Stolpejustering","alignment_desc":"Vel korleis stolpen skal justerast nr breidda er under 100 %.","border_radius":"Kantavrunding","border_radius_desc":"Kontroller avrunda hjrne p stolpen.","height":"Stolpehgd","height_desc":"Juster tjukna p framdriftsstolpen i pikslar.","style":"Stolpestil","style_dashed":"Stipla","style_desc":"Vel visuell stil for framdriftsstolpen.","style_dots":"Prikkar","style_embossed":"Relieff","style_flat":"Platt (standard)","style_glass":"Glas","style_glossy":"Blank","style_gradient":"Gradient-overlegg","style_inset":"Innskk","style_metallic":"Metallisk","style_neon":"Neongld","style_neumorphic":"Neomorf","style_outline":"Omriss","title":"Utsjnad for stolpe","width":"Stolpebreidd","width_desc":"Set breidda som prosent av behaldaren."},"attr_config":{"attribute_entity":"Attributtentitet","attribute_entity_desc":"Vel entiteten som har attributtet med prosentverdien","attribute_name":"Attributtnamn","attribute_name_desc":"Skriv namnet p attributtet som inneheld prosentverdien (t.d. battery_level)","desc":"Konfigurer innstillingar for attributt","title":"Konfigurasjon av entitetsattributt"},"colors":{"background_color":"Bakgrunnsfarge","bar_color":"Stolpefarge","border_color":"Kantfarge","left_side":"Fargar venstre side","limit_indicator":"Grenseindikator","percentage_text":"Prosenttekst","right_side":"Fargar hgre side","title":"Fargar","title_color":"Tittelfarge","value_color":"Verdifarge","text_color":"Tekstfarge","text_color_desc":"Velg fargen for teksten vist p stolpen."},"diff_config":{"current_entity":"Entitet for noverdi","current_entity_desc":"Entitet som representerer brukt/noverande mengd (t.d. brukt drivstoff, forbrukt batteri)","desc":"Konfigurer innstillingar for differanse","title":"Konfigurasjon for differanseutrekning","total_entity":"Entitet for totalverdi","total_entity_desc":"Entitet som representerer total/maks mengd (t.d. tankvolum, batterikapasitet)"},"entity":{"desc_empty":"Vel ei entitet som gjev ein prosentverdi (0100). Batterisensorar er ideelle.","desc_present":"Entiteten som gjev prosentverdien for stolpen.","no_entity_warning":"Ingen entitet vald  Vel ein sensor med verdiar mellom 0100","title":"Prosententitet for stolpe"},"gradient":{"cropped":"Avklypt","desc":"Bruk fargegradient p stolpefyllet. Nr aktivert, vel korleis gradienten skal visast og tilpass fargestopp nedanfor.","full":"Full","title":"Gradientmodus","value_based":"Verdi-basert"},"labels":{"alignment":"Justering av etikett","alignment_desc":"Kontroller korleis venstre og hgre etikett er plasserte."},"left":{"desc":"Konfigurer tittel og entitetsverdi p venstre side av stolpen. Nyttig for merkelappar som Rekkevidd eller Batteri.","enable_toggle":"Skru p brytaren over for  konfigurere venstresida","template_desc":"Bruk ein mal for  formatere verdien. Malar brukar Jinja2-syntaksen til Home Assistant.","template_mode":"Malmodus","title":"Venstre side","title_size":"Tittelstorleik","value_size":"Verdistorleik","value_template":"Verdimal","value_template_desc":"Mal for  formatere venstresideverdi med Jinja2-syntaks"},"limit_entity":{"desc":"Valfritt: Legg til ei loddrett indikatorlinje p stolpen (t.d. ladelimit for EV-batteri).","title":"Grenseverdi-entitet (valfritt)"},"percentage":{"desc":"Kontroller synlegheit og utsjnad p prosenttal vist direkte p stolpen. Desse tala gir eit tydeleg nivindikator.","text_alignment":"Justering av prosenttekst","text_size":"Tekststorleik","text_size_desc":"Juster storleik p prosenttekst vist p stolpen.","title":"Vising av prosenttekst"},"right":{"desc":"Konfigurer tittel og entitetsverdi p hgre side av stolpen. Ideelt for tilleggsinfo som Tid til full eller sekundre mlingar.","enable_toggle":"Skru p brytaren over for  konfigurere hgresida","template_desc":"Bruk ein mal for  formatere verdien. Malar brukar Jinja2-syntaksen til Home Assistant.","template_mode":"Malmodus","title":"Hgre side","title_size":"Tittelstorleik","value_size":"Verdistorleik","value_template":"Verdimal","value_template_desc":"Mal for  formatere hgresideverdi med Jinja2-syntaks"},"template_config":{"desc":"Konfigurer malinnstillingar","percentage_template":"Prosentmal","percentage_template_desc":"Skriv ein Jinja2-mal som returnerer eit tal mellom 0100 for prosent. Dme: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Malkonfigurasjon"},"text_display":{"title":"Tekstvisning","desc":"Kontroller synlegheita og utsjnaden til tekstverdiar viste direkte p stolpen. For forskjells- og malmodusar kan du velje  vise r einingsverdi i staden for prosentar.","show_value":"Vis verdi i staden for prosent","show_value_desc":"Nr aktivert, viser den faktiske einingsverdi i staden for prosent. Nyttig for  vise r sensorverdiar som \\"45 kWh\\" i staden for \\"75%\\".","text_size":"Tekststorleik","text_size_desc":"Juster storleiken p teksten vist p stolpen.","text_alignment":"Tekstjustering"}},"image":{"settings":"Biletinnstillingar","source_type":"Kjelde for bilete","source_type_desc":"Vel korleis du vil oppgje biletkjelde.","source":{"default":"Standardbilete","url":"Bilet-URL","upload":"Last opp bilete","entity":"Entitetsbilete","attribute":"Entitetsattributt"},"url_section":{"title":"Konfigurasjon av bilet-URL"},"image_url":"Bilet-URL","image_url_desc":"Skriv direkte-URL til biletet du vil vise.","upload_section":{"title":"Konfigurasjon for opplasting"},"upload":"Last opp bilete","upload_desc":"Klikk for  laste opp ei biletfil fr eininga di.","entity_section":{"title":"Konfigurasjon av entitetsbilete"},"entity":"Entitet","entity_desc":"Vel ei entitet som har bilete (t.d. person, kamera).","attribute_section":{"title":"Konfigurasjon av entitetsattributt"},"entity_attr_desc":"Vel entiteten som inneheld bilet-URL i eitt av attributta sine.","attribute_name":"Attributtnamn","attribute_name_desc":"Skriv attributtstien som inneheld bilet-URL (prikk-notasjon sttta, t.d. vehicle_data.vehicleDetails.generalDashboard).","width":"Breidd (%)","width_desc":"Set breidda som prosent av behaldaren.","height":"Hgd (px)","height_desc":"Set hgda i pikslar.","crop_fit":"Beskjer & tilpassing","crop_fit_desc":"Kontroller korleis biletet passar i behaldaren.","fit":{"cover":"Dekk (beskjer for  fylle)","contain":"Tilpass (vis heile biletet)","fill":"Fyll (strekk for  passe)","scale_down":"Skaler ned","none":"Ingen (original storleik)"},"border_radius":"Kantavrunding","border_radius_desc":"Kontroller avrunda hjrne p biletet.","tap_actions":"Trykkhandlingar","filters":"Filter","filter":{"blur":"Slring","blur_desc":"Legg til slring p biletet.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrka p biletet.","contrast":"Kontrast (%)","contrast_desc":"Endre kontrasten p biletet.","saturation":"Metning (%)","saturation_desc":"Juster metninga p biletet."},"hover":{"title":"Hover-effektar","effect_type":"Effekttype","effect_type_desc":"Vel type hover-effekt.","scale":"Skaler (zoom inn/ut)","rotate":"Roter","fade":"Falme (gjennomsikt)","blur":"Slr","brightness":"Lysstyrke","glow":"Gld (skugge)","slide":"Gli (translasjon)","scale_amount":"Skalering (%)","scale_amount_desc":"Juster skalering ved hover.","rotate_amount":"Rotasjon ()","rotate_amount_desc":"Roter biletet ved hover.","opacity":"Ugjennomsikt (%)","opacity_desc":"Endre ugjennomsikt ved hover.","blur_amount":"Slring (px)","blur_amount_desc":"Legg til slring ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrke ved hover.","glow_intensity":"Gldintensitet","glow_intensity_desc":"Vel intensitet for gldeeffekt.","glow_light":"Lett gld","glow_medium":"Middels gld","glow_heavy":"Kraftig gld","glow_custom":"Eigendefinert skugge","translate_x":"Vassrett (px)","translate_x_desc":"Flytt biletet vassrett ved hover.","translate_y":"Loddrett (px)","translate_y_desc":"Flytt biletet loddrett ved hover."},"alt":"Bilete","no_source":"Inga biletkjelde er konfigurert"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Vel visualiseringsstil for dataene dine."},"types":{"line":"Linjediagram","bar":"Stolpediagram","pie":"Sektordiagram","donut":"Smultringdiagram"},"data_sources":{"title":"Datakjelder","add_entity":"Legg til entitet","add_first_entity":"Legg til di frste entitet for  lage eit diagram","no_entities":"Ingen entitetar lagt til"},"entity":"Entitet","entity_desc":"Vel ei entitet  plotte.","display_name_optional":"Visingsnamn (valfritt)","use_as_card_info":"Bruk som kortinfo","attribute":"Attributt","attribute_desc":"Bruk entitetsverdi eller vel eit spesifikt attributt  spore.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkt","fill_area":"Fyll areal","line_style":"Linjestil","line_solid":"Heiltrekt","line_dashed":"Stipla","line_dotted":"Prikka","pie_show_title":"Vis tittel i utsnitt","pie_show_value":"Vis verdi i utsnitt","expand_options":"Utvid val","no_entities":"Ingen entitetar lagt til","add_first_entity":"Legg til di frste entitet for  lage eit diagram","add_entity":"Legg til entitet","display_options":{"title":"Visingsval"},"show_title":"Vis diagramtittel","show_value":"Vis diagramverdi","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv diagramtittel","time_period":"Tidsperiode","time_period_desc":"Kor mykje historikk som skal visast.","period":{"1h":"Siste time","3h":"Siste 3 timar","6h":"Siste 6 timar","12h":"Siste 12 timar","24h":"Siste dgn","2d":"Siste 2 dagar","7d":"Siste veke","30d":"Siste mnad","90d":"Siste 3 mnader","365d":"Siste r"},"normalize_values":"Normaliser verdiar til same skala","normalize_desc":"Nyttig nr du samanliknar entitetar med ulike einingar (t.d. % vs mil)","chart_height":"Diagramhgd","reset_345":"Tilbakestill til standard (345px)","chart_width":"Diagrambreidd (%)","reset_100":"Tilbakestill til standard (100 %)","agg":{"count":"Teljing","delta":"Endring","first":"Frste verdi","last":"Siste verdi","max":"Maksimum","mean":"Gjennomsnitt","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Legg til mellomrom mellom utsnitt","background_color":"Bakgrunnsfarge","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagram i behaldaren.","chart_height":"Diagramhgd","chart_options":"Diagramval","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv diagramtittel","chart_width":"Diagrambreidd (%)","chart_width_desc":"Prosent av modulens tilgjengelege breidd. Justering styrer plassering.","info_position":"Posisjon for info","info_position_desc":"Plassering av overlegg med namn/verdi.","legend_position":"Posisjon for forklaring","legend_position_desc":"Kor forklaring skal plasserast nr aktivert.","normalize_desc":"Nyttig nr du samanliknar entitetar med ulike einingar (t.d. % vs mil)","normalize_values":"Normaliser verdiar til same skala","show_grid":"Vis rutenett","show_legend":"Vis forklaring","show_title":"Vis diagramtittel","show_tooltips":"Vis verktytips","show_value":"Vis diagramverdi","smooth_lines":"Jamne linjer","time_period":"Tidsperiode","time_period_desc":"Kor mykje historikk som skal visast.","title":"Visingsval","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Fyll areal","line_style":"Linjestil","line_width":"Linjebreidd","show_points":"Vis punkt"},"line_styles":{"dashed":"Stipla","dotted":"Prikka","solid":"Heiltrekt"},"pie":{"show_title":"Vis tittel i utsnitt","show_value":"Vis verdi i utsnitt"},"position":{"bottom":"Botn","bottom_left":"Nedre venstre","bottom_right":"Nedre hgre","center":"Senter","hidden":"Gymd","left":"Venstre","middle":"Senter","right":"Hgre","top":"Topp","top_left":"vre venstre","top_right":"vre hgre"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Grunninnstillingar","desc":"Konfigurer utsjnad og tekst for knappen."},"text":{"title":"Knappetekst","desc":"Tekst som skal visast p knappen (la st tomt for berre ikon)."},"style":{"title":"Knappestil","desc":"Visuell stil for knappen"},"alignment":{"title":"Justering","desc":"Korleis knappen blir justert i behaldaren"},"styles":{"flat":"Platt (standard)","glossy":"Blank","embossed":"Relieff","inset":"Innskk","gradient_overlay":"Gradient-overlegg","neon_glow":"Neongld","outline":"Omriss","glass":"Glas","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Senter","right":"Hgre","justify":"Justert (full breidd)"},"icon":{"title":"Ikoninnstillingar","desc":"Konfigurer ikonvising og plassering for knappen.","before":"Fr tekst","after":"Etter tekst","enable_toggle_desc":"Skru p brytaren over for  konfigurere ikoninnstillingar"},"colors":{"title":"Fargar","background":"Bakgrunnsfarge","text":"Tekstfarge"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Vel hover-effekt for denne knappen.","none":"Ingen","color":"Fargeendring","scale":"Skalering","glow":"Gld","lift":"Hev (translasjon Y)","hover_color":"Farge ved hover","glow_color":"Gldfarge","title":"Hover-effektar","enable_toggle_desc":"Skru p brytaren over for  konfigurere hover-effektar"},"actions":{"type":"Handlingstype","type_desc":"Vel kva som skjer nr du klikkar knappen","entity":"Entitet","entity_desc":"Vel entiteten  samhandle med","navigation_path":"Navigasjonssti","navigation_path_desc":"Sti  navigere til (t.d. /dashboard/energy)","service":"Teneste","service_desc":"Teneste  kalle (t.d. light.turn_on)","service_data":"Tenestedata (JSON)","service_data_desc":"Valfritt data som blir sendt til tenesta (JSON-format)"},"tap":{"title":"Trykkhandling","desc":"Handling ved trykk p knappen"},"hold":{"title":"Haldehandling","desc":"Handling nr knappen blir halde nede"},"double":{"title":"Dobbelttrykk","desc":"Handling ved dobbelttrykk"},"show_icon":"Vis ikon","show_icon_desc":"Vis eit ikon p knappen","icon_desc":"Ikon som skal visast (t.d. mdi:home)","icon_position":"Ikonplassering","icon_position_desc":"Plassering av ikon relativt til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"KONFIGURASJON AV ENTITET"},"entity":"Entitet","entity_desc":"Vel entiteten som skal visast","icon_section":{"title":"Ikoninnstillingar"},"show_icon":"Vis ikon","show_icon_desc":"Vis eit ikon ved sidan av entitetsverdien","icon":"Ikon","icon_desc":"Vel eit ikon som skal visast","icon_color":"Ikonfarge","name_section":{"title":"Namneinnstillingar"},"show_name":"Vis namn","show_name_desc":"Vis entitetsnamn over verdien","custom_name":"Eige namn","custom_name_desc":"Overstyr entitetsnamn med eige namn","name_color":"Namnefarge","state_section":{"title":"Tilstandsinnstillingar"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/verdi","show_units":"Vis einingar","show_units_desc":"Vis mleeining (om tilgjengeleg)","state_color":"Tilstandsfarge","template":{"title":"Malmodus","desc":"Bruk ein mal for  formatere entitetsverdien. Malar lt deg bruke Home Assistant-malesyntaks for avansert formatering.","mode":"Malmodus","mode_desc":"Bruk Home Assistant-malesyntaks for  formatere verdien","value":"Verdimal","value_desc":"Mal for  formatere entitetsverdi med Jinja2-syntaks"},"size_section":{"title":"Storleiksinnstillingar"},"icon_size":"Ikonstorleik","icon_size_desc":"Storleik p ikon i pikslar","name_size":"Namnestorleik","name_size_desc":"Storleik p namnetekst i pikslar","value_size":"Verdistorleik","value_size_desc":"Storleik p verditekst i pikslar","icon_gap":"Ikonmellomrom","icon_gap_desc":"Avstand mellom ikon og innhald i pikslar","layout_section":{"title":"Oppsett og plassering"},"icon_position":"Ikonplassering","overall_alignment":"Overordna justering","icon_alignment":"Ikonjustering","content_alignment":"Innhaldsjustering","examples_title":"Vanlege dme:","example_basic":"Grunnleggjande verdi","example_units":"Med einingar","example_round":"Avrund til 1 desimal"},"camera":{"config":{"title":"Kamerakonfigurasjon","desc":"Konfigurer kamerentitet og visingsinnstillingar."},"entity":"Kameraentitet","entity_desc":"Vel kameraentiteten som skal visast. Dette br vere ei camera- eller mjpeg-entitet fr Home Assistant.","name":"Kameranamn","name_desc":"Tilpassa namn for kameraet. La st tomt for  bruke entitetsnamn.","show_name":"Vis kameranamn","show_name_desc":"Vis kameranamnet p straumen","name_position":{"group_title":"Plassering av kameranamn","title":"Namneplassering","desc":"Vel kvar kameranamnet skal visast som overlegg p biletet.","options":{"top_left":"vre venstre","top_right":"vre hgre","center":"Senter","bottom_left":"Nedre venstre","bottom_right":"Nedre hgre"}},"display":{"title":"Visingsinnstillingar"},"live_view":{"title":"Direktevising","desc":"Vis direkte kamerastream (krev stream-integrasjon). Nr avsltt, visast stillbilete."},"auto_refresh":{"section_title":"Innstillingar for auto-oppfrisking","title":"Auto-oppfrisking","desc":"Oppfrisk kamerabilete automatisk med jamne mellomrom"},"refresh_interval":{"title":"Oppfriskingsintervall (sekund)","desc":"Kor ofte kamerabiletet skal oppfriskast automatisk."},"dimensions":{"title":"Dimensjonar"},"width":"Breidd (px)","width_desc":"Set breidda p kameravisninga. Omrde: 1001000 px","height":"Hgd (px)","height_desc":"Set hgda p kameravisninga. Omrde: 1001000 px","link_aspect":"Knytt sideforhold","unlink_aspect":"Lys sideforhold","aspect_linked":{"title":"Sideforhold knytt","desc":"Dimensjonane held {ratio}:1-forhold.  endre in dimensjon oppdaterer den andre."},"aspect_independent":{"title":"Uavhengige dimensjonar","desc":"Breidd og hgd kan justerast uavhengig. Klikk lenkje-knappen over for  halde sideforhold."},"crop":{"title":"Beskjering og posisjon","desc":"Juster beskjeringskantar og posisjon. Nyttig for  fokusere p omrde eller fjerne unska kantar.","left_title":"Venstre beskjering (%)","left_desc":"Beskjer fr venstre kant. Hgare verdi viser mindre av venstresida.","right_title":"Hgre beskjering (%)","right_desc":"Beskjer fr hgre kant. Hgare verdi viser mindre av hgresida.","top_title":"Toppbeskjering (%)","top_desc":"Beskjer fr toppen. Hgare verdi viser mindre av toppomrdet.","bottom_title":"Bunnbeskjering (%)","bottom_desc":"Beskjer fr botnen. Hgare verdi viser mindre av botnomrdet.","active_applied":"Aktive beskjeringar brukt","reset_all":"Tilbakestill alle beskjeringar"},"template":{"title":"Malmodus","desc":"Bruk ein mal for dynamisk  setje kameraentitet. Lt deg bruke Home Assistant-malesyntaks for vilkrsstyrt kameraplukk.","mode_label":"Malmodus","mode_desc":"Bruk Home Assistant-malesyntaks for  velje kamera dynamisk","camera_template_label":"Kameramal","camera_template_desc":"Mal for  setje kameraentitet med Jinja2-syntaks","examples_title":"Vanlege dme:","example1_desc":"Vis kamera nr vret er sol","example2_desc":"Byt mellom kamera basert p input boolean","example3_desc":"Bruk input select for  velje kamera"},"show_name_toggle":{"enable_toggle_desc":"Skru p brytaren over for  konfigurere vising av kameranamn"}},"separator":{"config":{"title":"Konfigurasjon av skiljelinje"},"style":{"title":"Stil p skiljelinje","desc":"Vel visuell stil for skiljelinja."},"options":{"solid":"Heiltrekt linje","double":"Dobbel linje","dotted":"Prikka linje","double_dotted":"Dobbel prikka","shadow":"Skugge","blank":"Tomt mellomrom"},"appearance":{"title":"Utsjnad"},"thickness":"Tjukkleik (px)","thickness_desc":"Tjukkleik p skiljelinja.","width":"Breidd (%)","width_desc":"Breidd som prosent av behaldaren.","color":{"title":"Farge","desc":"Farge p skiljelinja."},"show_title":"Vis tittel","show_title_desc":"Legg tekst i midten av skiljelinja (t.d. ------ Tekst ------)","text_content":{"title":"Tekstinnhald","desc":"Tekst som skal visast i midten av skiljelinja."},"font_size":"Skriftstorleik","font_size_desc":"Storleik p tekst i pikslar.","text_color":{"title":"Tekstfarge","desc":"Farge p tekst i skiljelinja."},"text_format":{"title":"Tekstformatering","desc":"Bruk formateringsstil p tekst.","bold":"Feit","italic":"Kursiv","underline":"Understreking","uppercase":"Store bokstavar","strikethrough":"Gjennomstreking"},"spacer":{"title":"Avstandshgd"},"height":"Hgd (px)","height_desc":"Styrer synleg gap for Blankt mellomrom.","show_title_toggle":{"enable_toggle_desc":"Skru p brytaren over for  konfigurere tittelen"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Modulnamn:","module_name_placeholder":"Gje denne modulen eit tilpassa namn for lettare  identifisere han i redigeraren.","module_name_help":"Gje denne modulen eit tilpassa namn for lettare  identifisere han i redigeraren."},"layout_logic":{"display_title":"Vis dette elementet","display_desc":"Kontroller nr dette elementet skal visast. Vel Alltid for  halde det synleg. Vel Viss ALLE vilkr under er oppfylte eller Viss NOKRE vilkr under er oppfylte for  vise det berre nr vilkra du legg til nedanfor er sanne.","always":"Alltid","every":"Viss ALLE vilkr under er oppfylte","any":"Viss NOKRE vilkr under er oppfylte","conditions":"Vilkr","add_condition":"Legg til vilkr","no_conditions":"Ingen vilkr lagt til enno. Klikk Legg til vilkr for  starte.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattributt","time":"Tidsintervall","template":"Mal"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Verdi","attribute":"Attributt","time_from":"Fr","time_to":"Til","template":"Mal"},"condition_header":"Vilkr","custom_name":"Tilpassa namn","custom_name_desc":"Valfritt: Gje vilkret eit tilpassa namn for enklare identifikasjon","condition_type":"Vilkrstype"},"hover_effects":{"title":"Hover-effektar","description":"Konfigurer visuelle effektar som visast nr du held musepeikaren over modulen, rada eller kolonnen.","effect":"Hover-effekt","effect_desc":"Vel visuell effekt som skal brukast ved hover","effects":{"none":"Ingen","highlight":"Uthev","outline":"Kontur","grow":"Veks","shrink":"Krymp","pulse":"Pulsere","bounce":"Sprette","float":"Flyte","glow":"Glde","shadow":"Skugge","rotate":"Roter","skew":"Skev","wobble":"Vakle","buzz":"Vibrere","fade":"Falme"}},"design":{"copy":"Kopier","paste":"Lim inn","reset_all":"Tilbakestill alt","copy_tooltip":"Kopier noverande designinnstillingar (fungerer p tvers av Ultra-kort)","paste_tooltip_has":"Lim inn kopierte designinnstillingar (fr tverrkort-utklippstavle)","paste_tooltip_none":"Ingen designinnstillingar i tverrkort-utklippstavla","reset_all_tooltip":"Tilbakestill alle designinnstillingar til standard","text_section":"Tekst","text_color":"Tekstfarge","alignment":"Justering","inherit_alignment":"Arv (inga justering)","font_size":"Skriftstorleik","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Tilbakestill skriftstorleik til standard","line_height":"Linjehgd","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Tilbakestill linjehgd til standard","letter_spacing":"Bokstavmellomrom","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Tilbakestill bokstavmellomrom til standard","font":"Skrifttype","font_weight":"Skriftvekt","text_transform":"Teksttransformasjon","font_style":"Skriftstil","default_option":" Standard ","weight_thin":"100  Tynn","weight_light":"300  Lett","weight_normal":"400  Normal","weight_medium":"500  Middels","weight_semi_bold":"600  Halvfeit","weight_bold":"700  Feit","weight_black":"900  Svart","transform_none":"Ingen","transform_uppercase":"STORE BOKSTAVAR","transform_lowercase":"sm bokstavar","transform_capitalize":"Stor forbokstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skrstilt","background_section":"Bakgrunn","background_color":"Bakgrunnsfarge","background_image_type":"Type bakgrunnsbilete","bg_none":"Ingen","bg_upload":"Last opp bilete","bg_entity":"Entitetsbilete","bg_url":"Bilet-URL","sizes_section":"Storleikar","spacing_section":"Avstand","border_section":"Kantlinje","text_shadow_section":"Tekstskugge","box_shadow_section":"Boksskugge","position_section":"Posisjon","overflow_section":"Overflyt","animations_section":"Animasjonar","width":"Breidde","height":"Hgde","max_width":"Maks breidde","max_height":"Maks hgde","min_width":"Minste breidde","min_height":"Minste hgde","border_radius":"Kantavrunding","border_style":"Kantstil","border_width":"Kantbreidd","border_color":"Kantfarge","margin":"Marg","padding":"Innvendig marg","top":"Topp","right":"Hgre","bottom":"Botn","left":"Venstre","unlock_sides":"Ls opp for  redigere sider uavhengig","lock_sides":"Ls for  redigere alle sider samla","horizontal_shift":"Vassrett forskyving","vertical_shift":"Loddrett forskyving","blur":"Slring","text_shadow_color":"Farge p tekstskugge","box_shadow_color":"Farge p boksskugge","overflow":"Overflyt","clip_path":"Klippesti","upload_bg_image":"Last opp bakgrunnsbilete","bg_image_entity":"Bakgrunnsbilete-entitet","bg_image_url":"URL til bakgrunnsbilete","choose_file":"Vel fil","no_file_chosen":"Ingen fil vald","backdrop_filter":"Bakgrunnsfilter","spread":"Spreiing","visible_default":"Synleg (standard)","examples":"Dme","state_based_animation":"Tilstandsbasert animasjon","animation_type":"Animasjonstype","animation_duration":"Animasjonsvarigheit","animation_duration_desc":"Varigheit for animasjonen (t.d. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outroanimasjonar","intro_animation":"Introanimasjon","outro_animation":"Outroanimasjon","duration":"Varigheit","delay":"Forsinking","timing":"Timing","none":"Ingen","ease":"Jamning","border_style_none":"Ingen","border_style_solid":"Heiltrekt","border_style_dashed":"Stipla","border_style_dotted":"Prikka","border_style_double":"Dobbel","position_default":" Standard ","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolutt","position_fixed":"Festa","position_sticky":"Klebrig"},"modules":{"text":"Tekstmodul","image":"Bildemodul","icon":"Ikonmodul","bar":"Stolpemodul","info":"Infomodul","button":"Knappmodul","separator":"Skiljelinje-modul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Diagrammodul","no_text_configured":"Ingen tekst konfigurert","no_image_configured":"Inga bilete konfigurert","uploaded_image":"Opplasta bilete","icons_configured":"{count} ikon konfigurert","no_icons_configured":"Ingen ikon konfigurert","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Attributt","attribute_name":"Attributtnamn","baseline":"Grunnlinje","bottom":"Botn","center":"Senter","entity":"Entitet","justify":"Juster","left":"Venstre","none":"Ingen","right":"Hgre","space_around":"Luft rundt","space_between":"Luft mellom","state":"Tilstand","stretch":"Strekk","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Vassrett justering","horizontal_desc":"Vel korleis element blir justerte vassrett i behaldaren.","vertical":"Loddrett justering","vertical_desc":"Vel korleis element blir justerte loddrett i behaldaren."},"empty":{"add_modules":"Legg til modular i oppsettbyggjaren for  sj dei her","no_modules":"Ingen modular lagt til enno"},"gap":{"between_items":"Mellomrom mellom element","desc":"Set avstand mellom vassrette element (i rem). Bruk negative verdiar for overlapping.","title":"Konfigurasjon av mellomrom"},"layout":{"desc":"Konfigurer korleis element er ordna vassrett i behaldaren.","title":"Oppsettkonfigurasjon"},"wrapping":{"desc":"Tillat at element bryt til neste linje nr breidda vert overskriden.","title":"Tillat linjebryting"}},"markdown":{"code_highlighting":"Syntaksmarkering","code_highlighting_desc":"Syntaksmarkering for kodeblokker","content":{"desc":"Skriv markdown-innhald med full formateringssttte","label":"Innhald","title":"Markdown-innhald"},"enable_html":"Tillat HTML","enable_html_desc":"Tillat HTML-taggar i markdown-innhald","enable_tables":"Aktiver tabellar","enable_tables_desc":"Sttte for tabellsyntaks i markdown","features":{"title":"Markdown-funksjonar"}},"vertical":{"alignment":{"vertical":"Loddrett justering","vertical_desc":"Vel korleis element blir justerte loddrett i behaldaren."},"empty":{"add_modules":"Legg til modular i oppsettbyggjaren for  sj dei her","no_modules":"Ingen modular lagt til enno"},"gap":{"between_items":"Mellomrom mellom element","desc":"Set avstand mellom loddrette element (i rem). Bruk negative verdiar for overlapping.","title":"Konfigurasjon av mellomrom"},"layout":{"desc":"Konfigurer korleis element er ordna loddrett i behaldaren.","title":"Oppsettkonfigurasjon"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var S=i.t(w,2);const A=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbygger","settings":"Innstillinger","about":"Om","pro":"Pro"},"settings":{"title":"Kortinnstillinger","description":"Konfigurer global kortutseende og oppfrsel."},"appearance":{"title":"Utseende","description":"Kontroller det visuelle utseendet til kortet ditt"},"spacing":{"title":"Avstand","description":"Kontroller avstanden og posisjoneringen til kortet ditt"},"fields":{"card_background_color":"Kort bakgrunnsfarge","card_background_color_desc":"Bakgrunnsfargen til hele kortet","border_radius":"Kantradius","border_radius_desc":"Avrundede hjrner for kortet (i piksler)","card_padding":"Kort polstring","card_padding_desc":"Intern avstand innenfor kortet","card_margin":"Kort marg","card_margin_desc":"Ekstern avstand rundt kortet","unit_px":"px","reset_default":"Tilbakestill til standard","reset_default_value":"Tilbakestill til standard ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"G til fullskjerm","return_dashboard":"Tilbake til dashbord","dashboard":"Dashbord"},"layout":{"live_preview":"Live forhndsvisning","toggle_preview":"Veksle forhndsvisning","drag_to_move_module":"Dra for  flytte modul","edit_module":"Rediger modul","duplicate_module":"Dupliser modul","delete_module":"Slett modul","drag_to_move_layout":"Dra for  flytte layoutmodul","horizontal_layout":"Horisontal layout","vertical_layout":"Vertikal layout","add_module_to_layout":"Legg til modul i layout","layout_settings":"Layoutinnstillinger","duplicate_layout":"Dupliser layout","delete_layout":"Slett layout","click_to_add_module":"Klikk for  legge til en modul","drop_modules_here":"Slipp moduler her","drag_to_reorder":"Dra for  endre rekkeflge","edit_child_module":"Rediger undermodul","duplicate_child_module":"Dupliser undermodul","delete_child_module":"Slett undermodul","module_settings_title":"Modulinnstillinger","general_tab":"Generelt","actions_tab":"Handlinger","other_tab":"Annet","logic_tab":"Logikk","design_tab":"Design","drag_to_resize":"Dra for  endre strrelse","hidden_by_logic":"Skjult av logikk","child_module_settings_title":"Undermodulinnstillinger","add_row":"Legg til rad","add_row_tooltip":"Legg til en ny rad til layoutet ditt","row_settings":"Radinnstillinger","column_settings":"Kolonneinnstillinger","row_background_color":"Rad bakgrunnsfarge","column_gap":"Kolonneavstand (px)","vertical_alignment":"Vertikal justering","horizontal_alignment":"Horisontal justering","column_preview":"Kolonneforhndsvisning","modules_count":"{count} moduler","alignment_top":"Topp","alignment_center":"Senter","alignment_bottom":"Bunn","alignment_stretch":"Strekk","alignment_left":"Venstre","alignment_right":"Hyre","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Utviklet av","desc1":"En kraftig modulr kortbygger for Home Assistant","desc2":"Lag tilpassede layouter med et profesjonelt sidebygger-grensesnitt","desc3":"Modulrt layoutsystem med betinget logikk og profesjonelle designverkty","github_repo":"GitHub-repositorium","version":"Versjon","join_discord":"Bli med p vr Discord","support_title":"Sttt Ultra Card","support_desc":"Dine sjenerse tips driver utviklingen av fantastiske funksjoner for dette kortet! Uten sttte fra brukere som deg, ville fortsatt innovasjon ikke vrt mulig.","leave_tip":"GI ET TIPS (PAYPAL)"},"actions":{"title":"Handlingskonfigurasjon","description":"Konfigurer hvordan denne modulen reagerer p brukerinteraksjoner. Bruker Home Assistants innebygde handlingssystem for konsistent oppfrsel p dashbordet ditt.","tap_action":"Trykk-handling","tap_action_desc":"Handling utfrt ved  trykke/klikke p modulen","hold_action":"Hold-handling","hold_action_desc":"Handling utfrt ved  holde nede p modulen","double_tap_action":"Dobbelttrykk-handling","double_tap_action_desc":"Handling utfrt ved dobbelttrykking p modulen","tap_behavior":"Trykk-oppfrsel","tap_behavior_desc":"Handling  utfre nr elementet trykkes/klikkes.","hold_behavior":"Hold-oppfrsel","hold_behavior_desc":"Handling  utfre nr elementet trykkes og holdes.","double_tap_behavior":"Dobbelttrykk-oppfrsel","double_tap_behavior_desc":"Handling  utfre nr elementet dobbeltrykkes/klikkes.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITETSKONFIGURASJON","desc":"Konfigurer entiteten og aktive/inaktive tilstander"},"entity":"Entitet","entity_desc":"Velg entiteten dette ikonet representerer","inactive_state":"Inaktiv tilstand","inactive_state_desc":"Tilstandsverdi ansett som \\"inaktiv\\" (la st tom for  bruke faktisk entitetstilstand)","active_state":"Aktiv tilstand","active_state_desc":"Tilstandsverdi ansett som \\"aktiv\\" (la st tom for  bruke faktisk entitetstilstand)","active_animation":"Aktiv animasjon","active_animation_desc":"Animasjon nr ikon er aktiv","active_icon":"Aktivt ikon","active_icon_background":"Aktivt ikon bakgrunn","active_icon_background_color":"Aktivt ikon bakgrunnsfarge","active_icon_color":"Aktivt ikon farge","active_icon_desc":"Ikon  vise nr aktiv","active_name":"Aktivt navn","active_name_color":"Aktivt navn farge","active_name_desc":"Tilpasset navn nr aktiv","active_state_color":"Aktiv tilstandsfarge","active_state_text":"Aktiv tilstandstekst","animation_bounce":"Hopp","animation_fade":"Fade","animation_flash":"Blink","animation_none":"Ingen","animation_pulse":"Puls","animation_rotate_left":"Roter venstre","animation_rotate_right":"Roter hyre","animation_scale":"Skaler","animation_section":{"desc":"Konfigurer animasjoner for aktive og inaktive tilstander","title":"Ikonanimasjon"},"animation_shake":"Rist","animation_spin":"Snurr","animation_tada":"Tada","animation_vibrate":"Vibrer","background_color_active":"Bakgrunnsfarge nr aktiv","background_color_inactive":"Bakgrunnsfarge nr inaktiv","background_section":{"desc":"Konfigurer inaktive bakgrunnsinnstillinger","title":"Inaktiv bakgrunn"},"background_shape_active":"Bakgrunnsform nr aktiv","background_shape_inactive":"Bakgrunnsform nr inaktiv","custom_active_name":"Tilpasset aktivt navn","custom_active_name_desc":"Overstyr entitetsnavn nr aktiv (la st tom for  bruke entitetsnavn)","custom_active_state":"Tilpasset aktiv tilstand","custom_active_state_desc":"Tilpasset tekst nr aktiv (la st tom for  bruke faktisk tilstand)","custom_inactive_name":"Tilpasset inaktivt navn","custom_inactive_name_desc":"Overstyr entitetsnavn nr inaktiv (la st tom for  bruke entitetsnavn)","custom_inactive_state":"Tilpasset inaktiv tilstand","custom_inactive_state_desc":"Tilpasset tekst nr inaktiv (la st tom for  bruke faktisk tilstand)","icon_color_active":"Farge nr aktiv","icon_color_inactive":"Farge nr inaktiv","icon_section":{"title":"Ikonkonfigurasjon"},"icon_size_active":"Ikonstrrelse nr aktiv","icon_size_inactive":"Ikonstrrelse nr inaktiv","inactive_animation":"Inaktiv animasjon","inactive_animation_desc":"Animasjon nr ikon er inaktiv","inactive_icon":"Inaktivt ikon","inactive_icon_background":"Inaktivt ikon bakgrunn","inactive_icon_background_color":"Inaktivt ikon bakgrunnsfarge","inactive_icon_color":"Inaktivt ikon farge","inactive_icon_config":"Konfigurasjon av inaktivt ikon","inactive_icon_config_desc":"Konfigurer innstillinger for inaktivt ikon","inactive_icon_desc":"Ikon  vise nr inaktiv","inactive_name":"Inaktivt navn","inactive_name_color":"Inaktivt navn farge","inactive_name_config":"Konfigurasjon av inaktivt navn","inactive_name_config_desc":"Konfigurer innstillinger for inaktivt navn","inactive_name_desc":"Tilpasset navn nr inaktiv","inactive_state_color":"Inaktiv tilstandsfarge","inactive_state_config":"Konfigurasjon av inaktiv tilstand","inactive_state_config_desc":"Konfigurer innstillinger for inaktiv tilstand","inactive_state_text":"Inaktiv tilstandstekst","name_color_active":"Navnefarge nr aktiv","name_color_inactive":"Navnefarge nr inaktiv","name_section":{"title":"Navnekonfigurasjon"},"name_size_active":"Navnetekststrrelse nr aktiv","name_size_inactive":"Navnetekststrrelse nr inaktiv","state_color_active":"Tilstandsfarge nr aktiv","state_color_inactive":"Tilstandsfarge nr inaktiv","state_section":{"title":"Tilstandskonfigurasjon"},"state_size_active":"Tilstandstekststrrelse nr aktiv","state_size_inactive":"Tilstandstekststrrelse nr inaktiv","template":"Mal","template_mode":"Avansert malmodus","template_section":{"desc":"Bruk Jinja2-maler for avansert ikonkontroll. Maler kan kontrollere synlighet (sant/usant for  vise/skjule ikoner) og tilpasse tilstandstekst. Returner tilpasset tekst for aktiv tilstand, returner faktisk entitetstilstand for inaktiv tilstand.","title":"Avansert malmodus"}},"text":{"content_section":{"title":"Innholdskonfigurasjon","desc":"Konfigurer tekstinnholdet og grunnleggende innstillinger for denne modulen."},"text_content":"Tekstinnhold","text_content_desc":"Skriv inn tekstinnholdet som skal vises i denne modulen.","icon_section":{"title":"Ikonkonfigurasjon","desc":"Velg et ikon som skal vises sammen med tekstinnholdet."},"icon":"Ikon","icon_desc":"Velg et ikon som skal vises sammen med teksten. La st tom for ingen ikon.","icon_position":"Ikonposisjon","icon_position_desc":"Velg hvor ikonet skal plasseres i forhold til teksten.","before_text":"Fr tekst","after_text":"Etter tekst","template_mode":"Malmodus","template_mode_desc":"Bruk Home Assistant-malsyntaks for  gjengi tekst","value_template":"Verdimal","value_template_desc":"Mal for  gjengi teksten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_percent":"Med prosent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Stolpeinnstillinger","desc":"Konfigurer hvordan stolpeprosenten beregnes og vises."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattributt","difference":"Forskjell","template":"Mal"},"attribute_section":{"title":"Konfigurasjon av entitetsattributt","desc":"Konfigurer entitetsattributtinnstillinger"},"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet p attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","diff_section":{"title":"Konfigurasjon av forskjellsberegning","desc":"Konfigurer innstillinger for forskjellsberegning"},"current_entity":"Nvrende verdi-entitet","current_entity_desc":"Entitet som representerer nvrende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)","template_section":{"title":"Malkonfigurasjon","desc":"Konfigurer malinnstillinger"},"percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animer stolpefyllet ved hjelp av forhndsinnstillinger som ladestiper, puls, gld og mer. Du kan utlse animasjoner basert p en entitets tilstand eller attributt, og eventuelt overstyre animasjonen nr en annen betingelse er oppfylt.","override":{"attribute_name_desc":"Attributtnavn  sammenligne","desc":"Velg en handlingsentitet og tilstand for  definere nr denne animasjonen skal overstyre den vanlige animasjonen","entity_desc":"Entitet  evaluere for overstyring av utlser","match_value":"Overstyr samsvarverdi","match_value_desc":"Tekstsammenligning mot tilstand eller attributt","title":"Overstyring av handlingsanimasjon","type":"Overstyr animasjonstype","type_desc":"Animasjon  bruke nr overstyringsbetingelsen samsvarer."},"title":"Stolpeanimasjon","trigger":{"attribute_name_desc":"Attributtnavn  sammenligne (f.eks. charging_status)","desc":"Velg en entitet  overvke og definer verdien + animasjonen  bruke nr den samsvarer.","entity_desc":"Entitet  evaluere for animasjonsutlser","match_value":"Samsvarverdi","match_value_desc":"Tekst  sammenligne mot tilstand eller attributt (sammenligning er tekstbasert).","title":"Animasjonsutlser","type":"Utlsertype","type_desc":"Velg om du vil sammenligne entitetstilstand eller et attributt"},"type":"Animasjonstype","type_desc":"Velg hvordan stolpen skal animeres nr utlst.","types":{"blinking":"Blinkende","bouncing":"Hoppende","bubbles":"Bobler","charging":"Lading (diagonale linjer)","fill":"Fyll","flicker":"Flimmer","glow":"Gld","heartbeat":"Hjerteslag","pulse":"Puls","rainbow":"Regnbue","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafikk (barberstang)","vibrate":"Vibrer"}},"appearance":{"alignment":"Stolpejustering","alignment_desc":"Velg hvordan stolpen skal justeres nr den er mindre enn 100% bredde.","border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjrnene til stolpen.","height":"Stolpehyde","height_desc":"Juster tykkelsen til fremdriftsstolpen i piksler.","style":"Stolpestil","style_dashed":"Stiplet","style_desc":"Velg den visuelle stilen til fremdriftsstolpen.","style_dots":"Dots","style_embossed":"Preget","style_flat":"Flat (standard)","style_glass":"Glass","style_glossy":"Blank","style_gradient":"Gradientoverlegg","style_inset":"Innfelt","style_metallic":"Metallisk","style_neon":"Neongld","style_neumorphic":"Neumorfisk","style_outline":"Omriss","title":"Stolpeutseende","direction":"Fylleretning","direction_desc":"Velg retningen stolpen fyller seg i nr verdien ker.","left_to_right":"Venstre til hyre","right_to_left":"Hyre til venstre","width":"Stolpebredde","width_desc":"Sett stolpebredden som prosent av beholder."},"attr_config":{"attribute_entity":"Attributtentitet","attribute_entity_desc":"Velg entiteten som inneholder attributtet med prosentverdien","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn navnet p attributtet som inneholder prosentverdien (f.eks. \\"battery_level\\")","desc":"Konfigurer entitetsattributtinnstillinger","title":"Konfigurasjon av entitetsattributt"},"colors":{"background_color":"Bakgrunnsfarge","bar_color":"Stolpefarge","border_color":"Kantfarge","left_side":"Venstre side farger","limit_indicator":"Grenseindikator","percentage_text":"Prosenttekst","right_side":"Hyre side farger","title":"Farger","title_color":"Tittelfarge","value_color":"Verdifarge","text_color":"Tekstfarge","text_color_desc":"Velg fargen for teksten vist p stolpen."},"diff_config":{"current_entity":"Nvrende verdi-entitet","current_entity_desc":"Entitet som representerer nvrende/brukt mengde (f.eks. brukt drivstoff, forbrukt batteri)","desc":"Konfigurer innstillinger for forskjellsberegning","title":"Konfigurasjon av forskjellsberegning","total_entity":"Total verdi-entitet","total_entity_desc":"Entitet som representerer total/maksimal mengde (f.eks. drivstoffkapasitet, batterikapasitet)"},"entity":{"desc_empty":"Velg en entitet som gir en prosentverdi (0-100). Batterisensorer er ideelle for stolper.","desc_present":"Entiteten som gir prosentverdien for stolpen.","no_entity_warning":"Ingen entitet valgt - Velg en sensor med verdier mellom 0-100","title":"Stolpe prosent-entitet"},"gradient":{"cropped":"Beskret","desc":"Bruk en fargegradient p stolpefyllet. Nr aktivert, velg hvordan gradienten vises og tilpass fargestopp nedenfor.","full":"Full","title":"Gradientmodus","value_based":"Verdibasert"},"labels":{"alignment":"Etikettjustering","alignment_desc":"Kontroller hvordan venstre og hyre etiketter er posisjonert."},"left":{"desc":"Konfigurer tittelen og entitetsverdien vist p venstre side av stolpen. Dette er nyttig for  vise etiketter som \'Rekkevidde\' eller \'Batteri\' sammen med deres verdier.","enable_toggle":"Aktiver bryteren over for  konfigurere venstre side innstillinger","template_desc":"Bruk en mal for  formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Venstre side","title_size":"Tittelstrrelse","value_size":"Verdistrrelse","value_template":"Verdimal","value_template_desc":"Mal for  formatere venstre side verdien ved hjelp av Jinja2-syntaks"},"limit_entity":{"desc":"Valgfritt: Legg til en vertikal indikatorlinje p stolpen (f.eks. ladegrense for EV-batteri).","title":"Grenseverdi-entitet (valgfritt)"},"percentage":{"desc":"Kontroller synligheten og utseendet til prosentverdier vist direkte p stolpen. Disse tallene gir en klar visuell indikator for nvrende niv.","text_alignment":"Prosenttekst justering","text_size":"Tekststrrelse","text_size_desc":"Juster strrelsen p prosenttekst vist p stolpen.","title":"Prosenttekst visning"},"right":{"desc":"Konfigurer tittelen og entitetsverdien vist p hyre side av stolpen. Dette er ideelt for utfyllende informasjon som \'Tid til full\' eller sekundre mlinger.","enable_toggle":"Aktiver bryteren over for  konfigurere hyre side innstillinger","template_desc":"Bruk en mal for  formatere den viste verdien. Maler bruker Home Assistants Jinja2-syntaks.","template_mode":"Malmodus","title":"Hyre side","title_size":"Tittelstrrelse","value_size":"Verdistrrelse","value_template":"Verdimal","value_template_desc":"Mal for  formatere hyre side verdien ved hjelp av Jinja2-syntaks"},"template_config":{"desc":"Konfigurer malinnstillinger","percentage_template":"Prosentmal","percentage_template_desc":"Skriv inn en Jinja2-mal som returnerer et tall mellom 0-100 for prosenten. Eksempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Malkonfigurasjon"},"text_display":{"title":"Tekstvisning","desc":"Kontroller synligheten og utseendet til tekstverdier vist direkte p stolpen. For forskjells- og malmoduser kan du velge  vise r enhetsverdier i stedet for prosenter.","show_value":"Vis verdi i stedet for prosent","show_value_desc":"Nr aktivert, viser den faktiske enhetsverdien i stedet for prosent. Nyttig for  vise r sensorverdier som \\"45 kWh\\" i stedet for \\"75%\\".","text_size":"Tekststrrelse","text_size_desc":"Juster strrelsen p teksten vist p stolpen.","text_alignment":"Tekstjustering"}},"image":{"settings":"Bildeinnstillinger","source_type":"Bildekildetype","source_type_desc":"Velg hvordan du vil spesifisere bildekilden.","source":{"default":"Standardbilde","url":"Bilde-URL","upload":"Last opp bilde","entity":"Entitetsbilde","attribute":"Entitetsattributt"},"url_section":{"title":"Konfigurasjon av bilde-URL"},"image_url":"Bilde-URL","image_url_desc":"Skriv inn den direkte URL-en til bildet du vil vise.","upload_section":{"title":"Konfigurasjon av bildeopplasting"},"upload":"Last opp bilde","upload_desc":"Klikk for  laste opp en bildefil fra enheten din.","entity_section":{"title":"Konfigurasjon av entitetsbilde"},"entity":"Entitet","entity_desc":"Velg en entitet som har et bilde (f.eks. person, kameraentiteter).","attribute_section":{"title":"Konfigurasjon av entitetsattributt"},"entity_attr_desc":"Velg entiteten som inneholder bilde-URL-en i et av sine attributter.","attribute_name":"Attributtnavn","attribute_name_desc":"Skriv inn attributtstien som inneholder bilde-URL-en (punktnotasjon stttet, f.eks. vehicle_data.vehicleDetails.generalDashboard).","width":"Bredde (%)","width_desc":"Sett bredden som en prosent av beholderen.","height":"Hyde (px)","height_desc":"Sett hyden i piksler.","crop_fit":"Beskjr og tilpass","crop_fit_desc":"Kontroller hvordan bildet passer innenfor sin beholder.","fit":{"cover":"Dekk (beskjr for  fylle)","contain":"Innhold (tilpass hele bildet)","fill":"Fyll (strekk for  passe)","scale_down":"Skaler ned","none":"Ingen (original strrelse)"},"border_radius":"Kantradius","border_radius_desc":"Kontroller de avrundede hjrnene til bildet.","tap_actions":"Trykk-handlinger","filters":"Filtre","filter":{"blur":"Uskarphet","blur_desc":"Bruk en uskarphet-effekt p bildet ditt.","brightness":"Lysstyrke (%)","brightness_desc":"Juster lysstyrken til bildet ditt.","contrast":"Kontrast (%)","contrast_desc":"Endre kontrasten til bildet ditt.","saturation":"Metning (%)","saturation_desc":"Juster metningen til bildet ditt."},"hover":{"title":"Hover-effekter","effect_type":"Effekttype","effect_type_desc":"Velg typen hover-effekt.","scale":"Skaler (zoom inn/ut)","rotate":"Roter","fade":"Fade (gjennomsiktighetendring)","blur":"Uskarphet","brightness":"Lysstyrke","glow":"Gld (boksskygge)","slide":"Gli (oversett)","scale_amount":"Skaler (%)","scale_amount_desc":"Juster skaleringen av bildet ved hover.","rotate_amount":"Rotasjon ()","rotate_amount_desc":"Roter bildet ved hover.","opacity":"Gjennomsiktighet (%)","opacity_desc":"Endre gjennomsiktigheten til bildet ved hover.","blur_amount":"Uskarphet (px)","blur_amount_desc":"Bruk en uskarphet-effekt p bildet ved hover.","brightness_amount":"Lysstyrke (%)","brightness_amount_desc":"Juster lysstyrken til bildet ved hover.","glow_intensity":"Gldintensitet","glow_intensity_desc":"Velg intensiteten til gldeffekten ved hover.","glow_light":"Lett gld","glow_medium":"Medium gld","glow_heavy":"Kraftig gld","glow_custom":"Tilpasset skygge","translate_x":"Horisontal (px)","translate_x_desc":"Oversett bildet horisontalt ved hover.","translate_y":"Vertikal (px)","translate_y_desc":"Oversett bildet vertikalt ved hover."},"alt":"Bilde","no_source":"Ingen bildekilde konfigurert"},"graphs":{"chart_type":{"title":"Diagramtype","type":"Type","desc":"Velg visualiseringsstilen for dataene dine."},"types":{"line":"Linjediagram","bar":"Stolpediagram","pie":"Sektordiagram","donut":"Smultringdiagram"},"data_sources":{"title":"Datakilder","add_entity":"Add Entity","add_first_entity":"Legg til din frste entitet for  lage et diagram","no_entities":"Ingen entiteter lagt til"},"entity":"Entitet","entity_desc":"Velg en entitet  plotte.","display_name_optional":"Visningsnavn (valgfritt)","use_as_card_info":"Bruk som kortinfo","attribute":"Attributt","attribute_desc":"Bruk entitetstilstand eller velg et spesifikt attributt  spore.","attribute_state_default":"Tilstand (standard)","show_points":"Vis punkter","fill_area":"Fyll omrde","line_style":"Linjestil","line_solid":"Hel","line_dashed":"Stiplet","line_dotted":"Prikket","pie_show_title":"Vis tittel i utsnitt","pie_show_value":"Vis verdi i utsnitt","expand_options":"Utvid alternativer","no_entities":"Ingen entiteter lagt til","add_first_entity":"Legg til din frste entitet for  lage et diagram","add_entity":"Add Entity","display_options":{"title":"Visningsalternativer"},"show_title":"Vis diagramtittel","show_value":"Vis diagramverdi","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","period":{"1h":"Siste time","3h":"Siste 3 timer","6h":"Siste 6 timer","12h":"Siste 12 timer","24h":"Siste 24 timer","2d":"Siste 2 dager","7d":"Siste uke","30d":"Siste mned","90d":"Siste 3 mneder","365d":"Siste r"},"normalize_values":"Normaliser verdier til samme skala","normalize_desc":"Nyttig nr du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","chart_height":"Diagramhyde","reset_345":"Tilbakestill til standard (345px)","chart_width":"Diagrambredde (%)","reset_100":"Tilbakestill til standard (100%)","agg":{"count":"Antall","delta":"Endring","first":"Frste verdi","last":"Siste verdi","max":"Maksimum","mean":"Gjennomsnitt","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Legg til utsnittgap","background_color":"Bakgrunnsfarge","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagrammet innenfor sin beholder.","chart_height":"Diagramhyde","chart_options":"Diagramalternativer","chart_title":"Diagramtittel","chart_title_placeholder":"Skriv inn diagramtittel","chart_width":"Diagrambredde (%)","chart_width_desc":"Prosent av modulens tilgjengelige bredde. Justering styrer plassering.","info_position":"Infoposisjon","info_position_desc":"Posisjon til overlegget som viser navn/verdi.","legend_position":"Legendeposisjon","legend_position_desc":"Hvor legenden skal plasseres nr aktivert.","normalize_desc":"Nyttig nr du sammenligner entiteter med forskjellige enheter (f.eks. % vs mil)","normalize_values":"Normaliser verdier til samme skala","show_grid":"Vis rutenett","show_legend":"Vis legende","show_title":"Vis diagramtittel","show_tooltips":"Vis verktytips","show_value":"Vis diagramverdi","smooth_lines":"Glatte linjer","time_period":"Tidsperiode","time_period_desc":"Hvor mye historisk data som skal vises.","title":"Visningsalternativer","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Fyll omrde","line_style":"Linjestil","line_width":"Linjebredde","show_points":"Vis punkter"},"line_styles":{"dashed":"Stiplet","dotted":"Prikket","solid":"Hel"},"pie":{"show_title":"Vis tittel i utsnitt","show_value":"Vis verdi i utsnitt"},"position":{"bottom":"Bunn","bottom_left":"Nederst til venstre","bottom_right":"Nederst til hyre","center":"Senter","hidden":"Skjult","left":"Venstre","middle":"Senter","right":"Hyre","top":"Topp","top_left":"verst til venstre","top_right":"verst til hyre"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Grunninnstillinger","desc":"Konfigurer knappens utseende og tekstinnhold."},"text":{"title":"Knapptekst","desc":"Tekst som skal vises p knappen (la st tom for kun ikon)."},"style":{"title":"Knappstil","desc":"Visuell stil for knappen"},"alignment":{"title":"Justering","desc":"Hvordan knappen er justert innenfor sin beholder"},"styles":{"flat":"Flat (standard)","glossy":"Blank","embossed":"Preget","inset":"Innfelt","gradient_overlay":"Gradientoverlegg","neon_glow":"Neongld","outline":"Omriss","glass":"Glass","metallic":"Metallisk"},"align":{"left":"Venstre","center":"Senter","right":"Hyre","justify":"Juster (full bredde)"},"icon":{"title":"Ikoninnstillinger","desc":"Konfigurer ikonvisning og posisjonering for knappen.","before":"Fr tekst","after":"Etter tekst","enable_toggle_desc":"Aktiver bryteren over for  konfigurere ikoninnstillinger"},"colors":{"title":"Farger","background":"Bakgrunnsfarge","text":"Tekstfarge"},"hover":{"effect_type":"Effekttype","effect_type_desc":"Velg hover-effekten for denne knappen.","none":"Ingen","color":"Fargeendring","scale":"Skaler","glow":"Gld","lift":"Lft (oversett Y)","hover_color":"Hover-farge","glow_color":"Gldfarge","title":"Hover-effekter","enable_toggle_desc":"Aktiver bryteren over for  konfigurere hover-effekter"},"actions":{"type":"Handlingstype","type_desc":"Velg hva som skjer nr knappen klikkes","entity":"Entitet","entity_desc":"Velg entiteten  samhandle med","navigation_path":"Navigasjonsbane","navigation_path_desc":"Bane  navigere til (f.eks. /dashboard/energy)","service":"Tjeneste","service_desc":"Tjeneste  kalle (f.eks. light.turn_on)","service_data":"Tjenestedata (JSON)","service_data_desc":"Valgfrie data  sende til tjenesten (JSON-format)"},"tap":{"title":"Trykk-handling","desc":"Handling  utfre nr knappen trykkes"},"hold":{"title":"Hold-handling","desc":"Handling  utfre nr knappen holdes nede"},"double":{"title":"Dobbelttrykk-handling","desc":"Handling  utfre nr knappen dobbeltrykkes"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon p knappen","icon_desc":"Ikon som skal vises (f.eks. mdi:home)","icon_position":"Ikonposisjon","icon_position_desc":"Posisjon til ikonet relativt til tekst","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURASJON"},"entity":"Entitet","entity_desc":"Velg entiteten som skal vises","icon_section":{"title":"Ikoninnstillinger"},"show_icon":"Vis ikon","show_icon_desc":"Vis et ikon ved siden av entitetsverdien","icon":"Ikon","icon_desc":"Velg et ikon som skal vises","icon_color":"Ikonfarge","name_section":{"title":"Navneinnstillinger"},"show_name":"Vis navn","show_name_desc":"Vis entitetsnavnet over verdien","custom_name":"Tilpasset navn","custom_name_desc":"Overstyr entitetsnavnet med et tilpasset navn","name_color":"Navnefarge","state_section":{"title":"Tilstandsinnstillinger"},"show_state":"Vis tilstand","show_state_desc":"Vis entitetstilstand/verdi","show_units":"Vis enheter","show_units_desc":"Vis mleenheten (hvis tilgjengelig)","state_color":"Tilstandsfarge","template":{"title":"Malmodus","desc":"Bruk en mal for  formatere entitetsverdien. Maler lar deg bruke Home Assistants malsyntaks for kompleks formatering.","mode":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for  formatere verdien","value":"Verdimal","value_desc":"Mal for  formatere entitetsverdien ved hjelp av Jinja2-syntaks"},"size_section":{"title":"Strrelsesinnstillinger"},"icon_size":"Ikonstrrelse","icon_size_desc":"Strrelse p ikonet i piksler","name_size":"Navnestrrelse","name_size_desc":"Strrelse p entitetsnavnteksten i piksler","value_size":"Verdistrrelse","value_size_desc":"Strrelse p entitetsverditeksten i piksler","icon_gap":"Ikonavstand","icon_gap_desc":"Avstand mellom ikon og innhold i piksler","layout_section":{"title":"Layout og posisjonering"},"icon_position":"Ikonposisjon","overall_alignment":"Overordnet justering","icon_alignment":"Ikonjustering","content_alignment":"Innholdsjustering","examples_title":"Vanlige eksempler:","example_basic":"Grunnverdi","example_units":"Med enheter","example_round":"Avrund til 1 desimal"},"camera":{"config":{"title":"Kamerakonfigurasjon","desc":"Konfigurer kameraentiteten og visningsinnstillinger."},"entity":"Kameraentitet","entity_desc":"Velg kameraentiteten som skal vises. Dette br vre en kamera- eller mjpeg-entitet fra Home Assistant.","name":"Kameranavn","name_desc":"Tilpasset navn for kameraet. La st tom for  bruke entitetsnavn.","show_name":"Vis kameranavn","show_name_desc":"Vis kameranavnet p feeden","name_position":{"group_title":"Kameranavn posisjon","title":"Navneposisjon","desc":"Velg hvor kameranavnet vises som et overlegg p kamerabildet.","options":{"top_left":"verst til venstre","top_right":"verst til hyre","center":"Senter","bottom_left":"Nederst til venstre","bottom_right":"Nederst til hyre"}},"display":{"title":"Visningsinnstillinger"},"live_view":{"title":"Live visning","desc":"Aktiver for  vise live kamerastrm (krever strm-integrasjon). Nr deaktivert, vises stillbildeyeblikksbilder."},"auto_refresh":{"section_title":"Automatiske oppdateringsinnstillinger","title":"Automatisk oppdatering","desc":"Oppdater automatisk kamerabildet med jevne mellomrom"},"refresh_interval":{"title":"Oppdateringsintervall (sekunder)","desc":"Hvor ofte kamerabildet skal oppdateres automatisk."},"dimensions":{"title":"Dimensjoner"},"width":"Bredde (px)","width_desc":"Sett bredden p kameravisningen. Omrde: 100-1000px","height":"Hyde (px)","height_desc":"Sett hyden p kameravisningen. Omrde: 100-1000px","link_aspect":"Koble strrelsesforhold","unlink_aspect":"Frakoble strrelsesforhold","aspect_linked":{"title":"Strrelsesforhold koblet","desc":"Dimensjoner opprettholder {ratio}:1 forhold. Justering av en dimensjon oppdaterer automatisk den andre for  opprettholde proporsjoner."},"aspect_independent":{"title":"Uavhengige dimensjoner","desc":"Bredde og hyde kan justeres uavhengig. Klikk p koblingknappen over for  opprettholde strrelsesforhold."},"crop":{"title":"Beskjr og posisjon","desc":"Juster beskjringen og posisjonen til kameravisningen. Nyttig for  fokusere p spesifikke omrder eller fjerne unskede kanter.","left_title":"Venstre beskjring (%)","left_desc":"Beskjr fra venstre kant. Hyere verdier viser mindre av venstre side.","right_title":"Hyre beskjring (%)","right_desc":"Beskjr fra hyre kant. Hyere verdier viser mindre av hyre side.","top_title":"Topp beskjring (%)","top_desc":"Beskjr fra topp kant. Hyere verdier viser mindre av toppomrdet.","bottom_title":"Bunn beskjring (%)","bottom_desc":"Beskjr fra bunn kant. Hyere verdier viser mindre av bunnomrdet.","active_applied":"Aktive beskjringer anvendt","reset_all":"Tilbakestill alle beskjringer"},"template":{"title":"Malmodus","desc":"Bruk en mal for  dynamisk sette kameraentiteten. Maler lar deg bruke Home Assistants malsyntaks for betinget kameravalg.","mode_label":"Malmodus","mode_desc":"Bruk Home Assistants malsyntaks for  dynamisk velge kameraentitet","camera_template_label":"Kameramal","camera_template_desc":"Mal for  dynamisk sette kameraentiteten ved hjelp av Jinja2-syntaks","examples_title":"Vanlige eksempler:","example1_desc":"Vis kamera nr vret er solrikt","example2_desc":"Bytt mellom kameraer basert p input boolean","example3_desc":"Bruk input select for  velge kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktiver bryteren over for  konfigurere kameranavn visning"}},"separator":{"config":{"title":"Separatorkonfigurasjon"},"style":{"title":"Separatorstil","desc":"Velg den visuelle stilen til separatorlinjen."},"options":{"solid":"Hel linje","double":"Dobbel linje","dotted":"Prikket linje","double_dotted":"Dobbel prikket","shadow":"Skygge","blank":"Tomt rom"},"appearance":{"title":"Utseende"},"thickness":"Tykkelse (px)","thickness_desc":"Tykkelse p separatorlinjen.","width":"Bredde (%)","width_desc":"Bredde p separatoren som prosent av beholder.","color":{"title":"Farge","desc":"Farge p separatorlinjen."},"show_title":"Vis tittel","show_title_desc":"Legg til tekst i midten av separatorlinjen (f.eks. ------ Tekst ------)","text_content":{"title":"Tekstinnhold","desc":"Tekst som skal vises i midten av separatoren."},"font_size":"Skriftstrrelse","font_size_desc":"Strrelse p teksten i piksler.","text_color":{"title":"Tekstfarge","desc":"Farge p separatorteksten."},"text_format":{"title":"Tekstformatering","desc":"Bruk formateringsstiler p separatorteksten.","bold":"Fet","italic":"Kursiv","underline":"Understreking","uppercase":"Store bokstaver","strikethrough":"Gjennomstreking"},"spacer":{"title":"Avstandshyde"},"height":"Hyde (px)","height_desc":"Styrer det visuelle gapet for tomt rom.","show_title_toggle":{"enable_toggle_desc":"Aktiver bryteren over for  konfigurere tittelinnstillinger"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Modulnavn:","module_name_placeholder":"Gi denne modulen et tilpasset navn for  gjre det lettere  identifisere i redigereren.","module_name_help":"Gi denne modulen et tilpasset navn for  gjre det lettere  identifisere i redigereren."},"layout_logic":{"display_title":"Vis dette elementet","display_desc":"Kontroller nr dette elementet vises. Velg \\"Alltid\\" for  holde det synlig. Velg \\"Hvis ALLE betingelser nedenfor er oppfylt\\" eller \\"Hvis NOEN betingelse nedenfor er oppfylt\\" for  vise det bare nr betingelsene du legger til nedenfor evalueres som sanne.","always":"Alltid","every":"Hvis ALLE betingelser nedenfor er oppfylt","any":"Hvis NOEN betingelse nedenfor er oppfylt","conditions":"Betingelser","add_condition":"Legg til betingelse","no_conditions":"Ingen betingelser lagt til enn. Klikk \\"Legg til betingelse\\" for  komme i gang.","condition_types":{"entity_state":"Entitetstilstand","entity_attribute":"Entitetsattributt","time":"Tidsomrde","template":"Mal"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Verdi","attribute":"Attributt","time_from":"Fra","time_to":"Til","template":"Mal"},"condition_header":"Betingelse","custom_name":"Tilpasset navn","custom_name_desc":"Valgfritt: Gi denne betingelsen et tilpasset navn for enklere identifikasjon","condition_type":"Betingelsestype"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurer visuelle effekter som vises nr du hover over denne modulen, raden eller kolonnen.","effect":"Hover-effekt","effect_desc":"Velg den visuelle effekten som skal brukes ved hovring","effects":{"none":"Ingen","highlight":"Uthev","outline":"Kontur","grow":"Voks","shrink":"Krympe","pulse":"Pulsere","bounce":"Sprette","float":"Flyte","glow":"Glde","shadow":"Skygge","rotate":"Rotere","skew":"Skjevt","wobble":"Vakle","buzz":"Vibrere","fade":"Falme"}},"design":{"copy":"Kopier","paste":"Lim inn","reset_all":"Tilbakestill alt","copy_tooltip":"Kopier nvrende designinnstillinger (virker p tvers av alle Ultra Cards)","paste_tooltip_has":"Lim inn kopierte designinnstillinger (fra tverrkort-utklippstavle)","paste_tooltip_none":"Ingen designinnstillinger i tverrkort-utklippstavle","reset_all_tooltip":"Tilbakestill alle designinnstillinger til standard","text_section":"Tekst","text_color":"Tekstfarge","alignment":"Justering","inherit_alignment":"Arv (ingen justering)","font_size":"Skriftstrrelse","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Tilbakestill skriftstrrelse til standard","line_height":"Linjehyde","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"Tilbakestill linjehyde til standard","letter_spacing":"Bokstavavstand","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"Tilbakestill bokstavavstand til standard","font":"Skrifttype","font_weight":"Skriftvekt","text_transform":"Teksttransformasjon","font_style":"Skriftstil","default_option":" Standard ","weight_thin":"100 - Tynn","weight_light":"300 - Lett","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Halvfet","weight_bold":"700 - Fet","weight_black":"900 - Svart","transform_none":"Ingen","transform_uppercase":"STORE BOKSTAVER","transform_lowercase":"sm bokstaver","transform_capitalize":"Stor forbokstav","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Skr","background_section":"Bakgrunn","background_color":"Bakgrunnsfarge","background_image_type":"Bakgrunnsbilde type","bg_none":"Ingen","bg_upload":"Last opp bilde","bg_entity":"Entitetsbilde","bg_url":"Bilde-URL","sizes_section":"Strrelser","spacing_section":"Avstand","border_section":"Kant","text_shadow_section":"Tekstskygge","box_shadow_section":"Boksskygge","position_section":"Posisjon","overflow_section":"Overflyt","animations_section":"Animasjoner","width":"Bredde","height":"Hyde","max_width":"Maks bredde","max_height":"Maks hyde","min_width":"Min bredde","min_height":"Min hyde","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredde","border_color":"Kantfarge","margin":"Margin","padding":"Polstring","top":"Topp","right":"Hyre","bottom":"Bunn","left":"Venstre","unlock_sides":"Ls opp for  redigere sider uavhengig","lock_sides":"Ls for  redigere alle sider sammen","horizontal_shift":"Horisontal forskyvning","vertical_shift":"Vertikal forskyvning","blur":"Uskarphet","text_shadow_color":"Tekstskygge farge","box_shadow_color":"Boksskygge farge","overflow":"Overflyt","clip_path":"Klippebane","upload_bg_image":"Last opp bakgrunnsbilde","bg_image_entity":"Bakgrunnsbilde-entitet","bg_image_url":"Bakgrunnsbilde-URL","choose_file":"Velg fil","no_file_chosen":"Ingen fil valgt","backdrop_filter":"Bakgrunnsfilter","spread":"Spredning","visible_default":"Synlig (standard)","examples":"Eksempler","state_based_animation":"Tilstandsbasert animasjon","animation_type":"Animasjonstype","animation_duration":"Animation Duration","animation_duration_desc":"Varighet for animasjonen (f.eks. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- og outro-animasjoner","intro_animation":"Intro-animasjon","outro_animation":"Outro-animasjon","duration":"Varighet","delay":"Forsinkelse","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Hel","border_style_dashed":"Stiplet","border_style_dotted":"Prikket","border_style_double":"Double","position_default":" Standard ","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolutt","position_fixed":"Fast","position_sticky":"Klebrig"},"modules":{"text":"Tekstmodul","image":"Bildemodul","icon":"Ikonmodul","bar":"Stolpemodul","info":"Infomodul","button":"Knappmodul","separator":"Separatormodul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Grafmodul","no_text_configured":"Ingen tekst konfigurert","no_image_configured":"Ingen bilde konfigurert","uploaded_image":"Opplastet bilde","icons_configured":"{count} ikoner konfigurert","no_icons_configured":"Ingen ikoner konfigurert","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Eksempeltekst","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Attributt","attribute_name":"Attributtnavn","baseline":"Grunnlinje","bottom":"Bunn","center":"Senter","entity":"Entitet","justify":"Juster","left":"Venstre","none":"Ingen","right":"Hyre","space_around":"Plass rundt","space_between":"Plass mellom","state":"Tilstand","stretch":"Strekk","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Horisontal justering","horizontal_desc":"Velg hvordan elementer justeres horisontalt innenfor beholderen.","vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for  se dem her","no_modules":"Ingen moduler lagt til enn"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom horisontale elementer (i rem-enheter). Bruk negative verdier for  overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres horisontalt innenfor beholderen.","title":"Layoutkonfigurasjon"},"wrapping":{"desc":"Tillat elementer  bryte til neste linje nr de overskrider beholderbredden.","title":"Tillat ombrytning"}},"markdown":{"code_highlighting":"Kodemarkering","code_highlighting_desc":"Syntaksmarkering for kodeblokker","content":{"desc":"Skriv inn ditt markdown-innhold med full formateringssttte","label":"Innhold","title":"Markdown-innhold"},"enable_html":"Aktiver HTML","enable_html_desc":"Tillat HTML-tagger i markdown-innhold","enable_tables":"Aktiver tabeller","enable_tables_desc":"Sttte for markdown-tabellsyntaks","features":{"title":"Markdown-funksjoner"}},"vertical":{"alignment":{"vertical":"Vertikal justering","vertical_desc":"Velg hvordan elementer justeres vertikalt innenfor beholderen."},"empty":{"add_modules":"Legg til moduler i layoutbyggeren for  se dem her","no_modules":"Ingen moduler lagt til enn"},"gap":{"between_items":"Avstand mellom elementer","desc":"Sett avstanden mellom vertikale elementer (i rem-enheter). Bruk negative verdier for  overlappe elementer.","title":"Avstandskonfigurasjon"},"layout":{"desc":"Konfigurer hvordan elementer arrangeres vertikalt innenfor beholderen.","title":"Layoutkonfigurasjon"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var C=i.t(A,2);const z=JSON.parse('{"editor":{"tabs":{"layout":"Konstruktor ukadu","settings":"Ustawienia","about":"O programie","pro":"Pro"},"settings":{"title":"Ustawienia karty","description":"Konfiguruj globalny wygld i zachowanie karty."},"appearance":{"title":"Wygld","description":"Kontroluj wizualny wygld swojej karty"},"spacing":{"title":"Odstpy","description":"Kontroluj odstpy i pozycjonowanie swojej karty"},"fields":{"card_background_color":"Kolor ta karty","card_background_color_desc":"Kolor ta caej karty","border_radius":"Promie obramowania","border_radius_desc":"Zaokrglone rogi karty (w pikselach)","card_padding":"Wypenienie karty","card_padding_desc":"Wewntrzne odstpy w karcie","card_margin":"Margines karty","card_margin_desc":"Zewntrzne odstpy wok karty","unit_px":"px","reset_default":"Przywr domylne","reset_default_value":"Przywr domylne ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"Peny ekran","return_dashboard":"Powrt do pulpitu","dashboard":"Pulpit"},"layout":{"live_preview":"Podgld na ywo","toggle_preview":"Przecz podgld","drag_to_move_module":"Przecignij, aby przenie modu","edit_module":"Edytuj modu","duplicate_module":"Duplikuj modu","delete_module":"Usu modu","drag_to_move_layout":"Przecignij, aby przenie modu ukadu","horizontal_layout":"Ukad poziomy","vertical_layout":"Ukad pionowy","add_module_to_layout":"Dodaj modu do ukadu","layout_settings":"Ustawienia ukadu","duplicate_layout":"Duplikuj ukad","delete_layout":"Usu ukad","click_to_add_module":"Kliknij, aby doda modu","drop_modules_here":"Upu moduy tutaj","drag_to_reorder":"Przecignij, aby zmieni kolejno","edit_child_module":"Edytuj modu potomny","duplicate_child_module":"Duplikuj modu potomny","delete_child_module":"Usu modu potomny","module_settings_title":"Ustawienia moduu","general_tab":"Oglne","actions_tab":"Akcje","other_tab":"Inne","logic_tab":"Logika","design_tab":"Projekt","drag_to_resize":"Przecignij, aby zmieni rozmiar","hidden_by_logic":"Ukryte przez logik","child_module_settings_title":"Ustawienia moduu potomnego","add_row":"Dodaj wiersz","add_row_tooltip":"Dodaj nowy wiersz do swojego ukadu","row_settings":"Ustawienia wiersza","column_settings":"Ustawienia kolumny","row_background_color":"Kolor ta wiersza","column_gap":"Odstp kolumn (px)","vertical_alignment":"Wyrwnanie pionowe","horizontal_alignment":"Wyrwnanie poziome","column_preview":"Podgld kolumny","modules_count":"{count} moduw","alignment_top":"Gra","alignment_center":"rodek","alignment_bottom":"D","alignment_stretch":"Rozcignij","alignment_left":"Lewo","alignment_right":"Prawo","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Opracowane przez","desc1":"Potny modularny konstruktor kart dla Home Assistant","desc2":"Twrz niestandardowe ukady z profesjonalnym interfejsem konstruktora stron","desc3":"Modularny system ukadw z logik warunkow i profesjonalnymi narzdziami projektowymi","github_repo":"Repozytorium GitHub","version":"Wersja","join_discord":"Docz do naszego Discorda","support_title":"Wspieraj Ultra Card","support_desc":"Twoje hojne napiwki napdzaj rozwj niesamowitych funkcji tej karty! Bez wsparcia uytkownikw takich jak ty, cige innowacje nie byyby moliwe.","leave_tip":"ZOSTAW NAPIWEK (PAYPAL)"},"actions":{"title":"Konfiguracja akcji","description":"Skonfiguruj, jak ten modu reaguje na interakcje uytkownika. Uywa natywnego systemu akcji Home Assistant dla spjnego zachowania na pulpicie.","tap_action":"Akcja dotknicia","tap_action_desc":"Akcja wykonywana przy dotkniciu/klikniciu moduu","hold_action":"Akcja przytrzymania","hold_action_desc":"Akcja wykonywana przy przytrzymaniu moduu","double_tap_action":"Akcja podwjnego dotknicia","double_tap_action_desc":"Akcja wykonywana przy podwjnym dotkniciu moduu","tap_behavior":"Zachowanie dotknicia","tap_behavior_desc":"Akcja do wykonania gdy element jest dotknity/kliknity.","hold_behavior":"Zachowanie przytrzymania","hold_behavior_desc":"Akcja do wykonania gdy element jest nacinity i przytrzymany.","double_tap_behavior":"Zachowanie podwjnego dotknicia","double_tap_behavior_desc":"Akcja do wykonania gdy element jest podwjnie dotknity/kliknity.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"KONFIGURACJA ENCJI","desc":"Skonfiguruj encj i stany aktywny/nieaktywny"},"entity":"Encja","entity_desc":"Wybierz encj, ktr reprezentuje ta ikona","inactive_state":"Stan nieaktywny","inactive_state_desc":"Warto stanu uwaana za \\"nieaktywn\\" (zostaw puste, aby uy rzeczywistego stanu encji)","active_state":"Stan aktywny","active_state_desc":"Warto stanu uwaana za \\"aktywn\\" (zostaw puste, aby uy rzeczywistego stanu encji)","active_animation":"Aktywna animacja","active_animation_desc":"Animacja gdy ikona jest aktywna","active_icon":"Aktywna ikona","active_icon_background":"To aktywnej ikony","active_icon_background_color":"Kolor ta aktywnej ikony","active_icon_color":"Kolor aktywnej ikony","active_icon_desc":"Ikona do pokazania gdy aktywna","active_name":"Aktywna nazwa","active_name_color":"Kolor aktywnej nazwy","active_name_desc":"Niestandardowa nazwa gdy aktywna","active_state_color":"Kolor aktywnego stanu","active_state_text":"Tekst aktywnego stanu","animation_bounce":"Odbicie","animation_fade":"Zanikanie","animation_flash":"Bysk","animation_none":"Brak","animation_pulse":"Puls","animation_rotate_left":"Obrt w lewo","animation_rotate_right":"Obrt w prawo","animation_scale":"Skala","animation_section":{"desc":"Skonfiguruj animacje dla stanw aktywnych i nieaktywnych","title":"Animacja ikony"},"animation_shake":"Trzsienie","animation_spin":"Obrt","animation_tada":"Tada","animation_vibrate":"Wibracja","background_color_active":"Kolor ta gdy aktywny","background_color_inactive":"Kolor ta gdy nieaktywny","background_section":{"desc":"Skonfiguruj ustawienia nieaktywnego ta","title":"Nieaktywne to"},"background_shape_active":"Ksztat ta gdy aktywny","background_shape_inactive":"Ksztat ta gdy nieaktywny","custom_active_name":"Niestandardowa aktywna nazwa","custom_active_name_desc":"Nadpisz nazw encji gdy aktywna (zostaw puste, aby uy nazwy encji)","custom_active_state":"Niestandardowy aktywny stan","custom_active_state_desc":"Niestandardowy tekst gdy aktywny (zostaw puste, aby uy rzeczywistego stanu)","custom_inactive_name":"Niestandardowa nieaktywna nazwa","custom_inactive_name_desc":"Nadpisz nazw encji gdy nieaktywna (zostaw puste, aby uy nazwy encji)","custom_inactive_state":"Niestandardowy nieaktywny stan","custom_inactive_state_desc":"Niestandardowy tekst gdy nieaktywny (zostaw puste, aby uy rzeczywistego stanu)","icon_color_active":"Kolor gdy aktywny","icon_color_inactive":"Kolor gdy nieaktywny","icon_section":{"title":"Konfiguracja ikony"},"icon_size_active":"Rozmiar ikony gdy aktywna","icon_size_inactive":"Rozmiar ikony gdy nieaktywna","inactive_animation":"Nieaktywna animacja","inactive_animation_desc":"Animacja gdy ikona jest nieaktywna","inactive_icon":"Nieaktywna ikona","inactive_icon_background":"To nieaktywnej ikony","inactive_icon_background_color":"Kolor ta nieaktywnej ikony","inactive_icon_color":"Kolor nieaktywnej ikony","inactive_icon_config":"Konfiguracja nieaktywnej ikony","inactive_icon_config_desc":"Skonfiguruj ustawienia nieaktywnej ikony","inactive_icon_desc":"Ikona do pokazania gdy nieaktywna","inactive_name":"Nieaktywna nazwa","inactive_name_color":"Kolor nieaktywnej nazwy","inactive_name_config":"Konfiguracja nieaktywnej nazwy","inactive_name_config_desc":"Skonfiguruj ustawienia nieaktywnej nazwy","inactive_name_desc":"Niestandardowa nazwa gdy nieaktywna","inactive_state_color":"Kolor nieaktywnego stanu","inactive_state_config":"Konfiguracja nieaktywnego stanu","inactive_state_config_desc":"Skonfiguruj ustawienia nieaktywnego stanu","inactive_state_text":"Tekst nieaktywnego stanu","name_color_active":"Kolor nazwy gdy aktywna","name_color_inactive":"Kolor nazwy gdy nieaktywna","name_section":{"title":"Konfiguracja nazwy"},"name_size_active":"Rozmiar tekstu nazwy gdy aktywna","name_size_inactive":"Rozmiar tekstu nazwy gdy nieaktywna","state_color_active":"Kolor stanu gdy aktywny","state_color_inactive":"Kolor stanu gdy nieaktywny","state_section":{"title":"Konfiguracja stanu"},"state_size_active":"Rozmiar tekstu stanu gdy aktywny","state_size_inactive":"Rozmiar tekstu stanu gdy nieaktywny","template":"Szablon","template_mode":"Zaawansowany tryb szablonu","template_section":{"desc":"Uyj szablonw Jinja2 dla zaawansowanej kontroli ikon. Szablony mog kontrolowa widoczno (prawda/fasz do pokazywania/ukrywania ikon) i dostosowywa tekst stanu. Zwr niestandardowy tekst dla stanu aktywnego, zwr rzeczywisty stan encji dla stanu nieaktywnego.","title":"Zaawansowany tryb szablonu"}},"text":{"content_section":{"title":"Konfiguracja zawartoci","desc":"Skonfiguruj zawarto tekstow i podstawowe ustawienia tego moduu."},"text_content":"Zawarto tekstowa","text_content_desc":"Wprowad zawarto tekstow do wywietlenia w tym module.","icon_section":{"title":"Konfiguracja ikony","desc":"Wybierz ikon do wywietlenia obok zawartoci tekstowej."},"icon":"Ikona","icon_desc":"Wybierz ikon do wywietlenia obok tekstu. Zostaw puste dla braku ikony.","icon_position":"Pozycja ikony","icon_position_desc":"Wybierz gdzie umieci ikon wzgldem tekstu.","before_text":"Przed tekstem","after_text":"Po tekcie","template_mode":"Tryb szablonu","template_mode_desc":"Uyj skadni szablonw Home Assistant do renderowania tekstu","value_template":"Szablon wartoci","value_template_desc":"Szablon do renderowania tekstu uywajc skadni Jinja2","examples_title":"Typowe przykady:","example_basic":"Podstawowa warto","example_percent":"Z procentem","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Ustawienia paska","desc":"Skonfiguruj jak procent paska jest obliczany i wywietlany."},"perc_type":{"entity":"Encja (0-100)","attribute":"Atrybut encji","difference":"Rnica","template":"Szablon"},"attribute_section":{"title":"Konfiguracja atrybutu encji","desc":"Skonfiguruj ustawienia atrybutu encji"},"attribute_entity":"Encja atrybutu","attribute_entity_desc":"Wybierz encj zawierajc atrybut z wartoci procentow","attribute_name":"Nazwa atrybutu","attribute_name_desc":"Wprowad nazw atrybutu zawierajcego warto procentow (np. \\"battery_level\\")","diff_section":{"title":"Konfiguracja obliczania rnicy","desc":"Skonfiguruj ustawienia obliczania rnicy"},"current_entity":"Encja biecej wartoci","current_entity_desc":"Encja reprezentujca biec/zuyt ilo (np. zuyte paliwo, zuyta bateria)","total_entity":"Encja cakowitej wartoci","total_entity_desc":"Encja reprezentujca cakowit/maksymaln ilo (np. pojemno paliwa, pojemno baterii)","template_section":{"title":"Konfiguracja szablonu","desc":"Skonfiguruj ustawienia szablonu"},"percentage_template":"Szablon procentowy","percentage_template_desc":"Wprowad szablon Jinja2 zwracajcy liczb midzy 0-100 dla procentu. Przykad: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animuj wypenienie paska uywajc ustawie jak paski adowania, puls, blask i wicej. Moesz wyzwala animacje na podstawie stanu lub atrybutu encji i opcjonalnie nadpisa animacj gdy speniony jest inny warunek.","override":{"attribute_name_desc":"Nazwa atrybutu do porwnania","desc":"Wybierz encj akcji i stan aby zdefiniowa kiedy ta animacja powinna nadpisa regularn animacj","entity_desc":"Encja do oceny dla wyzwalacza nadpisania","match_value":"Nadpisz warto dopasowania","match_value_desc":"Porwnanie tekstowe ze stanem lub atrybutem","title":"Nadpisanie animacji akcji","type":"Nadpisz typ animacji","type_desc":"Animacja do uycia gdy warunek nadpisania jest speniony."},"title":"Animacja paska","trigger":{"attribute_name_desc":"Nazwa atrybutu do porwnania (np. charging_status)","desc":"Wybierz encj do obserwowania i zdefiniuj warto + animacj do zastosowania gdy pasuje.","entity_desc":"Encja do oceny dla wyzwalacza animacji","match_value":"Warto dopasowania","match_value_desc":"Tekst do porwnania ze stanem lub atrybutem (porwnanie jest tekstowe).","title":"Wyzwalacz animacji","type":"Typ wyzwalacza","type_desc":"Wybierz czy porwna stan encji czy atrybut"},"type":"Typ animacji","type_desc":"Wybierz jak pasek powinien si animowa gdy wyzwolony.","types":{"blinking":"Miganie","bouncing":"Odbijanie","bubbles":"Bbelki","charging":"adowanie (linie ukone)","fill":"Wypenienie","flicker":"Migotanie","glow":"Blask","heartbeat":"Bicie serca","pulse":"Puls","rainbow":"Tcza","ripple":"Fala","shimmer":"Poysk","traffic":"Ruch (sup fryzjerski)","vibrate":"Wibracja"}},"appearance":{"direction":"Kierunek wypeniania","direction_desc":"Wybierz kierunek, w ktrym pasek wypenia si wraz ze wzrostem wartoci.","left_to_right":"Z lewej do prawej","right_to_left":"Z prawej do lewej","alignment":"Wyrwnanie paska","alignment_desc":"Wybierz jak wyrwna pasek gdy ma mniej ni 100% szerokoci.","border_radius":"Promie obramowania","border_radius_desc":"Kontroluj zaokrglone rogi paska.","height":"Wysoko paska","height_desc":"Dostosuj grubo paska postpu w pikselach.","style":"Styl paska","style_dashed":"Dashed","style_desc":"Wybierz wizualny styl paska postpu.","style_dots":"Dots","style_embossed":"Wytoczony","style_flat":"Paski (domylny)","style_glass":"Szko","style_glossy":"Byszczcy","style_gradient":"Nakadka gradientu","style_inset":"Wgbiony","style_metallic":"Metaliczny","style_neon":"Neonowy blask","style_neumorphic":"Neumorficzny","style_outline":"Kontur","title":"Wygld paska","width":"Szeroko paska","width_desc":"Ustaw szeroko paska jako procent kontenera."},"attr_config":{"attribute_entity":"Encja atrybutu","attribute_entity_desc":"Wybierz encj zawierajc atrybut z wartoci procentow","attribute_name":"Nazwa atrybutu","attribute_name_desc":"Wprowad nazw atrybutu zawierajcego warto procentow (np. \\"battery_level\\")","desc":"Skonfiguruj ustawienia atrybutu encji","title":"Konfiguracja atrybutu encji"},"colors":{"background_color":"Kolor ta","bar_color":"Kolor paska","border_color":"Kolor obramowania","left_side":"Kolory lewej strony","limit_indicator":"Wskanik limitu","percentage_text":"Tekst procentowy","right_side":"Kolory prawej strony","title":"Kolory","title_color":"Kolor tytuu","value_color":"Kolor wartoci","text_color":"Kolor tekstu","text_color_desc":"Wybierz kolor tekstu wywietlanego na pasku."},"diff_config":{"current_entity":"Encja biecej wartoci","current_entity_desc":"Encja reprezentujca biec/zuyt ilo (np. zuyte paliwo, zuyta bateria)","desc":"Skonfiguruj ustawienia obliczania rnicy","title":"Konfiguracja obliczania rnicy","total_entity":"Encja cakowitej wartoci","total_entity_desc":"Encja reprezentujca cakowit/maksymaln ilo (np. pojemno paliwa, pojemno baterii)"},"entity":{"desc_empty":"Wybierz encj dostarczajc warto procentow (0-100). Sensory baterii s idealne dla paskw.","desc_present":"Encja dostarczajca warto procentow dla paska.","no_entity_warning":"Nie wybrano encji - Prosz wybra sensor z wartociami midzy 0-100","title":"Encja procentu paska"},"gradient":{"cropped":"Cropped","desc":"Apply a color gradient to the bar fill. When enabled, choose how the gradient is displayed and customize color stops below.","full":"Full","title":"Gradient Mode","value_based":"Value Based"},"labels":{"alignment":"Label Alignment","alignment_desc":"Control how left and right labels are positioned."},"left":{"desc":"Configure the title and entity value shown on the left side of the bar. This is useful for displaying labels like \'Range\' or \'Battery\' alongside their values.","enable_toggle":"Enable the toggle above to configure left side settings","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","template_mode":"Tryb szablonu","title":"Left Side","title_size":"Title Size","value_size":"Value Size","value_template":"Szablon wartoci","value_template_desc":"Template to format the left side value using Jinja2 syntax"},"limit_entity":{"desc":"Opcjonalne: Dodaj pionow lini wskanika na pasku (np. limit adowania dla baterii EV).","title":"Encja wartoci limitu (opcjonalne)"},"percentage":{"desc":"Control the visibility and appearance of percentage values shown directly on the bar. These numbers provide a clear visual indicator of the current level.","text_alignment":"Percentage Text Alignment","text_size":"Text Size","text_size_desc":"Adjust the size of percentage text shown on the bar.","title":"Percentage Text Display"},"right":{"desc":"Configure the title and entity value shown on the right side of the bar. This is ideal for complementary information like \'Time to Full\' or secondary measurements.","enable_toggle":"Enable the toggle above to configure right side settings","template_desc":"Use a template to format the displayed value. Templates use Home Assistant\'s Jinja2 syntax.","template_mode":"Tryb szablonu","title":"Right Side","title_size":"Title Size","value_size":"Value Size","value_template":"Szablon wartoci","value_template_desc":"Template to format the right side value using Jinja2 syntax"},"template_config":{"desc":"Skonfiguruj ustawienia szablonu","percentage_template":"Szablon procentowy","percentage_template_desc":"Wprowad szablon Jinja2 zwracajcy liczb midzy 0-100 dla procentu. Przykad: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Konfiguracja szablonu"},"text_display":{"title":"Wywietlanie tekstu","desc":"Kontroluj widoczno i wygld wartoci tekstowych wywietlanych bezporednio na pasku. Dla trybw rnicy i szablonu moesz wybra wywietlanie surowych wartoci encji zamiast procentw.","show_value":"Poka warto zamiast procentu","show_value_desc":"Gdy wczone, pokazuje rzeczywist warto encji zamiast procentu. Przydatne do wywietlania surowych wartoci czujnikw jak \\"45 kWh\\" zamiast \\"75%\\".","text_size":"Rozmiar tekstu","text_size_desc":"Dostosuj rozmiar tekstu wywietlanego na pasku.","text_alignment":"Wyrwnanie tekstu"}},"image":{"settings":"Image Settings","source_type":"Image Source Type","source_type_desc":"Choose how you want to specify the image source.","source":{"default":"Default Image","url":"Image URL","upload":"Upload Image","entity":"Entity Image","attribute":"Atrybut encji"},"url_section":{"title":"Image URL Configuration"},"image_url":"Image URL","image_url_desc":"Enter the direct URL to the image you want to display.","upload_section":{"title":"Upload Image Configuration"},"upload":"Upload Image","upload_desc":"Click to upload an image file from your device.","entity_section":{"title":"Entity Image Configuration"},"entity":"Encja","entity_desc":"Select an entity that has an image (e.g., person, camera entities).","attribute_section":{"title":"Konfiguracja atrybutu encji"},"entity_attr_desc":"Select the entity that contains the image URL in one of its attributes.","attribute_name":"Nazwa atrybutu","attribute_name_desc":"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard).","width":"Width (%)","width_desc":"Set the width as a percentage of the container.","height":"Height (px)","height_desc":"Set the height in pixels.","crop_fit":"Crop & Fit","crop_fit_desc":"Control how the image fits within its container.","fit":{"cover":"Cover (crop to fill)","contain":"Contain (fit entire image)","fill":"Fill (stretch to fit)","scale_down":"Scale Down","none":"None (original size)"},"border_radius":"Promie obramowania","border_radius_desc":"Control the rounded corners of the image.","tap_actions":"Tap Actions","filters":"Filters","filter":{"blur":"Blur","blur_desc":"Apply a blur effect to your image.","brightness":"Brightness (%)","brightness_desc":"Adjust the brightness of your image.","contrast":"Contrast (%)","contrast_desc":"Modify the contrast of your image.","saturation":"Saturation (%)","saturation_desc":"Adjust the saturation of your image."},"hover":{"title":"Hover Effects","effect_type":"Effect Type","effect_type_desc":"Choose the type of hover effect.","scale":"Scale (zoom in/out)","rotate":"Rotate","fade":"Fade (opacity change)","blur":"Blur","brightness":"Brightness","glow":"Glow (box shadow)","slide":"Slide (translate)","scale_amount":"Scale (%)","scale_amount_desc":"Adjust the scale of the image on hover.","rotate_amount":"Rotation ()","rotate_amount_desc":"Rotate the image on hover.","opacity":"Opacity (%)","opacity_desc":"Change the opacity of the image on hover.","blur_amount":"Blur (px)","blur_amount_desc":"Apply a blur effect to the image on hover.","brightness_amount":"Brightness (%)","brightness_amount_desc":"Adjust the brightness of the image on hover.","glow_intensity":"Glow Intensity","glow_intensity_desc":"Choose the intensity of the glow effect on hover.","glow_light":"Light Glow","glow_medium":"Medium Glow","glow_heavy":"Heavy Glow","glow_custom":"Custom Shadow","translate_x":"Horizontal (px)","translate_x_desc":"Translate the image horizontally on hover.","translate_y":"Vertical (px)","translate_y_desc":"Translate the image vertically on hover."},"alt":"Obraz","no_source":"No image source configured"},"graphs":{"chart_type":{"title":"Chart Type","type":"Type","desc":"Select the visualization style for your data."},"types":{"line":"Line Chart","bar":"Bar Chart","pie":"Pie Chart","donut":"Donut Chart"},"data_sources":{"title":"Data Sources","add_entity":"Add Entity","add_first_entity":"Add your first entity to create a chart","no_entities":"No entities added"},"entity":"Encja","entity_desc":"Select an entity to plot.","display_name_optional":"Display name (optional)","use_as_card_info":"Use as card info","attribute":"Atrybut","attribute_desc":"Use entity state or select a specific attribute to track.","attribute_state_default":"State (default)","show_points":"Show Points","fill_area":"Fill Area","line_style":"Line Style","line_solid":"Solid","line_dashed":"Dashed","line_dotted":"Dotted","pie_show_title":"Show Title in Slice","pie_show_value":"Show Value in Slice","expand_options":"Expand Options","no_entities":"No entities added","add_first_entity":"Add your first entity to create a chart","add_entity":"Add Entity","display_options":{"title":"Display Options"},"show_title":"Show Graph Title","show_value":"Show Graph Value","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","time_period":"Time Period","time_period_desc":"How much historical data to show.","period":{"1h":"Last Hour","3h":"Last 3 Hours","6h":"Last 6 Hours","12h":"Last 12 Hours","24h":"Last 24 Hours","2d":"Last 2 Days","7d":"Last Week","30d":"Last Month","90d":"Last 3 Months","365d":"Last Year"},"normalize_values":"Normalize values to same scale","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","chart_height":"Chart Height","reset_345":"Reset to default (345px)","chart_width":"Chart Width (%)","reset_100":"Reset to default (100%)","agg":{"count":"Count","delta":"Change","first":"First Value","last":"Last Value","max":"Maximum","mean":"Average","median":"Median","min":"Minimum","sum":"Sum"},"display":{"add_slice_gap":"Add Slice Gap","background_color":"Kolor ta","chart_alignment":"Chart Alignment","chart_alignment_desc":"Alignment of the chart within its container.","chart_height":"Chart Height","chart_options":"Chart Options","chart_title":"Chart Title","chart_title_placeholder":"Enter chart title","chart_width":"Chart Width (%)","chart_width_desc":"Percentage of the module\'s available width. Alignment controls placement.","info_position":"Info Position","info_position_desc":"Position of the overlay showing name/value.","legend_position":"Legend Position","legend_position_desc":"Where to place the legend when enabled.","normalize_desc":"Useful when comparing entities with different units (e.g., % vs miles)","normalize_values":"Normalize values to same scale","show_grid":"Show Grid","show_legend":"Show Legend","show_title":"Show Graph Title","show_tooltips":"Show Tooltips","show_value":"Show Graph Value","smooth_lines":"Smooth Lines","time_period":"Time Period","time_period_desc":"How much historical data to show.","title":"Display Options","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Fill Area","line_style":"Line Style","line_width":"Line Width","show_points":"Show Points"},"line_styles":{"dashed":"Dashed","dotted":"Dotted","solid":"Solid"},"pie":{"show_title":"Show Title in Slice","show_value":"Show Value in Slice"},"position":{"bottom":"D","bottom_left":"Bottom Left","bottom_right":"Bottom Right","center":"rodek","hidden":"Hidden","left":"Lewo","middle":"rodek","right":"Prawo","top":"Gra","top_left":"Top Left","top_right":"Top Right"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Basic Settings","desc":"Configure the button appearance and text content."},"text":{"title":"Button Text","desc":"Text to display on the button (leave blank for icon-only)."},"style":{"title":"Button Style","desc":"Visual style of the button"},"alignment":{"title":"Alignment","desc":"How the button is aligned within its container"},"styles":{"flat":"Paski (domylny)","glossy":"Byszczcy","embossed":"Wytoczony","inset":"Wgbiony","gradient_overlay":"Nakadka gradientu","neon_glow":"Neonowy blask","outline":"Kontur","glass":"Szko","metallic":"Metaliczny"},"align":{"left":"Lewo","center":"rodek","right":"Prawo","justify":"Justify (Full Width)"},"icon":{"title":"Icon Settings","desc":"Configure icon display and positioning for the button.","before":"Przed tekstem","after":"Po tekcie","enable_toggle_desc":"Enable the toggle above to configure icon settings"},"colors":{"title":"Kolory","background":"Kolor ta","text":"Text Color"},"hover":{"effect_type":"Effect Type","effect_type_desc":"Choose the hover effect for this button.","none":"Brak","color":"Color Change","scale":"Skala","glow":"Blask","lift":"Lift (translate Y)","hover_color":"Hover Color","glow_color":"Glow Color","title":"Hover Effects","enable_toggle_desc":"Enable the toggle above to configure hover effects"},"actions":{"type":"Action Type","type_desc":"Choose what happens when the button is clicked","entity":"Encja","entity_desc":"Select the entity to interact with","navigation_path":"Navigation Path","navigation_path_desc":"Path to navigate to (e.g., /dashboard/energy)","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data (JSON)","service_data_desc":"Optional data to pass to the service (JSON format)"},"tap":{"title":"Akcja dotknicia","desc":"Action to perform when button is tapped"},"hold":{"title":"Akcja przytrzymania","desc":"Action to perform when button is held down"},"double":{"title":"Akcja podwjnego dotknicia","desc":"Action to perform when button is double-tapped"},"show_icon":"Show Icon","show_icon_desc":"Display an icon on the button","icon_desc":"Icon to display (e.g., mdi:home)","icon_position":"Pozycja ikony","icon_position_desc":"Position of the icon relative to text","icon_field":"Ikona"},"info":{"entity_section":{"title":"KONFIGURACJA ENCJI"},"entity":"Encja","entity_desc":"Select the entity to display","icon_section":{"title":"Icon Settings"},"show_icon":"Show Icon","show_icon_desc":"Display an icon next to the entity value","icon":"Ikona","icon_desc":"Choose an icon to display","icon_color":"Icon Color","name_section":{"title":"Name Settings"},"show_name":"Show Name","show_name_desc":"Display the entity name above the value","custom_name":"Custom Name","custom_name_desc":"Override the entity name with a custom name","name_color":"Name Color","state_section":{"title":"State Settings"},"show_state":"Show State","show_state_desc":"Display the entity state/value","show_units":"Show Units","show_units_desc":"Display the unit of measurement (if available)","state_color":"State Color","template":{"title":"Tryb szablonu","desc":"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.","mode":"Tryb szablonu","mode_desc":"Use Home Assistant templating syntax to format the value","value":"Szablon wartoci","value_desc":"Template to format the entity value using Jinja2 syntax"},"size_section":{"title":"Size Settings"},"icon_size":"Icon Size","icon_size_desc":"Size of the icon in pixels","name_size":"Name Size","name_size_desc":"Size of the entity name text in pixels","value_size":"Value Size","value_size_desc":"Size of the entity value text in pixels","icon_gap":"Icon Gap","icon_gap_desc":"Space between the icon and content in pixels","layout_section":{"title":"Layout & Positioning"},"icon_position":"Pozycja ikony","overall_alignment":"Overall Alignment","icon_alignment":"Icon Alignment","content_alignment":"Content Alignment","examples_title":"Typowe przykady:","example_basic":"Podstawowa warto","example_units":"With units","example_round":"Round to 1 decimal"},"camera":{"config":{"title":"Camera Configuration","desc":"Configure the camera entity and display settings."},"entity":"Camera Entity","entity_desc":"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant.","name":"Camera Name","name_desc":"Custom name for the camera. Leave empty to use entity name.","show_name":"Show Camera Name","show_name_desc":"Display the camera name on the feed","name_position":{"group_title":"Camera Name Position","title":"Name Position","desc":"Choose where the camera name appears as an overlay on the camera image.","options":{"top_left":"Top Left","top_right":"Top Right","center":"rodek","bottom_left":"Bottom Left","bottom_right":"Bottom Right"}},"display":{"title":"Display Settings"},"live_view":{"title":"Live View","desc":"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."},"auto_refresh":{"section_title":"Auto Refresh Settings","title":"Auto Refresh","desc":"Automatically refresh the camera image at regular intervals"},"refresh_interval":{"title":"Refresh Interval (seconds)","desc":"How often to refresh the camera image automatically."},"dimensions":{"title":"Dimensions"},"width":"Width (px)","width_desc":"Set the width of the camera display. Range: 100-1000px","height":"Height (px)","height_desc":"Set the height of the camera display. Range: 100-1000px","link_aspect":"Link aspect ratio","unlink_aspect":"Unlink aspect ratio","aspect_linked":{"title":"Aspect Ratio Linked","desc":"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions."},"aspect_independent":{"title":"Independent Dimensions","desc":"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio."},"crop":{"title":"Crop & Position","desc":"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.","left_title":"Left Crop (%)","left_desc":"Crop from the left edge. Higher values show less of the left side.","right_title":"Right Crop (%)","right_desc":"Crop from the right edge. Higher values show less of the right side.","top_title":"Top Crop (%)","top_desc":"Crop from the top edge. Higher values show less of the top area.","bottom_title":"Bottom Crop (%)","bottom_desc":"Crop from the bottom edge. Higher values show less of the bottom area.","active_applied":"Active Crops Applied","reset_all":"Reset All Crops"},"template":{"title":"Tryb szablonu","desc":"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.","mode_label":"Tryb szablonu","mode_desc":"Use Home Assistant templating syntax to dynamically select camera entity","camera_template_label":"Camera Template","camera_template_desc":"Template to dynamically set the camera entity using Jinja2 syntax","examples_title":"Typowe przykady:","example1_desc":"Show camera when weather is sunny","example2_desc":"Switch between cameras based on input boolean","example3_desc":"Use input select to choose camera entity"},"show_name_toggle":{"enable_toggle_desc":"Enable the toggle above to configure camera name display"}},"separator":{"config":{"title":"Separator Configuration"},"style":{"title":"Separator Style","desc":"Choose the visual style of the separator line."},"options":{"solid":"Solid Line","double":"Double Line","dotted":"Dotted Line","double_dotted":"Double Dotted","shadow":"Shadow","blank":"Blank Space"},"appearance":{"title":"Wygld"},"thickness":"Thickness (px)","thickness_desc":"Thickness of the separator line.","width":"Width (%)","width_desc":"Width of the separator as percentage of container.","color":{"title":"Color","desc":"Color of the separator line."},"show_title":"Show Title","show_title_desc":"Add text in the middle of the separator line (e.g., ------ Text ------)","text_content":{"title":"Zawarto tekstowa","desc":"Text to display in the middle of the separator."},"font_size":"Font Size","font_size_desc":"Size of the text in pixels.","text_color":{"title":"Text Color","desc":"Color of the separator text."},"text_format":{"title":"Text Formatting","desc":"Apply formatting styles to the separator text.","bold":"Bold","italic":"Italic","underline":"Underline","uppercase":"Uppercase","strikethrough":"Strikethrough"},"spacer":{"title":"Spacer Height"},"height":"Height (px)","height_desc":"Controls the visual gap for Blank Space.","show_title_toggle":{"enable_toggle_desc":"Enable the toggle above to configure title settings"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Nazwa moduu:","module_name_placeholder":"Nadaj temu moduowi niestandardow nazw, aby atwiej go identyfikowa w edytorze.","module_name_help":"Nadaj temu moduowi niestandardow nazw, aby atwiej go identyfikowa w edytorze."},"layout_logic":{"display_title":"Wywietl ten element","display_desc":"Control when this element is shown. Choose \\"Always\\" to keep it visible. Select \\"If EVERY condition below is met\\" or \\"If ANY condition below is met\\" to display it only when the conditions you add below evaluate to true.","always":"Zawsze","every":"If EVERY condition below is met","any":"If ANY condition below is met","conditions":"Warunki","add_condition":"Dodaj warunek","no_conditions":"No conditions added yet. Click \\"Add Condition\\" to get started.","condition_types":{"entity_state":"Entity State","entity_attribute":"Atrybut encji","time":"Time Range","template":"Szablon"},"condition_fields":{"entity":"Encja","operator":"Operator","value":"Value","attribute":"Atrybut","time_from":"From","time_to":"To","template":"Szablon"},"condition_header":"Condition","custom_name":"Custom Name","custom_name_desc":"Optional: Give this condition a custom name for easier identification","condition_type":"Condition Type"},"hover_effects":{"title":"Efekty hover","description":"Skonfiguruj efekty wizualne, ktre pojawiaj si po najechaniu kursorem na ten modu, wiersz lub kolumn.","effect":"Efekt hover","effect_desc":"Wybierz efekt wizualny do zastosowania podczas najechania kursorem","effects":{"none":"Brak","highlight":"Podwietlenie","outline":"Kontur","grow":"Powikszenie","shrink":"Zmniejszenie","pulse":"Pulsowanie","bounce":"Odbicie","float":"Unoszenie","glow":"wiecenie","shadow":"Cie","rotate":"Obrt","skew":"Pochylenie","wobble":"Chwianie","buzz":"Wibracja","fade":"Zanikanie"}},"design":{"copy":"Copy","paste":"Paste","reset_all":"Reset All","copy_tooltip":"Copy current design settings (works across all Ultra Cards)","paste_tooltip_has":"Paste copied design settings (from cross-card clipboard)","paste_tooltip_none":"No design settings in cross-card clipboard","reset_all_tooltip":"Reset all design settings to default","text_section":"Tekst","text_color":"Text Color","alignment":"Alignment","inherit_alignment":"Inherit (no alignment)","font_size":"Font Size","font_size_placeholder":"16px (default), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"Reset font size to default","line_height":"Line Height","line_height_placeholder":"0 (default), 28px, 1.7","reset_line_height":"Reset line height to default","letter_spacing":"Letter Spacing","letter_spacing_placeholder":"auto (default), 1px, -0.04em","reset_letter_spacing":"Reset letter spacing to default","font":"Font","font_weight":"Font Weight","text_transform":"Text Transform","font_style":"Font Style","default_option":" Default ","weight_thin":"100 - Thin","weight_light":"300 - Light","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Semi Bold","weight_bold":"700 - Bold","weight_black":"900 - Black","transform_none":"Brak","transform_uppercase":"UPPERCASE","transform_lowercase":"lowercase","transform_capitalize":"Capitalize","style_normal":"Normal","style_italic":"Italic","style_oblique":"Oblique","background_section":"To","background_color":"Kolor ta","background_image_type":"Background Image Type","bg_none":"Brak","bg_upload":"Upload Image","bg_entity":"Entity Image","bg_url":"Image URL","sizes_section":"Sizes","spacing_section":"Odstpy","border_section":"Border","text_shadow_section":"Text Shadow","box_shadow_section":"Box Shadow","position_section":"Position","overflow_section":"Overflow","animations_section":"Animations","width":"Szeroko","height":"Wysoko","max_width":"Max Width","max_height":"Max Height","min_width":"Min Width","min_height":"Min Height","border_radius":"Promie obramowania","border_style":"Border Style","border_width":"Border Width","border_color":"Kolor obramowania","margin":"Margin","padding":"Padding","top":"Gra","right":"Prawo","bottom":"D","left":"Lewo","unlock_sides":"Unlock to edit sides independently","lock_sides":"Lock to edit all sides together","horizontal_shift":"Horizontal Shift","vertical_shift":"Vertical Shift","blur":"Blur","text_shadow_color":"Text Shadow Color","box_shadow_color":"Box Shadow Color","overflow":"Overflow","clip_path":"Clip-path","upload_bg_image":"Upload Background Image","bg_image_entity":"Background Image Entity","bg_image_url":"Background Image URL","choose_file":"Choose File","no_file_chosen":"No file chosen","backdrop_filter":"Backdrop Filter","spread":"Spread","visible_default":"Visible (Default)","examples":"Examples","state_based_animation":"State-based Animation","animation_type":"Typ animacji","animation_duration":"Animation Duration","animation_duration_desc":"Duration for the animation (e.g., 2s, 500ms, 1.5s)","intro_outro_animations":"Intro & Outro Animations","intro_animation":"Intro Animation","outro_animation":"Outro Animation","duration":"Duration","delay":"Delay","timing":"Timing","none":"Brak","ease":"Ease","border_style_none":"Brak","border_style_solid":"Solid","border_style_dashed":"Dashed","border_style_dotted":"Dotted","border_style_double":"Double","position_default":" Default ","position_static":"Static","position_relative":"Relative","position_absolute":"Absolute","position_fixed":"Fixed","position_sticky":"Sticky"},"modules":{"text":"Modu tekstu","image":"Modu obrazu","icon":"Modu ikony","bar":"Modu paska","info":"Info Module","button":"Modu przycisku","separator":"Separator Module","markdown":"Markdown Module","camera":"Modu kamery","graphs":"Graphs Module","no_text_configured":"No text configured","no_image_configured":"No image configured","uploaded_image":"Uploaded image","icons_configured":"{count} icons configured","no_icons_configured":"No icons configured","default_entity_suggestion":"Entity: sensor.battery_level","sample_text":"Sample Text","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Atrybut","attribute_name":"Nazwa atrybutu","baseline":"Linia bazowa","bottom":"D","center":"rodek","entity":"Encja","justify":"Wyjustuj","left":"Lewo","none":"Brak","right":"Prawo","space_around":"Przestrze wok","space_between":"Przestrze midzy","state":"Stan","stretch":"Rozcignij","top":"Gra"},"horizontal":{"alignment":{"horizontal":"Wyrwnanie poziome","horizontal_desc":"Choose how elements are aligned horizontally within the container.","vertical":"Wyrwnanie pionowe","vertical_desc":"Choose how elements are aligned vertically within the container."},"empty":{"add_modules":"Add modules in the layout builder to see them here","no_modules":"No modules added yet"},"gap":{"between_items":"Gap Between Items","desc":"Set the spacing between horizontal elements (in rem units). Use negative values to overlap elements.","title":"Gap Configuration"},"layout":{"desc":"Configure how elements are arranged horizontally within the container.","title":"Layout Configuration"},"wrapping":{"desc":"Allow elements to wrap to the next line when they exceed the container width.","title":"Allow Wrapping"}},"markdown":{"code_highlighting":"Code Highlighting","code_highlighting_desc":"Syntax highlighting for code blocks","content":{"desc":"Enter your markdown content with full formatting support","label":"Content","title":"Markdown Content"},"enable_html":"Enable HTML","enable_html_desc":"Allow HTML tags in markdown content","enable_tables":"Enable Tables","enable_tables_desc":"Support for markdown table syntax","features":{"title":"Markdown Features"}},"vertical":{"alignment":{"vertical":"Wyrwnanie pionowe","vertical_desc":"Choose how elements are aligned vertically within the container."},"empty":{"add_modules":"Add modules in the layout builder to see them here","no_modules":"No modules added yet"},"gap":{"between_items":"Gap Between Items","desc":"Set the spacing between vertical elements (in rem units). Use negative values to overlap elements.","title":"Gap Configuration"},"layout":{"desc":"Configure how elements are arranged vertically within the container.","title":"Layout Configuration"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}');var T=i.t(z,2);const I=JSON.parse('{"editor":{"tabs":{"layout":"Layoutbyggare","settings":"Instllningar","about":"Om","pro":"Pro"},"settings":{"title":"Kortinstllningar","description":"Konfigurera global kortutseende och beteende."},"appearance":{"title":"Utseende","description":"Kontrollera det visuella utseendet p ditt kort"},"spacing":{"title":"Avstnd","description":"Kontrollera avstndet och positioneringen av ditt kort"},"fields":{"card_background_color":"Kortbakgrundsfrg","card_background_color_desc":"Bakgrundsfrgen fr hela kortet","border_radius":"Kantradius","border_radius_desc":"Rundade hrn fr kortet (i pixlar)","card_padding":"Kortutfyllnad","card_padding_desc":"Internt avstnd inom kortet","card_margin":"Kortmarginal","card_margin_desc":"Externt avstnd runt kortet","unit_px":"px","reset_default":"terstll till standard","reset_default_value":"terstll till standard ({value})","card_border_color":"Border Color","card_border_color_desc":"The border color of the card","card_border_width":"Border Width","card_border_width_desc":"The thickness of the card border (in pixels)","card_shadow_enabled":"Enable Shadow","card_shadow_enabled_desc":"Enable custom shadow for the card","card_shadow_color":"Shadow Color","card_shadow_color_desc":"The color of the card shadow","card_shadow_horizontal":"Horizontal Offset","card_shadow_horizontal_desc":"Horizontal position of the shadow (negative = left, positive = right)","card_shadow_vertical":"Vertical Offset","card_shadow_vertical_desc":"Vertical position of the shadow (negative = up, positive = down)","card_shadow_blur":"Blur Radius","card_shadow_blur_desc":"How blurred the shadow appears","card_shadow_spread":"Spread Radius","card_shadow_spread_desc":"How much the shadow expands or contracts"},"tooltips":{"enter_fullscreen":"G till helskrm","return_dashboard":"terg till instrumentpanel","dashboard":"Instrumentpanel"},"layout":{"live_preview":"Live frhandsvisning","toggle_preview":"Vxla frhandsvisning","drag_to_move_module":"Dra fr att flytta modul","edit_module":"Redigera modul","duplicate_module":"Duplicera modul","delete_module":"Ta bort modul","drag_to_move_layout":"Dra fr att flytta layoutmodul","horizontal_layout":"Horisontell layout","vertical_layout":"Vertikal layout","add_module_to_layout":"Lgg till modul i layout","layout_settings":"Layoutinstllningar","duplicate_layout":"Duplicera layout","delete_layout":"Ta bort layout","click_to_add_module":"Klicka fr att lgga till en modul","drop_modules_here":"Slpp moduler hr","drag_to_reorder":"Dra fr att ndra ordning","edit_child_module":"Redigera undermodul","duplicate_child_module":"Duplicera undermodul","delete_child_module":"Ta bort undermodul","module_settings_title":"Modulinstllningar","general_tab":"Allmnt","actions_tab":"tgrder","other_tab":"Annat","logic_tab":"Logik","design_tab":"Design","drag_to_resize":"Dra fr att ndra storlek","hidden_by_logic":"Dold av logik","child_module_settings_title":"Undermodulinstllningar","add_row":"Lgg till rad","add_row_tooltip":"Lgg till en ny rad till din layout","row_settings":"Radinstllningar","column_settings":"Kolumninstllningar","row_background_color":"Radbakgrundsfrg","column_gap":"Kolumnavstnd (px)","vertical_alignment":"Vertikal justering","horizontal_alignment":"Horisontell justering","column_preview":"Kolumnfrhandsvisning","modules_count":"{count} moduler","alignment_top":"Topp","alignment_center":"Centrum","alignment_bottom":"Botten","alignment_stretch":"Strck","alignment_left":"Vnster","alignment_right":"Hger","undo":"Undo","undo_tooltip":"Undo last change (Ctrl+Z)","redo":"Redo","redo_tooltip":"Redo last undone change (Ctrl+Y)","pin_preview":"Pin preview (keep in view)","unpin_preview":"Unpin preview (scroll with content)"},"about":{"developed_by":"Utvecklad av","desc1":"En kraftfull modulr kortbyggare fr Home Assistant","desc2":"Skapa anpassade layouter med ett professionellt sidbyggargrnssnitt","desc3":"Modulrt layoutsystem med villkorlig logik och professionella designverktyg","github_repo":"GitHub-frrd","version":"Version","join_discord":"G med i vr Discord","support_title":"Std Ultra Card","support_desc":"Dina genersa tips driver utvecklingen av fantastiska funktioner fr detta kort! Utan std frn anvndare som du skulle fortsatt innovation inte vara mjlig.","leave_tip":"LMNA ETT TIPS (PAYPAL)"},"actions":{"title":"tgrdskonfiguration","description":"Konfigurera hur denna modul svarar p anvndarinteraktioner. Anvnder Home Assistants inbyggda tgrdssystem fr konsekvent beteende ver din instrumentpanel.","tap_action":"Trycktgrd","tap_action_desc":"tgrd som utfrs vid tryck/klick p modulen","hold_action":"Hll-tgrd","hold_action_desc":"tgrd som utfrs vid nedtryckning av modulen","double_tap_action":"Dubbeltryck-tgrd","double_tap_action_desc":"tgrd som utfrs vid dubbeltryck p modulen","tap_behavior":"Tryckbeteende","tap_behavior_desc":"tgrd att utfra nr elementet trycks/klickas.","hold_behavior":"Hll-beteende","hold_behavior_desc":"tgrd att utfra nr elementet trycks och hlls.","double_tap_behavior":"Dubbeltryck-beteende","double_tap_behavior_desc":"tgrd att utfra nr elementet dubbeltrycks/klickas.","haptic_feedback":"Haptic Feedback","haptic_feedback_desc":"Provide tactile feedback when buttons are pressed on supported devices"},"icon":{"entity_config":{"title":"ENTITETSKONFIGURATION","desc":"Konfigurera entiteten och aktiva/inaktiva tillstnd"},"entity":"Entitet","entity_desc":"Vlj entiteten som denna ikon representerar","inactive_state":"Inaktivt tillstnd","inactive_state_desc":"Tillstndsvrde som anses \\"inaktivt\\" (lmna tomt fr att anvnda faktiskt entitetstillstnd)","active_state":"Aktivt tillstnd","active_state_desc":"Tillstndsvrde som anses \\"aktivt\\" (lmna tomt fr att anvnda faktiskt entitetstillstnd)","active_animation":"Aktiv animation","active_animation_desc":"Animation nr ikon r aktiv","active_icon":"Aktiv ikon","active_icon_background":"Aktiv ikon bakgrund","active_icon_background_color":"Aktiv ikon bakgrundsfrg","active_icon_color":"Aktiv ikon frg","active_icon_desc":"Ikon att visa nr aktiv","active_name":"Aktivt namn","active_name_color":"Aktivt namn frg","active_name_desc":"Anpassat namn nr aktiv","active_state_color":"Aktiv tillstndsfrg","active_state_text":"Aktiv tillstndstext","animation_bounce":"Studsa","animation_fade":"Tona","animation_flash":"Blinka","animation_none":"Ingen","animation_pulse":"Pulsera","animation_rotate_left":"Rotera vnster","animation_rotate_right":"Rotera hger","animation_scale":"Skala","animation_section":{"desc":"Konfigurera animationer fr aktiva och inaktiva tillstnd","title":"Ikonanimation"},"animation_shake":"Skaka","animation_spin":"Snurra","animation_tada":"Tada","animation_vibrate":"Vibrera","background_color_active":"Bakgrundsfrg nr aktiv","background_color_inactive":"Bakgrundsfrg nr inaktiv","background_section":{"desc":"Konfigurera inaktiva bakgrundsinstllningar","title":"Inaktiv bakgrund"},"background_shape_active":"Bakgrundsform nr aktiv","background_shape_inactive":"Bakgrundsform nr inaktiv","custom_active_name":"Anpassat aktivt namn","custom_active_name_desc":"sidostt entitetsnamn nr aktiv (lmna tomt fr att anvnda entitetsnamn)","custom_active_state":"Anpassat aktivt tillstnd","custom_active_state_desc":"Anpassad text nr aktiv (lmna tomt fr att anvnda faktiskt tillstnd)","custom_inactive_name":"Anpassat inaktivt namn","custom_inactive_name_desc":"sidostt entitetsnamn nr inaktiv (lmna tomt fr att anvnda entitetsnamn)","custom_inactive_state":"Anpassat inaktivt tillstnd","custom_inactive_state_desc":"Anpassad text nr inaktiv (lmna tomt fr att anvnda faktiskt tillstnd)","icon_color_active":"Frg nr aktiv","icon_color_inactive":"Frg nr inaktiv","icon_section":{"title":"Ikonkonfiguration"},"icon_size_active":"Ikonstorlek nr aktiv","icon_size_inactive":"Ikonstorlek nr inaktiv","inactive_animation":"Inaktiv animation","inactive_animation_desc":"Animation nr ikon r inaktiv","inactive_icon":"Inaktiv ikon","inactive_icon_background":"Inaktiv ikon bakgrund","inactive_icon_background_color":"Inaktiv ikon bakgrundsfrg","inactive_icon_color":"Inaktiv ikon frg","inactive_icon_config":"Inaktiv ikonkonfiguration","inactive_icon_config_desc":"Konfigurera inaktiva ikoninstllningar","inactive_icon_desc":"Ikon att visa nr inaktiv","inactive_name":"Inaktivt namn","inactive_name_color":"Inaktivt namn frg","inactive_name_config":"Inaktiv namnkonfiguration","inactive_name_config_desc":"Konfigurera inaktiva namninstllningar","inactive_name_desc":"Anpassat namn nr inaktiv","inactive_state_color":"Inaktiv tillstndsfrg","inactive_state_config":"Inaktiv tillstndskonfiguration","inactive_state_config_desc":"Konfigurera inaktiva tillstndsinstllningar","inactive_state_text":"Inaktiv tillstndstext","name_color_active":"Namnfrg nr aktiv","name_color_inactive":"Namnfrg nr inaktiv","name_section":{"title":"Namnkonfiguration"},"name_size_active":"Namntextstorlek nr aktiv","name_size_inactive":"Namntextstorlek nr inaktiv","state_color_active":"Tillstndsfrg nr aktiv","state_color_inactive":"Tillstndsfrg nr inaktiv","state_section":{"title":"Tillstndskonfiguration"},"state_size_active":"Tillstndstextstorlek nr aktiv","state_size_inactive":"Tillstndstextstorlek nr inaktiv","template":"Mall","template_mode":"Avancerat malllge","template_section":{"desc":"Anvnd Jinja2-mallar fr avancerad ikonkontroll. Mallar kan kontrollera synlighet (sant/falskt fr att visa/dlja ikoner) och anpassa tillstndstext. Returnera anpassad text fr aktivt tillstnd, returnera faktiskt entitetstillstnd fr inaktivt tillstnd.","title":"Avancerat malllge"}},"text":{"content_section":{"title":"Innehllskonfiguration","desc":"Konfigurera textinnehllet och grundlggande instllningar fr denna modul."},"text_content":"Textinnehll","text_content_desc":"Ange textinnehllet som ska visas i denna modul.","icon_section":{"title":"Ikonkonfiguration","desc":"Vlj en ikon att visa tillsammans med textinnehllet."},"icon":"Ikon","icon_desc":"Vlj en ikon att visa tillsammans med texten. Lmna tom fr ingen ikon.","icon_position":"Ikonposition","icon_position_desc":"Vlj var ikonen ska placeras i frhllande till texten.","before_text":"Fre text","after_text":"Efter text","template_mode":"Malllge","template_mode_desc":"Anvnd Home Assistant mallsyntax fr att rendera text","value_template":"Vrdemall","value_template_desc":"Mall fr att rendera texten med Jinja2-syntax","examples_title":"Vanliga exempel:","example_basic":"Grundvrde","example_percent":"Med procent","color_section":{"title":"Color Configuration","desc":"Configure the text and icon colors for this module."},"text_color":"Text Color","text_color_desc":"Choose the color for the text content.","icon_color_section":"Icon Color Settings","icon_color":"Icon Color","icon_color_desc":"Choose the color for the icon.","hidden_no_link":"Hidden (no link)"},"bar":{"bar_settings":{"title":"Stapellinstllningar","desc":"Konfigurera hur stapelns procent berknas och visas."},"perc_type":{"entity":"Entitet (0-100)","attribute":"Entitetsattribut","difference":"Skillnad","template":"Mall"},"attribute_section":{"title":"Entitetsattributkonfiguration","desc":"Konfigurera entitetsattributinstllningar"},"attribute_entity":"Attributentitet","attribute_entity_desc":"Vlj entiteten som innehller attributet med procentvrdet","attribute_name":"Attributnamn","attribute_name_desc":"Ange namnet p attributet som innehller procentvrdet (t.ex. \\"battery_level\\")","diff_section":{"title":"Skillnadsberkningskonfiguration","desc":"Konfigurera skillnadsberkningsinstllningar"},"current_entity":"Nuvarande vrdeentitet","current_entity_desc":"Entitet som representerar nuvarande/anvnd mngd (t.ex. anvnt brnsle, frbrukat batteri)","total_entity":"Total vrdeentitet","total_entity_desc":"Entitet som representerar total/maximal mngd (t.ex. brnslekapacitet, batterikapacitet)","template_section":{"title":"Mallkonfiguration","desc":"Konfigurera mallinstllningar"},"percentage_template":"Procentmall","percentage_template_desc":"Ange en Jinja2-mall som returnerar ett nummer mellan 0-100 fr procenten. Exempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","animation":{"desc":"Animera stapelfyllningen med frinstllningar som laddningsrnder, puls, gld och mer. Du kan utlsa animationer baserat p en entitets tillstnd eller attribut, och valfritt sidostta animationen nr ett annat villkor uppfylls.","override":{"attribute_name_desc":"Attributnamn att jmfra","desc":"Vlj en tgrdsentitet och tillstnd fr att definiera nr denna animation ska sidostta den vanliga animationen","entity_desc":"Entitet att utvrdera fr sidosttningsutlsare","match_value":"sidostt matchvrde","match_value_desc":"Textjmfrelse mot tillstnd eller attribut","title":"tgrdsanimation sidosttning","type":"sidostt animationstyp","type_desc":"Animation att anvnda nr sidosttningsvillkor matchar."},"title":"Stapelanimation","trigger":{"attribute_name_desc":"Attributnamn att jmfra (t.ex. charging_status)","desc":"Vlj en entitet att vervaka och definiera vrdet + animation att tillmpa nr det matchar.","entity_desc":"Entitet att utvrdera fr animationsutlsare","match_value":"Matchvrde","match_value_desc":"Text att jmfra mot tillstnd eller attribut (jmfrelse r textbaserad).","title":"Animationsutlsare","type":"Utlsartyp","type_desc":"Vlj om entitetstillstnd eller ett attribut ska jmfras"},"type":"Animationstyp","type_desc":"Vlj hur stapeln ska animeras nr den utlses.","types":{"blinking":"Blinkande","bouncing":"Studsande","bubbles":"Bubblor","charging":"Laddning (diagonala linjer)","fill":"Fyll","flicker":"Flimmer","glow":"Gld","heartbeat":"Hjrtslag","pulse":"Pulsera","rainbow":"Regnbge","ripple":"Krusning","shimmer":"Skimmer","traffic":"Trafik (barberarpelare)","vibrate":"Vibrera"}},"appearance":{"direction":"Fyllriktning","direction_desc":"Vlj riktningen stapeln fyller i nr vrdet kar.","left_to_right":"Vnster till hger","right_to_left":"Hger till vnster","alignment":"Stapeljustering","alignment_desc":"Vlj hur stapeln ska justeras nr den r mindre n 100% bredd.","border_radius":"Kantradius","border_radius_desc":"Kontrollera stapelns rundade hrn.","height":"Stapelhjd","height_desc":"Justera tjockleken p frloppsstapeln i pixlar.","style":"Stapelstil","style_dashed":"Streckad","style_desc":"Vlj den visuella stilen fr frloppsstapeln.","style_dots":"Prickar","style_embossed":"Prglad","style_flat":"Platt (standard)","style_glass":"Glas","style_glossy":"Blank","style_gradient":"Gradientverlgg","style_inset":"Inflld","style_metallic":"Metallisk","style_neon":"Neongld","style_neumorphic":"Neumorfisk","style_outline":"Kontur","title":"Stapelutseende","width":"Stapelbredd","width_desc":"Stll in stapelbredden som procent av behllaren."},"attr_config":{"attribute_entity":"Attributentitet","attribute_entity_desc":"Vlj entiteten som innehller attributet med procentvrdet","attribute_name":"Attributnamn","attribute_name_desc":"Ange namnet p attributet som innehller procentvrdet (t.ex. \\"battery_level\\")","desc":"Konfigurera entitetsattributinstllningar","title":"Entitetsattributkonfiguration"},"colors":{"background_color":"Bakgrundsfrg","bar_color":"Stapelfrg","border_color":"Kantfrg","left_side":"Vnster sida frger","limit_indicator":"Grnsindikator","percentage_text":"Procenttext","right_side":"Hger sida frger","title":"Frger","title_color":"Titelfrg","value_color":"Vrdefrg","text_color":"Textfrg","text_color_desc":"Vlj frgen fr texten som visas p stapeln."},"diff_config":{"current_entity":"Nuvarande vrdeentitet","current_entity_desc":"Entitet som representerar nuvarande/anvnd mngd (t.ex. anvnt brnsle, frbrukat batteri)","desc":"Konfigurera skillnadsberkningsinstllningar","title":"Skillnadsberkningskonfiguration","total_entity":"Total vrdeentitet","total_entity_desc":"Entitet som representerar total/maximal mngd (t.ex. brnslekapacitet, batterikapacitet)"},"entity":{"desc_empty":"Vlj en entitet som ger ett procentvrde (0-100). Batterisensorer r idealiska fr staplar.","desc_present":"Entiteten som ger procentvrdet fr stapeln.","no_entity_warning":"Ingen entitet vald - Vlj en sensor med vrden mellan 0-100","title":"Stapel procententitet"},"gradient":{"cropped":"Beskuren","desc":"Tillmpa en frggradient p stapelfyllningen. Nr aktiverad, vlj hur gradienten visas och anpassa frgstopp nedan.","full":"Full","title":"Gradientlge","value_based":"Vrdebaserad"},"labels":{"alignment":"Etikettjustering","alignment_desc":"Kontrollera hur vnster och hger etiketter positioneras."},"left":{"desc":"Konfigurera titeln och entitetsvrdet som visas p vnster sida av stapeln. Detta r anvndbart fr att visa etiketter som \'Rckvidd\' eller \'Batteri\' tillsammans med deras vrden.","enable_toggle":"Aktivera vxeln ovan fr att konfigurera vnster sida instllningar","template_desc":"Anvnd en mall fr att formatera det visade vrdet. Mallar anvnder Home Assistants Jinja2-syntax.","template_mode":"Malllge","title":"Vnster sida","title_size":"Titelstorlek","value_size":"Vrdestorlek","value_template":"Vrdemall","value_template_desc":"Mall fr att formatera vnster sida vrdet med Jinja2-syntax"},"limit_entity":{"desc":"Valfritt: Lgg till en vertikal indikatorlinje p stapeln (t.ex. laddningsgrns fr EV-batteri).","title":"Grnsvrdesentitet (valfritt)"},"percentage":{"desc":"Kontrollera synligheten och utseendet av procentvrden som visas direkt p stapeln. Dessa siffror ger en tydlig visuell indikator fr nuvarande niv.","text_alignment":"Procenttext justering","text_size":"Textstorlek","text_size_desc":"Justera storleken p procenttext som visas p stapeln.","title":"Procenttext visning"},"right":{"desc":"Konfigurera titeln och entitetsvrdet som visas p hger sida av stapeln. Detta r idealiskt fr kompletterande information som \'Tid till full\' eller sekundra mtningar.","enable_toggle":"Aktivera vxeln ovan fr att konfigurera hger sida instllningar","template_desc":"Anvnd en mall fr att formatera det visade vrdet. Mallar anvnder Home Assistants Jinja2-syntax.","template_mode":"Malllge","title":"Hger sida","title_size":"Titelstorlek","value_size":"Vrdestorlek","value_template":"Vrdemall","value_template_desc":"Mall fr att formatera hger sida vrdet med Jinja2-syntax"},"template_config":{"desc":"Konfigurera mallinstllningar","percentage_template":"Procentmall","percentage_template_desc":"Ange en Jinja2-mall som returnerar ett nummer mellan 0-100 fr procenten. Exempel: {{ (states(\'sensor.battery_level\') | float) * 100 }}","title":"Mallkonfiguration"},"text_display":{"title":"Textvisning","desc":"Kontrollera synligheten och utseendet p textvrden som visas direkt p stapeln. Fr skillnads- och malllgen kan du vlja att visa ra entitetsvrden istllet fr procent.","show_value":"Visa vrde istllet fr procent","show_value_desc":"Nr aktiverat visar det det faktiska entitetsvrdet istllet fr procent. Anvndbart fr att visa ra sensorvrden som \\"45 kWh\\" istllet fr \\"75%\\".","text_size":"Textstorlek","text_size_desc":"Justera storleken p texten som visas p stapeln.","text_alignment":"Textjustering"}},"image":{"settings":"Bildinstllningar","source_type":"Bildklltyp","source_type_desc":"Vlj hur du vill ange bildkllan.","source":{"default":"Standardbild","url":"Bild-URL","upload":"Ladda upp bild","entity":"Entitetsbild","attribute":"Entitetsattribut"},"url_section":{"title":"Bild-URL konfiguration"},"image_url":"Bild-URL","image_url_desc":"Ange den direkta URL:en till bilden du vill visa.","upload_section":{"title":"Uppladdning av bildkonfiguration"},"upload":"Ladda upp bild","upload_desc":"Klicka fr att ladda upp en bildfil frn din enhet.","entity_section":{"title":"Entitetsbildkonfiguration"},"entity":"Entitet","entity_desc":"Vlj en entitet som har en bild (t.ex. person, kameraentiteter).","attribute_section":{"title":"Entitetsattributkonfiguration"},"entity_attr_desc":"Vlj entiteten som innehller bild-URL:en i ett av sina attribut.","attribute_name":"Attributnamn","attribute_name_desc":"Ange attributskvgen som innehller bild-URL:en (punktnotation stds, t.ex. vehicle_data.vehicleDetails.generalDashboard).","width":"Bredd (%)","width_desc":"Stll in bredden som en procent av behllaren.","height":"Hjd (px)","height_desc":"Stll in hjden i pixlar.","crop_fit":"Beskr och anpassa","crop_fit_desc":"Kontrollera hur bilden passar inom sin behllare.","fit":{"cover":"Tck (beskr fr att fylla)","contain":"Innehll (anpassa hela bilden)","fill":"Fyll (strck fr att passa)","scale_down":"Skala ner","none":"Ingen (originalstorlek)"},"border_radius":"Kantradius","border_radius_desc":"Kontrollera bildens rundade hrn.","tap_actions":"Trycktgrder","filters":"Filter","filter":{"blur":"Oskrpa","blur_desc":"Tillmpa en oskrpeeffekt p din bild.","brightness":"Ljusstyrka (%)","brightness_desc":"Justera ljusstyrkan p din bild.","contrast":"Kontrast (%)","contrast_desc":"ndra kontrasten p din bild.","saturation":"Mttnad (%)","saturation_desc":"Justera mttnaden p din bild."},"hover":{"title":"Hover-effekter","effect_type":"Effekttyp","effect_type_desc":"Vlj typ av hover-effekt.","scale":"Skala (zooma in/ut)","rotate":"Rotera","fade":"Tona (opacitetsndring)","blur":"Oskrpa","brightness":"Ljusstyrka","glow":"Gld (boxskugga)","slide":"Glid (verstt)","scale_amount":"Skala (%)","scale_amount_desc":"Justera skalan p bilden vid hover.","rotate_amount":"Rotation ()","rotate_amount_desc":"Rotera bilden vid hover.","opacity":"Opacitet (%)","opacity_desc":"ndra opaciteten p bilden vid hover.","blur_amount":"Oskrpa (px)","blur_amount_desc":"Tillmpa en oskrpeeffekt p bilden vid hover.","brightness_amount":"Ljusstyrka (%)","brightness_amount_desc":"Justera ljusstyrkan p bilden vid hover.","glow_intensity":"Gldintensitet","glow_intensity_desc":"Vlj intensiteten p gldeffekten vid hover.","glow_light":"Ljus gld","glow_medium":"Medium gld","glow_heavy":"Kraftig gld","glow_custom":"Anpassad skugga","translate_x":"Horisontell (px)","translate_x_desc":"verstt bilden horisontellt vid hover.","translate_y":"Vertikal (px)","translate_y_desc":"verstt bilden vertikalt vid hover."},"alt":"Bild","no_source":"Ingen bildklla konfigurerad"},"graphs":{"chart_type":{"title":"Diagramtyp","type":"Typ","desc":"Vlj visualiseringsstil fr dina data."},"types":{"line":"Linjediagram","bar":"Stapeldiagram","pie":"Cirkeldiagram","donut":"Munkdiagram"},"data_sources":{"title":"Datakllor","add_entity":"Lgg till entitet","add_first_entity":"Lgg till din frsta entitet fr att skapa ett diagram","no_entities":"Inga entiteter tillagda"},"entity":"Entitet","entity_desc":"Vlj en entitet att plotta.","display_name_optional":"Visningsnamn (valfritt)","use_as_card_info":"Anvnd som kortinfo","attribute":"Attribut","attribute_desc":"Anvnd entitetstillstnd eller vlj ett specifikt attribut att spra.","attribute_state_default":"Tillstnd (standard)","show_points":"Visa punkter","fill_area":"Fyll omrde","line_style":"Linjestil","line_solid":"Heldragen","line_dashed":"Streckad","line_dotted":"Prickad","pie_show_title":"Visa titel i sektor","pie_show_value":"Visa vrde i sektor","expand_options":"Expandera alternativ","no_entities":"Inga entiteter tillagda","add_first_entity":"Lgg till din frsta entitet fr att skapa ett diagram","add_entity":"Lgg till entitet","display_options":{"title":"Visningsalternativ"},"show_title":"Visa diagramtitel","show_value":"Visa diagramvrde","chart_title":"Diagramtitel","chart_title_placeholder":"Ange diagramtitel","time_period":"Tidsperiod","time_period_desc":"Hur mycket historisk data som ska visas.","period":{"1h":"Senaste timmen","3h":"Senaste 3 timmarna","6h":"Senaste 6 timmarna","12h":"Senaste 12 timmarna","24h":"Senaste 24 timmarna","2d":"Senaste 2 dagarna","7d":"Senaste veckan","30d":"Senaste mnaden","90d":"Senaste 3 mnaderna","365d":"Senaste ret"},"normalize_values":"Normalisera vrden till samma skala","normalize_desc":"Anvndbart vid jmfrelse av entiteter med olika enheter (t.ex. % vs mil)","chart_height":"Diagramhjd","reset_345":"terstll till standard (345px)","chart_width":"Diagrambredd (%)","reset_100":"terstll till standard (100%)","agg":{"count":"Antal","delta":"ndring","first":"Frsta vrdet","last":"Sista vrdet","max":"Maximum","mean":"Medelvrde","median":"Median","min":"Minimum","sum":"Summa"},"display":{"add_slice_gap":"Lgg till sektormellanrum","background_color":"Bakgrundsfrg","chart_alignment":"Diagramjustering","chart_alignment_desc":"Justering av diagrammet inom sin behllare.","chart_height":"Diagramhjd","chart_options":"Diagramalternativ","chart_title":"Diagramtitel","chart_title_placeholder":"Ange diagramtitel","chart_width":"Diagrambredd (%)","chart_width_desc":"Procent av modulens tillgngliga bredd. Justering styr placering.","info_position":"Infoposition","info_position_desc":"Position fr verlgg som visar namn/vrde.","legend_position":"Legendposition","legend_position_desc":"Var legenden ska placeras nr aktiverad.","normalize_desc":"Anvndbart vid jmfrelse av entiteter med olika enheter (t.ex. % vs mil)","normalize_values":"Normalisera vrden till samma skala","show_grid":"Visa rutnt","show_legend":"Visa legend","show_title":"Visa diagramtitel","show_tooltips":"Visa verktygstips","show_value":"Visa diagramvrde","smooth_lines":"Mjuka linjer","time_period":"Tidsperiod","time_period_desc":"Hur mycket historisk data som ska visas.","title":"Visningsalternativ","show_grid_values":"Show Grid Values"},"line":{"fill_area":"Fyll omrde","line_style":"Linjestil","line_width":"Linjebredd","show_points":"Visa punkter"},"line_styles":{"dashed":"Streckad","dotted":"Prickad","solid":"Heldragen"},"pie":{"show_title":"Visa titel i sektor","show_value":"Visa vrde i sektor"},"position":{"bottom":"Botten","bottom_left":"Nedre vnster","bottom_right":"Nedre hger","center":"Centrum","hidden":"Dold","left":"Vnster","middle":"Centrum","right":"Hger","top":"Topp","top_left":"vre vnster","top_right":"vre hger"},"data_source":{"title":"Data Source","mode":"Mode","desc":"Choose between historical data or weather forecasts"},"mode":{"history":"History","forecast":"Forecast"},"forecast_entity":"Weather Entity","forecast_entity_desc":"Select a weather entity for forecasts","forecast_type":"Forecast Type","forecast_type_desc":"Choose hourly or daily forecasts","type":{"hourly":"Hourly","daily":"Daily"},"forecast":{"temp":"Temperature","precip":"Precipitation","wind":"Wind Speed","humidity":"Humidity","pressure":"Pressure","clouds":"Cloud Coverage"},"forecast_attributes":{"title":"Forecast Attributes","desc":"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph."},"forecast_info":{"title":"Forecast Display","desc":"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown."}},"button":{"basic":{"title":"Grundinstllningar","desc":"Konfigurera knappens utseende och textinnehll."},"text":{"title":"Knapptext","desc":"Text att visa p knappen (lmna tom fr endast ikon)."},"style":{"title":"Knappstil","desc":"Visuell stil fr knappen"},"alignment":{"title":"Justering","desc":"Hur knappen r justerad inom sin behllare"},"styles":{"flat":"Platt (standard)","glossy":"Blank","embossed":"Prglad","inset":"Inflld","gradient_overlay":"Gradientverlgg","neon_glow":"Neongld","outline":"Kontur","glass":"Glas","metallic":"Metallisk"},"align":{"left":"Vnster","center":"Centrum","right":"Hger","justify":"Justera (full bredd)"},"icon":{"title":"Ikoninstllningar","desc":"Konfigurera ikonvisning och positionering fr knappen.","before":"Fre text","after":"Efter text","enable_toggle_desc":"Aktivera vxeln ovan fr att konfigurera ikoninstllningar"},"colors":{"title":"Frger","background":"Bakgrundsfrg","text":"Textfrg"},"hover":{"effect_type":"Effekttyp","effect_type_desc":"Vlj hover-effekt fr denna knapp.","none":"Ingen","color":"Frgndring","scale":"Skala","glow":"Gld","lift":"Lyft (verstt Y)","hover_color":"Hover-frg","glow_color":"Gldfrg","title":"Hover-effekter","enable_toggle_desc":"Aktivera vxeln ovan fr att konfigurera hover-effekter"},"actions":{"type":"tgrdstyp","type_desc":"Vlj vad som hnder nr knappen klickas","entity":"Entitet","entity_desc":"Vlj entiteten att interagera med","navigation_path":"Navigeringsskvg","navigation_path_desc":"Skvg att navigera till (t.ex. /dashboard/energy)","service":"Tjnst","service_desc":"Tjnst att anropa (t.ex. light.turn_on)","service_data":"Tjnstdata (JSON)","service_data_desc":"Valfri data att skicka till tjnsten (JSON-format)"},"tap":{"title":"Trycktgrd","desc":"tgrd att utfra nr knappen trycks"},"hold":{"title":"Hll-tgrd","desc":"tgrd att utfra nr knappen hlls nere"},"double":{"title":"Dubbeltryck-tgrd","desc":"tgrd att utfra nr knappen dubbeltrycks"},"show_icon":"Visa ikon","show_icon_desc":"Visa en ikon p knappen","icon_desc":"Ikon att visa (t.ex. mdi:home)","icon_position":"Ikonposition","icon_position_desc":"Position fr ikonen i frhllande till text","icon_field":"Ikon"},"info":{"entity_section":{"title":"ENTITETSKONFIGURATION"},"entity":"Entitet","entity_desc":"Vlj entiteten att visa","icon_section":{"title":"Ikoninstllningar"},"show_icon":"Visa ikon","show_icon_desc":"Visa en ikon bredvid entitetsvrdet","icon":"Ikon","icon_desc":"Vlj en ikon att visa","icon_color":"Ikonfrg","name_section":{"title":"Namninstllningar"},"show_name":"Visa namn","show_name_desc":"Visa entitetsnamnet ovanfr vrdet","custom_name":"Anpassat namn","custom_name_desc":"sidostt entitetsnamnet med ett anpassat namn","name_color":"Namnfrg","state_section":{"title":"Tillstndsinstllningar"},"show_state":"Visa tillstnd","show_state_desc":"Visa entitetstillstnd/vrde","show_units":"Visa enheter","show_units_desc":"Visa mttenheten (om tillgnglig)","state_color":"Tillstndsfrg","template":{"title":"Malllge","desc":"Anvnd en mall fr att formatera entitetsvrdet. Mallar lter dig anvnda Home Assistants mallsyntax fr komplex formatering.","mode":"Malllge","mode_desc":"Anvnd Home Assistants mallsyntax fr att formatera vrdet","value":"Vrdemall","value_desc":"Mall fr att formatera entitetsvrdet med Jinja2-syntax"},"size_section":{"title":"Storleksinstllningar"},"icon_size":"Ikonstorlek","icon_size_desc":"Storlek p ikonen i pixlar","name_size":"Namnstorlek","name_size_desc":"Storlek p entitetsnamnstexten i pixlar","value_size":"Vrdestorlek","value_size_desc":"Storlek p entitetsvrdestexten i pixlar","icon_gap":"Ikonavstnd","icon_gap_desc":"Utrymme mellan ikon och innehll i pixlar","layout_section":{"title":"Layout och positionering"},"icon_position":"Ikonposition","overall_alignment":"vergripande justering","icon_alignment":"Ikonjustering","content_alignment":"Innehllsjustering","examples_title":"Vanliga exempel:","example_basic":"Grundvrde","example_units":"Med enheter","example_round":"Avrunda till 1 decimal"},"camera":{"config":{"title":"Kamerakonfiguration","desc":"Konfigurera kameraentiteten och visningsinstllningar."},"entity":"Kameraentitet","entity_desc":"Vlj kameraentiteten att visa. Detta br vara en kamera- eller mjpeg-entitet frn Home Assistant.","name":"Kameranamn","name_desc":"Anpassat namn fr kameran. Lmna tomt fr att anvnda entitetsnamn.","show_name":"Visa kameranamn","show_name_desc":"Visa kameranamnet p fldet","name_position":{"group_title":"Kameranamnposition","title":"Namnposition","desc":"Vlj var kameranamnet visas som ett verlgg p kamerabilden.","options":{"top_left":"vre vnster","top_right":"vre hger","center":"Centrum","bottom_left":"Nedre vnster","bottom_right":"Nedre hger"}},"display":{"title":"Visningsinstllningar"},"live_view":{"title":"Livevisning","desc":"Aktivera fr att visa live kamerastrm (krver strmintegration). Nr inaktiverad visas stillbildsgonblicksbilder."},"auto_refresh":{"section_title":"Automatiska uppdateringsinstllningar","title":"Automatisk uppdatering","desc":"Uppdatera automatiskt kamerabilden med jmna mellanrum"},"refresh_interval":{"title":"Uppdateringsintervall (sekunder)","desc":"Hur ofta kamerabilden ska uppdateras automatiskt."},"dimensions":{"title":"Dimensioner"},"width":"Bredd (px)","width_desc":"Stll in bredden p kameravisningen. Intervall: 100-1000px","height":"Hjd (px)","height_desc":"Stll in hjden p kameravisningen. Intervall: 100-1000px","link_aspect":"Lnka bildfrhllande","unlink_aspect":"Avlnka bildfrhllande","aspect_linked":{"title":"Bildfrhllande lnkat","desc":"Dimensioner behller {ratio}:1 frhllande. Justering av en dimension uppdaterar automatiskt den andra fr att behlla proportioner."},"aspect_independent":{"title":"Oberoende dimensioner","desc":"Bredd och hjd kan justeras oberoende. Klicka p lnkknappen ovan fr att behlla bildfrhllande."},"crop":{"title":"Beskr och position","desc":"Justera beskrningen och positionen fr kameravyn. Anvndbart fr att fokusera p specifika omrden eller ta bort onskade kanter.","left_title":"Vnster beskrning (%)","left_desc":"Beskr frn vnster kant. Hgre vrden visar mindre av vnster sida.","right_title":"Hger beskrning (%)","right_desc":"Beskr frn hger kant. Hgre vrden visar mindre av hger sida.","top_title":"vre beskrning (%)","top_desc":"Beskr frn vre kant. Hgre vrden visar mindre av det vre omrdet.","bottom_title":"Nedre beskrning (%)","bottom_desc":"Beskr frn nedre kant. Hgre vrden visar mindre av det nedre omrdet.","active_applied":"Aktiva beskrningar tillmpade","reset_all":"terstll alla beskrningar"},"template":{"title":"Malllge","desc":"Anvnd en mall fr att dynamiskt stlla in kameraentiteten. Mallar lter dig anvnda Home Assistants mallsyntax fr villkorlig kameraval.","mode_label":"Malllge","mode_desc":"Anvnd Home Assistants mallsyntax fr att dynamiskt vlja kameraentitet","camera_template_label":"Kameramall","camera_template_desc":"Mall fr att dynamiskt stlla in kameraentiteten med Jinja2-syntax","examples_title":"Vanliga exempel:","example1_desc":"Visa kamera nr vdret r soligt","example2_desc":"Vxla mellan kameror baserat p input boolean","example3_desc":"Anvnd input select fr att vlja kameraentitet"},"show_name_toggle":{"enable_toggle_desc":"Aktivera vxeln ovan fr att konfigurera kamerananvisning"}},"separator":{"config":{"title":"Separatorkonfiguration"},"style":{"title":"Separatorstil","desc":"Vlj den visuella stilen fr separatorlinjen."},"options":{"solid":"Heldragen linje","double":"Dubbel linje","dotted":"Prickad linje","double_dotted":"Dubbel prickad","shadow":"Skugga","blank":"Tomt utrymme"},"appearance":{"title":"Utseende"},"thickness":"Tjocklek (px)","thickness_desc":"Tjocklek p separatorlinjen.","width":"Bredd (%)","width_desc":"Bredd p separatorn som procent av behllaren.","color":{"title":"Frg","desc":"Frg p separatorlinjen."},"show_title":"Visa titel","show_title_desc":"Lgg till text i mitten av separatorlinjen (t.ex. ------ Text ------)","text_content":{"title":"Textinnehll","desc":"Text att visa i mitten av separatorn."},"font_size":"Teckenstorlek","font_size_desc":"Storlek p texten i pixlar.","text_color":{"title":"Textfrg","desc":"Frg p separatortexten."},"text_format":{"title":"Textformatering","desc":"Tillmpa formateringsstilar p separatortexten.","bold":"Fet","italic":"Kursiv","underline":"Understruken","uppercase":"Versaler","strikethrough":"Genomstruken"},"spacer":{"title":"Avstndshjd"},"height":"Hjd (px)","height_desc":"Kontrollerar det visuella gapet fr tomt utrymme.","show_title_toggle":{"enable_toggle_desc":"Aktivera vxeln ovan fr att konfigurera titelinstllningar"},"orientation":{"title":"Orientation","desc":"Choose whether the separator runs horizontally or vertically.","horizontal":"Horizontal","vertical":"Vertical"}},"layout_extra":{"module_name":"Modulnamn:","module_name_placeholder":"Ge denna modul ett anpassat namn fr att gra det lttare att identifiera i redigeraren.","module_name_help":"Ge denna modul ett anpassat namn fr att gra det lttare att identifiera i redigeraren."},"layout_logic":{"display_title":"Visa detta element","display_desc":"Kontrollera nr detta element visas. Vlj \\"Alltid\\" fr att hlla det synligt. Vlj \\"Om ALLA villkor nedan uppfylls\\" eller \\"Om NGOT villkor nedan uppfylls\\" fr att visa det endast nr villkoren du lgger till nedan utvrderas som sanna.","always":"Alltid","every":"Om ALLA villkor nedan uppfylls","any":"Om NGOT villkor nedan uppfylls","conditions":"Villkor","add_condition":"Lgg till villkor","no_conditions":"Inga villkor tillagda n. Klicka \\"Lgg till villkor\\" fr att komma igng.","condition_types":{"entity_state":"Entitetstillstnd","entity_attribute":"Entitetsattribut","time":"Tidsintervall","template":"Mall"},"condition_fields":{"entity":"Entitet","operator":"Operator","value":"Vrde","attribute":"Attribut","time_from":"Frn","time_to":"Till","template":"Mall"},"condition_header":"Villkor","custom_name":"Anpassat namn","custom_name_desc":"Valfritt: Ge detta villkor ett anpassat namn fr enklare identifiering","condition_type":"Villkorstyp"},"hover_effects":{"title":"Hover-effekter","description":"Konfigurera visuella effekter som visas nr du hovrar ver denna modul, rad eller kolumn.","effect":"Hover-effekt","effect_desc":"Vlj den visuella effekten som ska tillmpas vid hovring","effects":{"none":"Ingen","highlight":"Markera","outline":"Kontur","grow":"Vxa","shrink":"Krympa","pulse":"Pulsera","bounce":"Studsa","float":"Svva","glow":"Glda","shadow":"Skugga","rotate":"Rotera","skew":"Snedstlla","wobble":"Vackla","buzz":"Vibrera","fade":"Tona"}},"design":{"copy":"Kopiera","paste":"Klistra in","reset_all":"terstll alla","copy_tooltip":"Kopiera nuvarande designinstllningar (fungerar ver alla Ultra Cards)","paste_tooltip_has":"Klistra in kopierade designinstllningar (frn korskort-urklipp)","paste_tooltip_none":"Inga designinstllningar i korskort-urklipp","reset_all_tooltip":"terstll alla designinstllningar till standard","text_section":"Text","text_color":"Textfrg","alignment":"Justering","inherit_alignment":"rv (ingen justering)","font_size":"Teckenstorlek","font_size_placeholder":"16px (standard), 1.2rem, max(1rem, 1.5vw)","reset_font_size":"terstll teckenstorlek till standard","line_height":"Radhjd","line_height_placeholder":"0 (standard), 28px, 1.7","reset_line_height":"terstll radhjd till standard","letter_spacing":"Teckenavstnd","letter_spacing_placeholder":"auto (standard), 1px, -0.04em","reset_letter_spacing":"terstll teckenavstnd till standard","font":"Teckensnitt","font_weight":"Teckensnittsvikt","text_transform":"Texttransform","font_style":"Teckensnittsstil","default_option":" Standard ","weight_thin":"100 - Tunn","weight_light":"300 - Ljus","weight_normal":"400 - Normal","weight_medium":"500 - Medium","weight_semi_bold":"600 - Halvfet","weight_bold":"700 - Fet","weight_black":"900 - Svart","transform_none":"Ingen","transform_uppercase":"VERSALER","transform_lowercase":"gemener","transform_capitalize":"Versalisera","style_normal":"Normal","style_italic":"Kursiv","style_oblique":"Sned","background_section":"Bakgrund","background_color":"Bakgrundsfrg","background_image_type":"Bakgrundsbildtyp","bg_none":"Ingen","bg_upload":"Ladda upp bild","bg_entity":"Entitetsbild","bg_url":"Bild-URL","sizes_section":"Storlekar","spacing_section":"Avstnd","border_section":"Kant","text_shadow_section":"Textskugga","box_shadow_section":"Boxskugga","position_section":"Position","overflow_section":"verflde","animations_section":"Animationer","width":"Bredd","height":"Hjd","max_width":"Max bredd","max_height":"Max hjd","min_width":"Min bredd","min_height":"Min hjd","border_radius":"Kantradius","border_style":"Kantstil","border_width":"Kantbredd","border_color":"Kantfrg","margin":"Marginal","padding":"Utfyllnad","top":"Topp","right":"Hger","bottom":"Botten","left":"Vnster","unlock_sides":"Ls upp fr att redigera sidor oberoende","lock_sides":"Ls fr att redigera alla sidor tillsammans","horizontal_shift":"Horisontell frskjutning","vertical_shift":"Vertikal frskjutning","blur":"Oskrpa","text_shadow_color":"Textskuggfrg","box_shadow_color":"Boxskuggfrg","overflow":"verflde","clip_path":"Klippbana","upload_bg_image":"Ladda upp bakgrundsbild","bg_image_entity":"Bakgrundsbildentitet","bg_image_url":"Bakgrundsbild-URL","choose_file":"Vlj fil","no_file_chosen":"Ingen fil vald","backdrop_filter":"Bakgrundsfilter","spread":"Spridning","visible_default":"Synlig (standard)","examples":"Exempel","state_based_animation":"Tillstndsbaserad animation","animation_type":"Animationstyp","animation_duration":"Animation Duration","animation_duration_desc":"Varaktighet fr animationen (t.ex. 2s, 500ms, 1.5s)","intro_outro_animations":"Intro- och outro-animationer","intro_animation":"Intro-animation","outro_animation":"Outro-animation","duration":"Varaktighet","delay":"Frdrjning","timing":"Timing","none":"Ingen","ease":"Ease","border_style_none":"Ingen","border_style_solid":"Heldragen","border_style_dashed":"Streckad","border_style_dotted":"Prickad","border_style_double":"Double","position_default":" Standard ","position_static":"Statisk","position_relative":"Relativ","position_absolute":"Absolut","position_fixed":"Fast","position_sticky":"Klibbig"},"modules":{"text":"Textmodul","image":"Bildmodul","icon":"Ikonmodul","bar":"Stapelmodul","info":"Infomodul","button":"Knappmodul","separator":"Separatormodul","markdown":"Markdown-modul","camera":"Kameramodul","graphs":"Grafmodul","no_text_configured":"Ingen text konfigurerad","no_image_configured":"Ingen bild konfigurerad","uploaded_image":"Uppladdad bild","icons_configured":"{count} ikoner konfigurerade","no_icons_configured":"Inga ikoner konfigurerade","default_entity_suggestion":"Entitet: sensor.battery_level","sample_text":"Exempeltext","dropdown":"Dropdown Module","spinbox":"Spinbox Module"},"common":{"attribute":"Attribut","attribute_name":"Attributnamn","baseline":"Baslinje","bottom":"Botten","center":"Centrum","entity":"Entitet","justify":"Justera","left":"Vnster","none":"Ingen","right":"Hger","space_around":"Utrymme runt","space_between":"Utrymme mellan","state":"Tillstnd","stretch":"Strck","top":"Topp"},"horizontal":{"alignment":{"horizontal":"Horisontell justering","horizontal_desc":"Vlj hur element justeras horisontellt inom behllaren.","vertical":"Vertikal justering","vertical_desc":"Vlj hur element justeras vertikalt inom behllaren."},"empty":{"add_modules":"Lgg till moduler i layoutbyggaren fr att se dem hr","no_modules":"Inga moduler tillagda n"},"gap":{"between_items":"Mellanrum mellan objekt","desc":"Stll in avstndet mellan horisontella element (i rem-enheter). Anvnd negativa vrden fr att verlappa element.","title":"Mellanrumskonfiguration"},"layout":{"desc":"Konfigurera hur element arrangeras horisontellt inom behllaren.","title":"Layoutkonfiguration"},"wrapping":{"desc":"Tillt element att brytas till nsta rad nr de verskrider behllarbredden.","title":"Tillt radbrytning"}},"markdown":{"code_highlighting":"Kodmarkering","code_highlighting_desc":"Syntaxmarkering fr kodblock","content":{"desc":"Ange ditt markdown-innehll med fullstndigt formateringsstd","label":"Innehll","title":"Markdown-innehll"},"enable_html":"Aktivera HTML","enable_html_desc":"Tillt HTML-taggar i markdown-innehll","enable_tables":"Aktivera tabeller","enable_tables_desc":"Std fr markdown-tabellsyntax","features":{"title":"Markdown-funktioner"}},"vertical":{"alignment":{"vertical":"Vertikal justering","vertical_desc":"Vlj hur element justeras vertikalt inom behllaren."},"empty":{"add_modules":"Lgg till moduler i layoutbyggaren fr att se dem hr","no_modules":"Inga moduler tillagda n"},"gap":{"between_items":"Mellanrum mellan objekt","desc":"Stll in avstndet mellan vertikala element (i rem-enheter). Anvnd negativa vrden fr att verlappa element.","title":"Mellanrumskonfiguration"},"layout":{"desc":"Konfigurera hur element arrangeras vertikalt inom behllaren.","title":"Layoutkonfiguration"}},"dropdown":{"basic":{"title":"Basic Settings","desc":"Configure the dropdown appearance and behavior."},"label":{"title":"Label","desc":"Text label for the dropdown (optional)."},"placeholder":{"title":"Placeholder","desc":"Text shown when no option is selected."},"allow_empty":{"title":"Allow Empty Selection","desc":"Allow users to deselect all options."},"default_value":{"title":"Default Value","desc":"Option value to select by default (leave empty for none)."},"label_settings":{"title":"Label Settings","disabled":"Enable the toggle above to configure label settings"},"label_position":{"title":"Label Position","desc":"Where to position the label relative to the dropdown"},"label_positions":{"top":"Above Dropdown","left":"Left of Dropdown","inside":"Inside Dropdown","bottom":"Below Dropdown","right":"Right of Dropdown"},"icon_settings":{"title":"Icon Settings","disabled":"Enable the toggle above to configure icon settings"},"icon":{"title":"Icon","desc":"Icon to display (e.g., mdi:menu-down)"},"options":{"title":"Dropdown Options"},"option_number":"Option {number}","duplicate_option":"Duplicate option","remove_option":"Remove option","add_option":"Add Option","option":{"label":"Label","label_desc":"Display text for this option","value":"Value","value_desc":"Internal value for this option","icon":"Icon","icon_desc":"Optional icon for this option (e.g., mdi:lightbulb)","action_type":"Action Type","action_type_desc":"What happens when this option is selected","service":"Service","service_desc":"Service to call (e.g., light.turn_on)","service_data":"Service Data","service_data_desc":"Optional data to pass to the service (JSON format)","entity":"Entity","entity_desc":"Entity to interact with","entity_action":"Entity Action","entity_action_desc":"Action to perform on the entity","scene_entity":"Scene","scene_entity_desc":"Scene to activate","script_entity":"Script","script_entity_desc":"Script to run","automation_entity":"Automation","automation_entity_desc":"Automation to trigger","custom_service":"Custom Service","custom_service_desc":"Custom service to call","custom_service_data":"Custom Service Data","custom_service_data_desc":"Data to pass to the custom service (JSON format)","disabled":"Disabled","disabled_desc":"Disable this option (greyed out, not selectable)","action":"Action","action_desc":"What happens when this option is selected","is_default":"Default Option","is_default_desc":"Make this the default selected option (shows at top, disables placeholder)","icon_color":"Icon Color","use_state_color":"Use State Color","use_state_color_desc":"Use the entity state color for the icon (overrides custom color)","state_color_enabled":"Icon will use entity state color automatically","more_info_config":"More Info Configuration","more_info_entity":"Entity","more_info_entity_desc":"Entity to show more information for","toggle_config":"Toggle Configuration","toggle_entity":"Entity","toggle_entity_desc":"Entity to toggle on/off"},"action_types":{"service":"Service Call","scene":"Activate Scene","entity":"Entity Action","script":"Run Script","automation":"Trigger Automation","custom":"Custom Service"},"entity_actions":{"toggle":"Toggle","turn_on":"Turn On","turn_off":"Turn Off","more_info":"More Info"},"styling":{"title":"Styling","desc":"Customize the visual appearance of the dropdown."},"width":{"title":"Width","desc":"Width of the dropdown (e.g., 100%, 200px, auto)"},"font_size":{"title":"Font Size","desc":"Text size in pixels"},"colors":{"title":"Colors","text":"Text Color","background":"Background Color","border":"Border Color"},"template_mode":{"title":"Template Mode","enable":"Template Mode","enable_desc":"Use Home Assistant templating syntax to dynamically set dropdown options","template":"Options Template","template_desc":"Template to generate dropdown options using Jinja2 syntax","examples":"Common Examples:","example_scenes":"Generate options from all scenes","example_lights":"Generate options from all lights","disabled":"Enable template mode to use dynamic content"},"drag_option":"Drag to reorder","default_badge":"DEFAULT","label_icon":{"title":"Label Icon","disabled":"Enable the toggle above to configure label icon"},"state_tracking":{"title":"Current State Display","disabled":"Enable to show current entity state as selected option"},"state_entity":{"title":"State Entity","desc":"Entity to monitor for current state (e.g., input_select.scene_selector)"},"track_state":{"title":"Track Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"},"keep_selection_state":{"title":"Keep Selection State","desc":"Remember and display the last selected option (recommended for scene selectors)"}},"favorite_colors":{"title":"Favorite Colors","description":"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards."},"behavior":{"title":"Behavior","description":"Configure how your card responds to user interactions"},"cloud_sync":{"title":"Cloud Sync","description":"Sync your favorites, colors, and reviews across all your devices using your ultracard.io account.","auto_sync":"Automatic Sync","auto_sync_desc":"Automatically sync changes in the background"},"spinbox":{"entity":{"title":"Entity Configuration","desc":"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."},"entity_field":"Entity","entity_field_desc":"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities.","value":"Default Value","min_value":"Minimum Value","min_value_desc":"The minimum allowed value","max_value":"Maximum Value","max_value_desc":"The maximum allowed value","step":"Step Size","step_desc":"How much the value changes with each button press","value_desc":"The initial value (only used when no entity is linked)","display":{"title":"Display Configuration"},"layout":{"horizontal":"Horizontal","vertical":"Vertical"},"layout_desc":"Arrangement of buttons and value","show_value":"Show Value","show_value_desc":"Display the current numeric value","value_position":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)"},"value_position_desc":"Where to display the value relative to buttons","show_unit":"Show Unit","show_unit_desc":"Display a unit label (e.g., C, %)","unit":"Unit","unit_desc":"Unit to display (e.g., C, %, km)","buttons":{"title":"Button Configuration"},"button_style":"Button Style","button_style_desc":"Visual style for buttons","increment_icon":"Increment Icon","increment_icon_desc":"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)","decrement_icon":"Decrement Icon","decrement_icon_desc":"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)","button_background_color":"Button Background","button_text_color":"Button Icon Color","value_style":{"title":"Value Display Styling"},"value_color":"Value Color","value_font_size":"Value Font Size","value_font_size_desc":"Font size for the value display (in pixels)","template":"Value Template","template_mode":"Enable Template Mode","template_mode_desc":"Use Jinja2 templates to dynamically compute the displayed value","template_desc":"Jinja2 template for value (e.g., {{ states(\\"input_number.temperature\\") }})","template_examples":"Common Examples:","template_disabled":"Enable template mode to use dynamic values","styles":{"flat":"Flat (Default)","glossy":"Glossy","embossed":"Embossed","inset":"Inset","gradient_overlay":"Gradient Overlay","neon_glow":"Neon Glow","outline":"Outline","glass":"Glass","metallic":"Metallic"},"layout_title":"Layout","layout_options":{"horizontal":"Horizontal","vertical":"Vertical"},"value_position_title":"Value Position","value_position_options":{"center":"Center (Between Buttons)","between":"Separate (Above/Below)","top":"Top (Above Both Buttons)","bottom":"Bottom (Below Both Buttons)","left":"Left (Before Buttons)","right":"Right (After Buttons)"},"button_shape":"Button Shape","button_shape_desc":"Shape of the buttons","button_size":"Button Size","button_size_desc":"Size of the buttons in pixels (width and height)","button_spacing":"Button Spacing","button_spacing_desc":"Space between buttons and value display in pixels","shapes":{"rounded":"Rounded Square (Default)","square":"Square","circle":"Circle"},"button_gap":"Button Gap","button_gap_desc":"Space between increment and decrement buttons in pixels"},"cloud_backup":{"title":"Cloud Backup","description":"Automatically backup your card configuration to the cloud. Never lose your work again!","auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","create_snapshot":"Create Snapshot","manage_backups":"View Backup History","upgrade_pro":"Upgrade to Pro","snapshot_limit":"{current} / {max} snapshots","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}},"ultra_card_pro":{"title":"Ultra Card Pro","free_banner_title":"Ultra Card Pro","free_banner_subtitle":"Professional card management and cloud backups","pro_banner_title":"Ultra Card Pro","pro_banner_subtitle":"Thank you for being a Pro member!","card_name":"Card Name","card_name_desc":"Give this card a name to identify it in your backups","card_name_placeholder":"My Ultra Card","export_card":"Export Card","import_card":"Import Card","backup_card":"Create Backup","view_backups":"View All Backups","manual_backup_title":"Name Your Backup","manual_backup_placeholder":"Enter backup name...","manual_backup_desc":"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)","backup_created":"Backup created successfully!","export_success":"Card configuration exported!","import_success":"Card configuration imported!","upgrade_title":"Unlock Pro Features","upgrade_subtitle":"Get export, import, and manual backups for all your cards","upgrade_button":"Upgrade to Pro - $4.99/month","features_title":"What You Get","features":{"export":"Export full card configs","import":"Import card configs","backups":"30 manual backups across all cards","naming":"Name your cards and backups","support":"Priority support"},"auto_save":"Auto-save enabled","last_backup":"Last backup: {time}","saving":"Saving backup...","saved":"Saved to cloud","pending":"Changes pending","sync_notification":{"title":"Newer Backup Available","description":"A newer backup was found from another device","load":"Load Newer Version","dismiss":"Keep Current"}}}}'),E={en:a,cs:r,da:l,de:c,"en-GB":u,es:m,fr:_,it:f,nb:y,nl:x,nn:S,no:C,pl:T,sv:i.t(I,2)},$="en";function P(e,t){try{const i=E[t];if(!i)return;return e.split(".").reduce(((e,t)=>null==e?void 0:e[t]),i)}catch(e){return}}function j(e,t,i){let o=P(e,t);if(o)return o;const a=t.includes("-")||t.includes("_")?t.split(/[-_]/)[0]:t;if(a&&a!==t&&(o=P(e,a),o))return o;if(a!==$){const t=P(e,$);if(t)return t}return i||e}},696:(e,t,i)=>{i.d(t,{w:()=>p});var o=i(5183),a=i(866),n=i(8914),r=i(9662),s=i(2371),l=i(796),d=i(7987),c=i(456);class p extends a.m{constructor(){super(...arguments),this.metadata={type:"camera",title:"Camera Module",description:"Display live camera feeds with comprehensive control options",author:"WJD Designs",version:"1.0.0",icon:"mdi:camera",category:"content",tags:["camera","live","feed","security","surveillance"]},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1}createDefault(e,t){return{id:e||this.generateId("camera"),type:"camera",entity:"",camera_name:"",show_name:!0,name_position:"top-left",tap_opens_fullscreen:!1,aspect_ratio_linked:!0,aspect_ratio_value:1.778,image_fit:"cover",crop_left:0,crop_top:0,crop_right:0,crop_bottom:0,show_controls:!1,live_view:!0,auto_refresh:!0,refresh_interval:30,audio_enabled:!1,image_quality:"high",rotation:0,show_unavailable:!0,fallback_image:"",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},template_mode:!1,template:"",design:{width:"100%",max_width:"500px",border_radius:"20px"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var r;const s=e,l=(null===(r=t.locale)||void 0===r?void 0:r.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="camera-module-settings">
        <!-- Camera Configuration Section -->
        ${this.renderSettingsSection((0,c.kg)("editor.camera.config.title",l,"Camera Configuration"),(0,c.kg)("editor.camera.config.desc",l,"Configure the camera entity and display settings."),[{title:(0,c.kg)("editor.camera.entity",l,"Camera Entity"),description:(0,c.kg)("editor.camera.entity_desc",l,"Select the camera entity to display. This should be a camera or mjpeg entity from Home Assistant."),hass:t,data:s,schema:[this.entityField("entity",["camera"])],onChange:e=>a(e.detail.value)}])}

        <!-- Camera Name Settings with toggle in header -->
        <div class="settings-section">
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,c.kg)("editor.camera.show_name",l,"Show Camera Name")}
            </div>
            <ha-switch
              .checked=${!1!==s.show_name}
              @change=${e=>{const t=e.target;a({show_name:t.checked})}}
            ></ha-switch>
          </div>

          ${!1!==s.show_name?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,c.kg)("editor.camera.name",l,"Camera Name"),(0,c.kg)("editor.camera.name_desc",l,"Custom name for the camera. Leave empty to use entity name."),t,{camera_name:s.camera_name||""},[this.textField("camera_name")],(e=>a(e.detail.value)))}
                </div>

                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,c.kg)("editor.camera.name_position.title",l,"Name Position"),(0,c.kg)("editor.camera.name_position.desc",l,"Choose where the camera name appears as an overlay on the camera image."),t,{name_position:s.name_position||"top-left"},[this.selectField("name_position",[{value:"top-left",label:(0,c.kg)("editor.camera.name_position.options.top_left",l,"Top Left")},{value:"top-right",label:(0,c.kg)("editor.camera.name_position.options.top_right",l,"Top Right")},{value:"center",label:(0,c.kg)("editor.camera.name_position.options.center",l,"Center")},{value:"bottom-left",label:(0,c.kg)("editor.camera.name_position.options.bottom_left",l,"Bottom Left")},{value:"bottom-right",label:(0,c.kg)("editor.camera.name_position.options.bottom_right",l,"Bottom Right")},{value:"top-middle",label:(0,c.kg)("editor.camera.name_position.options.top_middle",l,"Top Middle")},{value:"bottom-middle",label:(0,c.kg)("editor.camera.name_position.options.bottom_middle",l,"Bottom Middle")}])],(e=>{e.detail.value.name_position!==(s.name_position||"top-left")&&a(e.detail.value)}))}
                </div>
              `:o.qy`
                <div
                  style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                >
                  ${(0,c.kg)("editor.camera.show_name_toggle.enable_toggle_desc",l,"Enable the toggle above to configure camera name display")}
                </div>
              `}
        </div>

        <!-- Tap to Open Fullscreen Settings -->
        <div class="settings-section">
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,c.kg)("editor.camera.tap_opens_fullscreen",l,"Tap Camera Opens Fullscreen")}
            </div>
            <ha-switch
              .checked=${!0===s.tap_opens_fullscreen}
              @change=${e=>{const t=e.target;a({tap_opens_fullscreen:t.checked})}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="margin-bottom: 16px; color: var(--secondary-text-color); font-style: italic; padding: 12px; background: rgba(var(--rgb-primary-color), 0.1); border-radius: 6px; border-left: 4px solid var(--primary-color);"
          >
            <ha-icon icon="mdi:information" style="font-size: 14px; margin-right: 6px;"></ha-icon>
            ${(0,c.kg)("editor.camera.tap_opens_fullscreen_desc",l,"When enabled, tapping anywhere on the camera will open it in fullscreen mode.")}
          </div>
        </div>

        <!-- Display Settings Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 32px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.camera.display.title",l,"Display Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,c.kg)("editor.camera.live_view.title",l,"Live View"),(0,c.kg)("editor.camera.live_view.desc",l,"Enable to show live camera stream (requires stream integration). When disabled, shows still image snapshots."),t,{live_view:!1!==s.live_view},[this.booleanField("live_view")],(e=>a(e.detail.value)))}
          </div>

          ${!1!==s.live_view?o.qy`
                <div style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,c.kg)("editor.camera.audio_enabled.title",l,"Enable Audio"),(0,c.kg)("editor.camera.audio_enabled.desc",l,"Enable audio for live camera streams. Audio is only available when Live View is enabled."),t,{audio_enabled:!0===s.audio_enabled},[this.booleanField("audio_enabled")],(e=>a(e.detail.value)))}
                </div>
              `:""}
          ${!1===s.live_view?o.qy`
                <div style="margin-top: 24px;">
                  ${this.renderConditionalFieldsGroup((0,c.kg)("editor.camera.auto_refresh.section_title",l,"Auto Refresh Settings"),o.qy`
                      <div style="margin-bottom: 16px;">
                        ${n.Q.renderField((0,c.kg)("editor.camera.auto_refresh.title",l,"Auto Refresh"),(0,c.kg)("editor.camera.auto_refresh.desc",l,"Automatically refresh the camera image at regular intervals"),t,{auto_refresh:!1!==s.auto_refresh},[n.Q.createSchemaItem("auto_refresh",{boolean:{}})],(e=>a({auto_refresh:e.detail.value.auto_refresh})))}
                      </div>

                      ${!1!==s.auto_refresh?o.qy`
                            ${n.Q.renderField((0,c.kg)("editor.camera.refresh_interval.title",l,"Refresh Interval (seconds)"),(0,c.kg)("editor.camera.refresh_interval.desc",l,"How often to refresh the camera image automatically."),t,{refresh_interval:s.refresh_interval||30},[n.Q.createSchemaItem("refresh_interval",{number:{min:5,max:300,mode:"box"}})],(e=>a({refresh_interval:e.detail.value.refresh_interval})))}
                          `:""}
                    `)}
                </div>
              `:""}

          <!-- Dimensions Section -->
          <div style="margin-bottom: 32px;">
            <div
              class="field-title"
              style="font-size: 18px; font-weight: 700; margin-bottom: 8px; color: var(--primary-color);"
            >
              ${(0,c.kg)("editor.camera.dimensions.title",l,"Dimensions")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.1); border-radius: 6px; border-left: 4px solid var(--primary-color);"
            >
              <ha-icon icon="mdi:information" style="font-size: 14px; margin-right: 6px;"></ha-icon>
              ${(0,c.kg)("editor.camera.dimensions.responsive_note",l,"Camera now uses responsive sizing by default (100% width). Use the Design tab for full control over dimensions, or adjust these fallback pixel dimensions for specific use cases.")}
            </div>

            <style>
              .number-range-control {
                display: flex;
                gap: 8px;
                align-items: center;
              }

              .range-slider {
                flex: 0 0 65%;
                height: 6px;
                background: var(--divider-color);
                border-radius: 3px;
                outline: none;
                appearance: none;
                -webkit-appearance: none;
                cursor: pointer;
                transition: all 0.2s ease;
                min-width: 0;
              }

              .range-slider::-webkit-slider-thumb {
                appearance: none;
                -webkit-appearance: none;
                width: 18px;
                height: 18px;
                background: var(--primary-color);
                border-radius: 50%;
                cursor: pointer;
                transition: all 0.2s ease;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
              }

              .range-slider::-moz-range-thumb {
                width: 18px;
                height: 18px;
                background: var(--primary-color);
                border-radius: 50%;
                cursor: pointer;
                border: none;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
              }

              .range-slider:hover {
                background: var(--primary-color);
                opacity: 0.7;
              }

              .range-slider:hover::-webkit-slider-thumb {
                transform: scale(1.1);
              }

              .range-slider:hover::-moz-range-thumb {
                transform: scale(1.1);
              }

              .range-input {
                flex: 0 0 20%;
                padding: 6px 8px !important;
                border: 1px solid var(--divider-color);
                border-radius: 4px;
                background: var(--secondary-background-color);
                color: var(--primary-text-color);
                font-size: 13px;
                text-align: center;
                transition: all 0.2s ease;
                box-sizing: border-box;
              }

              .range-input:focus {
                outline: none;
                border-color: var(--primary-color);
                box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
              }

              .range-reset-btn {
                width: 32px;
                height: 32px;
                padding: 0;
                border: 1px solid var(--divider-color);
                border-radius: 4px;
                background: var(--secondary-background-color);
                color: var(--primary-text-color);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s ease;
                flex-shrink: 0;
              }

              .range-reset-btn:hover {
                background: var(--primary-color);
                color: var(--text-primary-color);
                border-color: var(--primary-color);
              }

              .range-reset-btn ha-icon {
                font-size: 14px;
              }

              .aspect-ratio-link-btn {
                width: 40px;
                height: 40px;
                padding: 0;
                border: 2px solid var(--divider-color);
                border-radius: 50%;
                background: var(--secondary-background-color);
                color: var(--primary-text-color);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
                flex-shrink: 0;
                margin: 0 auto;
                position: relative;
              }

              .aspect-ratio-link-btn.linked {
                border-color: var(--primary-color);
                background: var(--primary-color);
                color: white;
                transform: scale(1.05);
              }

              .aspect-ratio-link-btn:hover {
                transform: scale(1.1);
                border-color: var(--primary-color);
              }

              .aspect-ratio-link-btn.linked:hover {
                background: var(--primary-color);
                opacity: 0.9;
              }

              .aspect-ratio-link-btn ha-icon {
                font-size: 20px;
                transition: transform 0.2s ease;
              }

              .dimensions-container {
                display: flex;
                flex-direction: column;
                gap: 16px;
              }

              .dimension-group {
                display: flex;
                flex-direction: column;
                gap: 8px;
              }
            </style>

            <div class="dimensions-container">
              <div class="dimension-group">
                <div class="field-title">
                  ${(0,c.kg)("editor.camera.width",l,"Width (px)")}
                </div>
                <div class="field-description">
                  ${(0,c.kg)("editor.camera.width_desc",l,"Set the width of the camera display. Range: 100-1000px")}
                </div>
                <div class="number-range-control">
                  <input
                    type="range"
                    class="range-slider"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${s.width||320}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);this._handleDimensionChange(s,"width",i,a)}}
                  />
                  <input
                    type="number"
                    class="range-input"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${s.width||320}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||this._handleDimensionChange(s,"width",i,a)}}
                    @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||320,o="ArrowUp"===e.key?1:-1,n=Math.max(100,Math.min(1e3,i+o));this._handleDimensionChange(s,"width",n,a)}}}
                  />
                  <button
                    class="range-reset-btn"
                    @click=${()=>this._handleDimensionChange(s,"width",320,a)}
                    title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","320")}
                  >
                    <ha-icon icon="mdi:refresh"></ha-icon>
                  </button>
                </div>
              </div>

              <!-- Link/Unlink Button -->
              <div style="display: flex; justify-content: center; margin: 8px 0;">
                <button
                  class="aspect-ratio-link-btn ${!1!==s.aspect_ratio_linked?"linked":""}"
                  @click=${()=>{const e=!s.aspect_ratio_linked,t={aspect_ratio_linked:e};if(e){const e=s.width||320,i=s.height||180;t.aspect_ratio_value=e/i}a(t)}}
                  title="${!1!==s.aspect_ratio_linked?(0,c.kg)("editor.camera.unlink_aspect",l,"Unlink aspect ratio"):(0,c.kg)("editor.camera.link_aspect",l,"Link aspect ratio")}"
                >
                  <ha-icon
                    icon="${!1!==s.aspect_ratio_linked?"mdi:link-variant":"mdi:link-variant-off"}"
                  ></ha-icon>
                </button>
              </div>

              <div class="dimension-group">
                <div class="field-title">
                  ${(0,c.kg)("editor.camera.height",l,"Height (px)")}
                </div>
                <div class="field-description">
                  ${(0,c.kg)("editor.camera.height_desc",l,"Set the height of the camera display. Range: 100-1000px")}
                </div>
                <div class="number-range-control">
                  <input
                    type="range"
                    class="range-slider"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${s.height||180}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);this._handleDimensionChange(s,"height",i,a)}}
                  />
                  <input
                    type="number"
                    class="range-input"
                    min="100"
                    max="1000"
                    step="1"
                    .value="${s.height||180}"
                    @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||this._handleDimensionChange(s,"height",i,a)}}
                    @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||180,o="ArrowUp"===e.key?1:-1,n=Math.max(100,Math.min(1e3,i+o));this._handleDimensionChange(s,"height",n,a)}}}
                  />
                  <button
                    class="range-reset-btn"
                    @click=${()=>this._handleDimensionChange(s,"height",180,a)}
                    title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","180")}
                  >
                    <ha-icon icon="mdi:refresh"></ha-icon>
                  </button>
                </div>
              </div>
            </div>

            ${!1!==s.aspect_ratio_linked?o.qy`
                  <div
                    style="margin-top: 12px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.1); border-radius: 8px; border-left: 4px solid var(--primary-color);"
                  >
                    <div
                      style="font-size: 13px; color: var(--primary-color); font-weight: 500; margin-bottom: 4px;"
                    >
                      <ha-icon
                        icon="mdi:link-variant"
                        style="font-size: 14px; margin-right: 6px;"
                      ></ha-icon>
                      ${(0,c.kg)("editor.camera.aspect_linked.title",l,"Aspect Ratio Linked")}
                    </div>
                    <div
                      style="font-size: 12px; color: var(--secondary-text-color); line-height: 1.4;"
                    >
                      ${(0,c.kg)("editor.camera.aspect_linked.desc",l,"Dimensions maintain {ratio}:1 ratio. Adjusting one dimension automatically updates the other to maintain proportions.").replace("{ratio}",`${(1*(s.aspect_ratio_value||1.778)).toFixed(2)}`)}
                    </div>
                  </div>
                `:o.qy`
                  <div
                    style="margin-top: 12px; padding: 12px; background: rgba(var(--rgb-secondary-text-color), 0.1); border-radius: 8px; border-left: 4px solid var(--secondary-text-color);"
                  >
                    <div
                      style="font-size: 13px; color: var(--secondary-text-color); font-weight: 500; margin-bottom: 4px;"
                    >
                      <ha-icon
                        icon="mdi:link-variant-off"
                        style="font-size: 14px; margin-right: 6px;"
                      ></ha-icon>
                      ${(0,c.kg)("editor.camera.aspect_independent.title",l,"Independent Dimensions")}
                    </div>
                    <div
                      style="font-size: 12px; color: var(--secondary-text-color); line-height: 1.4;"
                    >
                      ${(0,c.kg)("editor.camera.aspect_independent.desc",l,"Width and height can be adjusted independently. Click the link button above to maintain aspect ratio.")}
                    </div>
                  </div>
                `}
          </div>

          <!-- Rotation Field -->
          <div class="dimension-group" style="margin-top: 16px;">
            <div class="field-title">
              ${(0,c.kg)("editor.camera.rotation",l,"Rotation ()")}
            </div>
            <div class="field-description">
              ${(0,c.kg)("editor.camera.rotation_desc",l,"Rotate the camera image clockwise (0-360 degrees).")}
            </div>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="0"
                max="360"
                step="1"
                .value="${s.rotation||0}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);a({rotation:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="0"
                max="360"
                step="1"
                .value="${s.rotation||0}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({rotation:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||0,o="ArrowUp"===e.key?1:-1,n=Math.max(0,Math.min(360,i+o));a({rotation:n})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>a({rotation:0})}
                title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","0")}
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>
        </div>

        <!-- Crop & Position Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.camera.crop.title",l,"Crop & Position")}
          </div>
          <div
            class="field-description"
            style="margin-bottom: 20px; color: var(--secondary-text-color); font-style: italic;"
          >
            ${(0,c.kg)("editor.camera.crop.desc",l,"Adjust the crop and position of the camera view. Useful for focusing on specific areas or removing unwanted edges.")}
          </div>

          <div style="display: flex; flex-direction: column; gap: 20px;">
            <!-- Left Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,c.kg)("editor.camera.crop.left_title",l,"Left Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,c.kg)("editor.camera.crop.left_desc",l,"Crop from the left edge. Higher values show less of the left side.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_left||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);a({crop_left:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_left||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({crop_left:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>a({crop_left:0})}
                  title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Right Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,c.kg)("editor.camera.crop.right_title",l,"Right Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,c.kg)("editor.camera.crop.right_desc",l,"Crop from the right edge. Higher values show less of the right side.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_right||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);a({crop_right:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_right||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({crop_right:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>a({crop_right:0})}
                  title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Top Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,c.kg)("editor.camera.crop.top_title",l,"Top Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,c.kg)("editor.camera.crop.top_desc",l,"Crop from the top edge. Higher values show less of the top area.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_top||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);a({crop_top:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_top||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({crop_top:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>a({crop_top:0})}
                  title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Bottom Crop -->
            <div class="field-container">
              <div class="field-title">
                ${(0,c.kg)("editor.camera.crop.bottom_title",l,"Bottom Crop (%)")}
              </div>
              <div class="field-description">
                ${(0,c.kg)("editor.camera.crop.bottom_desc",l,"Crop from the bottom edge. Higher values show less of the bottom area.")}
              </div>
              <div class="number-range-control">
                <input
                  type="range"
                  class="range-slider"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_bottom||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);a({crop_bottom:i})}}
                />
                <input
                  type="number"
                  class="range-input"
                  min="0"
                  max="50"
                  step="1"
                  .value="${s.crop_bottom||0}"
                  @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({crop_bottom:i})}}
                />
                <button
                  class="range-reset-btn"
                  @click=${()=>a({crop_bottom:0})}
                  title=${(0,c.kg)("editor.fields.reset_default_value",l,"Reset to default ({value})").replace("{value}","0")}
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>
          </div>

          <!-- Crop Status -->
          ${(s.crop_left||0)+(s.crop_top||0)+(s.crop_right||0)+(s.crop_bottom||0)>0?o.qy`
                <div
                  style="margin-top: 16px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.1); border-radius: 8px; border-left: 4px solid var(--primary-color);"
                >
                  <div
                    style="font-size: 13px; color: var(--primary-color); font-weight: 500; margin-bottom: 4px;"
                  >
                    <ha-icon icon="mdi:crop" style="font-size: 14px; margin-right: 6px;"></ha-icon>
                    ${(0,c.kg)("editor.camera.crop.active_applied",l,"Active Crops Applied")}
                  </div>
                  <div
                    style="font-size: 12px; color: var(--secondary-text-color); line-height: 1.4;"
                  >
                    L: ${s.crop_left||0}% | T: ${s.crop_top||0}% | R:
                    ${s.crop_right||0}% | B: ${s.crop_bottom||0}%
                  </div>
                </div>
              `:""}

          <!-- Reset All Crops Button -->
          <div style="margin-top: 20px; text-align: center;">
            <button
              style="
                padding: 8px 16px;
                border: 1px solid var(--primary-color);
                border-radius: 6px;
                background: transparent;
                color: var(--primary-color);
                cursor: pointer;
                font-size: 13px;
                font-weight: 500;
                transition: all 0.2s ease;
              "
              @click=${()=>a({crop_left:0,crop_top:0,crop_right:0,crop_bottom:0})}
              @mouseover=${e=>{const t=e.target;t.style.background="var(--primary-color)",t.style.color="white"}}
              @mouseout=${e=>{const t=e.target;t.style.background="transparent",t.style.color="var(--primary-color)"}}
            >
              <ha-icon icon="mdi:crop-free" style="margin-right: 6px; font-size: 14px;"></ha-icon>
              ${(0,c.kg)("editor.camera.crop.reset_all",l,"Reset All Crops")}
            </button>
          </div>
        </div>

        <!-- Link configuration intentionally omitted for Camera module per design guidelines -->

        <!-- Template Mode Section -->
        <div
          class="settings-section template-mode-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,c.kg)("editor.camera.template.title",l,"Template Mode")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,c.kg)("editor.camera.template.desc",l,"Use a template to dynamically set the camera entity. Templates allow you to use Home Assistant templating syntax for conditional camera selection.")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{template_mode:s.template_mode||!1}}
              .schema=${[{name:"template_mode",label:(0,c.kg)("editor.camera.template.mode_label",l,"Template Mode"),description:(0,c.kg)("editor.camera.template.mode_desc",l,"Use Home Assistant templating syntax to dynamically select camera entity"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>a({template_mode:e.detail.value.template_mode})}
            ></ha-form>
          </div>

          ${s.template_mode?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{template:s.template||""}}
                    .schema=${[{name:"template",label:(0,c.kg)("editor.camera.template.camera_template_label",l,"Camera Template"),description:(0,c.kg)("editor.camera.template.camera_template_desc",l,"Template to dynamically set the camera entity using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>a({template:e.detail.value.template})}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,c.kg)("editor.camera.template.examples_title",l,"Common Examples:")}
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      'camera.outdoor' if is_state('weather.home', 'sunny') else ''
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,c.kg)("editor.camera.template.example1_desc",l,"Show camera when weather is sunny")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      'camera.front_door' if is_state('input_boolean.show_front', 'on') else
                      'camera.back_yard'
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,c.kg)("editor.camera.template.example2_desc",l,"Switch between cameras based on input boolean")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      states('input_select.active_camera')
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,c.kg)("editor.camera.template.example3_desc",l,"Use input select to choose camera entity")}
                    </div>
                  </div>
                </div>
              `:""}
        </div>
      </div>
    `}renderActionsTab(e,t,i,o){return r.A.render(e,t,(e=>o(e)))}renderPreview(e,t,i){var a;const n=e,r=n,s=r.design||{};let l=n.entity;if(n.template_mode&&n.template)try{let e=n.template;const i=e.match(/states\(['"]([^'"]+)['"]\)/g);i&&i.forEach((i=>{const o=i.match(/states\(['"]([^'"]+)['"]\)/)[1],a=null==t?void 0:t.states[o],n=a?a.state:"unknown";e=e.replace(i,`'${n}'`)}));const o=e.match(/is_state\(['"]([^'"]+)['"],\s*['"]([^'"]+)['"]\)/g);o&&o.forEach((i=>{const[,o,a]=i.match(/is_state\(['"]([^'"]+)['"],\s*['"]([^'"]+)['"]\)/),n=null==t?void 0:t.states[o],r=n&&n.state===a;e=e.replace(i,r?"True":"False")}));const a=e.match(/['"]([^'"]+)['"] if (.+?) else ['"]([^'"]+)['"]/);if(a){const[,e,t,i]=a;l=t.includes("True")?e:i}else{const t=e.match(/['"]([^'"]+)['"]/);t&&(l=t[1])}}catch(e){console.error("Template evaluation error:",e),l=n.entity}const c=l?t.states[l]:null,p=!c||"unavailable"===c.state,u=n.camera_name||(c?c.attributes.friendly_name||c.entity_id:"Camera"),g={width:"100%",maxWidth:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"left"===s.alignment?"flex-start":"right"===s.alignment?"flex-end":"center",justifyContent:"center",color:s.color||this.getTextColor(r),fontFamily:s.font_family||this.getTextFont(r),fontSize:s.font_size?"number"==typeof s.font_size?`${s.font_size}px`:s.font_size:this.getTextSize(r),fontWeight:s.font_weight||this.getTextWeight(r),textTransform:s.text_transform||void 0,letterSpacing:s.letter_spacing||void 0,lineHeight:s.line_height||void 0,textShadow:s.text_shadow||void 0},m=n.crop_left||0,h=n.crop_right||0,_=n.crop_top||0,v=n.crop_bottom||0,f=s.width&&""!==s.width,b=s.height&&""!==s.height,y=n.width||320,k=n.height||180,x=y*(100-m-h)/100,w=k*(100-_-v)/100,S=m>0||h>0||_>0||v>0,A=S?-y*m/100:0,C=S?-k*_/100:0,z=n.rotation||0,T={objectFit:"cover",width:S?`${y}px`:"100%",height:S?`${k}px`:"100%",display:"block",position:S?"absolute":"static",left:S?`${A}px`:"auto",top:S?`${C}px`:"auto",transform:0!==z?`rotate(${z}deg)`:"",transition:"all 0.3s ease",borderRadius:s.border_radius||"0px"},I={width:s.width||(f?"100%":`${Math.max(50,x)}px`),height:s.height||(b?"auto":`${Math.max(50,w)}px`),maxWidth:s.max_width||void 0,minWidth:s.min_width||void 0,maxHeight:s.max_height||void 0,minHeight:s.min_height||void 0,position:"relative",overflow:s.overflow||"hidden",borderRadius:s.border_radius||"0px",background:s.background_color||"transparent",backgroundImage:this.getBackgroundImageWithDesign(s,r,t)||void 0,border:this.getBorderWithDesign(s,r)||void 0,padding:"0",margin:this.getMarginWithDesign(s,r),boxShadow:s.box_shadow||void 0,backdropFilter:s.backdrop_filter||void 0,clipPath:s.clip_path||void 0},E=n.name_position||"top-left",$=this.getCameraNamePositionStyles(E,r,s),P=o.qy`
      <div class="camera-module-container" style=${this.styleObjectToCss(g)}>
        <div class="camera-image-container" style=${this.styleObjectToCss(I)}>
          ${l?p?o.qy`
                  <div
                    class="camera-unavailable"
                    style=${this.styleObjectToCss(Object.assign(Object.assign({},T),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"var(--error-color, #f44336)",color:s.color||this.getTextColor(r),position:"static",left:"auto",top:"auto",fontFamily:s.font_family||this.getTextFont(r)}))}
                  >
                    ${n.fallback_image?o.qy`
                          <img
                            src=${n.fallback_image}
                            alt="Fallback"
                            style="max-width: 100%; max-height: 100%; object-fit: cover;"
                          />
                        `:o.qy`
                          <ha-icon
                            icon="mdi:camera-off"
                            style="font-size: 48px; margin-bottom: 8px;"
                          ></ha-icon>
                          <span
                            style="font-weight: ${s.font_weight||this.getTextWeight(r)}; font-size: ${s.font_size?"number"==typeof s.font_size?`${s.font_size}px`:s.font_size:this.getTextSize(r)};"
                            >Camera Unavailable</span
                          >
                          <span
                            style="font-size: ${s.font_size&&"number"==typeof s.font_size?`${Math.max(10,s.font_size-2)}px`:this.getSmallTextSize(r)}; margin-top: 4px; opacity: 0.9;"
                            >Entity: ${l}</span
                          >
                        `}
                  </div>
                  ${!1!==n.show_name?o.qy`
                        <div
                          class="camera-name-overlay"
                          style=${this.styleObjectToCss($)}
                        >
                          ${u}
                        </div>
                      `:""}
                `:o.qy`
                  <!-- Use HA's native camera image component - same as picture-glance card -->
                  <hui-image
                    .hass=${t}
                    .cameraImage=${l}
                    .cameraView=${n.live_view?"live":"auto"}
                    .muted=${!0!==n.audio_enabled}
                    style=${this.styleObjectToCss(T)}
                    class="camera-image"
                    @error=${()=>{}}
                    @load=${e=>{const t=e.target,i=t.closest(".camera-image-container");if(i){const e=i.querySelector(".camera-name-overlay"),o=i.querySelector(".camera-fullscreen-icon");setTimeout((()=>{this.repositionPreviewOverlays(t,e,o,i)}),100)}}}
                  ></hui-image>
                  ${!1!==n.show_name?o.qy`
                        <div
                          class="camera-name-overlay"
                          style=${this.styleObjectToCss($)}
                        >
                          ${u}
                        </div>
                      `:""}
                `:o.qy`
                <div
                  class="camera-unavailable"
                  style=${this.styleObjectToCss(Object.assign(Object.assign({},T),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"var(--warning-color, #ff9800)",color:s.color||this.getTextColor(r),position:"static",left:"auto",top:"auto",fontFamily:s.font_family||this.getTextFont(r)}))}
                >
                  <ha-icon
                    icon="mdi:camera-plus"
                    style="font-size: 48px; margin-bottom: 8px;"
                  ></ha-icon>
                  <span
                    style="font-weight: ${s.font_weight||this.getTextWeight(r)}; font-size: ${s.font_size?"number"==typeof s.font_size?`${s.font_size}px`:s.font_size:this.getTextSize(r)};"
                    >No Camera Selected</span
                  >
                  <span
                    style="font-size: ${s.font_size&&"number"==typeof s.font_size?`${Math.max(10,s.font_size-2)}px`:this.getSmallTextSize(r)}; margin-top: 4px; opacity: 0.9;"
                    >Choose a camera entity below</span
                  >
                </div>
                ${!1!==n.show_name?o.qy`
                      <div
                        class="camera-name-overlay"
                        style=${this.styleObjectToCss($)}
                      >
                        ${u}
                      </div>
                    `:""}
              `}
        </div>
      </div>
    `,j=null===(a=n.design)||void 0===a?void 0:a.hover_effect,B=d.k.getHoverEffectClass(j);return this.hasActiveLink(n)?o.qy`<div
          class="camera-module-clickable ${B}"
          @click=${e=>this.handleClick(e,n,t)}
          @dblclick=${e=>this.handleDoubleClick(e,n,t)}
          @mousedown=${e=>this.handleMouseDown(e,n,t)}
          @mouseup=${e=>this.handleMouseUp(e,n,t)}
          @mouseleave=${e=>this.handleMouseLeave(e,n,t)}
          @touchstart=${e=>this.handleTouchStart(e,n,t)}
          @touchend=${e=>this.handleTouchEnd(e,n,t)}
        >
          ${P}
        </div>`:B?o.qy`<div class="camera-module-container ${B}">${P}</div>`:P}renderLogicTab(e,t,i,o){return s.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];return t.template_mode||t.entity&&""!==t.entity.trim()||i.push("Camera entity is required when not using template mode"),!t.template_mode||t.template&&""!==t.template.trim()||i.push("Template code is required when template mode is enabled"),!1!==t.auto_refresh&&t.refresh_interval&&(t.refresh_interval<5||t.refresh_interval>300)&&i.push("Refresh interval must be between 5 and 300 seconds"),t.border_radius&&isNaN(Number(t.border_radius))&&i.push("Border radius must be a number"),void 0!==t.rotation&&null!==t.rotation&&(isNaN(Number(t.rotation))||t.rotation<0||t.rotation>360)&&i.push("Rotation must be a number between 0 and 360 degrees"),t.tap_action&&t.tap_action.action&&i.push(...this.validateAction(t.tap_action)),t.hold_action&&t.hold_action.action&&i.push(...this.validateAction(t.hold_action)),t.double_tap_action&&t.double_tap_action.action&&i.push(...this.validateAction(t.double_tap_action)),{valid:0===i.length,errors:i}}handleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i,o)}),300)}handleDoubleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i,o)}handleMouseDown(e,t,i,o){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i,o)}),500)}handleMouseUp(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null)}handleMouseLeave(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTouchStart(e,t,i,o){this.handleMouseDown(e,t,i,o)}handleTouchEnd(e,t,i){this.handleMouseUp(e,t,i)}handleTapAction(e,t,i,o){if(!this.isHolding)if(!0!==t.tap_opens_fullscreen)if(t.tap_action){const a="default"===t.tap_action.action?{action:"more-info",entity:t.entity}:t.tap_action;l.K.handleAction(a,i,e.target,o)}else t.entity&&l.K.handleAction({action:"more-info",entity:t.entity},i,e.target,o);else this.handleFullscreenClick(e,t,o)}handleHoldAction(e,t,i,o){t.hold_action&&"nothing"!==t.hold_action.action&&l.K.handleAction(t.hold_action,i,e.target,o)}handleDoubleAction(e,t,i,o){t.double_tap_action&&"nothing"!==t.double_tap_action.action&&l.K.handleAction(t.double_tap_action,i,e.target,o)}handleFullscreenClick(e,t,o){e.stopPropagation(),e.preventDefault(),!1!==(null==o?void 0:o.haptic_feedback)&&Promise.resolve().then(i.bind(i,9811)).then((({forwardHaptic:e})=>{e("medium")})),this.createFullscreenModal(t)}createFullscreenModal(e){var t;document.querySelectorAll('[id^="ultra-camera-fullscreen-"]').forEach((e=>e.remove()));let i=e.entity;if(e.template_mode&&e.template)try{if(null===(t=document.querySelector("home-assistant"))||void 0===t?void 0:t.hass){const t=e.template.match(/['"]([^'"]+)['"]/);t&&(i=t[1])}}catch(e){}if(!i)return void alert("No camera entity available");const o="ultra-camera-fullscreen-"+Date.now(),a=document.createElement("div");a.id=o,a.style.cssText="\n      position: fixed !important;\n      top: 0 !important;\n      left: 0 !important;\n      width: 100vw !important;\n      height: 100vh !important;\n      background: rgba(0,0,0,0.95) !important;\n      z-index: 2147483647 !important;\n      display: flex !important;\n      align-items: center !important;\n      justify-content: center !important;\n      backdrop-filter: blur(10px) !important;\n      touch-action: none !important;\n      user-select: none !important;\n      -webkit-user-select: none !important;\n      -webkit-touch-callout: none !important;\n    ";const n=document.createElement("div");n.style.cssText="\n      position: relative !important;\n      width: 100vw !important;\n      height: 100vh !important;\n      overflow: hidden !important;\n      background: black !important;\n    ";const r=document.createElement("div");r.id=o+"-camera-container",r.style.cssText="\n      width: 100% !important;\n      height: 100% !important;\n      display: flex !important;\n      align-items: center !important;\n      justify-content: center !important;\n      min-height: 300px !important;\n      touch-action: none !important;\n      user-select: none !important;\n    ";const s=document.createElement("button");if(s.innerHTML="",s.style.cssText="\n      position: absolute !important;\n      top: 20px !important;\n      right: 20px !important;\n      width: 50px !important;\n      height: 50px !important;\n      border: 3px solid rgba(255,255,255,0.7) !important;\n      background: rgba(0,0,0,0.8) !important;\n      color: white !important;\n      font-size: 30px !important;\n      font-weight: bold !important;\n      cursor: pointer !important;\n      border-radius: 50% !important;\n      display: flex !important;\n      align-items: center !important;\n      justify-content: center !important;\n      z-index: 2147483647 !important;\n      backdrop-filter: blur(4px) !important;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.6) !important;\n      font-family: Arial, sans-serif !important;\n      line-height: 1 !important;\n      transition: all 0.2s ease !important;\n    ",!1!==e.show_name){const t=document.createElement("div");t.style.cssText="\n        position: absolute !important;\n        top: 20px !important;\n        left: 20px !important;\n        padding: 10px 16px !important;\n        background: rgba(0,0,0,0.8) !important;\n        color: white !important;\n        border-radius: 8px !important;\n        font-size: 16px !important;\n        font-weight: 500 !important;\n        backdrop-filter: blur(4px) !important;\n        text-shadow: 0 1px 2px rgba(0,0,0,0.8) !important;\n        border: 1px solid rgba(255,255,255,0.2) !important;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.4) !important;\n      ",t.textContent=e.camera_name||i,n.appendChild(t)}n.appendChild(r),n.appendChild(s),a.appendChild(n),document.body.appendChild(a);const l=()=>{const e=a._restoreViewport;e&&e(),a.remove(),document.removeEventListener("keydown",p),document.body.style.overflow=""},d=()=>{a.removeAttribute("inert"),s.removeAttribute("inert"),a.style.pointerEvents="auto",s.style.pointerEvents="auto",s.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),console.log("X button clicked"),l()}),!0),a.addEventListener("click",(e=>{console.log("Modal clicked",e.target===a),e.target===a&&(e.stopPropagation(),e.preventDefault(),l())}),!0)};d(),setTimeout(d,100);const c=new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"inert"===e.attributeName){const t=e.target;t!==a&&t!==s||(t.removeAttribute("inert"),t.style.pointerEvents="auto")}}))}));c.observe(a,{attributes:!0}),c.observe(s,{attributes:!0}),setTimeout((()=>{var t;const a=document.getElementById(o),n=document.getElementById(o+"-camera-container");if(a&&n){const o=null===(t=document.querySelector("home-assistant"))||void 0===t?void 0:t.hass;if(o){const t=document.createElement("hui-image");t.hass=o,t.cameraImage=i,t.cameraView=e.live_view?"live":"auto",t.muted=!0!==e.audio_enabled,t.style.cssText="\n            width: 100vw !important;\n            height: 100vh !important;\n            display: block !important;\n            object-fit: contain !important;\n            transition: transform 0.2s ease !important;\n            cursor: grab !important;\n            touch-action: none !important;\n          ",n.innerHTML="",n.appendChild(t),this.addPinchZoomToCamera(t,n)}else{const e=document.createElement("img");e.src=`/api/camera_proxy/${i}?t=${Date.now()}`,e.style.cssText="\n            width: 100vw !important;\n            height: 100vh !important;\n            display: block !important;\n            object-fit: contain !important;\n            cursor: grab !important;\n            touch-action: none !important;\n          ",n.innerHTML="",n.appendChild(e),this.addPinchZoomToCamera(e,n)}}}),50);const p=e=>{"Escape"===e.key&&l()};document.addEventListener("keydown",p),document.body.style.overflow="hidden";const u=document.querySelector('meta[name="viewport"]'),g=(null==u?void 0:u.content)||"";u&&(u.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),a._restoreViewport=()=>{u&&(u.content=g)}}addPinchZoomToCamera(e,t){let i=1,o=0,a=0,n=0,r=!1,s=!1,l=0,d=0,c=0,p=0;const u=()=>{e.style.transform=`translate(${o}px, ${a}px) scale(${i})`,e.style.transformOrigin="center center",e.style.transition=r||s?"none":"transform 0.2s ease"},g=(e,t)=>{const i=e.clientX-t.clientX,o=e.clientY-t.clientY;return Math.sqrt(i*i+o*o)};t.addEventListener("touchstart",(e=>{e.touches.length>1&&e.preventDefault()}),{passive:!1}),t.addEventListener("touchmove",(e=>{e.touches.length>1&&e.preventDefault()}),{passive:!1});const m=()=>{if(i>1){const{maxX:t,maxY:n}=(()=>{const t=e.getBoundingClientRect(),o=t.width*i,a=t.height*i;return{maxX:Math.max(0,(o-window.innerWidth)/2),maxY:Math.max(0,(a-window.innerHeight)/2)}})();o=Math.max(-t,Math.min(t,o)),a=Math.max(-n,Math.min(n,a))}};e.addEventListener("touchstart",(e=>{2===e.touches.length?(e.preventDefault(),e.stopPropagation(),r=!0,n=g(e.touches[0],e.touches[1])):1===e.touches.length&&i>1&&(c=e.touches[0].clientX,p=e.touches[0].clientY)}),{passive:!1}),e.addEventListener("touchmove",(e=>{if(r&&2===e.touches.length){e.preventDefault(),e.stopPropagation();const t=g(e.touches[0],e.touches[1]);n>0&&(i*=t/n,i=Math.max(1,Math.min(6,i)),i>1&&m(),u()),n=t}else if(1===e.touches.length&&i>1){e.preventDefault();const t=e.touches[0].clientX-c,i=e.touches[0].clientY-p;o+=t,a+=i,m(),u(),c=e.touches[0].clientX,p=e.touches[0].clientY}}),{passive:!1}),e.addEventListener("touchend",(t=>{0===t.touches.length?(r=!1,i<1.02&&(i=1,o=0,a=0),u(),e.style.cursor=i>1?"grab":"default"):1===t.touches.length&&r&&(r=!1,i<1.02&&(i=1,o=0,a=0),u())})),e.addEventListener("touchcancel",(()=>{r=!1,i<1.02&&(i=1,o=0,a=0),u(),e.style.cursor=i>1?"grab":"default"})),e.addEventListener("mousedown",(t=>{i>1&&(t.preventDefault(),s=!0,l=t.clientX,d=t.clientY,e.style.cursor="grabbing")})),document.addEventListener("mousemove",(e=>{if(s&&i>1){e.preventDefault();const t=e.clientX-l,i=e.clientY-d;o+=t,a+=i,m(),u(),l=e.clientX,d=e.clientY}})),document.addEventListener("mouseup",(()=>{s&&(s=!1,i<1.02&&(i=1,o=0,a=0,u()),e.style.cursor=i>1?"grab":"default")})),e.addEventListener("wheel",(t=>{t.preventDefault();const n=t.deltaY>0?-.15:.15;i=Math.max(1,Math.min(6,i+n)),i<1.02?(i=1,o=0,a=0):i>1&&m(),u(),e.style.cursor=i>1?"grab":"default"}),{passive:!1});let h=0,_=0,v=0;e.addEventListener("touchend",(t=>{const n=Date.now(),r=n-h;if(r<300&&r>0&&0===t.touches.length)if(i>1)i=1,o=0,a=0,u(),e.style.cursor="default";else{const n=t.changedTouches[0],r=e.getBoundingClientRect(),s=n.clientX-r.left-r.width/2,l=n.clientY-r.top-r.height/2;i=2.5,o=-s*(i-1),a=-l*(i-1),m(),u(),e.style.cursor="grab"}t.changedTouches.length>0&&(_=t.changedTouches[0].clientX,v=t.changedTouches[0].clientY),h=n}))}trySimpleModal(e,t){var i;try{let e=t.entity;if(t.template_mode&&t.template)try{if(null===(i=document.querySelector("home-assistant"))||void 0===i?void 0:i.hass){const i=t.template.match(/['"]([^'"]+)['"]/);i&&(e=i[1])}}catch(e){}if(!e)return!1;const o="camera-fullscreen-"+Date.now(),a=t.camera_name||e,n=`\n        <div id="${o}" style="\n          position: fixed !important;\n          top: 0 !important;\n          left: 0 !important;\n          right: 0 !important;\n          bottom: 0 !important;\n          background: rgba(0,0,0,0.95) !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          z-index: 2147483647 !important;\n          backdrop-filter: blur(10px) !important;\n        " onclick="if(event.target === this) this.remove()">\n          <div style="\n            position: relative !important;\n            max-width: 95vw !important;\n            max-height: 95vh !important;\n            background: black !important;\n            border-radius: 12px !important;\n            overflow: hidden !important;\n            box-shadow: 0 20px 60px rgba(0,0,0,0.5) !important;\n          ">\n            <img src="/api/camera_proxy/${e}?t=${Date.now()}" style="\n              max-width: 95vw !important;\n              max-height: 95vh !important;\n              width: auto !important;\n              height: auto !important;\n              display: block !important;\n              object-fit: contain !important;\n              border-radius: 12px !important;\n            " />\n            <button onclick="document.getElementById('${o}').remove()" style="\n              position: absolute !important;\n              top: 16px !important;\n              right: 16px !important;\n              width: 48px !important;\n              height: 48px !important;\n              border: 2px solid rgba(255,255,255,0.5) !important;\n              background: rgba(0,0,0,0.8) !important;\n              color: white !important;\n              font-size: 28px !important;\n              cursor: pointer !important;\n              border-radius: 50% !important;\n              display: flex !important;\n              align-items: center !important;\n              justify-content: center !important;\n              z-index: 2147483647 !important;\n              backdrop-filter: blur(4px) !important;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.5) !important;\n              font-family: monospace !important;\n              line-height: 1 !important;\n            " onmouseover="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='scale(1.1)'" onmouseout="this.style.background='rgba(0,0,0,0.8)'; this.style.transform='scale(1)'">\n              \n            </button>\n            ${!1!==t.show_name?`\n              <div style="\n                position: absolute !important;\n                top: 16px !important;\n                left: 16px !important;\n                padding: 8px 16px !important;\n                background: rgba(0,0,0,0.7) !important;\n                color: white !important;\n                border-radius: 6px !important;\n                font-size: 16px !important;\n                font-weight: 500 !important;\n                backdrop-filter: blur(4px) !important;\n                text-shadow: 0 1px 2px rgba(0,0,0,0.8) !important;\n                z-index: 10 !important;\n              ">\n                ${a}\n              </div>\n            `:""}\n          </div>\n        </div>\n      `;document.body.insertAdjacentHTML("beforeend",n);const r=e=>{if("Escape"===e.key){const e=document.getElementById(o);e&&(e.remove(),document.removeEventListener("keydown",r))}};return document.addEventListener("keydown",r),!0}catch(e){return console.warn("Simple modal failed:",e),!1}}tryNativeFullscreen(e,t){try{const t=document.createElement("div");t.style.cssText="\n        width: 100vw;\n        height: 100vh;\n        background: black;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n      ";const i=e.cloneNode(!0);i.style.cssText="\n        max-width: 100vw;\n        max-height: 100vh;\n        width: auto;\n        height: auto;\n        object-fit: contain;\n      ";const o=document.createElement("button");o.innerHTML="",o.style.cssText="\n        position: absolute;\n        top: 20px;\n        right: 20px;\n        background: rgba(0,0,0,0.7);\n        color: white;\n        border: none;\n        padding: 10px 15px;\n        border-radius: 50%;\n        cursor: pointer;\n        font-size: 20px;\n        z-index: 999999;\n      ",o.onclick=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},t.appendChild(i),t.appendChild(o),document.body.appendChild(t);const a=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen;if(a){a.call(t);const e=()=>{t.parentNode&&t.parentNode.removeChild(t),document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),!0}}catch(e){console.warn("Native fullscreen failed:",e)}return!1}enterFullscreen(e,t){var i,o,a,n;const r=document.createElement("div");r.className="camera-fullscreen-overlay",r.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      background: rgba(0, 0, 0, 0.95);\n      z-index: 2147483647;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      backdrop-filter: blur(10px);\n      animation: fadeIn 0.3s ease;\n      pointer-events: auto;\n    ";const s=document.createElement("div");s.className="camera-fullscreen-container",s.style.cssText="\n      max-width: 95vw;\n      max-height: 95vh;\n      width: auto;\n      height: auto;\n      border-radius: 12px;\n      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n      position: relative;\n      animation: scaleIn 0.3s ease;\n      background: transparent;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      pointer-events: none;\n    ";let l=t.entity;if(t.template_mode&&t.template)try{const e=null===(i=document.querySelector("home-assistant"))||void 0===i?void 0:i.hass;if(e){let i=t.template;const o=i.match(/states\(['"]([^'"]+)['"]\)/g);o&&o.forEach((t=>{const o=t.match(/states\(['"]([^'"]+)['"]\)/)[1],a=null==e?void 0:e.states[o],n=a?a.state:"unknown";i=i.replace(t,`'${n}'`)}));const a=i.match(/is_state\(['"]([^'"]+)['"],\s*['"]([^'"]+)['"]\)/g);a&&a.forEach((t=>{const[,o,a]=t.match(/is_state\(['"]([^'"]+)['"],\s*['"]([^'"]+)['"]\)/),n=null==e?void 0:e.states[o],r=n&&n.state===a;i=i.replace(t,r?"True":"False")}));const n=i.match(/['"]([^'"]+)['"] if (.+?) else ['"]([^'"]+)['"]/);if(n){const[,e,t,i]=n;l=t.includes("True")?e:i}else{const e=i.match(/['"]([^'"]+)['"]/);e&&(l=e[1])}}}catch(e){console.error("Template evaluation error:",e),l=t.entity}if(l){const e=null===(o=document.querySelector("home-assistant"))||void 0===o?void 0:o.hass;if(e){const i=document.createElement("hui-image");if(i.hass=e,i.cameraImage=l,i.cameraView=t.live_view?"live":"auto",i.muted=!0!==t.audio_enabled,i.style.cssText="\n          width: 100%;\n          height: 100%;\n          max-width: 95vw;\n          max-height: 95vh;\n          object-fit: contain;\n          border-radius: 12px;\n          pointer-events: auto;\n        ",s.appendChild(i),!1!==t.show_name){const o=t.camera_name||(null===(n=null===(a=e.states[l])||void 0===a?void 0:a.attributes)||void 0===n?void 0:n.friendly_name)||l,r=document.createElement("div");r.className="camera-name-overlay-fullscreen",r.style.cssText="\n              position: absolute;\n              top: 16px;\n              left: 16px;\n              padding: 8px 16px;\n              background: rgba(0, 0, 0, 0.7);\n              color: white;\n              border-radius: 6px;\n              font-size: 16px;\n              font-weight: 500;\n              backdrop-filter: blur(4px);\n              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);\n              z-index: 10;\n            ",r.textContent=o,i.addEventListener("load",(()=>{this.repositionOverlaysToVideoArea(i,r,s)})),s.appendChild(r)}}else{const e=document.createElement("div");e.style.cssText="\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-direction: column;\n          color: white;\n          font-size: 20px;\n          text-align: center;\n          padding: 40px;\n        ",e.innerHTML='\n          <ha-icon icon="mdi:camera-off" style="font-size: 64px; margin-bottom: 16px;"></ha-icon>\n          <div>Home Assistant not available</div>\n        ',s.appendChild(e)}}else{const e=document.createElement("div");e.style.cssText="\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        color: white;\n        font-size: 20px;\n        text-align: center;\n        padding: 40px;\n      ",e.innerHTML='\n        <ha-icon icon="mdi:camera-off" style="font-size: 64px; margin-bottom: 16px;"></ha-icon>\n        <div>No Camera Available</div>\n      ',s.appendChild(e)}const d=document.createElement("div");d.className="camera-minimize-icon",d.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 6px;\n      background: transparent;\n      color: white;\n      font-size: 32px;\n      cursor: pointer;\n      z-index: 2147483647;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.2s ease;\n      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.6);\n      filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.8));\n      pointer-events: auto;\n    ",d.innerHTML='<ha-icon icon="mdi:close" style="pointer-events: none;"></ha-icon>',d.title="Exit fullscreen",d.addEventListener("mouseenter",(()=>{d.style.transform="scale(1.15)",d.style.textShadow="0 1px 4px rgba(0, 0, 0, 0.9), 0 0 12px rgba(0, 0, 0, 0.7)",d.style.filter="drop-shadow(0 2px 4px rgba(0, 0, 0, 0.9))"})),d.addEventListener("mouseleave",(()=>{d.style.transform="scale(1)",d.style.textShadow="0 1px 3px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.6)",d.style.filter="drop-shadow(0 1px 2px rgba(0, 0, 0, 0.8))"})),d.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),this.exitFullscreen(r)}));const c=e=>{"Escape"===e.key&&(this.exitFullscreen(r),document.removeEventListener("keydown",c))};document.addEventListener("keydown",c),r.addEventListener("click",(e=>{e.target===r&&(this.exitFullscreen(r),document.removeEventListener("keydown",c))})),r.appendChild(s),document.body.appendChild(r),document.body.appendChild(d),document.body.style.overflow="hidden";const p=e=>(e.preventDefault(),e.stopPropagation(),!1);document.addEventListener("contextmenu",p,!0),document.body.classList.add("camera-fullscreen-active"),r._escHandler=c,r._minimizeButton=d,r._contextMenuHandler=p}exitFullscreen(e){document.body.style.overflow="",document.body.classList.remove("camera-fullscreen-active");const t=e._escHandler;t&&document.removeEventListener("keydown",t);const i=e._contextMenuHandler;i&&document.removeEventListener("contextmenu",i,!0);const o=e._minimizeButton;o&&o.parentNode&&o.parentNode.removeChild(o),e.style.animation="fadeOut 0.2s ease",setTimeout((()=>{e.parentNode&&e.parentNode.removeChild(e)}),200)}repositionPreviewOverlays(e,t,i,o){try{const a=o.getBoundingClientRect(),n=e.querySelector("img")||e;if(!n||!n.naturalWidth)return;const r=n.naturalWidth/n.naturalHeight,s=a.width/a.height;let l=a.width,d=a.height,c=0,p=0;if(r>s?(d=a.width/r,p=(a.height-d)/2):r<s&&(l=a.height*r,c=(a.width-l)/2),c>5||p>5){const e=8;t&&this.repositionOverlayElement(t,c,p,l,d,e),i&&this.repositionOverlayElement(i,c,p,l,d,e)}}catch(e){console.warn("Failed to calculate video area for preview overlay positioning:",e)}}repositionOverlayElement(e,t,i,o,a,n){var r;const s=e.getBoundingClientRect();if(!(null===(r=e.parentElement)||void 0===r?void 0:r.getBoundingClientRect()))return;const l=t+o-s.width-n,d=i+a-s.height-n,c=t+o-s.width-n,p=i+a-s.height-n;if(e.style.left&&""!==e.style.left){const i=parseInt(e.style.left);e.style.left=`${Math.min(Math.max(t+n,i),l)}px`}if(e.style.right&&""!==e.style.right){const i=parseInt(e.style.right);e.style.right=`${Math.min(Math.max(t+n,i),c)}px`}if(e.style.top&&""!==e.style.top){const t=parseInt(e.style.top);e.style.top=`${Math.min(Math.max(i+n,t),d)}px`}if(e.style.bottom&&""!==e.style.bottom){const t=parseInt(e.style.bottom);e.style.bottom=`${Math.min(Math.max(i+n,t),p)}px`}}repositionOverlaysToVideoArea(e,t,i){try{const o=i.getBoundingClientRect(),a=e.getBoundingClientRect(),n=o.width/o.height;let r=a.width,s=a.height;const l=e.querySelector("img")||e;if(l&&l.naturalWidth){const e=l.naturalWidth/l.naturalHeight;e>n?(r=o.width,s=o.width/e):(s=o.height,r=o.height*e)}const d=(o.width-r)/2,c=(o.height-s)/2;if(d>20||c>20){t.style.left=`${d+16}px`,t.style.top=`${c+16}px`;const e=i.querySelector(".camera-fullscreen-icon");if(e){const t=e;t.style.right=`${d+16}px`,t.style.top=`${c+16}px`}}}catch(e){console.warn("Failed to calculate video area for overlay positioning:",e)}}_handleDimensionChange(e,t,i,o){const a={};if(!1!==e.aspect_ratio_linked){const o=e.aspect_ratio_value||1.778;"width"===t?(a.width=i,a.height=Math.round(i/o)):(a.height=i,a.width=Math.round(i*o)),a.width&&(a.width<100||a.width>1e3)&&(a.width=Math.max(100,Math.min(1e3,a.width)),a.height=Math.round(a.width/o)),a.height&&(a.height<100||a.height>1e3)&&(a.height=Math.max(100,Math.min(1e3,a.height)),a.width=Math.round(a.height*o))}else a[t]=i;o(a)}getFullscreenIconPositionStyles(e,t,i={},o){const a={position:"absolute",padding:"6px",background:"transparent",color:"white",fontSize:"22px",cursor:"pointer",zIndex:"5",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",textShadow:"0 1px 3px rgba(0, 0, 0, 0.8), 0 0 8px rgba(0, 0, 0, 0.6)",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.8))"},n=o===e,r=n?"40px":"8px";switch(this.getAdjustedPositionForCollision(e,o)){case"top-left":return Object.assign(Object.assign({},a),{top:n?r:"8px",left:"8px"});case"top-middle":return Object.assign(Object.assign({},a),{top:n?r:"8px",left:"50%",transform:"translateX(-50%)"});case"top-right":return Object.assign(Object.assign({},a),{top:n?r:"8px",right:"8px"});case"center":return Object.assign(Object.assign({},a),{top:n?"calc(50% + 20px)":"50%",left:"50%",transform:"translate(-50%, -50%)"});case"bottom-left":return Object.assign(Object.assign({},a),{bottom:n?r:"8px",left:"8px"});case"bottom-middle":return Object.assign(Object.assign({},a),{bottom:n?r:"8px",left:"50%",transform:"translateX(-50%)"});case"bottom-right":return Object.assign(Object.assign({},a),{bottom:n?r:"8px",right:"8px"});default:return Object.assign(Object.assign({},a),{top:"8px",right:"8px"})}}getAdjustedPositionForCollision(e,t){return e}getCameraNamePositionStyles(e,t,i={}){const o={position:"absolute",padding:"6px 12px",background:"rgba(0, 0, 0, 0.7)",color:i.color||this.getTextColor(t),fontSize:i.font_size?"number"==typeof i.font_size?`${i.font_size}px`:i.font_size:this.getTextSize(t),fontWeight:i.font_weight||this.getTextWeight(t),fontFamily:i.font_family||this.getTextFont(t),borderRadius:"4px",textTransform:i.text_transform||void 0,letterSpacing:i.letter_spacing||void 0,lineHeight:i.line_height||void 0,zIndex:"10",pointerEvents:"none",backdropFilter:"blur(4px)",maxWidth:"calc(100% - 20px)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textShadow:i.text_shadow||"0 1px 2px rgba(0, 0, 0, 0.8)",transition:"all 0.2s ease"};switch(e){case"top-left":default:return Object.assign(Object.assign({},o),{top:"8px",left:"8px"});case"top-right":return Object.assign(Object.assign({},o),{top:"8px",right:"8px"});case"top-middle":return Object.assign(Object.assign({},o),{top:"8px",left:"50%",transform:"translateX(-50%)",textAlign:"center"});case"center":return Object.assign(Object.assign({},o),{top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"});case"bottom-left":return Object.assign(Object.assign({},o),{bottom:"8px",left:"8px"});case"bottom-middle":return Object.assign(Object.assign({},o),{bottom:"8px",left:"50%",transform:"translateX(-50%)",textAlign:"center"});case"bottom-right":return Object.assign(Object.assign({},o),{bottom:"8px",right:"8px"})}}hasActiveLink(e){const t=e.tap_action&&"nothing"!==e.tap_action.action,i=e.hold_action&&"nothing"!==e.hold_action.action,o=e.double_tap_action&&"nothing"!==e.double_tap_action.action,a=!0===e.tap_opens_fullscreen;return t||i||o||a||!!e.entity}refreshCamera(e,t){document.querySelectorAll('hui-image[class*="camera-image"]').forEach((i=>{i.cameraImage===e&&i.hass===t&&(i.hass=Object.assign({},t),i.requestUpdate())}))}getCameraImageUrl(e,t,i){if(!e||!t)return"";let o;try{o=t.hassUrl?`${t.hassUrl()}/api/camera_proxy/${e}`:`/api/camera_proxy/${e}`;const i=o.includes("?")?"&":"?";o+=`${i}token=${Date.now()}`}catch(t){o=`/api/camera_proxy/${e}?token=${Date.now()}`}return o}async getCameraImageBlob(e,t,i){try{const i=`/api/camera_proxy/${e}?t=${Date.now()}`,o=await fetch(i,{method:"GET",credentials:"include",headers:{Accept:"image/*","Cache-Control":"no-cache",Pragma:"no-cache"}});if(!o.ok)return await this.getCameraImageViaWebSocket(e,t);const a=await o.blob();return URL.createObjectURL(a)}catch(i){return await this.getCameraImageViaWebSocket(e,t)}}async getCameraImageViaWebSocket(e,t){try{const i=t.connection;if(!i)throw new Error("No WebSocket connection available");const o=await i.sendMessagePromise({type:"camera_thumbnail",entity_id:e});if(o&&o.content){const e=atob(o.content),t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);const i=new Uint8Array(t),a=new Blob([i],{type:"image/jpeg"});return URL.createObjectURL(a)}throw new Error("No image content received from WebSocket")}catch(e){return""}}async handleImageError(e,t){var i,o,a,n,r,s,l,d,c,p;const u=e.target;if(!u.dataset.triedBlob&&t.entity){u.dataset.triedBlob="true";try{const e=(null===(i=document.querySelector("home-assistant"))||void 0===i?void 0:i.hass)||(null===(o=document.querySelector("ha-panel-lovelace"))||void 0===o?void 0:o.hass)||(null===(a=window.hassConnection)||void 0===a?void 0:a.hass);if(e){const i=await this.getCameraImageBlob(t.entity,e,t.image_quality);if(i)return void(u.src=i)}}catch(e){}}if(t.fallback_image)u.src=t.fallback_image;else{u.style.display="none";const e=u.closest(".camera-image-container");if(e){const i=t.entity?null===(s=null===(r=null===(n=document.querySelector("home-assistant"))||void 0===n?void 0:n.hass)||void 0===r?void 0:r.states)||void 0===s?void 0:s[t.entity]:null,o=(null===(l=null==i?void 0:i.attributes)||void 0===l?void 0:l.brand)||(null===(d=null==i?void 0:i.attributes)||void 0===d?void 0:d.model)||"Unknown",a=(null===(c=document.querySelector("home-assistant"))||void 0===c||c.hass,t);if(e.innerHTML=`\n          <div style="\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            background-color: var(--warning-color, #ff9800);\n            color: ${this.getTextColor(a)};\n            padding: 20px;\n            border-radius: 8px;\n            text-align: center;\n            min-height: 150px;\n            border: 1px solid rgba(255,255,255,0.2);\n            font-family: ${this.getTextFont(a)};\n          ">\n            <ha-icon icon="mdi:camera-off" style="font-size: 48px; margin-bottom: 12px; opacity: 0.9;"></ha-icon>\n            <span style="font-weight: ${this.getTextWeight(a)}; font-size: ${this.getTextSize(a)}; margin-bottom: 8px;">Camera Load Failed</span>\n            <span style="font-size: ${this.getSmallTextSize(a)}; margin-bottom: 8px; opacity: 0.9;">Entity: ${t.entity}</span>\n            <span style="font-size: ${this.getSmallTextSize(a)}; margin-bottom: 12px; opacity: 0.8;">Camera Type: ${o}</span>\n            <div style="font-size: ${this.getSmallTextSize(a)}; opacity: 0.8; line-height: 1.4; margin-bottom: 12px;">\n              <div style="margin-bottom: 6px;"> Check camera entity is working in HA</div>\n              <div style="margin-bottom: 6px;"> Verify RTSP credentials in HA config</div>\n              <div> Try refreshing the browser</div>\n            </div>\n            <button \n              onclick="window.retryCamera_${null===(p=t.entity)||void 0===p?void 0:p.replace(/\./g,"_")}"\n              style="\n                background: rgba(255,255,255,0.2);\n                border: 1px solid rgba(255,255,255,0.3);\n                color: white;\n                padding: 8px 16px;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: ${this.getSmallTextSize(a)};\n                font-family: ${this.getTextFont(a)};\n                transition: all 0.2s ease;\n              "\n              onmouseover="this.style.background='rgba(255,255,255,0.3)'"\n              onmouseout="this.style.background='rgba(255,255,255,0.2)'"\n            >\n               Retry Camera Load\n            </button>\n          </div>\n        `,t.entity){const i=`retryCamera_${t.entity.replace(/\./g,"_")}`;window[i]=async()=>{var i;if(null===(i=document.querySelector("home-assistant"))||void 0===i?void 0:i.hass)try{const i=Date.now(),o=`/api/camera_proxy/${t.entity}?t=${i}`,n=document.createElement("img");n.className="camera-image",n.style.cssText=`\n                  position: absolute;\n                  top: 0;\n                  left: 0;\n                  width: 100%;\n                  height: 100%;\n                  object-fit: ${t.image_fit||"cover"};\n                  border-radius: inherit;\n                `,n.onerror=e=>{"string"!=typeof e&&this.handleImageError(e,t)},n.onload=()=>{e&&(e.innerHTML="",e.appendChild(n))},n.src=o,e&&(e.innerHTML=`\n                    <div style="\n                      display: flex;\n                      align-items: center;\n                      justify-content: center;\n                      flex-direction: column;\n                      background-color: var(--primary-color);\n                      color: ${this.getTextColor(a)};\n                      padding: 20px;\n                      border-radius: 8px;\n                      text-align: center;\n                      min-height: 150px;\n                      font-family: ${this.getTextFont(a)};\n                    ">\n                      <div style="\n                        width: 32px;\n                        height: 32px;\n                        border: 3px solid rgba(255,255,255,0.3);\n                        border-top: 3px solid white;\n                        border-radius: 50%;\n                        animation: spin 1s linear infinite;\n                        margin-bottom: 12px;\n                      "></div>\n                      <span style="font-weight: ${this.getTextWeight(a)}; font-size: ${this.getTextSize(a)};">Retrying Camera Load...</span>\n                      <style>\n                        @keyframes spin {\n                          0% { transform: rotate(0deg); }\n                          100% { transform: rotate(360deg); }\n                        }\n                      </style>\n                    </div>\n                  `)}catch(e){console.error(" Retry failed:",e)}}}}}}renderConditionalFieldsGroup(e,t){return o.qy`
      <div
        class="conditional-fields-group"
        style="margin-top: 16px; padding: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0;"
      >
        <div
          style="font-weight: 600; color: var(--primary-color); margin-bottom: 12px; font-size: 14px;"
        >
          ${e}
        </div>
        ${t}
      </div>
    `}getTextColor(e){return e.text_color||"white"}getTextSize(e){const t=e.text_size||14;return"number"==typeof t?`${t}px`:t}getSmallTextSize(e){const t=e.text_size||14;return`${"number"==typeof t?Math.max(10,t-2):12}px`}getTextWeight(e){return e.text_weight||"500"}getTextFont(e){return e.text_font||'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}styleObjectToCss(e){return Object.entries(e).filter((([e,t])=>null!=t&&""!==t)).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e&&/^\d+$/.test(e)?`${e}px`:e}getPaddingWithDesign(e,t){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${e.padding_top||"0px"} ${e.padding_right||"0px"} ${e.padding_bottom||"0px"} ${e.padding_left||"0px"}`:this.getPaddingCSS(t)}getMarginWithDesign(e,t){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${e.margin_top||"8px"} ${e.margin_right||"0px"} ${e.margin_bottom||"8px"} ${e.margin_left||"0px"}`:this.getMarginCSS(t)}getBorderWithDesign(e,t){return e.border_width&&e.border_style&&e.border_color?`${e.border_width} ${e.border_style} ${e.border_color}`:this.getBorderCSS(t)}getBackgroundImageWithDesign(e,t,i){return"url"===e.background_image_type&&e.background_image?`url('${e.background_image}')`:"entity"===e.background_image_type&&e.background_image_entity&&i.states[e.background_image_entity]?`url('/api/camera_proxy/${e.background_image_entity}')`:this.getBackgroundImageCSS(t,i)}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"0px"} ${this.addPixelUnit(e.padding_right)||"0px"} ${this.addPixelUnit(e.padding_bottom)||"0px"} ${this.addPixelUnit(e.padding_left)||"0px"}`:"0"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"8px"} ${this.addPixelUnit(e.margin_right)||"0px"} ${this.addPixelUnit(e.margin_bottom)||"8px"} ${this.addPixelUnit(e.margin_left)||"0px"}`:"8px 0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){return"url"===e.background_image_type&&e.background_image?`url('${e.background_image}')`:"entity"===e.background_image_type&&e.background_image_entity&&t.states[e.background_image_entity]?`url('/api/camera_proxy/${e.background_image_entity}')`:""}getBorderCSS(e){return e.border_width&&e.border_style&&e.border_color?`${e.border_width} ${e.border_style} ${e.border_color}`:""}validateAction(e){const t=[];return"navigate"!==e.action||e.navigation_path||t.push("Navigation path is required for navigate action"),"call-service"!==e.action||e.service&&e.service_data||t.push("Service and service data are required for call-service action"),t}getStyles(){return"\n      .camera-module-container {\n        width: 100%;\n        box-sizing: border-box;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-name-overlay {\n        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);\n        backdrop-filter: blur(4px);\n        -webkit-backdrop-filter: blur(4px);\n        transition: all 0.2s ease;\n      }\n      \n      .camera-image-container {\n        position: relative;\n        overflow: hidden;\n        margin: 0 auto;\n        flex-shrink: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-image {\n        width: 100%;\n        height: 100%;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-unavailable {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        background-color: var(--disabled-color, #f5f5f5);\n        color: var(--secondary-text-color);\n        min-height: 150px;\n        transition: all 0.3s ease;\n      }\n      \n      .camera-module-clickable {\n        cursor: pointer;\n        transition: transform 0.2s ease;\n      }\n      \n      .camera-module-clickable:hover {\n        transform: scale(1.02);\n      }\n      \n      .camera-module-clickable:active {\n        transform: scale(0.98);\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n     \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Conditional fields grouping */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Global design responsive text */\n      .camera-module-container * {\n        transition: font-size 0.3s ease, color 0.3s ease, font-weight 0.3s ease;\n      }\n\n      /* Enhanced animations for global design changes */\n      @keyframes textSizeChange {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.02); }\n        100% { transform: scale(1); }\n      }\n\n      .camera-module-container.design-updating {\n        animation: textSizeChange 0.3s ease;\n      }\n\n      /* Fullscreen icon styling */\n      .camera-fullscreen-icon {\n        transition: all 0.2s ease;\n        user-select: none;\n      }\n\n      .camera-fullscreen-icon:hover {\n        transform: scale(1.15);\n        text-shadow: 0 1px 4px rgba(0, 0, 0, 0.9), 0 0 12px rgba(0, 0, 0, 0.7);\n        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.9));\n      }\n\n      .camera-fullscreen-icon:active {\n        transform: scale(1.05);\n      }\n\n      /* Fullscreen overlay animations */\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n\n      @keyframes fadeOut {\n        from {\n          opacity: 1;\n        }\n        to {\n          opacity: 0;\n        }\n      }\n\n      @keyframes scaleIn {\n        from {\n          opacity: 0;\n          transform: scale(0.8);\n        }\n        to {\n          opacity: 1;\n          transform: scale(1);\n        }\n      }\n\n      /* Fullscreen overlay global styles */\n      .camera-fullscreen-overlay {\n        -webkit-backdrop-filter: blur(10px);\n        backdrop-filter: blur(10px);\n        z-index: 2147483647 !important;\n        position: fixed !important;\n      }\n\n      .camera-fullscreen-overlay .camera-image-container {\n        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n      }\n\n      /* Override HA context menus and modals */\n      .camera-minimize-icon {\n        z-index: 2147483647 !important;\n        position: fixed !important;\n        pointer-events: auto !important;\n      }\n\n      /* Ensure fullscreen is above all HA elements */\n      body .camera-fullscreen-overlay {\n        z-index: 2147483647 !important;\n      }\n\n      body .camera-minimize-icon {\n        z-index: 2147483647 !important;\n      }\n\n      /* When fullscreen is active, ensure our elements are always on top */\n      body.camera-fullscreen-active .camera-fullscreen-overlay,\n      body.camera-fullscreen-active .camera-minimize-icon {\n        z-index: 2147483647 !important;\n        position: fixed !important;\n      }\n\n      /* Hide HA overlays during fullscreen */\n      body.camera-fullscreen-active ha-dialog,\n      body.camera-fullscreen-active ha-more-info-dialog,\n      body.camera-fullscreen-active .mdc-dialog,\n      body.camera-fullscreen-active .dialog-container {\n        z-index: 2147483646 !important;\n      }\n\n      .camera-minimize-icon:hover {\n        transform: scale(1.15) !important;\n        text-shadow: 0 1px 4px rgba(0, 0, 0, 0.9), 0 0 12px rgba(0, 0, 0, 0.7) !important;\n        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.9)) !important;\n      }\n\n      .camera-minimize-icon:active {\n        transform: scale(1.05) !important;\n      }\n    "}}},794:(e,t,i)=>{i.d(t,{m:()=>l});var o=i(5183),a=i(866),n=i(8914),r=(i(6768),i(3452),i(9662)),s=i(2371);class l extends a.m{constructor(){super(...arguments),this.metadata={type:"gauge",title:"Gauge",description:"Display sensor values as customizable gauges with various styles and pointer options",author:"WJD Designs",version:"1.0.0",icon:"mdi:gauge",category:"content",tags:["gauge","sensor","value","indicator","speedometer","meter"]}}createDefault(e,t){const i=this.findSuitableSensor(t);return{id:e||this.generateId("gauge"),type:"gauge",entity:i,name:"",value_type:"entity",min_value:0,max_value:100,gauge_style:"3d",gauge_size:200,gauge_thickness:15,pointer_enabled:!0,pointer_style:"needle",pointer_color:"var(--primary-color)",pointer_length:80,pointer_width:4,gauge_color_mode:"gradient",gauge_color:"var(--primary-color)",gauge_background_color:"#424242",use_gradient:!0,gradient_stops:[{id:this.generateId("stop"),position:0,color:"#4CAF50"},{id:this.generateId("stop"),position:50,color:"#FFC107"},{id:this.generateId("stop"),position:100,color:"#F44336"}],show_value:!0,value_position:"center",value_font_size:24,value_color:"var(--primary-text-color)",show_name:!0,name_position:"top",name_font_size:16,name_color:"var(--secondary-text-color)",show_min_max:!0,min_max_font_size:12,min_max_color:"var(--secondary-text-color)",show_ticks:!0,tick_count:10,tick_color:"var(--divider-color)",show_tick_labels:!1,tick_label_font_size:10,animation_enabled:!0,animation_duration:"1000ms",animation_easing:"ease-out",segments:[{id:this.generateId("segment"),from:0,to:30,color:"#4CAF50",label:"Low"},{id:this.generateId("segment"),from:30,to:70,color:"#FFC107",label:"Medium"},{id:this.generateId("segment"),from:70,to:100,color:"#F44336",label:"High"}],tap_action:{action:"default"},hold_action:{action:"default"},double_tap_action:{action:"default"}}}findSuitableSensor(e){if(!(null==e?void 0:e.states))return"";const t=["sensor.battery_level","sensor.cpu_temperature","sensor.humidity","sensor.temperature"];for(const i of t)if(e.states[i])return i;return Object.keys(e.states).filter((t=>{if(!t.startsWith("sensor."))return!1;const i=e.states[t],o=parseFloat(i.state);return!isNaN(o)}))[0]||""}renderLogicTab(e,t,i,o){return s.X.render(e,t,(e=>o(e)))}renderGeneralTab(e,t,i,a){const n=e;return o.qy`
      ${this.injectUcFormStyles()}
      <style>
        .settings-section {
          background: var(--secondary-background-color);
          border-radius: 8px;
          padding: 16px;
          margin-bottom: 32px;
        }
        .section-title {
          font-size: 18px;
          font-weight: 700;
          text-transform: uppercase;
          color: var(--primary-color);
          margin-bottom: 16px;
          padding-bottom: 0;
          border-bottom: none;
          letter-spacing: 0.5px;
        }
        .field-title {
          font-size: 16px;
          font-weight: 600;
          color: var(--primary-text-color);
          margin-bottom: 4px;
        }
        .field-description {
          font-size: 13px;
          color: var(--secondary-text-color);
          margin-bottom: 12px;
          opacity: 0.8;
          line-height: 1.4;
        }
        .conditional-fields-group {
          margin-top: 16px;
          border-left: 4px solid var(--primary-color);
          background: rgba(var(--rgb-primary-color), 0.08);
          border-radius: 0 8px 8px 0;
          padding: 16px;
          overflow: hidden;
          transition: all 0.2s ease;
          animation: slideInFromLeft 0.3s ease-out;
        }
        @keyframes slideInFromLeft {
          from {
            opacity: 0;
            transform: translateX(-10px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        .gradient-stops-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 12px;
        }
        .gradient-stop {
          display: grid;
          grid-template-columns: 1fr auto auto;
          gap: 8px;
          align-items: center;
          padding: 12px;
          background: var(--card-background-color);
          border-radius: 8px;
          border: 1px solid var(--divider-color);
        }
        .add-stop-btn,
        .remove-stop-btn {
          padding: 8px 16px;
          border-radius: 4px;
          border: 1px solid var(--divider-color);
          background: var(--secondary-background-color);
          color: var(--primary-text-color);
          cursor: pointer;
          transition: all 0.2s;
          font-size: 14px;
          font-weight: 500;
        }
        .add-stop-btn:hover {
          background: var(--primary-color);
          color: white;
          border-color: var(--primary-color);
        }
        .remove-stop-btn {
          padding: 6px 12px;
          background: rgba(var(--rgb-accent-color), 0.1);
          border-color: var(--accent-color);
        }
        .remove-stop-btn:hover {
          background: var(--accent-color);
          color: white;
        }
        .segments-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 12px;
        }
        .segment-item {
          padding: 12px;
          background: var(--card-background-color);
          border-radius: 8px;
          border: 1px solid var(--divider-color);
        }
        .segment-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 8px;
          margin-bottom: 8px;
        }
      </style>

      ${this.renderBasicConfiguration(n,t,a)}
      ${this.renderValueConfiguration(n,t,a)}
      ${this.renderStyleConfiguration(n,t,a)}
      ${this.renderPointerConfiguration(n,t,a)}
      ${this.renderColorConfiguration(n,t,a)}
      ${this.renderDisplayConfiguration(n,t,a)}
      ${this.renderTicksConfiguration(n,t,a)}
      ${this.renderAnimationConfiguration(n,t,a)}
    `}renderBasicConfiguration(e,t,i){var a,r;return o.qy`
      <div class="settings-section">
        <div class="section-title">BASIC CONFIGURATION</div>

        <div style="margin-bottom: 24px;">
          ${n.Q.renderField("Entity","Select the sensor entity to display on the gauge.",t,{entity:e.entity||""},[n.Q.createSchemaItem("entity",{entity:{domain:["sensor","input_number"]}})],(e=>i({entity:e.detail.value.entity})))}
        </div>

        <div style="margin-bottom: 24px;">
          ${n.Q.renderField("Name","Optional display name for the gauge. Leave empty to use entity friendly name.",t,{name:e.name||""},[n.Q.createSchemaItem("name",{text:{}})],(e=>i({name:e.detail.value.name})))}
        </div>

        <div class="field-container" style="margin-bottom: 24px;">
          <div class="field-title">Minimum Value</div>
          <div class="field-description">The minimum value for the gauge scale.</div>
          ${n.Q.renderCleanForm(t,{min_value:null!==(a=e.min_value)&&void 0!==a?a:0},[n.Q.createSchemaItem("min_value",{number:{mode:"box",step:1}})],(e=>{const t=e.detail.value.min_value;i({min_value:""===t?void 0:Number(t)})}))}
        </div>

        <div class="field-container" style="margin-bottom: 24px;">
          <div class="field-title">Maximum Value</div>
          <div class="field-description">The maximum value for the gauge scale.</div>
          ${n.Q.renderCleanForm(t,{max_value:null!==(r=e.max_value)&&void 0!==r?r:100},[n.Q.createSchemaItem("max_value",{number:{mode:"box",step:1}})],(e=>{const t=e.detail.value.max_value;i({max_value:""===t?void 0:Number(t)})}))}
        </div>
      </div>
    `}renderValueConfiguration(e,t,i){const a=e.value_type||"entity";return o.qy`
      <div class="settings-section">
        <div class="section-title">VALUE CONFIGURATION</div>

        <div class="field-group" style="margin-bottom: 24px;">
          <div class="field-title">Value Source</div>
          <div class="field-description">How to calculate the gauge value.</div>
          ${this.renderUcForm(t,{value_type:a},[this.selectField("value_type",[{value:"entity",label:"Entity State"},{value:"attribute",label:"Entity Attribute"},{value:"template",label:"Template"}])],(e=>{const t=e.detail.value.value_type;t!==a&&(i({value_type:t}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
        </div>
        ${"attribute"===a?o.qy`
              <div class="conditional-fields-group">
                ${n.Q.renderField("Attribute Entity","Entity containing the attribute.",t,{value_attribute_entity:e.value_attribute_entity||""},[n.Q.createSchemaItem("value_attribute_entity",{entity:{}})],(e=>i({value_attribute_entity:e.detail.value.value_attribute_entity})))}
                ${n.Q.renderField("Attribute Name","Name of the attribute to use.",t,{value_attribute_name:e.value_attribute_name||""},[n.Q.createSchemaItem("value_attribute_name",{text:{}})],(e=>i({value_attribute_name:e.detail.value.value_attribute_name})))}
              </div>
            `:""}
        ${"template"===a?o.qy`
              <div class="conditional-fields-group">
                ${n.Q.renderField("Value Template","Jinja2 template to calculate the gauge value. Should return a numeric value.",t,{value_template:e.value_template||""},[n.Q.createSchemaItem("value_template",{text:{multiline:!0}})],(e=>i({value_template:e.detail.value.value_template})))}

                <div
                  class="template-examples"
                  style="margin-top: 12px; padding: 12px; background: var(--code-editor-background-color, #1e1e1e); border-radius: 4px;"
                >
                  <div style="font-size: 12px; color: #9cdcfe; margin-bottom: 8px;">Examples:</div>
                  <div
                    style="font-family: monospace; font-size: 11px; color: #d4d4d4; margin-bottom: 4px;"
                  >
                    {{ states('sensor.battery') | float }}
                  </div>
                  <div style="font-family: monospace; font-size: 11px; color: #d4d4d4;">
                    {{ state_attr('climate.home', 'current_temperature') | float }}
                  </div>
                </div>
              </div>
            `:""}
      </div>
    `}renderStyleConfiguration(e,t,i){return o.qy`
      <div class="settings-section">
        <div class="section-title">GAUGE STYLE</div>

        <div class="field-group" style="margin-bottom: 24px;">
          <div class="field-title">Gauge Style</div>
          <div class="field-description">Choose the visual style of the gauge.</div>
          ${this.renderUcForm(t,{gauge_style:e.gauge_style||"modern"},[this.selectField("gauge_style",[{value:"basic",label:"Basic"},{value:"modern",label:"Modern"},{value:"speedometer",label:"Speedometer"},{value:"arc",label:"Arc"},{value:"radial",label:"Radial"},{value:"lines",label:"Lines"},{value:"block",label:"Block"},{value:"minimal",label:"Minimal"},{value:"inset",label:"Inset"},{value:"3d",label:"3D"},{value:"neon",label:"Neon Glow"},{value:"digital",label:"Digital"}])],(t=>{const o=t.detail.value.gauge_style;o!==(e.gauge_style||"modern")&&(i({gauge_style:o}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
        </div>

        ${this.renderGaugeSizeFields(e,t,i)}
      </div>
    `}renderGaugeSizeFields(e,t,i){var a,r;const s=e.gauge_style||"modern";return["lines","digital"].includes(s)?o.qy``:o.qy`
      <div class="field-container" style="margin-bottom: 24px;">
        <div class="field-title">Gauge Size</div>
        <div class="field-description">Diameter/size of the gauge in pixels (100-400).</div>
        ${n.Q.renderCleanForm(t,{gauge_size:null!==(a=e.gauge_size)&&void 0!==a?a:200},[n.Q.createSchemaItem("gauge_size",{number:{mode:"box",min:100,max:400,step:10}})],(e=>{const t=e.detail.value.gauge_size;i({gauge_size:""===t?void 0:Number(t)})}))}
      </div>

      <div class="field-container" style="margin-bottom: 24px;">
        <div class="field-title">Gauge Thickness</div>
        <div class="field-description">Thickness of the gauge track (1-50).</div>
        ${n.Q.renderCleanForm(t,{gauge_thickness:null!==(r=e.gauge_thickness)&&void 0!==r?r:15},[n.Q.createSchemaItem("gauge_thickness",{number:{mode:"box",min:1,max:50,step:1}})],(e=>{const t=e.detail.value.gauge_thickness;i({gauge_thickness:""===t?void 0:Number(t)})}))}
      </div>
    `}renderPointerSizeFields(e,t,i){var a,r;const s=e.pointer_style||"needle";return["highlight","cap"].includes(s)?o.qy``:o.qy`
      <div class="field-container" style="margin-bottom: 24px;">
        <div class="field-title">Pointer Length</div>
        <div class="field-description">Length as percentage of gauge radius (1-100).</div>
        ${n.Q.renderCleanForm(t,{pointer_length:null!==(a=e.pointer_length)&&void 0!==a?a:80},[n.Q.createSchemaItem("pointer_length",{number:{mode:"box",min:1,max:100,step:1}})],(e=>{const t=e.detail.value.pointer_length;i({pointer_length:""===t?void 0:Number(t)})}))}
      </div>

      <div class="field-container" style="margin-bottom: 24px;">
        <div class="field-title">Pointer Width</div>
        <div class="field-description">Width of the pointer in pixels (1-20).</div>
        ${n.Q.renderCleanForm(t,{pointer_width:null!==(r=e.pointer_width)&&void 0!==r?r:4},[n.Q.createSchemaItem("pointer_width",{number:{mode:"box",min:1,max:20,step:1}})],(e=>{const t=e.detail.value.pointer_width;i({pointer_width:""===t?void 0:Number(t)})}))}
      </div>
    `}renderPointerConfiguration(e,t,i){const a=!1!==e.pointer_enabled;return o.qy`
      <div class="settings-section">
        <div
          style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
        >
          <div class="section-title" style="margin: 0;">POINTER CONFIGURATION</div>
          <ha-switch
            .checked=${a}
            @change=${e=>i({pointer_enabled:e.target.checked})}
          ></ha-switch>
        </div>
        <div class="field-description" style="margin-bottom: 16px;">
          Enable and customize the gauge pointer/needle that indicates the current value.
        </div>
        ${a?o.qy`
              <div class="conditional-fields-group">
                <div class="field-group" style="margin-bottom: 24px;">
                  <div class="field-title">Pointer Style</div>
                  <div class="field-description">Visual style of the pointer/needle.</div>
                  ${this.renderUcForm(t,{pointer_style:e.pointer_style||"needle"},[this.selectField("pointer_style",[{value:"needle",label:"Needle"},{value:"triangle",label:"Triangle"},{value:"arrow",label:"Arrow"},{value:"line",label:"Line"},{value:"circle",label:"Circle"},{value:"highlight",label:"Track Highlight"},{value:"cap",label:"Track Cap"}])],(t=>{const o=t.detail.value.pointer_style;o!==(e.pointer_style||"needle")&&(i({pointer_style:o}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
                </div>

                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">Pointer Color</div>
                  <div class="field-description">Color of the pointer.</div>
                  <ultra-color-picker
                    style="width: 100%;"
                    .value=${e.pointer_color||""}
                    .defaultValue=${"var(--primary-color)"}
                    .hass=${t}
                    @value-changed=${e=>i({pointer_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>

                ${this.renderPointerSizeFields(e,t,i)}
              </div>
            `:""}
      </div>
    `}renderColorConfiguration(e,t,i){const a=e.gauge_color_mode||"gradient";return o.qy`
      <div class="settings-section">
        <div class="section-title">COLOR CONFIGURATION</div>

        <div class="field-group" style="margin-bottom: 24px;">
          <div class="field-title">Color Mode</div>
          <div class="field-description">How colors are applied to the gauge.</div>
          ${this.renderUcForm(t,{gauge_color_mode:a},[this.selectField("gauge_color_mode",[{value:"solid",label:"Solid Color"},{value:"gradient",label:"Gradient"},{value:"segments",label:"Color Segments"}])],(t=>{const o=t.detail.value.gauge_color_mode;if(o===a)return;const n={gauge_color_mode:o};"segments"!==o||e.segments&&0!==e.segments.length||(n.segments=[{id:this.generateId("segment"),from:0,to:30,color:"#4CAF50",label:"Low"},{id:this.generateId("segment"),from:30,to:70,color:"#FFC107",label:"Medium"},{id:this.generateId("segment"),from:70,to:100,color:"#F44336",label:"High"}]),i(n),setTimeout((()=>this.triggerPreviewUpdate()),50)}),!1)}
        </div>
        ${"solid"===a?o.qy`
              <div class="conditional-fields-group">
                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">Gauge Color</div>
                  <div class="field-description">Main color of the gauge.</div>
                  <ultra-color-picker
                    style="width: 100%;"
                    .value=${e.gauge_color||""}
                    .defaultValue=${"var(--primary-color)"}
                    .hass=${t}
                    @value-changed=${e=>i({gauge_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>
              </div>
            `:""}
        ${"gradient"===a?o.qy`
              <div class="conditional-fields-group">
                <div class="field-group" style="margin-bottom: 16px;">
                  <div class="field-title">Gradient Display Mode</div>
                  <div class="field-description">How the gradient is displayed on the gauge.</div>
                  ${this.renderUcForm(t,{gradient_display_mode:e.gradient_display_mode||"full"},[this.selectField("gradient_display_mode",[{value:"full",label:"Full Gradient"},{value:"cropped",label:"Cropped to Value"},{value:"value-based",label:"Value-Based Color"}])],(t=>{const o=t.detail.value.gradient_display_mode;o!==(e.gradient_display_mode||"full")&&(i({gradient_display_mode:o}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
                </div>

                <uc-gradient-editor
                  .stops=${e.gradient_stops||[{id:this.generateId("stop"),position:0,color:"#4CAF50"},{id:this.generateId("stop"),position:50,color:"#FFC107"},{id:this.generateId("stop"),position:100,color:"#F44336"}]}
                  .barSize=${"regular"}
                  .barRadius=${"round"}
                  .barStyle=${"flat"}
                  @gradient-changed=${e=>{i({gradient_stops:e.detail.stops})}}
                ></uc-gradient-editor>
              </div>
            `:""}
        ${"segments"===a?o.qy`
              <div class="conditional-fields-group">
                <div class="field-title">Color Segments</div>
                <div class="field-description">Define discrete color segments with ranges.</div>

                <div class="segments-container">
                  ${(e.segments||[]).map(((a,n)=>o.qy`
                      <div class="segment-item">
                        <div class="segment-row">
                          <div>
                            <div
                              style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px;"
                            >
                              From Value
                            </div>
                            <input
                              type="number"
                              .value="${a.from}"
                              @input=${t=>{const o=t.target,a=[...e.segments||[]];a[n]=Object.assign(Object.assign({},a[n]),{from:parseFloat(o.value)}),i({segments:a})}}
                              style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--secondary-background-color); color: var(--primary-text-color);"
                            />
                          </div>
                          <div>
                            <div
                              style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px;"
                            >
                              To Value
                            </div>
                            <input
                              type="number"
                              .value="${a.to}"
                              @input=${t=>{const o=t.target,a=[...e.segments||[]];a[n]=Object.assign(Object.assign({},a[n]),{to:parseFloat(o.value)}),i({segments:a})}}
                              style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--secondary-background-color); color: var(--primary-text-color);"
                            />
                          </div>
                        </div>
                        <div style="margin-bottom: 8px;">
                          <div
                            style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px;"
                          >
                            Label (optional)
                          </div>
                          <input
                            type="text"
                            .value="${a.label||""}"
                            @input=${t=>{const o=t.target,a=[...e.segments||[]];a[n]=Object.assign(Object.assign({},a[n]),{label:o.value}),i({segments:a})}}
                            style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--secondary-background-color); color: var(--primary-text-color);"
                          />
                        </div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                          <div style="flex: 1;">
                            <div
                              style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px;"
                            >
                              Color
                            </div>
                            <ultra-color-picker
                              style="width: 100%;"
                              .value=${a.color}
                              .hass=${t}
                              @value-changed=${t=>{const o=[...e.segments||[]];o[n]=Object.assign(Object.assign({},o[n]),{color:t.detail.value}),i({segments:o})}}
                            ></ultra-color-picker>
                          </div>
                          <button
                            class="remove-stop-btn"
                            @click=${()=>{const t=[...e.segments||[]];t.splice(n,1),i({segments:t})}}
                            style="margin-top: 20px;"
                          >
                            Remove
                          </button>
                        </div>
                      </div>
                    `))}
                </div>

                <button
                  class="add-stop-btn"
                  @click=${()=>{const t=[...e.segments||[]],o=t.length>0?t[t.length-1].to:e.min_value||0;t.push({id:this.generateId("segment"),from:o,to:o+20,color:"#4CAF50",label:""}),i({segments:t})}}
                  style="margin-top: 12px;"
                >
                  + Add Segment
                </button>
              </div>
            `:""}

        <div class="field-container" style="margin-top: 16px;">
          <div class="field-title">Background Color</div>
          <div class="field-description">Background color for the gauge track.</div>
          <ultra-color-picker
            style="width: 100%;"
            .value=${e.gauge_background_color||""}
            .defaultValue=${"var(--disabled-text-color)"}
            .hass=${t}
            @value-changed=${e=>i({gauge_background_color:e.detail.value})}
          ></ultra-color-picker>
        </div>
      </div>
    `}renderDisplayConfiguration(e,t,i){var a,r,s,l,d,c,p;const u=!1!==e.show_value,g=!1!==e.show_name,m=!1!==e.show_min_max;return o.qy`
      <div class="settings-section">
        <div class="section-title">DISPLAY CONFIGURATION</div>

        <!-- Value Display -->
        <div
          style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
        >
          <div class="field-title" style="margin: 0;">Show Value</div>
          <ha-switch
            .checked=${u}
            @change=${e=>i({show_value:e.target.checked})}
          ></ha-switch>
        </div>

        ${u?o.qy`
              <div class="conditional-fields-group" style="margin-bottom: 16px;">
                <div class="field-container" style="margin-bottom: 24px;">
                  <div class="field-title">Value Position</div>
                  <div class="field-description">Where to display the value text.</div>
                  ${this.renderUcForm(t,{value_position:e.value_position||"center"},[this.selectField("value_position",[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"none",label:"None"}])],(t=>{const o=t.detail.value.value_position;o!==(e.value_position||"center")&&(i({value_position:o}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Value Font Size</div>
                  ${n.Q.renderCleanForm(t,{value_font_size:null!==(a=e.value_font_size)&&void 0!==a?a:24},[n.Q.createSchemaItem("value_font_size",{number:{mode:"box",min:8,max:48,step:1}})],(e=>{const t=e.detail.value.value_font_size;i({value_font_size:""===t?void 0:Number(t)})}))}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Value Color</div>
                  <ultra-color-picker
                    style="width: 100%;"
                    .value=${e.value_color||""}
                    .defaultValue=${"var(--primary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>i({value_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>

                ${n.Q.renderField("Value Format",'Optional format string (e.g., "%.1fC", "%.0f%%").',t,{value_format:e.value_format||""},[n.Q.createSchemaItem("value_format",{text:{}})],(e=>i({value_format:e.detail.value.value_format})))}

                <div class="field-container" style="margin-bottom: 24px; margin-top: 16px;">
                  <div class="field-title">Value X Offset</div>
                  <div class="field-description">
                    Horizontal offset for value positioning (-50 to 50).
                  </div>
                  ${n.Q.renderCleanForm(t,{value_x_offset:null!==(r=e.value_x_offset)&&void 0!==r?r:0},[n.Q.createSchemaItem("value_x_offset",{number:{mode:"box",min:-50,max:50,step:1}})],(e=>{const t=e.detail.value.value_x_offset;i({value_x_offset:""===t?void 0:Number(t)})}))}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Value Y Offset</div>
                  <div class="field-description">
                    Vertical offset for value positioning (-50 to 50).
                  </div>
                  ${n.Q.renderCleanForm(t,{value_y_offset:null!==(s=e.value_y_offset)&&void 0!==s?s:0},[n.Q.createSchemaItem("value_y_offset",{number:{mode:"box",min:-50,max:50,step:1}})],(e=>{const t=e.detail.value.value_y_offset;i({value_y_offset:""===t?void 0:Number(t)})}))}
                </div>
              </div>
            `:""}

        <!-- Name Display -->
        <div
          style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
        >
          <div class="field-title" style="margin: 0;">Show Name</div>
          <ha-switch
            .checked=${g}
            @change=${e=>i({show_name:e.target.checked})}
          ></ha-switch>
        </div>

        ${g?o.qy`
              <div class="conditional-fields-group" style="margin-bottom: 16px;">
                <div class="field-group" style="margin-bottom: 24px;">
                  <div class="field-title">Name Position</div>
                  <div class="field-description">Where to display the name/label.</div>
                  ${this.renderUcForm(t,{name_position:e.name_position||"top"},[this.selectField("name_position",[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"none",label:"None"}])],(t=>{const o=t.detail.value.name_position;o!==(e.name_position||"top")&&(i({name_position:o}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Name Font Size</div>
                  ${n.Q.renderCleanForm(t,{name_font_size:null!==(l=e.name_font_size)&&void 0!==l?l:16},[n.Q.createSchemaItem("name_font_size",{number:{mode:"box",min:8,max:32,step:1}})],(e=>{const t=e.detail.value.name_font_size;i({name_font_size:""===t?void 0:Number(t)})}))}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Name Color</div>
                  <ultra-color-picker
                    style="width: 100%;"
                    .value=${e.name_color||""}
                    .defaultValue=${"var(--secondary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>i({name_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Name X Offset</div>
                  <div class="field-description">
                    Horizontal offset for name positioning (-50 to 50).
                  </div>
                  ${n.Q.renderCleanForm(t,{name_x_offset:null!==(d=e.name_x_offset)&&void 0!==d?d:0},[n.Q.createSchemaItem("name_x_offset",{number:{mode:"box",min:-50,max:50,step:1}})],(e=>{const t=e.detail.value.name_x_offset;i({name_x_offset:""===t?void 0:Number(t)})}))}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Name Y Offset</div>
                  <div class="field-description">
                    Vertical offset for name positioning (-50 to 50).
                  </div>
                  ${n.Q.renderCleanForm(t,{name_y_offset:null!==(c=e.name_y_offset)&&void 0!==c?c:0},[n.Q.createSchemaItem("name_y_offset",{number:{mode:"box",min:-50,max:50,step:1}})],(e=>{const t=e.detail.value.name_y_offset;i({name_y_offset:""===t?void 0:Number(t)})}))}
                </div>
              </div>
            `:""}

        <!-- Min/Max Display -->
        ${e.show_tick_labels?o.qy`
              <div class="field-container" style="margin-bottom: 16px; opacity: 0.5;">
                <div class="field-title">Show Min/Max Values</div>
                <div class="field-description" style="color: var(--warning-color);">
                  Min/Max values are automatically hidden when tick labels are enabled to avoid
                  visual clutter.
                </div>
              </div>
            `:o.qy`
              <div class="field-container" style="margin-bottom: 16px;">
                <div class="field-title">Show Min/Max Values</div>
                <div class="field-description">
                  Display minimum and maximum values on the gauge.
                </div>
                ${n.Q.renderCleanForm(t,{show_min_max:m},[n.Q.createSchemaItem("show_min_max",{boolean:{}})],(e=>i({show_min_max:e.detail.value.show_min_max})))}
              </div>
            `}
        ${m?o.qy`
              <div class="conditional-fields-group">
                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Min/Max Font Size</div>
                  ${n.Q.renderCleanForm(t,{min_max_font_size:null!==(p=e.min_max_font_size)&&void 0!==p?p:12},[n.Q.createSchemaItem("min_max_font_size",{number:{mode:"box",min:8,max:20,step:1}})],(e=>i({min_max_font_size:e.detail.value.min_max_font_size})))}
                </div>

                <div class="field-container">
                  <div class="field-title">Min/Max Color</div>
                  <ultra-color-picker
                    style="width: 100%;"
                    .value=${e.min_max_color||""}
                    .defaultValue=${"var(--secondary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>i({min_max_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>
              </div>
            `:""}
      </div>
    `}renderTicksConfiguration(e,t,i){var a,r;const s=!1!==e.show_ticks,l=e.show_tick_labels||!1;return o.qy`
      <div class="settings-section">
        <div class="section-title">TICK MARKS</div>

        <div
          style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
        >
          <div class="field-title" style="margin: 0;">Show Tick Marks</div>
          <ha-switch
            .checked=${s}
            @change=${e=>i({show_ticks:e.target.checked})}
          ></ha-switch>
        </div>

        ${s?o.qy`
              <div class="conditional-fields-group">
                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Tick Count</div>
                  <div class="field-description">Number of major tick marks.</div>
                  ${n.Q.renderCleanForm(t,{tick_count:null!==(a=e.tick_count)&&void 0!==a?a:10},[n.Q.createSchemaItem("tick_count",{number:{mode:"box",min:2,max:50,step:1}})],(e=>{const t=e.detail.value.tick_count;i({tick_count:""===t?void 0:Number(t)})}))}
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Tick Color</div>
                  <ultra-color-picker
                    style="width: 100%;"
                    .value=${e.tick_color||""}
                    .defaultValue=${"var(--divider-color)"}
                    .hass=${t}
                    @value-changed=${e=>i({tick_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>

                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Show Tick Labels</div>
                  ${n.Q.renderCleanForm(t,{show_tick_labels:l},[n.Q.createSchemaItem("show_tick_labels",{boolean:{}})],(e=>i({show_tick_labels:e.detail.value.show_tick_labels})))}
                </div>

                ${l?o.qy`
                      <div class="field-container">
                        <div class="field-title">Tick Label Font Size</div>
                        ${n.Q.renderCleanForm(t,{tick_label_font_size:null!==(r=e.tick_label_font_size)&&void 0!==r?r:10},[n.Q.createSchemaItem("tick_label_font_size",{number:{mode:"box",min:6,max:16,step:1}})],(e=>{const t=e.detail.value.tick_label_font_size;i({tick_label_font_size:""===t?void 0:Number(t)})}))}
                      </div>
                    `:""}
              </div>
            `:""}
      </div>
    `}renderAnimationConfiguration(e,t,i){const a=!1!==e.animation_enabled;return o.qy`
      <div class="settings-section">
        <div class="section-title">ANIMATION</div>

        <div
          style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
        >
          <div class="field-title" style="margin: 0;">Enable Animation</div>
          <ha-switch
            .checked=${a}
            @change=${e=>i({animation_enabled:e.target.checked})}
          ></ha-switch>
        </div>
        <div class="field-description" style="margin-bottom: 16px;">
          Animate gauge changes smoothly.
        </div>

        ${a?o.qy`
              <div class="conditional-fields-group">
                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">Animation Duration</div>
                  <div class="field-description">
                    Duration in milliseconds (e.g., "1000ms", "1s").
                  </div>
                  ${n.Q.renderField("","",t,{animation_duration:e.animation_duration||"1000ms"},[n.Q.createSchemaItem("animation_duration",{text:{}})],(e=>{const t=e.detail.value.animation_duration;i({animation_duration:""===t?void 0:t})}))}
                </div>

                <div class="field-group">
                  <div class="field-title">Animation Easing</div>
                  <div class="field-description">Easing function for the animation.</div>
                  ${this.renderUcForm(t,{animation_easing:e.animation_easing||"ease-out"},[this.selectField("animation_easing",[{value:"linear",label:"Linear"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In-Out"},{value:"bounce",label:"Bounce"}])],(t=>{const o=t.detail.value.animation_easing;o!==(e.animation_easing||"ease-out")&&(i({animation_easing:o}),setTimeout((()=>this.triggerPreviewUpdate()),50))}),!1)}
                </div>
              </div>
            `:""}
      </div>
    `}renderActionsTab(e,t,i,o){return r.A.render(e,t,(e=>o(e)))}renderSplitPreview(e,t){return this.renderPreview(e,t)}renderPreview(e,t,i){const a=e,n=this.calculateGaugeValue(a,t),r=this.getDisplayName(a,t);return o.qy`
      <div class="uc-gauge-container" style="${this.getContainerStyles(a)}">
        ${a.show_name&&"top"===a.name_position?o.qy`
              <div class="uc-gauge-name" style="${this.getNameStyles(a)}">
                ${r}
              </div>
            `:""}

        <div class="uc-gauge-wrapper" style="position: relative; display: inline-block;">
          ${a.show_value&&"top"===a.value_position?o.qy`
                <div class="uc-gauge-value-top" style="${this.getValueStyles(a)}">
                  ${this.formatValue(n,a)}
                </div>
              `:""}
          <svg
            class="uc-gauge-svg"
            viewBox="0 0 ${a.gauge_size} ${a.gauge_size}"
            width="${a.gauge_size}"
            height="${a.gauge_size}"
            style="overflow: visible;"
          >
            ${this.renderGaugeByStyle(a,n,t)}
          </svg>

          ${a.show_value&&"center"===a.value_position?o.qy`
                <div class="uc-gauge-value-center" style="${this.getValueStyles(a)}">
                  ${this.formatValue(n,a)}
                </div>
              `:""}
          ${a.show_value&&"bottom"===a.value_position?o.qy`
                <div class="uc-gauge-value-bottom" style="${this.getValueStyles(a)}">
                  ${this.formatValue(n,a)}
                </div>
              `:""}
        </div>
        ${a.show_name&&"bottom"===a.name_position?o.qy`
              <div class="uc-gauge-name" style="${this.getNameStyles(a)}">
                ${r}
              </div>
            `:""}
      </div>
    `}calculateGaugeValue(e,t){const i=e.value_type||"entity";if("entity"===i){const i=t.states[e.entity];return i?parseFloat(i.state)||0:e.min_value||0}if("attribute"===i&&e.value_attribute_entity&&e.value_attribute_name){const i=t.states[e.value_attribute_entity];if(!i)return e.min_value||0;const o=i.attributes[e.value_attribute_name];return parseFloat(o)||0}return"template"===i&&e.value_template,e.min_value||0}getDisplayName(e,t){if(e.name)return e.name;const i=t.states[e.entity];return(null==i?void 0:i.attributes.friendly_name)||e.entity}formatValue(e,t){return t.value_format?t.value_format.replace(/%.(\d*)f/,((t,i)=>{const o=i?parseInt(i):0;return e.toFixed(o)})).replace(/%%/,"%"):e.toString()}renderGaugeByStyle(e,t,i){switch(e.gauge_style||"modern"){case"speedometer":return this.renderSpeedometerGauge(e,t);case"arc":return this.renderArcGauge(e,t);case"radial":return this.renderRadialGauge(e,t);case"lines":return this.renderLinesGauge(e,t);case"block":return this.renderBlockGauge(e,t);case"minimal":return this.renderMinimalGauge(e,t);case"inset":return this.renderInsetGauge(e,t);case"3d":return this.render3DGauge(e,t);case"neon":return this.renderNeonGauge(e,t);case"digital":return this.renderDigitalGauge(e,t);case"basic":return this.renderBasicGauge(e,t);default:return this.renderModernGauge(e,t)}}renderModernGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-120,u=120,g=p+240*c/100,m=this.describeArc(n,r,s,p,u),h=this.describeArc(n,r,s,p,g),_=this.getColorAtValue(e,c);return o.JW`
      ${this.renderGradientDefs(e)}
      
      <!-- Background arc -->
      <path
        d="${m}"
        fill="none"
        stroke="${e.gauge_background_color||"var(--disabled-text-color)"}"
        stroke-width="${a}"
        stroke-linecap="butt"
      />

      <!-- Value arc -->
      ${"segments"===e.gauge_color_mode?this.renderSegmentedArcs(e,n,r,s,p,u,a,t,!0):"gradient"===e.gauge_color_mode?o.JW`
              <path
                d="${h}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="round"
                style="transition: stroke-dashoffset ${!1!==e.animation_enabled?e.animation_duration||"1000ms":"0ms"} ${e.animation_easing||"ease-out"};"
              />
            `:o.JW`
              <path
                d="${h}"
                fill="none"
                stroke="${_}"
                stroke-width="${a}"
                stroke-linecap="round"
                style="transition: stroke-dashoffset ${!1!==e.animation_enabled?e.animation_duration||"1000ms":"0ms"} ${e.animation_easing||"ease-out"};"
              />
            `}

      <!-- Tick marks -->
      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,u,a):""}

      <!-- Pointer -->
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,g):""}

      <!-- Min/Max labels -->
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,u)}
    `}renderBasicGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-120,u=120,g=p+240*c/100,m=this.describeArc(n,r,s,p,u),h=this.describeArc(n,r,s,p,g),_=this.getColorAtValue(e,c);return o.JW`
      ${this.renderGradientDefs(e)}
      
      <!-- Background arc -->
      <path
        d="${m}"
        fill="none"
        stroke="${e.gauge_background_color||"var(--disabled-text-color)"}"
        stroke-width="${a}"
        stroke-linecap="butt"
      />

      <!-- Value arc -->
      ${"segments"===e.gauge_color_mode?this.renderSegmentedArcs(e,n,r,s,p,u,a,t):"gradient"===e.gauge_color_mode?o.JW`
              <path
                d="${h}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `:o.JW`
              <path
                d="${h}"
                fill="none"
                stroke="${_}"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `}

      <!-- Tick marks -->
      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,u,a):""}

      <!-- Pointer -->
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,g):""}

      <!-- Min/Max labels -->
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,u)}
    `}renderSpeedometerGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-225,u=p+270*c/100,g=this.describeArc(n,r,s,p,45),m=this.describeArc(n,r,s,p,u),h=this.getColorAtValue(e,c);return o.JW`
      ${this.renderGradientDefs(e)}
      
      <!-- Background arc -->
      <path
        d="${g}"
        fill="none"
        stroke="${e.gauge_background_color||"var(--disabled-text-color)"}"
        stroke-width="${a}"
        stroke-linecap="butt"
      />

      <!-- Value arc -->
      ${"segments"===e.gauge_color_mode?this.renderSegmentedArcs(e,n,r,s,p,45,a,t):"gradient"===e.gauge_color_mode?o.JW`
              <path
                d="${m}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `:o.JW`
              <path
                d="${m}"
                fill="none"
                stroke="${h}"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `}

      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,45,a):""}
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,u):""}
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,45)}
    `}renderArcGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-180,u=p+180*c/100,g=this.describeArc(n,r,s,p,0),m=this.describeArc(n,r,s,p,u),h=this.getColorAtValue(e,c);return o.JW`
      ${this.renderGradientDefs(e)}
      
      <!-- Background arc -->
      <path
        d="${g}"
        fill="none"
        stroke="${e.gauge_background_color||"var(--disabled-text-color)"}"
        stroke-width="${a}"
        stroke-linecap="butt"
      />

      <!-- Value arc -->
      ${"segments"===e.gauge_color_mode?this.renderSegmentedArcs(e,n,r,s,p,0,a,t):"gradient"===e.gauge_color_mode?o.JW`
              <path
                d="${m}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `:o.JW`
              <path
                d="${m}"
                fill="none"
                stroke="${h}"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `}

      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,0,a):""}
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,u):""}
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,0)}
    `}renderRadialGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-90,u=p+360*c/100,g=(this.describeArc(n,r,s,p,270),this.describeArc(n,r,s,p,u)),m=this.getColorAtValue(e,c);return o.JW`
      ${this.renderGradientDefs(e)}
      
      <!-- Background circle -->
      <circle
        cx="${n}"
        cy="${r}"
        r="${s}"
        fill="none"
        stroke="${e.gauge_background_color||"var(--disabled-text-color)"}"
        stroke-width="${a}"
      />

      <!-- Value arc -->
      ${"segments"===e.gauge_color_mode?this.renderSegmentedArcs(e,n,r,s,p,270,a,t):"gradient"===e.gauge_color_mode?o.JW`
              <path
                d="${g}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `:o.JW`
              <path
                d="${g}"
                fill="none"
                stroke="${m}"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `}

      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,u):""}
    `}renderLinesGauge(e,t){const i=e.gauge_size||200,a=i/2,n=i/2,r=i/2-20,s=e.min_value||0,l=(t-s)/((e.max_value||100)-s)*100,d=Math.min(Math.max(l,0),100),c=e.tick_count||20,p=[];for(let t=0;t<=c;t++){const i=240*t/c-120,s=t/c*100;let l;l="segments"===e.gauge_color_mode||s<=d?this.getColorAtValue(e,s):e.gauge_background_color||"var(--disabled-text-color)";const u=r-15,g=r,m=this.polarToCartesian(a,n,u,i),h=this.polarToCartesian(a,n,g,i);p.push(o.JW`
        <line
          x1="${m.x}"
          y1="${m.y}"
          x2="${h.x}"
          y2="${h.y}"
          stroke="${l}"
          stroke-width="3"
          stroke-linecap="round"
        />
      `)}return o.JW`
      ${p}
      ${!1!==e.pointer_enabled?this.renderPointer(e,a,n,r-15,240*d/100-120):""}
    `}renderBlockGauge(e,t){const i=e.gauge_size||200,a=i/2,n=i/2,r=i/2-20,s=e.gauge_thickness||20,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=e.tick_count||12,u=240/p,g=[];for(let t=0;t<p;t++){const i=t*u-120,l=i+u-2,d=t/p*100,m=(t+1)/p*100;let h;h="segments"===e.gauge_color_mode||c>=d?this.getColorAtValue(e,m):e.gauge_background_color||"var(--disabled-text-color)";const _=this.describeArc(a,n,r,i,l);g.push(o.JW`
        <path
          d="${_}"
          fill="none"
          stroke="${h}"
          stroke-width="${s}"
          stroke-linecap="butt"
        />
      `)}return o.JW`
      ${g}
      ${!1!==e.pointer_enabled?this.renderPointer(e,a,n,r,240*c/100-120):""}
    `}renderMinimalGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||8,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=2*Math.PI*s,u=c/100*p,g=this.getColorAtValue(e,c);return o.JW`
      ${this.renderGradientDefs(e)}
      
      <circle
        cx="${n}"
        cy="${r}"
        r="${s}"
        fill="none"
        stroke="${e.gauge_background_color||"var(--disabled-text-color)"}"
        stroke-width="${a}"
      />

      ${"segments"===e.gauge_color_mode?this.renderSegmentedCircle(e,n,r,s,a,t,!0):"gradient"===e.gauge_color_mode?o.JW`
            <circle
              cx="${n}"
              cy="${r}"
              r="${s}"
              fill="none"
              stroke="url(#gradient-${e.id})"
              stroke-width="${a}"
              stroke-linecap="round"
              stroke-dasharray="${p}"
              stroke-dashoffset="${p-u}"
              transform="rotate(-90 ${n} ${r})"
            />
          `:o.JW`
            <circle
              cx="${n}"
              cy="${r}"
              r="${s}"
              fill="none"
              stroke="${g}"
              stroke-width="${a}"
              stroke-linecap="round"
              stroke-dasharray="${p}"
              stroke-dashoffset="${p-u}"
              transform="rotate(-90 ${n} ${r})"
            />
          `}
    `}renderInsetGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-120,u=120,g=p+240*c/100,m=s+a/4,h=s-a/4,_=this.describeArc(n,r,m,p,u),v=this.describeArc(n,r,h,p,u),f=this.describeArc(n,r,m,p,g),b=this.describeArc(n,r,h,p,g),y=this.getColorAtValue(e,c),k=e.gauge_background_color||"var(--disabled-text-color)";return o.JW`
      ${this.renderGradientDefs(e)}
      
      <defs>
        <filter id="inset-shadow-${e.id}" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur in="SourceAlpha" stdDeviation="2" />
          <feOffset dx="0" dy="2" result="offsetblur" />
          <feFlood flood-color="rgba(0,0,0,0.3)" />
          <feComposite in2="offsetblur" operator="in" />
          <feMerge>
            <feMergeNode />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
        <filter id="3d-separator-shadow-${e.id}" x="-75%" y="-75%" width="250%" height="250%">
          <!-- CSS-like shadow: 0 0 6px 3px #000 for separator edge -->
          <feMorphology in="SourceAlpha" operator="dilate" radius="3" result="spread" />
          <feGaussianBlur in="spread" stdDeviation="3" result="blur" />
          <feColorMatrix in="blur" type="matrix"
            values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 0.35 0" result="shadow" />
          <feMerge>
            <feMergeNode in="shadow" />
          </feMerge>
        </filter>
      </defs>
      
      <!-- Outer background arc -->
      <path
        d="${_}"
        fill="none"
        stroke="${k}"
        stroke-width="${a/2}"
        stroke-linecap="butt"
        filter="url(#inset-shadow-${e.id})"
      />
      
      <!-- Inner background arc -->
      <path
        d="${v}"
        fill="none"
        stroke="${k}"
        stroke-width="${a/2}"
        stroke-linecap="butt"
        opacity="0.7"
      />

      <!-- Value arcs -->
      ${"segments"===e.gauge_color_mode?o.JW`
              ${this.renderSegmentedArcsWithInsetStyle(e,n,r,m,p,u,a/2,t)}
              ${this.renderSegmentedArcsWithInsetStyle(e,n,r,h,p,u,a/2,t)}
            `:"gradient"===e.gauge_color_mode?o.JW`
              <!-- Outer value arc -->
              <path
                d="${f}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a/2}"
                stroke-linecap="butt"
              />
              
              <!-- Inner value arc -->
              <path
                d="${b}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a/2}"
                stroke-linecap="butt"
                opacity="0.8"
              />
            `:o.JW`
              <!-- Outer value arc -->
              <path
                d="${f}"
                fill="none"
                stroke="${y}"
                stroke-width="${a/2}"
                stroke-linecap="butt"
              />
              
              <!-- Inner value arc -->
              <path
                d="${b}"
                fill="none"
                stroke="${y}"
                stroke-width="${a/2}"
                stroke-linecap="butt"
                opacity="0.8"
              />
            `}

      <!-- Tick marks -->
      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,u,a):""}

      <!-- Pointer -->
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,g):""}

      <!-- Min/Max labels -->
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,u)}
    `}render3DGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-120,u=120,g=p+240*c/100,m=this.describeArc(n,r,s,p,u),h=this.describeArc(n,r,s,p,g),_=this.getColorAtValue(e,c),v=e.gauge_background_color||"var(--disabled-text-color)";return o.JW`
      ${this.renderGradientDefs(e)}
      
      <defs>
        <linearGradient id="3d-gradient-${e.id}" x1="0%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:0.4" />
          <stop offset="50%" style="stop-color:rgb(255,255,255);stop-opacity:0.1" />
          <stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:0.3" />
        </linearGradient>
        <filter id="3d-shadow-${e.id}" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
          <feOffset dx="0" dy="4" result="offsetblur" />
          <feFlood flood-color="rgba(0,0,0,0.4)" />
          <feComposite in2="offsetblur" operator="in" />
          <feMerge>
            <feMergeNode />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
        <filter id="3d-box-shadow-${e.id}" x="-100%" y="-100%" width="300%" height="300%">
          <feGaussianBlur in="SourceAlpha" stdDeviation="4" />
          <feOffset dx="0" dy="6" result="offsetblur" />
          <feFlood flood-color="rgba(0,0,0,0.5)" />
          <feComposite in2="offsetblur" operator="in" />
          <feMerge>
            <feMergeNode />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
        <filter id="3d-segment-shadow-${e.id}" x="-75%" y="-75%" width="250%" height="250%">
          <!-- CSS-like shadow: 0 0 8px 4px #000 (no directional offset) -->
          <feMorphology in="SourceAlpha" operator="dilate" radius="4" result="spread" />
          <feGaussianBlur in="spread" stdDeviation="4" result="blur" />
          <feColorMatrix in="blur" type="matrix"
            values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 0.45 0" result="shadow" />
          <feMerge>
            <feMergeNode in="shadow" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs>
      
      <!-- Background arc with 3D effect -->
      <path
        d="${m}"
        fill="none"
        stroke="${v}"
        stroke-width="${a+2}"
        stroke-linecap="butt"
        filter="url(#3d-shadow-${e.id})"
      />
      
      <path
        d="${m}"
        fill="none"
        stroke="url(#3d-gradient-${e.id})"
        stroke-width="${a}"
        stroke-linecap="butt"
      />

      <!-- Value arc with 3D effect -->
      ${"segments"===e.gauge_color_mode?this.renderSegmentedArcsWith3DStyle(e,n,r,s,p,u,a,t):"gradient"===e.gauge_color_mode?o.JW`
              <path
                d="${h}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a+2}"
                stroke-linecap="butt"
                filter="url(#3d-shadow-${e.id})"
              />
              <path
                d="${h}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `:o.JW`
              <path
                d="${h}"
                fill="none"
                stroke="${_}"
                stroke-width="${a+2}"
                stroke-linecap="butt"
                filter="url(#3d-shadow-${e.id})"
              />
              <path
                d="${h}"
                fill="none"
                stroke="${_}"
                stroke-width="${a}"
                stroke-linecap="butt"
              />
            `}

      <!-- Tick marks -->
      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,u,a):""}

      <!-- Pointer -->
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,g):""}

      <!-- Min/Max labels -->
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,u)}
    `}renderNeonGauge(e,t){const i=e.gauge_size||200,a=e.gauge_thickness||15,n=i/2,r=i/2,s=i/2-a-10,l=e.min_value||0,d=(t-l)/((e.max_value||100)-l)*100,c=Math.min(Math.max(d,0),100),p=-120,u=120,g=p+240*c/100,m=this.describeArc(n,r,s,p,u),h=this.describeArc(n,r,s,p,g),_=this.getColorAtValue(e,c),v=e.gauge_background_color||"var(--disabled-text-color)",f=(()=>{const t=e.gauge_color_mode||"gradient";if("gradient"===t&&e.gradient_stops&&e.gradient_stops.length>0){const t=e.gradient_display_mode||"full";if("value-based"===t||"cropped"===t)return this.getColorAtValue(e,c);{const t=[...e.gradient_stops].sort(((e,t)=>t.position-e.position));if(t.length>0)return t[0].color}}else if("segments"===t&&e.segments)return this.getColorAtValue(e,c);return e.gauge_color||"var(--primary-color)"})();return o.JW`
      ${this.renderGradientDefs(e)}
      
      <defs>
        <filter id="neon-glow-${e.id}" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
          <feMerge> 
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="neon-background-${e.id}" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="1" result="softBlur"/>
          <feMerge> 
            <feMergeNode in="softBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="neon-glow-filter-${e.id}" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="2" result="featheredGlow"/>
          <feMerge> 
            <feMergeNode in="featheredGlow"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="light-shine-filter-${e.id}" x="-100%" y="-100%" width="300%" height="300%">
          <feGaussianBlur stdDeviation="4" result="softGlow"/>
          <feGaussianBlur stdDeviation="8" result="wideGlow"/>
          <feMerge> 
            <feMergeNode in="wideGlow"/>
            <feMergeNode in="softGlow"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      
      <!-- Background arc with subtle glow -->
      <path
        d="${m}"
        fill="none"
        stroke="${v}"
        stroke-width="${a}"
        stroke-linecap="butt"
        filter="url(#neon-background-${e.id})"
        opacity="0.4"
      />

      <!-- Value arc with neon glow effect -->
      ${"segments"===e.gauge_color_mode?o.JW`
              <!-- Subtle glow behind entire filled section -->
              <path
                d="${h}"
                fill="none"
                stroke="${f}"
                stroke-width="${1.5*a}"
                stroke-linecap="butt"
                opacity="0.3"
                filter="url(#neon-glow-${e.id})"
              />
              
              ${this.renderSegmentedArcs(e,n,r,s,p,u,a,t)}
              ${this.renderNeonGlowAtEnd(e,n,r,s,p,u,a,t,f)}
            `:"gradient"===e.gauge_color_mode?o.JW`
              <!-- Subtle glow behind entire arc -->
              <path
                d="${h}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${1.5*a}"
                stroke-linecap="butt"
                opacity="0.3"
                filter="url(#neon-glow-${e.id})"
              />
              
              <!-- Main gradient arc -->
              <path
                d="${h}"
                fill="none"
                stroke="url(#gradient-${e.id})"
                stroke-width="${a}"
                stroke-linecap="butt"
                style="transition: stroke-dashoffset ${!1!==e.animation_enabled?e.animation_duration||"1000ms":"0ms"} ${e.animation_easing||"ease-out"};"
              />
              ${this.renderNeonGlowAtEnd(e,n,r,s,p,u,a,t,f)}
            `:o.JW`
              <!-- Subtle glow behind entire arc -->
              <path
                d="${h}"
                fill="none"
                stroke="${_}"
                stroke-width="${1.5*a}"
                stroke-linecap="butt"
                opacity="0.3"
                filter="url(#neon-glow-${e.id})"
              />
              
              <!-- Main solid color arc -->
              <path
                d="${h}"
                fill="none"
                stroke="${_}"
                stroke-width="${a}"
                stroke-linecap="butt"
                style="transition: stroke-dashoffset ${!1!==e.animation_enabled?e.animation_duration||"1000ms":"0ms"} ${e.animation_easing||"ease-out"};"
              />
              ${this.renderNeonGlowAtEnd(e,n,r,s,p,u,a,t,f)}
            `}

      <!-- Tick marks -->
      ${!1!==e.show_ticks?this.renderTickMarks(e,n,r,s,p,u,a):""}

      <!-- Pointer -->
      ${!1!==e.pointer_enabled?this.renderPointer(e,n,r,s,g):""}

      <!-- Min/Max labels -->
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,n,r,s,p,u)}
    `}renderDigitalGauge(e,t){const i=e.gauge_size||200,a=i/2,n=i/2,r=i/2-30,s=e.min_value||0,l=(t-s)/((e.max_value||100)-s)*100,d=Math.min(Math.max(l,0),100),c=-90,p=c+180*d/100,u=12,g=[];for(let t=0;t<u;t++){const i=c+180*t/u,s=c+180*(t+1)/u,l=t/u*100,p=(t+1)/u*100,m=6,h=m+(t+1)/u*(18-m),_=r-h/2,v=(i+s)/2,f=this.polarToCartesian(a,n,_,v),b=this.polarToCartesian(a,n,_,i),y=this.polarToCartesian(a,n,_,s),k=.3*Math.sqrt(Math.pow(y.x-b.x,2)+Math.pow(y.y-b.y,2)),x=f.x,w=f.y,S=v;let A;A="segments"===e.gauge_color_mode||d>=l?this.getColorAtValue(e,p):e.gauge_background_color||"var(--disabled-text-color)",g.push(o.JW`
        <rect
          x="${x-k/2}"
          y="${w-h/2}"
          width="${k}"
          height="${h}"
          fill="${A}"
          transform="rotate(${S} ${x} ${w})"
          rx="2"
        />
      `)}return o.JW`
      ${this.renderGradientDefs(e)}
      
      <!-- Digital blocks -->
      ${g}

      <!-- Tick marks -->
      ${!1!==e.show_ticks?this.renderTickMarks(e,a,n,r,c,90):""}

      <!-- Pointer -->
      ${!1!==e.pointer_enabled?this.renderPointer(e,a,n,r,p):""}

      <!-- Min/Max labels -->
      ${!1===e.show_min_max||e.show_tick_labels?"":this.renderMinMaxLabels(e,a,n,r,c,90)}
    `}renderTickMarks(e,t,i,a,n,r,s){const l=e.tick_count||10,d=r-n,c=[];for(let r=0;r<=l;r++){const p=n+d*r/l,u=s||e.gauge_thickness||15,g=a-u/2+2,m=a+u/2-2,h=this.polarToCartesian(t,i,g,p),_=this.polarToCartesian(t,i,m,p);if(c.push(o.JW`
        <line
          x1="${h.x}"
          y1="${h.y}"
          x2="${_.x}"
          y2="${_.y}"
          stroke="${e.tick_color||"var(--divider-color)"}"
          stroke-width="2"
          stroke-linecap="round"
        />
      `),e.show_tick_labels){const a=m+14,n=this.polarToCartesian(t,i,a,p),s=e.min_value||0,d=e.max_value||100,u=Math.round(s+(d-s)*r/l),g=e.tick_label_font_size||10;c.push(o.JW`<text x="${n.x}" y="${n.y}" fill="${e.min_max_color||"var(--secondary-text-color)"}" font-size="${g}" text-anchor="middle" dominant-baseline="middle">${u}</text>`)}}return o.JW`${c}`}renderPointer(e,t,i,a,n){const r=e.pointer_style||"needle",s=(e.pointer_length||80)/100*a,l=e.pointer_width||4,d=e.pointer_color||"var(--primary-color)",c=this.polarToCartesian(t,i,s,n);if("needle"===r){const e=2*l,a=n-90,r=n+90,s=this.polarToCartesian(t,i,e/2,a),p=this.polarToCartesian(t,i,e/2,r);return o.JW`
        <polygon
          points="${s.x},${s.y} ${p.x},${p.y} ${c.x},${c.y}"
          fill="${d}"
        />
        <circle cx="${t}" cy="${i}" r="${e}" fill="${d}" />
      `}if("triangle"===r){const e=3*l,a=n-90,r=n+90,s=this.polarToCartesian(t,i,e,a),p=this.polarToCartesian(t,i,e,r);return o.JW`
        <polygon
          points="${s.x},${s.y} ${p.x},${p.y} ${c.x},${c.y}"
          fill="${d}"
        />
      `}if("arrow"===r){const e=.2*s,a=this.polarToCartesian(c.x,c.y,e,n-150),r=this.polarToCartesian(c.x,c.y,e,n+150);return o.JW`
        <line
          x1="${t}"
          y1="${i}"
          x2="${c.x}"
          y2="${c.y}"
          stroke="${d}"
          stroke-width="${l}"
          stroke-linecap="round"
        />
        <line
          x1="${c.x}"
          y1="${c.y}"
          x2="${a.x}"
          y2="${a.y}"
          stroke="${d}"
          stroke-width="${l}"
          stroke-linecap="round"
        />
        <line
          x1="${c.x}"
          y1="${c.y}"
          x2="${r.x}"
          y2="${r.y}"
          stroke="${d}"
          stroke-width="${l}"
          stroke-linecap="round"
        />
      `}if("circle"===r)return o.JW`
        <line
          x1="${t}"
          y1="${i}"
          x2="${c.x}"
          y2="${c.y}"
          stroke="${d}"
          stroke-width="${l/2}"
          stroke-linecap="round"
        />
        <circle
          cx="${c.x}"
          cy="${c.y}"
          r="${2*l}"
          fill="${d}"
        />
      `;if("highlight"===r){const r=e.gauge_thickness||15,s=6,l=n-s/2,c=n+s/2,p=this.describeArc(t,i,a,l,c);return this.polarToCartesian(t,i,a,n),o.JW`
        <path d="${p}" fill="none" stroke="${d}" stroke-width="${r}" stroke-linecap="round" />
      `}if("cap"===r){const r=e.gauge_thickness||15,s=this.polarToCartesian(t,i,a,n);return o.JW`
        <circle cx="${s.x}" cy="${s.y}" r="${r/2}" fill="${d}" />
      `}return o.JW`
      <line
        x1="${t}"
        y1="${i}"
        x2="${c.x}"
        y2="${c.y}"
        stroke="${d}"
        stroke-width="${l}"
        stroke-linecap="round"
      />
    `}renderMinMaxLabels(e,t,i,a,n,r){const s=a+20,l=this.polarToCartesian(t,i,s,n),d=this.polarToCartesian(t,i,s,r),c=e.min_max_font_size||12,p=e.min_max_color||"var(--secondary-text-color)";return o.JW`
      <text
        x="${l.x}"
        y="${l.y}"
        fill="${p}"
        font-size="${c}"
        text-anchor="middle"
        dominant-baseline="middle"
      >
        ${e.min_value||0}
      </text>
      <text
        x="${d.x}"
        y="${d.y}"
        fill="${p}"
        font-size="${c}"
        text-anchor="middle"
        dominant-baseline="middle"
      >
        ${e.max_value||100}
      </text>
    `}getColorAtValue(e,t){const i=e.gauge_color_mode||"gradient";if("solid"===i)return e.gauge_color||"var(--primary-color)";if("segments"===i&&e.segments&&e.segments.length>0){const i=e.min_value||0,o=i+((e.max_value||100)-i)*t/100;for(const t of e.segments)if(o>=t.from&&o<=t.to)return t.color}if("gradient"===i&&e.gradient_stops&&e.gradient_stops.length>0){const i=[...e.gradient_stops].sort(((e,t)=>e.position-t.position));if(t<=i[0].position)return i[0].color;if(t>=i[i.length-1].position)return i[i.length-1].color;for(let e=0;e<i.length-1;e++){const o=i[e],a=i[e+1];if(t>=o.position&&t<=a.position){const e=a.position-o.position,i=(t-o.position)/e;return this.interpolateColor(o.color,a.color,i)}}}return e.gauge_color||"var(--primary-color)"}interpolateColor(e,t,i){const o=this.hexToRgb(e),a=this.hexToRgb(t);if(!o||!a)return e;const n=Math.round(o.r+(a.r-o.r)*i),r=Math.round(o.g+(a.g-o.g)*i),s=Math.round(o.b+(a.b-o.b)*i);return this.rgbToHex(n,r,s)}hexToRgb(e){if(e.startsWith("var(")||e.startsWith("rgb"))return null;const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}rgbToHex(e,t,i){return"#"+[e,t,i].map((e=>e.toString(16).padStart(2,"0"))).join("")}renderSegmentedArcs(e,t,i,a,n,r,s,l,d=!1){if(!e.segments||0===e.segments.length)return o.JW``;const c=e.min_value||0,p=e.max_value||100,u=r-n,g=[],m=[...e.segments].sort(((e,t)=>e.from-t.from));for(const e of m){const r=n+u*((e.from-c)/(p-c)*100)/100,l=n+u*((e.to-c)/(p-c)*100)/100;if(l>r){const n=this.describeArc(t,i,a,r,l);g.push(o.JW`
          <path
            d="${n}"
            fill="none"
            stroke="${e.color}"
            stroke-width="${s}"
            stroke-linecap="${d?"round":"butt"}"
          />
        `)}}return o.JW`${g}`}renderSegmentedArcsWithInsetStyle(e,t,i,a,n,r,s,l){if(!e.segments||0===e.segments.length)return o.JW``;const d=e.min_value||0,c=e.max_value||100,p=r-n,u=[],g=[...e.segments].sort(((e,t)=>e.from-t.from));for(const r of g){const l=n+p*((r.from-d)/(c-d)*100)/100,g=n+p*((r.to-d)/(c-d)*100)/100;if(g>l){const n=this.describeArc(t,i,a,l,g);u.push(o.JW`
          <!-- Shadow layer -->
          <path
            d="${n}"
            fill="none"
            stroke="${r.color}"
            stroke-width="${s+2}"
            stroke-linecap="butt"
            filter="url(#inset-shadow-${e.id})"
          />
          <!-- Main segment -->
          <path
            d="${n}"
            fill="none"
            stroke="${r.color}"
            stroke-width="${s}"
            stroke-linecap="butt"
          />
        `)}}return o.JW`${u}`}renderSegmentedArcsWith3DStyle(e,t,i,a,n,r,s,l){if(!e.segments||0===e.segments.length)return o.JW``;const d=e.min_value||0,c=e.max_value||100,p=r-n,u=[],g=[...e.segments].sort(((e,t)=>e.from-t.from));for(let r=0;r<g.length;r++){const l=g[r],m=n+p*((l.from-d)/(c-d)*100)/100,h=n+p*((l.to-d)/(c-d)*100)/100;if(h>m){const r=this.describeArc(t,i,a,m,h),d=Math.max(m-.5,n),c=this.describeArc(t,i,a,d,m);u.push(o.JW`
          <path
            d="${c}"
            fill="none"
            stroke="rgba(0,0,0,0.15)"
            stroke-width="${s}"
            stroke-linecap="butt"
            filter="url(#3d-separator-shadow-${e.id})"
          />
          <!-- Main segment with its own shadow for depth -->
          <path
            d="${r}"
            fill="none"
            stroke="${l.color}"
            stroke-width="${s}"
            stroke-linecap="butt"
            filter="url(#3d-segment-shadow-${e.id})"
          />
        `)}}return o.JW`${u}`}renderNeonGlowAtEnd(e,t,i,a,n,r,s,l,d){const c=e.min_value||0,p=(l-c)/((e.max_value||100)-c)*100,u=Math.min(Math.max(p,0),100);if(u<=0)return o.JW``;const g=n+(r-n)*u/100,m=this.polarToCartesian(t,i,a,g),h=`neon-glow-radial-${e.id}-${Date.now()}`;return o.JW`
      <defs>
        <radialGradient id="${h}">
          <stop offset="0%" stop-color="${d}" stop-opacity="1" />
          <stop offset="30%" stop-color="${d}" stop-opacity="0.8" />
          <stop offset="50%" stop-color="${d}" stop-opacity="0.4" />
          <stop offset="70%" stop-color="${d}" stop-opacity="0.15" />
          <stop offset="100%" stop-color="${d}" stop-opacity="0" />
        </radialGradient>
      </defs>
      
      <!-- Outer soft glow halo -->
      <circle
        cx="${m.x}"
        cy="${m.y}"
        r="${2*s}"
        fill="url(#${h})"
        opacity="0.6"
      />
      
      <!-- Middle glow layer -->
      <circle
        cx="${m.x}"
        cy="${m.y}"
        r="${1.2*s}"
        fill="url(#${h})"
        opacity="0.8"
      />
      
      <!-- Bright inner core -->
      <circle
        cx="${m.x}"
        cy="${m.y}"
        r="${.5*s}"
        fill="${d}"
        opacity="1"
        style="filter: brightness(1.5);"
      />
    `}renderGradientDefs(e){if("gradient"!==e.gauge_color_mode||!e.gradient_stops||0===e.gradient_stops.length)return o.JW``;e.gradient_display_mode;const t=[...e.gradient_stops].sort(((e,t)=>e.position-t.position)),i=`gradient-${e.id}`;return o.JW`
      <defs>
        <linearGradient id="${i}" x1="0%" y1="0%" x2="100%" y2="0%">
          ${t.map((e=>o.JW`
            <stop offset="${e.position}%" stop-color="${e.color}" />
          `))}
        </linearGradient>
      </defs>
    `}renderSegmentedCircle(e,t,i,a,n,r,s=!1){if(!e.segments||0===e.segments.length)return o.JW``;const l=e.min_value||0,d=e.max_value||100,c=2*Math.PI*a,p=[],u=[...e.segments].sort(((e,t)=>e.from-t.from));for(const e of u){const u=(e.from-l)/(d-l)*100,g=(e.to-l)/(d-l)*100;if(s){if(g>u){const r=(g-u)/100*c,s=c-u/100*c-r;p.push(o.JW`
            <circle
              cx="${t}"
              cy="${i}"
              r="${a}"
              fill="none"
              stroke="${e.color}"
              stroke-width="${n}"
              stroke-linecap="round"
              stroke-dasharray="${r} ${c-r}"
              stroke-dashoffset="${s}"
              transform="rotate(-90 ${t} ${i})"
            />
          `)}}else{const s=(r-l)/(d-l)*100;if(u<=s){const r=Math.min(g,s);if(r>u){const s=(r-u)/100*c,l=c-u/100*c-s;p.push(o.JW`
              <circle
                cx="${t}"
                cy="${i}"
                r="${a}"
                fill="none"
                stroke="${e.color}"
                stroke-width="${n}"
                stroke-linecap="butt"
                stroke-dasharray="${s} ${c-s}"
                stroke-dashoffset="${l}"
                transform="rotate(-90 ${t} ${i})"
              />
            `)}}}}return o.JW`${p}`}describeArc(e,t,i,o,a){const n=this.polarToCartesian(e,t,i,a),r=this.polarToCartesian(e,t,i,o),s=a-o<=180?"0":"1";return["M",n.x,n.y,"A",i,i,0,s,0,r.x,r.y].join(" ")}polarToCartesian(e,t,i,o){const a=(o-90)*Math.PI/180;return{x:e+i*Math.cos(a),y:t+i*Math.sin(a)}}getContainerStyles(e){return["display: flex","flex-direction: column","align-items: center","justify-content: center","width: 100%"].join("; ")}getNameStyles(e){const t=[`font-size: ${e.name_font_size||16}px`,`color: ${e.name_color||"var(--secondary-text-color)"}`,"font-weight: 500","text-align: center"],i=e.name_x_offset||0,o=e.name_y_offset||0;return"top"===e.name_position?(t.push("margin-top: 0"),t.push("margin-bottom: 8px"),t.push(`transform: translateX(${i}px) translateY(${o}px)`)):"bottom"===e.name_position?(t.push("margin-top: 8px"),t.push("margin-bottom: 0"),t.push(`transform: translateX(${i}px) translateY(${o}px)`)):(t.push("margin: 8px 0"),t.push(`transform: translateX(${i}px) translateY(${o}px)`)),t.join("; ")}getValueStyles(e){const t=[`font-size: ${e.value_font_size||24}px`,`color: ${e.value_color||"var(--primary-text-color)"}`,"font-weight: 600","text-align: center"],i=e.gauge_size||200,o=e.value_x_offset||0,a=e.value_y_offset||0;if("center"===e.value_position)t.push("position: absolute"),t.push("top: 50%"),t.push("left: 50%"),t.push(`transform: translate(${-50+o}%, ${-50+a}%)`);else if("top"===e.value_position){let n=16;"minimal"===e.gauge_style&&(n=i/2-20),t.push("position: absolute"),t.push(`top: ${n+a}px`),t.push(`left: ${50+o}%`),t.push("transform: translateX(-50%)"),t.push("z-index: 10")}else if("bottom"===e.value_position){let n=16;"speedometer"===e.gauge_style||"arc"===e.gauge_style?n=32:"radial"===e.gauge_style?n=i/2+16:"minimal"===e.gauge_style?n=i/2-20:"digital"===e.gauge_style&&(n=40),t.push("position: absolute"),t.push(`bottom: ${n-a}px`),t.push(`left: ${50+o}%`),t.push("transform: translateX(-50%)"),t.push("z-index: 10")}return t.join("; ")}validate(e){const t=e,i=[...super.validate(e).errors];return t.entity&&""!==t.entity.trim()||i.push("Entity is required"),void 0!==t.min_value&&void 0!==t.max_value&&t.min_value>=t.max_value&&i.push("Minimum value must be less than maximum value"),"attribute"===t.value_type&&(t.value_attribute_entity&&t.value_attribute_name||i.push("Attribute entity and attribute name are required when using attribute value type")),"template"===t.value_type&&(t.value_template&&""!==t.value_template.trim()||i.push("Template is required when using template value type")),{valid:0===i.length,errors:i}}getStyles(){return"\n      .uc-gauge-container {\n        position: relative;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n      }\n      \n      .uc-gauge-wrapper {\n        position: relative;\n        display: inline-block;\n      }\n      \n      .uc-gauge-svg {\n        display: block;\n      }\n      \n      .uc-gauge-value-center {\n        pointer-events: none;\n      }\n      \n      .uc-gauge-value-bottom,\n      .uc-gauge-name {\n        width: 100%;\n        text-align: center;\n      }\n      \n      .uc-gauge-clickable {\n        cursor: pointer;\n      }\n    "}}},796:(e,t,i)=>{i.d(t,{K:()=>r});var o=i(5183),a=i(9811),n=i(456);class r{static render(e,t,i,a){var s,l,d,c;const p=(null===(s=e.locale)||void 0===s?void 0:s.language)||"en",u=a||(0,n.kg)("editor.actions.title",p,"Link Configuration");return o.qy`
      <div class="ultra-link-config">
        <style>
          .ultra-link-config {
            padding: 16px;
          }

          .field-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
          }

          .field-description {
            font-size: 13px;
            font-weight: 400;
            margin-bottom: 16px;
            color: var(--secondary-text-color);
            line-height: 1.4;
          }

          .behavior-group {
            margin-bottom: 24px;
          }

          /* Hide unwanted form elements */
          .ultra-link-config ha-form {
            display: block;
            margin: 0;
            padding: 0;
          }

          /* Hide redundant labels */
          .ultra-link-config ha-form .mdc-form-field > label,
          .ultra-link-config ha-form .mdc-text-field > label,
          .ultra-link-config ha-form .mdc-floating-label,
          .ultra-link-config ha-form .mdc-notched-outline__leading,
          .ultra-link-config ha-form .mdc-notched-outline__notch,
          .ultra-link-config ha-form .mdc-notched-outline__trailing,
          .ultra-link-config ha-form .mdc-floating-label--float-above,
          .ultra-link-config ha-form label[for],
          .ultra-link-config ha-form .ha-form-label,
          .ultra-link-config ha-form .form-label {
            display: none !important;
          }

          /* Hide labels containing underscores */
          .ultra-link-config ha-form label[data-label*='_'],
          .ultra-link-config ha-form .label-text:contains('_'),
          .ultra-link-config label:contains('_') {
            display: none !important;
          }

          /* Additional safeguards for underscore labels */
          .ultra-link-config ha-form .mdc-text-field-character-counter,
          .ultra-link-config ha-form .mdc-text-field-helper-text,
          .ultra-link-config ha-form mwc-formfield,
          .ultra-link-config ha-form .formfield {
            display: none !important;
          }
        </style>

        <div class="field-title" style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">
          ${u}
        </div>
        <div
          class="field-description"
          style="font-size: 13px; font-weight: 400; margin-bottom: 16px; color: var(--secondary-text-color);"
        >
          ${(0,n.kg)("editor.actions.description",p,"Configure what happens when users interact with this element. Choose different actions for tap, hold, and double-tap gestures.")}
        </div>

        <!-- Tap Behavior -->
        <div class="tap-behavior-group" style="margin-bottom: 24px;">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,n.kg)("editor.actions.tap_behavior",p,"Tap Behavior")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
          >
            ${(0,n.kg)("editor.actions.tap_behavior_desc",p,"Action to perform when the element is tapped/clicked.")}
          </div>
          ${r.renderCleanForm(e,{action:(null===(l=t.tap_action)||void 0===l?void 0:l.action)||"default"},[{name:"action",selector:{select:{options:[{value:"nothing",label:"Nothing"},{value:"more-info",label:"More info"},{value:"toggle",label:"Toggle"},{value:"navigate",label:"Navigate"},{value:"url",label:"URL"},{value:"perform-action",label:"Perform action"},{value:"assist",label:"Assist"}],mode:"dropdown"}}}],(e=>{const o=Object.assign(Object.assign({},t.tap_action),{action:e.detail.value.action});i({tap_action:o})}))}
          ${r.renderActionFields(e,t.tap_action||{action:"nothing"},(e=>{const o=Object.assign(Object.assign({},t.tap_action),e);i({tap_action:o})}))}
        </div>

        <!-- Hold Behavior -->
        <div class="hold-behavior-group" style="margin-bottom: 24px;">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,n.kg)("editor.actions.hold_behavior",p,"Hold Behavior")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
          >
            ${(0,n.kg)("editor.actions.hold_behavior_desc",p,"Action to perform when the element is pressed and held.")}
          </div>
          ${r.renderCleanForm(e,{action:(null===(d=t.hold_action)||void 0===d?void 0:d.action)||"default"},[{name:"action",selector:{select:{options:[{value:"nothing",label:"Nothing"},{value:"more-info",label:"More info"},{value:"toggle",label:"Toggle"},{value:"navigate",label:"Navigate"},{value:"url",label:"URL"},{value:"perform-action",label:"Perform action"},{value:"assist",label:"Assist"}],mode:"dropdown"}}}],(e=>{const o=Object.assign(Object.assign({},t.hold_action),{action:e.detail.value.action});i({hold_action:o})}))}
          ${r.renderActionFields(e,t.hold_action||{action:"nothing"},(e=>{const o=Object.assign(Object.assign({},t.hold_action),e);i({hold_action:o})}))}
        </div>

        <!-- Double Tap Behavior -->
        <div class="double-tap-behavior-group">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,n.kg)("editor.actions.double_tap_behavior",p,"Double Tap Behavior")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
          >
            ${(0,n.kg)("editor.actions.double_tap_behavior_desc",p,"Action to perform when the element is double-tapped/clicked.")}
          </div>
          ${r.renderCleanForm(e,{action:(null===(c=t.double_tap_action)||void 0===c?void 0:c.action)||"default"},[{name:"action",selector:{select:{options:[{value:"nothing",label:"Nothing"},{value:"more-info",label:"More info"},{value:"toggle",label:"Toggle"},{value:"navigate",label:"Navigate"},{value:"url",label:"URL"},{value:"perform-action",label:"Perform action"},{value:"assist",label:"Assist"}],mode:"dropdown"}}}],(e=>{const o=Object.assign(Object.assign({},t.double_tap_action),{action:e.detail.value.action});i({double_tap_action:o})}))}
          ${r.renderActionFields(e,t.double_tap_action||{action:"nothing"},(e=>{const o=Object.assign(Object.assign({},t.double_tap_action),e);i({double_tap_action:o})}))}
        </div>
      </div>
    `}static renderCleanForm(e,t,i,a){return o.qy`
      <div class="ultra-clean-form">
        <ha-form .hass=${e} .data=${t} .schema=${i} @value-changed=${a}></ha-form>
      </div>
    `}static renderActionFields(e,t,i){switch(t.action){case"default":break;case"more-info":case"toggle":return o.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              Entity
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Select the entity to
              ${"more-info"===t.action?"show more info for":"toggle"}.
            </div>
            ${r.renderCleanForm(e,{entity:t.entity||""},[{name:"entity",selector:{entity:{}},label:"Entity"}],(e=>i({entity:e.detail.value.entity})))}
          </div>
        `;case"navigate":return o.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              Navigation Path
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Choose where to navigate or enter a custom path (e.g., /lovelace/dashboard).
            </div>
            ${r.renderNavigationPicker(e,t.navigation_path||"",(e=>i({navigation_path:e})))}
          </div>
        `;case"url":return o.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              URL Path
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Enter the URL to navigate to (e.g., https://www.example.com).
            </div>
            ${r.renderCleanForm(e,{url_path:t.url_path||""},[{name:"url_path",selector:{text:{}}}],(e=>i({url_path:e.detail.value.url_path})))}
          </div>
        `;case"perform-action":return o.qy`
          <div style="margin-top: 16px;">
            <div class="field-title" style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">
              Service
            </div>
            <div
              class="field-description"
              style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
            >
              Choose the service to call or enter a custom service.
            </div>
            ${r.renderCleanForm(e,{service:t.service||""},[{name:"service",selector:{select:{options:[{value:"homeassistant.restart",label:"Restart Home Assistant"},{value:"homeassistant.stop",label:"Stop Home Assistant"},{value:"homeassistant.reload_core_config",label:"Reload Core Config"},{value:"homeassistant.reload_config_entry",label:"Reload Config Entry"},{value:"homeassistant.update_entity",label:"Update Entity"},{value:"system_log.clear",label:"Clear System Log"},{value:"recorder.purge",label:"Purge Recorder"},{value:"hassio.host_reboot",label:"Reboot Host System"},{value:"hassio.host_shutdown",label:"Shutdown Host System"},{value:"light.turn_on",label:"Turn On Light"},{value:"light.turn_off",label:"Turn Off Light"},{value:"light.toggle",label:"Toggle Light"},{value:"switch.turn_on",label:"Turn On Switch"},{value:"switch.turn_off",label:"Turn Off Switch"},{value:"switch.toggle",label:"Toggle Switch"},{value:"climate.set_temperature",label:"Set Temperature"},{value:"climate.turn_on",label:"Turn On Climate"},{value:"climate.turn_off",label:"Turn Off Climate"},{value:"media_player.play_media",label:"Play Media"},{value:"media_player.media_play",label:"Media Play"},{value:"media_player.media_pause",label:"Media Pause"},{value:"media_player.media_stop",label:"Media Stop"},{value:"media_player.volume_set",label:"Set Volume"},{value:"automation.trigger",label:"Trigger Automation"},{value:"automation.turn_on",label:"Enable Automation"},{value:"automation.turn_off",label:"Disable Automation"},{value:"script.turn_on",label:"Run Script"},{value:"scene.turn_on",label:"Activate Scene"},{value:"cover.open_cover",label:"Open Cover"},{value:"cover.close_cover",label:"Close Cover"},{value:"cover.toggle",label:"Toggle Cover"},{value:"lock.lock",label:"Lock"},{value:"lock.unlock",label:"Unlock"},{value:"notify.persistent_notification",label:"Send Notification"},{value:"input_boolean.toggle",label:"Toggle Input Boolean"},{value:"input_select.select_option",label:"Select Input Option"},{value:"custom",label:"Custom Service..."}],mode:"dropdown",custom_value:!0}}}],(e=>{var t;const o=(null===(t=e.detail.value)||void 0===t?void 0:t.service)||e.detail.value;i({service:o})}))}

            <div style="margin-top: 12px;">
              <div
                class="field-title"
                style="font-size: 14px; font-weight: 600; margin-bottom: 4px;"
              >
                Target Entity (optional)
              </div>
              <div
                class="field-description"
                style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
              >
                Choose an entity to target with this service call.
              </div>
              ${r.renderCleanForm(e,{entity:t.entity||""},[{name:"entity",selector:{entity:{}},label:"Entity"}],(e=>{var t;const o=(null===(t=e.detail.value)||void 0===t?void 0:t.entity)||e.detail.value;i({entity:o})}))}
            </div>

            <div style="margin-top: 12px;">
              <div
                class="field-title"
                style="font-size: 14px; font-weight: 600; margin-bottom: 4px;"
              >
                Service Data (optional)
              </div>
              <div
                class="field-description"
                style="font-size: 12px; font-weight: 400; margin-bottom: 8px; color: var(--secondary-text-color);"
              >
                Enter service data as YAML (e.g., entity_id: light.living_room).
              </div>
              ${r.renderCleanForm(e,{service_data:t.service_data?JSON.stringify(t.service_data,null,2):""},[{name:"service_data",selector:{text:{multiline:!0,type:"text"}}}],(e=>{try{const t=e.detail.value.service_data?JSON.parse(e.detail.value.service_data):void 0;i({service_data:t})}catch(e){}}))}
            </div>
          </div>
        `;default:return o.qy``}}static renderNavigationPicker(e,t,i){const o=[{value:"/lovelace",label:"Overview (/lovelace)"},{value:"/config",label:"Settings (/config)"},{value:"/config/dashboard",label:"Dashboards (/config/dashboard)"},{value:"/config/entities",label:"Entities (/config/entities)"},{value:"/config/devices",label:"Devices (/config/devices)"},{value:"/config/automations",label:"Automations (/config/automations)"},{value:"/config/scripts",label:"Scripts (/config/scripts)"},{value:"/config/scenes",label:"Scenes (/config/scenes)"},{value:"/developer-tools",label:"Developer Tools (/developer-tools)"},...Object.keys(e.panels).filter((t=>e.panels[t].url_path||"lovelace"===t)).map((t=>({value:e.panels[t].url_path||`/lovelace/${t}`,label:`${e.panels[t].title||t} (${e.panels[t].url_path||`/lovelace/${t}`})`})))];return r.renderCleanForm(e,{navigation_path:t},[{name:"navigation_path",selector:{select:{options:[{value:"",label:"Custom path..."},...o],mode:"dropdown",custom_value:!0}}}],(e=>i(e.detail.value.navigation_path)))}static getDefaultConfig(){return{tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"}}}static handleAction(e,t,i,o){if(!1!==(null==o?void 0:o.haptic_feedback)&&"nothing"!==e.action&&"default"!==e.action)switch(e.action){case"toggle":(0,a.forwardHaptic)("light");break;case"more-info":case"navigate":case"url":default:(0,a.forwardHaptic)("selection");break;case"perform-action":case"assist":(0,a.forwardHaptic)("medium")}const n=e.service||e.perform_action;switch(e.action){case"more-info":if(e.entity){const t=new CustomEvent("hass-more-info",{bubbles:!0,composed:!0,detail:{entityId:e.entity}});null==i||i.dispatchEvent(t)}break;case"toggle":if(e.entity)t.callService("homeassistant","toggle",{entity_id:e.entity});else if(e.target){const i={};e.target.entity_id&&(i.entity_id=e.target.entity_id),e.target.device_id&&(i.device_id=e.target.device_id),e.target.area_id&&(i.area_id=e.target.area_id),e.target.floor_id&&(i.floor_id=e.target.floor_id),e.target.label_id&&(i.label_id=e.target.label_id),t.callService("homeassistant","toggle",i)}break;case"navigate":if(e.navigation_path){window.history.pushState(null,"",e.navigation_path);const t=new CustomEvent("location-changed",{bubbles:!0,composed:!0,detail:{replace:!1}});window.dispatchEvent(t)}break;case"url":e.url_path&&window.open(e.url_path,"_blank");break;case"perform-action":if(n){const[i,o]=n.split(".");if(i&&o){let a=Object.assign({},e.data||e.service_data);e.entity&&!a.entity_id&&(a.entity_id=e.entity),e.target&&(e.target.entity_id&&!a.entity_id&&(a.entity_id=e.target.entity_id),e.target.device_id&&!a.device_id&&(a.device_id=e.target.device_id),e.target.area_id&&!a.area_id&&(a.area_id=e.target.area_id),e.target.floor_id&&!a.floor_id&&(a.floor_id=e.target.floor_id),e.target.label_id&&!a.label_id&&(a.label_id=e.target.label_id));try{t.callService(i,o,a)}catch(e){console.error(` Ultra Card: Failed to execute service ${n}:`,e)}}else console.warn(` Ultra Card: Invalid service format "${n}". Expected format: domain.service`)}else console.warn(" Ultra Card: No service specified for perform-action",{action:e,serviceProperty:e.service,performActionProperty:e.perform_action});break;case"assist":const o=new CustomEvent("hass-assist",{bubbles:!0,composed:!0});null==i||i.dispatchEvent(o)}}}},866:(e,t,i)=>{i.d(t,{m:()=>l});var o=i(5183),a=i(9662),n=i(3063),r=i(2371),s=i(5575);class l{constructor(){this.renderUcForm=(e,t,i,o,a=!0)=>s.U.renderForm(e,t,i,o,a),this.renderFieldSection=(e,t,i,o,a,n)=>s.U.renderFieldSection(e,t,i,o,a,n),this.renderSettingsSection=(e,t,i)=>s.U.renderSettingsSection(e,t,i),this.injectUcFormStyles=()=>s.U.injectCleanFormStyles(),this.entityField=s.U.entity,this.textField=s.U.text,this.selectField=s.U.select,this.iconField=s.U.icon,this.booleanField=s.U.boolean,this.numberField=s.U.number,this.colorField=s.U.color,this.gridField=s.U.grid,this.expandableField=s.U.expandable}renderActionsTab(e,t,i,o,n){return a.A.render(e,t,(e=>o(e)))}renderOtherTab(e,t,i,o){return r.X.render(e,t,(e=>o(e)))}renderDesignTab(e,t,i,o){return n.T.render(e,t,(e=>o(e)))}validate(e){const t=[];return e.id||t.push("Module ID is required"),e.type||t.push("Module type is required"),{valid:0===t.length,errors:t}}generateId(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}renderFormField(e,t,i){return o.qy`
      <div class="form-field">
        <label class="form-label">${e}</label>
        ${t} ${i?o.qy`<div class="form-description">${i}</div>`:""}
      </div>
    `}renderColorPicker(e,t,i,a){return this.renderFormField(e,o.qy`
        <input
          type="color"
          .value=${t||"#000000"}
          @change=${e=>i(e.target.value)}
        />
      `,a)}renderNumberInput(e,t,i,a={},n){var r;const s=null!==(r=a.defaultValue)&&void 0!==r?r:0;return this.renderFormField(e,o.qy`
        <input
          type="number"
          .value=${null!=t?t:""}
          placeholder=${s.toString()}
          min=${a.min||0}
          max=${a.max||1e3}
          step=${a.step||1}
          @input=${e=>{const t=e.target.value.trim();i(""===t?s:Number(t))}}
        />
      `,n)}renderTextInput(e,t,i,a,n){return this.renderFormField(e,o.qy`
        <input
          type="text"
          .value=${t||""}
          placeholder=${a||""}
          @input=${e=>i(e.target.value)}
        />
      `,n)}renderEntityPicker(e,t,i,a,n,r,s){return this.renderFormField("",o.qy`
        <ha-form
          .hass=${a}
          .data=${{entity:t||""}}
          .schema=${[{name:"entity",selector:{entity:{}},label:e,description:r||""}]}
          .computeLabel=${e=>e.label||e.name}
          .computeDescription=${e=>e.description||""}
          @value-changed=${e=>i(e.detail.value.entity)}
        ></ha-form>
      `,"")}renderTextArea(e,t,i,a,n){return this.renderFormField(e,o.qy`
        <textarea
          .value=${t||""}
          placeholder=${a||""}
          rows="3"
          @input=${e=>i(e.target.value)}
        ></textarea>
      `,n)}renderSelect(e,t,i,a,n){return this.renderFormField(e,o.qy`
        <select
          .value=${t||""}
          @change=${e=>a(e.target.value)}
        >
          ${i.map((e=>o.qy`<option value="${e.value}">${e.label}</option>`))}
        </select>
      `,n)}renderCheckbox(e,t,i,a){return this.renderFormField("",o.qy`
        <label class="checkbox-wrapper">
          <input
            type="checkbox"
            .checked=${t||!1}
            @change=${e=>i(e.target.checked)}
          />
          ${e}
        </label>
      `,a)}renderConditionalFieldsGroup(e,t){return o.qy`
      <div class="conditional-fields-group">
        <div class="conditional-fields-header">${e}</div>
        <div class="conditional-fields-content">${t}</div>
      </div>
    `}triggerPreviewUpdate(){const e=new CustomEvent("ultra-card-template-update",{bubbles:!0,composed:!0});window.dispatchEvent(e)}}},884:(e,t,i)=>{i.d(t,{Y:()=>g});var o=i(5183),a=i(866),n=(i(6768),i(796)),r=i(7987),s=i(8914),l=i(3063),d=i(2371),c=i(456),p=i(1281),u=i(2381);class g extends a.m{constructor(){super(...arguments),this.metadata={type:"image",title:"Images",description:"Display images and photos",author:"WJD Designs",version:"1.0.0",icon:"mdi:image",category:"media",tags:["image","picture","media","photo"]}}createDefault(e){return{id:e||this.generateId("image"),type:"image",image_type:"default",image_url:"",entity:"",image_entity:"",image_attribute:"",width:"100%",height:"200px",aspect_ratio:"auto",object_fit:"contain",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},filter_blur:0,filter_brightness:100,filter_contrast:100,filter_saturate:100,filter_hue_rotate:0,filter_opacity:100,rotation:0,border_radius:0,box_shadow:"none",hover_enabled:!1,hover_effect:"scale",hover_scale:105,hover_rotate:5,hover_opacity:90,hover_blur:0,hover_brightness:110,hover_shadow:"none",hover_translate_x:0,hover_translate_y:0,hover_transition:300,display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const r=e,l=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${s.Q.injectCleanFormStyles()}
      <div class="module-general-settings">
        <!-- Image Settings -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.image.settings",l,"Image Settings")}
          </div>

          <!-- Image Source Type -->
          ${this.renderFieldSection((0,c.kg)("editor.image.source_type",l,"Image Source Type"),(0,c.kg)("editor.image.source_type_desc",l,"Choose how you want to specify the image source."),t,{image_type:r.image_type||"default"},[this.selectField("image_type",[{value:"default",label:(0,c.kg)("editor.image.source.default",l,"Default Image")},{value:"url",label:(0,c.kg)("editor.image.source.url",l,"Image URL")},{value:"upload",label:(0,c.kg)("editor.image.source.upload",l,"Upload Image")},{value:"entity",label:(0,c.kg)("editor.image.source.entity",l,"Entity Image")},{value:"attribute",label:(0,c.kg)("editor.image.source.attribute",l,"Entity Attribute")}])],(e=>{const t=e.detail.value.image_type;t!==(r.image_type||"default")&&(a({image_type:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}

          <!-- URL Image Source -->
          ${"url"===r.image_type?this.renderConditionalFieldsGroup((0,c.kg)("editor.image.url_section.title",l,"Image URL Configuration"),o.qy`
                  ${s.Q.renderField((0,c.kg)("editor.image.image_url",l,"Image URL"),(0,c.kg)("editor.image.image_url_desc",l,"Enter the direct URL to the image you want to display."),t,{image_url:r.image_url||""},[s.Q.createSchemaItem("image_url",{text:{}})],(e=>a({image_url:e.detail.value.image_url})))}
                `):""}

          <!-- Upload Image Source -->
          ${"upload"===r.image_type?this.renderConditionalFieldsGroup((0,c.kg)("editor.image.upload_section.title",l,"Upload Image Configuration"),o.qy`
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,c.kg)("editor.image.upload",l,"Upload Image")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                  >
                    ${(0,c.kg)("editor.image.upload_desc",l,"Click to upload an image file from your device.")}
                  </div>
                  <input
                    type="file"
                    accept="image/*"
                    style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                    @change=${e=>this.handleFileUpload(e,a,t)}
                  />
                `):""}

          <!-- Entity Image Source -->
          ${"entity"===r.image_type?this.renderConditionalFieldsGroup((0,c.kg)("editor.image.entity_section.title",l,"Entity Image Configuration"),o.qy`
                  ${s.Q.renderField((0,c.kg)("editor.image.entity",l,"Entity"),(0,c.kg)("editor.image.entity_desc",l,"Select an entity that has an image (e.g., person, camera entities)."),t,{image_entity:r.image_entity||""},[s.Q.createSchemaItem("image_entity",{entity:{}})],(e=>{const t=e.detail.value.image_entity;t!==(r.image_entity||"")&&a({image_entity:t})}))}
                `):""}

          <!-- Attribute Image Source -->
          ${"attribute"===r.image_type?this.renderConditionalFieldsGroup((0,c.kg)("editor.image.attribute_section.title",l,"Entity Attribute Configuration"),o.qy`
                  ${s.Q.renderField((0,c.kg)("editor.image.entity",l,"Entity"),(0,c.kg)("editor.image.entity_attr_desc",l,"Select the entity that contains the image URL in one of its attributes."),t,{image_entity:r.image_entity||""},[s.Q.createSchemaItem("image_entity",{entity:{}})],(e=>{const t=e.detail.value.image_entity;t!==(r.image_entity||"")&&a({image_entity:t})}))}

                  <div style="margin-top: 16px;">
                    ${s.Q.renderField((0,c.kg)("editor.image.attribute_name",l,"Attribute Name"),(0,c.kg)("editor.image.attribute_name_desc",l,"Enter the attribute path that contains the image URL (dot notation supported, e.g., vehicle_data.vehicleDetails.generalDashboard)."),t,{image_attribute:r.image_attribute||""},[s.Q.createSchemaItem("image_attribute",{text:{}})],(e=>a({image_attribute:e.detail.value.image_attribute})))}
                  </div>
                `):""}

          <div class="field-group" style="margin-bottom: 16px; margin-top: 32px;">
            ${s.Q.renderField((0,c.kg)("editor.image.width",l,"Width"),(0,c.kg)("editor.image.width_desc",l,"Set the width (supports px, %, em, rem, vw, vh, etc.)."),t,{width:r.width||"100%"},[s.Q.createSchemaItem("width",{text:{}})],(e=>a({width:e.detail.value.width})))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${s.Q.renderField((0,c.kg)("editor.image.height",l,"Height"),(0,c.kg)("editor.image.height_desc",l,"Set the height (supports px, %, em, rem, vw, vh, etc.)."),t,{height:r.height||"200px"},[s.Q.createSchemaItem("height",{text:{}})],(e=>a({height:e.detail.value.height})))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,c.kg)("editor.image.aspect_ratio",l,"Aspect Ratio"),(0,c.kg)("editor.image.aspect_ratio_desc",l,"Set the aspect ratio of the image container."),t,{aspect_ratio:r.aspect_ratio||"auto"},[this.selectField("aspect_ratio",[{value:"auto",label:(0,c.kg)("editor.image.aspect.auto",l,"Auto (use height setting)")},{value:"1/1",label:(0,c.kg)("editor.image.aspect.square",l,"Square (1:1)")},{value:"4/3",label:(0,c.kg)("editor.image.aspect.standard",l,"Standard (4:3)")},{value:"3/2",label:(0,c.kg)("editor.image.aspect.photo",l,"Photo (3:2)")},{value:"16/9",label:(0,c.kg)("editor.image.aspect.widescreen",l,"Widescreen (16:9)")},{value:"21/9",label:(0,c.kg)("editor.image.aspect.ultrawide",l,"Ultrawide (21:9)")},{value:"2/3",label:(0,c.kg)("editor.image.aspect.portrait",l,"Portrait (2:3)")},{value:"9/16",label:(0,c.kg)("editor.image.aspect.mobile",l,"Mobile (9:16)")}])],(e=>{const t=e.detail.value.aspect_ratio;t!==(r.aspect_ratio||"auto")&&(a({aspect_ratio:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,c.kg)("editor.image.crop_fit",l,"Crop & Fit"),(0,c.kg)("editor.image.crop_fit_desc",l,"Control how the image fits within its container."),t,{object_fit:r.object_fit||"cover"},[this.selectField("object_fit",[{value:"cover",label:(0,c.kg)("editor.image.fit.cover",l,"Cover (crop to fill)")},{value:"contain",label:(0,c.kg)("editor.image.fit.contain",l,"Contain (fit entire image)")},{value:"fill",label:(0,c.kg)("editor.image.fit.fill",l,"Fill (stretch to fit)")},{value:"scale-down",label:(0,c.kg)("editor.image.fit.scale_down",l,"Scale Down")},{value:"none",label:(0,c.kg)("editor.image.fit.none",l,"None (original size)")}])],(e=>{const t=e.detail.value.object_fit;t!==(r.object_fit||"cover")&&(a({object_fit:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${s.Q.renderField((0,c.kg)("editor.image.border_radius",l,"Border Radius"),(0,c.kg)("editor.image.border_radius_desc",l,"Control the rounded corners of the image."),t,{border_radius:r.border_radius||8},[s.Q.createSchemaItem("border_radius",{number:{min:0,max:64,step:1}})],(e=>a({border_radius:e.detail.value.border_radius})))}
          </div>
        </div>

        <div
          class="settings-section"
          style="padding: 16px; border-radius: 8px; background: var(--secondary-background-color);"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px;"
          >
            ${(0,c.kg)("editor.image.filters",l,"Filters")}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${s.Q.renderField((0,c.kg)("editor.image.filter.blur",l,"Blur"),(0,c.kg)("editor.image.filter.blur_desc",l,"Apply a blur effect to your image."),t,{filter_blur:r.filter_blur||0},[s.Q.createSchemaItem("filter_blur",{number:{min:0,max:20,step:1}})],(e=>a({filter_blur:e.detail.value.filter_blur})))}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${s.Q.renderField((0,c.kg)("editor.image.filter.brightness",l,"Brightness (%)"),(0,c.kg)("editor.image.filter.brightness_desc",l,"Adjust the brightness of your image."),t,{filter_brightness:r.filter_brightness||100},[s.Q.createSchemaItem("filter_brightness",{number:{min:0,max:200,step:1}})],(e=>a({filter_brightness:e.detail.value.filter_brightness})))}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${s.Q.renderField((0,c.kg)("editor.image.filter.contrast",l,"Contrast (%)"),(0,c.kg)("editor.image.filter.contrast_desc",l,"Modify the contrast of your image."),t,{filter_contrast:r.filter_contrast||100},[s.Q.createSchemaItem("filter_contrast",{number:{min:0,max:200,step:1}})],(e=>a({filter_contrast:e.detail.value.filter_contrast})))}
          </div>
          <div class="field-group" style="margin-bottom: 16px;">
            ${s.Q.renderField((0,c.kg)("editor.image.filter.saturation",l,"Saturation (%)"),(0,c.kg)("editor.image.filter.saturation_desc",l,"Adjust the saturation of your image."),t,{filter_saturate:r.filter_saturate||100},[s.Q.createSchemaItem("filter_saturate",{number:{min:0,max:200,step:1}})],(e=>a({filter_saturate:e.detail.value.filter_saturate})))}
          </div>

          <div class="field-group">
            ${s.Q.renderField((0,c.kg)("editor.image.rotation",l,"Rotation ()"),(0,c.kg)("editor.image.rotation_desc",l,"Rotate the image clockwise (0-360 degrees)."),t,{rotation:r.rotation||0},[s.Q.createSchemaItem("rotation",{number:{min:0,max:360,step:1}})],(e=>a({rotation:e.detail.value.rotation})))}
          </div>
        </div>

        ${r.hover_enabled?o.qy`
              <div
                class="settings-section"
                style="padding: 16px; border-radius: 8px; background: var(--secondary-background-color);"
              >
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px;"
                >
                  ${(0,c.kg)("editor.image.hover.title",l,"Hover Effects")}
                </div>
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,c.kg)("editor.image.hover.effect_type",l,"Effect Type"),(0,c.kg)("editor.image.hover.effect_type_desc",l,"Choose the type of hover effect."),t,{effect:r.hover_effect||"scale"},[this.selectField("effect",[{value:"scale",label:(0,c.kg)("editor.image.hover.scale",l,"Scale (zoom in/out)")},{value:"rotate",label:(0,c.kg)("editor.image.hover.rotate",l,"Rotate")},{value:"fade",label:(0,c.kg)("editor.image.hover.fade",l,"Fade (opacity change)")},{value:"blur",label:(0,c.kg)("editor.image.hover.blur",l,"Blur")},{value:"brightness",label:(0,c.kg)("editor.image.hover.brightness",l,"Brightness")},{value:"glow",label:(0,c.kg)("editor.image.hover.glow",l,"Glow (box shadow)")},{value:"slide",label:(0,c.kg)("editor.image.hover.slide",l,"Slide (translate)")}])],(e=>{const t=e.detail.value.effect;t!==(r.hover_effect||"scale")&&(a({hover_effect:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
                </div>

                ${"scale"===r.hover_effect?o.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${s.Q.renderField((0,c.kg)("editor.image.hover.scale_amount",l,"Scale (%)"),(0,c.kg)("editor.image.hover.scale_amount_desc",l,"Adjust the scale of the image on hover."),t,{scale:r.hover_scale||105},[s.Q.createSchemaItem("scale",{number:{min:50,max:200,step:1}})],(e=>a({hover_scale:e.detail.value.scale})))}
                    </div>`:""}
                ${"rotate"===r.hover_effect?o.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${s.Q.renderField((0,c.kg)("editor.image.hover.rotate_amount",l,"Rotation ()"),(0,c.kg)("editor.image.hover.rotate_amount_desc",l,"Rotate the image on hover."),t,{rotate:r.hover_rotate||5},[s.Q.createSchemaItem("rotate",{number:{min:-45,max:45,step:1}})],(e=>a({hover_rotate:e.detail.value.rotate})))}
                    </div>`:""}
                ${"fade"===r.hover_effect?o.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${s.Q.renderField((0,c.kg)("editor.image.hover.opacity",l,"Opacity (%)"),(0,c.kg)("editor.image.hover.opacity_desc",l,"Change the opacity of the image on hover."),t,{opacity:r.hover_opacity||90},[s.Q.createSchemaItem("opacity",{number:{min:0,max:100,step:1}})],(e=>a({hover_opacity:e.detail.value.opacity})))}
                    </div>`:""}
                ${"blur"===r.hover_effect?o.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${s.Q.renderField((0,c.kg)("editor.image.hover.blur_amount",l,"Blur (px)"),(0,c.kg)("editor.image.hover.blur_amount_desc",l,"Apply a blur effect to the image on hover."),t,{blur:r.hover_blur||2},[s.Q.createSchemaItem("blur",{number:{min:0,max:20,step:1}})],(e=>a({hover_blur:e.detail.value.blur})))}
                    </div>`:""}
                ${"brightness"===r.hover_effect?o.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${s.Q.renderField((0,c.kg)("editor.image.hover.brightness_amount",l,"Brightness (%)"),(0,c.kg)("editor.image.hover.brightness_amount_desc",l,"Adjust the brightness of the image on hover."),t,{brightness:r.hover_brightness||110},[s.Q.createSchemaItem("brightness",{number:{min:0,max:200,step:1}})],(e=>a({hover_brightness:e.detail.value.brightness})))}
                    </div>`:""}
                ${"glow"===r.hover_effect?o.qy`<div class="field-group" style="margin-bottom: 16px;">
                      ${this.renderFieldSection((0,c.kg)("editor.image.hover.glow_intensity",l,"Glow Intensity"),(0,c.kg)("editor.image.hover.glow_intensity_desc",l,"Choose the intensity of the glow effect on hover."),t,{shadow:r.hover_shadow||"medium"},[this.selectField("shadow",[{value:"light",label:(0,c.kg)("editor.image.hover.glow_light",l,"Light Glow")},{value:"medium",label:(0,c.kg)("editor.image.hover.glow_medium",l,"Medium Glow")},{value:"heavy",label:(0,c.kg)("editor.image.hover.glow_heavy",l,"Heavy Glow")},{value:"custom",label:(0,c.kg)("editor.image.hover.glow_custom",l,"Custom Shadow")}])],(e=>{const t=e.detail.value.shadow;t!==(r.hover_shadow||"medium")&&(a({hover_shadow:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
                    </div>`:""}
                ${"slide"===r.hover_effect?o.qy`
                      <div class="field-group" style="margin-bottom: 16px;">
                        ${s.Q.renderField((0,c.kg)("editor.image.hover.translate_x",l,"Horizontal (px)"),(0,c.kg)("editor.image.hover.translate_x_desc",l,"Translate the image horizontally on hover."),t,{translate_x:r.hover_translate_x||0},[s.Q.createSchemaItem("translate_x",{number:{min:-100,max:100,step:1}})],(e=>a({hover_translate_x:e.detail.value.translate_x})))}
                      </div>
                      <div class="field-group" style="margin-bottom: 16px;">
                        ${s.Q.renderField((0,c.kg)("editor.image.hover.translate_y",l,"Vertical (px)"),(0,c.kg)("editor.image.hover.translate_y_desc",l,"Translate the image vertically on hover."),t,{translate_y:r.hover_translate_y||0},[s.Q.createSchemaItem("translate_y",{number:{min:-100,max:100,step:1}})],(e=>a({hover_translate_y:e.detail.value.translate_y})))}
                      </div>
                    `:""}
              </div>
            `:""}
      </div>
    `}renderPreview(e,t,i){var a,s,l,d,g,m,h,_,v,f,b,y,k,x;const w=e;let S="";switch(w.image_type){case"default":default:S=p.P2;break;case"url":case"upload":w.image_url&&(S=(0,u.V)(t,w.image_url));break;case"entity":if(w.image_entity&&(null==t?void 0:t.states[w.image_entity])){const e=t.states[w.image_entity];(null===(a=e.attributes)||void 0===a?void 0:a.entity_picture)?S=e.attributes.entity_picture:e.state&&e.state.startsWith("http")&&(S=e.state)}break;case"attribute":if(w.image_entity&&w.image_attribute&&(null==t?void 0:t.states[w.image_entity])){const e=t.states[w.image_entity],i=this.getAttributeByPath(e.attributes,w.image_attribute);i&&"string"==typeof i&&(S=i)}}const A=w.rotation||0,C=[];w.filter_blur&&w.filter_blur>0&&C.push(`blur(${w.filter_blur}px)`),w.filter_brightness&&100!==w.filter_brightness&&C.push(`brightness(${w.filter_brightness}%)`),w.filter_contrast&&100!==w.filter_contrast&&C.push(`contrast(${w.filter_contrast}%)`),w.filter_saturate&&100!==w.filter_saturate&&C.push(`saturate(${w.filter_saturate}%)`);const z=C.length>0?C.join(" "):"none";let T="";const I=w.hover_enabled?`${w.hover_transition||300}ms`:"none";if(w.hover_enabled)switch(w.hover_effect||"scale"){case"scale":T=`transform: scale(${(w.hover_scale||105)/100})${0!==A?` rotate(${A}deg)`:""};`;break;case"rotate":T=`transform: rotate(${A+(w.hover_rotate||5)}deg);`;break;case"fade":T=`opacity: ${(w.hover_opacity||90)/100};`;break;case"blur":T=`filter: blur(${w.hover_blur||2}px);`;break;case"brightness":T=`filter: brightness(${w.hover_brightness||110}%);`;break;case"glow":let e="";switch(w.hover_shadow||"medium"){case"light":e="0 0 10px rgba(var(--rgb-primary-color), 0.5)";break;case"medium":e="0 0 20px rgba(var(--rgb-primary-color), 0.7)";break;case"heavy":e="0 0 30px rgba(var(--rgb-primary-color), 1)";break;case"custom":e=w.hover_shadow||"0 0 20px rgba(var(--rgb-primary-color), 0.7)"}T=`box-shadow: ${e};`;break;case"slide":T=`transform: translate(${w.hover_translate_x||0}px, ${w.hover_translate_y||0}px)${0!==A?` rotate(${A}deg)`:""};`}let E=w.height||"200px",$="auto";w.aspect_ratio&&"auto"!==w.aspect_ratio&&($=w.aspect_ratio,E="auto");const P=w.design||{},j=this.getBorderWithDesign(P,w),B=this.addPixelUnit(null===(s=P.border_radius)||void 0===s?void 0:s.toString())||this.addPixelUnit(null===(l=w.border_radius)||void 0===l?void 0:l.toString())||"0",D=P.margin_left||(null===(g=null===(d=w.margin)||void 0===d?void 0:d.left)||void 0===g?void 0:g.toString())||w.margin_left||"auto",O=P.margin_right||(null===(h=null===(m=w.margin)||void 0===m?void 0:m.right)||void 0===h?void 0:h.toString())||w.margin_right||"auto",J=0!==A?`rotate(${A}deg)`:"",R=`\n      width: ${P.width||w.width||"100%"};\n      height: ${E};\n      aspect-ratio: ${$};\n      object-fit: ${w.object_fit||"cover"};\n      filter: ${z};\n      border: ${j};\n      border-radius: ${B};\n      transform: ${J};\n      transition: ${w.hover_enabled?`transform ${I} ease, filter ${I} ease, opacity ${I} ease, box-shadow ${I} ease`:"none"};\n      cursor: pointer;\n      display: block;\n      max-width: 100%;\n      max-height: 100%;\n      margin-left: ${D};\n      margin-right: ${O};\n    `,U=w.hover_enabled?T:"",M="auto"===D&&"auto"===O||"auto"===D||"auto"===O;let H="center";if(!M)switch(w.alignment){case"left":H="flex-start";break;case"center":H="center";break;case"right":H="flex-end"}const N={padding:P.padding_top||P.padding_bottom||P.padding_left||P.padding_right?`${this.addPixelUnit(P.padding_top)||"0px"} ${this.addPixelUnit(P.padding_right)||"0px"} ${this.addPixelUnit(P.padding_bottom)||"0px"} ${this.addPixelUnit(P.padding_left)||"0px"}`:"0",margin:P.margin_top||P.margin_bottom||D||O?`${P.margin_top||(null===(v=null===(_=w.margin)||void 0===_?void 0:_.top)||void 0===v?void 0:v.toString())||w.margin_top||"8px"} ${O} ${P.margin_bottom||(null===(b=null===(f=w.margin)||void 0===f?void 0:f.bottom)||void 0===b?void 0:b.toString())||w.margin_bottom||"8px"} ${D}`:"8px 0",background:P.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(P,t),backgroundSize:P.background_size||"cover",backgroundPosition:P.background_position||"center",backgroundRepeat:P.background_repeat||"no-repeat",position:P.position||"relative",top:P.top||"auto",bottom:P.bottom||"auto",left:P.left||"auto",right:P.right||"auto",zIndex:P.z_index||"auto",width:P.width||w.width||"100%",height:P.height||w.height||"auto",maxWidth:P.max_width||"100%",maxHeight:P.max_height||"none",minWidth:P.min_width||"none",minHeight:P.min_height||"auto",overflow:P.overflow||"visible",clipPath:P.clip_path||"none",backdropFilter:P.backdrop_filter||"none",boxShadow:P.box_shadow_h&&P.box_shadow_v?`${P.box_shadow_h||"0"} ${P.box_shadow_v||"0"} ${P.box_shadow_blur||"0"} ${P.box_shadow_spread||"0"} ${P.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};let L=null,F=null,K=!1,V=0,q=0;const Q=null===(y=w.design)||void 0===y?void 0:y.hover_effect,G=r.k.getHoverEffectClass(Q);return o.qy`
      <div class="image-module-container" style=${this.styleObjectToCss(N)}>
        <div class="image-module-preview">
          <!-- Image Container with Alignment -->
          <div
            style="display: ${M?"block":"flex"}; justify-content: ${H}; width: 100%;"
          >
            ${S?o.qy`
                  <img
                    src="${S}"
                    @error=${e=>{const t=e.currentTarget;t&&t.src!==p.aR&&(t.src=p.aR)}}
                    alt="${(0,c.kg)("editor.image.alt",(null===(k=null==t?void 0:t.locale)||void 0===k?void 0:k.language)||"en","Image")}"
                    style="${R}"
                    class="${G}"
                    data-hover-style="${U}"
                    @pointerdown=${e=>{K=!1,F=setTimeout((()=>{K=!0;const o=w.hold_action||{action:"nothing"};o&&"nothing"!==o.action&&n.K.handleAction(o,t,e.target,i)}),500)}}
                    @pointerup=${e=>{if(F&&(clearTimeout(F),F=null),K)return void(K=!1);const o=Date.now();if(o-q<300&&1===V){L&&(clearTimeout(L),L=null),V=0;const o=w.double_tap_action||{action:"nothing"};o&&"nothing"!==o.action&&n.K.handleAction(o,t,e.target,i)}else V=1,q=o,L=setTimeout((()=>{V=0;const o=w.tap_action||{action:"nothing"};o&&"nothing"!==o.action&&n.K.handleAction(o,t,e.target,i)}),300)}}
                  />
                `:o.qy`
                  <div
                    class="${G}"
                    style="
                      width: ${P.width||w.width||"100%"};
                      height: ${E};
                      aspect-ratio: ${$};
                      background: var(--secondary-background-color);
                      border: 2px dashed var(--divider-color);
                      border-radius: 0;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      color: var(--secondary-text-color);
                      font-size: 14px;
                      margin-left: ${D};
                      margin-right: ${O};
                    "
                  >
                    <div style="text-align: center;">
                      <ha-icon
                        icon="mdi:image-off"
                        style="font-size: 48px; margin-bottom: 8px; opacity: 0.5;"
                      ></ha-icon>
                      <div>
                        ${(0,c.kg)("editor.image.no_source",(null===(x=null==t?void 0:t.locale)||void 0===x?void 0:x.language)||"en","No image source configured")}
                      </div>
                    </div>
                  </div>
                `}
          </div>
        </div>
      </div>
    `}async handleFileUpload(e,t,i){var o;const a=null===(o=e.target.files)||void 0===o?void 0:o[0];if(a)try{t({image_url:await(0,u.m)(i,a),image_type:"upload"})}catch(e){console.error("Error uploading file:",e),alert(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}renderLogicTab(e,t,i,o){return d.X.render(e,t,(e=>o(e)))}renderDesignTab(e,t,i,o){return l.T.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];switch(t.image_type){case"url":t.image_url&&""!==t.image_url.trim()||i.push("Image URL is required when using URL type");break;case"upload":t.image_url&&""!==t.image_url.trim()||i.push("Uploaded image is required when using upload type");break;case"entity":t.image_entity&&""!==t.image_entity.trim()||i.push("Image entity is required when using entity type");break;case"attribute":t.image_entity&&""!==t.image_entity.trim()||i.push("Entity is required when using attribute type"),t.image_attribute&&""!==t.image_attribute.trim()||i.push("Attribute name is required when using attribute type")}return t.link_enabled&&!t.link_url&&i.push("Link URL is required when link is enabled"),t.width&&"number"==typeof t.width&&(t.width<1||t.width>100)&&i.push("Width must be between 1 and 100 percent"),t.height&&"number"==typeof t.height&&t.height<1&&i.push("Height must be at least 1 pixel"),{valid:0===i.length,errors:i}}getBackgroundImageCSS(e,t){var i,o;if(!e.background_image_type||"none"===e.background_image_type)return"none";switch(e.background_image_type){case"upload":case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const a=t.states[e.background_image_entity];let n="";if((null===(i=a.attributes)||void 0===i?void 0:i.entity_picture)?n=a.attributes.entity_picture:(null===(o=a.attributes)||void 0===o?void 0:o.image)?n=a.attributes.image:a.state&&"string"==typeof a.state&&(a.state.startsWith("/")||a.state.startsWith("http"))&&(n=a.state),n)return n.startsWith("/local/")||n.startsWith("/media/")||n.startsWith("/"),`url("${n}")`}}return"none"}getAttributeByPath(e,t){if(!e||!t)return;const i=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").filter(Boolean);let o=e;for(const e of i){if(null==o)return;o=o[e]}return o}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}getStyles(){return"\n      .image-module-preview {\n        max-width: 100%;\n        overflow: hidden;\n        box-sizing: border-box;\n      }\n\n\n\n      .image-module-preview img {\n        max-width: 100%;\n        height: auto;\n        display: block;\n      }\n\n      .image-module-preview img:hover {\n        transition: all 0.3s ease;\n      }\n\n      /* Let HA handle dropdown positioning naturally */\n      .module-general-settings {\n        overflow: visible;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Field styling - ensure vertical stacking, no columns */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n        \n        margin-bottom: 4px !important;\n        display: block !important;\n        width: 100% !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n        width: 100% !important;\n      }\n\n      .field-group {\n        display: flex !important;\n        flex-direction: column !important;\n        width: 100% !important;\n        margin-bottom: 16px !important;\n      }\n\n      .field-group ha-form {\n        width: 100% !important;\n        display: block !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n    "}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getBorderCSS(e){return e.border_style&&"none"!==e.border_style&&e.border_width?`${this.addPixelUnit(e.border_width)||"1px"} ${e.border_style} ${e.border_color||"var(--divider-color)"}`:"none"}getBorderWithDesign(e,t){return e.border_style&&"none"!==e.border_style&&e.border_width?`${this.addPixelUnit(e.border_width)||"1px"} ${e.border_style} ${e.border_color||"var(--divider-color)"}`:this.getBorderCSS(t)}}},927:(e,t,i)=>{i.d(t,{B:()=>a});class o{constructor(){this._favorites=[],this._listeners=new Set,this._loadFromStorage(),this._setupStorageListener()}getFavorites(){return[...this._favorites].sort(((e,t)=>new Date(t.created).getTime()-new Date(e.created).getTime()))}addFavorite(e,t,i,o=[]){const a=this._cloneRowWithNewIds(e),n={id:this._generateId(),name:t.trim(),description:null==i?void 0:i.trim(),row:a,created:(new Date).toISOString(),tags:o.map((e=>e.trim().toLowerCase())).filter(Boolean)};return this._favorites.push(n),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),n}removeFavorite(e){const t=this._favorites.findIndex((t=>t.id===e));return-1!==t&&(this._favorites[t],this._favorites.splice(t,1),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),!0)}updateFavorite(e,t){const i=this._favorites.findIndex((t=>t.id===e));return-1!==i&&(this._favorites[i]=Object.assign(Object.assign({},this._favorites[i]),t),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),!0)}getFavorite(e){return this._favorites.find((t=>t.id===e))}searchFavorites(e){const t=e.toLowerCase().trim();return t?this._favorites.filter((e=>{var i;return e.name.toLowerCase().includes(t)||(null===(i=e.description)||void 0===i?void 0:i.toLowerCase().includes(t))||e.tags.some((e=>e.includes(t)))})):this.getFavorites()}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}debugFavorites(){console.log("=== Ultra Card Favorites Debug Info ==="),console.log("Storage Key:",o.STORAGE_KEY),console.log("Current Favorites Count:",this._favorites.length),console.log("Listeners Count:",this._listeners.size),console.log("LocalStorage Available:",this._isLocalStorageAvailable());try{const e=localStorage.getItem(o.STORAGE_KEY);if(console.log("Raw Storage Data:",e?`${e.length} characters`:"null"),console.log("Storage Data Valid:",e?"Valid JSON":"No data"),e){const t=JSON.parse(e);console.log("Parsed Data Type:",Array.isArray(t)?"Array":typeof t),console.log("Parsed Data Length:",Array.isArray(t)?t.length:"N/A")}}catch(e){console.error("Storage Data Error:",e)}console.log("Favorites List:",this._favorites.map((e=>({id:e.id,name:e.name,created:e.created,tags:e.tags.length})))),console.log("=====================================")}_cloneRowWithNewIds(e){const t=JSON.parse(JSON.stringify(e));return t.id=`row-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,t.columns=t.columns.map(((e,t)=>Object.assign(Object.assign({},e),{id:`col-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`,modules:e.modules.map(((e,t)=>Object.assign(Object.assign({},e),{id:`${e.type}-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`})))}))),t}_generateId(){return`favorite-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}_loadFromStorage(){try{if(!this._isLocalStorageAvailable())return console.warn("localStorage is not available, favorites will not persist"),void(this._favorites=[]);const e=localStorage.getItem(o.STORAGE_KEY);if(e){const t=JSON.parse(e);Array.isArray(t)?(this._favorites=t.filter(this._isValidFavorite.bind(this)),console.log(`Loaded ${this._favorites.length} favorites from storage`)):(console.warn("Invalid favorites data format in storage, resetting"),this._favorites=[])}else console.log("No favorites found in storage"),this._favorites=[]}catch(e){console.error("Failed to load favorites from storage:",e),this._favorites=[]}}_saveToStorage(){try{if(!this._isLocalStorageAvailable())return void console.warn("localStorage is not available, favorites will not be saved");const e=JSON.stringify(this._favorites);localStorage.setItem(o.STORAGE_KEY,e),console.log(`Saved ${this._favorites.length} favorites to storage`)}catch(e){console.error("Failed to save favorites to storage:",e),e instanceof DOMException&&e.code===DOMException.QUOTA_EXCEEDED_ERR?(console.error("localStorage quota exceeded! Consider clearing old data or using fewer favorites."),this._handleStorageQuotaExceeded()):console.error("Unknown storage error:",e)}}_setupStorageListener(){window.addEventListener("storage",(e=>{e.key===o.STORAGE_KEY&&(this._loadFromStorage(),this._notifyListeners())})),window.addEventListener(o.SYNC_EVENT,(()=>{this._loadFromStorage(),this._notifyListeners()}))}_notifyListeners(){this._listeners.forEach((e=>e(this.getFavorites())))}_broadcastChange(){window.dispatchEvent(new CustomEvent(o.SYNC_EVENT))}_isValidFavorite(e){return e&&"string"==typeof e.id&&"string"==typeof e.name&&"string"==typeof e.created&&e.row&&"string"==typeof e.row.id&&Array.isArray(e.row.columns)}_isLocalStorageAvailable(){try{const e="__ultra_card_storage_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}}_handleStorageQuotaExceeded(){if(console.log("Attempting to free up storage space by removing oldest favorites..."),this._favorites.length<=1)return void console.error("Cannot free up space - only one or no favorites exist");const e=Math.max(1,Math.floor(.25*this._favorites.length)),t=[...this._favorites].sort(((e,t)=>new Date(e.created).getTime()-new Date(t.created).getTime())).slice(e);this._favorites=t,console.log(`Removed ${e} oldest favorites to free up storage space`);try{const e=JSON.stringify(this._favorites);localStorage.setItem(o.STORAGE_KEY,e),console.log("Successfully saved favorites after cleanup"),this._notifyListeners(),this._broadcastChange()}catch(e){console.error("Still cannot save after cleanup:",e)}}}o.STORAGE_KEY="ultra-card-favorites",o.SYNC_EVENT="ultra-card-favorites-changed";const a=new o;"undefined"!=typeof window&&(window.debugUltraCardFavorites=()=>a.debugFavorites())},1281:(e,t,i)=>{i.d(t,{P2:()=>o,aR:()=>a});const o="data:image/jpeg;base64,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SAAvZmYAAQBsZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAA4QklNBAAAAAAAAAIAAjhCSU0EAgAAAAAABgAAAAAAADhCSU0EMAAAAAAAAwEBAQA4QklNBC0AAAAAAAIAADhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBEQAAAAAABAAAAACAAACQAAAAkAAAAAAOEJJTQQeAAAAAAAEAAAAADhCSU0EGgAAAAADSQAAAAYAAAAAAAAAAAAAA4QAAAWgAAAACgBVAG4AdABpAHQAbABlAGQALQAyAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAWgAAADhAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAADhAAAAABSZ2h0bG9uZwAABaAAAAAGc2xpY2VzVmxMcwAAAAFPYmpjAAAAAQAAAAAABXNsaWNlAAAAEgAAAAdzbGljZUlEbG9uZwAAAAAAAAAHZ3JvdXBJRGxvbmcAAAAAAAAABm9yaWdpbmVudW0AAAAMRVNsaWNlT3JpZ2luAAAADWF1dG9HZW5lcmF0ZWQAAAAAVHlwZWVudW0AAAAKRVNsaWNlVHlwZQAAAABJbWcgAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAAA4QAAAAAUmdodGxvbmcAAAWgAAAAA3VybFRFWFQAAAABAAAAAAAAbnVsbFRFWFQAAAABAAAAAAAATXNnZVRFWFQAAAABAAAAAAAGYWx0VGFnVEVY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ADAAMgA1AAAAAQA4QklNBAYAAAAAAAcAAQAAAAEBAP/hDkRodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAzIDc5Ljk2OTBhODdmYywgMjAyNS8wMy8wNi0yMDo1MDoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI2LjggKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDI1LTA3LTE0VDEzOjUyOjQ1LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNS0wNy0xNFQxNDowNToxNi0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNS0wNy0xNFQxNDowNToxNi0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAxZDhhNDRlLTY0YTYtNGJlZi05NjFmLWNlZjZhMjJlOGExZCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjNmMzgzZWM4LTk5OGEtMzM0Ny1iNzBjLWUzMDc3MDBiZjZlYiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjZlNjkyMzYwLWQzODMtNDBkMS1hMzE3LTcxZmQyMTA5MGNjNiI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NmU2OTIzNjAtZDM4My00MGQxLWEzMTctNzFmZDIxMDkwY2M2IiBzdEV2dDp3aGVuPSIyMDI1LTA3LTE0VDEzOjUyOjQ1LTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuOCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDFkOGE0NGUtNjRhNi00YmVmLTk2MWYtY2VmNmEyMmU4YTFkIiBzdEV2dDp3aGVuPSIyMDI1LTA3LTE0VDE0OjA1OjE2LTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuOCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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",a="/hacsfiles/Ultra-Card/assets/Ultra.jpg"},1338:(e,t,i)=>{i.d(t,{_:()=>r});var o=i(9247),a=i(5201);class n extends a.WL{constructor(e){if(super(e),this.it=o.s6,e.type!==a.OA.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===o.s6||null==e)return this._t=void 0,this.it=e;if(e===o.c0)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}n.directiveName="unsafeHTML",n.resultType=1;const r=(0,a.u$)(n)},1394:(e,t,i)=>{i.d(t,{w:()=>f});var o=i(5183),a=i(866),n=i(4345),r=i(7987),s=i(796),l=i(9662),d=i(2371),c=i(8914),p=i(4276),u=i(9811),g=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let m=class extends o.WF{static get styles(){return o.AH`
      ha-entity-picker {
        width: 100%;
        display: block;
      }
    `}render(){return o.qy`
      <ha-entity-picker
        .hass=${this.hass}
        .label=${this.label}
        .value=${this.value||""}
        .entityFilter=${this.entityFilter}
        @value-changed=${this._valueChanged}
        allow-custom-entity
      ></ha-entity-picker>
    `}_valueChanged(e){e.stopPropagation();const t=e.detail.value;t!==this.value&&(this.value=t,(0,u.fireEvent)(this,"value-changed",{value:t}))}};g([(0,p.MZ)({attribute:!1})],m.prototype,"hass",void 0),g([(0,p.MZ)()],m.prototype,"label",void 0),g([(0,p.MZ)()],m.prototype,"value",void 0),g([(0,p.MZ)()],m.prototype,"entityFilter",void 0),m=g([(0,p.EM)("ultra-card-entity-picker")],m),i(6768);var h=i(2381),_=i(3057),v=i(456);class f extends a.m{constructor(){super(...arguments),this.metadata={type:"graphs",title:"Graphs",description:"Display interactive charts and graphs with Home Assistant data",author:"WJD Designs",version:"1.0.0",icon:"mdi:chart-line",category:"data",tags:["charts","graphs","data","visualization","statistics","analytics"]},this._updateInterval=null,this._historyData={},this._historyError={},this._historyLoading={},this._deferredHistoryScheduled={},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1,this.expandedEntities=new Set,this.DEFAULT_COLORS=["#2196F3","#4CAF50","#FF9800","#F44336","#9C27B0","#00BCD4","#FFEB3B","#795548","#607D8B","#E91E63"],this.FORECAST_ATTRIBUTE_LABELS={temperature:"Temperature",precipitation:"Precipitation",wind_speed:"Wind Speed",humidity:"Humidity",pressure:"Pressure",cloud_coverage:"Cloud Coverage"},this.FORECAST_ATTRIBUTE_UNITS={temperature:"",precipitation:"mm",wind_speed:"km/h",humidity:"%",pressure:"hPa",cloud_coverage:"%"}}_getCacheStore(){const e=window;if(!e.__ultraGraphsCache)try{const t=localStorage.getItem("__ultraGraphsCache");e.__ultraGraphsCache=t?JSON.parse(t):{}}catch(t){e.__ultraGraphsCache={}}return e.__ultraGraphsCache}_persistCacheStore(e){try{localStorage.setItem("__ultraGraphsCache",JSON.stringify(e))}catch(e){}}_makeCacheKey(e){return"forecast"===(e.data_source||"history")?`forecast::${e.forecast_entity}::${e.forecast_type}::${e.time_period}`:`history::${(e.entities||[]).filter((e=>e.entity)).map((e=>`${e.entity}|${e.attribute||"state"}`)).join(";")}::${e.time_period}`}_tryReadCache(e){const t=this._getCacheStore(),i=this._makeCacheKey(e),o=t[i];if(!o)return null;const a=Date.now();return o.expiresAt&&o.expiresAt>a&&o.data?o.data:(delete t[i],this._persistCacheStore(t),null)}_writeCache(e,t){const i=this._getCacheStore();i[this._makeCacheKey(e)]={expiresAt:Date.now()+3e5,data:t},this._persistCacheStore(i)}createDefault(e,t){return{id:e||this.generateId("graphs"),type:"graphs",name:"New Graph",data_source:"history",forecast_type:"hourly",forecast_entity:"",chart_type:"line",entities:[],time_period:"24h",title:"Chart",chart_width:"100%",chart_width_percent:100,chart_height:345,background_color:"transparent",show_title:!0,chart_alignment:"center",show_display_name:!0,show_entity_value:!0,info_position:"top_left",show_legend:!0,legend_position:"bottom_left",show_grid:!0,smooth_curves:!0,show_tooltips:!0,show_slice_labels:!0,tap_action:{action:"default"},hold_action:{action:"default"},double_tap_action:{action:"default"},template_mode:!1,template:"",display_mode:"always",display_conditions:[]}}getChartTypeOptions(e){return[{value:"line",label:(0,v.kg)("editor.graphs.types.line",e,"Line Chart")},{value:"bar",label:(0,v.kg)("editor.graphs.types.bar",e,"Bar Chart")},{value:"pie",label:(0,v.kg)("editor.graphs.types.pie",e,"Pie Chart")},{value:"donut",label:(0,v.kg)("editor.graphs.types.donut",e,"Donut Chart")}]}getTimePeriodOptions(e,t){const i="forecast"===t?"Next":"Last";return[{value:"1h",label:(0,v.kg)("editor.graphs.period.1h",e,`${i} Hour`)},{value:"3h",label:(0,v.kg)("editor.graphs.period.3h",e,`${i} 3 Hours`)},{value:"6h",label:(0,v.kg)("editor.graphs.period.6h",e,`${i} 6 Hours`)},{value:"12h",label:(0,v.kg)("editor.graphs.period.12h",e,`${i} 12 Hours`)},{value:"24h",label:(0,v.kg)("editor.graphs.period.24h",e,`${i} 24 Hours`)},{value:"2d",label:(0,v.kg)("editor.graphs.period.2d",e,`${i} 2 Days`)},{value:"7d",label:(0,v.kg)("editor.graphs.period.7d",e,`${i} Week`)},{value:"30d",label:(0,v.kg)("editor.graphs.period.30d",e,`${i} Month`)},{value:"90d",label:(0,v.kg)("editor.graphs.period.90d",e,`${i} 3 Months`)},{value:"365d",label:(0,v.kg)("editor.graphs.period.365d",e,`${i} Year`)}]}getAggregationOptions(e){return[{value:"mean",label:(0,v.kg)("editor.graphs.agg.mean",e,"Average")},{value:"sum",label:(0,v.kg)("editor.graphs.agg.sum",e,"Sum")},{value:"min",label:(0,v.kg)("editor.graphs.agg.min",e,"Minimum")},{value:"max",label:(0,v.kg)("editor.graphs.agg.max",e,"Maximum")},{value:"median",label:(0,v.kg)("editor.graphs.agg.median",e,"Median")},{value:"first",label:(0,v.kg)("editor.graphs.agg.first",e,"First Value")},{value:"last",label:(0,v.kg)("editor.graphs.agg.last",e,"Last Value")},{value:"count",label:(0,v.kg)("editor.graphs.agg.count",e,"Count")},{value:"delta",label:(0,v.kg)("editor.graphs.agg.delta",e,"Change")}]}getLegendPositionOptions(e){return[{value:"top",label:(0,v.kg)("editor.graphs.position.top",e,"Top")},{value:"bottom",label:(0,v.kg)("editor.graphs.position.bottom",e,"Bottom")},{value:"left",label:(0,v.kg)("editor.graphs.position.left",e,"Left")},{value:"right",label:(0,v.kg)("editor.graphs.position.right",e,"Right")},{value:"none",label:(0,v.kg)("editor.graphs.position.hidden",e,"Hidden")}]}renderGeneralTab(e,t,i,a){var n,r,s,l,d,p,u,g;const m=e,h=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      <div class="uc-graphs-general-tab">
        ${c.Q.injectCleanFormStyles()}

        <!-- Data Source Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:database" style="color: var(--primary-color);"></ha-icon>
            ${(0,v.kg)("editor.graphs.data_source.title",h,"Data Source")}
          </div>

          ${this.renderFieldSection((0,v.kg)("editor.graphs.data_source.mode",h,"Mode"),(0,v.kg)("editor.graphs.data_source.desc",h,"Choose between historical data or weather forecasts."),t,{data_source:m.data_source||"history"},[this.selectField("data_source",[{value:"history",label:(0,v.kg)("editor.graphs.mode.history",h,"History")},{value:"forecast",label:(0,v.kg)("editor.graphs.mode.forecast",h,"Forecast")}])],(e=>{const t=e.detail.value.data_source;t!==(m.data_source||"history")&&(a({data_source:t}),delete this._historyData[m.id],setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
          ${"forecast"===m.data_source?o.qy`
                <div class="conditional-fields-group" style="padding: 16px; margin-top: 12px;">
                  ${c.Q.renderField((0,v.kg)("editor.graphs.forecast_entity",h,"Weather Entity"),(0,v.kg)("editor.graphs.forecast_entity_desc",h,"Select a weather entity for forecasts."),t,{forecast_entity:m.forecast_entity||""},[c.Q.createSchemaItem("forecast_entity",{entity:{domain:"weather"}})],(e=>{var t;a({forecast_entity:(null===(t=e.detail.value)||void 0===t?void 0:t.forecast_entity)||e.detail.value})}))}
                  <div style="margin-top: 16px;">
                    ${this.renderFieldSection((0,v.kg)("editor.graphs.forecast_type",h,"Forecast Type"),(0,v.kg)("editor.graphs.forecast_type_desc",h,"Hourly or daily forecasts."),t,{forecast_type:m.forecast_type||"hourly"},[this.selectField("forecast_type",[{value:"hourly",label:(0,v.kg)("editor.graphs.type.hourly",h,"Hourly")},{value:"daily",label:(0,v.kg)("editor.graphs.type.daily",h,"Daily")}])],(e=>{const t=e.detail.value.forecast_type;t!==m.forecast_type&&(a({forecast_type:t}),delete this._historyData[m.id],delete this._historyError[m.id],delete this._historyLoading[m.id],delete this._deferredHistoryScheduled[m.id],setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
                  </div>
                </div>
              `:""}
        </div>

        <!-- Chart Type Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:chart-line" style="color: var(--primary-color);"></ha-icon>
            ${(0,v.kg)("editor.graphs.chart_type.title",h,"Chart Type")}
          </div>

          ${this.renderFieldSection((0,v.kg)("editor.graphs.chart_type.type",h,"Type"),(0,v.kg)("editor.graphs.chart_type.desc",h,"Select the visualization style for your data."),t,{chart_type:m.chart_type},[this.selectField("chart_type",this.getChartTypeOptions(h))],(e=>{const t=e.detail.value.chart_type;t!==m.chart_type&&(a({chart_type:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
        </div>

        <!-- Data Sources Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:database" style="color: var(--primary-color);"></ha-icon>
            ${"forecast"===m.data_source?(0,v.kg)("editor.graphs.forecast_attributes.title",h,"Forecast Attributes"):(0,v.kg)("editor.graphs.data_sources.title",h,"Data Sources")}
          </div>
          ${"forecast"===m.data_source?o.qy`<div
                style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.08); border-radius: 8px; border-left: 3px solid var(--primary-color);"
              >
                ${(0,v.kg)("editor.graphs.forecast_attributes.desc",h,"Select which forecast values to display from the weather entity configured above. Each attribute will be shown as a separate line on the graph.")}
              </div>`:""}

          <div class="entities-grid" style="display: grid; gap: 12px;">
            ${(null===(r=m.entities)||void 0===r?void 0:r.map(((e,i)=>{var n,r,s;return o.qy`
                <div
                  class="entity-card"
                  style="
                    background: var(--primary-background-color); 
                    border-radius: 8px; 
                    padding: 16px; 
                    border-left: 4px solid ${e.color||this._getDefaultColor(i)};
                    position: relative;
                    transition: all 0.2s ease;
                  "
                >
                  ${((null===(n=m.entities)||void 0===n?void 0:n.length)||0)>1?o.qy`
                        <ha-icon-button
                          @click=${()=>this._removeEntity(m,i,a)}
                          style="
                        position: absolute;
                        top: 8px;
                        right: 8px;
                        --mdc-icon-button-size: 32px;
                        --mdc-icon-size: 16px;
                        color: var(--error-color);
                      "
                        >
                          <ha-icon icon="mdi:close"></ha-icon>
                        </ha-icon-button>
                      `:""}

                  <div
                    style="display: grid; gap: 12px; margin-top: ${((null===(r=m.entities)||void 0===r?void 0:r.length)||0)>1?"20px":"0"};"
                  >
                    <!-- Entity Header -->
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                      <div style="flex: 1; display: flex; align-items: center; gap: 8px;">
                        <div
                          style="
                             width: 12px;
                             height: 12px;
                             background: ${e.color||this._getDefaultColor(i)};
                             border-radius: 2px;
                             flex-shrink: 0;
                           "
                        ></div>
                        <span
                          style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);"
                        >
                          ${e.name||(e.entity?(null===(s=t.states[e.entity])||void 0===s?void 0:s.attributes.friendly_name)||e.entity.split(".")[1]:`Entity ${i+1}`)}
                        </span>
                      </div>
                    </div>

                    <!-- Basic Settings (Always Visible) -->
                    <div style="display: grid; gap: 12px;">
                      <!-- Entity Picker (History Mode Only) -->
                      ${"forecast"!==m.data_source?c.Q.renderField((0,v.kg)("editor.graphs.entity.label",h,"Entity"),(0,v.kg)("editor.graphs.entity.desc",h,"Select an entity to plot."),t,{entity:e.entity||""},[c.Q.createSchemaItem("entity",{entity:{}})],(e=>{var t,o;this._updateEntity(m,i,{entity:(null===(t=e.detail.value)||void 0===t?void 0:t.entity)||(null===(o=e.detail.value)||void 0===o?void 0:o.entity)||e.detail.value},a)})):""}

                      <!-- Forecast Attribute Selection (Forecast Mode - Always Visible) -->
                      ${"forecast"===m.data_source?this.renderFieldSection((0,v.kg)("editor.graphs.entity.forecast_attr",h,"Forecast Attribute"),(0,v.kg)("editor.graphs.entity.forecast_attr_desc",h,"Which forecast value to plot on the graph."),t,{forecast_attribute:e.forecast_attribute||"temperature"},[this.selectField("forecast_attribute",[{value:"temperature",label:(0,v.kg)("editor.graphs.forecast.temp",h,"Temperature")},{value:"precipitation",label:(0,v.kg)("editor.graphs.forecast.precip",h,"Precipitation")},{value:"wind_speed",label:(0,v.kg)("editor.graphs.forecast.wind",h,"Wind Speed")},{value:"humidity",label:(0,v.kg)("editor.graphs.forecast.humidity",h,"Humidity")},{value:"pressure",label:(0,v.kg)("editor.graphs.forecast.pressure",h,"Pressure")},{value:"cloud_coverage",label:(0,v.kg)("editor.graphs.forecast.clouds",h,"Cloud Coverage")}])],(t=>{const o=t.detail.value.forecast_attribute;o!==e.forecast_attribute&&(this._updateEntity(m,i,{forecast_attribute:o},a),setTimeout((()=>this.triggerPreviewUpdate()),50))})):""}

                      <!-- Display Name -->
                      <input
                        type="text"
                        .value=${e.name||""}
                        placeholder="${(0,v.kg)("editor.graphs.entity.display_name_placeholder",h,"Display name (optional)")}"
                        @input=${e=>{const t=e.target;this._updateEntity(m,i,{name:t.value},a)}}
                        style="
                          padding: 10px 12px;
                          border: 1px solid var(--divider-color);
                          border-radius: 6px;
                          background: var(--secondary-background-color);
                          color: var(--primary-text-color);
                          font-size: 14px;
                          transition: border-color 0.2s ease;
                        "
                      />

                      <!-- Series Color (below name) -->
                      <div style="margin-top: 4px;">
                        <ultra-color-picker
                          .value=${e.color||this._getDefaultColor(i)}
                          @value-changed=${e=>{this._updateEntity(m,i,{color:e.detail.value},a)}}
                          style="width: 100%; height: 40px;"
                        ></ultra-color-picker>
                      </div>

                      <!-- Primary entity toggle -->
                      <label
                        style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px; background: var(--primary-background-color);"
                      >
                        <ha-switch
                          .checked=${!0===e.is_primary||0===i&&!(m.entities||[]).some((e=>e.is_primary))}
                          @change=${e=>{const t=e.target,o=m.entities||[];let n;n=t.checked?o.map(((e,t)=>Object.assign(Object.assign({},e),{is_primary:t===i}))):o.some(((e,t)=>t!==i&&e.is_primary))?o.map(((e,t)=>t===i?Object.assign(Object.assign({},e),{is_primary:!1}):e)):o.map(((e,t)=>Object.assign(Object.assign({},e),{is_primary:t===i}))),a({entities:n})}}
                        ></ha-switch>
                        <span style="font-size:13px; color: var(--primary-text-color);"
                          >${(0,v.kg)("editor.graphs.entity.use_as_card_info",h,"Use as card info")}</span
                        >
                      </label>
                    </div>

                    <!-- Advanced Options (Collapsible) -->
                    <div
                      class="entity-advanced-options"
                      style="
                        max-height: 0;
                        overflow: hidden;
                        transition: max-height 0.3s ease, opacity 0.2s ease;
                        opacity: 0;
                        border-top: none;
                        margin-top: 0;
                      "
                    >
                      <div style="padding-top: 16px; display: grid; gap: 16px;">
                        <!-- Attribute Selection (History Mode) -->
                        ${"forecast"!==m.data_source?c.Q.renderField((0,v.kg)("editor.graphs.entity.attribute",h,"Attribute"),(0,v.kg)("editor.graphs.entity.attribute_desc",h,"Use entity state or select a specific attribute to track."),t,{attribute:e.attribute||""},[c.Q.createSchemaItem("attribute",{select:{options:[{value:"",label:(0,v.kg)("editor.graphs.entity.state_default",h,"State (default)")},...this._getEntityAttributes(e.entity,t)],mode:"dropdown"}})],(e=>{this._updateEntity(m,i,{attribute:e.detail.value.attribute},a)})):""}

                        <!-- Line Chart Specific Options -->
                        ${["line","area"].includes(m.chart_type)?o.qy`
                              <div
                                style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"
                              >
                                <label
                                  style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                                >
                                  <ha-switch
                                    .checked=${!1!==e.show_points}
                                    @change=${e=>{const t=e.target;this._updateEntity(m,i,{show_points:t.checked},a)}}
                                  ></ha-switch>
                                  <span style="font-size: 13px; color: var(--primary-text-color);"
                                    >${(0,v.kg)("editor.graphs.line.show_points",h,"Show Points")}</span
                                  >
                                </label>

                                <label
                                  style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                                >
                                  <ha-switch
                                    .checked=${!0===e.fill_area}
                                    @change=${e=>{const t=e.target;this._updateEntity(m,i,{fill_area:t.checked},a)}}
                                  ></ha-switch>
                                  <span style="font-size: 13px; color: var(--primary-text-color);"
                                    >${(0,v.kg)("editor.graphs.line.fill_area",h,"Fill Area")}</span
                                  >
                                </label>
                              </div>

                              <!-- Line Width and Style -->
                              <div
                                style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"
                              >
                                <div>
                                  <label
                                    style="display: block; font-size: 13px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
                                  >
                                    ${(0,v.kg)("editor.graphs.line.line_width",h,"Line Width")}:
                                    ${e.line_width||2}px
                                  </label>
                                  <input
                                    type="range"
                                    min="1"
                                    max="8"
                                    step="1"
                                    .value=${e.line_width||2}
                                    @input=${e=>{const t=e.target;this._updateEntity(m,i,{line_width:parseInt(t.value)},a)}}
                                    style="
                                      width: 100%;
                                      height: 4px;
                                      background: var(--divider-color);
                                      border-radius: 2px;
                                      outline: none;
                                      -webkit-appearance: none;
                                    "
                                  />
                                </div>

                                ${this.renderFieldSection((0,v.kg)("editor.graphs.line.line_style",h,"Line Style"),"",t,{line_style:e.line_style||"solid"},[this.selectField("line_style",[{value:"solid",label:(0,v.kg)("editor.graphs.line_styles.solid",h,"Solid")},{value:"dashed",label:(0,v.kg)("editor.graphs.line_styles.dashed",h,"Dashed")},{value:"dotted",label:(0,v.kg)("editor.graphs.line_styles.dotted",h,"Dotted")}])],(t=>{const o=t.detail.value.line_style;o!==(e.line_style||"solid")&&(this._updateEntity(m,i,{line_style:o},a),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
                              </div>
                            `:""}
                        ${["pie","donut"].includes(m.chart_type)?o.qy`
                              <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                              >
                                <ha-switch
                                  .checked=${!1!==e.label_show_name}
                                  @change=${e=>{const t=e.target;this._updateEntity(m,i,{label_show_name:t.checked},a)}}
                                ></ha-switch>
                                <span style="font-size: 13px; color: var(--primary-text-color);"
                                  >${(0,v.kg)("editor.graphs.pie.show_title",h,"Show Title in Slice")}</span
                                >
                              </label>
                              <label
                                style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border-radius: 6px; background: var(--secondary-background-color);"
                              >
                                <ha-switch
                                  .checked=${!1!==e.label_show_value}
                                  @change=${e=>{const t=e.target;this._updateEntity(m,i,{label_show_value:t.checked},a)}}
                                ></ha-switch>
                                <span style="font-size: 13px; color: var(--primary-text-color);"
                                  >${(0,v.kg)("editor.graphs.pie.show_value",h,"Show Value in Slice")}</span
                                >
                              </label>
                            `:""}
                      </div>
                    </div>

                    <!-- Expand/Collapse Button -->
                    <div style="display:flex; justify-content:center; margin-top: 12px;">
                      <ha-button
                        @click=${e=>this._toggleEntityOptions(e,i)}
                        style="--mdc-theme-primary: var(--secondary-text-color); background: transparent;"
                      >
                        <span style="display:inline-flex; align-items:center; gap:6px;">
                          <ha-icon
                            icon="mdi:chevron-down"
                            class="entity-toggle-btn"
                            style="--mdc-icon-size:20px;"
                          ></ha-icon>
                          <span
                            >${(0,v.kg)("editor.graphs.entity.expand_options",h,"Expand Options")}</span
                          >
                        </span>
                      </ha-button>
                    </div>
                  </div>
                </div>
              `})))||""}
            ${0===((null===(s=m.entities)||void 0===s?void 0:s.length)||0)?o.qy`
                  <div
                    style="
                  text-align: center; 
                  padding: 40px 20px; 
                  color: var(--secondary-text-color); 
                  background: var(--primary-background-color); 
                  border-radius: 8px; 
                  border: 2px dashed var(--divider-color);
                "
                  >
                    <ha-icon
                      icon="mdi:chart-line"
                      style="font-size: 48px; margin-bottom: 12px; opacity: 0.5;"
                    ></ha-icon>
                    <div style="font-size: 16px; margin-bottom: 4px; font-weight: 500;">
                      ${(0,v.kg)("editor.graphs.data_sources.no_entities",h,"No entities added")}
                    </div>
                    <div style="font-size: 14px; opacity: 0.7;">
                      ${(0,v.kg)("editor.graphs.data_sources.add_first_entity",h,"Add your first entity to create a chart")}
                    </div>
                  </div>
                `:""}

            <ha-button
              @click=${()=>this._addEntity(m,a)}
              style="
                margin-top: 8px; 
                width: 100%;
                --mdc-theme-primary: var(--primary-color);
                --mdc-button-outline-color: var(--primary-color);
              "
            >
              <ha-icon icon="mdi:plus" slot="icon"></ha-icon>
              ${(0,v.kg)("editor.graphs.data_sources.add_entity",h,"Add Entity")}
            </ha-button>
          </div>
        </div>

        <!-- Display Options Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(var(--rgb-primary-color), 0.12);"
        >
          <div
            class="section-title"
            style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 20px; display: flex; align-items: center; gap: 8px;"
          >
            <ha-icon icon="mdi:cog" style="color: var(--primary-color);"></ha-icon>
            ${(0,v.kg)("editor.graphs.display.title",h,"Display Options")}
          </div>

          <div style="display: grid; gap: 16px;">
            <!-- Show Graph Title Toggle -->
            <label
              style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
            >
              <ha-switch
                .checked=${!1!==m.show_title}
                @change=${e=>{const t=e.target;a({show_title:t.checked})}}
              ></ha-switch>
              <span>${(0,v.kg)("editor.graphs.display.show_title",h,"Show Graph Title")}</span>
            </label>

            <!-- Show Graph Value Toggle -->
            <label
              style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
            >
              <ha-switch
                .checked=${!1!==m.show_entity_value}
                @change=${e=>{const t=e.target;a({show_entity_value:t.checked})}}
              ></ha-switch>
              <span>${(0,v.kg)("editor.graphs.display.show_value",h,"Show Graph Value")}</span>
            </label>

            <!-- Chart Title -->
            ${!1!==m.show_title?o.qy`<div>
                  <label
                    style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
                  >
                    ${(0,v.kg)("editor.graphs.display.chart_title",h,"Chart Title")}
                  </label>
                  <input
                    type="text"
                    .value=${m.title||""}
                    placeholder="${(0,v.kg)("editor.graphs.display.chart_title_placeholder",h,"Enter chart title")}"
                    @input=${e=>{const t=e.target;a({title:t.value})}}
                    style="
                      width: 100%;
                      padding: 10px 12px;
                      border: 1px solid var(--divider-color);
                      border-radius: 6px;
                      background: var(--secondary-background-color);
                      color: var(--primary-text-color);
                      font-size: 14px;
                      transition: border-color 0.2s ease;
                      box-sizing: border-box;
                    "
                  />
                </div>`:""}

            <!-- Time Period (History Mode Only) -->
            ${"forecast"!==m.data_source?this.renderFieldSection((0,v.kg)("editor.graphs.display.time_period",h,"Time Period"),(0,v.kg)("editor.graphs.display.time_period_desc",h,"How much historical data to show."),t,{time_period:m.time_period},[this.selectField("time_period",this.getTimePeriodOptions(h,m.data_source))],(e=>{const i=e.detail.value.time_period;if(i===m.time_period)return;a({time_period:i}),delete this._historyData[m.id],delete this._historyError[m.id],delete this._historyLoading[m.id],delete this._deferredHistoryScheduled[m.id];const o=Object.assign(Object.assign({},m),{time_period:i});this._loadHistoryData(o,t),this._triggerHistoryLoad(o,t),this.requestUpdate(),setTimeout((()=>{this.triggerPreviewUpdate()}),50)})):""}

            <!-- Forecast Info (Forecast Mode Only) -->
            ${"forecast"===m.data_source?o.qy`<div
                  style="padding: 12px; background: rgba(var(--rgb-primary-color), 0.08); border-radius: 8px; border-left: 3px solid var(--primary-color); margin-bottom: 16px;"
                >
                  <div style="font-size: 13px; color: var(--primary-text-color); font-weight: 500;">
                    ${(0,v.kg)("editor.graphs.forecast_info.title",h,"Forecast Display")}
                  </div>
                  <div
                    style="font-size: 12px; color: var(--secondary-text-color); margin-top: 4px;"
                  >
                    ${(0,v.kg)("editor.graphs.forecast_info.desc",h,"Forecasts display all available data from your weather service. The forecast type (hourly/daily) determines the time range shown.")}
                  </div>
                </div>`:""}

            <!-- Normalize Values Toggle (only show when multiple entities) -->
            ${((null===(l=m.entities)||void 0===l?void 0:l.filter((e=>"forecast"===m.data_source?e.forecast_attribute:e.entity)).length)||0)>1?o.qy`
                  <div style="margin-bottom: 16px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                      <ha-switch
                        .checked=${m.normalize_values||!1}
                        @change=${e=>a({normalize_values:e.target.checked})}
                      ></ha-switch>
                      <span style="font-size: 14px;"
                        >${(0,v.kg)("editor.graphs.display.normalize_values",h,"Normalize values to same scale")}</span
                      >
                    </label>
                    <div
                      style="font-size: 12px; color: var(--secondary-text-color); margin-top: 4px; margin-left: 40px;"
                    >
                      ${(0,v.kg)("editor.graphs.display.normalize_desc",h,"Useful when comparing entities with different units (e.g., % vs miles)")}
                    </div>
                  </div>
                `:""}

            <!-- Chart Height -->
            <div>
              <label
                style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
              >
                ${(0,v.kg)("editor.graphs.display.chart_height",h,"Chart Height")}
              </label>
              <div
                style="display: grid; grid-template-columns: 1fr auto auto; gap: 8px; align-items: center;"
              >
                <input
                  type="range"
                  min="80"
                  max="400"
                  step="5"
                  .value=${null!==(d=m.chart_height)&&void 0!==d?d:345}
                  @input=${e=>{const t=e.target,i=parseInt(t.value);a({chart_height:i})}}
                  style="
                    width: 100%;
                    height: 4px;
                    background: var(--divider-color);
                    border-radius: 2px;
                    outline: none;
                    -webkit-appearance: none;
                  "
                />
                <span
                  style="font-size: 13px; color: var(--secondary-text-color); min-width: 56px; text-align: right;"
                  >${null!==(p=m.chart_height)&&void 0!==p?p:345}px</span
                >
                <button
                  @click=${()=>a({chart_height:345})}
                  title="${(0,v.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","345px")}"
                  style="
                    width: 32px;
                    height: 32px;
                    padding: 0;
                    border: 1px solid var(--divider-color);
                    border-radius: 4px;
                    background: var(--secondary-background-color);
                    color: var(--primary-text-color);
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.2s ease;
                    flex-shrink: 0;
                  "
                  @mouseenter=${e=>{const t=e.target;t.style.background="var(--primary-color)",t.style.color="var(--text-primary-color)",t.style.borderColor="var(--primary-color)"}}
                  @mouseleave=${e=>{const t=e.target;t.style.background="var(--secondary-background-color)",t.style.color="var(--primary-text-color)",t.style.borderColor="var(--divider-color)"}}
                >
                  <ha-icon icon="mdi:refresh" style="font-size: 18px;"></ha-icon>
                </button>
              </div>
            </div>

            <!-- Chart Width (%) -->
            <div>
              <label
                style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
              >
                ${(0,v.kg)("editor.graphs.display.chart_width",h,"Chart Width (%)")}
              </label>
              <div
                style="display: grid; grid-template-columns: 1fr auto auto; gap: 8px; align-items: center;"
              >
                <input
                  type="range"
                  min="10"
                  max="100"
                  step="1"
                  .value=${null!==(u=m.chart_width_percent)&&void 0!==u?u:100}
                  @input=${e=>{const t=e.target,i=Math.max(10,Math.min(100,parseInt(t.value)));a({chart_width_percent:i})}}
                  style="
                    width: 100%;
                    height: 4px;
                    background: var(--divider-color);
                    border-radius: 2px;
                    outline: none;
                    -webkit-appearance: none;
                  "
                />
                <span
                  style="font-size: 13px; color: var(--secondary-text-color); min-width: 56px; text-align: right;"
                  >${null!==(g=m.chart_width_percent)&&void 0!==g?g:100}%</span
                >
                <button
                  @click=${()=>a({chart_width_percent:100})}
                  title="Reset to default (100%)"
                  style="
                    width: 32px;
                    height: 32px;
                    padding: 0;
                    border: 1px solid var(--divider-color);
                    border-radius: 4px;
                    background: var(--secondary-background-color);
                    color: var(--primary-text-color);
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.2s ease;
                    flex-shrink: 0;
                  "
                  @mouseenter=${e=>{const t=e.target;t.style.background="var(--primary-color)",t.style.color="var(--text-primary-color)",t.style.borderColor="var(--primary-color)"}}
                  @mouseleave=${e=>{const t=e.target;t.style.background="var(--secondary-background-color)",t.style.color="var(--primary-text-color)",t.style.borderColor="var(--divider-color)"}}
                >
                  <ha-icon icon="mdi:refresh" style="font-size: 18px;"></ha-icon>
                </button>
              </div>
              <div style="font-size: 12px; color: var(--secondary-text-color); margin-top: 4px;">
                ${(0,v.kg)("editor.graphs.display.chart_width_desc",h,"Percentage of the available module width. Alignment controls placement.")}
              </div>
            </div>
            ${this.renderFieldSection((0,v.kg)("editor.graphs.display.info_position",h,"Info Position"),(0,v.kg)("editor.graphs.display.info_position_desc",h,"Position of the overlay showing the name/value."),t,{info_position:m.info_position||"top_left"},[this.selectField("info_position",[{value:"top_left",label:(0,v.kg)("editor.graphs.position.top_left",h,"Top Left")},{value:"top_right",label:(0,v.kg)("editor.graphs.position.top_right",h,"Top Right")},{value:"bottom_left",label:(0,v.kg)("editor.graphs.position.bottom_left",h,"Bottom Left")},{value:"bottom_right",label:(0,v.kg)("editor.graphs.position.bottom_right",h,"Bottom Right")},{value:"middle",label:(0,v.kg)("editor.graphs.position.middle",h,"Middle")}])],(e=>{const t=e.detail.value.info_position;t!==(m.info_position||"top_left")&&(a({info_position:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}

            <!-- Legend Position -->
            ${!1!==m.show_legend?this.renderFieldSection((0,v.kg)("editor.graphs.display.legend_position",h,"Legend Position"),(0,v.kg)("editor.graphs.display.legend_position_desc",h,"Where to place the legend when enabled."),t,{legend_position:m.legend_position||"bottom_left"},[this.selectField("legend_position",[{value:"bottom_left",label:(0,v.kg)("editor.graphs.position.bottom_left",h,"Bottom Left")},{value:"bottom_right",label:(0,v.kg)("editor.graphs.position.bottom_right",h,"Bottom Right")},{value:"top_left",label:(0,v.kg)("editor.graphs.position.top_left",h,"Top Left")},{value:"top_right",label:(0,v.kg)("editor.graphs.position.top_right",h,"Top Right")}])],(e=>{const t=e.detail.value.legend_position;t!==(m.legend_position||"bottom_left")&&(a({legend_position:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))})):""}

            <!-- Chart Alignment -->
            ${this.renderFieldSection((0,v.kg)("editor.graphs.display.chart_alignment",h,"Chart Alignment"),(0,v.kg)("editor.graphs.display.chart_alignment_desc",h,"Alignment of the chart within its container."),t,{chart_alignment:m.chart_alignment||"center"},[this.selectField("chart_alignment",[{value:"left",label:(0,v.kg)("editor.graphs.position.left",h,"Left")},{value:"center",label:(0,v.kg)("editor.graphs.position.center",h,"Center")},{value:"right",label:(0,v.kg)("editor.graphs.position.right",h,"Right")}])],(e=>{const t=e.detail.value.chart_alignment;t!==(m.chart_alignment||"center")&&(a({chart_alignment:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}

            <!-- Background Color -->
            <div>
              <label
                style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 6px;"
              >
                ${(0,v.kg)("editor.graphs.display.background_color",h,"Background Color")}
              </label>
              <ultra-color-picker
                .value=${m.background_color||"transparent"}
                @value-changed=${e=>{a({background_color:e.detail.value})}}
                style="width: 100%; height: 40px;"
              ></ultra-color-picker>
            </div>

            <!-- Chart Options -->
            <label
              style="display: block; font-size: 14px; font-weight: 500; color: var(--primary-text-color); margin-bottom: 8px;"
              >${(0,v.kg)("editor.graphs.display.chart_options",h,"Chart Options")}</label
            >
            <div
              style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 8px;"
            >
              <label
                style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
              >
                <ha-switch
                  .checked=${!1!==m.show_legend}
                  @change=${e=>{const t=e.target;a({show_legend:t.checked})}}
                ></ha-switch>
                <span>${(0,v.kg)("editor.graphs.display.show_legend",h,"Show Legend")}</span>
              </label>
              ${"line"===m.chart_type?o.qy`<label
                    style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                  >
                    <ha-switch
                      .checked=${!1!==m.show_grid}
                      @change=${e=>{const t=e.target;a({show_grid:t.checked})}}
                    ></ha-switch>
                    <span>${(0,v.kg)("editor.graphs.display.show_grid",h,"Show Grid")}</span>
                  </label>`:""}
              ${"line"===m.chart_type&&!1!==m.show_grid?o.qy`<label
                    style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                  >
                    <ha-switch
                      .checked=${!1!==m.show_grid_values}
                      @change=${e=>{const t=e.target;a({show_grid_values:t.checked})}}
                    ></ha-switch>
                    <span
                      >${(0,v.kg)("editor.graphs.display.show_grid_values",h,"Show Grid Values")}</span
                    >
                  </label>`:""}
              ${["pie","donut"].includes(m.chart_type)?o.qy`
                    <label
                      style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                    >
                      <ha-switch
                        .checked=${Number(m.slice_gap||0)>0}
                        @change=${e=>{const t=e.target,i=(m.entities||[]).filter((e=>null==e?void 0:e.entity)).length,o=Math.max(2,Math.min(4,Math.round(360/Math.max(30*i,1))));a({slice_gap:t.checked?o:0})}}
                      ></ha-switch>
                      <span
                        >${(0,v.kg)("editor.graphs.display.add_slice_gap",h,"Add Slice Gap")}</span
                      >
                    </label>
                  `:""}
              ${"line"===m.chart_type?o.qy`
                    <label
                      style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                    >
                      <ha-switch
                        .checked=${!1!==m.smooth_curves}
                        @change=${e=>{const t=e.target;a({smooth_curves:t.checked})}}
                      ></ha-switch>
                      <span
                        >${(0,v.kg)("editor.graphs.display.smooth_lines",h,"Smooth Lines")}</span
                      >
                    </label>
                  `:""}
              ${"line"===m.chart_type?o.qy`<label
                    style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px;"
                  >
                    <ha-switch
                      .checked=${!1!==m.show_tooltips}
                      @change=${e=>{const t=e.target;a({show_tooltips:t.checked})}}
                    ></ha-switch>
                    <span
                      >${(0,v.kg)("editor.graphs.display.show_tooltips",h,"Show Tooltips")}</span
                    >
                  </label>`:""}
            </div>
          </div>
        </div>
      </div>
    `}renderActionsTab(e,t,i,o){const a=e;return l.A.render(a,t,(e=>o(e)))}renderPreview(e,t,i){var a,s,l,d,c;const p=e,u=p,g=p.design||{};p.template_mode&&p.template&&(this._templateService||(this._templateService=new n.I(t))),this._loadHistoryData(p,t);const m=g.color||u.color||"var(--primary-text-color)",h=(()=>{const e=g.font_size||u.font_size;if(e&&"string"==typeof e&&""!==e.trim())return/[a-zA-Z%]/.test(e)?e:`${e}px`})(),v=g.font_family||u.font_family||void 0,f=g.font_weight||u.font_weight||void 0,b=g.text_transform||u.text_transform||void 0,y=g.font_style||u.font_style||void 0,k=g.letter_spacing||u.letter_spacing||void 0,x=g.line_height||u.line_height||void 0,w=(()=>{const e=g.text_shadow_h||u.text_shadow_h,t=g.text_shadow_v||u.text_shadow_v,i=g.text_shadow_blur||u.text_shadow_blur,o=g.text_shadow_color||u.text_shadow_color;if(e||t||i||o)return`${e||"0px"} ${t||"0px"} ${i||"0px"} ${o||"rgba(0,0,0,0.2)"}`})(),S=g.background_color||u.background_color,A=(e={})=>{const t=[],i=e.color||m;i&&t.push(`color: ${i}`);const o=e.fontSize||h;return o&&t.push(`font-size: ${o}`),v&&t.push(`font-family: ${v}`),f&&t.push(`font-weight: ${f}`),b&&t.push(`text-transform: ${b}`),y&&t.push(`font-style: ${y}`),k&&t.push(`letter-spacing: ${k}`),x&&t.push(`line-height: ${x}`),w&&t.push(`text-shadow: ${w}`),t.join("; ")};let C={padding:g.padding_top||g.padding_bottom||g.padding_left||g.padding_right||u.padding_top||u.padding_bottom||u.padding_left||u.padding_right?`${this.addPixelUnit(g.padding_top||u.padding_top)||"0px"} ${this.addPixelUnit(g.padding_right||u.padding_right)||"0px"} ${this.addPixelUnit(g.padding_bottom||u.padding_bottom)||"0px"} ${this.addPixelUnit(g.padding_left||u.padding_left)||"0px"}`:"0",margin:g.margin_top||g.margin_bottom||g.margin_left||g.margin_right||u.margin_top||u.margin_bottom||u.margin_left||u.margin_right?`${g.margin_top||u.margin_top||"8px"} ${g.margin_right||u.margin_right||"0px"} ${g.margin_bottom||u.margin_bottom||"8px"} ${g.margin_left||u.margin_left||"0px"}`:"8px 0",background:g.background_color&&"transparent"!==g.background_color?g.background_color:u.background_color&&"transparent"!==u.background_color?u.background_color:"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},u),g),t),backgroundSize:g.background_size||u.background_size||"cover",backgroundPosition:g.background_position||u.background_position||"center",backgroundRepeat:g.background_repeat||u.background_repeat||"no-repeat",backdropFilter:g.backdrop_filter||u.backdrop_filter||"",border:g.border_style?`${g.border_width||"1px"} ${g.border_style} ${g.border_color||"var(--divider-color)"}`:this.getBorderCSS(u),borderRadius:this.addPixelUnit(g.border_radius||u.border_radius)||"0",width:g.width||u.width||"100%",height:g.height||u.height||"",maxWidth:g.max_width||u.max_width||"",maxHeight:g.max_height||u.max_height||"",minWidth:g.min_width||u.min_width||"",minHeight:g.min_height||u.min_height||"",overflow:g.overflow||u.overflow||"",clipPath:g.clip_path||u.clip_path||"",position:g.position||u.position||"",top:g.top||u.top||"",right:g.right||u.right||"",bottom:g.bottom||u.bottom||"",left:g.left||u.left||"",zIndex:g.z_index||u.z_index||"",boxShadow:g.box_shadow_h||g.box_shadow_v||g.box_shadow_blur||g.box_shadow_spread||g.box_shadow_color?`${g.box_shadow_h||"0px"} ${g.box_shadow_v||"0px"} ${g.box_shadow_blur||"0px"} ${g.box_shadow_spread||"0px"} ${g.box_shadow_color||"rgba(0,0,0,0.2)"}`:"",boxSizing:"border-box",display:"block"};if("line"===p.chart_type&&(C.padding="0"),!(p.entities&&p.entities.length>0&&("forecast"===p.data_source?p.entities.some((e=>e.forecast_attribute)):p.entities.some((e=>e.entity))))){const e=S;return o.qy`
        <div class="uc-graphs-module" style="${this.styleObjectToCss(C)}">
          <div
            class="chart-placeholder"
            style="
              height: ${Math.min(200,"number"==typeof p.chart_height?p.chart_height:parseInt(String(p.chart_height))||160)}px;
              background: ${this._formatColor(e)||"rgba(0, 0, 0, 0.2)"};
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            ${A({color:m})};
            font-size: 14px;
          "
          >
            <div style="text-align: center;">
              <ha-icon icon="mdi:chart-line" style="font-size: 48px; opacity: 0.5;"></ha-icon>
              <div style="margin-top: 8px;">No entities configured</div>
              <div style="font-size: 12px; opacity: 0.7;">Add entities to display chart</div>
            </div>
          </div>
        </div>
      `}const z=p.entities.find((e=>e.is_primary&&e.entity))||p.entities.find((e=>e.entity)),T=z?t.states[z.entity]:void 0,I=p.title||(null==z?void 0:z.name)||(null===(a=null==T?void 0:T.attributes)||void 0===a?void 0:a.friendly_name)||"Chart Title",E=((null==z?void 0:z.attribute)?null===(s=null==T?void 0:T.attributes)||void 0===s?void 0:s.unit_of_measurement:null===(l=null==T?void 0:T.attributes)||void 0===l?void 0:l.unit_of_measurement)||"",$=z?z.attribute?null===(d=null==T?void 0:T.attributes)||void 0===d?void 0:d[z.attribute]:null==T?void 0:T.state:void 0,P="number"==typeof $?$:parseFloat($);let j=this._prepareSimpleChartData(p,t);"forecast"===p.data_source&&this._historyData[p.id]&&(j=this._historyData[p.id].datasets.map((e=>({name:e.name,value:e.values[e.values.length-1]||0,color:e.color,unit:e.unit,entityId:e.entityId}))));const B=p.info_position||"top_left",D="line"===p.chart_type&&!1!==p.show_grid&&!1!==p.show_grid_values?"32px":"16px",O={top_left:`top:12px; left:${D}; text-align:left;`,top_right:"top:12px; right:16px; text-align:right;",bottom_left:`bottom:12px; left:${D}; text-align:left;`,bottom_right:"bottom:12px; right:16px; text-align:right;",middle:"top:50%; left:50%; transform: translate(-50%, -50%); text-align:center;"},J=(()=>{if(!z||!T)return"";try{const e=void 0!==$?String($):T.state;return(0,_.formatEntityState)(t,z.entity,{state:e,includeUnit:!0})}catch(e){return`${isNaN(P)?"":P}${E?` ${E}`:""}`}})(),R=["pie","donut"].includes(p.chart_type)?o.qy``:o.qy`
          <div
            class="graph-header-info"
            style="
              position:absolute; 
              ${O[B]}; 
              pointer-events:none; 
              z-index:2;
              max-width: calc(100% - 32px);
              box-sizing: border-box;
              overflow: hidden;
            "
          >
            ${!1!==p.show_display_name&&!1!==p.show_title?o.qy`<div
                  class="graph-title"
                  style="
                    ${A({fontSize:h||"18px"})}; 
                    font-weight: 600; 
                    ${g.text_align?`text-align:${g.text_align};`:""};
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                  "
                >
                  ${I}
                </div>`:""}
            ${!1!==p.show_entity_value?o.qy`<div
                  class="graph-value"
                  style="
                    ${A({fontSize:h||"28px"})}; 
                    line-height: 1.1; 
                    font-weight: 600; 
                    margin-top: 6px; 
                    ${g.text_align?`text-align:${g.text_align};`:""};
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                  "
                >
                  ${J}
                </div>`:""}
          </div>
        `,U=this._historyData[p.id],M=!0===this._historyLoading[p.id]&&!U,H=(this.getBackgroundImageCSS(Object.assign(Object.assign({},u),g),t),p.chart_alignment||"center"),N="left"===H?"flex-start":"right"===H?"flex-end":"center",L=this._resolveChartWidth(p),F=o.qy`
      <div
        class="uc-graphs-module"
        style="
          ${this.styleObjectToCss(C)};
          position: relative;
          overflow: hidden;
          contain: layout style;
        "
      >
        <uc-preview-container
          .alignment=${p.chart_alignment||"center"}
          .height=${"number"==typeof p.chart_height?p.chart_height:parseInt(String(p.chart_height))||200}
        >
          <div
            style="
            display:flex; 
            width:100%; 
            height:100%;
            justify-content:${N};
            overflow:hidden;
            box-sizing:border-box;
          "
          >
            <div
              style="
              width:${L}; 
              max-width:100%;
              height:100%;
              position:relative;
              overflow:hidden;
              box-sizing:border-box;
            "
            >
              ${this._renderSimpleChart(p,j,t,(()=>{const e=p,t=p.design||{},i=t.color||e.color||"var(--primary-text-color)",o=[];return i&&o.push(`color: ${i}`),(t.font_size||e.font_size)&&o.push(`font-size: ${t.font_size||e.font_size}`),(t.font_family||e.font_family)&&o.push(`font-family: ${t.font_family||e.font_family}`),(t.font_weight||e.font_weight)&&o.push(`font-weight: ${t.font_weight||e.font_weight}`),(t.text_transform||e.text_transform)&&o.push(`text-transform: ${t.text_transform||e.text_transform}`),(t.font_style||e.font_style)&&o.push(`font-style: ${t.font_style||e.font_style}`),(t.letter_spacing||e.letter_spacing)&&o.push(`letter-spacing: ${t.letter_spacing||e.letter_spacing}`),(t.line_height||e.line_height)&&o.push(`line-height: ${t.line_height||e.line_height}`),o.join("; ")})(),H)}
            </div>
          </div>
        </uc-preview-container>
        ${R}
        ${!1!==p.show_legend?this._renderLegend(j,p.legend_position||"bottom_left",A({})):""}
        ${M?o.qy`<div
              style="
                position: absolute;
                inset: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                pointer-events: none;
                background: linear-gradient(
                  to bottom,
                  rgba(0,0,0,0.18),
                  rgba(0,0,0,0.12)
                );
              "
            >
              <div
                style="
                  background: rgba(0,0,0,0.35);
                  backdrop-filter: blur(2px);
                  border: 1px solid var(--divider-color);
                  border-radius: 10px;
                  padding: 10px 14px;
                  display: inline-flex;
                  align-items: center;
                  gap: 10px;
                  color: var(--secondary-text-color);
                  box-shadow: 0 2px 8px rgba(0,0,0,0.25);
                "
              >
                <ha-circular-progress active size="small"></ha-circular-progress>
                <span style="font-size: 13px;">Loading history</span>
              </div>
            </div>`:""}
      </div>
    `,K=null===(c=p.design)||void 0===c?void 0:c.hover_effect,V=r.k.getHoverEffectClass(K);return this.hasActiveLink(p)?o.qy`<div
          class="graphs-module-clickable ${V}"
          style="cursor: pointer; transition: all 0.2s ease; border-radius: 4px;"
          @click=${e=>this.handleClick(e,p,t)}
          @dblclick=${e=>this.handleDoubleClick(e,p,t)}
          @mousedown=${e=>this.handleMouseDown(e,p,t)}
          @mouseup=${e=>this.handleMouseUp(e,p,t)}
          @mouseleave=${e=>this.handleMouseLeave(e,p,t)}
          @touchstart=${e=>this.handleTouchStart(e,p,t)}
          @touchend=${e=>this.handleTouchEnd(e,p,t)}
        >
          ${F}
        </div>`:V?o.qy`<div class="graphs-module-container ${V}">${F}</div>`:F}_prepareSimpleChartData(e,t){var i;const o=[];for(let a=0;a<e.entities.length;a++){const n=e.entities[a];if(!n.entity)continue;const r=t.states[n.entity];if(!r)continue;const s=n.attribute?r.attributes[n.attribute]:r.state,l=parseFloat(s);o.push({name:n.name||r.attributes.friendly_name||n.entity,value:isNaN(l)?0:l,color:this._formatColor(n.color)||this._getDefaultColor(a),unit:r.attributes.unit_of_measurement||"",lineWidth:null!==(i=n.line_width)&&void 0!==i?i:2,showPoints:!1!==n.show_points,fillArea:!0===n.fill_area,lineStyle:n.line_style||"solid",entityId:n.entity})}return o}_formatColor(e){if(!e)return this._getDefaultColor(0);if(Array.isArray(e)&&e.length>=3){const[t,i,o]=e;return isNaN(t)||isNaN(i)||isNaN(o)?this._getDefaultColor(0):`rgb(${Math.round(t)}, ${Math.round(i)}, ${Math.round(o)})`}return"string"==typeof e&&e.startsWith("#")||"string"==typeof e&&e.startsWith("rgb")?e:"string"!=typeof e||!e.startsWith("var(")&&"transparent"!==e?("string"==typeof e&&e.includes("NaN"),this._getDefaultColor(0)):e}_renderSimpleChart(e,t,i,a,n){const r="forecast"===e.data_source&&this._historyData[e.id];if(0===t.length&&!r)return o.qy` <div style="color: var(--secondary-text-color);">No data available</div> `;const s=("number"==typeof e.chart_height?e.chart_height:parseInt(String(e.chart_height))||345)-80;return["pie","donut"].includes(e.chart_type)?this._renderPieChart(e,t,s,a,i,n):["line","area"].includes(e.chart_type)?this._renderLineChart(e,t,s,i):this._renderBarChart(e,t,s,a,i)}_renderPieChart(e,t,i,a,n,r){const s=t.reduce(((e,t)=>e+t.value),0),l=Math.max(120,Math.min(i,260)),d=l/2,c="donut"===e.chart_type,p=Number(e.slice_gap)||0,u=c?Math.floor(.72*d):p>0?Math.max(2,Math.floor(.04*d)):0,g=d-u;let m=0;const h=t.map((e=>{const t=s>0?m/s*360:0,i=t+(s>0?e.value/s*360:0);return m+=e.value,{startDeg:t,endDeg:i,color:e.color,name:e.name,value:e.value,unit:e.unit,entityId:e.entityId}})),v="left"===r?"0 auto 0 0":"right"===r?"0 0 0 auto":"0 auto";return o.qy`
      <div
        style="
        display:block;
        width:${l}px;
        height:${l}px;
        margin:${v};
        overflow:hidden;
        box-sizing:border-box;
      "
      >
        <svg
          width="${l}"
          height="${l}"
          viewBox="${-d} ${-d} ${l} ${l}"
          style="display:block; overflow:visible;"
        >
          ${h.map((e=>{const t=((e,t,i,o)=>{const a=e=>e*Math.PI/180,n=Math.cos(a(i))*e,r=Math.sin(a(i))*e,s=Math.cos(a(o))*e,l=Math.sin(a(o))*e,d=o-i>180?1:0;return t<=0?`M0,0 L${n},${r} A${e},${e} 0 ${d} 1 ${s},${l} Z`:`M${n},${r} A${e},${e} 0 ${d} 1 ${s},${l} L${Math.cos(a(o))*t},${Math.sin(a(o))*t} A${t},${t} 0 ${d} 0 ${Math.cos(a(i))*t},${Math.sin(a(i))*t} Z`})(d,u,e.startDeg,e.endDeg);return o.JW`<path d="${t}" fill="${e.color}" stroke="none" />`}))}
          ${p>0?(()=>{const e=e=>e*Math.PI/180,t=Math.max(2,Math.min(6,Math.round(.012*l)));return o.JW`${h.map((i=>{const a=Math.cos(e(i.startDeg)),n=Math.sin(e(i.startDeg)),r=a*(u>0?u:t),s=n*(u>0?u:t),l=a*d,c=n*d;return o.JW`<line x1="${r}" y1="${s}" x2="${l}" y2="${c}" stroke="${"var(--card-background-color)"}" stroke-width="${t}" stroke-linecap="butt" />`}))}`})():""}
          ${""}
          ${h.map((t=>{const i=(t.startDeg+t.endDeg)/2,r=e=>e*Math.PI/180,s=c||u>0?u+.55*g:.55*d;let l=Math.cos(r(i))*s,p=Math.sin(r(i))*s;const m=.85*d;Math.abs(l)>m&&(l=Math.sign(l)*m),Math.abs(p)>m&&(p=Math.sign(p)*m);const h=t.endDeg-t.startDeg;let v=`${t.value}${t.unit||""}`;if(n&&t.entityId)try{v=(0,_.formatEntityState)(n,t.entityId,{state:t.value,includeUnit:!0})}catch(e){}const f=(e.entities||[]).find((e=>e&&e.entity===t.entityId)),b=(!f||!1!==f.label_show_name)&&h>=15,y=!f||!1!==f.label_show_value;return h>=10?o.JW`<g transform="translate(${l}, ${p})" style="pointer-events:none;">
              ${b?o.JW`<text 
                text-anchor="middle" 
                style="${a||""}; font-size:11px; font-weight:600; fill: currentColor;"
                textLength="${Math.min(7*t.name.length,1.2*d)}" 
                lengthAdjust="spacingAndGlyphs"
              >${t.name.length>12?t.name.substring(0,12)+"...":t.name}</text>`:""}
              ${y?o.JW`<text 
                y="${b?13:0}" 
                text-anchor="middle" 
                style="${a||""}; font-size:11px; fill: currentColor;"
                textLength="${Math.min(6*v.length,1*d)}" 
                lengthAdjust="spacingAndGlyphs"
              >${v.length>10?v.substring(0,10)+"...":v}</text>`:""}
            </g>`:o.JW``}))}
        </svg>
      </div>
    `}_renderLineChart(e,t,i,a){const n=this._historyData[e.id];let r,s;this._historyError[e.id],this._historyLoading[e.id],n?(r=n.timePoints,s=n.datasets):(r=this._generateTimePoints(e.time_period),s=t.map(((t,i)=>{e.entities[i];const o=t.value||0,a=new Array(r.length).fill(o);return{name:t.name,color:t.color,values:a,lineWidth:t.lineWidth,showPoints:t.showPoints,fillArea:t.fillArea,lineStyle:t.lineStyle,unit:t.unit||"",entityId:t.entityId}}))),s=s.map(((t,i)=>{var o,a,n;const r=null===(o=e.entities)||void 0===o?void 0:o[i];return Object.assign(Object.assign({},t),{color:this._formatColor(null==r?void 0:r.color)||t.color||this._getDefaultColor(i),lineWidth:null!==(n=null!==(a=null==r?void 0:r.line_width)&&void 0!==a?a:t.lineWidth)&&void 0!==n?n:2,showPoints:!1!==(null==r?void 0:r.show_points),fillArea:!0===(null==r?void 0:r.fill_area),lineStyle:(null==r?void 0:r.line_style)||t.lineStyle||"solid"})}));let l=s;e.normalize_values&&(l=s.map((e=>{const t=Math.max(...e.values),i=Math.min(...e.values),o=t-i||1;return Object.assign(Object.assign({},e),{originalValues:e.values,values:e.values.map((e=>(e-i)/o*100)),normalizedMin:i,normalizedMax:t})})));const d=Math.max(...l.flatMap((e=>e.values))),c=Math.min(...l.flatMap((e=>e.values))),p=d-c,u=!1!==e.show_grid,g=e;let m=(e.design||{}).background_color||g.background_color;return m="transparent"===m?"var(--card-background-color)":m?this._formatColor(m):"var(--card-background-color, transparent)",Boolean(n&&"history"===n.source),o.qy`
      <div
        class="line-chart-container"
        style="
          width: 100%; 
          height: ${i}px; 
          position: relative; 
          box-sizing: border-box; 
          margin: 0; 
          padding: 0;
          overflow: visible;
          contain: layout style;
        "
      >
        <svg
          width="100%"
          height="100%"
          viewBox="0 0 300 100"
          preserveAspectRatio="none"
          style="
            display: block; 
            width: 100%; 
            height: 100%; 
            margin: 0; 
            padding: 0;
            overflow: hidden;
          "
        >
          ${u?o.JW`${Array.from({length:4},((t,i)=>{const a=100*(i+1)/5,n=d-(i+1)/5*p,r=!1!==e.show_grid_values;return o.JW`
                  <line x1="0" y1="${a}" x2="300" y2="${a}" stroke="rgba(255,255,255,.08)" stroke-width="0.5" />
                  ${r?o.JW`<text 
                          x="2" 
                          y="${a-2}" 
                          font-size="8" 
                          fill="var(--secondary-text-color)" 
                          opacity="0.6"
                        >${Math.round(n)}</text>`:""}
                `}))}`:""}
          ${(()=>l.map((t=>{var i;const n=t.values.map(((e,t)=>`${t/(r.length-1)*300},${p>0?8+(d-e)/p*92:100}`)),l=(t=>{if(!e.smooth_curves)return t.map(((e,t)=>{const[i,o]=e.split(",");return`${0===t?"M":"L"} ${i} ${o}`})).join(" ");if(t.length<2){const[e,i]=t[0].split(",");return`M ${e} ${i}`}let i="";const o=t.map((e=>{const[t,i]=e.split(",");return{x:parseFloat(t),y:parseFloat(i)}}));i=`M ${o[0].x} ${o[0].y}`;for(let e=0;e<o.length-1;e++){const t=o[Math.max(0,e-1)],a=o[e],n=o[e+1],r=o[Math.min(o.length-1,e+2)],s=.5;i+=` C ${a.x+(n.x-t.x)/6*s} ${a.y+(n.y-t.y)/6*s}, ${n.x-(r.x-a.x)/6*s} ${n.y-(r.y-a.y)/6*s}, ${n.x} ${n.y}`}return i})(n),c=n[n.length-1].split(",")[0],u=this._colorWithAlpha(t.color,.25),g="dashed"===t.lineStyle?"4 3":"dotted"===t.lineStyle?"1 3":"none";return o.JW`<g>
                ${!0===t.fillArea?o.JW`<path d="${l} L ${c} 100 L 0 100 Z" fill="${u}" stroke="none" />`:""}
                <path d="${l}" stroke="${t.color}" stroke-width="${null!==(i=t.lineWidth)&&void 0!==i?i:2}" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="${g}" />
                ${!1!==t.showPoints?o.JW`${t.values.map(((i,n)=>{const l=n/(r.length-1)*300,c=p>0?8+(d-i)/p*92:100,u="transparent"===m?"var(--card-background-color)":m,g=`point-${e.id}-${n}-${s.indexOf(t)}`;return o.JW`
                          <circle 
                            id="${g}"
                            cx="${l}" 
                            cy="${c}" 
                            r="3" 
                            fill="${u}" 
                            stroke="${t.color}" 
                            stroke-width="1.5"
                            style="cursor: ${!1!==e.show_tooltips?"pointer":"default"};"
                            @mouseenter=${!1!==e.show_tooltips?o=>{const s=t.originalValues?t.originalValues[n]:i;let l=`${s}${t.unit||""}`;t.entityId&&(l=(0,_.formatEntityState)(a,t.entityId,{state:s,includeUnit:!0})),this._showTooltip(o,e.id,t.name,l,r[n])}:null}
                            @mouseleave=${!1!==e.show_tooltips?t=>this._hideTooltip(e.id,t):null}
                          >
                            ${!1!==e.show_tooltips?o.JW`
                              <animate 
                                attributeName="r" 
                                begin="mouseenter" 
                                dur="0.2s" 
                                from="3" 
                                to="5" 
                                fill="freeze" 
                              />
                              <animate 
                                attributeName="r" 
                                begin="mouseleave" 
                                dur="0.2s" 
                                from="5" 
                                to="3" 
                                fill="freeze" 
                              />
                            `:""}
                          </circle>
                        `}))}`:""}
              </g>`})))()}
        </svg>
      </div>
    `}_renderLegend(e,t,i){return o.qy`<div
      class="graph-legend"
      style="
        position:absolute; 
        ${{top_left:"top:8px; left:8px; justify-content:flex-start;",top_right:"top:8px; right:8px; justify-content:flex-end;",bottom_left:"bottom:8px; left:8px; justify-content:flex-start;",bottom_right:"bottom:8px; right:8px; justify-content:flex-end;"}[t]}; 
        display:flex; 
        gap:8px; 
        flex-wrap:wrap; 
        font-size:12px; 
        ${i||""}; 
        z-index:2;
        max-width: calc(100% - 16px);
        box-sizing: border-box;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      "
    >
      ${e.map((e=>o.qy`<div
            style="
            display:flex; 
            align-items:center; 
            gap:4px;
            min-width: 0;
            flex-shrink: 1;
          "
          >
            <span
              style="
              width:10px; 
              height:10px; 
              background:${e.color}; 
              border-radius:2px;
              flex-shrink: 0;
            "
            ></span>
            <span
              style="
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
              min-width: 0;
            "
              >${e.name}</span
            >
          </div>`))}
    </div>`}_colorWithAlpha(e,t){if(!e)return`rgba(33, 150, 243, ${t})`;if(e.startsWith("#")){const i=e.replace("#",""),o=parseInt(3===i.length?i.split("").map((e=>e+e)).join(""):i,16);return`rgba(${o>>16&255}, ${o>>8&255}, ${255&o}, ${t})`}return e.startsWith("rgb(")?e.replace("rgb(","rgba(").replace(")",`, ${t})`):e}_renderBarChart(e,t,i,a,n){const r=Math.max(...t.map((e=>e.value)));return o.qy`
      <div
        class="bar-chart-container"
        style="
          width:100%; 
          height:${i}px; 
          display:flex; 
          align-items:center; 
          justify-content:${(()=>{const t=e.chart_alignment||"center";return"left"===t?"flex-start":"right"===t?"flex-end":"center"})()};
          overflow: hidden;
          box-sizing: border-box;
        "
      >
        <div
          style="
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: ${(()=>{const t=e.chart_alignment||"center";return"left"===t?"flex-start":"right"===t?"flex-end":"center"})()};
            gap: 8px;
            padding: 8px;
            box-sizing: border-box;
            overflow: hidden;
          "
        >
          ${t.map((e=>{const s=r>0?e.value/r*(i-40):0;return o.qy`
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  flex: 0 0 auto;
                  width: 60px;
                  max-width: calc(100% / ${t.length});
                  box-sizing: border-box;
                "
              >
                <div
                  style="
                    font-size: 11px;
                    ${a||""};
                    margin-bottom: 4px;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    width: 100%;
                    text-align: center;
                  "
                >
                  ${(()=>{let t=`${e.value}${e.unit||""}`;if(n&&e.entityId)try{t=(0,_.formatEntityState)(n,e.entityId,{state:e.value,includeUnit:!0})}catch(e){}return t.length>8?t.substring(0,8)+"...":t})()}
                </div>
                <div
                  style="
                    width: 100%;
                    height: ${s}px;
                    background: ${e.color};
                    border-radius: 3px 3px 0 0;
                    transition: height 0.3s ease;
                    min-height: 2px;
                  "
                ></div>
                <div
                  style="
                    font-size: 10px;
                    ${a||""};
                    opacity: 0.8;
                    margin-top: 4px;
                    text-align: center;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    width: 100%;
                  "
                  title="${e.name}"
                >
                  ${e.name.length>8?e.name.substring(0,8)+"...":e.name}
                </div>
              </div>
            `}))}
        </div>
      </div>
    `}_showTooltip(e,t,i,o,a){const n=e.target;let r=document.getElementById(`graph-tooltip-${t}`);r||(r=document.createElement("div"),r.id=`graph-tooltip-${t}`,r.style.cssText="\n        position: fixed;\n        display: none;\n        background: var(--card-background-color);\n        border: 1px solid var(--divider-color);\n        border-radius: 6px;\n        padding: 10px 14px;\n        font-size: 14px;\n        color: var(--primary-text-color);\n        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n        pointer-events: none;\n        z-index: 10000;\n        white-space: nowrap;\n      ",document.body.appendChild(r)),r.innerHTML=`\n      <div style="font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;">${i}</div>\n      <div style="color: var(--secondary-text-color); font-size: 12px;">${a}</div>\n      <div style="font-size: 16px; margin-top: 4px; color: var(--primary-color);">${o}</div>\n    `;const s=n.getBoundingClientRect(),l=s.left+s.width/2,d=s.top;r.style.display="block",r.style.left=`${l}px`,r.style.top=d-10+"px",r.style.transform="translate(-50%, -100%)"}_hideTooltip(e,t){const i=document.getElementById(`graph-tooltip-${e}`);i&&(i.style.display="none")}_generateTimePoints(e){const t=[],i=new Date;let o=12,a="hour";switch(e){case"1h":o=12,a="5min";break;case"24h":o=24,a="hour";break;case"7d":o=7,a="day";break;case"30d":o=30,a="day";break;case"90d":o=12,a="week";break;case"365d":o=12,a="month"}for(let e=o-1;e>=0;e--){const o=new Date(i);"5min"===a?(o.setMinutes(o.getMinutes()-5*e),t.push(o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))):"hour"===a?(o.setHours(o.getHours()-e),t.push(o.toLocaleTimeString([],{hour:"2-digit"}))):"day"===a?(o.setDate(o.getDate()-e),t.push(o.toLocaleDateString([],{month:"short",day:"numeric"}))):"week"===a?(o.setDate(o.getDate()-7*e),t.push(o.toLocaleDateString([],{month:"short",day:"numeric"}))):"month"===a&&(o.setMonth(o.getMonth()-e),t.push(o.toLocaleDateString([],{month:"short"})))}return t}_generateTimeSeriesData(e,t,i){const o=[];let a=isNaN(e)?50:e;const n=i.toLowerCase().includes("odometer")||i.toLowerCase().includes("counter")||i.toLowerCase().includes("total")||i.toLowerCase().includes("mileage"),r=i.toLowerCase().includes("energy")||i.toLowerCase().includes("kwh");let s=this._hashString(i);n&&a>1e3&&(a*=.95);for(let i=0;i<t;i++){const i=(s=1664525*s+1013904223>>>0,(4294967295&s)/4294967296);if(n){const o=.05*e/t;a=a+o+i*o*.5}else if(r)a+=.1*e/t*i;else{const e=(i-.5)*a*.1;a=Math.max(0,a+e)}o.push(Math.round(10*a)/10)}return o}_hashString(e){let t=2166136261;for(let i=0;i<e.length;i++)t^=e.charCodeAt(i),t=Math.imul(t,16777619);return t>>>0}_triggerHistoryLoad(e,t){this._historyLoading[e.id]||(this._historyLoading[e.id]=!0,this._deferredHistoryScheduled[e.id]=!0,this._fetchHistoryDataAsync(e,t))}_loadHistoryData(e,t){if(e.entities&&0!==e.entities.length)if("forecast"!==e.data_source){if(!this._historyData[e.id]){const t=this._tryReadCache(e);t&&(this._historyData[e.id]=Object.assign(Object.assign({},t),{source:"cache"}))}if(!this._historyData[e.id]){const i=this._tryFastHistoryPath(e,t);i&&(this._historyData[e.id]=i)}this._historyLoading[e.id]||this._deferredHistoryScheduled[e.id]||(this._deferredHistoryScheduled[e.id]=!0,this._historyLoading[e.id]=!0,this._fetchHistoryDataAsync(e,t))}else this._loadForecastData(e,t)}_tryFastHistoryPath(e,t){try{if(0===e.entities.filter((e=>e.entity)).map((e=>e.entity)).length)return null;const i=this._generateTimePoints(e.time_period),o=e.entities.filter((e=>e.entity)).map(((e,o)=>{var a;const n=t.states[e.entity];if(!n)return null;let r=0;r=e.attribute&&n.attributes[e.attribute]?parseFloat(n.attributes[e.attribute])||0:parseFloat(n.state)||0;const s=new Array(i.length).fill(r);return{name:e.name||n.attributes.friendly_name||e.entity,color:this._formatColor(e.color)||this._getDefaultColor(o),values:s,lineWidth:null!==(a=e.line_width)&&void 0!==a?a:2,showPoints:!1!==e.show_points,fillArea:!0===e.fill_area,lineStyle:e.line_style||"solid",unit:(null==n?void 0:n.attributes.unit_of_measurement)||"",entityId:e.entity}})).filter((e=>null!==e));if(0===o.length)return null;const a=o.flatMap((e=>e.values));return{timePoints:i,datasets:o,min:Math.min(...a),max:Math.max(...a),lastUpdated:Date.now(),source:"fast-path"}}catch(e){return null}}async _fetchHistoryDataAsync(e,t){try{const i=new Date;let o=24;switch(e.time_period){case"1h":o=1;break;case"3h":o=3;break;case"6h":o=6;break;case"12h":o=12;break;case"24h":default:o=24;break;case"2d":o=48;break;case"7d":o=168;break;case"30d":o=720;break;case"90d":o=2160;break;case"365d":o=8760}const a=new Date(i.getTime()-60*o*60*1e3),n=e.entities.filter((e=>e.entity)).map((e=>e.entity));if(0===n.length)return;window.ultraCardGraphDebug={entityIds:n,startTime:a.toISOString(),endTime:i.toISOString(),status:"fetching"},Math.min(100,4*o),n.forEach((e=>{t.states[e]}));let r={};try{let e,o;try{o=await t.callWS({type:"history/history_during_period",start_time:a.toISOString(),end_time:i.toISOString(),entity_ids:n,include_start_time_state:!0,significant_changes_only:!1,minimal_response:!1}),e=o&&"object"==typeof o?n.map((e=>o[e]||[])).filter((e=>e.length>0)):[]}catch(o){const r=a.toISOString();e=await t.callApi("GET",`history/period/${r}`,{filter_entity_id:n.join(","),end_time:i.toISOString()})}if(window.ultraCardGraphDebug.response=e,window.ultraCardGraphDebug.status="success",o&&"object"==typeof o&&!Array.isArray(o)?Object.entries(o).forEach((([e,t])=>{Array.isArray(t)&&t.length>0&&(r[e]=t)})):Array.isArray(e)&&e.forEach((e=>{if(Array.isArray(e)&&e.length>0){const t=e[0].entity_id;r[t]=e}})),0===Object.keys(r).length)throw new Error("No history data returned from API")}catch(e){window.ultraCardGraphDebug.error=e,window.ultraCardGraphDebug.errorDetails={message:e.message,status:e.status,statusText:e.statusText,body:e.body,stack:e.stack},window.ultraCardGraphDebug.status="error";for(const e of n){const i=t.states[e];i&&(r[e]=[{entity_id:e,state:i.state,last_changed:(new Date).toISOString(),last_updated:(new Date).toISOString(),attributes:i.attributes}])}}const s=this._generateTimePoints(e.time_period),l=e.entities.map(((e,o)=>{var n;if(!e.entity)return null;let l;if(Array.isArray(r))l=r;else{if(!r[e.entity])return null;l=r[e.entity]}const d=t.states[e.entity],c=this._processHistoryData(l,s,e.attribute,a,i);return{name:e.name||(null==d?void 0:d.attributes.friendly_name)||e.entity,color:this._formatColor(e.color)||this._getDefaultColor(o),values:c,lineWidth:null!==(n=e.line_width)&&void 0!==n?n:2,showPoints:!1!==e.show_points,fillArea:!0===e.fill_area,lineStyle:e.line_style||"solid",unit:(null==d?void 0:d.attributes.unit_of_measurement)||"",entityId:e.entity}})).filter((e=>null!==e)),d=l.flatMap((e=>e.values)),c=Math.min(...d),p=Math.max(...d);this._historyData[e.id]={timePoints:s,datasets:l,min:c,max:p,lastUpdated:Date.now(),source:"history"},this._historyLoading[e.id]=!1,this._writeCache(e,this._historyData[e.id]),this.requestUpdate()}catch(t){this._historyError[e.id]="Failed to load history data",this._historyLoading[e.id]=!1,this.requestUpdate()}}_processHistoryData(e,t,i,o,a){if(!e||0===e.length)return new Array(t.length).fill(0);const n=[],r=e=>{if(null==e)return null;if("number"==typeof e&&isFinite(e))return e;const t=String(e).trim().toLowerCase();if("unknown"===t||"unavailable"===t||"none"===t||"null"===t)return null;const i=parseFloat(t);return isNaN(i)?null:i},s=(null==o?void 0:o.getTime())||Date.now()-864e5,l=((null==a?void 0:a.getTime())||Date.now())-s,d=e.map((e=>{let t;if(void 0!==e.s&&void 0!==e.lu)t={state:e.s,attributes:e.a||{},timestamp:1e3*e.lu};else{if(void 0===e.state||void 0===e.last_changed)return null;t={state:e.state,attributes:e.attributes||{},timestamp:new Date(e.last_changed).getTime()}}return"unavailable"===t.state||"unknown"===t.state?null:t})).filter((e=>null!==e)).sort(((e,t)=>e.timestamp-t.timestamp));return t.forEach(((e,o)=>{const a=o/(t.length-1),c=s+l*a;let p=null;for(let e=d.length-1;e>=0;e--){const t=d[e];if(t.timestamp<=c){const e=i?t.attributes[i]:t.state,o=r(e);if(null!==o){p=o;break}}}if(null===p)for(let e=d.length-1;e>=0;e--){const t=d[e],o=i?t.attributes[i]:t.state,a=r(o);if(null!==a){p=a;break}}n.push(null!=p?p:0)})),n}_coerceNumber(e){if(null==e)return null;if("number"==typeof e&&isFinite(e))return e;const t=String(e).trim().toLowerCase();if("unknown"===t||"unavailable"===t||"none"===t||"null"===t)return null;const i=parseFloat(t);return isNaN(i)?null:i}async _fetchForecastData(e,t){var i,o;if(!e.forecast_entity||!t)throw new Error("Forecast entity not configured");try{const a=await t.callWS({type:"call_service",domain:"weather",service:"get_forecasts",service_data:{type:e.forecast_type||"hourly"},target:{entity_id:e.forecast_entity},return_response:!0}),n=null===(o=null===(i=null==a?void 0:a.response)||void 0===i?void 0:i[e.forecast_entity])||void 0===o?void 0:o.forecast;if(!n||!Array.isArray(n))throw console.error("Ultra Card: Invalid forecast data received from weather service"),new Error("Invalid forecast data received from weather service");return n}catch(e){throw console.error("Ultra Card: Failed to fetch forecast data:",e),e}}_processForecastData(e,t,i){const o=(t.entities||[]).filter((e=>e.forecast_attribute)).map(((o,a)=>{var n;const r=o.forecast_attribute,s=e.map((e=>{const t=e[r];return"number"==typeof t?t:parseFloat(t)||0})).slice(0,i.length);return{name:o.name||this._getForecastAttributeLabel(r),color:this._formatColor(o.color)||this._getDefaultColor(a),values:s,lineWidth:null!==(n=o.line_width)&&void 0!==n?n:2,showPoints:!1!==o.show_points,fillArea:!0===o.fill_area,lineStyle:o.line_style||"solid",unit:this._getForecastAttributeUnit(r),entityId:t.forecast_entity}}));return{timePoints:this._generateForecastTimePoints(e,t.forecast_type),datasets:o,min:Math.min(...o.flatMap((e=>e.values))),max:Math.max(...o.flatMap((e=>e.values))),lastUpdated:Date.now(),source:"forecast"}}_generateForecastTimePoints(e,t){return e.map((e=>{const i=new Date(e.datetime);return"daily"===t?i.toLocaleDateString([],{month:"short",day:"numeric"}):i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}))}_getForecastAttributeLabel(e){return this.FORECAST_ATTRIBUTE_LABELS[e]||e}_getForecastAttributeUnit(e){return this.FORECAST_ATTRIBUTE_UNITS[e]||""}_loadForecastData(e,t){if(e.forecast_entity){if(!this._historyData[e.id]){const t=this._tryReadCache(e);t&&"forecast"===t.source&&(this._historyData[e.id]=t)}this._historyLoading[e.id]||this._deferredHistoryScheduled[e.id]||(this._deferredHistoryScheduled[e.id]=!0,this._historyLoading[e.id]=!0,this._fetchForecastDataAsync(e,t))}}async _fetchForecastDataAsync(e,t){try{const i=await this._fetchForecastData(e,t),o=this._generateForecastTimePoints(i,e.forecast_type),a=this._processForecastData(i,e,o);this._historyData[e.id]=a,this._historyLoading[e.id]=!1,this._writeCache(e,a),this.requestUpdate(),setTimeout((()=>{this.triggerPreviewUpdate();const e=document.querySelector("ultra-card");e&&e.requestUpdate&&e.requestUpdate()}),100)}catch(t){console.error("Ultra Card: Failed to load forecast data:",t),this._historyError[e.id]="Failed to load forecast data",this._historyLoading[e.id]=!1,this.requestUpdate()}}_getDefaultColor(e){return this.DEFAULT_COLORS[e%this.DEFAULT_COLORS.length]}_addEntity(e,t){var i;const o={id:this.generateId("entity"),entity:"",name:"",attribute:"",color:this._getDefaultColor((null===(i=e.entities)||void 0===i?void 0:i.length)||0),show_points:!0,fill_area:!0,line_width:2,line_style:"solid"};"forecast"===e.data_source&&(o.forecast_attribute="temperature"),t({entities:[...e.entities||[],o]})}_removeEntity(e,t,i){const o=[...e.entities||[]];o.splice(t,1),i({entities:o})}_updateEntity(e,t,i,o){const a=[...e.entities||[]];a[t]=Object.assign(Object.assign({},a[t]),i),delete this._historyData[e.id],delete this._historyError[e.id],delete this._historyLoading[e.id],delete this._deferredHistoryScheduled[e.id],o({entities:a})}_toggleEntityOptions(e,t){var i;e.stopPropagation();const o=null===(i=e.target)||void 0===i?void 0:i.closest(".entity-card"),a=null==o?void 0:o.querySelector(".entity-advanced-options"),n=null==o?void 0:o.querySelector(".entity-toggle-btn");a&&n&&(this.expandedEntities.has(t)?(this.expandedEntities.delete(t),a.style.maxHeight="0",a.style.opacity="0",a.style.marginTop="0",a.style.borderTop="none",n.style.transform="rotate(0deg)"):(this.expandedEntities.add(t),a.style.maxHeight=a.scrollHeight+"px",a.style.opacity="1",a.style.marginTop="16px",a.style.borderTop="1px solid var(--divider-color)",n.style.transform="rotate(180deg)"))}_getEntityAttributes(e,t){if(!e||!t.states[e])return[];const i=t.states[e].attributes;return Object.keys(i).filter((e=>!["friendly_name","icon","entity_picture"].includes(e))).map((e=>({value:e,label:e})))}_renderSizeControl(e,t,i,a,n,r,s,l,d,c){return o.qy`
      <div class="field-container" style="margin-bottom: 16px;">
        <div
          class="field-title"
          style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
        >
          ${d}
        </div>
        <div
          class="field-description"
          style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
        >
          ${c}
        </div>
        <style>
          .number-range-control {
            display: flex;
            gap: 8px;
            align-items: center;
          }

          .range-slider {
            flex: 0 0 65%;
            height: 6px;
            background: var(--divider-color);
            border-radius: 3px;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 0;
          }

          .range-slider::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }

          .range-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          }

          .range-slider:hover {
            background: var(--primary-color);
            opacity: 0.7;
          }

          .range-slider:hover::-webkit-slider-thumb {
            transform: scale(1.1);
          }

          .range-slider:hover::-moz-range-thumb {
            transform: scale(1.1);
          }

          .range-input {
            flex: 0 0 20%;
            padding: 6px 8px !important;
            border: 1px solid var(--divider-color);
            border-radius: 4px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
            font-size: 13px;
            text-align: center;
            transition: all 0.2s ease;
            box-sizing: border-box;
          }

          .range-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
          }

          .range-reset-btn {
            width: 32px;
            height: 32px;
            padding: 0;
            border: 1px solid var(--divider-color);
            border-radius: 4px;
            background: var(--secondary-background-color);
            color: var(--primary-text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
          }

          .range-reset-btn:hover {
            background: var(--primary-color);
            color: var(--text-primary-color);
            border-color: var(--primary-color);
          }

          .range-reset-btn ha-icon {
            font-size: 14px;
          }
        </style>
        <div class="number-range-control">
          <input
            type="range"
            class="range-slider"
            min="${r}"
            max="${s}"
            step="1"
            .value="${n}"
            @input=${o=>{const n=o.target,r=parseInt(n.value);t>=0?this._updateEntity(e,t,{[a]:r},i):i({[a]:r})}}
          />
          <input
            type="number"
            class="range-input"
            min="${r}"
            max="${s}"
            step="1"
            .value="${n}"
            @input=${o=>{const n=o.target,r=parseInt(n.value);isNaN(r)||(t>=0?this._updateEntity(e,t,{[a]:r},i):i({[a]:r}))}}
            @keydown=${o=>{if("ArrowUp"===o.key||"ArrowDown"===o.key){o.preventDefault();const n=o.target,d=parseInt(n.value)||l,c="ArrowUp"===o.key?1:-1,p=Math.max(r,Math.min(s,d+c));t>=0?this._updateEntity(e,t,{[a]:p},i):i({[a]:p})}}}
          />
          <button
            class="range-reset-btn"
            @click=${()=>{t>=0?this._updateEntity(e,t,{[a]:l},i):i({[a]:l})}}
            title="Reset to default (${l})"
          >
            <ha-icon icon="mdi:refresh"></ha-icon>
          </button>
        </div>
      </div>
    `}hasActiveLink(e){const t=e.tap_action&&"default"!==e.tap_action.action&&"nothing"!==e.tap_action.action,i=e.hold_action&&"default"!==e.hold_action.action&&"nothing"!==e.hold_action.action,o=e.double_tap_action&&"default"!==e.double_tap_action.action&&"nothing"!==e.double_tap_action.action;return t||i||o}handleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i,o)}),300)}handleDoubleClick(e,t,i){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i)}handleMouseDown(e,t,i){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i)}),500)}handleMouseUp(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null)}handleMouseLeave(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTouchStart(e,t,i){this.handleMouseDown(e,t,i)}handleTouchEnd(e,t,i){this.handleMouseUp(e,t,i)}handleTapAction(e,t,i,o){if(!this.isHolding&&t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action){const a=Object.assign({},t.tap_action);s.K.handleAction(a,i,e.target,o)}}handleHoldAction(e,t,i,o){if(t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action){const a=Object.assign({},t.hold_action);s.K.handleAction(a,i,e.target,o)}}handleDoubleAction(e,t,i,o){if(t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action){const a=Object.assign({},t.double_tap_action);s.K.handleAction(a,i,e.target,o)}}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}_resolveChartWidth(e){const t=e.chart_width_percent;if("number"==typeof t&&isFinite(t))return`${Math.max(10,Math.min(100,Math.round(t)))}%`;const i=e.chart_width;return"string"==typeof i&&""!==i.trim()?i.trim():"100%"}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"0px"} ${this.addPixelUnit(e.padding_right)||"0px"} ${this.addPixelUnit(e.padding_bottom)||"0px"} ${this.addPixelUnit(e.padding_left)||"0px"}`:"0"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"8px"} ${this.addPixelUnit(e.margin_right)||"0px"} ${this.addPixelUnit(e.margin_bottom)||"8px"} ${this.addPixelUnit(e.margin_left)||"0px"}`:"8px 0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){var i,o;const a=e.background_image_type,n=e.background_image,r=e.background_image_entity;if(!a||"none"===a)return"none";switch(a){case"upload":if(n)return`url("${(0,h.V)(t,n)}")`;break;case"url":if(n)return`url("${n}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const a=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(o=e.attributes)||void 0===o?void 0:o.image)||("string"==typeof e.state?e.state:"");if(a&&"unknown"!==a&&"unavailable"!==a)return`url("${(0,h.V)(t,a)}")`}}}return"none"}getBorderCSS(e){const t=e.border;return t&&"none"!==t.style?`${t.width||1}px ${t.style||"solid"} ${t.color||"#ccc"}`:"none"}renderLogicTab(e,t,i,o){return d.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];return t.chart_type||i.push("Chart type is required"),"forecast"===t.data_source?(t.forecast_entity||i.push("Weather entity is required for forecast mode"),t.entities&&0!==t.entities.length?t.entities.forEach(((e,t)=>{e.forecast_attribute||i.push(`Entity ${t+1}: Forecast attribute selection is required`)})):i.push("At least one forecast attribute is required")):t.entities&&0!==t.entities.length?t.entities.forEach(((e,t)=>{e.entity||i.push(`Entity ${t+1}: Entity selection is required`)})):i.push("At least one entity is required"),"custom"===t.time_period&&(t.custom_time_start||i.push("Custom start time is required"),t.custom_time_end||i.push("Custom end time is required")),!t.template_mode||t.template&&""!==t.template.trim()||i.push("Template code is required when template mode is enabled"),{valid:0===i.length,errors:i}}getStyles(){return'\n      .uc-graphs-module {\n        width: 100%;\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n        position: relative;\n        overflow: hidden;\n        contain: layout style;\n      }\n\n      /* Graph content area containment */\n      .uc-graphs-module .chart-container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        box-sizing: border-box;\n      }\n\n      /* Legend containment */\n      .uc-graphs-module .graph-legend {\n        max-width: calc(100% - 16px) !important;\n        box-sizing: border-box;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .uc-graphs-module .graph-legend > div {\n        min-width: 0;\n        flex-shrink: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      /* Header info containment */\n      .uc-graphs-module .graph-header-info {\n        max-width: calc(100% - 32px) !important;\n        box-sizing: border-box;\n        overflow: hidden;\n      }\n\n      .uc-graphs-module .graph-title,\n      .uc-graphs-module .graph-value {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        max-width: 100%;\n      }\n\n      .entity-card {\n        transition: all 0.2s ease;\n      }\n\n      .entity-card:hover {\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      .entity-advanced-options {\n        transition: max-height 0.3s ease, opacity 0.2s ease;\n        opacity: 0;\n      }\n\n      .entity-advanced-options[data-expanded="true"] {\n        opacity: 1;\n      }\n\n      .entity-toggle-button ha-icon {\n        transition: transform 0.2s ease;\n      }\n\n      .entity-header {\n        cursor: pointer;\n      }\n\n      .entity-header:hover .entity-toggle-button {\n        color: var(--primary-color);\n      }\n\n      .uc-graphs-general-tab,\n      .uc-graphs-actions-tab,\n      .uc-graphs-other-tab {\n        padding: 16px;\n      }\n\n      .entities-repeater {\n        margin: 16px 0;\n      }\n\n      .entity-item {\n        background: var(--card-background-color);\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 12px;\n      }\n\n      .entity-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 12px;\n      }\n\n      .entity-number {\n        font-weight: 500;\n        color: var(--primary-text-color);\n      }\n\n      .chart-container {\n        position: relative;\n        width: 100%;\n        margin: 0 !important;\n        padding: 0 !important;\n        box-sizing: border-box;\n      }\n\n      .chart-title {\n        font-weight: 500;\n        margin-bottom: 8px;\n      }\n\n      .chart-legend {\n        margin-top: 12px;\n      }\n\n      .chart-legend.legend-top {\n        margin-top: 0;\n        margin-bottom: 12px;\n      }\n\n      .chart-legend.legend-left,\n      .chart-legend.legend-right {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .chart-legend.legend-left {\n        left: 0;\n      }\n\n      .chart-legend.legend-right {\n        right: 0;\n      }\n\n      .graphs-module-clickable {\n        cursor: pointer;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      .graphs-module-clickable.hover-enabled:hover {\n        transform: scale(1.02);\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n    \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Conditional fields grouping */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Number range control styles */\n      .number-range-control {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n      }\n\n      .range-slider {\n        flex: 0 0 65%;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        min-width: 0;\n      }\n\n      .range-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider::-moz-range-thumb {\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .range-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-input {\n        flex: 0 0 20%;\n        padding: 6px 8px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        box-sizing: border-box;\n      }\n\n      .range-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .range-reset-btn {\n        width: 32px;\n        height: 32px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .range-reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .range-reset-btn ha-icon {\n        font-size: 14px;\n      }\n\n      /* Responsive styles */\n      @media (max-width: 768px) {\n        .chart-container {\n          min-height: 200px;\n        }\n        \n        .uc-graphs-module .graph-legend {\n          max-width: calc(100% - 8px) !important;\n          gap: 4px !important;\n          font-size: 11px !important;\n        }\n        \n        .uc-graphs-module .graph-header-info {\n          max-width: calc(100% - 16px) !important;\n        }\n        \n        .uc-graphs-module .graph-title {\n          font-size: 14px !important;\n        }\n        \n        .uc-graphs-module .graph-value {\n          font-size: 20px !important;\n        }\n      }\n\n      /* Animation styles */\n      .uc-graphs-module[data-animation="true"] {\n        animation: fadeIn 0.5s ease-in-out;\n      }\n\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n          transform: translateY(10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n\n      /* Hover effects */\n      .uc-graphs-module:hover {\n        transition: box-shadow 0.3s ease;\n      }\n\n      /* Loading state */\n      .chart-loading {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        color: var(--secondary-text-color);\n        overflow: hidden;\n      }\n\n      .chart-error {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        color: var(--error-color);\n        text-align: center;\n        padding: 20px;\n        overflow: hidden;\n        word-wrap: break-word;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n      \n      /* SVG text containment for pie charts */\n      .uc-graphs-module svg text {\n        pointer-events: none;\n        user-select: none;\n      }\n      \n      /* Ensure tooltips stay within bounds and appear above everything */\n      [id^="graph-tooltip-"] {\n        position: fixed !important;\n        z-index: 10000 !important;\n        max-width: calc(100vw - 32px);\n        word-wrap: break-word;\n        box-sizing: border-box;\n        pointer-events: none !important;\n      }\n    '}cleanup(){this.clickTimeout&&clearTimeout(this.clickTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this._updateInterval&&clearInterval(this._updateInterval),Object.keys(this._historyData).forEach((e=>{const t=document.getElementById(`graph-tooltip-${e}`);t&&t.parentNode===document.body&&document.body.removeChild(t)}))}requestUpdate(){"undefined"!=typeof window&&(window.dispatchEvent(new CustomEvent("ultra-card-update")),window.dispatchEvent(new CustomEvent("ultra-card-template-update",{bubbles:!0,composed:!0})))}}},1397:(e,t,i)=>{i.d(t,{S:()=>n});var o=i(4345);class a{constructor(){this.hass=null,this.templateService=null}static getInstance(){return a.instance||(a.instance=new a),a.instance}setHass(e){this.hass=e,e&&(this.templateService=new o.I(e))}evaluateDisplayConditions(e,t="always"){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if("always"===t||!e||0===e.length)return!0;const i=e.map((e=>this.evaluateSingleCondition(e)));switch(t){case"every":return i.every((e=>e));case"any":return i.some((e=>e));default:return!0}}evaluateModuleVisibility(e){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if(e.template_mode&&e.template){const t={id:`template_${e.id}`,type:"template",template:e.template};return this.evaluateTemplateCondition(t)}return this.evaluateDisplayConditions(e.display_conditions||[],e.display_mode||"always")}evaluateRowVisibility(e){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if(e.template_mode&&e.template){const t={id:`template_${e.id}`,type:"template",template:e.template};return this.evaluateTemplateCondition(t)}return this.evaluateDisplayConditions(e.display_conditions||[],e.display_mode||"always")}evaluateColumnVisibility(e){if(!this.hass)return console.warn("[LogicService] HomeAssistant instance not available"),!0;if(e.template_mode&&e.template){const t={id:`template_${e.id}`,type:"template",template:e.template};return this.evaluateTemplateCondition(t)}return this.evaluateDisplayConditions(e.display_conditions||[],e.display_mode||"always")}evaluateSingleCondition(e){if(!1===e.enabled)return!0;switch(e.type){case"entity_state":case"entity":return this.evaluateEntityStateCondition(e);case"entity_attribute":return this.evaluateEntityAttributeCondition(e);case"time":return this.evaluateTimeCondition(e);case"template":return this.evaluateTemplateCondition(e);default:return console.warn("[LogicService] Unknown condition type:",e.type),!0}}evaluateEntityStateCondition(e){if(!e.entity||!this.hass)return!0;const t=this.hass.states[e.entity];if(!t)return console.warn(`[LogicService] Entity not found: ${e.entity}`),!0;const i=e.operator||"=",o=e.value,a=t.state;switch(i){case"=":return a===String(o);case"!=":return a!==String(o);case">":const e=this.tryParseNumber(a),t=this.tryParseNumber(o);return null!==e&&null!==t&&e>t;case">=":const n=this.tryParseNumber(a),r=this.tryParseNumber(o);return null!==n&&null!==r&&n>=r;case"<":const s=this.tryParseNumber(a),l=this.tryParseNumber(o);return null!==s&&null!==l&&s<l;case"<=":const d=this.tryParseNumber(a),c=this.tryParseNumber(o);return null!==d&&null!==c&&d<=c;case"contains":return String(a).toLowerCase().includes(String(o).toLowerCase());case"not_contains":return!String(a).toLowerCase().includes(String(o).toLowerCase());case"has_value":return null!=a&&""!==a;case"no_value":return null==a||""===a;default:return console.warn(`[LogicService] Unknown operator: ${i}`),!0}}evaluateEntityAttributeCondition(e){if(!e.entity||!e.attribute||!this.hass)return!0;const t=this.hass.states[e.entity];if(!t)return console.warn(`[LogicService] Entity not found: ${e.entity}`),!0;const i=t.attributes[e.attribute];if(void 0===i)return console.warn(`[LogicService] Attribute '${e.attribute}' not found on entity '${e.entity}'`),!0;const o=e.operator||"=",a=e.value,n=i;switch(o){case"=":return String(n)===String(a);case"!=":return String(n)!==String(a);case">":const e=this.tryParseNumber(n),t=this.tryParseNumber(a);return null!==e&&null!==t&&e>t;case">=":const i=this.tryParseNumber(n),r=this.tryParseNumber(a);return null!==i&&null!==r&&i>=r;case"<":const s=this.tryParseNumber(n),l=this.tryParseNumber(a);return null!==s&&null!==l&&s<l;case"<=":const d=this.tryParseNumber(n),c=this.tryParseNumber(a);return null!==d&&null!==c&&d<=c;case"contains":return String(n).toLowerCase().includes(String(a).toLowerCase());case"not_contains":return!String(n).toLowerCase().includes(String(a).toLowerCase());case"has_value":return null!=n&&""!==n;case"no_value":return null==n||""===n;default:return console.warn(`[LogicService] Unknown operator: ${o}`),!0}}evaluateTimeCondition(e){if(!e.time_from||!e.time_to)return!0;const t=new Date,i=60*t.getHours()+t.getMinutes(),[o,a]=e.time_from.split(":").map(Number),[n,r]=e.time_to.split(":").map(Number),s=60*o+a,l=60*n+r;return s<=l?i>=s&&i<=l:i>=s||i<=l}evaluateTemplateCondition(e){if(!e.template||!this.hass)return!0;try{const t=`logic_condition_${e.id}_${e.template}`;if(this.templateService)if(this.templateService.hasTemplateSubscription(t)){const e=this.templateService.getTemplateResult(t);if(void 0!==e)return e}else this.templateService.subscribeToTemplate(e.template,t,(()=>{}));this.hass.callApi&&this.hass.callApi("POST","template",{template:e.template}).then((e=>{const i=e.toLowerCase().trim();let o;if(["true","on","yes","1"].includes(i))o=!0;else if(["false","off","no","0","unavailable","unknown","none",""].includes(i))o=!1;else{const e=parseFloat(i);o=!isNaN(e)&&0!==e}this.templateService&&this.templateService._templateResults.set(t,o)})).catch((e=>{console.warn("[LogicService] Error evaluating template via API:",e)}));const i=e.template;if(i.includes("{% if ")&&i.includes(" %}")){const e=i.match(/\{\%\s*if\s+(.+?)\s*\%\}/);if(e){const t=e[1].match(/states\(['"]([^'"]+)['"]\)\s*(==|!=)\s*['"]([^'"]+)['"]/);if(t){const e=t[1],i=t[2],o=t[3],a=this.hass.states[e];if(a){const e=a.state;if("=="===i)return e===o;if("!="===i)return e!==o}}}}const o=/\{\{\s*states\(['"]([^'"]+)['"]\)\s*\}\}/g;let a,n=i;for(;null!==(a=o.exec(i));){const e=a[1],t=this.hass.states[e],i=t?t.state:"unknown";n=n.replace(a[0],i)}if(n!==i){const e=n.toLowerCase().trim();if(["true","on","yes","1"].includes(e))return!0;if(["false","off","no","0","unavailable","unknown","none",""].includes(e))return!1}return!0}catch(e){return console.warn("[LogicService] Error evaluating template condition:",e),!0}}tryParseNumber(e){if("number"==typeof e)return e;if("string"==typeof e){const t=parseFloat(e);return isNaN(t)?null:t}return null}evaluateLogicProperties(e){if(!e.logic_entity||!this.hass)return!0;const t={id:"logic-property",type:e.logic_attribute?"entity_attribute":"entity_state",entity:e.logic_entity,attribute:e.logic_attribute,operator:e.logic_operator||"=",value:e.logic_value};return this.evaluateSingleCondition(t)}}const n=a.getInstance()},1522:(e,t,i)=>{i.d(t,{E:()=>d});var o=i(5183),a=i(456),n=i(866),r=i(2371),s=i(796),l=i(7987);i(6768);class d extends n.m{constructor(){super(...arguments),this.metadata={type:"dropdown",title:"Dropdown",description:"Interactive dropdown selector with Home Assistant actions",author:"WJD Designs",version:"1.0.0",icon:"mdi:menu-down",category:"interactive",tags:["dropdown","select","menu","scene","service","interactive"]},this.expandedOptions=new Set,this.dropdownOpen=!1,this.currentSelection=new Map,this.draggedIndex=null}createDefault(e,t){return{id:e||this.generateId("dropdown"),type:"dropdown",source_mode:"manual",source_entity:void 0,placeholder:"Choose an option...",options:[{id:this.generateId("option"),label:"Turn On Lights",action:{action:"perform-action",service:"light.turn_on",target:{entity_id:["light.living_room"]}}},{id:this.generateId("option"),label:"Turn Off Lights",action:{action:"perform-action",service:"light.turn_off",target:{entity_id:["light.living_room"]}}}],entity_option_customization:{},current_selection:"Turn On Lights",track_state:!0,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[],enable_hover_effect:!1,hover_background_color:"var(--primary-color)"}}getOptionsFromEntity(e,t){var i;if(!e.source_entity||!t)return[];const o=t.states[e.source_entity];if(!o)return[];const a=null===(i=o.attributes)||void 0===i?void 0:i.options;return Array.isArray(a)?a:[]}getCurrentStateFromEntity(e,t){if(!e.source_entity||!t)return;const i=t.states[e.source_entity];return i?i.state:void 0}renderEntitySourcePreview(e,t,i){const n=this.getOptionsFromEntity(e,t),r=this.getCurrentStateFromEntity(e,t);return 0===n.length?o.qy`
        <div style="font-size: 12px; color: var(--secondary-text-color); font-style: italic;">
          ${(0,a.kg)("editor.dropdown.no_options_found",i,"No options found for this entity")}
        </div>
      `:o.qy`
      <div style="font-size: 12px; margin-top: 8px;">
        <div style="font-weight: 600; margin-bottom: 4px; color: var(--primary-text-color);">
          ${(0,a.kg)("editor.dropdown.available_options",i,"Available Options")}
          (${n.length}):
        </div>
        <div style="color: var(--secondary-text-color); line-height: 1.6;">
          ${n.map(((e,t)=>o.qy`<div style="display: flex; align-items: center; gap: 6px;">
                <span style="color: var(--primary-color);"></span>
                <span
                  style="${e===r?"font-weight: 600; color: var(--primary-color);":""}"
                  >${e}</span
                >
                ${e===r?o.qy`<span style="font-size: 10px; opacity: 0.7;">(current)</span>`:""}
              </div>`))}
        </div>
      </div>
    `}renderGeneralTab(e,t,i,n){var r,s;const l=e,d=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en",c=(e,t)=>{const i=l.options.map((i=>i.id===e?Object.assign(Object.assign({},i),t):i));n({options:i})},p=(e,t)=>{const i=[...l.options],[o]=i.splice(e,1);i.splice(t,0,o),n({options:i})},u=e=>{const t=l.options.find((t=>t.id===e));if(t){const i=Object.assign(Object.assign({},t),{id:this.generateId("option"),label:`${t.label} (Copy)`}),o=l.options.findIndex((t=>t.id===e)),a=[...l.options.slice(0,o+1),i,...l.options.slice(o+1)];n({options:a})}};return o.qy`
      ${this.injectUcFormStyles()}
      <div class="general-tab">
        <!-- Source Configuration -->
        <div class="settings-section">
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,a.kg)("editor.dropdown.source.title",d,"Dropdown Source")}
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            ${(0,a.kg)("editor.dropdown.source.desc",d,"Choose whether to manually define options or use a select/input_select entity.")}
          </div>

          <!-- Source Mode Selection -->
          <div style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.dropdown.source_mode.title",d,"Source Mode"),(0,a.kg)("editor.dropdown.source_mode.desc",d,"Manual: Define custom options with actions. Entity: Use options from a select or input_select entity."),t,{source_mode:l.source_mode||"manual"},[this.selectField("source_mode",[{value:"manual",label:(0,a.kg)("editor.dropdown.source_mode.manual",d,"Manual Options")},{value:"entity",label:(0,a.kg)("editor.dropdown.source_mode.entity",d,"Entity Source")}])],(e=>{const t=e.detail.value.source_mode;t!==(l.source_mode||"manual")&&(n({source_mode:t}),setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
          </div>

          <!-- Entity Picker (only shown when source_mode is 'entity') -->
          ${"entity"===l.source_mode?o.qy`
                <div style="margin-bottom: 16px;">
                  ${this.renderConditionalFieldsGroup((0,a.kg)("editor.dropdown.entity_source_config",d,"Entity Source Configuration"),o.qy`
                      ${this.renderFieldSection((0,a.kg)("editor.dropdown.source_entity.title",d,"Source Entity"),(0,a.kg)("editor.dropdown.source_entity.desc",d,"Select or input_select entity to use as the source for dropdown options."),t,{source_entity:l.source_entity||""},[{name:"source_entity",label:"",selector:{entity:{domain:["input_select","select"]}}}],(e=>{const t=e.detail.value.source_entity;t!==(l.source_entity||"")&&(n({source_entity:t}),setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
                      ${l.source_entity?o.qy`
                            <div
                              style="margin-top: 12px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.05); border-radius: 4px; border-left: 3px solid var(--primary-color);"
                            >
                              <div
                                style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 8px;"
                              >
                                ${(0,a.kg)("editor.dropdown.entity_source_info",d,"Options will be automatically populated from the entity. The dropdown will display the current state and update the entity when an option is selected.")}
                              </div>
                              ${this.renderEntitySourcePreview(l,t,d)}
                            </div>
                          `:""}
                    `)}
                </div>
              `:""}
        </div>

        <!-- Basic Settings (only show for manual mode or when no entity is selected) -->
        ${"manual"===l.source_mode?o.qy`
              <div class="settings-section">
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
                >
                  ${(0,a.kg)("editor.dropdown.basic.title",d,"Basic Settings")}
                </div>
                <div
                  style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
                >
                  ${(0,a.kg)("editor.dropdown.basic.desc",d,"Configure the dropdown appearance and behavior.")}
                </div>

                <!-- Keep Selection State -->
                <div
                  style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;"
                >
                  <div>
                    <div
                      style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
                    >
                      ${(0,a.kg)("editor.dropdown.keep_selection_state.title",d,"Keep Selection State")}
                    </div>
                    <div
                      style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8; line-height: 1.4;"
                    >
                      ${(0,a.kg)("editor.dropdown.keep_selection_state.desc",d,"Remember and display the last selected option (recommended for scene selectors)")}
                    </div>
                  </div>
                  <ha-switch
                    .checked=${null===(s=l.track_state)||void 0===s||s}
                    @change=${e=>{const t=e.target;n({track_state:t.checked})}}
                  ></ha-switch>
                </div>

                <!-- Placeholder (only show when track_state is disabled) -->
                ${l.track_state?"":o.qy`
                      <div style="margin-bottom: 16px;">
                        <div
                          class="field-title"
                          style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
                        >
                          ${(0,a.kg)("editor.dropdown.placeholder.title",d,"Placeholder")}
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
                        >
                          ${(0,a.kg)("editor.dropdown.placeholder.desc",d,"Text shown when no option is selected.")}
                        </div>
                        ${this.renderUcForm(t,{placeholder:l.placeholder||""},[this.textField("placeholder")],(e=>{e.detail.value.placeholder!==(l.placeholder||"")&&n(e.detail.value)}),!1)}
                      </div>
                    `}
              </div>

              <!-- Dropdown Options -->
              <div class="settings-section">
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
                >
                  ${(0,a.kg)("editor.dropdown.options.title",d,"Dropdown Options")}
                </div>

                <div class="options-list">
                  ${l.options.map(((e,i)=>o.qy`
                      <div
                        class="option-item"
                        style="margin-bottom: 24px; background: var(--secondary-background-color); border-radius: 8px; border: 1px solid var(--divider-color); overflow: hidden;"
                        data-option-id="${e.id}"
                        data-option-index="${i}"
                        @dragover=${e=>this.handleDragOver(e)}
                        @dragenter=${e=>this.handleDragEnter(e)}
                        @dragleave=${e=>this.handleDragLeave(e)}
                        @drop=${e=>this.handleDrop(e,i,p)}
                      >
                        <div
                          class="option-header"
                          style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: rgba(var(--rgb-primary-color), 0.05); border-bottom: 1px solid var(--divider-color); cursor: pointer;"
                          @click=${e=>this.toggleHeader(e)}
                        >
                          <div style="display: flex; align-items: center; gap: 12px;">
                            <div
                              class="drag-handle"
                              style="padding: 8px; margin: -8px; cursor: grab; border-radius: 4px; transition: background-color 0.2s ease;"
                              draggable="true"
                              @dragstart=${e=>this.handleDragStart(e,i)}
                              @dragend=${e=>this.handleDragEnd(e)}
                              @click=${e=>e.stopPropagation()}
                              @mousedown=${e=>e.stopPropagation()}
                              .title=${(0,a.kg)("editor.dropdown.drag_option",d,"Drag to reorder")}
                              @mouseenter=${e=>{e.target.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)"}}
                              @mouseleave=${e=>{e.target.style.backgroundColor="transparent"}}
                            >
                              <ha-icon
                                icon="mdi:drag"
                                style="color: var(--secondary-text-color); pointer-events: none;"
                              ></ha-icon>
                            </div>
                            <div style="font-weight: 600; color: var(--primary-text-color);">
                              ${e.label||(0,a.kg)("editor.dropdown.option_number",d,"Option {number}").replace("{number}",(i+1).toString())}
                            </div>
                          </div>
                          <div style="display: flex; align-items: center; gap: 8px;">
                            <ha-icon-button
                              @click=${t=>{t.stopPropagation(),u(e.id)}}
                              .title=${(0,a.kg)("editor.dropdown.duplicate_option",d,"Duplicate option")}
                            >
                              <ha-icon icon="mdi:content-duplicate"></ha-icon>
                            </ha-icon-button>
                            <ha-icon-button
                              @click=${t=>{t.stopPropagation(),(e=>{const t=l.options.filter((t=>t.id!==e));n({options:t})})(e.id)}}
                              .title=${(0,a.kg)("editor.dropdown.remove_option",d,"Remove option")}
                              .disabled=${l.options.length<=1}
                            >
                              <ha-icon icon="mdi:delete"></ha-icon>
                            </ha-icon-button>
                            <ha-icon
                              class="expand-caret"
                              icon="mdi:chevron-down"
                              style="color: var(--secondary-text-color); transition: transform 0.2s ease; transform: ${this.expandedOptions.has(e.id)?"rotate(180deg)":"rotate(0deg)"}; cursor: pointer; padding: 8px; margin: -8px;"
                              @click=${t=>{t.stopPropagation(),t.preventDefault(),console.log("Direct caret clicked for option:",e.id);const i=t.target,o=i.closest(".option-item"),a=null==o?void 0:o.querySelector(".option-content");if(o&&a&&i){const e=o.getAttribute("data-option-id")||"";console.log("Direct caret - found ID:",e),this.expandedOptions.has(e)?(this.expandedOptions.delete(e),a.style.display="none",i.style.transform="rotate(0deg)",console.log("Direct caret - collapsed")):(this.expandedOptions.add(e),a.style.display="block",i.style.transform="rotate(180deg)",console.log("Direct caret - expanded"))}}}
                            ></ha-icon>
                          </div>
                        </div>

                        <div
                          class="option-content"
                          style="padding: 16px; display: ${this.expandedOptions.has(e.id)?"block":"none"};"
                        >
                          ${this.renderOptionConfiguration(e,t,d,c)}
                        </div>
                      </div>
                    `))}
                </div>

                <div style="margin-top: 16px; text-align: center;">
                  <ha-button @click=${()=>{const e=this.generateId("option"),t={id:e,label:`Option ${l.options.length+1}`,action:{action:"more-info",entity:""}};this.expandedOptions.add(e),n({options:[...l.options,t]})}}>
                    <ha-icon icon="mdi:plus" slot="icon"></ha-icon>
                    ${(0,a.kg)("editor.dropdown.add_option",d,"Add Option")}
                  </ha-button>
                </div>
              </div>
            `:o.qy`
              <div class="settings-section">
                <div
                  class="section-title"
                  style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
                >
                  ${(0,a.kg)("editor.dropdown.basic.title",d,"Basic Settings")}
                </div>
                <div
                  style="text-align: center; padding: 32px; color: var(--secondary-text-color); background: rgba(var(--rgb-primary-color), 0.05); border-radius: 8px;"
                >
                  <ha-icon
                    icon="mdi:link-variant"
                    style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"
                  ></ha-icon>
                  <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">
                    ${(0,a.kg)("editor.dropdown.entity_mode_active",d,"Entity Source Mode Active")}
                  </div>
                  <div style="font-size: 14px; line-height: 1.4;">
                    ${(0,a.kg)("editor.dropdown.entity_mode_desc",d,"Options are automatically managed by the selected entity. The dropdown will display the current state and update the entity when an option is selected.")}
                  </div>
                </div>
              </div>
            `}
      </div>
    `}handleDragStart(e,t){var i;if(console.log("Drag start for index:",t),this.draggedIndex=t,e.dataTransfer){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.toString());const o=e.target.closest(".option-item");if(null==o?void 0:o.querySelector(".option-header")){const a=document.createElement("div"),n=(null===(i=null==o?void 0:o.querySelector(".option-header div:nth-child(1) div:nth-child(2)"))||void 0===i?void 0:i.textContent)||`Option ${t+1}`;a.innerHTML=`\n          <div style="\n            display: flex; \n            align-items: center; \n            gap: 8px; \n            padding: 8px 12px;\n            background: var(--primary-color);\n            color: white;\n            border-radius: 6px;\n            font-size: 14px;\n            font-weight: 600;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n            white-space: nowrap;\n            max-width: 200px;\n            transform: rotate(2deg);\n          ">\n            <ha-icon icon="mdi:drag" style="color: white; font-size: 16px;"></ha-icon>\n            <span>${n}</span>\n          </div>\n        `,a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.style.zIndex="10000",a.style.pointerEvents="none",document.body.appendChild(a),e.dataTransfer.setDragImage(a,100,20),setTimeout((()=>{document.body.contains(a)&&document.body.removeChild(a)}),0)}}const o=e.target.closest(".option-item");o&&(o.classList.add("dragging"),console.log("Added dragging class to option item"))}handleDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}handleDragEnter(e){e.preventDefault();const t=e.currentTarget;t&&!t.classList.contains("dragging")&&(t.style.borderTop="3px solid var(--primary-color)",t.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)",console.log("Drag entered option item"))}handleDragLeave(e){const t=e.currentTarget;t&&(t.style.borderTop="",t.style.backgroundColor="",console.log("Drag left option item"))}handleDrop(e,t,i){e.preventDefault(),console.log("Drop event - from:",this.draggedIndex,"to:",t);const o=e.currentTarget;o.style.borderTop="",o.style.backgroundColor="",null!==this.draggedIndex&&this.draggedIndex!==t&&(console.log("Executing moveOption from",this.draggedIndex,"to",t),i(this.draggedIndex,t)),document.querySelectorAll(".option-item").forEach((e=>{e.style.borderTop="",e.style.backgroundColor="",e.classList.remove("dragging")})),this.draggedIndex=null}handleDragEnd(e){var t;console.log("Drag end");const i=null===(t=e.target)||void 0===t?void 0:t.closest(".option-item");i&&(i.classList.remove("dragging"),console.log("Removed dragging class")),document.querySelectorAll(".option-item").forEach((e=>{e.style.borderTop=""})),this.draggedIndex=null}toggleHeader(e){console.log("Header clicked");const t=e.currentTarget.closest(".option-item");if(!t)return void console.log("No card found");const i=t.getAttribute("data-option-id")||"";if(!i)return void console.log("No ID found");console.log("Toggling option with ID:",i);const o=t.querySelector(".option-content"),a=t.querySelector(".expand-caret");if(console.log("Found content from card:",o),console.log("Found caret from card:",a),this.expandedOptions.has(i)?this.expandedOptions.delete(i):this.expandedOptions.add(i),o&&a){const e=this.expandedOptions.has(i);console.log("Is expanded:",e),e?(o.style.display="block",a.style.transform="rotate(180deg)",console.log("Showing content, rotating caret to 180deg")):(o.style.display="none",a.style.transform="rotate(0deg)",console.log("Hiding content, rotating caret to 0deg"))}}toggleOptionExpanded(e){console.log("toggleOptionExpanded called for:",e),console.log("Current expanded options:",Array.from(this.expandedOptions)),this.expandedOptions.has(e)?(this.expandedOptions.delete(e),console.log("Removing from expanded options")):(this.expandedOptions.add(e),console.log("Adding to expanded options"));const t=document.querySelector(`[data-option-id="${e}"]`);if(console.log("Found option element:",t),t){const i=t.querySelector(".option-content"),o=t.querySelector(".expand-caret");if(console.log("Found content:",i),console.log("Found caret:",o),i&&o){const t=this.expandedOptions.has(e);console.log("Is expanded:",t),t?(i.style.display="block",o.style.transform="rotate(180deg)",console.log("Showing content, rotating caret to 180deg")):(i.style.display="none",o.style.transform="rotate(0deg)",console.log("Hiding content, rotating caret to 0deg"))}}}renderOptionConfiguration(e,t,i,n){return o.qy`
      <!-- Basic Option Settings -->
      <div class="field-group" style="margin-bottom: 12px;">
        ${this.renderFieldSection((0,a.kg)("editor.dropdown.option.label",i,"Label"),(0,a.kg)("editor.dropdown.option.label_desc",i,"Display text for this option"),t,{label:e.label},[this.textField("label")],(t=>n(e.id,t.detail.value)))}
      </div>

      <div class="field-group" style="margin-bottom: 12px;">
        ${this.renderFieldSection((0,a.kg)("editor.dropdown.option.icon",i,"Icon"),(0,a.kg)("editor.dropdown.option.icon_desc",i,"Optional icon for this option (e.g., mdi:lightbulb)"),t,{icon:e.icon||""},[this.iconField("icon")],(t=>n(e.id,t.detail.value)))}
      </div>

      ${e.icon?o.qy`
            <div class="field-group" style="margin-bottom: 12px;">
              <div
                style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;"
              >
                <div>
                  <div
                    style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
                  >
                    ${(0,a.kg)("editor.dropdown.option.use_state_color",i,"Use State Color")}
                  </div>
                  <div
                    style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8; line-height: 1.4;"
                  >
                    ${(0,a.kg)("editor.dropdown.option.use_state_color_desc",i,"Use the entity state color for the icon (overrides custom color)")}
                  </div>
                </div>
                <ha-switch
                  .checked=${e.use_state_color||!1}
                  @change=${t=>{const i=t.target;n(e.id,{use_state_color:i.checked})}}
                ></ha-switch>
              </div>

              ${e.use_state_color?o.qy`
                    <div
                      style="text-align: center; padding: 16px; color: var(--secondary-text-color); font-style: italic; background: rgba(var(--rgb-primary-color), 0.05); border-radius: 4px;"
                    >
                      ${(0,a.kg)("editor.dropdown.option.state_color_enabled",i,"Icon will use entity state color automatically")}
                    </div>
                  `:o.qy`
                    <div class="field-group">
                      <ultra-color-picker
                        .label=${(0,a.kg)("editor.dropdown.option.icon_color",i,"Icon Color")}
                        .value=${e.icon_color||"var(--primary-color)"}
                        .defaultValue=${"var(--primary-color)"}
                        .hass=${t}
                        @value-changed=${t=>n(e.id,{icon_color:t.detail.value})}
                      ></ultra-color-picker>
                    </div>
                  `}
            </div>
          `:""}

      <!-- Action Configuration -->
      <div class="field-group" style="margin-bottom: 12px;">
        <div
          style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--primary-text-color);"
        >
          ${(0,a.kg)("editor.dropdown.option.action",i,"Action")}
        </div>
        <div style="color: var(--secondary-text-color); font-size: 13px; margin-bottom: 12px;">
          ${(0,a.kg)("editor.dropdown.option.action_desc",i,"What happens when this option is selected")}
        </div>
        ${this.renderUcForm(t,{action_config:e.action},[{name:"action_config",label:"",selector:{ui_action:{actions:["more-info","toggle","navigate","url","perform-action","assist"]}}}],(t=>{var i;const o=null===(i=t.detail.value)||void 0===i?void 0:i.action_config;o&&JSON.stringify(e.action||{})!==JSON.stringify(o||{})&&(n(e.id,{action:o}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
      </div>

      ${"more-info"===e.action.action?o.qy`
            <div class="field-group" style="margin-bottom: 12px;">
              ${this.renderConditionalFieldsGroup((0,a.kg)("editor.dropdown.option.more_info_config",i,"More Info Configuration"),o.qy`
                  <div class="field-group">
                    ${this.renderFieldSection((0,a.kg)("editor.dropdown.option.more_info_entity",i,"Entity"),(0,a.kg)("editor.dropdown.option.more_info_entity_desc",i,"Entity to show more information for"),t,{entity:e.action.entity||""},[this.entityField("entity")],(t=>{t.detail.value.entity!==(e.action.entity||"")&&n(e.id,{action:Object.assign(Object.assign({},e.action),{entity:t.detail.value.entity})})}))}
                  </div>
                `)}
            </div>
          `:""}
      ${"toggle"===e.action.action?o.qy`
            <div class="field-group" style="margin-bottom: 12px;">
              ${this.renderConditionalFieldsGroup((0,a.kg)("editor.dropdown.option.toggle_config",i,"Toggle Configuration"),o.qy`
                  <div class="field-group">
                    ${this.renderFieldSection((0,a.kg)("editor.dropdown.option.toggle_entity",i,"Entity"),(0,a.kg)("editor.dropdown.option.toggle_entity_desc",i,"Entity to toggle on/off"),t,{entity:e.action.entity||""},[this.entityField("entity")],(t=>{t.detail.value.entity!==(e.action.entity||"")&&n(e.id,{action:Object.assign(Object.assign({},e.action),{entity:t.detail.value.entity})})}))}
                  </div>
                `)}
            </div>
          `:""}
    `}renderActionsTab(){return o.qy`
      <div style="text-align: center; padding: 40px; color: var(--secondary-text-color);">
        <ha-icon
          icon="mdi:information-outline"
          style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"
        ></ha-icon>
        <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">
          Actions Configured Per Option
        </div>
        <div style="font-size: 14px; line-height: 1.4;">
          Actions for this dropdown are configured individually for each option in the General tab.
          Each dropdown option can have its own action (More Info, Toggle, Navigate, etc.).
        </div>
      </div>
    `}renderLogicTab(e,t,i,o){return r.X.render(e,t,(e=>o(e)))}renderPreview(e,t,i){var a;const n=e,r=n,s=r.color||"var(--primary-text-color)",d=r.font_size||14,c=r.background_color||"var(--secondary-background-color)",p=r.border_color||"var(--divider-color)",u=r.border_radius||4,g={width:"100%",height:"auto",padding:r.padding_top||r.padding_bottom||r.padding_left||r.padding_right?`${r.padding_top||"0px"} ${r.padding_right||"0px"} ${r.padding_bottom||"0px"} ${r.padding_left||"0px"}`:"0",margin:r.margin_top||r.margin_bottom||r.margin_left||r.margin_right?`${r.margin_top||"8px"} ${r.margin_right||"0"} ${r.margin_bottom||"8px"} ${r.margin_left||"0"}`:"8px 0",background:r.background_color||"transparent","border-radius":r.border_radius||"4px",border:r.border_style&&"none"!==r.border_style?`${r.border_width||"1px"} ${r.border_style} ${r.border_color||"var(--divider-color)"}`:"none","box-shadow":r.box_shadow_h||r.box_shadow_v||r.box_shadow_blur||r.box_shadow_spread?`${r.box_shadow_h||"0px"} ${r.box_shadow_v||"0px"} ${r.box_shadow_blur||"0px"} ${r.box_shadow_spread||"0px"} ${r.box_shadow_color||"rgba(0,0,0,.2)"}`:"none","box-sizing":"border-box"},m=r.width||"100%",h=r.height||"auto",_=r.max_width||"none",v=r.max_height||"none",f=r.min_width||"auto",b=r.min_height||"auto",y=r.font_family||"inherit",k=r.font_weight||"normal",x=r.text_align||"left",w=`\n      width: ${this.addPixelUnit(m)};\n      max-width: ${this.addPixelUnit(_)};\n      min-width: ${this.addPixelUnit(f)};\n      height: ${this.addPixelUnit(h)};\n      max-height: ${this.addPixelUnit(v)};\n      min-height: ${this.addPixelUnit(b)};\n      font-size: ${this.addPixelUnit(d.toString())};\n      font-family: ${y};\n      font-weight: ${k};\n      text-align: ${x};\n      color: ${s};\n      background: ${c};\n      border: 1px solid ${p};\n      border-radius: ${this.addPixelUnit(u.toString())};\n      padding: 8px 12px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      box-sizing: border-box;\n    `,S="entity"===n.source_mode&&n.source_entity;let A,C=[];if(S){const e=this.getOptionsFromEntity(n,t),i=this.getCurrentStateFromEntity(n,t);C=e.map((e=>{var t,i,o,a,r,s;return{label:e,icon:null===(i=null===(t=n.entity_option_customization)||void 0===t?void 0:t[e])||void 0===i?void 0:i.icon,icon_color:null===(a=null===(o=n.entity_option_customization)||void 0===o?void 0:o[e])||void 0===a?void 0:a.icon_color,use_state_color:null===(s=null===(r=n.entity_option_customization)||void 0===r?void 0:r[e])||void 0===s?void 0:s.use_state_color}})),A=i}else if(C=n.options.map((e=>({label:e.label,icon:e.icon,icon_color:e.icon_color,use_state_color:e.use_state_color}))),n.track_state){const e=n.id,t=this.currentSelection.get(e)||n.current_selection;A=t}let z=C.find((e=>e.label===A));if(!z&&C.length>0&&(S||n.track_state)&&(z=C[0],!S)){const e=n.id;this.currentSelection.set(e,z.label)}const T=!S&&!n.track_state,I=n.placeholder||"Choose an option...",E=null===(a=n.design)||void 0===a?void 0:a.hover_effect,$=l.k.getHoverEffectClass(E);return o.qy`
      <div
        class="dropdown-module-container ${$}"
        style=${this.styleObjectToCss(g)}
      >
        <div
          class="dropdown-module-preview"
          style="display: flex; flex-direction: column; align-items: flex-start;"
        >
          <div style="position: relative; width: 100%;">
            <div class="custom-dropdown" style="position: relative;">
              <div
                class="dropdown-selected"
                style="${w} display: flex; align-items: center; justify-content: space-between;"
                @click=${e=>{console.log("Dropdown clicked"),this.toggleDropdown(e)}}
              >
                <div style="display: flex; align-items: center; gap: 8px;">
                  ${z?o.qy`
                        ${z.icon?o.qy`<ha-icon
                              icon="${z.icon}"
                              style="color: ${this.getOptionIconColor(z,t,n)};"
                            ></ha-icon>`:""}
                        <span>${z.label}</span>
                      `:o.qy`<span style="color: var(--secondary-text-color);"
                        >${I}</span
                      >`}
                </div>
                <ha-icon
                  icon="mdi:chevron-down"
                  style="color: var(--secondary-text-color);"
                ></ha-icon>
              </div>

              <div
                class="dropdown-options"
                style="position: absolute; top: 100%; left: 0; right: 0; background: var(--card-background-color); border: 1px solid var(--divider-color); border-radius: 4px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 10; display: none; max-height: 200px; overflow-y: auto; color: ${s}; font-size: ${this.addPixelUnit(d.toString())}; font-family: ${y}; font-weight: ${k};"
              >
                ${T?o.qy`
                      <div
                        class="dropdown-option"
                        style="padding: 12px; cursor: pointer; border-bottom: 1px solid var(--divider-color); color: inherit; font-size: inherit; font-family: inherit; font-weight: inherit;"
                        @click=${e=>{console.log("Placeholder option clicked"),this.selectOption("",n),this.closeDropdown(e)}}
                      >
                        <span
                          style="color: var(--secondary-text-color); font-size: inherit; font-family: inherit; font-weight: inherit;"
                          >${I}</span
                        >
                      </div>
                    `:""}
                ${C.map((e=>o.qy`
                    <div
                      class="dropdown-option"
                      style="padding: 12px; cursor: pointer; border-bottom: 1px solid var(--divider-color); display: flex; align-items: center; gap: 8px; transition: background-color 0.2s ease; color: inherit; font-size: inherit; font-family: inherit; font-weight: inherit;"
                      @click=${o=>{if(console.log("Option clicked:",e.label),S)this.updateEntitySelection(n,e.label,t);else{if(n.track_state){const i=n.id;this.currentSelection.set(i,e.label),console.log("Updated selection for module",i,"to:",e.label);const a=o.target.closest(".dropdown-module-container");if(a){const i=a.querySelector(".dropdown-selected span:last-child");i&&(i.textContent=e.label,console.log("Updated display to show:",e.label));const o=a.querySelector(".dropdown-selected > div");if(o){const i=o.querySelector("ha-icon");if(e.icon)if(i)i.setAttribute("icon",e.icon),i.style.color=this.getOptionIconColor(e,t,n);else{const i=document.createElement("ha-icon");i.setAttribute("icon",e.icon),i.style.color=this.getOptionIconColor(e,t,n),i.style.marginRight="8px",o.insertBefore(i,o.firstChild)}else i&&i.remove()}}}const a=n.options.find((t=>t.label===e.label));a&&(this.selectOption(e.label,n),this.executeOptionAction(a,t,o.currentTarget||void 0,i))}this.closeDropdown(o)}}
                      @mouseenter=${e=>{e.target.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)"}}
                      @mouseleave=${e=>{e.target.style.backgroundColor="transparent"}}
                    >
                      ${e.icon?o.qy`<ha-icon
                            icon="${e.icon}"
                            style="color: ${this.getOptionIconColor(e,t,n)};"
                          ></ha-icon>`:""}
                      <span>${e.label}</span>
                    </div>
                  `))}
              </div>
            </div>
          </div>
        </div>
      </div>
    `}getOptionIconColor(e,t,i){var o;if(e.use_state_color&&i.source_entity&&t){const e=t.states[i.source_entity];if(e){const t=null===(o=e.attributes)||void 0===o?void 0:o.rgb_color;if(t&&Array.isArray(t)&&3===t.length)return`rgb(${t[0]}, ${t[1]}, ${t[2]})`;const a=i.source_entity.split(".")[0],n=e.state;switch(a){case"light":return"on"===n?"#FFA500":"#666666";case"switch":return"on"===n?"#4CAF50":"#666666";case"binary_sensor":return"on"===n?"#F44336":"#4CAF50";case"sensor":return"#2196F3";default:return"on"===n||"open"===n||"active"===n?"var(--primary-color)":"#666666"}}}return e.icon_color||"var(--primary-color)"}async updateEntitySelection(e,t,i){if(!e.source_entity||!i)return;const o=e.source_entity.split(".")[0],a="input_select"===o?"input_select.select_option":"select.select_option";console.log(`Calling ${a} for ${e.source_entity} with option: ${t}`);try{await i.callService(o,"select_option",{entity_id:e.source_entity,option:t}),console.log("Service call successful")}catch(e){console.error("Failed to update entity selection:",e)}}getIconColor(e,t){var i;if(e.use_state_color&&e.action.entity&&t){const o=t.states[e.action.entity];if(o){const t=null===(i=o.attributes)||void 0===i?void 0:i.rgb_color;if(t&&Array.isArray(t)&&3===t.length)return`rgb(${t[0]}, ${t[1]}, ${t[2]})`;const a=e.action.entity.split(".")[0],n=o.state;switch(a){case"light":return"on"===n?"#FFA500":"#666666";case"switch":return"on"===n?"#4CAF50":"#666666";case"binary_sensor":return"on"===n?"#F44336":"#4CAF50";case"sensor":return"#2196F3";default:return"on"===n||"open"===n||"active"===n?"var(--primary-color)":"#666666"}}}return e.icon_color||"var(--primary-color)"}toggleDropdown(e){this.dropdownOpen=!this.dropdownOpen;let t=null;if(e){const i=e.target.closest(".custom-dropdown");t=null==i?void 0:i.querySelector(".dropdown-options")}else t=document.querySelector(".dropdown-options");t&&(t.style.display=this.dropdownOpen?"block":"none",console.log("Dropdown toggled:",this.dropdownOpen?"open":"closed"))}closeDropdown(e){this.dropdownOpen=!1;let t=null;if(e){const i=e.target.closest(".custom-dropdown");t=null==i?void 0:i.querySelector(".dropdown-options")}else t=document.querySelector(".dropdown-options");t&&(t.style.display="none",console.log("Dropdown closed"))}selectOption(e,t){t.track_state&&e&&console.log("Selected option:",e)}executeOptionAction(e,t,o,a){if(console.log("Executing action:",e.action),!1!==(null==a?void 0:a.haptic_feedback)&&Promise.resolve().then(i.bind(i,9811)).then((({forwardHaptic:e})=>{e("selection")})),"more-info"===e.action.action&&e.action.entity){console.log("Triggering more-info for entity:",e.action.entity);const t=new CustomEvent("hass-more-info",{detail:{entityId:e.action.entity},bubbles:!0,composed:!0});o?o.dispatchEvent(t):(document.dispatchEvent(t),window.dispatchEvent(t))}else s.K.handleAction(e.action,t,o||document.body,a)}addPixelUnit(e){return e?"auto"===e||"none"===e||"inherit"===e?e:/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${t}`)).join("; ")}validate(e){const t=e,i=[...super.validate(e).errors];return"entity"===t.source_mode?t.source_entity||i.push("Source entity is required when using entity source mode"):t.options&&0!==t.options.length?t.options.forEach(((e,t)=>{if(e.label&&""!==e.label.trim()||i.push(`Option ${t+1}: Label is required`),e.action&&e.action.action)switch(e.action.action){case"more-info":case"toggle":e.action.entity||i.push(`Option ${t+1}: Entity is required for ${e.action.action} action`);break;case"navigate":e.action.navigation_path||i.push(`Option ${t+1}: Navigation path is required for navigate action`);break;case"url":e.action.url_path||i.push(`Option ${t+1}: URL is required for url action`);break;case"perform-action":e.action.perform_action||e.action.service||i.push(`Option ${t+1}: Service is required for perform-action`)}else i.push(`Option ${t+1}: Action is required`)})):i.push("At least one dropdown option is required in manual mode"),{valid:0===i.length,errors:i}}getStyles(){return'\n      .dropdown-module-container {\n        width: 100%;\n        box-sizing: border-box;\n        position: relative;\n        pointer-events: auto;\n        isolation: isolate;\n      }\n\n      .dropdown-module-preview {\n        width: 100%;\n        position: relative;\n      }\n\n      /* label styles removed */\n\n      /* Fix dropdown width in preview */\n      .dropdown-module-container select,\n      .dropdown-module-container ha-select {\n        width: 100% !important;\n        max-width: 100% !important;\n        box-sizing: border-box !important;\n        pointer-events: auto !important;\n      }\n\n      /* Custom dropdown styling - allow Global Design tab to override */\n      .custom-dropdown {\n        position: relative;\n        width: inherit;\n        height: inherit;\n      }\n\n      .dropdown-selected {\n        cursor: pointer;\n        user-select: none;\n        /* Allow all design properties to be inherited */\n        font-family: inherit;\n        font-size: inherit;\n        font-weight: inherit;\n        color: inherit;\n        background: inherit;\n        border: inherit;\n        border-radius: inherit;\n        text-align: inherit;\n        width: inherit;\n        height: inherit;\n        max-width: inherit;\n        max-height: inherit;\n        min-width: inherit;\n        min-height: inherit;\n      }\n\n      .dropdown-selected:hover {\n        background: rgba(var(--rgb-primary-color), 0.05) !important;\n      }\n\n      .dropdown-options {\n        position: absolute !important;\n        z-index: 10 !important;\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;\n        border-radius: inherit;\n        font-family: inherit;\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      .dropdown-option {\n        font-family: inherit;\n        font-size: inherit;\n        font-weight: inherit;\n        color: inherit;\n        text-align: inherit;\n      }\n\n      .dropdown-option:hover {\n        background: rgba(var(--rgb-primary-color), 0.1) !important;\n      }\n\n      .dropdown-option:last-child {\n        border-bottom: none !important;\n      }\n\n      /* Prevent event bubbling from dropdown container */\n      .dropdown-module-container * {\n        pointer-events: auto;\n      }\n\n      /* Capture all events within dropdown container */\n      .dropdown-module-container {\n        position: relative;\n        z-index: 1;\n      }\n\n      .dropdown-module-container::before {\n        content: \'\';\n        position: absolute;\n        top: -10px;\n        left: -10px;\n        right: -10px;\n        bottom: -10px;\n        pointer-events: auto;\n        z-index: -1;\n      }\n\n      /* Let HA handle dropdown positioning naturally */\n\n      /* Style dropdown items with icons */\n      .dropdown-module-container mwc-list-item ha-icon {\n        margin-right: 8px !important;\n        color: var(--primary-color) !important;\n      }\n\n      .dropdown-module-container mwc-list-item span {\n        display: flex !important;\n        align-items: center !important;\n      }\n\n      .options-list {\n        max-height: 400px;\n        overflow-y: auto;\n      }\n\n      .option-item {\n        transition: all 0.2s ease;\n        position: relative;\n        cursor: default;\n      }\n\n      .option-item:hover {\n        background: rgba(var(--rgb-primary-color), 0.05);\n      }\n\n      .option-item[draggable="true"] {\n        cursor: grab;\n      }\n\n      .option-item:active {\n        cursor: grabbing;\n      }\n\n      .option-item.dragging {\n        opacity: 0.7;\n        transform: rotate(2deg) scale(0.95);\n        box-shadow: 0 8px 16px rgba(0,0,0,0.2);\n        z-index: 100;\n        position: relative;\n      }\n\n      .drag-handle {\n        transition: all 0.2s ease;\n      }\n\n      .drag-handle:strong {\n        background: rgba(var(--rgb-primary-color), 0.15) !important;\n        transform: scale(1.1);\n      }\n\n      .drag-handle:active {\n        cursor: grabbing !important;\n        transform: scale(0.95);\n      }\n\n      .option-header {\n        user-select: none;\n        transition: background-color 0.2s ease;\n      }\n\n      .option-header:hover {\n        background: rgba(var(--rgb-primary-color), 0.1) !important;\n      }\n\n      .option-header ha-icon[icon="mdi:drag"] {\n        transition: color 0.2s ease;\n      }\n\n      .option-header:hover ha-icon[icon="mdi:drag"] {\n        color: var(--primary-color) !important;\n      }\n\n      .expand-caret {\n        transition: transform 0.2s ease !important;\n      }\n\n      .option-content {\n        transition: all 0.3s ease;\n        overflow: hidden;\n      }\n\n      .option-content.collapsed {\n        display: none !important;\n      }\n\n      /* Simplified form styling - let HA handle dropdowns */\n      .option-item ha-form,\n      .field-group ha-form {\n        position: relative;\n      }\n\n      /* Conditional fields grouping */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Settings section styling */\n      .settings-section {\n        background: var(--secondary-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 32px;\n        position: relative;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        text-transform: uppercase !important;\n        color: var(--primary-color) !important;\n        margin-bottom: 16px !important;\n        padding-bottom: 0 !important;\n        border-bottom: none !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n        color: var(--primary-text-color) !important;\n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .field-group {\n        margin-bottom: 16px;\n        position: relative;\n      }\n    '}}},1866:(e,t,i)=>{i.d(t,{k:()=>m});var o=i(5183),a=i(866),n=i(3057),r=i(9662),s=i(4345),l=i(5400),d=i(7987),c=i(796),p=i(2381),u=i(456),g=i(2371);i(6768);class m extends a.m{constructor(){super(...arguments),this.metadata={type:"icon",title:"Icons",description:"Interactive icon buttons",author:"WJD Designs",version:"1.0.0",icon:"mdi:circle",category:"interactive",tags:["icon","button","interactive","control"]},this._previewCollapsed=!1,this._attributeCache=new Map,this._processingAttributes=new Set,this._localStylesInjected=!1}_injectGlobalStyles(){if(!m._globalStylesInjected&&"undefined"!=typeof document){const e="uvc-icon-module-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=this.getStyles()+"\n"+m._ANIMATION_KEYFRAMES,document.head.appendChild(t)}m._globalStylesInjected=!0}}_hashString(e){let t=0;if(0===e.length)return t.toString();for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t).toString(36)}_highlightJinja2(e){if(!e)return"";let t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t=t.replace(/(\{\{[\s\S]*?\}\})/g,'<span style="color: #569cd6;">$1</span>'),t=t.replace(/(\{%[\s\S]*?%\})/g,'<span style="color: #c586c0;">$1</span>'),t=t.replace(/((['"`])[^'"`]*?\2)/g,'<span style="color: #ce9178;">$1</span>'),["if","else","elif","endif","for","endfor","in","not","and","or","is","true","false","none","True","False","None"].forEach((e=>{const i=new RegExp(`\\b(${e})\\b`,"g");t=t.replace(i,'<span style="color: #569cd6;">$1</span>')})),t=t.replace(/\b([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/g,'<span style="color: #dcdcaa;">$1</span>('),t=t.replace(/\|\s*([a-zA-Z_][a-zA-Z0-9_]*)/g,'| <span style="color: #dcdcaa;">$1</span>'),t=t.replace(/\b(\d+(?:\.\d+)?)\b/g,'<span style="color: #b5cea8;">$1</span>'),t=t.replace(/(==|!=|<=|>=|<|>|\+|-|\*|\/|%)/g,'<span style="color: #d4d4d4;">$1</span>'),t}createDefault(e,t){return{id:e||this.generateId("icon"),type:"icon",icons:[{id:this.generateId("icon-item"),entity:"weather.forecast_home",name:"",icon_inactive:"mdi:weather-partly-cloudy",icon_active:"mdi:weather-partly-cloudy",inactive_state:"",active_state:"",inactive_attribute:"",active_attribute:"",custom_inactive_state_text:"",custom_active_state_text:"",custom_inactive_name_text:"",custom_active_name_text:"",inactive_template_mode:!1,inactive_template:"",active_template_mode:!1,active_template:"",use_entity_color_for_icon:!1,use_state_color_for_inactive_icon:!1,use_state_color_for_active_icon:!1,color_inactive:"var(--secondary-text-color)",color_active:"var(--primary-color)",inactive_icon_color:"var(--secondary-text-color)",active_icon_color:"var(--primary-color)",inactive_name_color:"var(--primary-text-color)",active_name_color:"var(--primary-text-color)",inactive_state_color:"var(--secondary-text-color)",active_state_color:"var(--secondary-text-color)",show_name_when_inactive:!0,show_state_when_inactive:!0,show_icon_when_inactive:!0,show_name_when_active:!0,show_state_when_active:!0,show_icon_when_active:!0,show_state:!0,show_name:!0,show_units:!0,enable_hover_effect:!1,icon_size:26,text_size:14,name_icon_gap:8,name_state_gap:2,icon_state_gap:4,active_icon_size:26,inactive_icon_size:26,active_text_size:14,inactive_text_size:14,state_size:14,active_state_size:14,inactive_state_size:14,icon_size_locked:!0,text_size_locked:!0,state_size_locked:!0,active_icon_locked:!0,active_icon_color_locked:!1,active_icon_background_locked:!0,active_icon_background_color_locked:!0,active_name_locked:!0,active_name_color_locked:!0,active_state_locked:!1,active_state_color_locked:!0,icon_background:"none",use_entity_color_for_icon_background:!1,icon_background_color:"transparent",inactive_icon_animation:"none",active_icon_animation:"none",vertical_alignment:"center",container_width:void 0,container_background_shape:"none",container_background_color:"#808080",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},click_action:"toggle",double_click_action:"none",hold_action_legacy:"none",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:""}],columns:3,gap:16,tap_action:{action:"more-info",entity:"weather.forecast_home"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const r=e,s=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        ${r.icons.map(((e,i)=>o.qy`
            <div class="icon-settings-container">
              <!-- Entity Configuration -->
              ${this.renderSettingsSection((0,u.kg)("editor.icon.entity_config.title",s,"ENTITY CONFIGURATION"),(0,u.kg)("editor.icon.entity_config.desc",s,"Configure the entity and active/inactive states"),[{title:(0,u.kg)("editor.icon.entity",s,"Entity"),description:(0,u.kg)("editor.icon.entity_desc",s,"Select the entity this icon represents"),hass:t,data:{entity:e.entity||""},schema:[this.entityField("entity")],onChange:e=>{const o=e.detail.value.entity,n={entity:o};if(o&&(null==t?void 0:t.states[o])){const e=l.s.getEntityIcon(o,t);e&&(n.icon_inactive=e,!1!==r.icons[i].active_icon_locked&&(n.icon_active=e)),!r.tap_action||"nothing"===r.tap_action.action||"default"===r.tap_action.action||r.tap_action.action}if(o&&this._isBinaryEntity(o)){const e=r.icons[i];e.active_state||e.inactive_state||(n.active_state="on",n.inactive_state="off")}const s={icons:r.icons.map(((e,t)=>t===i?Object.assign(Object.assign({},e),n):e))};o&&(null==t?void 0:t.states[o])&&(!r.tap_action||"nothing"===r.tap_action.action||"default"===r.tap_action.action||"more-info"===r.tap_action.action)&&(s.tap_action={action:"more-info",entity:o}),a(s),setTimeout((()=>{try{this._triggerPreviewUpdate()}catch(e){}window.dispatchEvent(new CustomEvent("ultra-card-actions-refresh",{detail:{moduleId:r.id},bubbles:!0,composed:!0}))}),50);const d=`${r.icons[i].entity}_attributes`,c=`${o}_attributes`;this._attributeCache.delete(d),this._attributeCache.delete(c)}},{title:(0,u.kg)("editor.icon.inactive_state",s,"Inactive State"),description:(0,u.kg)("editor.icon.inactive_state_desc",s,'State value considered "inactive" (leave blank to use actual entity state)'),hass:t,data:{inactive_state:e.inactive_state||""},schema:[this.textField("inactive_state")],onChange:e=>this._updateIcon(r,i,{inactive_state:e.detail.value.inactive_state},a)},{title:(0,u.kg)("editor.icon.active_state",s,"Active State"),description:(0,u.kg)("editor.icon.active_state_desc",s,'State value considered "active" (leave blank to use actual entity state)'),hass:t,data:{active_state:e.active_state||""},schema:[this.textField("active_state")],onChange:e=>this._updateIcon(r,i,{active_state:e.detail.value.active_state},a)}])}

              <!-- Attributes Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  ${(0,u.kg)("editor.icon.attributes_section.title",s,"ATTRIBUTES")}
                </div>
                <div
                  class="section-description"
                  style="margin-bottom: 16px; font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;"
                >
                  ${(0,u.kg)("editor.icon.attributes_section.desc",s,"Select entity attributes to use instead of the main entity state for determining active/inactive conditions")}
                </div>

                <!-- Inactive Attribute -->
                <div class="field-container" style="margin-bottom: 16px;">
                  <div class="field-title">
                    ${(0,u.kg)("editor.icon.inactive_attribute",s,"Inactive Attribute")}
                  </div>
                  <div class="field-description">
                    ${(0,u.kg)("editor.icon.inactive_attribute_desc",s,'Entity attribute to check for inactive state (e.g., "condition" for weather)')}
                  </div>
                  ${this.renderUcForm(t,{inactive_attribute:e.inactive_attribute||""},[this.selectField("inactive_attribute",this._getEntityAttributes(e.entity,t))],(e=>{const t=e.detail.value.inactive_attribute;t!==(r.icons[i].inactive_attribute||"")&&(this._updateIcon(r,i,{inactive_attribute:t},a),setTimeout((()=>{this._triggerPreviewUpdate()}),50))}),!1)}
                </div>

                <!-- Active Attribute -->
                <div class="field-container">
                  <div class="field-title">
                    ${(0,u.kg)("editor.icon.active_attribute",s,"Active Attribute")}
                  </div>
                  <div class="field-description">
                    ${(0,u.kg)("editor.icon.active_attribute_desc",s,'Entity attribute to check for active state (e.g., "condition" for weather)')}
                  </div>
                  ${this.renderUcForm(t,{active_attribute:e.active_attribute||""},[this.selectField("active_attribute",this._getEntityAttributes(e.entity,t))],(e=>{const t=e.detail.value.active_attribute;t!==(r.icons[i].active_attribute||"")&&(this._updateIcon(r,i,{active_attribute:t},a),setTimeout((()=>{this._triggerPreviewUpdate()}),50))}),!1)}
                </div>
              </div>

              <!-- Icon Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <span>${(0,u.kg)("editor.icon.icon_section.title",s,"Icon")}</span>
                    <ha-switch
                      .checked=${!1!==e.show_icon_when_active&&!1!==e.show_icon_when_inactive}
                      @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{show_icon_when_active:t,show_icon_when_inactive:t},a)}}
                    ></ha-switch>
                  </div>
                </div>

                ${!1!==e.show_icon_when_active||!1!==e.show_icon_when_inactive?o.qy`
                      <!-- Inactive Icon Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,u.kg)("editor.icon.inactive_icon",s,"Inactive Icon")}
                          </summary>
                          <div style="padding: 16px;">
                            ${this.renderSettingsSection((0,u.kg)("editor.icon.inactive_icon_config",s,"Inactive Icon Configuration"),(0,u.kg)("editor.icon.inactive_icon_config_desc",s,"Configure the inactive icon settings"),[{title:(0,u.kg)("editor.icon.inactive_icon",s,"Inactive Icon"),description:(0,u.kg)("editor.icon.inactive_icon_desc",s,"Icon to show when inactive"),hass:t,data:r,schema:[this.iconField("icon_inactive")],onChange:e=>this._updateIconWithLockSync(r,i,"icon_inactive",e.detail.value.icon_inactive,a)}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_icon_color",s,"Inactive Icon Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.icon_color_inactive",s,"Color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_icon_color||"var(--secondary-text-color)"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_icon_color",e.detail.value,a)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.use_state_color_inactive",s,"Use State Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.use_state_color_inactive_desc",s,"Use the entity state color (RGB attributes) for inactive icon color")}
                              </div>
                              <ha-switch
                                .checked=${e.use_state_color_for_inactive_icon||!1}
                                @change=${e=>{const t=e.target;this._updateIcon(r,i,{use_state_color_for_inactive_icon:t.checked},a)}}
                              ></ha-switch>
                            </div>

                            ${this.renderSettingsSection((0,u.kg)("editor.icon.background_section.title",s,"Inactive Background"),(0,u.kg)("editor.icon.background_section.desc",s,"Configure the inactive background settings"),[{title:(0,u.kg)("editor.icon.inactive_icon_background",s,"Inactive Background Shape"),description:(0,u.kg)("editor.icon.background_shape_inactive",s,"Background shape when inactive"),hass:t,data:{inactive_icon_background:e.inactive_icon_background||"none"},schema:[this.selectField("inactive_icon_background",[{value:"none",label:"None"},{value:"circle",label:"Circle"},{value:"square",label:"Square"},{value:"rounded-square",label:"Rounded Square"}])],onChange:e=>{const t=e.detail.value.inactive_icon_background;if(t===(r.icons[i].inactive_icon_background||"none"))return;const o={inactive_icon_background:t};t&&"none"!==t&&(o.inactive_icon_background_color="var(--divider-color)"),this._updateIcon(r,i,o,a)}}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_icon_background_color",s,"Inactive Background Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.background_color_inactive",s,"Background color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_icon_background_color||"transparent"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_icon_background_color",e.detail.value,a)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_icon_size",s,"Inactive Icon Size")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.icon_size_inactive",s,"Icon size when inactive")}
                              </div>
                              ${this._renderSizeControl(r,i,a,"inactive_icon_size",e.inactive_icon_size||26,0,50,26)}
                            </div>
                          </div>
                        </details>
                      </div>

                      <!-- Active Icon Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,u.kg)("editor.icon.active_icon",s,"Active Icon")}
                          </summary>
                          <div style="padding: 16px;">
                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_icon",s,"Active Icon")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.active_icon_desc",s,"Icon to show when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_icon_locked","icon_active","icon_inactive",e.icon_active||e.icon_inactive||"","icon",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_icon_color",s,"Active Icon Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.icon_color_active",s,"Color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_icon_color_locked","active_icon_color","inactive_icon_color",e.active_icon_color||"var(--primary-color)","color",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.use_state_color_active",s,"Use State Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.use_state_color_active_desc",s,"Use the entity state color (RGB attributes) for active icon color")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_state_color_locked","use_state_color_for_active_icon","use_state_color_for_inactive_icon",e.use_state_color_for_active_icon||!1,"toggle",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_icon_background",s,"Active Background Shape")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.background_shape_active",s,"Background shape when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_icon_background_locked","active_icon_background","inactive_icon_background",e.active_icon_background||"none","select",t,[{value:"none",label:"None"},{value:"circle",label:"Circle"},{value:"square",label:"Square"},{value:"rounded-square",label:"Rounded Square"}])}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_icon_background_color",s,"Active Background Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.background_color_active",s,"Background color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_icon_background_color_locked","active_icon_background_color","inactive_icon_background_color",e.active_icon_background_color||"transparent","color",t)}
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_icon_size",s,"Active Icon Size")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.icon_size_active",s,"Icon size when active")}
                              </div>
                              ${this._renderSizeControlWithLock(r,i,a,"icon_size","active_icon_size","inactive_icon_size",e.active_icon_size||26,0,50,26)}
                            </div>
                          </div>
                        </details>
                      </div>
                    `:""}
              </div>

              <!-- Name Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <span>${(0,u.kg)("editor.icon.name_section.title",s,"Name")}</span>
                    <ha-switch
                      .checked=${!1!==e.show_name_when_active&&!1!==e.show_name_when_inactive}
                      @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{show_name_when_active:t,show_name_when_inactive:t},a)}}
                    ></ha-switch>
                  </div>
                </div>

                ${!1!==e.show_name_when_active||!1!==e.show_name_when_inactive?o.qy`
                      <!-- Inactive Name Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,u.kg)("editor.icon.inactive_name",s,"Inactive Name")}
                          </summary>
                          <div style="padding: 16px;">
                            ${this.renderSettingsSection((0,u.kg)("editor.icon.inactive_name_config",s,"Inactive Name Configuration"),(0,u.kg)("editor.icon.inactive_name_config_desc",s,"Configure the inactive name settings"),[{title:(0,u.kg)("editor.icon.custom_inactive_name",s,"Custom Inactive Name"),description:(0,u.kg)("editor.icon.custom_inactive_name_desc",s,"Override entity name when inactive (leave empty to use entity name)"),hass:t,data:{custom_inactive_name_text:e.custom_inactive_name_text||""},schema:[this.textField("custom_inactive_name_text")],onChange:e=>this._updateIcon(r,i,{custom_inactive_name_text:e.detail.value.custom_inactive_name_text},a)}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_name_color",s,"Inactive Name Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.name_color_inactive",s,"Name color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_name_color||"var(--primary-text-color)"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_name_color",e.detail.value,a)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_name_size",s,"Inactive Name Size")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.name_size_inactive",s,"Name text size when inactive")}
                              </div>
                              ${this._renderSizeControl(r,i,a,"inactive_text_size",e.inactive_text_size||14,0,50,14)}
                            </div>
                          </div>
                        </details>
                      </div>

                      <!-- Active Name Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,u.kg)("editor.icon.active_name",s,"Active Name")}
                          </summary>
                          <div style="padding: 16px;">
                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.custom_active_name",s,"Custom Active Name")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.custom_active_name_desc",s,"Override entity name when active (leave empty to use entity name)")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_name_locked","custom_active_name_text","custom_inactive_name_text",e.custom_active_name_text||"","text",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_name_color",s,"Active Name Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.name_color_active",s,"Name color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_name_color_locked","active_name_color","inactive_name_color",e.active_name_color||"var(--primary-text-color)","color",t)}
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_name_size",s,"Active Name Size")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.name_size_active",s,"Name text size when active")}
                              </div>
                              ${this._renderSizeControlWithLock(r,i,a,"text_size","active_text_size","inactive_text_size",e.active_text_size||e.inactive_text_size||14,0,50,12)}
                            </div>
                          </div>
                        </details>
                      </div>
                    `:""}
              </div>

              <!-- State Section -->
              <div class="settings-section" style="margin-bottom: 24px;">
                <div class="section-title">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <span>${(0,u.kg)("editor.icon.state_section.title",s,"State")}</span>
                    <ha-switch
                      .checked=${!1!==e.show_state_when_active&&!1!==e.show_state_when_inactive}
                      @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{show_state_when_active:t,show_state_when_inactive:t},a)}}
                    ></ha-switch>
                  </div>
                </div>

                ${!1!==e.show_state_when_active||!1!==e.show_state_when_inactive?o.qy`
                      <!-- Inactive State Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,u.kg)("editor.icon.inactive_state",s,"Inactive State")}
                          </summary>
                          <div style="padding: 16px;">
                            ${this.renderSettingsSection((0,u.kg)("editor.icon.inactive_state_config",s,"Inactive State Configuration"),(0,u.kg)("editor.icon.inactive_state_config_desc",s,"Configure the inactive state settings"),[{title:(0,u.kg)("editor.icon.custom_inactive_state",s,"Custom Inactive State"),description:(0,u.kg)("editor.icon.custom_inactive_state_desc",s,"Custom text when inactive (leave empty to use actual state)"),hass:t,data:{custom_inactive_state_text:e.custom_inactive_state_text||""},schema:[this.textField("custom_inactive_state_text")],onChange:e=>this._updateIcon(r,i,{custom_inactive_state_text:e.detail.value.custom_inactive_state_text},a)}])}

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_state_color",s,"Inactive State Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.state_color_inactive",s,"State color when inactive")}
                              </div>
                              <ultra-color-picker
                                .value=${e.inactive_state_color||"var(--secondary-text-color)"}
                                @value-changed=${e=>this._updateIconWithLockSync(r,i,"inactive_state_color",e.detail.value,a)}
                              ></ultra-color-picker>
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.inactive_state_size",s,"Inactive State Size")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.state_size_inactive",s,"State text size when inactive")}
                              </div>
                              ${this._renderSizeControl(r,i,a,"inactive_state_size",e.inactive_state_size||10,0,50,10)}
                            </div>
                          </div>
                        </details>
                      </div>

                      <!-- Active State Section -->
                      <div style="margin-top: 16px;">
                        <details
                          style="border: 1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color);"
                          @toggle=${e=>{const t=e.target,i=t.querySelector("ha-icon");i&&(i.style.transform=t.open?"rotate(90deg)":"rotate(0deg)")}}
                        >
                          <summary
                            style="padding: 16px; font-size: 16px; font-weight: 600; color: var(--primary-color); cursor: pointer; background: var(--secondary-background-color); border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 8px;"
                          >
                            <ha-icon
                              icon="mdi:chevron-right"
                              style="transition: transform 0.2s;"
                            ></ha-icon>
                            ${(0,u.kg)("editor.icon.active_state",s,"Active State")}
                          </summary>
                          <div style="padding: 16px;">
                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.custom_active_state",s,"Custom Active State")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.custom_active_state_desc",s,"Custom text when active (leave empty to use actual state)")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_state_locked","custom_active_state_text","custom_inactive_state_text",e.custom_active_state_text||"","text",t)}
                            </div>

                            <div class="field-container" style="margin-bottom: 16px;">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_state_color",s,"Active State Color")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.state_color_active",s,"State color when active")}
                              </div>
                              ${this._renderFieldWithLock(r,i,a,"active_state_color_locked","active_state_color","inactive_state_color",e.active_state_color||"var(--secondary-text-color)","color",t)}
                            </div>

                            <div class="field-container">
                              <div class="field-title">
                                ${(0,u.kg)("editor.icon.active_state_size",s,"Active State Size")}
                              </div>
                              <div class="field-description">
                                ${(0,u.kg)("editor.icon.state_size_active",s,"State text size when active")}
                              </div>
                              ${this._renderSizeControlWithLock(r,i,a,"state_size","active_state_size","inactive_state_size",e.active_state_size||10,0,50,10)}
                            </div>
                          </div>
                        </details>
                      </div>
                    `:""}
              </div>

              <!-- Advanced Template Mode Section -->
              <div class="template-section" style="margin-bottom: 24px;">
                <div class="template-header">
                  <div class="switch-container">
                    <label class="switch-label"
                      >${(0,u.kg)("editor.icon.template_section.title",s,"Advanced Template Mode")}</label
                    >
                    <label class="switch">
                      <input
                        type="checkbox"
                        .checked=${e.template_mode||!1}
                        @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{template_mode:t},a)}}
                      />
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div class="template-description">
                    ${(0,u.kg)("editor.icon.template_section.desc",s,"Use Jinja2 templates for advanced icon control. Templates can control visibility (true/false to show/hide icons) and customize state text. Return custom text for Active State, return actual entity state for Inactive State.")}
                  </div>
                </div>

                ${e.template_mode?o.qy`
                      <div class="template-content">
                        <textarea
                          .value=${e.template||""}
                          @input=${e=>{const t=e.target;this._updateIcon(r,i,{template:t.value},a)}}
                          placeholder="{% if states('binary_sensor.example') == 'on' %}true{% else %}false{% endif %}"
                          class="template-editor"
                          rows="6"
                        ></textarea>
                        <div class="template-help">
                          <p><strong>For visibility control, return a boolean:</strong></p>
                          <ul>
                            <li>
                              <code>true</code>, <code>on</code>, <code>yes</code>, <code>1</code> 
                              Show icon (Active State)
                            </li>
                            <li>
                              <code>false</code>, <code>off</code>, <code>no</code>,
                              <code>0</code>  Hide icon (Inactive State)
                            </li>
                          </ul>
                          <p><strong>For custom state text, return a string:</strong></p>
                          <ul>
                            <li>
                              <code
                                >{% if states('weather.forecast_home') == 'cloudy' %}About to Rain{%
                                else %}{{ states('weather.forecast_home') }}{% endif %}</code
                              >
                               When cloudy: shows "About to Rain" (Active), when not cloudy: shows
                              actual state (Inactive)
                            </li>
                            <li>
                              <code>{{ states('sensor.temperature') | round(1) }}F</code>  Shows
                              formatted temperature and Active State is current
                            </li>
                          </ul>
                          <p>
                            <strong>Note:</strong> Use the same entity name throughout your template
                            to avoid "unknown" states
                          </p>
                        </div>
                      </div>
                    `:""}
              </div>

              <!-- Dynamic Icon Color Template Section -->
              <div class="template-section" style="margin-bottom: 24px;">
                <div class="template-header">
                  <div class="switch-container">
                    <label class="switch-label"
                      >${(0,u.kg)("editor.icon.dynamic_color_template_section.title",s,"Dynamic Icon Color Template")}</label
                    >
                    <label class="switch">
                      <input
                        type="checkbox"
                        .checked=${e.dynamic_color_template_mode||!1}
                        @change=${e=>{const t=e.target.checked;this._updateIcon(r,i,{dynamic_color_template_mode:t},a)}}
                      />
                      <span class="slider round"></span>
                    </label>
                  </div>
                  <div class="template-description">
                    ${(0,u.kg)("editor.icon.dynamic_color_template_section.desc",s,"Use Jinja2 templates to dynamically change icon color based on conditions. Return a valid CSS color value (e.g., #FF0000, rgb(255,0,0), red) or empty for default color.")}
                  </div>
                </div>

                ${e.dynamic_color_template_mode?o.qy`
                      <div class="template-content">
                        <textarea
                          .value=${e.dynamic_color_template||""}
                          @input=${e=>{const t=e.target;this._updateIcon(r,i,{dynamic_color_template:t.value},a)}}
                          placeholder="{% if states('binary_sensor.example') == 'on' %}#FF0000{% else %}#00FF00{% endif %}"
                          class="template-editor"
                          rows="4"
                        ></textarea>
                        <div class="template-help">
                          <p><strong>Return a CSS color value:</strong></p>
                          <ul>
                            <li><code>#FF0000</code>  Red color in hex</li>
                            <li><code>rgb(255, 0, 0)</code>  Red color in RGB</li>
                            <li><code>red</code>  Red color by name</li>
                            <li>
                              <code
                                >{{ states.light.living_room.attributes.rgb_color | join(',') |
                                format('rgb(%s)') }}</code
                              >
                               Use entity RGB color
                            </li>
                          </ul>
                          <p>
                            <strong>Example:</strong>
                            <code
                              >{% if states('sensor.temperature') | int > 25 %}#FF4444{% else
                              %}#4444FF{% endif %}</code
                            >
                          </p>
                        </div>
                      </div>
                    `:""}
              </div>

              <!-- Icon Animation Section -->
              ${this.renderSettingsSection((0,u.kg)("editor.icon.animation_section.title",s,"Icon Animation"),(0,u.kg)("editor.icon.animation_section.desc",s,"Configure animations for active and inactive states"),[{title:(0,u.kg)("editor.icon.active_animation",s,"Active Animation"),description:(0,u.kg)("editor.icon.active_animation_desc",s,"Animation when icon is active"),hass:t,data:{active_icon_animation:e.active_icon_animation||"none"},schema:[this.selectField("active_icon_animation",[{value:"none",label:(0,u.kg)("editor.icon.animation_none",s,"None")},{value:"pulse",label:(0,u.kg)("editor.icon.animation_pulse",s,"Pulse")},{value:"spin",label:(0,u.kg)("editor.icon.animation_spin",s,"Spin")},{value:"bounce",label:(0,u.kg)("editor.icon.animation_bounce",s,"Bounce")},{value:"flash",label:(0,u.kg)("editor.icon.animation_flash",s,"Flash")},{value:"shake",label:(0,u.kg)("editor.icon.animation_shake",s,"Shake")},{value:"vibrate",label:(0,u.kg)("editor.icon.animation_vibrate",s,"Vibrate")},{value:"rotate-left",label:(0,u.kg)("editor.icon.animation_rotate_left",s,"Rotate Left")},{value:"rotate-right",label:(0,u.kg)("editor.icon.animation_rotate_right",s,"Rotate Right")},{value:"fade",label:(0,u.kg)("editor.icon.animation_fade",s,"Fade")},{value:"scale",label:(0,u.kg)("editor.icon.animation_scale",s,"Scale")},{value:"tada",label:(0,u.kg)("editor.icon.animation_tada",s,"Tada")}])],onChange:e=>{const t=e.detail.value.active_icon_animation;t!==(r.icons[i].active_icon_animation||"none")&&(this._updateIcon(r,i,{active_icon_animation:t},a),setTimeout((()=>{this._triggerPreviewUpdate()}),50))}},{title:(0,u.kg)("editor.icon.inactive_animation",s,"Inactive Animation"),description:(0,u.kg)("editor.icon.inactive_animation_desc",s,"Animation when icon is inactive"),hass:t,data:{inactive_icon_animation:e.inactive_icon_animation||"none"},schema:[this.selectField("inactive_icon_animation",[{value:"none",label:(0,u.kg)("editor.icon.animation_none",s,"None")},{value:"pulse",label:(0,u.kg)("editor.icon.animation_pulse",s,"Pulse")},{value:"spin",label:(0,u.kg)("editor.icon.animation_spin",s,"Spin")},{value:"bounce",label:(0,u.kg)("editor.icon.animation_bounce",s,"Bounce")},{value:"flash",label:(0,u.kg)("editor.icon.animation_flash",s,"Flash")},{value:"shake",label:(0,u.kg)("editor.icon.animation_shake",s,"Shake")},{value:"vibrate",label:(0,u.kg)("editor.icon.animation_vibrate",s,"Vibrate")},{value:"rotate-left",label:(0,u.kg)("editor.icon.animation_rotate_left",s,"Rotate Left")},{value:"rotate-right",label:(0,u.kg)("editor.icon.animation_rotate_right",s,"Rotate Right")},{value:"fade",label:(0,u.kg)("editor.icon.animation_fade",s,"Fade")},{value:"scale",label:(0,u.kg)("editor.icon.animation_scale",s,"Scale")},{value:"tada",label:(0,u.kg)("editor.icon.animation_tada",s,"Tada")}])],onChange:e=>{const t=e.detail.value.inactive_icon_animation;t!==(r.icons[i].inactive_icon_animation||"none")&&(this._updateIcon(r,i,{inactive_icon_animation:t},a),setTimeout((()=>{this._triggerPreviewUpdate()}),50))}}])}
            </div>
          `))}
      </div>
    `}renderActionsTab(e,t,i,o){return r.A.render(e,t,(e=>o(e)))}renderLogicTab(e,t,i,o){return g.X.render(e,t,(e=>o(e)))}renderOtherTab(e,t,i,o){return this.renderLogicTab(e,t,i,o)}renderPreview(e,t,i){const a=e;!this._templateService&&t&&(this._templateService=new s.I(t)),this._templateService&&t&&this._templateService.updateHass(t);const n=a,r=a.design||{},l={color:a.color||r.color,font_size:a.font_size||r.font_size,font_weight:a.font_weight||r.font_weight,font_style:a.font_style||r.font_style,text_transform:a.text_transform||r.text_transform,font_family:a.font_family||r.font_family,line_height:a.line_height||r.line_height,letter_spacing:a.letter_spacing||r.letter_spacing,text_align:a.text_align||r.text_align,text_shadow_h:a.text_shadow_h||r.text_shadow_h,text_shadow_v:a.text_shadow_v||r.text_shadow_v,text_shadow_blur:a.text_shadow_blur||r.text_shadow_blur,text_shadow_color:a.text_shadow_color||r.text_shadow_color,background_color:a.background_color||r.background_color,background_image:a.background_image||r.background_image,background_image_type:a.background_image_type||r.background_image_type,background_image_entity:a.background_image_entity||r.background_image_entity,background_size:a.background_size||r.background_size,background_position:a.background_position||r.background_position,background_repeat:a.background_repeat||r.background_repeat,border_radius:a.border_radius||r.border_radius,border_style:a.border_style||r.border_style,border_width:a.border_width||r.border_width,border_color:a.border_color||r.border_color,padding_top:a.padding_top||r.padding_top,padding_bottom:a.padding_bottom||r.padding_bottom,padding_left:a.padding_left||r.padding_left,padding_right:a.padding_right||r.padding_right,margin_top:a.margin_top||r.margin_top,margin_bottom:a.margin_bottom||r.margin_bottom,margin_left:a.margin_left||r.margin_left,margin_right:a.margin_right||r.margin_right,position:a.position||r.position,top:a.top||r.top,bottom:a.bottom||r.bottom,left:a.left||r.left,right:a.right||r.right,z_index:a.z_index||r.z_index,width:a.width||r.width,height:a.height||r.height,max_width:a.max_width||r.max_width,max_height:a.max_height||r.max_height,min_width:a.min_width||r.min_width,min_height:a.min_height||r.min_height,overflow:a.overflow||r.overflow,clip_path:a.clip_path||r.clip_path,backdrop_filter:a.backdrop_filter||r.backdrop_filter,box_shadow_h:a.box_shadow_h||r.box_shadow_h,box_shadow_v:a.box_shadow_v||r.box_shadow_v,box_shadow_blur:a.box_shadow_blur||r.box_shadow_blur,box_shadow_spread:a.box_shadow_spread||r.box_shadow_spread,box_shadow_color:a.box_shadow_color||r.box_shadow_color,hover_effect:a.hover_effect||r.hover_effect},p={padding:l.padding_top||l.padding_bottom||l.padding_left||l.padding_right||n.padding_top||n.padding_bottom||n.padding_left||n.padding_right?`${this.addPixelUnit(l.padding_top||n.padding_top)||"0px"} ${this.addPixelUnit(l.padding_right||n.padding_right)||"0px"} ${this.addPixelUnit(l.padding_bottom||n.padding_bottom)||"0px"} ${this.addPixelUnit(l.padding_left||n.padding_left)||"0px"}`:"0",margin:l.margin_top||l.margin_bottom||l.margin_left||l.margin_right||n.margin_top||n.margin_bottom||n.margin_left||n.margin_right?`${l.margin_top||n.margin_top||"8px"} ${l.margin_right||n.margin_right||"0px"} ${l.margin_bottom||n.margin_bottom||"8px"} ${l.margin_left||n.margin_left||"0px"}`:"8px 0",background:l.background_color||n.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},n),l),t),backgroundSize:l.background_size||n.background_size||"cover",backgroundPosition:l.background_position||n.background_position||"center",backgroundRepeat:l.background_repeat||n.background_repeat||"no-repeat",border:(l.border_style||n.border_style)&&"none"!==(l.border_style||n.border_style)?`${this.addPixelUnit(l.border_width||n.border_width)||"1px"} ${l.border_style||n.border_style} ${l.border_color||n.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(l.border_radius||n.border_radius)||"0",position:l.position||n.position||"relative",top:l.top||n.top||"auto",bottom:l.bottom||n.bottom||"auto",left:l.left||n.left||"auto",right:l.right||n.right||"auto",zIndex:l.z_index||n.z_index||"auto",width:l.width||n.width||"100%",height:l.height||n.height||"auto",maxWidth:l.max_width||n.max_width||"100%",maxHeight:l.max_height||n.max_height||"none",minWidth:l.min_width||n.min_width||"none",minHeight:l.min_height||n.min_height||"auto",overflow:l.overflow||n.overflow||"hidden",clipPath:l.clip_path||n.clip_path||"none",backdropFilter:l.backdrop_filter||n.backdrop_filter||"none",boxShadow:l.box_shadow_h&&l.box_shadow_v?`${l.box_shadow_h||"0"} ${l.box_shadow_v||"0"} ${l.box_shadow_blur||"0"} ${l.box_shadow_spread||"0"} ${l.box_shadow_color||"rgba(0,0,0,0.1)"}`:n.box_shadow_h&&n.box_shadow_v?`${n.box_shadow_h||"0"} ${n.box_shadow_v||"0"} ${n.box_shadow_blur||"0"} ${n.box_shadow_spread||"0"} ${n.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"};this._injectGlobalStyles();const u=this._localStylesInjected?o.qy``:o.qy`<style>
          ${this.getStyles()}
        </style>`;return this._localStylesInjected=!0,o.qy`
      ${u}
      <div class="icon-module-container" style=${this.styleObjectToCss(p)}>
        <div class="icon-module-preview">
          <div
            class="icon-grid"
            style="
            display: grid;
            grid-template-columns: repeat(${Math.min(a.columns||3,a.icons.length)}, 1fr);
            gap: ${a.gap||16}px;
            justify-content: ${a.alignment||"center"};
          "
          >
            ${a.icons.slice(0,6).map((e=>{var n,r,p,u,g,m,h,_,v,f,b,y,k;const x=null==t?void 0:t.states[e.entity],w=(null==x?void 0:x.state)||"unknown",S=this._evaluateIconState(e,t),A=S?!1!==e.show_icon_when_active:!1!==e.show_icon_when_inactive,C=S?!1!==e.show_name_when_active:!1!==e.show_name_when_inactive,z=S?!1!==e.show_state_when_active:!1!==e.show_state_when_inactive;let T=S&&e.icon_active||e.icon_inactive;if(e.dynamic_icon_template_mode&&e.dynamic_icon_template){!this._templateService&&t&&(this._templateService=new s.I(t));const i=this._hashString(e.dynamic_icon_template),o=`dynamic_icon_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.dynamic_icon_template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(n=null==t?void 0:t.__uvc_template_strings)||void 0===n?void 0:n[o];a&&""!==String(a).trim()&&(T=String(a))}else(null===(r=null==x?void 0:x.attributes)||void 0===r?void 0:r.icon)&&!T&&(T=x.attributes.icon);let I=S?e.use_state_color_for_active_icon?this._getEntityStateColor(x)||e.active_icon_color:e.use_entity_color_for_icon&&(null===(p=null==x?void 0:x.attributes)||void 0===p?void 0:p.rgb_color)?`rgb(${x.attributes.rgb_color.join(",")})`:e.active_icon_color:e.use_state_color_for_inactive_icon?this._getEntityStateColor(x)||e.inactive_icon_color:e.use_entity_color_for_icon&&(null===(u=null==x?void 0:x.attributes)||void 0===u?void 0:u.rgb_color)?`rgb(${x.attributes.rgb_color.join(",")})`:e.inactive_icon_color;if(e.dynamic_color_template_mode&&e.dynamic_color_template){!this._templateService&&t&&(this._templateService=new s.I(t));const i=this._hashString(e.dynamic_color_template),o=`dynamic_color_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.dynamic_color_template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(g=null==t?void 0:t.__uvc_template_strings)||void 0===g?void 0:g[o];a&&""!==String(a).trim()&&(I=String(a))}const E=l.color||(S?e.active_name_color:e.inactive_name_color),$=l.color||(S?e.active_state_color:e.inactive_state_color),P=l.font_size?/[a-zA-Z%]/.test(l.font_size)?l.font_size:this.addPixelUnit(l.font_size)||l.font_size:void 0,j=l.font_family||void 0,B=l.font_weight||void 0,D=l.font_style||void 0,O=l.text_transform||void 0,J=l.line_height||void 0,R=l.letter_spacing||void 0,U=l.text_align||void 0,M=l.text_shadow_h&&l.text_shadow_v?`${l.text_shadow_h||"0"} ${l.text_shadow_v||"0"} ${l.text_shadow_blur||"0"} ${l.text_shadow_color||"rgba(0,0,0,0.5)"}`:void 0,H=S?e.custom_active_name_text||e.name||(null===(m=null==x?void 0:x.attributes)||void 0===m?void 0:m.friendly_name)||e.entity:e.custom_inactive_name_text||e.name||(null===(h=null==x?void 0:x.attributes)||void 0===h?void 0:h.friendly_name)||e.entity;let N;if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new s.I(t));const i=this._hashString(e.template),o=`display_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(_=null==t?void 0:t.__uvc_template_strings)||void 0===_?void 0:_[o];if(void 0!==a){const i=String(a).toLowerCase();N=["true","false","on","off","yes","no","0","1"].includes(i)||""===String(a).trim()?S?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(w,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(w,e.entity,e,t):String(a)!==w?String(a):S?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(w,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(w,e.entity,e,t)}else N=S?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(w,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(w,e.entity,e,t)}else N=this._getDisplayStateValue(e,t,S);const L=S?e.active_icon_background||e.icon_background:e.inactive_icon_background||e.icon_background,F=S?e.active_icon_background_color||e.icon_background_color:e.inactive_icon_background_color||e.icon_background_color,K="none"!==L?{backgroundColor:e.use_entity_color_for_icon_background&&(null===(v=null==x?void 0:x.attributes)||void 0===v?void 0:v.rgb_color)?`rgb(${x.attributes.rgb_color.join(",")})`:F,borderRadius:"circle"===L?"50%":"rounded-square"===L?"8px":"0",padding:"8px"}:{},V=Object.assign(Object.assign({},{display:"flex",alignItems:"center",justifyContent:"center"}),K),q=e.active_icon_animation||"none",Q=e.inactive_icon_animation||"none",G=S?q:Q,Y="none"!==G?`icon-animation-${G}`:"";Y&&setTimeout((()=>{this._updateIconAnimationClasses(e.entity,Y,S)}),100);const W={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:e.vertical_alignment||"center",padding:"0",borderRadius:"circle"===e.container_background_shape?"50%":"rounded"===e.container_background_shape?"8px":(e.container_background_shape,"0"),background:e.container_background_shape&&"none"!==e.container_background_shape?e.container_background_color||"#808080":"transparent",cursor:"pointer",transition:"all 0.2s ease",width:e.container_width?`${e.container_width}%`:"auto"};let Z=null,X=null,ee=!1,te=0,ie=0;const oe=null===(f=a.design)||void 0===f?void 0:f.hover_effect,ae=d.k.getHoverEffectClass(oe);return o.qy`
                <div
                  class="icon-item-preview ${ae}"
                  style=${this.styleObjectToCss(Object.assign(Object.assign({},W),{gap:"0px",touchAction:"manipulation",backgroundImage:this.getBackgroundImageCSS(e,t),backgroundSize:e.background_size||"cover",backgroundPosition:l.background_position||"center",backgroundRepeat:l.background_repeat||"no-repeat",margin:"0 auto"}))}
                  @pointerdown=${o=>{o.preventDefault(),ee=!1,a.hold_action&&(X=setTimeout((()=>{ee=!0;const n="default"===a.hold_action.action?Object.assign(Object.assign({},a.hold_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},a.hold_action),{entity:a.hold_action.entity||e.entity});c.K.handleAction(n,t,o.target,i)}),500))}}
                  @pointerup=${o=>{if(o.preventDefault(),X&&(clearTimeout(X),X=null),ee)return void(ee=!1);const n=Date.now();if(n-ie<300&&1===te){if(Z&&(clearTimeout(Z),Z=null),te=0,a.double_tap_action){const n="default"===a.double_tap_action.action?Object.assign(Object.assign({},a.double_tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},a.double_tap_action),{entity:a.double_tap_action.entity||e.entity});c.K.handleAction(n,t,o.target,i)}}else if(te=1,ie=n,Z&&clearTimeout(Z),a.double_tap_action&&"nothing"!==a.double_tap_action.action||!a.tap_action||"nothing"===a.tap_action.action)a.tap_action&&"nothing"!==a.tap_action.action&&(Z=setTimeout((()=>{if(1===te){console.log(" Icon preview: Executing delayed tap action:",a.tap_action);const n="default"===a.tap_action.action?Object.assign(Object.assign({},a.tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},a.tap_action),{entity:a.tap_action.entity||e.entity});c.K.handleAction(n,t,o.target,i)}te=0}),300));else{console.log(" Icon preview: Executing tap action immediately:",a.tap_action);const n="default"===a.tap_action.action?Object.assign(Object.assign({},a.tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},a.tap_action),{entity:a.tap_action.entity||e.entity});c.K.handleAction(n,t,o.target,i)}}}
                  @pointerleave=${()=>{X&&(clearTimeout(X),X=null),ee=!1}}
                >
                  ${A?o.qy`
                        <div
                          style="${this.styleObjectToCss(Object.assign(Object.assign({},V),{marginBottom:C?`${null!==(b=e.name_icon_gap)&&void 0!==b?b:8}px`:z?`${null!==(y=e.icon_state_gap)&&void 0!==y?y:4}px`:"0px"}))}"
                        >
                          ${this._shouldUseEntityPicture(x)?o.qy`
                                <img
                                  src="${this._getEntityPicture(x,t)}"
                                  class="${Y} ultra-force-animation entity-picture"
                                  style="
                                    width: ${Number(S?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                                    height: ${Number(S?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                                    border-radius: 50%;
                                    object-fit: cover;
                                  "
                                  alt="Entity picture"
                                />
                              `:o.qy`
                                <ha-icon
                                  icon="${T||"mdi:help-circle"}"
                                  class="${Y} ultra-force-animation"
                                  style="
                                    color: ${I||"var(--secondary-text-color)"};
                                    --mdc-icon-size: ${Number(S?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                                  "
                                ></ha-icon>
                              `}
                        </div>
                      `:""}
                  ${C?o.qy`
                        <div
                          class="icon-name"
                          style="
                      font-size: ${P||`${S?e.active_text_size||e.text_size||12:e.inactive_text_size||e.text_size||14}px`};
                        color: ${E||"var(--primary-text-color)"};
                      text-align: ${U||"center"};
                      line-height: ${J||"1.2"};
                        max-width: 120px;
                      word-wrap: break-word;
                      margin-bottom: ${z?`${null!==(k=e.name_state_gap)&&void 0!==k?k:2}px`:"0px"};
                      font-family: ${j||"inherit"};
                      font-weight: ${B||"inherit"};
                      font-style: ${D||"inherit"};
                      text-transform: ${O||"inherit"};
                      letter-spacing: ${R||"inherit"};
                      text-shadow: ${M||"none"};
                    "
                        >
                          ${H}
                        </div>
                      `:""}
                  ${z?o.qy`
                        <div
                          class="icon-state"
                          style="
                      font-size: ${P||`${S?e.active_state_size||e.state_size||12:e.inactive_state_size||e.state_size||12}px`};
                        color: ${$||"var(--secondary-text-color)"};
                      text-align: ${U||"center"};
                      line-height: ${J||"1.2"};
                      font-family: ${j||"inherit"};
                      font-weight: ${B||"inherit"};
                      font-style: ${D||"inherit"};
                      text-transform: ${O||"inherit"};
                      letter-spacing: ${R||"inherit"};
                      text-shadow: ${M||"none"};
                    "
                        >
                          ${N}
                        </div>
                      `:""}
                </div>
              `}))}
            ${a.icons.length>6?o.qy`
                  <div
                    class="more-icons"
                    style="
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 8px;
                color: var(--secondary-text-color);
                font-size: 12px;
                font-style: italic;
              "
                  >
                    +${a.icons.length-6} more
                  </div>
                `:""}
          </div>

          <!-- More Icons Indicator -->
          ${a.icons.length>6?o.qy`
                <div
                  class="more-icons"
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    padding: 8px;
                    color: var(--secondary-text-color);
                    font-size: 12px;
                    font-style: italic;
                    margin-top: 8px;
                  "
                >
                  +${a.icons.length-6} more icons
                </div>
              `:""}
        </div>
      </div>
    `}renderSplitPreview(e,t){var i;const a=e;let n=!1;if(a.icons.length>0){const e=a.icons[0];if(n=this._evaluateIconState(e,t),e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new s.I(t));const o=this._hashString(e.template),a=`display_${e.entity}_${e.id}_${o}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(a)&&this._templateService.subscribeToTemplate(e.template,a,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const r=null===(i=null==t?void 0:t.__uvc_template_strings)||void 0===i?void 0:i[a];if(void 0!==r){const i=String(r).toLowerCase();if(["true","false","on","off","yes","no","0","1"].includes(i))n=["true","on","yes","1"].includes(i)||parseFloat(i)>0&&!isNaN(parseFloat(i));else if(""!==String(r).trim()){const i=null==t?void 0:t.states[e.entity],o=(null==i?void 0:i.state)||"unknown";n=String(r)!==o||this._evaluateIconState(e,t)}else n=!1}}else n=this._evaluateIconState(e,t)}return this._injectGlobalStyles(),this._injectKeyframesForAllSplitPreviewIcons(),o.qy`
      <style>
        ${m._ANIMATION_KEYFRAMES} .icon-split-preview {
          --animation-duration: 2s;
          --animation-timing: linear;
        }
        .icon-split-preview .icon-animation-spin {
          animation: iconSpin var(--animation-duration) var(--animation-timing) infinite;
        }
        .icon-split-preview .icon-animation-bounce {
          animation: iconBounce 1s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-pulse {
          animation: iconPulse 1.5s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-flash {
          animation: iconFlash 1s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-shake {
          animation: iconShake 0.5s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-vibrate {
          animation: iconVibrate 0.3s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-rotate-left {
          animation: iconRotateLeft var(--animation-duration) var(--animation-timing) infinite;
        }
        .icon-split-preview .icon-animation-rotate-right {
          animation: iconRotateRight var(--animation-duration) var(--animation-timing) infinite;
        }
        .icon-split-preview .icon-animation-fade {
          animation: iconFade 2s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-scale {
          animation: iconScale 1.5s ease-in-out infinite;
        }
        .icon-split-preview .icon-animation-tada {
          animation: iconTada 2s ease-in-out infinite;
        }
      </style>
      <div class="icon-split-preview">
        <!-- State Labels -->
        <div
          style="
               display: grid; 
               grid-template-columns: 1fr 1fr; 
               margin-bottom: 12px;
               text-align: center;
             "
        >
          <div>
            ${n?o.qy`<div style="height: 14px; margin-bottom: 4px;"></div>`:o.qy`<div
                  style="font-size: 10px; font-weight: 700; color: var(--primary-color); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;"
                >
                  Current
                </div>`}
            <div style="font-size: 12px; font-weight: 600; color: var(--secondary-text-color);">
              Inactive State
            </div>
          </div>
          <div>
            ${n?o.qy`<div
                  style="font-size: 10px; font-weight: 700; color: var(--primary-color); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;"
                >
                  Current
                </div>`:o.qy`<div style="height: 14px; margin-bottom: 4px;"></div>`}
            <div style="font-size: 12px; font-weight: 600; color: var(--secondary-text-color);">
              Active State
            </div>
          </div>
        </div>

        <!-- Split Preview Container -->
        <div
          style="
               display: grid; 
               grid-template-columns: 1fr 1fr; 
               border: 1px solid var(--divider-color); 
               border-radius: 8px; 
               overflow: hidden;
               min-height: 120px;
             "
        >
          <!-- Inactive Preview -->
          <div
            style="
                 background: var(--card-background-color);
                 border-right: 1px solid var(--divider-color);
                 padding: 16px;
                 display: flex;
                 align-items: center;
                 justify-content: center;
               "
          >
            ${this._renderSimpleIconGrid(a,t,!1)}
          </div>

          <!-- Active Preview -->
          <div
            style="
                 background: var(--card-background-color);
                 padding: 16px;
                 display: flex;
                 align-items: center;
                 justify-content: center;
               "
          >
            ${this._renderSimpleIconGrid(a,t,!0)}
          </div>
        </div>

        <!-- Icon Count Indicator -->
        ${a.icons.length>6?o.qy`
              <div
                style="
                 text-align: center;
                 padding: 8px;
                 color: var(--secondary-text-color);
                 font-size: 12px;
                 font-style: italic;
               "
              >
                Showing first 6 of ${a.icons.length} icons
              </div>
            `:""}
      </div>
    `}_renderSimpleIconGrid(e,t,i){const a=e.icons.slice(0,6),n=(Math.min(3,a.length),e.design||{}),r={color:e.color||n.color,font_size:e.font_size||n.font_size,font_weight:e.font_weight||n.font_weight,font_style:e.font_style||n.font_style,text_transform:e.text_transform||n.text_transform,font_family:e.font_family||n.font_family,line_height:e.line_height||n.line_height,letter_spacing:e.letter_spacing||n.letter_spacing,text_align:e.text_align||n.text_align,text_shadow_h:e.text_shadow_h||n.text_shadow_h,text_shadow_v:e.text_shadow_v||n.text_shadow_v,text_shadow_blur:e.text_shadow_blur||n.text_shadow_blur,text_shadow_color:e.text_shadow_color||n.text_shadow_color,background_position:e.background_position||n.background_position,background_repeat:e.background_repeat||n.background_repeat,hover_effect:e.hover_effect||n.hover_effect};return o.qy`
      <div
        style="
          display: flex;
        "
      >
        ${a.map((o=>this._renderSingleIconPreview(o,t,i,e,r)))}
      </div>
    `}_renderSingleIconPreview(e,t,i,a,n){var r,l,p,u,g,m,h,_,v,f,b,y,k;const x=null==t?void 0:t.states[e.entity],w=(null==x?void 0:x.state)||"unknown",S=i?!1!==e.show_icon_when_active:!1!==e.show_icon_when_inactive,A=i?!1!==e.show_name_when_active:!1!==e.show_name_when_inactive,C=i?!1!==e.show_state_when_active:!1!==e.show_state_when_inactive;let z=i&&e.icon_active||e.icon_inactive;if(e.dynamic_icon_template_mode&&e.dynamic_icon_template){!this._templateService&&t&&(this._templateService=new s.I(t));const i=this._hashString(e.dynamic_icon_template),o=`dynamic_icon_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.dynamic_icon_template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(r=null==t?void 0:t.__uvc_template_strings)||void 0===r?void 0:r[o];a&&""!==String(a).trim()&&(z=String(a))}else(null===(l=null==x?void 0:x.attributes)||void 0===l?void 0:l.icon)&&!z&&(z=x.attributes.icon);let T=i?e.use_state_color_for_active_icon?this._getEntityStateColor(x)||e.active_icon_color:e.use_entity_color_for_icon&&(null===(p=null==x?void 0:x.attributes)||void 0===p?void 0:p.rgb_color)?`rgb(${x.attributes.rgb_color.join(",")})`:e.active_icon_color:e.use_state_color_for_inactive_icon?this._getEntityStateColor(x)||e.inactive_icon_color:e.use_entity_color_for_icon&&(null===(u=null==x?void 0:x.attributes)||void 0===u?void 0:u.rgb_color)?`rgb(${x.attributes.rgb_color.join(",")})`:e.inactive_icon_color;if(e.dynamic_color_template_mode&&e.dynamic_color_template){!this._templateService&&t&&(this._templateService=new s.I(t));const i=this._hashString(e.dynamic_color_template),o=`dynamic_color_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.dynamic_color_template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(g=null==t?void 0:t.__uvc_template_strings)||void 0===g?void 0:g[o];a&&""!==String(a).trim()&&(T=String(a))}const I=(null==n?void 0:n.color)||(i?e.active_name_color:e.inactive_name_color),E=(null==n?void 0:n.color)||(i?e.active_state_color:e.inactive_state_color),$=n?{fontSize:n.font_size?/[a-zA-Z%]/.test(n.font_size)?n.font_size:this.addPixelUnit(n.font_size)||n.font_size:void 0,fontFamily:n.font_family||void 0,fontWeight:n.font_weight||void 0,fontStyle:n.font_style||void 0,textTransform:n.text_transform||void 0,lineHeight:n.line_height||void 0,letterSpacing:n.letter_spacing||void 0,textAlign:n.text_align||void 0,textShadow:n.text_shadow_h&&n.text_shadow_v?`${n.text_shadow_h||"0"} ${n.text_shadow_v||"0"} ${n.text_shadow_blur||"0"} ${n.text_shadow_color||"rgba(0,0,0,0.5)"}`:void 0}:{fontSize:void 0,fontFamily:void 0,fontWeight:void 0,fontStyle:void 0,textTransform:void 0,lineHeight:void 0,letterSpacing:void 0,textAlign:void 0,textShadow:void 0},P=i?e.custom_active_name_text||e.name||(null===(m=null==x?void 0:x.attributes)||void 0===m?void 0:m.friendly_name)||e.entity:e.custom_inactive_name_text||e.name||(null===(h=null==x?void 0:x.attributes)||void 0===h?void 0:h.friendly_name)||e.entity;let j;if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new s.I(t));const o=this._hashString(e.template),a=`state_${e.entity}_${e.id}_${o}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(a)&&this._templateService.subscribeToTemplate(e.template,a,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const n=null===(_=null==t?void 0:t.__uvc_template_strings)||void 0===_?void 0:_[a];if(void 0!==n&&""!==String(n).trim()){const o=String(n).toLowerCase();j=["true","false","on","off","yes","no","0","1"].includes(o)?i?e.custom_active_state_text&&""!==e.custom_active_state_text.trim()?e.custom_active_state_text:this._formatValueWithUnits(w,e.entity,e,t):e.custom_inactive_state_text&&""!==e.custom_inactive_state_text.trim()?e.custom_inactive_state_text:this._formatValueWithUnits(w,e.entity,e,t):"unknown"===String(n)?"Template Error: Check entity names":String(n)}else j=this._formatValueWithUnits(w,e.entity,e,t)}else j=this._getDisplayStateValue(e,t,i);const B=i?e.active_icon_background||e.icon_background:e.inactive_icon_background||e.icon_background,D=i?e.active_icon_background_color||e.icon_background_color:e.inactive_icon_background_color||e.icon_background_color,O="none"!==B?{backgroundColor:e.use_entity_color_for_icon_background&&(null===(v=null==x?void 0:x.attributes)||void 0===v?void 0:v.rgb_color)?`rgb(${x.attributes.rgb_color.join(",")})`:D,borderRadius:"circle"===B?"50%":"rounded-square"===B?"8px":"0",padding:"8px"}:{},J=Object.assign(Object.assign({},{display:"flex",alignItems:"center",justifyContent:"center"}),O),R=e.active_icon_animation||"none",U=e.inactive_icon_animation||"none",M=i?R:U,H="none"!==M?`icon-animation-${M}`:"",N={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:e.vertical_alignment||"center",padding:"0",borderRadius:"circle"===e.container_background_shape?"50%":"rounded"===e.container_background_shape?"8px":"square"===e.container_background_shape?"0":"8px",background:e.container_background_shape&&"none"!==e.container_background_shape?e.container_background_color||"#808080":"transparent",backgroundImage:this.getBackgroundImageCSS(e,t),backgroundSize:e.background_size||"cover",backgroundPosition:e.background_position||"center",backgroundRepeat:e.background_repeat||"no-repeat",cursor:"pointer",transition:"all 0.2s ease",width:e.container_width?`${e.container_width}%`:"auto",margin:"0 auto"},L=null!==(f=e.name_icon_gap)&&void 0!==f?f:8,F=null!==(b=e.name_state_gap)&&void 0!==b?b:2,K=null!==(y=e.icon_state_gap)&&void 0!==y?y:4,V=a?null===(k=a.design)||void 0===k?void 0:k.hover_effect:void 0,q=d.k.getHoverEffectClass(V);return o.qy`
      <div
        class="icon-item-preview ${q}"
        style=${this.styleObjectToCss(Object.assign(Object.assign({},N),{gap:"0px"}))}
        @click=${i=>{if(i.preventDefault(),a.tap_action&&"nothing"!==a.tap_action.action){const o="default"===a.tap_action.action?Object.assign(Object.assign({},a.tap_action),{action:"toggle",entity:e.entity}):Object.assign(Object.assign({},a.tap_action),{entity:a.tap_action.entity||e.entity});c.K.handleAction(o,t,i.target,void 0)}}}
      >
        ${S?o.qy`
              <div
                style="${this.styleObjectToCss(Object.assign(Object.assign({},J),{marginBottom:A?`${L}px`:C?`${K}px`:"0px"}))}"
              >
                ${this._shouldUseEntityPicture(x)?o.qy`
                      <img
                        src="${this._getEntityPicture(x,t)}"
                        class="${H} ultra-force-animation entity-picture"
                        style="
                          width: ${Number(i?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                          height: ${Number(i?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                          border-radius: 50%;
                          object-fit: cover;
                          ${H&&"none"!==H?`animation: ${this._getInlineAnimation(H)} !important;`:""}
                        "
                        data-animation-debug="${H||"none"}"
                        data-is-active="${i}"
                        alt="Entity picture"
                      />
                    `:o.qy`
                      <ha-icon
                        icon="${z||"mdi:help-circle"}"
                        class="${H} ultra-force-animation"
                        style="
                          color: ${T||"var(--secondary-text-color)"};
                          --mdc-icon-size: ${Number(i?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                          ${H&&"none"!==H?`animation: ${this._getInlineAnimation(H)} !important;`:""}
                        "
                        data-animation-debug="${H||"none"}"
                        data-is-active="${i}"
                      ></ha-icon>
                    `}
              </div>
            `:""}
        ${A?o.qy`
              <div
                class="icon-name"
                style="
                  font-size: ${$.fontSize?$.fontSize:`${i?e.active_text_size||e.text_size||12:e.inactive_text_size||e.text_size||14}px`};
                  color: ${I||"var(--primary-text-color)"};
                  text-align: ${$.textAlign||"center"};
                  line-height: ${$.lineHeight||"1.2"};
                  max-width: 120px;
                  word-wrap: break-word;
                  margin-bottom: ${C?`${F}px`:"0px"};
                  font-family: ${$.fontFamily||"inherit"};
                  font-weight: ${$.fontWeight||"inherit"};
                  font-style: ${$.fontStyle||"inherit"};
                  text-transform: ${$.textTransform||"inherit"};
                  letter-spacing: ${$.letterSpacing||"inherit"};
                  text-shadow: ${$.textShadow||"none"};
                "
              >
                ${P}
              </div>
            `:""}
        ${C?o.qy`
              <div
                class="icon-state"
                style="
                  font-size: ${$.fontSize?$.fontSize:`${i?e.active_state_size||e.state_size||10:e.inactive_state_size||e.state_size||10}px`};
                  color: ${E||"var(--secondary-text-color)"};
                  text-align: ${$.textAlign||"center"};
                  line-height: ${$.lineHeight||"1.2"};
                  font-family: ${$.fontFamily||"inherit"};
                  font-weight: ${$.fontWeight||"inherit"};
                  font-style: ${$.fontStyle||"inherit"};
                  text-transform: ${$.textTransform||"inherit"};
                  letter-spacing: ${$.letterSpacing||"inherit"};
                  text-shadow: ${$.textShadow||"none"};
                "
              >
                ${j}
              </div>
            `:""}
      </div>
    `}renderIconGrid(e,t,i,a=!0){var n;const r=null===(n=e.design)||void 0===n?void 0:n.hover_effect,s=d.k.getHoverEffectClass(r),l=e.design||{},c={color:e.color||l.color,font_size:e.font_size||l.font_size,font_weight:e.font_weight||l.font_weight,font_style:e.font_style||l.font_style,text_transform:e.text_transform||l.text_transform,font_family:e.font_family||l.font_family,line_height:e.line_height||l.line_height,letter_spacing:e.letter_spacing||l.letter_spacing,text_align:e.text_align||l.text_align,text_shadow_h:e.text_shadow_h||l.text_shadow_h,text_shadow_v:e.text_shadow_v||l.text_shadow_v,text_shadow_blur:e.text_shadow_blur||l.text_shadow_blur,text_shadow_color:e.text_shadow_color||l.text_shadow_color,background_position:e.background_position||l.background_position,background_repeat:e.background_repeat||l.background_repeat,hover_effect:e.hover_effect||l.hover_effect};return o.qy`
      <div
        class="icon-grid"
        style="
          display: grid;
          grid-template-columns: repeat(${Math.min(Math.max(1,Math.floor((e.columns||3)/2)),e.icons.length)}, 1fr);
          gap: ${e.gap||16}px;
          justify-content: ${e.alignment||"center"};
        "
      >
        ${e.icons.slice(0,6).map((e=>{var n,r,l,d,p,u,g,m,h;const _=null==t?void 0:t.states[e.entity],v=(null==_||_.state,i),f=v?!1!==e.show_icon_when_active:!1!==e.show_icon_when_inactive,b=v?!1!==e.show_name_when_active:!1!==e.show_name_when_inactive,y=v?!1!==e.show_state_when_active:!1!==e.show_state_when_inactive;let k=v&&e.icon_active||e.icon_inactive;(null===(n=null==_?void 0:_.attributes)||void 0===n?void 0:n.icon)&&!k&&(k=_.attributes.icon);const x=v?e.use_state_color_for_active_icon?this._getEntityStateColor(_)||e.active_icon_color:e.use_entity_color_for_icon&&(null===(r=null==_?void 0:_.attributes)||void 0===r?void 0:r.rgb_color)?`rgb(${_.attributes.rgb_color.join(",")})`:e.active_icon_color:e.use_state_color_for_inactive_icon?this._getEntityStateColor(_)||e.inactive_icon_color:e.use_entity_color_for_icon&&(null===(l=null==_?void 0:_.attributes)||void 0===l?void 0:l.rgb_color)?`rgb(${_.attributes.rgb_color.join(",")})`:e.inactive_icon_color,w=c.color||(v?e.active_name_color:e.inactive_name_color),S=c.color||(v?e.active_state_color:e.inactive_state_color),A=c.font_size?/[a-zA-Z%]/.test(c.font_size)?c.font_size:this.addPixelUnit(c.font_size)||c.font_size:void 0,C=c.font_family||void 0,z=c.font_weight||void 0,T=c.font_style||void 0,I=c.text_transform||void 0,E=c.line_height||void 0,$=c.letter_spacing||void 0,P=c.text_align||void 0,j=c.text_shadow_h&&c.text_shadow_v?`${c.text_shadow_h||"0"} ${c.text_shadow_v||"0"} ${c.text_shadow_blur||"0"} ${c.text_shadow_color||"rgba(0,0,0,0.5)"}`:void 0,B=v?e.custom_active_name_text||e.name||(null===(d=null==_?void 0:_.attributes)||void 0===d?void 0:d.friendly_name)||e.entity:e.custom_inactive_name_text||e.name||(null===(p=null==_?void 0:_.attributes)||void 0===p?void 0:p.friendly_name)||e.entity;let D;D=this._getDisplayStateValue(e,t,v);const O=v?e.active_icon_background||e.icon_background:e.inactive_icon_background||e.icon_background,J=v?e.active_icon_background_color||e.icon_background_color:e.inactive_icon_background_color||e.icon_background_color,R="none"!==O?{backgroundColor:e.use_entity_color_for_icon_background&&(null===(u=null==_?void 0:_.attributes)||void 0===u?void 0:u.rgb_color)?`rgb(${_.attributes.rgb_color.join(",")})`:J,borderRadius:"circle"===O?"50%":"rounded-square"===O?"8px":"0",padding:"8px"}:{},U=Object.assign(Object.assign({},{display:"flex",alignItems:"center",justifyContent:"center"}),R),M=e.active_icon_animation||"none",H=e.inactive_icon_animation||"none",N=v?M:H,L="none"!==N?`icon-animation-${N}`:"";L&&a&&setTimeout((()=>{this._updateIconAnimationClasses(e.entity,L,v)}),150);const F={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:e.vertical_alignment||"center",padding:"8px",borderRadius:"circle"===e.container_background_shape?"50%":"rounded"===e.container_background_shape?"8px":"square"===e.container_background_shape?"0":"8px",background:e.container_background_shape&&"none"!==e.container_background_shape?e.container_background_color||"#808080":"transparent",backgroundImage:this.getBackgroundImageCSS(e,t),backgroundSize:e.background_size||"cover",backgroundPosition:e.background_position||"center",backgroundRepeat:e.background_repeat||"no-repeat",cursor:"pointer",transition:"all 0.2s ease",width:e.container_width?`${e.container_width}%`:"auto",margin:"0 auto"},K=null!==(g=e.name_icon_gap)&&void 0!==g?g:8,V=null!==(m=e.name_state_gap)&&void 0!==m?m:2,q=null!==(h=e.icon_state_gap)&&void 0!==h?h:4;return o.qy`
            <div
              class="icon-item-preview ${s}"
              style=${this.styleObjectToCss(Object.assign(Object.assign({},F),{gap:"0px"}))}
            >
              ${f?o.qy`
                    <div
                      style="${this.styleObjectToCss(Object.assign(Object.assign({},U),{marginBottom:b?`${K}px`:y?`${q}px`:"0px"}))}"
                    >
                      ${this._shouldUseEntityPicture(_)?o.qy`
                            <img
                              src="${this._getEntityPicture(_,t)}"
                              class="${L} ultra-force-animation entity-picture"
                              style="
                                width: ${Number(v?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                                height: ${Number(v?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                                border-radius: 50%;
                                object-fit: cover;
                                ${L&&"none"!==L?`animation: ${this._getInlineAnimation(L)} !important;`:""}
                              "
                              data-animation-debug="${L||"none"}"
                              data-is-active="${v}"
                              alt="Entity picture"
                            />
                          `:o.qy`
                            <ha-icon
                              icon="${k||"mdi:help-circle"}"
                              class="${L} ultra-force-animation"
                              style="
                                color: ${x||"var(--secondary-text-color)"};
                                --mdc-icon-size: ${Number(v?e.active_icon_size||e.icon_size:e.inactive_icon_size||e.icon_size)||26}px;
                                ${L&&"none"!==L?`animation: ${this._getInlineAnimation(L)} !important;`:""}
                              "
                              data-animation-debug="${L||"none"}"
                              data-is-active="${v}"
                            ></ha-icon>
                          `}
                    </div>
                  `:""}
              ${b?o.qy`
                    <div
                      class="icon-name"
                      style="
                        font-size: ${A||`${v?e.active_text_size||e.text_size||12:e.inactive_text_size||e.text_size||14}px`};
                        color: ${w||"var(--primary-text-color)"};
                        text-align: ${P||"center"};
                        line-height: ${E||"1.2"};
                        max-width: 120px;
                        word-wrap: break-word;
                        margin-bottom: ${y?`${V}px`:"0px"};
                        font-family: ${C||"inherit"};
                        font-weight: ${z||"inherit"};
                        font-style: ${T||"inherit"};
                        text-transform: ${I||"inherit"};
                        letter-spacing: ${$||"inherit"};
                        text-shadow: ${j||"none"};
                      "
                    >
                      ${B}
                    </div>
                  `:""}
              ${y?o.qy`
                    <div
                      class="icon-state"
                      style="
                        font-size: ${A||`${v?e.active_state_size||e.state_size||10:e.inactive_state_size||e.state_size||10}px`};
                        color: ${S||"var(--secondary-text-color)"};
                        text-align: ${P||"center"};
                        line-height: ${E||"1.2"};
                        font-family: ${C||"inherit"};
                        font-weight: ${z||"inherit"};
                        font-style: ${T||"inherit"};
                        text-transform: ${I||"inherit"};
                        letter-spacing: ${$||"inherit"};
                        text-shadow: ${j||"none"};
                      "
                    >
                      ${D}
                    </div>
                  `:""}
            </div>
          `}))}
      </div>
    `}validate(e){const t=e,i=[...super.validate(e).errors];return t.icons&&0!==t.icons.length||i.push("At least one icon is required"),t.icons.forEach(((e,t)=>{e.entity&&""!==e.entity.trim()||i.push(`Icon ${t+1}: Entity ID is required`),e.icon_inactive&&""!==e.icon_inactive.trim()||i.push(`Icon ${t+1}: Inactive icon is required`)})),{valid:0===i.length,errors:i}}updateHass(e){this._templateService&&this._templateService.updateHass(e)}cleanup(){this._templateService&&(this._templateService.unsubscribeAllTemplates(),this._templateService=void 0),this._attributeCache.clear(),this._processingAttributes.clear(),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0)}_getDisplayStateValue(e,t,i){var o;const a=null==t?void 0:t.states[e.entity];if(!a)return"unknown";const n=a.state,r=i?e.active_attribute:e.inactive_attribute;if(r&&void 0!==(null===(o=a.attributes)||void 0===o?void 0:o[r])){const i=a.attributes[r];return this._formatValueWithUnits(String(i),e.entity,e,t)}const s=i?e.custom_active_state_text:e.custom_inactive_state_text;return s&&""!==s.trim()?s:this._formatValueWithUnits(n,e.entity,e,t)}_getEntityAttributes(e,t){var i;const o=[{value:"",label:"None (Use State)"}];try{if(!e||!(null===(i=null==t?void 0:t.states)||void 0===i?void 0:i[e]))return o;const a=t.states[e].attributes||{};return Object.keys(a).forEach((e=>{if(!e.startsWith("_")&&"friendly_name"!==e&&"entity_picture"!==e&&"supported_features"!==e&&"device_class"!==e&&"state_class"!==e){const t=a[e];let i="";i=null==t?"null":"object"==typeof t?Array.isArray(t)?`[${t.length} items]`:"{object}":String(t).substring(0,20),o.push({value:e,label:`${e} (${i})`})}})),o}catch(e){return console.error("Error getting attributes:",e),o}}_isBinaryEntity(e){const t=e.split(".")[0];return["binary_sensor","switch","input_boolean","automation","script","light","fan","lock","cover","device_tracker"].includes(t)}_matchesState(e,t,i){var o,a;if(e===t)return!0;if(e.toLowerCase()===t.toLowerCase())return!0;const n=null===(o=null==i?void 0:i.entity_id)||void 0===o?void 0:o.split(".")[0],r=null===(a=null==i?void 0:i.attributes)||void 0===a?void 0:a.device_class,s=this._getStateMappings(n,r);return s[t.toLowerCase()]===e.toLowerCase()||s[e.toLowerCase()]===t.toLowerCase()}_getStateMappings(e,t){const i={on:"on",off:"off",true:"on",false:"off",yes:"on",no:"off",1:"on",0:"off"};switch(e){case"binary_sensor":if(i.open="on",i.closed="off",i.detected="on",i.clear="off",i.motion="on",i.no_motion="off",i.occupied="on",i.not_occupied="off",i.wet="on",i.dry="off",i.connected="on",i.disconnected="off",i.home="on",i.away="off",i.problem="on",i.ok="off",i.unsafe="on",i.safe="off",t)switch(t){case"door":case"window":case"garage_door":i.open="on",i.closed="off";break;case"lock":i.unlocked="on",i.locked="off";break;case"motion":i.motion="on",i.no_motion="off";break;case"occupancy":i.occupied="on",i.not_occupied="off";break;case"presence":i.home="on",i.away="off";break;case"connectivity":i.connected="on",i.disconnected="off"}break;case"cover":i.open="on",i.closed="off",i.opening="on",i.closing="off";break;case"lock":i.unlocked="on",i.locked="off",i.unlocking="on",i.locking="off";break;case"device_tracker":case"person":i.home="on",i.away="off",i.not_home="off";break;case"alarm_control_panel":i.disarmed="off",i.armed_home="on",i.armed_away="on",i.armed_night="on",i.armed_vacation="on",i.armed_custom_bypass="on"}return i}_evaluateIconState(e,t){var i,o,a,n,r;const l=null==t?void 0:t.states[e.entity];if(!l)return!1;const d=l.state,c=e.inactive_attribute?(null===(o=null===(i=l.attributes)||void 0===i?void 0:i[e.inactive_attribute])||void 0===o?void 0:o.toString())||"":d,p=e.active_attribute?(null===(n=null===(a=l.attributes)||void 0===a?void 0:a[e.active_attribute])||void 0===n?void 0:n.toString())||"":d;if(e.template_mode&&e.template){!this._templateService&&t&&(this._templateService=new s.I(t));const i=this._hashString(e.template),o=`display_${e.entity}_${e.id}_${i}`;t.__uvc_template_strings||(t.__uvc_template_strings={}),this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(e.template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const a=null===(r=null==t?void 0:t.__uvc_template_strings)||void 0===r?void 0:r[o];if(void 0!==a){const e=String(a).toLowerCase();if(["true","false","on","off","yes","no","0","1"].includes(e))return["true","on","yes","1"].includes(e)||parseFloat(e)>0&&!isNaN(parseFloat(e));if(""===String(a).trim())return!1;if(String(a)!==d)return!0}}if(e.active_state&&e.inactive_state)return!!this._matchesState(p,e.active_state,l)||(this._matchesState(c,e.inactive_state,l),!1);if(e.active_state)return this._matchesState(p,e.active_state,l);if(e.inactive_state)return!this._matchesState(c,e.inactive_state,l);if((e.active_attribute||e.inactive_attribute)&&!e.active_state&&!e.inactive_state){const e=parseFloat(p||c);if(!isNaN(e))return e>70;const t=(p||c).toLowerCase(),i=["sunny","clear","fair","cold","cool"];return!!["cloudy","rainy","stormy","snowy","windy","hot","warm"].some((e=>t.includes(e)))||!i.some((e=>t.includes(e)))}const u=e.active_attribute||e.inactive_attribute?e.active_attribute?p:c:d;if(["on","true","active","open","playing","home"].includes(u.toLowerCase()))return!0;if(["off","false","inactive","closed","paused","stopped","away","unavailable","unknown"].includes(u.toLowerCase()))return!1;const g=parseFloat(u);return!isNaN(g)&&g>0}getStyles(){return`\n      /* Hide unwanted form labels with underscores and slots */\n      [slot='label'] {\n        display: none !important;\n      }\n\n      ha-form .mdc-form-field > label,\n      ha-form .mdc-text-field > label,\n      ha-form .mdc-floating-label,\n      ha-form .mdc-notched-outline__leading,\n      ha-form .mdc-notched-outline__notch,\n      ha-form .mdc-notched-outline__trailing,\n      ha-form .mdc-floating-label--float-above,\n      ha-form label[for],\n      ha-form .ha-form-label,\n      ha-form .form-label {\n        display: none !important;\n      }\n\n      /* Hide any labels containing underscores */\n      ha-form label[data-label*='_'],\n      ha-form .label-text:contains('_'),\n      label:contains('_') {\n        display: none !important;\n      }\n        .label {\n          display: none !important;\n        }\n\n      /* Additional safeguards for underscore labels */\n      ha-form .mdc-text-field-character-counter,\n      ha-form .mdc-text-field-helper-text,\n      ha-form mwc-formfield,\n      ha-form .formfield {\n        display: none !important;\n      }\n\n      /* Hide form field labels that match underscore patterns */\n      ha-form[data-field*='_'] label,\n      ha-form[data-field*='_'] .mdc-floating-label,\n      ha-form[data-field*='_'] .mdc-notched-outline__notch > .mdc-floating-label {\n        display: none !important;\n      }\n\n      /* Target specific underscore field names */\n      ha-form[data-field='use_entity_color_for_icon'] label,\n      ha-form[data-field='use_entity_color_for_icon_background'] label,\n      ha-form[data-field='show_name_when_active'] label,\n      ha-form[data-field='show_state_when_active'] label,\n      ha-form[data-field='show_icon_when_active'] label,\n      ha-form[data-field='show_name_when_inactive'] label,\n      ha-form[data-field='show_state_when_inactive'] label,\n      ha-form[data-field='show_icon_when_inactive'] label,\n      ha-form[data-field='active_template_mode'] label,\n      ha-form[data-field='inactive_template_mode'] label,\n      ha-form[data-field='dynamic_icon_template_mode'] label,\n      ha-form[data-field='dynamic_color_template_mode'] label {\n        display: none !important;\n      }\n\n      /* Make dynamic template toggles more compact */\n      ha-form[data-field='dynamic_icon_template_mode'] ha-switch,\n      ha-form[data-field='dynamic_color_template_mode'] ha-switch {\n        --mdc-switch-track-width: 36px !important;\n        --mdc-switch-track-height: 20px !important;\n        --switch-checked-track-color: var(--primary-color) !important;\n        --switch-unchecked-track-color: var(--disabled-color) !important;\n        transform: scale(0.8) !important;\n      }\n\n      ha-form[data-field='dynamic_icon_template_mode'] .mdc-switch,\n      ha-form[data-field='dynamic_color_template_mode'] .mdc-switch {\n        transform: scale(0.8) !important;\n      }\n\n      /* Hide any element with underscore in text content */\n      *:not(script):not(style) {\n        text-decoration: none !important;\n      }\n      \n      /* Target elements that might show underscore text */\n      .mdc-form-field__label:contains('_'),\n      .mdc-text-field__input + label:contains('_'),\n      .mdc-select__selected-text:contains('_') {\n        display: none !important;\n      }\n\n\n      \n      .icon-grid {\n        width: 100%;\n      }\n\n      /* Collapsible Header Styles */\n      .collapsible-header:hover {\n        background: rgba(var(--rgb-primary-color), 0.08) !important;\n        border-color: var(--primary-color) !important;\n      }\n\n      .collapsible-header:active {\n        transform: scale(0.98);\n      }\n\n      /* Split Preview Styles */\n      .split-preview-container {\n        position: relative;\n      }\n\n      .split-preview-container::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 1px;\n        height: 100%;\n        background: var(--divider-color);\n        z-index: 1;\n      }\n\n      .icon-module-split-preview .inactive-preview .icon-item-preview {\n        border: 1px solid rgba(var(--rgb-primary-color), 0.1);\n        background: rgba(var(--rgb-primary-color), 0.02);\n      }\n\n      .icon-module-split-preview .active-preview .icon-item-preview {\n        border: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        background: rgba(var(--rgb-primary-color), 0.04);\n      }\n\n      .icon-module-split-preview .inactive-preview .icon-item-preview.hover-enabled:hover {\n        background: rgba(var(--rgb-primary-color), 0.08) !important;\n        border-color: var(--primary-color) !important;\n        transform: scale(1.02);\n      }\n\n      .icon-module-split-preview .active-preview .icon-item-preview.hover-enabled:hover {\n        background: rgba(var(--rgb-primary-color), 0.12) !important;\n        border-color: var(--primary-color) !important;\n        transform: scale(1.02);\n      }\n\n      /* Preview state indicators */\n      .icon-module-split-preview .preview-header div {\n        padding: 8px 12px;\n        border-radius: 20px;\n        font-size: 12px;\n        font-weight: 700;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        margin: 0 8px;\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border: 1px solid rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      /* Responsive adjustments for split view */\n      @media (max-width: 768px) {\n        .icon-module-split-preview .split-preview-container {\n          grid-template-columns: 1fr !important;\n          grid-template-rows: auto auto;\n        }\n\n        .icon-module-split-preview .preview-header {\n          flex-direction: column !important;\n          gap: 8px !important;\n        }\n\n        .icon-module-split-preview .inactive-preview {\n          border-right: none !important;\n          border-bottom: 1px solid var(--divider-color) !important;\n        }\n\n        .icon-module-split-preview .split-preview-container::before {\n          display: none;\n        }\n\n        .icon-module-split-preview .preview-header div {\n          margin: 0 !important;\n        }\n\n        .collapsible-header {\n          padding: 10px 12px !important;\n        }\n\n        .collapsible-header span {\n          font-size: 14px !important;\n        }\n\n        .collapsible-header ha-icon {\n          font-size: 16px !important;\n        }\n      }\n\n      @media (max-width: 480px) {\n        /* Removed mobile-specific icon-grid overrides to maintain consistent user-configured spacing */\n\n        .icon-module-split-preview .inactive-preview,\n        .icon-module-split-preview .active-preview {\n          padding: 8px !important;\n        }\n\n        .icon-module-split-preview .preview-header div {\n          font-size: 10px !important;\n          padding: 6px 8px !important;\n        }\n\n        .collapsible-header {\n          padding: 8px 10px !important;\n        }\n\n        .collapsible-header span {\n          font-size: 12px !important;\n        }\n\n        .collapsible-header ha-icon {\n          font-size: 14px !important;\n        }\n      }\n      \n      .icon-item-preview.hover-enabled:hover {\n        background: var(--primary-color) !important;\n        color: white;\n        transform: scale(1.05);\n      }\n      \n      .icon-item-preview.hover-enabled:hover ha-icon {\n        color: white !important;\n      }\n      \n      .icon-item-preview.hover-enabled:hover .icon-name,\n      .icon-item-preview.hover-enabled:hover .icon-state {\n        color: white !important;\n      }\n      \n      /* Field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n     \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Expandable details styling */\n      details > summary {\n        list-style: none;\n      }\n\n      details > summary::-webkit-details-marker {\n        display: none;\n      }\n\n      details[open] > summary ha-icon {\n        transform: rotate(90deg);\n      }\n\n      details > summary:hover {\n        background: rgba(var(--rgb-primary-color), 0.1) !important;\n      }\n\n      /* Icon animations - Simple and direct selectors */\n      .icon-animation-pulse {\n        animation: iconPulse 2s ease-in-out infinite !important;\n      }\n\n      .icon-animation-spin {\n        animation: iconSpin 2s linear infinite !important;\n      }\n\n      .icon-animation-bounce {\n        animation: iconBounce 1s ease-in-out infinite !important;\n      }\n\n      .icon-animation-flash {\n        animation: iconFlash 1s ease-in-out infinite !important;\n      }\n\n      .icon-animation-shake {\n        animation: iconShake 0.5s ease-in-out infinite !important;\n      }\n\n      .icon-animation-vibrate {\n        animation: iconVibrate 0.3s ease-in-out infinite !important;\n      }\n\n      .icon-animation-rotate-left {\n        animation: iconRotateLeft 2s linear infinite !important;\n      }\n\n      .icon-animation-rotate-right {\n        animation: iconRotateRight 2s linear infinite !important;\n      }\n\n      .icon-animation-fade {\n        animation: iconFade 2s ease-in-out infinite !important;\n      }\n\n      .icon-animation-scale {\n        animation: iconScale 1s ease-in-out infinite !important;\n      }\n\n      .icon-animation-tada {\n        animation: iconTada 1s ease-in-out infinite !important;\n      }\n\n\n\n      @keyframes iconPulse {\n        0%, 100% { opacity: 1; transform: scale(1); }\n        50% { opacity: 0.7; transform: scale(1.1); }\n      }\n\n      @keyframes iconSpin {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n\n      @keyframes iconBounce {\n        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }\n        40% { transform: translateY(-10px); }\n        60% { transform: translateY(-5px); }\n      }\n\n      @keyframes iconFlash {\n        0%, 50%, 100% { opacity: 1; }\n        25%, 75% { opacity: 0.3; }\n      }\n\n      @keyframes iconShake {\n        0%, 100% { transform: translateX(0); }\n        10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }\n        20%, 40%, 60%, 80% { transform: translateX(2px); }\n      }\n\n      @keyframes iconVibrate {\n        0%, 100% { transform: translate(0); }\n        10% { transform: translate(-1px, -1px); }\n        20% { transform: translate(1px, -1px); }\n        30% { transform: translate(-1px, 1px); }\n        40% { transform: translate(1px, 1px); }\n        50% { transform: translate(-1px, -1px); }\n        60% { transform: translate(1px, -1px); }\n        70% { transform: translate(-1px, 1px); }\n        80% { transform: translate(1px, 1px); }\n        90% { transform: translate(-1px, -1px); }\n      }\n\n      @keyframes iconRotateLeft {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(-360deg); }\n      }\n\n      @keyframes iconRotateRight {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n\n      @keyframes iconFade {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.3; }\n      }\n\n      @keyframes iconScale {\n        0%, 100% { transform: scale(1); }\n        50% { transform: scale(1.2); }\n      }\n\n      @keyframes iconTada {\n        0% { transform: scale(1); }\n        10%, 20% { transform: scale(0.9) rotate(-3deg); }\n        30%, 50%, 70%, 90% { transform: scale(1.1) rotate(3deg); }\n        40%, 60%, 80% { transform: scale(1.1) rotate(-3deg); }\n        100% { transform: scale(1) rotate(0); }\n      }\n\n      @keyframes lockUnlockedPulse {\n        0%, 100% { \n          box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);\n          border-color: var(--info-color, #2196F3);\n        }\n        50% { \n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.4);\n          border-color: var(--info-color, #1976D2);\n        }\n      }\n\n      /* Respect user's motion preferences */\n      @media (prefers-reduced-motion: reduce) {\n        .lock-btn.unlocked {\n          animation: none !important;\n        }\n      }\n\n      /* Add icon button styling */\n      .add-icon-btn:hover {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      /* Remove icon button styling */\n      .remove-icon-btn:disabled {\n        opacity: 0.3;\n        cursor: not-allowed;\n      }\n\n      /* Icon picker specific styling */\n      ha-icon-picker {\n        --ha-icon-picker-width: 100%;\n        --ha-icon-picker-height: 56px;\n      }\n\n      /* Dropdown styling */\n      ha-select {\n        width: 100%;\n        --ha-select-height: 40px;\n      }\n\n      /* Hide any radio buttons that might still be rendered */\n      ha-radio,\n      mwc-radio,\n      .mdc-radio {\n        display: none !important;\n      }\n\n      /* Text field and select consistency */\n      ha-textfield,\n      ha-select {\n        --mdc-shape-small: 8px;\n        --mdc-theme-primary: var(--primary-color);\n      }\n\n      /* Note: Dropdown positioning fixes are now handled globally in ultra-card-editor.ts */\n\n      /* Module tab content input width - restrict to icon module only */\n      .icon-module .module-tab-content input[type="number"], \n      .icon-module .module-tab-content input[type="text"],\n      .icon-module .module-tab-content .gap-input {\n        width: 25% !important;\n        max-width: 25% !important;\n        min-width: 25% !important;\n      }\n\n      /* Grid styling for layout options */\n      .settings-section[style*="grid"] > div {\n        min-width: 0;\n      }\n\n      /* Responsive adjustments */\n      @media (max-width: 768px) {\n        .settings-section[style*="grid-template-columns: 1fr 1fr 1fr"] {\n          grid-template-columns: 1fr !important;\n          gap: 12px !important;\n        }\n\n        .settings-section[style*="grid-template-columns: 1fr 1fr"] {\n          grid-template-columns: 1fr !important;\n          gap: 12px !important;\n        }\n\n        .conditional-fields-group {\n          border-left-width: 3px;\n        }\n        \n        .conditional-fields-header {\n          padding: 10px 12px;\n          font-size: 13px;\n        }\n        \n        .conditional-fields-content {\n          padding: 12px;\n        }\n\n        /* Mobile-friendly field titles and descriptions */\n        .field-title {\n          font-size: 14px !important;\n        }\n\n        .field-description {\n          font-size: 12px !important;\n          line-height: 1.3 !important;\n        }\n\n        .section-title {\n          font-size: 16px !important;\n        }\n\n        /* Mobile-friendly size controls */\n        .gap-control-container {\n          gap: 8px !important;\n        }\n\n        .gap-input {\n          width: 44px !important;\n          max-width: 44px !important;\n          min-width: 44px !important;\n          font-size: 12px !important;\n        }\n\n        .reset-btn {\n          width: 32px !important;\n          height: 32px !important;\n        }\n\n        .reset-btn ha-icon {\n          font-size: 14px !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          line-height: 1 !important;\n        }\n\n        /* Mobile-friendly lock buttons */\n        .lock-btn {\n          padding: 6px 12px !important;\n          font-size: 12px !important;\n        }\n\n        .lock-btn ha-icon {\n          font-size: 16px !important;\n        }\n\n        .lock-btn.unlocked {\n          border-color: var(--info-color, #2196F3) !important;\n          background: rgba(33, 150, 243, 0.15) !important;\n          color: var(--info-color, #2196F3) !important;\n          box-shadow: 0 0 0 1px rgba(33, 150, 243, 0.3) !important;\n        }\n\n        .lock-btn.unlocked ha-icon {\n          color: var(--info-color, #2196F3) !important;\n        }\n\n        /* Mobile-friendly accordions */\n        details > summary {\n          padding: 12px !important;\n          font-size: 14px !important;\n        }\n\n        details > summary ha-icon {\n          font-size: 16px !important;\n        }\n\n        /* Mobile-friendly form fields */\n        .icon-settings-container {\n          padding: 12px !important;\n        }\n\n        /* Removed mobile-specific icon-grid overrides to maintain consistent user-configured spacing across all screen sizes */\n\n        .icon-item-preview {\n          padding: 6px !important;\n        }\n      }\n\n      /* Extra small devices (phones, 480px and down) */\n      @media (max-width: 480px) {\n        .field-title {\n          font-size: 13px !important;\n        }\n\n        .field-description {\n          font-size: 11px !important;\n        }\n\n        .section-title {\n          font-size: 14px !important;\n        }\n\n        .gap-input {\n          width: 40px !important;\n          max-width: 40px !important;\n          min-width: 40px !important;\n          font-size: 11px !important;\n        }\n\n        .reset-btn {\n          width: 28px !important;\n          height: 28px !important;\n        }\n\n        .reset-btn ha-icon {\n          font-size: 12px !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          margin: 0 !important;\n          padding: 0 !important;\n          line-height: 1 !important;\n        }\n\n        .lock-btn {\n          padding: 4px 8px !important;\n          font-size: 11px !important;\n        }\n\n        .lock-btn.unlocked {\n          border-color: var(--info-color, #2196F3) !important;\n          background: rgba(33, 150, 243, 0.15) !important;\n          color: var(--info-color, #2196F3) !important;\n          box-shadow: 0 0 0 1px rgba(33, 150, 243, 0.3) !important;\n        }\n\n        .lock-btn.unlocked ha-icon {\n          color: var(--info-color, #2196F3) !important;\n        }\n\n        .icon-settings-container {\n          padding: 8px !important;\n        }\n\n        /* Stack lock controls vertically on very small screens */\n        .gap-control-container {\n          flex-wrap: wrap !important;\n          gap: 6px !important;\n        }\n\n        .gap-slider {\n          width: 100% !important;\n          order: 1;\n        }\n\n        .gap-input {\n          order: 2;\n        }\n\n        .reset-btn {\n          order: 3;\n        }\n\n        .lock-btn {\n          order: 4;\n          width: 100% !important;\n          justify-content: center !important;\n        }\n      }\n\n      /* Ensure form elements don't overflow */\n      .settings-section ha-form {\n        max-width: 100%;\n        overflow: visible;\n      }\n\n      /* Color picker adjustments */\n      .settings-section ha-form[data-field*="color"] {\n        min-height: 56px;\n      }\n\n      /* Boolean toggle adjustments */\n      .settings-section ha-form[data-field*="mode"] {\n        display: flex;\n        align-items: center;\n        min-height: auto;\n      }\n\n      /* Number slider adjustments */\n      .settings-section ha-form[data-field*="size"] .mdc-slider,\n      .settings-section ha-form[data-field*="gap"] .mdc-slider,\n      .settings-section ha-form[data-field*="columns"] .mdc-slider {\n        width: 100%;\n        max-width: 100%;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n        transform: none;\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin: 0;\n        padding: 0;\n        line-height: 1;\n      }\n\n      /* Lock button styles */\n      .lock-btn {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px 16px;\n        border: 2px solid var(--divider-color);\n        border-radius: 8px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        font-size: 14px;\n        font-weight: 500;\n        transition: all 0.3s ease;\n        outline: none;\n        position: relative;\n      }\n\n      .lock-btn:hover {\n        border-color: var(--primary-color);\n        background: var(--primary-color);\n        color: white;\n      }\n\n      .lock-btn.locked {\n        border-color: var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.1);\n        color: var(--primary-color);\n      }\n\n      .lock-btn.locked:hover {\n        background: var(--primary-color);\n        color: white;\n      }\n\n      button.lock-btn.unlocked {\n        background-color: var(--primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .lock-btn.unlocked {\n        border-color: var(--info-color, #2196F3) !important;\n        background: rgba(33, 150, 243, 0.15) !important;\n        color: var(--info-color, #2196F3) !important;\n        box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2) !important;\n        animation: lockUnlockedPulse 2s ease-in-out infinite;\n      }\n\n      .lock-btn.unlocked:hover {\n        background: var(--info-color, #2196F3) !important;\n        color: white !important;\n        box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.4) !important;\n        animation: none !important;\n      }\n\n      .lock-btn.unlocked ha-icon {\n        color: var(--info-color, #2196F3) !important;\n      }\n\n      .lock-btn.unlocked:hover ha-icon {\n        color: white !important;\n      }\n\n      .lock-btn ha-icon {\n        font-size: 18px;\n      }\n\n      /* Field lock button styling */\n      .field-container .lock-btn {\n        padding: 6px 12px;\n        font-size: 12px;\n        min-width: auto;\n      }\n\n      .field-container .lock-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Icon settings container */\n      .icon-settings-container {\n        background: var(--secondary-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 24px;\n        border: 1px solid var(--divider-color);\n      }\n\n      .icon-header {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        margin-bottom: 16px;\n        padding-bottom: 12px;\n        border-bottom: 1px solid var(--divider-color);\n      }\n\n      .icon-preview {\n        width: 32px;\n        height: 32px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: var(--primary-color);\n        color: white;\n        border-radius: 50%;\n        flex-shrink: 0;\n      }\n\n      .icon-title {\n        flex: 1;\n        font-size: 16px;\n        font-weight: 600;\n        color: var(--primary-text-color);\n      }\n\n      .remove-icon-btn {\n        background: var(--error-color);\n        color: white;\n        border: none;\n        border-radius: 4px;\n        padding: 6px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n      }\n\n      .remove-icon-btn:hover {\n        background: var(--error-color);\n        opacity: 0.8;\n      }\n\n      .remove-icon-btn:disabled {\n        opacity: 0.3;\n        cursor: not-allowed;\n      }\n\n      .remove-icon-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Size lock container */\n      .size-lock-container {\n        padding: 12px;\n        background: rgba(var(--rgb-primary-color), 0.05);\n        border-radius: 8px;\n        border: 1px solid rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      /* Hide unwanted action options */\n      ha-form mwc-list-item[value="toggle"],\n      ha-form mwc-list-item[graphic="icon"]:has(ha-icon[icon="mdi:gesture-tap"]),\n      ha-form .mdc-deprecated-list-item[data-value="toggle"],\n      ha-form .mdc-list-item[data-value="toggle"],\n      ha-form option[value="toggle"] {\n        display: none !important;\n      }\n\n      /* Hide "Default ()" option - target by text content */\n      ha-form mwc-list-item:has-text("Default ()"),\n      ha-form .mdc-deprecated-list-item:has-text("Default ()"),\n      ha-form .mdc-list-item:has-text("Default ()"),\n      ha-form option:has-text("Default ()") {\n        display: none !important;\n      }\n\n      /* Alternative approach using CSS attribute selectors for text content */\n      ha-form mwc-list-item[textContent*="Default ()"],\n      ha-form .mdc-deprecated-list-item[textContent*="Default ()"],\n      ha-form .mdc-list-item[textContent*="Default ()"] {\n        display: none !important;\n      }\n\n      /* Template Section Styles */\n      .template-section {\n        background: var(--card-background-color);\n        border-radius: 8px;\n        padding: 16px;\n        border: 1px solid var(--divider-color);\n        margin-bottom: 32px;\n      }\n\n      .template-header {\n        margin-bottom: 16px;\n      }\n\n      .switch-container {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        gap: 8px;\n        margin-bottom: 8px;\n      }\n\n      .switch-label {\n        font-weight: 600;\n        color: var(--primary-text-color);\n        font-size: 16px;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        width: 50px;\n        height: 24px;\n      }\n\n      .switch input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n      }\n\n      .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: var(--switch-unchecked-color, #ccc);\n        transition: .4s;\n      }\n\n      .slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 18px;\n        left: 3px;\n        bottom: 3px;\n        background-color: white;\n        transition: .4s;\n      }\n\n      input:checked + .slider {\n        background-color: var(--primary-color);\n      }\n\n      input:checked + .slider:before {\n        transform: translateX(26px);\n      }\n\n      .slider.round {\n        border-radius: 24px;\n    max-width: 50px;\n}\n      }\n\n      .slider.round:before {\n        border-radius: 50%;\n      }\n\n      .template-description {\n        font-size: 13px;\n        color: var(--secondary-text-color);\n        line-height: 1.4;\n        margin-bottom: 8px;\n      }\n\n      .template-content {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n      }\n\n      .template-editor {\n        min-height: 120px;\n        font-family: 'Courier New', monospace;\n        font-size: 13px;\n        line-height: 1.4;\n        resize: vertical;\n        width: 100%;\n        padding: 12px;\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        background: var(--card-background-color);\n        color: var(--primary-text-color);\n        outline: none;\n        transition: border-color 0.2s ease;\n      }\n\n      .template-editor:focus {\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 1px var(--primary-color);\n      }\n\n      .template-help {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n        margin-top: 4px;\n      }\n\n      .template-help p {\n        margin: 8px 0;\n        font-weight: 500;\n      }\n\n      .template-help ul {\n        margin: 4px 0;\n        padding-left: 16px;\n      }\n\n      .template-help li {\n        margin: 2px 0;\n      }\n\n      .template-help code {\n        background: rgba(var(--rgb-primary-color), 0.1);\n        padding: 2px 4px;\n        border-radius: 3px;\n        font-family: 'Courier New', monospace;\n        font-size: 11px;\n      }\n\n      ${r.A.getHoverStyles()}\n    `}_addIcon(e,t){const i={id:this.generateId("icon-item"),entity:"weather.forecast_home",name:"",icon_inactive:"mdi:weather-partly-cloudy",icon_active:"mdi:weather-partly-cloudy",inactive_state:"",active_state:"",inactive_attribute:"",active_attribute:"",custom_inactive_state_text:"",custom_active_state_text:"",custom_inactive_name_text:"",custom_active_name_text:"",inactive_template_mode:!1,inactive_template:"",active_template_mode:!1,active_template:"",use_entity_color_for_icon:!1,use_state_color_for_inactive_icon:!1,use_state_color_for_active_icon:!1,color_inactive:"var(--secondary-text-color)",color_active:"var(--primary-color)",inactive_icon_color:"var(--secondary-text-color)",active_icon_color:"var(--primary-color)",inactive_name_color:"var(--primary-text-color)",active_name_color:"var(--primary-text-color)",inactive_state_color:"var(--secondary-text-color)",active_state_color:"var(--secondary-text-color)",show_name_when_inactive:!0,show_state_when_inactive:!0,show_icon_when_inactive:!0,show_name_when_active:!0,show_state_when_active:!0,show_icon_when_active:!0,show_state:!0,show_name:!0,icon_size:26,text_size:14,name_icon_gap:8,name_state_gap:2,icon_state_gap:4,active_icon_size:26,inactive_icon_size:26,active_text_size:14,inactive_text_size:14,state_size:14,active_state_size:14,inactive_state_size:14,icon_background:"none",use_entity_color_for_icon_background:!1,icon_background_color:"transparent",active_icon_background:"none",inactive_icon_background:"none",active_icon_background_color:"transparent",inactive_icon_background_color:"transparent",icon_size_locked:!0,text_size_locked:!0,state_size_locked:!0,active_icon_locked:!0,active_icon_color_locked:!1,active_icon_background_locked:!0,active_icon_background_color_locked:!0,active_name_locked:!0,active_name_color_locked:!0,active_state_locked:!1,active_state_color_locked:!0,inactive_icon_animation:"none",active_icon_animation:"none",show_units:!0,vertical_alignment:"center",container_width:void 0,container_background_shape:"none",container_background_color:"#808080",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},click_action:"toggle",double_click_action:"none",hold_action_legacy:"none",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:""},o=[...e.icons,i],a={icons:o};1!==o.length||e.tap_action&&"nothing"!==e.tap_action.action&&"default"!==e.tap_action.action||(a.tap_action={action:"more-info",entity:i.entity}),t(a)}_removeIcon(e,t,i){e.icons.length<=1||i({icons:e.icons.filter(((e,i)=>i!==t))})}_updateIcon(e,t,i,o){o({icons:e.icons.map(((e,o)=>o===t?Object.assign(Object.assign({},e),i):e))})}_debouncedUpdateIcon(e,t,i,o,a=100){this._updateTimeout&&clearTimeout(this._updateTimeout),this._updateTimeout=setTimeout((()=>{this._updateIcon(e,t,i,o)}),a)}_triggerPreviewUpdate(){this._attributeCache.clear(),"undefined"!=typeof window&&(window.dispatchEvent(new CustomEvent("ultra-card-template-update")),window.dispatchEvent(new CustomEvent("ultra-card-preview-update")),window.dispatchEvent(new CustomEvent("ultra-card-state-changed")));try{this.requestUpdate&&this.requestUpdate()}catch(e){}}_updateIconWithLockSync(e,t,i,o,a){const n=e.icons[t],r={[i]:o},s={icon_inactive:{active:"icon_active",lock:"active_icon_locked"},inactive_icon_size:{active:"active_icon_size",lock:"icon_size_locked"},inactive_text_size:{active:"active_text_size",lock:"text_size_locked"},inactive_state_size:{active:"active_state_size",lock:"state_size_locked"},inactive_icon_color:{active:"active_icon_color",lock:"active_icon_color_locked"},inactive_name_color:{active:"active_name_color",lock:"active_name_color_locked"},inactive_state_color:{active:"active_state_color",lock:"active_state_color_locked"},inactive_icon_background:{active:"active_icon_background",lock:"active_icon_background_locked"},inactive_icon_background_color:{active:"active_icon_background_color",lock:"active_icon_background_color_locked"},use_state_color_for_inactive_icon:{active:"use_state_color_for_active_icon",lock:"active_state_color_locked"}}[i];s&&!1!==n[s.lock]&&(r[s.active]=o),this._updateIcon(e,t,r,a)}getBackgroundImageCSS(e,t){var i,o;const a=e.background_image_type,n=e.background_image,r=e.background_image_entity;if(!a||"none"===a)return"none";switch(a){case"upload":if(n)return`url("${(0,p.V)(t,n)}")`;break;case"url":if(n)return`url("${n}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const a=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(o=e.attributes)||void 0===o?void 0:o.image)||("string"==typeof e.state?e.state:"");if(a&&"unknown"!==a&&"unavailable"!==a)return`url("${(0,p.V)(t,a)}")`}}}return"none"}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_renderSizeControl(e,t,i,a,n,r,s,l){return o.qy`
      <div class="gap-control-container" style="display: flex; align-items: center; gap: 12px;">
        <input
          type="range"
          class="gap-slider"
          min="${r}"
          max="${s}"
          step="1"
          .value="${n}"
          @input=${o=>{const n=o.target,r=Number(n.value);this._updateIconWithLockSync(e,t,a,r,i)}}
        />
        <input
          type="number"
          class="gap-input"
          min="${r}"
          max="${s}"
          step="1"
          .value="${n}"
          @input=${o=>{const n=o.target,l=Number(n.value);!isNaN(l)&&l>=r&&l<=s&&this._updateIconWithLockSync(e,t,a,l,i)}}
          @keydown=${o=>{if("ArrowUp"===o.key||"ArrowDown"===o.key){o.preventDefault();const n=o.target,d=Number(n.value)||l,c="ArrowUp"===o.key?1:-1,p=Math.max(r,Math.min(s,d+c));this._updateIconWithLockSync(e,t,a,p,i)}}}
        />
        <button
          class="reset-btn"
          @click=${()=>{this._updateIconWithLockSync(e,t,a,l,i)}}
          title="Reset to default (${l})"
        >
          <ha-icon icon="mdi:refresh"></ha-icon>
        </button>
      </div>
    `}_renderFieldWithLock(e,t,i,a,n,r,s,l,d,c){const p=e.icons[t],u=!1!==p[a],g=u&&p[r]||s;return o.qy`
      <div style="display: flex; align-items: center; gap: 12px;">
        <div style="flex: 1;">
          ${"icon"===l?o.qy`
                <div
                  style="opacity: ${u?"0.5":"1"}; pointer-events: ${u?"none":"auto"};"
                >
                  ${this.renderUcForm(d,{[n]:g},[this.iconField(n)],(o=>{u||this._updateIcon(e,t,{[n]:o.detail.value[n]},i)}),!1)}
                </div>
              `:"color"===l?o.qy`
                  <ultra-color-picker
                    .value=${g}
                    .disabled=${u}
                    @value-changed=${o=>{u||this._updateIcon(e,t,{[n]:o.detail.value},i)}}
                  ></ultra-color-picker>
                `:"select"===l?o.qy`
                    <div
                      style="opacity: ${u?"0.5":"1"}; pointer-events: ${u?"none":"auto"};"
                    >
                      ${this.renderUcForm(d,{[n]:g},[this.selectField(n,c||[])],(o=>{const a=o.detail.value[n];a!==p[n]&&this._updateIcon(e,t,{[n]:a},i)}),!1)}
                    </div>
                  `:"toggle"===l?o.qy`
                      <ha-switch
                        .checked=${g}
                        .disabled=${u}
                        @change=${o=>{if(!u){const a=o.target;this._updateIcon(e,t,{[n]:a.checked},i)}}}
                      ></ha-switch>
                    `:o.qy`
                      <div
                        style="opacity: ${u?"0.5":"1"}; pointer-events: ${u?"none":"auto"};"
                      >
                        ${this.renderUcForm(d,{[n]:g},[this.textField(n)],(o=>{const a=o.detail.value[n];a!==p[n]&&this._updateIcon(e,t,{[n]:a},i)}),!1)}
                      </div>
                    `}
        </div>
        <button
          class="lock-btn ${u?"locked":"unlocked"}"
          @click=${()=>{const o=!u,s={[a]:o};o&&(s[n]=p[r]),this._updateIcon(e,t,s,i)}}
          title="${u?"Unlock to customize this field independently":"Lock to inherit from inactive state"}"
        >
          <ha-icon icon="${u?"mdi:lock":"mdi:lock-open"}"></ha-icon>
        </button>
      </div>
    `}_renderSizeControlWithLock(e,t,i,a,n,r,s,l,d,c){const p=e.icons[t],u=`${a}_locked`,g=!1!==p[u],m=g?p[r]||c:s;return o.qy`
      <div class="gap-control-container" style="display: flex; align-items: center; gap: 12px;">
        <input
          type="range"
          class="gap-slider"
          min="${l}"
          max="${d}"
          step="1"
          .value="${m}"
          .disabled=${g}
          @input=${o=>{if(!g){const a=o.target,r=Number(a.value);this._updateIcon(e,t,{[n]:r},i)}}}
        />
        <input
          type="number"
          class="gap-input"
          min="${l}"
          max="${d}"
          step="1"
          .value="${m}"
          .disabled=${g}
          @input=${o=>{if(!g){const a=o.target,r=Number(a.value);!isNaN(r)&&r>=l&&r<=d&&this._updateIcon(e,t,{[n]:r},i)}}}
          @keydown=${o=>{if(!g&&("ArrowUp"===o.key||"ArrowDown"===o.key)){o.preventDefault();const a=o.target,r=Number(a.value)||c,s="ArrowUp"===o.key?1:-1,p=Math.max(l,Math.min(d,r+s));this._updateIcon(e,t,{[n]:p},i)}}}
        />
        <button
          class="reset-btn"
          @click=${()=>{g||this._updateIcon(e,t,{[n]:c},i)}}
          title="Reset to default (${c})"
          .disabled=${g}
        >
          <ha-icon icon="mdi:refresh"></ha-icon>
        </button>
        <button
          class="lock-btn ${g?"locked":"unlocked"}"
          @click=${()=>{const o=!g,a={[u]:o};o&&(a[n]=p[r]||c),this._updateIcon(e,t,a,i)}}
          title="${g?"Unlock to set different sizes for active/inactive":"Lock to use same size for both states"}"
        >
          <ha-icon icon="${g?"mdi:lock":"mdi:lock-open"}"></ha-icon>
        </button>
      </div>
    `}_updateIconAnimationClasses(e,t,i){[document,document.body,this.shadowRoot,this.renderRoot,...Array.from(document.querySelectorAll("*")).filter((e=>e.shadowRoot)).map((e=>e.shadowRoot))].filter(Boolean).forEach(((e,i)=>{try{e.querySelectorAll("ha-icon").forEach((e=>{if((e.getAttribute("data-animation-debug")||"")!==t)return;const i=e.className.split(" ").filter((e=>!e.startsWith("icon-animation-")));t&&!t.includes("none")&&i.push(t),e.className=i.join(" ");const o=t.replace("icon-animation-","");if(o&&"none"!==o){const t="icon"+o.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),i=o.includes("spin")||o.includes("rotate")?"2s linear infinite":"1s ease-in-out infinite";e.style.animation=`${t} ${i}`}else e.style.animation="";this._injectKeyframesIntoHaIcon(e),e.offsetHeight}))}catch(e){}}))}_getInlineAnimation(e){const t=e.replace("icon-animation-","");return t&&"none"!==t?`${"icon"+t.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")} ${t.includes("spin")||t.includes("rotate")?"2s linear infinite":"bounce"===t?"1s ease-in-out infinite":"shake"===t?"0.5s ease-in-out infinite":"vibrate"===t?"0.3s ease-in-out infinite":"2s ease-in-out infinite"}`:""}_applyAnimationDirectly(e,t){const i=t.replace("icon-animation-","");if(!i||"none"===i)return;const o="icon"+i.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),a=i.includes("spin")||i.includes("rotate")?"2s linear infinite":"2s ease-in-out infinite";e.style.animation=`${o} ${a}`,this._injectKeyframesIntoHaIcon(e)}_injectKeyframesForAllSplitPreviewIcons(){const e=(t=1)=>{const i=document.querySelectorAll('ha-icon[data-animation-debug]:not([data-animation-debug="none"])'),o=[...Array.from(document.querySelectorAll("*")).filter((e=>e.shadowRoot)).map((e=>e.shadowRoot))],a=Array.from(i);o.forEach((e=>{e.querySelectorAll('ha-icon[data-animation-debug]:not([data-animation-debug="none"])').forEach((e=>a.push(e)))}));let n=0;a.forEach((e=>{this._injectKeyframesIntoHaIcon(e),n++})),0===n&&t<10&&setTimeout((()=>e(t+1)),150)};e()}_formatValueWithUnits(e,t,i,o){var a;return t&&(null===(a=null==o?void 0:o.states)||void 0===a?void 0:a[t])?(0,n.formatEntityState)(o,t,{state:e,includeUnit:!1!==i.show_units}):e}_getEntityStateColor(e){if(!e||!e.attributes)return null;if(e.attributes.rgb_color&&Array.isArray(e.attributes.rgb_color))return`rgb(${e.attributes.rgb_color.join(",")})`;if(e.attributes.hs_color&&Array.isArray(e.attributes.hs_color)){const[t,i]=e.attributes.hs_color;return`rgb(${this._hsToRgb(t/360,i/100,1).join(",")})`}if(e.attributes.color_name)return e.attributes.color_name;if(e.attributes.color&&"string"==typeof e.attributes.color)return e.attributes.color;if(e.entity_id){const t=e.entity_id.split(".")[0];if("binary_sensor"===t||"switch"===t)return"on"===e.state?"#4CAF50":"#F44336"}return null}_hsToRgb(e,t,i){let o,a,n;const r=Math.floor(6*e),s=6*e-r,l=i*(1-t),d=i*(1-s*t),c=i*(1-(1-s)*t);switch(r%6){case 0:o=i,a=c,n=l;break;case 1:o=d,a=i,n=l;break;case 2:o=l,a=i,n=c;break;case 3:o=l,a=d,n=i;break;case 4:o=c,a=l,n=i;break;case 5:o=i,a=l,n=d;break;default:o=a=n=0}return[Math.round(255*o),Math.round(255*a),Math.round(255*n)]}_getEntityPicture(e,t){var i,o;if(!e||!t)return null;if(!e.entity_id)return null;const a=null===(i=e.attributes)||void 0===i?void 0:i.entity_picture;if(a)return a.startsWith("/")?`${(t.hassUrl?t.hassUrl():"").replace(/\/$/,"")}${a}`:a;const n=["image","picture","thumbnail","avatar","photo","icon_url","image_url"];for(const i of n){const a=null===(o=e.attributes)||void 0===o?void 0:o[i];if(a&&"string"==typeof a)return a.startsWith("/")?`${(t.hassUrl?t.hassUrl():"").replace(/\/$/,"")}${a}`:a}return null}_shouldUseEntityPicture(e){var t;return!!e&&(!!e.entity_id&&(!!(null===(t=e.attributes)||void 0===t?void 0:t.entity_picture)||["image","picture","thumbnail","avatar","photo","icon_url","image_url"].some((t=>{var i;return(null===(i=e.attributes)||void 0===i?void 0:i[t])&&"string"==typeof e.attributes[t]&&""!==e.attributes[t].trim()}))))}_injectKeyframesIntoHaIcon(e){const t=e.shadowRoot;if(!t)return;const i=t.querySelector("style[data-uvc-keyframes]");i&&i.remove();try{const e=document.createElement("style");if(e.setAttribute("data-uvc-keyframes",""),e.textContent=m._ANIMATION_KEYFRAMES,t.appendChild(e),!document.head.querySelector("style[data-uvc-global-keyframes]")){const e=document.createElement("style");e.setAttribute("data-uvc-global-keyframes",""),e.textContent=m._ANIMATION_KEYFRAMES,document.head.appendChild(e)}}catch(e){console.error(" Error injecting keyframes:",e)}}}m._globalStylesInjected=!1,m._ANIMATION_KEYFRAMES="\n    @keyframes iconPulse {0%,100%{opacity:1;transform:scale(1);}50%{opacity:0.7;transform:scale(1.1);}}\n    @keyframes iconSpin {from{transform:rotate(0deg);}to{transform:rotate(360deg);}}\n    @keyframes iconBounce {0%,20%,50%,80%,100%{transform:translateY(0);}40%{transform:translateY(-10px);}60%{transform:translateY(-5px);}}\n    @keyframes iconFlash {0%,50%,100%{opacity:1;}25%,75%{opacity:0.3;}}\n    @keyframes iconShake {0%,100%{transform:translateX(0);}10%,30%,50%,70%,90%{transform:translateX(-2px);}20%,40%,60%,80%{transform:translateX(2px);}}\n    @keyframes iconVibrate {0%,100%{transform:translate(0);}10%{transform:translate(-1px,-1px);}20%{transform:translate(1px,-1px);}30%{transform:translate(-1px,1px);}40%{transform:translate(1px,1px);}50%{transform:translate(-1px,-1px);}60%{transform:translate(1px,-1px);}70%{transform:translate(-1px,1px);}80%{transform:translate(1px,1px);}90%{transform:translate(-1px,-1px);}}\n    @keyframes iconRotateLeft {from{transform:rotate(0deg);}to{transform:rotate(-360deg);}}\n    @keyframes iconRotateRight {from{transform:rotate(0deg);}to{transform:rotate(360deg);}}\n    @keyframes iconFade {0%,100%{opacity:1;}50%{opacity:0.3;}}\n    @keyframes iconScale {0%,100%{transform:scale(1);}50%{transform:scale(1.2);}}\n    @keyframes iconTada {0%{transform:scale(1);}10%,20%{transform:scale(0.9) rotate(-3deg);}30%,50%,70%,90%{transform:scale(1.1) rotate(3deg);}40%,60%,80%{transform:scale(1.1) rotate(-3deg);}100%{transform:scale(1) rotate(0);}}\n  "},2371:(e,t,i)=>{i.d(t,{X:()=>r});var o=i(5183),a=i(8914),n=i(456);class r{static render(e,t,i){var r;const s=e.display_conditions||[],l=e.display_mode||"always",d=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en";return o.qy`
      <div class="uc-global-logic-tab">
        ${a.Q.injectCleanFormStyles()}
        <!-- Display Mode -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          ${a.Q.renderField((0,n.kg)("editor.layout_logic.display_title",d,"Display this Module"),(0,n.kg)("editor.layout_logic.display_desc",d,'Control when this module is shown. Choose "Always" to keep it visible. Select "If EVERY" or "If ANY" to display it only when the conditions you add below evaluate to true.'),t,{display_mode:l},[a.Q.createSchemaItem("display_mode",{select:{options:[{value:"always",label:(0,n.kg)("editor.layout_logic.always",d,"Always")},{value:"every",label:(0,n.kg)("editor.layout_logic.every",d,"If EVERY condition below is met")},{value:"any",label:(0,n.kg)("editor.layout_logic.any",d,"If ANY condition below is met")}],mode:"dropdown"}})],(e=>{i({display_mode:e.detail.value.display_mode})}))}
        </div>

        <!-- Conditions List -->
        ${"always"!==l?o.qy`
              <div
                class="settings-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
              >
                <div
                  style="display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px;"
                >
                  <div style="font-size: 16px; font-weight: 700;">
                    ${(0,n.kg)("editor.layout_logic.conditions",d,"Conditions")}
                  </div>
                  <button
                    class="add-condition"
                    @click=${()=>{const e={id:`cond_${Date.now()}_${Math.random().toString(36).slice(2,7)}`,type:"entity_state",ui_expanded:!0,entity:"",operator:"=",value:""},t=[...s,e];i({display_conditions:t})}}
                    style="display:flex; align-items:center; gap:8px; padding:6px 10px; border:1px dashed var(--primary-color); background:none; color:var(--primary-color); border-radius:6px; cursor:pointer;"
                    title="${(0,n.kg)("editor.layout_logic.add_condition",d,"Add Condition")}"
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                    ${(0,n.kg)("editor.layout_logic.add_condition",d,"Add Condition")}
                  </button>
                </div>

                <div style="display:flex; flex-direction: column; gap: 12px;">
                  ${0===s.length?o.qy`
                        <div
                          style="text-align: center; padding: 24px; color: var(--secondary-text-color); font-style: italic;"
                        >
                          ${(0,n.kg)("editor.layout_logic.no_conditions",d,'No conditions added yet. Click "Add Condition" to get started.')}
                        </div>
                      `:""}
                  ${s.map(((e,r)=>{const l=t=>{const o=[...s];o[r]=Object.assign(Object.assign({},e),t),i({display_conditions:o})},c=!1!==e.ui_expanded,p=e.custom_name||`${(0,n.kg)("editor.layout_logic.condition_header",d,"Condition")} ${r+1}`;return o.qy` <div
                      class="uc-condition-item"
                      draggable="true"
                      @dragstart=${e=>{e.dataTransfer&&(e.dataTransfer.setData("text/plain",String(r)),e.dataTransfer.effectAllowed="move")}}
                      @dragover=${e=>{e.preventDefault()}}
                      @drop=${e=>{if(e.preventDefault(),!e.dataTransfer)return;const t=Number(e.dataTransfer.getData("text/plain")),o=r;if(isNaN(t)||t===o)return;const a=[...s],[n]=a.splice(t,1);a.splice(o,0,n),i({display_conditions:a})}}
                      style="border:1px solid var(--divider-color); border-radius: 8px; background: var(--card-background-color); overflow: hidden;"
                    >
                      <div
                        class="uc-condition-header"
                        style="display:flex; align-items:center; justify-content: space-between; gap:10px; padding: 12px 14px; border-bottom: 1px solid var(--divider-color);"
                      >
                        <div style="display:flex; align-items:center; gap:10px; min-width:0;">
                          <button
                            @click=${()=>l({ui_expanded:!c})}
                            title=${c?"Collapse":"Expand"}
                            style="background:none; border:none; color:var(--secondary-text-color); cursor:pointer;"
                          >
                            <ha-icon
                              icon=${c?"mdi:chevron-down":"mdi:chevron-right"}
                            ></ha-icon>
                          </button>
                          <span
                            style="font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"
                            >${p}</span
                          >
                        </div>
                        <div style="display:flex; align-items:center; gap:4px; flex-shrink:0;">
                          <button
                            @click=${()=>{const t=Object.assign(Object.assign({},e),{id:`cond_${Date.now()}_${Math.random().toString(36).slice(2,7)}`}),o=[...s];o.splice(r+1,0,t),i({display_conditions:o})}}
                            style="background:none; border:none; padding:4px; cursor:pointer; color: var(--secondary-text-color);"
                            title="Duplicate Condition"
                          >
                            <ha-icon
                              icon="mdi:content-copy"
                              style="--mdi-icon-size: 18px;"
                            ></ha-icon>
                          </button>
                          <button
                            @click=${()=>{const e=s.filter(((e,t)=>t!==r));i({display_conditions:e})}}
                            style="background:none; border:none; padding:4px; cursor:pointer; color: var(--error-color);"
                            title="Remove Condition"
                          >
                            <ha-icon
                              icon="mdi:trash-can-outline"
                              style="--mdi-icon-size: 18px;"
                            ></ha-icon>
                          </button>
                          <button
                            class="condition-drag-handle"
                            title="Drag to reorder"
                            style="background:none; border:none; padding:4px; cursor:grab; display:inline-flex; align-items:center; justify-content:center; color: var(--secondary-text-color);"
                          >
                            <ha-icon icon="mdi:dots-grid" style="--mdi-icon-size: 18px;"></ha-icon>
                          </button>
                        </div>
                      </div>

                      ${c?o.qy`
                            <div
                              style="padding: 12px 14px; display:flex; flex-direction:column; gap:12px;"
                            >
                              ${a.Q.renderField((0,n.kg)("editor.layout_logic.custom_name",d,"Custom Name"),(0,n.kg)("editor.layout_logic.custom_name_desc",d,"Optional: Give this condition a custom name for easier identification"),t,{custom_name:e.custom_name||""},[a.Q.createSchemaItem("custom_name",{text:{}})],(e=>l(e.detail.value)))}
                              ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_type",d,"Condition Type"),"",t,{type:e.type||"entity_state"},[a.Q.createSchemaItem("type",{select:{options:[{value:"entity_state",label:(0,n.kg)("editor.layout_logic.condition_types.entity_state",d,"Entity State")},{value:"entity_attribute",label:(0,n.kg)("editor.layout_logic.condition_types.entity_attribute",d,"Entity Attribute")},{value:"time",label:(0,n.kg)("editor.layout_logic.condition_types.time",d,"Time Range")},{value:"template",label:(0,n.kg)("editor.layout_logic.condition_types.template",d,"Template")}],mode:"dropdown"}})],(e=>{const t=e.detail.value.type,i={type:t};"entity_state"===t?Object.assign(i,{entity:"",operator:"=",value:""}):"entity_attribute"===t?Object.assign(i,{entity:"",attribute:"",operator:"=",value:""}):"time"===t?Object.assign(i,{time_from:"00:00",time_to:"23:59"}):"template"===t&&Object.assign(i,{template:""}),l(i)}))}
                              ${"entity_state"===(e.type||"entity_state")?o.qy`
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.entity",d,"Entity"),"",t,{entity:e.entity||""},[a.Q.createSchemaItem("entity",{entity:{}})],(e=>l(e.detail.value)))}
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.operator",d,"Operator"),"",t,{operator:e.operator||"="},[a.Q.createSchemaItem("operator",{select:{options:[{value:"=",label:"="},{value:"!=",label:"!="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="},{value:"contains",label:"contains"},{value:"not_contains",label:"not_contains"},{value:"has_value",label:"has_value"},{value:"no_value",label:"no_value"}],mode:"dropdown"}})],(e=>l(e.detail.value)))}
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.value",d,"Value"),"",t,{value:e.value||""},[a.Q.createSchemaItem("value",{text:{}})],(e=>l(e.detail.value)))}
                                  `:"entity_attribute"===e.type?o.qy`
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.entity",d,"Entity"),"",t,{entity:e.entity||""},[a.Q.createSchemaItem("entity",{entity:{}})],(e=>l(e.detail.value)))}
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.attribute",d,"Attribute"),"",t,{attribute:e.attribute||""},[a.Q.createSchemaItem("attribute",{text:{}})],(e=>l(e.detail.value)))}
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.operator",d,"Operator"),"",t,{operator:e.operator||"="},[a.Q.createSchemaItem("operator",{select:{options:[{value:"=",label:"="},{value:"!=",label:"!="},{value:">",label:">"},{value:">=",label:">="},{value:"<",label:"<"},{value:"<=",label:"<="},{value:"contains",label:"contains"},{value:"not_contains",label:"not_contains"}],mode:"dropdown"}})],(e=>l(e.detail.value)))}
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.value",d,"Value"),"",t,{value:e.value||""},[a.Q.createSchemaItem("value",{text:{}})],(e=>l(e.detail.value)))}
                                  `:"time"===e.type?o.qy`
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.time_from",d,"From"),"",t,{time_from:e.time_from||"00:00"},[a.Q.createSchemaItem("time_from",{text:{}})],(e=>l(e.detail.value)))}
                                    ${a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.time_to",d,"To"),"",t,{time_to:e.time_to||"23:59"},[a.Q.createSchemaItem("time_to",{text:{}})],(e=>l(e.detail.value)))}
                                  `:a.Q.renderField((0,n.kg)("editor.layout_logic.condition_fields.template",d,"Template"),"Jinja2 template that should evaluate to true/false.",t,{template:e.template||""},[a.Q.createSchemaItem("template",{text:{multiline:!0}})],(e=>l(e.detail.value)))}
                            </div>
                          `:""}
                    </div>`}))}
                </div>
              </div>
            `:""}
      </div>
    `}}},2381:(e,t,i)=>{async function o(e,t){var i;if(!t)throw console.error("[UPLOAD] Missing file."),new Error("No file provided for upload.");if(!(e&&e.auth&&e.auth.data&&e.auth.data.access_token))throw console.error("[UPLOAD] Missing Home Assistant authentication details."),new Error("Authentication details are missing.");const o=new FormData;o.append("file",t);try{console.log("[UPLOAD] Attempting upload to local media source...");const i=await fetch("/api/media_source/local/upload",{method:"POST",body:o,headers:{Authorization:`Bearer ${e.auth.data.access_token}`}});if(i.ok){const e=(await i.json()).media_content_id||`/media/local/${t.name}`;return console.log(`[UPLOAD] Successfully uploaded to local media source: ${e}`),e}console.warn(`[UPLOAD] Local media source failed (${i.status}), trying fallback method...`)}catch(e){console.warn("[UPLOAD] Local media source not available, trying fallback method...",e)}try{console.log("[UPLOAD] Attempting upload to image API...");let t="";t=e.connection&&"string"==typeof(null===(i=e.connection.options)||void 0===i?void 0:i.url)?e.connection.options.url.replace(/^ws/,"http"):"function"==typeof e.hassUrl?e.hassUrl():`${window.location.protocol}//${window.location.host}`;const a=`${t.replace(/\/$/,"")}/api/image/upload`,n=await fetch(a,{method:"POST",headers:{Authorization:`Bearer ${e.auth.data.access_token}`},body:o});if(!n.ok){const e=await n.text();throw console.error(`[UPLOAD] Image API upload failed: ${n.status} ${n.statusText}`,e),new Error(`Image API upload failed: ${n.statusText}`)}const r=await n.json();if(!r||!r.id)throw console.error("[UPLOAD] Invalid response from image API: missing id",r),new Error("Invalid response from image API: missing id");const s=`/api/image/serve/${r.id}`;return console.log(`[UPLOAD] Successfully uploaded to image API: ${s}`),s}catch(e){throw console.error("[UPLOAD] All upload methods failed:",e),new Error(`Upload failed: ${e instanceof Error?e.message:"Unknown network error"}`)}}function a(e,t){if(!t)return"";if(t.startsWith("http"))return t;if(t.includes("/api/image/serve/")){const i=t.match(/\/api\/image\/serve\/([^\/]+)/);if(i&&i[1]){const o=i[1];try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/api/image/serve/${o}/original`}catch(e){return t}}return t}if(t.startsWith("/media/local/")||t.startsWith("media/local/")||t.startsWith("local/")||t.includes("/local/")||t.startsWith("media-source://")){const i=t.replace(/^\/media\/local\//,"").replace(/^media\/local\//,"").replace(/^\/?local\//,"").replace(/^media-source:\/\/media_source\/local\//,"");try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/local/${i}`}catch(e){return`/local/${i}`}}if(t.startsWith("/"))try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}${t}`}catch(e){return t}return t}i.d(t,{V:()=>a,m:()=>o})},2701:(e,t,i)=>{i.d(t,{s:()=>xe});var o=i(5183),a=i(866),n=i(9662),r=i(2371),s=i(796),l=i(7987),d=i(2381),c=i(456),p=i(4345);var u={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function g(e){u=e}var m={exec:()=>null};function h(e,t=""){let i="string"==typeof e?e:e.source,o={replace:(e,t)=>{let a="string"==typeof t?t:t.source;return a=a.replace(_.caret,"$1"),i=i.replace(e,a),o},getRegex:()=>new RegExp(i,t)};return o}var _={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},v=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,f=/(?:[*+-]|\d{1,9}[.)])/,b=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,y=h(b).replace(/bull/g,f).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),k=h(b).replace(/bull/g,f).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),x=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,w=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,S=h(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",w).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),A=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,f).getRegex(),C="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,T=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",z).replace("tag",C).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),I=h(x).replace("hr",v).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C).getRegex(),E={blockquote:h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",I).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:S,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:v,html:T,lheading:y,list:A,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:I,table:m,text:/^[^\n]+/},$=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",v).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C).getRegex(),P={...E,lheading:k,table:$,paragraph:h(x).replace("hr",v).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",C).getRegex()},j={...E,html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",z).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:m,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(x).replace("hr",v).replace("heading"," *#{1,6} *[^\n]").replace("lheading",y).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},B=/^( {2,}|\\)\n(?!\s*$)/,D=/[\p{P}\p{S}]/u,O=/[\s\p{P}\p{S}]/u,J=/[^\s\p{P}\p{S}]/u,R=h(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,O).getRegex(),U=/(?!~)[\p{P}\p{S}]/u,M=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,H=h(M,"u").replace(/punct/g,D).getRegex(),N=h(M,"u").replace(/punct/g,U).getRegex(),L="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",F=h(L,"gu").replace(/notPunctSpace/g,J).replace(/punctSpace/g,O).replace(/punct/g,D).getRegex(),K=h(L,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,U).getRegex(),V=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,J).replace(/punctSpace/g,O).replace(/punct/g,D).getRegex(),q=h(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Q=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),G=h(z).replace("(?:--\x3e|$)","--\x3e").getRegex(),Y=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",G).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),W=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,Z=h(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",W).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),X=h(/^!?\[(label)\]\[(ref)\]/).replace("label",W).replace("ref",w).getRegex(),ee=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",w).getRegex(),te={_backpedal:m,anyPunctuation:q,autolink:Q,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:B,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:m,emStrongLDelim:H,emStrongRDelimAst:F,emStrongRDelimUnd:V,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Z,nolink:ee,punctuation:R,reflink:X,reflinkSearch:h("reflink|nolink(?!\\()","g").replace("reflink",X).replace("nolink",ee).getRegex(),tag:Y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:m},ie={...te,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",W).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W).getRegex()},oe={...te,emStrongRDelimAst:K,emStrongLDelim:N,url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ae={...oe,br:h(B).replace("{2,}","*").getRegex(),text:h(oe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ne={normal:E,gfm:P,pedantic:j},re={normal:te,gfm:oe,breaks:ae,pedantic:ie},se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},le=e=>se[e];function de(e,t){if(t){if(_.escapeTest.test(e))return e.replace(_.escapeReplace,le)}else if(_.escapeTestNoEncode.test(e))return e.replace(_.escapeReplaceNoEncode,le);return e}function ce(e){try{e=encodeURI(e).replace(_.percentDecode,"%")}catch{return null}return e}function pe(e,t){let i=e.replace(_.findPipe,((e,t,i)=>{let o=!1,a=t;for(;--a>=0&&"\\"===i[a];)o=!o;return o?"|":" |"})).split(_.splitPipe),o=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(_.slashPipe,"|");return i}function ue(e,t,i){let o=e.length;if(0===o)return"";let a=0;for(;a<o;){let n=e.charAt(o-a-1);if(n!==t||i){if(n===t||!i)break;a++}else a++}return e.slice(0,o-a)}function ge(e,t,i,o,a){let n=t.href,r=t.title||null,s=e[1].replace(a.other.outputLinkReplace,"$1");o.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:i,href:n,title:r,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,l}var me=class{options;rules;lexer;constructor(e){this.options=e||u}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ue(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],i=function(e,t,i){let o=e.match(i.other.indentCodeCompensation);if(null===o)return t;let a=o[1];return t.split("\n").map((e=>{let t=e.match(i.other.beginningSpace);if(null===t)return e;let[o]=t;return o.length>=a.length?e.slice(a.length):e})).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=ue(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ue(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=ue(t[0],"\n").split("\n"),i="",o="",a=[];for(;e.length>0;){let t,n=!1,r=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))r.push(e[t]),n=!0;else{if(n)break;r.push(e[t])}e=e.slice(t);let s=r.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}\n${s}`:s,o=o?`${o}\n${l}`:l;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,a,!0),this.lexer.state.top=d,0===e.length)break;let c=a.at(-1);if("code"===c?.type)break;if("blockquote"===c?.type){let t=c,n=t.raw+"\n"+e.join("\n"),r=this.blockquote(n);a[a.length-1]=r,i=i.substring(0,i.length-t.raw.length)+r.raw,o=o.substring(0,o.length-t.text.length)+r.text;break}if("list"!==c?.type);else{let t=c,n=t.raw+"\n"+e.join("\n"),r=this.list(n);a[a.length-1]=r,i=i.substring(0,i.length-c.raw.length)+r.raw,o=o.substring(0,o.length-t.raw.length)+r.raw,e=n.substring(a.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:i,tokens:a,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim(),o=i.length>1,a={type:"list",raw:"",ordered:o,start:o?+i.slice(0,-1):"",loose:!1,items:[]};i=o?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=o?i:"[*+-]");let n=this.rules.other.listItemRegex(i),r=!1;for(;e;){let i=!1,o="",s="";if(!(t=n.exec(e))||this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),d=e.split("\n",1)[0],c=!l.trim(),p=0;if(this.options.pedantic?(p=2,s=l.trimStart()):c?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,s=l.slice(p),p+=t[1].length),c&&this.rules.other.blankLine.test(d)&&(o+=d+"\n",e=e.substring(d.length+1),i=!0),!i){let t=this.rules.other.nextBulletRegex(p),i=this.rules.other.hrRegex(p),a=this.rules.other.fencesBeginRegex(p),n=this.rules.other.headingBeginRegex(p),r=this.rules.other.htmlBeginRegex(p);for(;e;){let u,g=e.split("\n",1)[0];if(d=g,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),u=d):u=d.replace(this.rules.other.tabCharGlobal,"    "),a.test(d)||n.test(d)||r.test(d)||t.test(d)||i.test(d))break;if(u.search(this.rules.other.nonSpaceChar)>=p||!d.trim())s+="\n"+u.slice(p);else{if(c||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||a.test(l)||n.test(l)||i.test(l))break;s+="\n"+d}!c&&!d.trim()&&(c=!0),o+=g+"\n",e=e.substring(g.length+1),l=u.slice(p)}}a.loose||(r?a.loose=!0:this.rules.other.doubleBlankLine.test(o)&&(r=!0));let u,g=null;this.options.gfm&&(g=this.rules.other.listIsTask.exec(s),g&&(u="[ ] "!==g[0],s=s.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:o,task:!!g,checked:u,loose:!1,text:s,tokens:[]}),a.raw+=o}let s=a.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),a.raw=a.raw.trimEnd();for(let e=0;e<a.items.length;e++)if(this.lexer.state.top=!1,a.items[e].tokens=this.lexer.blockTokens(a.items[e].text,[]),!a.loose){let t=a.items[e].tokens.filter((e=>"space"===e.type)),i=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));a.loose=i}if(a.loose)for(let e=0;e<a.items.length;e++)a.items[e].loose=!0;return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:i,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let i=pe(t[1]),o=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],n={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===o.length){for(let e of o)this.rules.other.tableAlignRight.test(e)?n.align.push("right"):this.rules.other.tableAlignCenter.test(e)?n.align.push("center"):this.rules.other.tableAlignLeft.test(e)?n.align.push("left"):n.align.push(null);for(let e=0;e<i.length;e++)n.header.push({text:i[e],tokens:this.lexer.inline(i[e]),header:!0,align:n.align[e]});for(let e of a)n.rows.push(pe(e,n.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:n.align[t]}))));return n}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=ue(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let i=0;for(let o=0;o<e.length;o++)if("\\"===e[o])o++;else if(e[o]===t[0])i++;else if(e[o]===t[1]&&(i--,i<0))return o;return i>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let i=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,i).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(i);e&&(i=e[1],o=e[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(i=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?i.slice(1):i.slice(1,-1)),ge(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let e=t[(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=i[0].charAt(0);return{type:"text",raw:e,text:e}}return ge(i,e,i[0],this.lexer,this.rules)}}emStrong(e,t,i=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!(!o||o[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!o[1]&&!o[2]||!i||this.rules.inline.punctuation.exec(i))){let i,a,n=[...o[0]].length-1,r=n,s=0,l="*"===o[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(o=l.exec(t));){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(a=[...i].length,o[3]||o[4]){r+=a;continue}if((o[5]||o[6])&&n%3&&!((n+a)%3)){s+=a;continue}if(r-=a,r>0)continue;a=Math.min(a,a+r+s);let t=[...o[0]][0].length,l=e.slice(0,n+o.index+t+a);if(Math.min(n,a)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let d=l.slice(2,-2);return{type:"strong",raw:l,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(e),o=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return i&&o&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,i;return"@"===t[2]?(e=t[1],i="mailto:"+e):(e=t[1],i=e),{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,i;if("@"===t[2])e=t[0],i="mailto:"+e;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);e=t[0],i="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},he=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||u,this.options.tokenizer=this.options.tokenizer||new me,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:_,block:ne.normal,inline:re.normal};this.options.pedantic?(t.block=ne.pedantic,t.inline=re.pedantic):this.options.gfm&&(t.block=ne.gfm,this.options.breaks?t.inline=re.breaks:t.inline=re.gfm),this.tokenizer.rules=t}static get rules(){return{block:ne,inline:re}}static lex(t,i){return new e(i).lex(t)}static lexInline(t,i){return new e(i).inlineTokens(t)}lex(e){e=e.replace(_.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){for(this.options.pedantic&&(e=e.replace(_.tabCharGlobal,"    ").replace(_.spaceLine,""));e;){let o;if(this.options.extensions?.block?.some((i=>!!(o=i.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0))))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let i=t.at(-1);1===o.raw.length&&void 0!==i?i.raw+="\n":t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let i=t.at(-1);"paragraph"===i?.type||"text"===i?.type?(i.raw+=(i.raw.endsWith("\n")?"":"\n")+o.raw,i.text+="\n"+o.text,this.inlineQueue.at(-1).src=i.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let i=t.at(-1);"paragraph"===i?.type||"text"===i?.type?(i.raw+=(i.raw.endsWith("\n")?"":"\n")+o.raw,i.text+="\n"+o.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},t.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}let a=e;if(this.options.extensions?.startBlock){let t,i=1/0,o=e.slice(1);this.options.extensions.startBlock.forEach((e=>{t=e.call({lexer:this},o),"number"==typeof t&&t>=0&&(i=Math.min(i,t))})),i<1/0&&i>=0&&(a=e.substring(0,i+1))}if(this.state.top&&(o=this.tokenizer.paragraph(a))){let n=t.at(-1);i&&"paragraph"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+o.raw,n.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(o),i=a.length!==e.length,e=e.substring(o.raw.length)}else if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let i=t.at(-1);"text"===i?.type?(i.raw+=(i.raw.endsWith("\n")?"":"\n")+o.raw,i.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(o)}else if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i=e,o=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(i));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(i));)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(i));)i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let a=!1,n="";for(;e;){let o;if(a||(n=""),a=!1,this.options.extensions?.inline?.some((i=>!!(o=i.call({lexer:this},e,t))&&(e=e.substring(o.raw.length),t.push(o),!0))))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let i=t.at(-1);"text"===o.type&&"text"===i?.type?(i.raw+=o.raw,i.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,i,n)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let r=e;if(this.options.extensions?.startInline){let t,i=1/0,o=e.slice(1);this.options.extensions.startInline.forEach((e=>{t=e.call({lexer:this},o),"number"==typeof t&&t>=0&&(i=Math.min(i,t))})),i<1/0&&i>=0&&(r=e.substring(0,i+1))}if(o=this.tokenizer.inlineText(r)){e=e.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(n=o.raw.slice(-1)),a=!0;let i=t.at(-1);"text"===i?.type?(i.raw+=o.raw,i.text+=o.text):t.push(o)}else if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},_e=class{options;parser;constructor(e){this.options=e||u}space(e){return""}code({text:e,lang:t,escaped:i}){let o=(t||"").match(_.notSpaceStart)?.[0],a=e.replace(_.endingNewline,"")+"\n";return o?'<pre><code class="language-'+de(o)+'">'+(i?a:de(a,!0))+"</code></pre>\n":"<pre><code>"+(i?a:de(a,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,i=e.start,o="";for(let t=0;t<e.items.length;t++){let i=e.items[t];o+=this.listitem(i)}let a=t?"ol":"ul";return"<"+a+(t&&1!==i?' start="'+i+'"':"")+">\n"+o+"</"+a+">\n"}listitem(e){let t="";if(e.task){let i=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=i+" "+de(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",i="";for(let t=0;t<e.header.length;t++)i+=this.tablecell(e.header[t]);t+=this.tablerow({text:i});let o="";for(let t=0;t<e.rows.length;t++){let a=e.rows[t];i="";for(let e=0;e<a.length;e++)i+=this.tablecell(a[e]);o+=this.tablerow({text:i})}return o&&(o=`<tbody>${o}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+o+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${de(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){let o=this.parser.parseInline(i),a=ce(e);if(null===a)return o;let n='<a href="'+(e=a)+'"';return t&&(n+=' title="'+de(t)+'"'),n+=">"+o+"</a>",n}image({href:e,title:t,text:i,tokens:o}){o&&(i=this.parser.parseInline(o,this.parser.textRenderer));let a=ce(e);if(null===a)return de(i);let n=`<img src="${e=a}" alt="${i}"`;return t&&(n+=` title="${de(t)}"`),n+=">",n}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:de(e.text)}},ve=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},fe=class e{options;renderer;textRenderer;constructor(e){this.options=e||u,this.options.renderer=this.options.renderer||new _e,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ve}static parse(t,i){return new e(i).parse(t)}static parseInline(t,i){return new e(i).parseInline(t)}parse(e,t=!0){let i="";for(let o=0;o<e.length;o++){let a=e[o];if(this.options.extensions?.renderers?.[a.type]){let e=a,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){i+=t||"";continue}}let n=a;switch(n.type){case"space":i+=this.renderer.space(n);continue;case"hr":i+=this.renderer.hr(n);continue;case"heading":i+=this.renderer.heading(n);continue;case"code":i+=this.renderer.code(n);continue;case"table":i+=this.renderer.table(n);continue;case"blockquote":i+=this.renderer.blockquote(n);continue;case"list":i+=this.renderer.list(n);continue;case"html":i+=this.renderer.html(n);continue;case"def":i+=this.renderer.def(n);continue;case"paragraph":i+=this.renderer.paragraph(n);continue;case"text":{let a=n,r=this.renderer.text(a);for(;o+1<e.length&&"text"===e[o+1].type;)a=e[++o],r+="\n"+this.renderer.text(a);i+=t?this.renderer.paragraph({type:"paragraph",raw:r,text:r,tokens:[{type:"text",raw:r,text:r,escaped:!0}]}):r;continue}default:{let e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}parseInline(e,t=this.renderer){let i="";for(let o=0;o<e.length;o++){let a=e[o];if(this.options.extensions?.renderers?.[a.type]){let e=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=e||"";continue}}let n=a;switch(n.type){case"escape":case"text":i+=t.text(n);break;case"html":i+=t.html(n);break;case"link":i+=t.link(n);break;case"image":i+=t.image(n);break;case"strong":i+=t.strong(n);break;case"em":i+=t.em(n);break;case"codespan":i+=t.codespan(n);break;case"br":i+=t.br(n);break;case"del":i+=t.del(n);break;default:{let e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}},be=class{options;block;constructor(e){this.options=e||u}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?he.lex:he.lexInline}provideParser(){return this.block?fe.parse:fe.parseInline}},ye=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=fe;Renderer=_e;TextRenderer=ve;Lexer=he;Tokenizer=me;Hooks=be;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(let o of e)switch(i=i.concat(t.call(this,o)),o.type){case"table":{let e=o;for(let o of e.header)i=i.concat(this.walkTokens(o.tokens,t));for(let o of e.rows)for(let e of o)i=i.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=o;i=i.concat(this.walkTokens(e.items,t));break}default:{let e=o;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((o=>{let a=e[o].flat(1/0);i=i.concat(this.walkTokens(a,t))})):e.tokens&&(i=i.concat(this.walkTokens(e.tokens,t)))}}return i}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{let i={...e};if(i.async=this.defaults.async||i.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let i=t.renderers[e.name];t.renderers[e.name]=i?function(...t){let o=e.renderer.apply(this,t);return!1===o&&(o=i.apply(this,t)),o}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let i=t[e.level];i?i.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),i.extensions=t),e.renderer){let t=this.defaults.renderer||new _e(this.defaults);for(let i in e.renderer){if(!(i in t))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=e.renderer[o],n=t[o];t[o]=(...e)=>{let i=a.apply(t,e);return!1===i&&(i=n.apply(t,e)),i||""}}i.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new me(this.defaults);for(let i in e.tokenizer){if(!(i in t))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=e.tokenizer[o],n=t[o];t[o]=(...e)=>{let i=a.apply(t,e);return!1===i&&(i=n.apply(t,e)),i}}i.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new be;for(let i in e.hooks){if(!(i in t))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=e.hooks[o],n=t[o];be.passThroughHooks.has(i)?t[o]=e=>{if(this.defaults.async&&be.passThroughHooksRespectAsync.has(i))return Promise.resolve(a.call(t,e)).then((e=>n.call(t,e)));let o=a.call(t,e);return n.call(t,o)}:t[o]=(...e)=>{let i=a.apply(t,e);return!1===i&&(i=n.apply(t,e)),i}}i.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,o=e.walkTokens;i.walkTokens=function(e){let i=[];return i.push(o.call(this,e)),t&&(i=i.concat(t.call(this,e))),i}}this.defaults={...this.defaults,...i}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return he.lex(e,t??this.defaults)}parser(e,t){return fe.parse(e,t??this.defaults)}parseMarkdown(e){return(t,i)=>{let o={...i},a={...this.defaults,...o},n=this.onError(!!a.silent,!!a.async);if(!0===this.defaults.async&&!1===o.async)return n(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return n(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return n(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);let r=a.hooks?a.hooks.provideLexer():e?he.lex:he.lexInline,s=a.hooks?a.hooks.provideParser():e?fe.parse:fe.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then((e=>r(e,a))).then((e=>a.hooks?a.hooks.processAllTokens(e):e)).then((e=>a.walkTokens?Promise.all(this.walkTokens(e,a.walkTokens)).then((()=>e)):e)).then((e=>s(e,a))).then((e=>a.hooks?a.hooks.postprocess(e):e)).catch(n);try{a.hooks&&(t=a.hooks.preprocess(t));let e=r(t,a);a.hooks&&(e=a.hooks.processAllTokens(e)),a.walkTokens&&this.walkTokens(e,a.walkTokens);let i=s(e,a);return a.hooks&&(i=a.hooks.postprocess(i)),i}catch(e){return n(e)}}}onError(e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+de(i.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(i);throw i}}};function ke(e,t){return ye.parse(e,t)}ke.options=ke.setOptions=function(e){return ye.setOptions(e),ke.defaults=ye.defaults,g(ke.defaults),ke},ke.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ke.defaults=u,ke.use=function(...e){return ye.use(...e),ke.defaults=ye.defaults,g(ke.defaults),ke},ke.walkTokens=function(e,t){return ye.walkTokens(e,t)},ke.parseInline=ye.parseInline,ke.Parser=fe,ke.parser=fe.parse,ke.Renderer=_e,ke.TextRenderer=ve,ke.Lexer=he,ke.lexer=he.lex,ke.Tokenizer=me,ke.Hooks=be,ke.parse=ke,ke.options,ke.setOptions,ke.use,ke.walkTokens,ke.parseInline,fe.parse,he.lex;class xe extends a.m{constructor(){super(...arguments),this._templateService=null,this._renderedContentCache=new Map,this.metadata={type:"markdown",title:"Markdown Module",description:"Display rich markdown content",author:"WJD Designs",version:"1.0.0",icon:"mdi:language-markdown",category:"content",tags:["markdown","content","rich-text","formatting","template"]}}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i)&4294967295;return Math.abs(t).toString(36)}_clearMarkdownCache(e){e?Array.from(this._renderedContentCache.keys()).filter((t=>t.startsWith(`${e}_`))).forEach((e=>{this._renderedContentCache.delete(e)})):this._renderedContentCache.clear()}createDefault(e,t){return{id:e||this.generateId("markdown"),type:"markdown",markdown_content:"# Markdown Module\n\nThe **Markdown** module supports rich formatting including **bold**, *italicized*, `inline code`, ~~strikethrough~~, and [links](https://example.com).\n\n> Blockquotes and nested content work perfectly\n>> Including nested blockquotes\n\n**Lists and formatting:**\n- **Bold**, *italic*, ~~strikethrough~~\n- `inline code` and code blocks\n- Tables, headers, and horizontal rules\n\n**Jinja Templates:**\n- Current time: {{now().strftime('%H:%M:%S')}}\n- Date: {{now().strftime('%Y-%m-%d')}}\n\nAll standard markdown features are automatically enabled!",enable_html:!1,enable_tables:!0,enable_code_highlighting:!0,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const r=e,s=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Content Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.markdown.content.title",s,"Markdown Content")}
          </div>
          <div class="field-group">
            <ha-form
              .hass=${t}
              .data=${{markdown_content:r.markdown_content||""}}
              .schema=${[{name:"markdown_content",label:(0,c.kg)("editor.markdown.content.label",s,"Content"),description:(0,c.kg)("editor.markdown.content.desc",s,"Enter your markdown content with full formatting support"),selector:{text:{multiline:!0}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>a({markdown_content:e.detail.value.markdown_content})}
            ></ha-form>
          </div>
        </div>

        <!-- HTML Support Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,c.kg)("editor.markdown.html.title",s,"HTML Support")}
          </div>

          <div class="field-group">
            <ha-form
              .hass=${t}
              .data=${{enable_html:r.enable_html||!1}}
              .schema=${[{name:"enable_html",label:(0,c.kg)("editor.markdown.enable_html",s,"Enable HTML"),description:(0,c.kg)("editor.markdown.enable_html_desc",s,"Allow raw HTML tags in markdown content (all standard markdown features are always enabled)"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>a({enable_html:e.detail.value.enable_html})}
            ></ha-form>
          </div>
        </div>
      </div>
    `}renderActionsTab(e,t,i,o){return n.A.render(e,t,(e=>o(e)))}renderPreview(e,t,i){var a;const n=e,r=n,d=n.design||{},c={color:n.color||d.color,font_size:n.font_size||d.font_size,font_weight:n.font_weight||d.font_weight,font_style:n.font_style||d.font_style,text_transform:n.text_transform||d.text_transform,font_family:n.font_family||d.font_family,line_height:n.line_height||d.line_height,letter_spacing:n.letter_spacing||d.letter_spacing,text_align:n.text_align||d.text_align,text_shadow_h:n.text_shadow_h||d.text_shadow_h,text_shadow_v:n.text_shadow_v||d.text_shadow_v,text_shadow_blur:n.text_shadow_blur||d.text_shadow_blur,text_shadow_color:n.text_shadow_color||d.text_shadow_color,background_color:n.background_color||d.background_color,background_image:n.background_image||d.background_image,background_image_type:n.background_image_type||d.background_image_type,background_image_entity:n.background_image_entity||d.background_image_entity,background_repeat:n.background_repeat||d.background_repeat,background_position:n.background_position||d.background_position,background_size:n.background_size||d.background_size,backdrop_filter:n.backdrop_filter||d.backdrop_filter,width:n.width||d.width,height:n.height||d.height,max_width:n.max_width||d.max_width,max_height:n.max_height||d.max_height,min_width:n.min_width||d.min_width,min_height:n.min_height||d.min_height,margin_top:n.margin_top||d.margin_top,margin_bottom:n.margin_bottom||d.margin_bottom,margin_left:n.margin_left||d.margin_left,margin_right:n.margin_right||d.margin_right,padding_top:n.padding_top||d.padding_top,padding_bottom:n.padding_bottom||d.padding_bottom,padding_left:n.padding_left||d.padding_left,padding_right:n.padding_right||d.padding_right,border_radius:n.border_radius||d.border_radius,border_style:n.border_style||d.border_style,border_width:n.border_width||d.border_width,border_color:n.border_color||d.border_color,position:n.position||d.position,top:n.top||d.top,bottom:n.bottom||d.bottom,left:n.left||d.left,right:n.right||d.right,z_index:n.z_index||d.z_index,overflow:n.overflow||d.overflow,clip_path:n.clip_path||d.clip_path,box_shadow_h:n.box_shadow_h||d.box_shadow_h,box_shadow_v:n.box_shadow_v||d.box_shadow_v,box_shadow_blur:n.box_shadow_blur||d.box_shadow_blur,box_shadow_spread:n.box_shadow_spread||d.box_shadow_spread,box_shadow_color:n.box_shadow_color||d.box_shadow_color},u={padding:c.padding_top||c.padding_bottom||c.padding_left||c.padding_right||r.padding_top||r.padding_bottom||r.padding_left||r.padding_right?`${this.addPixelUnit(c.padding_top||r.padding_top)||"0px"} ${this.addPixelUnit(c.padding_right||r.padding_right)||"0px"} ${this.addPixelUnit(c.padding_bottom||r.padding_bottom)||"0px"} ${this.addPixelUnit(c.padding_left||r.padding_left)||"0px"}`:"16px",margin:c.margin_top||c.margin_bottom||c.margin_left||c.margin_right||r.margin_top||r.margin_bottom||r.margin_left||r.margin_right?`${c.margin_top||r.margin_top||"0px"} ${c.margin_right||r.margin_right||"0px"} ${c.margin_bottom||r.margin_bottom||"0px"} ${c.margin_left||r.margin_left||"0px"}`:"0",background:c.background_color&&"transparent"!==c.background_color?c.background_color:r.background_color&&"transparent"!==r.background_color?r.background_color:"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},r),c),t),backgroundSize:c.background_size||r.background_size||"cover",backgroundPosition:c.background_position||r.background_position||"center",backgroundRepeat:c.background_repeat||r.background_repeat||"no-repeat",border:(c.border_style||r.border_style)&&"none"!==(c.border_style||r.border_style)?`${this.addPixelUnit(c.border_width||r.border_width)||"1px"} ${c.border_style||r.border_style} ${c.border_color||r.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(c.border_radius||r.border_radius)||"0",position:c.position||r.position||"static",top:c.top||r.top||"auto",bottom:c.bottom||r.bottom||"auto",left:c.left||r.left||"auto",right:c.right||r.right||"auto",zIndex:c.z_index||r.z_index||"auto",width:c.width||r.width||"100%",height:c.height||r.height||"auto",maxWidth:c.max_width||r.max_width||"100%",maxHeight:c.max_height||r.max_height||"none",minWidth:c.min_width||r.min_width||"none",minHeight:c.min_height||r.min_height||"auto",overflow:c.overflow||r.overflow||"visible",clipPath:c.clip_path||r.clip_path||"none",backdropFilter:c.backdrop_filter||r.backdrop_filter||"none",boxShadow:c.box_shadow_h&&c.box_shadow_v?`${c.box_shadow_h||"0"} ${c.box_shadow_v||"0"} ${c.box_shadow_blur||"0"} ${c.box_shadow_spread||"0"} ${c.box_shadow_color||"rgba(0,0,0,0.1)"}`:r.box_shadow_h&&r.box_shadow_v?`${r.box_shadow_h||"0"} ${r.box_shadow_v||"0"} ${r.box_shadow_blur||"0"} ${r.box_shadow_spread||"0"} ${r.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},g={fontSize:(()=>c.font_size&&"string"==typeof c.font_size&&""!==c.font_size.trim()?/[a-zA-Z%]/.test(c.font_size)?c.font_size:this.addPixelUnit(c.font_size)||c.font_size:void 0!==r.font_size?`${r.font_size}px`:"14px")(),fontFamily:c.font_family||r.font_family||n.font_family||'var(--primary-font-family, "Roboto", sans-serif)',color:c&&c.color||r.color||n.color||"var(--primary-text-color)",textAlign:(c.text_align&&"inherit"!==c.text_align?c.text_align:void 0)||r.text_align||n.alignment||"left",lineHeight:c.line_height||r.line_height||n.line_height||1.4,letterSpacing:c.letter_spacing||r.letter_spacing||n.letter_spacing||"normal",padding:"0",maxHeight:(c.max_height&&"none"!==c.max_height?c.max_height:void 0)||(n.max_height&&"none"!==n.max_height?n.max_height:"none"),overflow:(c.max_height&&"none"!==c.max_height?c.overflow||"visible":void 0)||n.max_height&&"none"!==n.max_height&&n.overflow_behavior||"visible",textShadow:c.text_shadow_h&&c.text_shadow_v?`${c.text_shadow_h||"0"} ${c.text_shadow_v||"0"} ${c.text_shadow_blur||"0"} ${c.text_shadow_color||"rgba(0,0,0,0.5)"}`:r.text_shadow_h&&r.text_shadow_v?`${r.text_shadow_h||"0"} ${r.text_shadow_v||"0"} ${r.text_shadow_blur||"0"} ${r.text_shadow_color||"rgba(0,0,0,0.5)"}`:"none",boxShadow:c.box_shadow_h&&c.box_shadow_v?`${c.box_shadow_h||"0"} ${c.box_shadow_v||"0"} ${c.box_shadow_blur||"0"} ${c.box_shadow_spread||"0"} ${c.box_shadow_color||"rgba(0,0,0,0.1)"}`:r.box_shadow_h&&r.box_shadow_v?`${r.box_shadow_h||"0"} ${r.box_shadow_v||"0"} ${r.box_shadow_blur||"0"} ${r.box_shadow_spread||"0"} ${r.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none"},m=e=>{var i;if(!e)return"";let o=e;if(/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}/.test(e)&&t){this._templateService||(this._templateService=new p.I(t)),t.__uvc_template_strings||(t.__uvc_template_strings={});const a=this._hashString(e),r=`state_text_markdown_${n.id}_${a}`;this._templateService.hasTemplateSubscription(r)||this._templateService.subscribeToTemplate(e,r,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const s=null===(i=t.__uvc_template_strings)||void 0===i?void 0:i[r];if(void 0!==s)o=String(s);else try{t.callApi("POST","template",{template:e}).then((e=>{t.__uvc_template_strings||(t.__uvc_template_strings={}),t.__uvc_template_strings[r]=e,this._clearMarkdownCache(n.id),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))})).catch((()=>{}))}catch(e){}}const a={breaks:!1,gfm:!0,tables:!0,headerIds:!1,mangle:!1};try{let e=ke(o,a);return n.enable_html||(e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),e=e.replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,""),e=e.replace(/<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi,""),e=e.replace(/<embed\b[^<]*>/gi,"")),e}catch(e){return console.warn("Ultra Card: Failed to process markdown:",e),o}},h=`${n.id}_${this._hashString(n.markdown_content||"")}`;let _=this._renderedContentCache.get(h)||n.markdown_content||"";if(!this._renderedContentCache.has(h))try{const e=m(n.markdown_content||"");this._renderedContentCache.set(h,e),_=e}catch(e){console.warn("Ultra Card: Failed to render markdown:",e),_=n.markdown_content||""}let v=null,f=null,b=!1,y=0,k=0;const x=o.qy`<div class="markdown-content" .innerHTML=${_}></div>`,w=null===(a=r.design)||void 0===a?void 0:a.hover_effect,S=l.k.getHoverEffectClass(w);return o.qy`
      <div
        class="markdown-module-container ${S}"
        style="${this.styleObjectToCss(u)}; cursor: ${n.tap_action&&"nothing"!==n.tap_action.action||n.hold_action&&"nothing"!==n.hold_action.action||n.double_tap_action&&"nothing"!==n.double_tap_action.action?"pointer":"default"};"
        @pointerdown=${e=>{e.preventDefault(),e.stopPropagation(),b=!1,f=setTimeout((()=>{b=!0,n.hold_action&&"nothing"!==n.hold_action.action&&s.K.handleAction(n.hold_action,t,e.target,i)}),500)}}
        @pointerup=${e=>{if(e.preventDefault(),e.stopPropagation(),f&&(clearTimeout(f),f=null),b)return void(b=!1);const o=Date.now();o-k<300&&1===y?(v&&(clearTimeout(v),v=null),y=0,n.double_tap_action&&"nothing"!==n.double_tap_action.action&&s.K.handleAction(n.double_tap_action,t,e.target,i)):(y=1,k=o,v=setTimeout((()=>{y=0,n.tap_action&&"nothing"!==n.tap_action.action&&s.K.handleAction(n.tap_action,t,e.target,i)}),300))}}
      >
        <div class="markdown-module-preview" style=${this.styleObjectToCss(g)}>
          ${x}
        </div>
      </div>
    `}renderLogicTab(e,t,i,o){return r.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.markdown_content&&""!==t.markdown_content.trim()||i.push("Markdown content is required"),t.font_size&&(t.font_size<1||t.font_size>200)&&i.push("Font size must be between 1 and 200 pixels"),t.link&&""!==t.link.trim())try{new URL(t.link)}catch(e){t.link.startsWith("/")||t.link.startsWith("#")||i.push('Link must be a valid URL or start with "/" for relative paths')}return{valid:0===i.length,errors:i}}getStyles(){return"\n      /* Match Home Assistant ha-markdown exactly */\n      .markdown-module-preview {\n        display: block;\n        -ms-user-select: text;\n        -webkit-user-select: text;\n        -moz-user-select: text;\n      }\n\n      .markdown-content {\n        width: 100%;\n      }\n\n      /* Match HA's exact first/last child rules */\n      .markdown-content > *:first-child {\n        margin-top: 0;\n      }\n\n      .markdown-content > *:last-child {\n        margin-bottom: 0;\n      }\n\n      /* Links - Match HA exactly */\n      .markdown-content a {\n        color: -webkit-link;\n        cursor: pointer;\n        text-decoration: underline !important;\n      }\n\n      /* Images - Match HA */\n      .markdown-content img {\n        max-width: 100%;\n      }\n\n      /* Code and Pre - Match HA exactly */\n      .markdown-content code,\n      .markdown-content pre {\n        background-color: var(--markdown-code-background-color, none);\n        border-radius: 3px;\n      }\n\n      /* Strikethrough - exact HA styling */\n      .markdown-content del {\n        text-decoration: line-through !important;\n        color: var(--primary-text-color) !important;\n      }\n\n      .markdown-content code {\n        font-size: inherit;\n        color: var(--primary-text-color) !important;\n        padding: .2em .4em;\n      }\n\n      .markdown-content pre code {\n        padding: 0;\n      }\n\n      .markdown-content pre {\n        padding: 16px;\n        overflow: auto;\n        line-height: var(--ha-line-height-condensed);\n        font-family: var(--ha-font-family-code);\n      }\n\n      /* Headers - Match HA exactly */\n      .markdown-content h1,\n      .markdown-content h2,\n      .markdown-content h3,\n      .markdown-content h4,\n      .markdown-content h5,\n      .markdown-content h6 {\n        line-height: initial;\n      }\n\n      .markdown-content h2 {\n        font-size: inherit;\n        font-weight: var(--ha-font-weight-bold);\n      }\n\n      /* Horizontal rules - Match HA */\n      .markdown-content hr {\n        border-color: var(--divider-color);\n        border-bottom: none;\n        margin: 16px 0;\n      }\n\n      /* Module-specific grid layouts */\n      .two-column-grid {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin-bottom: 20px;\n      }\n\n      .three-column-grid {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        gap: 16px;\n        margin-bottom: 20px;\n      }\n       \n      @media (max-width: 768px) {\n        .two-column-grid,\n        .three-column-grid {\n          grid-template-columns: 1fr;\n          gap: 16px;\n        }\n      }\n    "}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}getBackgroundImageCSS(e,t){var i,o;const a=e.background_image_type,n=e.background_image,r=e.background_image_entity;if(!a||"none"===a)return"none";switch(a){case"upload":if(n)return`url("${(0,d.V)(t,n)}")`;break;case"url":if(n)return`url("${n}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const a=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(o=e.attributes)||void 0===o?void 0:o.image)||("string"==typeof e.state?e.state:"");if(a&&"unknown"!==a&&"unavailable"!==a)return`url("${(0,d.V)(t,a)}")`}}}return"none"}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},2929:(e,t,i)=>{i.d(t,{X:()=>c});var o=i(5183),a=i(866),n=(i(6768),i(4276)),r=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};class s{static rgbToHs(e,t,i){e/=255,t/=255,i/=255;const o=Math.max(e,t,i),a=Math.min(e,t,i);let n=0;const r=0===o?0:(o-a)/o;if(o!==a){switch(o){case e:n=(t-i)/(o-a)+(t<i?6:0);break;case t:n=(i-e)/(o-a)+2;break;case i:n=(e-t)/(o-a)+4}n/=6}return[Math.round(360*n),Math.round(100*r)]}static hsToRgb(e,t){e/=360,t/=100;const i=Math.floor(6*e),o=6*e-i,a=1*(1-t),n=1*(1-o*t),r=1*(1-(1-o)*t);let s,l,d;switch(i%6){case 0:[s,l,d]=[1,r,a];break;case 1:[s,l,d]=[n,1,a];break;case 2:[s,l,d]=[a,1,r];break;case 3:[s,l,d]=[a,n,1];break;case 4:[s,l,d]=[r,a,1];break;case 5:[s,l,d]=[1,a,n];break;default:[s,l,d]=[0,0,0]}return[Math.round(255*s),Math.round(255*l),Math.round(255*d)]}static rgbToXy(e,t,i){t/=255,i/=255;const o=.4124*(e=(e/=255)>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),a=.2126*e+.7152*t+.0722*i,n=o+a+(.0193*e+.1192*t+.9505*i);return 0===n?[.3127,.329]:[Math.round(o/n*1e4)/1e4,Math.round(a/n*1e4)/1e4]}static xyToRgb(e,t,i=1){const o=i/t*e,a=i/t*(1-e-t);let n=3.2406*o+-1.5372*i+-.4986*a,r=-.9689*o+1.8758*i+.0415*a,s=.0557*o+-.204*i+1.057*a;return n=n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,r=r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055,s=s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,n=Math.max(0,Math.min(1,n)),r=Math.max(0,Math.min(1,r)),s=Math.max(0,Math.min(1,s)),[Math.round(255*n),Math.round(255*r),Math.round(255*s)]}static rgbToHex(e,t,i){return"#"+[e,t,i].map((e=>{const t=e.toString(16);return 1===t.length?"0"+t:t})).join("")}static hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}static kelvinToMired(e){return Math.round(1e6/e)}static miredToKelvin(e){return Math.round(1e6/e)}}let l=class extends o.WF{constructor(){super(...arguments),this.mode="hs",this.min_mireds=153,this.max_mireds=500,this.disabled=!1,this._isDragging=!1,this._currentRgb=[255,255,255],this._currentHs=[0,0],this._currentXy=[.3127,.329],this._currentColorTemp=333,this._showColorPicker=!1,this._ignoringNextEffectChange=!1,this._processingEffectChange=!1,this._effectDropdownOpen=!1,this._effectSearchTerm="",this._filteredEffects=[],this.handleClickOutside=e=>{var t;const i=e.target,o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".custom-select-container");!o||o.contains(i)||this.contains(i)||(console.log(" Click outside detected, closing dropdown"),this._effectDropdownOpen=!1,this._effectSearchTerm="",this.requestUpdate())}}firstUpdated(){this.updateCurrentValues(),document.addEventListener("click",this.handleClickOutside)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.handleClickOutside)}updated(e){(e.has("rgb_color")||e.has("hs_color")||e.has("xy_color")||e.has("color_temp"))&&this.updateCurrentValues()}updateCurrentValues(){this.rgb_color?(this._currentRgb=[...this.rgb_color],this._currentHs=s.rgbToHs(this.rgb_color[0],this.rgb_color[1],this.rgb_color[2]),this._currentXy=s.rgbToXy(this.rgb_color[0],this.rgb_color[1],this.rgb_color[2])):this.hs_color?(this._currentHs=[...this.hs_color],this._currentRgb=s.hsToRgb(this.hs_color[0],this.hs_color[1]),this._currentXy=s.rgbToXy(this._currentRgb[0],this._currentRgb[1],this._currentRgb[2])):this.xy_color&&(this._currentXy=[...this.xy_color],this._currentRgb=s.xyToRgb(this.xy_color[0],this.xy_color[1]),this._currentHs=s.rgbToHs(this._currentRgb[0],this._currentRgb[1],this._currentRgb[2])),this.color_temp&&(this._currentColorTemp=this.color_temp)}fireColorChanged(e){const t=new CustomEvent("color-changed",{detail:Object.assign({rgb_color:this._currentRgb,hs_color:this._currentHs,xy_color:this._currentXy,color_temp:this._currentColorTemp,effect:this.effect,mode:this.mode},e)});this.dispatchEvent(t)}openColorPicker(){this.disabled||(this._showColorPicker=!this._showColorPicker)}handleUltraColorPickerChange(e){const t=e.detail.value;this.handleHexChange(t),this._showColorPicker=!1}handleTestPreset(){const e=new CustomEvent("test-preset",{detail:{mode:this.mode,rgb_color:this.rgb_color,hs_color:this.hs_color,xy_color:this.xy_color,color_temp:this.color_temp,effect:this.effect},bubbles:!0,composed:!0});this.dispatchEvent(e)}handleColorWheelClick(e){if(this.disabled)return;const t=e.currentTarget.getBoundingClientRect(),i=t.width/2,o=t.height/2,a=e.clientX-t.left-i,n=e.clientY-t.top-o,r=Math.sqrt(a*a+n*n),l=Math.min(t.width,t.height)/2-3,d=Math.min(r,l);let c=Math.atan2(n,a)*(180/Math.PI);c+=90,c<0&&(c+=360),c>=360&&(c-=360);const p=100*Math.min(d/l,1);this._currentHs=[Math.round(c),Math.round(p)],this._currentRgb=s.hsToRgb(c,p),this._currentXy=s.rgbToXy(this._currentRgb[0],this._currentRgb[1],this._currentRgb[2]),this.fireColorChanged({rgb_color:this._currentRgb,hs_color:this._currentHs,xy_color:this._currentXy,mode:"hs"})}handleRgbChange(e,t){if(this.disabled)return;const i=[...this._currentRgb];i[e]=Math.max(0,Math.min(255,t)),this._currentRgb=i,this._currentHs=s.rgbToHs(i[0],i[1],i[2]),this._currentXy=s.rgbToXy(i[0],i[1],i[2]),this.fireColorChanged({rgb_color:this._currentRgb,hs_color:this._currentHs,xy_color:this._currentXy,mode:"rgb"})}handleHexChange(e){if(this.disabled)return;const t=s.hexToRgb(e);t&&(this._currentRgb=t,this._currentHs=s.rgbToHs(t[0],t[1],t[2]),this._currentXy=s.rgbToXy(t[0],t[1],t[2]),this.fireColorChanged({rgb_color:this._currentRgb,hs_color:this._currentHs,xy_color:this._currentXy,mode:"rgb"}))}handleColorTempChange(e){this.disabled||(this._currentColorTemp=Math.max(this.min_mireds,Math.min(this.max_mireds,e)),this.fireColorChanged({color_temp:this._currentColorTemp,mode:"color_temp"}))}handleEffectsTabClick(){var e;console.log(" Effects tab clicked!"),console.log(" Component disabled:",this.disabled),console.log(" Effect list length:",(null===(e=this.effect_list)||void 0===e?void 0:e.length)||0),console.log(" Current mode before:",this.mode),this.disabled?console.log(" Tab click blocked - component is disabled"):(this.mode="effect",console.log(" Current mode after:",this.mode),this.requestUpdate())}handleEffectSelectionSimple(e){console.log(" Simple effect selection:",e),this.disabled?console.log(" Component disabled, ignoring"):(this._effectDropdownOpen=!1,this._effectSearchTerm="",this.effect=e,console.log(" Updated this.effect to:",this.effect),e&&""!==e.trim()?(console.log(" Effect selected, switching to effect mode and firing event"),this.mode="effect",this.fireColorChanged({effect:e,mode:"effect"})):(console.log(" No effect selected, clearing and switching to hs mode"),this.mode="hs",this.fireColorChanged({effect:"",mode:"hs"})))}updateFilteredEffects(){var e;const t=this._effectSearchTerm.toLowerCase();console.log(" Filtering effects with search term:",t),console.log(" Total effect list length:",(null===(e=this.effect_list)||void 0===e?void 0:e.length)||0),this._filteredEffects=(this.effect_list||[]).filter((e=>e.toLowerCase().includes(t))),console.log(" Filtered effects count:",this._filteredEffects.length)}handleEffectSearch(e){const t=e.target;this._effectSearchTerm=t.value,this.updateFilteredEffects()}toggleEffectDropdown(){console.log(" Toggle dropdown clicked! Current state:",this._effectDropdownOpen),console.log(" Component disabled:",this.disabled),this.disabled?console.log(" Component is disabled, not opening dropdown"):(this._effectDropdownOpen=!this._effectDropdownOpen,console.log(" New dropdown state:",this._effectDropdownOpen),this._effectDropdownOpen&&(this.updateFilteredEffects(),console.log(" Updated filtered effects, count:",this._filteredEffects.length),setTimeout((()=>{var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".effect-search");t?(t.focus(),console.log(" Focused search input")):console.log(" Could not find search input")}),100)),this.requestUpdate())}handleEffectChange(e){if(!this.disabled){if(console.log(" handleEffectChange called with:",e),this._ignoringNextEffectChange)return console.log(" Ignoring automatic effect change event"),void(this._ignoringNextEffectChange=!1);if(this._processingEffectChange)console.log(" Already processing effect change, skipping");else{this._processingEffectChange=!0;try{const t=e||"";this.effect=t,console.log(" Updated this.effect to:",this.effect),t&&""!==t.trim()?(console.log(" Setting effect to:",t),this.fireColorChanged({effect:t,mode:"effect"})):(console.log(" Effect is empty, clearing effect"),this.fireColorChanged({effect:"",mode:"hs"}))}catch(e){console.error(" Error in handleEffectChange:",e)}finally{this._processingEffectChange=!1}}}}getColorWheelPickerPosition(){const[e,t]=this._currentHs,i=(e-90)*Math.PI/180,o=t/100*45;return{x:50+Math.cos(i)*o,y:50+Math.sin(i)*o}}render(){const e=this.getColorWheelPickerPosition(),t=s.rgbToHex(this._currentRgb[0],this._currentRgb[1],this._currentRgb[2]),i=s.miredToKelvin(this._currentColorTemp);return o.qy`
      <div class="light-color-picker ${this.disabled?"disabled":""}">
        <!-- Debug Info -->

        <!-- Color Mode Tabs -->
        <div class="color-mode-tabs">
          <button
            class="mode-tab ${"hs"===this.mode?"active":""}"
            @click=${()=>this.mode="hs"}
            .disabled=${this.disabled}
          >
            Color
          </button>
          <button
            class="mode-tab ${"color_temp"===this.mode?"active":""}"
            @click=${()=>this.mode="color_temp"}
            .disabled=${this.disabled}
          >
            White
          </button>
          <button
            class="mode-tab ${"effect"===this.mode?"active":""}"
            @click=${()=>{console.log(" Effects tab clicked!"),console.log(" Current mode before:",this.mode),this.mode="effect",console.log(" Current mode after:",this.mode)}}
            .disabled=${this.disabled}
            style="position: relative; z-index: 10;"
          >
            Effects
          </button>
        </div>

        <!-- Color Controls -->
        ${"hs"===this.mode?o.qy`
              <div class="color-controls">
                <!-- Color Wheel -->
                <div class="color-wheel-section">
                  <div
                    class="color-wheel"
                    @click=${this.handleColorWheelClick}
                    @mousedown=${e=>{this.disabled||(this._isDragging=!0,this.handleColorWheelClick(e))}}
                    @mousemove=${e=>{this._isDragging&&!this.disabled&&this.handleColorWheelClick(e)}}
                    @mouseup=${()=>this._isDragging=!1}
                    @mouseleave=${()=>this._isDragging=!1}
                  >
                    <div
                      class="color-wheel-picker"
                      style="left: ${e.x}%; top: ${e.y}%;"
                    ></div>
                  </div>
                </div>

                <!-- Color Values -->
                <div class="color-values">
                  <!-- RGB Values -->
                  <div class="rgb-section">
                    <div class="section-title">RGB Values</div>
                    <div class="rgb-inputs">
                      <div class="rgb-input-group">
                        <label>Red</label>
                        <input
                          type="number"
                          min="0"
                          max="255"
                          .value=${this._currentRgb[0]}
                          .disabled=${this.disabled}
                          @input=${e=>{const t=e.target;this.handleRgbChange(0,parseInt(t.value)||0)}}
                        />
                      </div>
                      <div class="rgb-input-group">
                        <label>Green</label>
                        <input
                          type="number"
                          min="0"
                          max="255"
                          .value=${this._currentRgb[1]}
                          .disabled=${this.disabled}
                          @input=${e=>{const t=e.target;this.handleRgbChange(1,parseInt(t.value)||0)}}
                        />
                      </div>
                      <div class="rgb-input-group">
                        <label>Blue</label>
                        <input
                          type="number"
                          min="0"
                          max="255"
                          .value=${this._currentRgb[2]}
                          .disabled=${this.disabled}
                          @input=${e=>{const t=e.target;this.handleRgbChange(2,parseInt(t.value)||0)}}
                        />
                      </div>
                    </div>
                  </div>

                  <!-- HEX Value -->
                  <div class="hex-section">
                    <div class="hex-input-group">
                      <label>HEX</label>
                      <div class="hex-input-container">
                        <input
                          type="text"
                          .value=${t}
                          .disabled=${this.disabled}
                          @input=${e=>{const t=e.target;this.handleHexChange(t.value)}}
                          placeholder="#ffffff"
                        />
                        <div
                          class="color-preview clickable"
                          style="background-color: ${t};"
                          @click=${this.openColorPicker}
                          title="Click to open color picker"
                        ></div>
                      </div>

                      <!-- Ultra Color Picker -->
                      ${this._showColorPicker?o.qy`
                            <div class="color-picker-dropdown">
                              <ultra-color-picker
                                .hass=${this.hass}
                                .value=${t}
                                @value-changed=${this.handleUltraColorPickerChange}
                              ></ultra-color-picker>
                            </div>
                          `:""}
                    </div>
                  </div>

                  <!-- HS Values -->
                  <div class="hs-section">
                    <div class="section-title">HS Values</div>
                    <div class="hs-values-display">
                      <span>H: ${this._currentHs[0]}</span>
                      <span>S: ${this._currentHs[1]}%</span>
                    </div>
                  </div>

                  <!-- XY Values -->
                  <div class="xy-section">
                    <div class="section-title">XY Values</div>
                    <div class="xy-values-display">
                      <span>X: ${this._currentXy[0]}</span>
                      <span>Y: ${this._currentXy[1]}</span>
                    </div>
                  </div>
                </div>
              </div>
            `:""}

        <!-- Color Temperature Controls -->
        ${"color_temp"===this.mode?o.qy`
              <div class="color-temp-controls">
                <div class="color-temp-section">
                  <div class="section-title">Color Temperature</div>
                  <div class="color-temp-slider-container">
                    <div class="temp-labels">
                      <span>Warm</span>
                      <span>${i}K</span>
                      <span>Cool</span>
                    </div>
                    <input
                      type="range"
                      min=${this.min_mireds}
                      max=${this.max_mireds}
                      step="1"
                      .value=${this._currentColorTemp}
                      .disabled=${this.disabled}
                      @input=${e=>{const t=e.target;this.handleColorTempChange(parseInt(t.value))}}
                      class="color-temp-slider"
                      style="direction: rtl;"
                    />
                    <div class="kelvin-markers">
                      <span>2000K</span>
                      <span>3000K</span>
                      <span>4000K</span>
                      <span>5000K</span>
                      <span>6500K</span>
                    </div>
                  </div>

                  <!-- Mired Input -->
                  <div class="mired-input-group">
                    <label>Mired</label>
                    <input
                      type="number"
                      min=${this.min_mireds}
                      max=${this.max_mireds}
                      .value=${this._currentColorTemp}
                      .disabled=${this.disabled}
                      @input=${e=>{const t=e.target;this.handleColorTempChange(parseInt(t.value)||this._currentColorTemp)}}
                    />
                  </div>
                </div>
              </div>
            `:""}

        <!-- Effects Controls -->
        ${"effect"===this.mode?this.effect_list&&this.effect_list.length>0?o.qy``:o.qy` <div
                style="padding: 16px; background: rgba(var(--rgb-warning-color), 0.1); border-radius: 8px; text-align: center;"
              >
                <ha-icon
                  icon="mdi:information-outline"
                  style="--mdc-icon-size: 24px; color: var(--warning-color); margin-bottom: 8px;"
                ></ha-icon>
                <div style="font-weight: 500; color: var(--warning-color); margin-bottom: 8px;">
                  No Shared Effects Available
                </div>
                <div style="font-size: 14px; color: var(--secondary-text-color); line-height: 1.4;">
                  The selected lighting devices don't have any effects in common.<br />
                  Try selecting devices of the same type for shared effects.
                </div>
              </div>`:""}
        ${"effect"===this.mode&&this.effect_list&&this.effect_list.length>0?o.qy`
              <div class="effects-controls">
                <div class="effects-section">
                  <div class="section-title">Light Effects</div>
                  <div class="effects-dropdown">
                    <div class="custom-select-container">
                      <!-- Selected Effect Display -->
                      <div
                        class="custom-select-trigger ${this._effectDropdownOpen?"open":""}"
                        @click=${e=>{e.stopPropagation(),this.toggleEffectDropdown()}}
                        .disabled=${this.disabled}
                      >
                        <span class="selected-effect"> ${this.effect||"No Effect"} </span>
                        <ha-icon
                          icon="mdi:chevron-down"
                          class="dropdown-arrow ${this._effectDropdownOpen?"rotated":""}"
                        ></ha-icon>
                      </div>

                      <!-- Searchable Dropdown -->
                      ${this._effectDropdownOpen?o.qy`
                            <div class="custom-dropdown-menu">
                              <!-- Search Input -->
                              <div class="search-container">
                                <input
                                  type="text"
                                  class="effect-search"
                                  placeholder="Search effects..."
                                  .value=${this._effectSearchTerm}
                                  @input=${this.handleEffectSearch}
                                  @click=${e=>e.stopPropagation()}
                                />
                                <ha-icon icon="mdi:magnify" class="search-icon"></ha-icon>
                              </div>

                              <!-- Effect Options -->
                              <div class="effect-options">
                                <div
                                  class="effect-option ${this.effect?"":"selected"}"
                                  @click=${()=>this.handleEffectSelectionSimple("")}
                                >
                                  <span>No Effect</span>
                                </div>
                                ${(this._filteredEffects.length>0?this._filteredEffects:this.effect_list||[]).map((e=>o.qy`
                                    <div
                                      class="effect-option ${this.effect===e?"selected":""}"
                                      @click=${()=>this.handleEffectSelectionSimple(e)}
                                    >
                                      <span>${e}</span>
                                    </div>
                                  `))}
                                ${this.effect_list&&0!==this.effect_list.length||""!==this._effectSearchTerm?"":o.qy`
                                      <div
                                        class="effect-option"
                                        @click=${()=>this.handleEffectSelectionSimple("colorloop")}
                                      >
                                        <span>Color Loop (Common)</span>
                                      </div>
                                      <div
                                        class="effect-option"
                                        @click=${()=>this.handleEffectSelectionSimple("random")}
                                      >
                                        <span>Random (Common)</span>
                                      </div>
                                    `}
                                ${this._effectSearchTerm&&0===this._filteredEffects.length?o.qy` <div class="no-results">No effects found</div> `:""}
                              </div>
                            </div>
                          `:""}
                    </div>
                  </div>

                  <div
                    class="effect-description"
                    style="margin-top: 12px; padding: 12px; background: rgba(var(--rgb-primary-color), 0.05); border-radius: 4px; font-size: 12px; color: var(--secondary-text-color);"
                  >
                    Effects create dynamic lighting patterns and will override any color settings.
                  </div>
                </div>
              </div>
            `:""}

        <!-- Test Preset Button -->
        <div class="test-preset-section" style="margin-top: 16px;">
          <button
            class="test-preset-btn"
            @click=${this.handleTestPreset}
            .disabled=${this.disabled}
            style="
            width: 100%;
            padding: 12px 16px;
            background: var(--primary-color);
            color: var(--text-primary-color);
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            opacity: ${this.disabled?"0.5":"1"};
          "
            onmouseover="this.style.background = 'var(--primary-color)'; this.style.opacity = '0.9';"
            onmouseout="this.style.background = 'var(--primary-color)'; this.style.opacity = '1';"
          >
             Test Preset
          </button>
        </div>
      </div>
    `}static get styles(){return o.AH`
      :host {
        display: block;
        width: 100%;
      }

      .light-color-picker {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .light-color-picker.disabled {
        opacity: 0.5;
        pointer-events: none;
      }

      .color-mode-tabs {
        display: flex;
        gap: 4px;
        margin-bottom: 16px;
        background: var(--secondary-background-color);
        border-radius: 6px;
        padding: 4px;
      }

      .mode-tab {
        flex: 1;
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        background: transparent;
        color: var(--secondary-text-color);
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .mode-tab.active {
        background: var(--primary-color);
        color: var(--text-primary-color);
      }

      .mode-tab:hover:not(.active):not(:disabled) {
        background: rgba(var(--rgb-primary-color), 0.1);
        color: var(--primary-text-color);
      }

      .color-controls {
        display: flex;
        gap: 20px;
        align-items: flex-start;
      }

      .color-wheel-section {
        flex-shrink: 0;
      }

      .color-wheel {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: conic-gradient(
          from 0deg,
          hsl(0, 100%, 50%),
          hsl(60, 100%, 50%),
          hsl(120, 100%, 50%),
          hsl(180, 100%, 50%),
          hsl(240, 100%, 50%),
          hsl(300, 100%, 50%),
          hsl(360, 100%, 50%)
        );
        position: relative;
        cursor: crosshair;
        border: 3px solid var(--card-background-color);
        box-shadow: 0 0 0 1px var(--divider-color);
        box-sizing: border-box;
        transition: all 0.2s ease;
      }

      .color-wheel:hover {
        box-shadow: 0 0 0 2px var(--primary-color);
        transform: scale(1.02);
      }

      .color-wheel-picker {
        width: 12px;
        height: 12px;
        background: white;
        border: 2px solid #333;
        border-radius: 50%;
        position: absolute;
        transform: translate(-50%, -50%);
        pointer-events: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      }

      .color-values {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .section-title {
        font-size: 14px;
        font-weight: 600;
        color: var(--primary-text-color);
        margin-bottom: 8px;
      }

      .rgb-inputs {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 8px;
      }

      .rgb-input-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .rgb-input-group label {
        font-size: 12px;
        color: var(--secondary-text-color);
        font-weight: 500;
      }

      .rgb-input-group input {
        padding: 6px 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 12px;
        text-align: center;
      }

      .rgb-input-group input:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .hex-input-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .hex-input-group label {
        font-size: 12px;
        color: var(--secondary-text-color);
        font-weight: 500;
      }

      .hex-input-container {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .hex-input-container input {
        flex: 1;
        padding: 6px 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-family: monospace;
        font-size: 12px;
        text-transform: uppercase;
      }

      .hex-input-container input:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .color-preview {
        width: 24px;
        height: 24px;
        border-radius: 4px;
        border: 1px solid var(--divider-color);
        flex-shrink: 0;
        transition: all 0.2s ease;
      }

      .color-preview.clickable {
        cursor: pointer;
      }

      .color-preview.clickable:hover {
        transform: scale(1.1);
        border-color: var(--primary-color);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      .color-picker-dropdown {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        z-index: 1000;
        margin-top: 8px;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        padding: 16px;
      }

      .hex-input-group {
        position: relative;
      }

      .hs-values-display,
      .xy-values-display {
        display: flex;
        gap: 16px;
        font-size: 12px;
        color: var(--secondary-text-color);
        font-family: monospace;
      }

      .color-temp-controls {
        width: 100%;
      }

      .color-temp-slider-container {
        background: var(--secondary-background-color);
        border-radius: 8px;
        padding: 16px;
      }

      .temp-labels {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .color-temp-slider {
        width: 100%;
        height: 8px;
        border-radius: 4px;
        outline: none;
        appearance: none;
        background: linear-gradient(to right, #ffb366, #fff2e6, #cce6ff);
        cursor: pointer;
        margin-bottom: 8px;
      }

      .color-temp-slider::-webkit-slider-thumb {
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      .color-temp-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      .kelvin-markers {
        display: flex;
        justify-content: space-between;
        font-size: 11px;
        color: var(--secondary-text-color);
        margin-top: 4px;
      }

      .mired-input-group {
        margin-top: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .mired-input-group label {
        font-size: 12px;
        color: var(--secondary-text-color);
        font-weight: 500;
        min-width: 50px;
      }

      .mired-input-group input {
        flex: 1;
        padding: 6px 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 12px;
        text-align: center;
      }

      .mired-input-group input:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .effects-controls {
        width: 100%;
      }

      .effects-section {
        background: var(--secondary-background-color);
        border-radius: 8px;
        padding: 16px;
      }

      .effects-dropdown {
        width: 100%;
        max-width: 100%;
        overflow: visible !important;
        z-index: 9998;
      }

      /* Custom Searchable Dropdown Styles */
      .custom-select-container {
        position: relative;
        width: 100%;
        z-index: 9999;
      }

      .custom-select-trigger {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        padding: 12px 16px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-family: inherit;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-sizing: border-box;
      }

      .custom-select-trigger:hover {
        border-color: var(--primary-color);
        box-shadow: 0 2px 8px rgba(var(--rgb-primary-color), 0.1);
      }

      .custom-select-trigger.open {
        border-color: var(--primary-color);
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        box-shadow: 0 2px 8px rgba(var(--rgb-primary-color), 0.15);
      }

      .custom-select-trigger[disabled] {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .selected-effect {
        flex: 1;
        text-align: left;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .dropdown-arrow {
        transition: transform 0.2s ease;
        color: var(--secondary-text-color);
        --mdc-icon-size: 20px;
      }

      .dropdown-arrow.rotated {
        transform: rotate(180deg);
      }

      .custom-dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--card-background-color);
        border: 1px solid var(--primary-color);
        border-top: none;
        border-radius: 0 0 8px 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 10001 !important;
        max-height: 300px;
        overflow: hidden;
      }

      .search-container {
        position: relative;
        padding: 12px;
        border-bottom: 1px solid var(--divider-color);
      }

      .effect-search {
        width: 100%;
        padding: 8px 12px 8px 36px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-family: inherit;
        font-size: 14px;
        box-sizing: border-box;
      }

      .effect-search:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .search-icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--secondary-text-color);
        --mdc-icon-size: 16px;
        pointer-events: none;
      }

      .effect-options {
        max-height: 200px;
        overflow-y: auto;
      }

      .effect-option {
        padding: 10px 16px;
        cursor: pointer;
        transition: background-color 0.15s ease;
        border-bottom: 1px solid var(--divider-color);
      }

      .effect-option:last-child {
        border-bottom: none;
      }

      .effect-option:hover {
        background: var(--secondary-background-color);
      }

      .effect-option.selected {
        background: rgba(var(--rgb-primary-color), 0.1);
        color: var(--primary-color);
        font-weight: 500;
      }

      .effect-option span {
        display: block;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .no-results {
        padding: 16px;
        text-align: center;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      .effect-select {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box;
      }

      .effect-select ha-select {
        width: 100% !important;
        max-width: 100% !important;
      }

      .effect-description {
        margin-top: 12px;
        padding: 12px;
        background: rgba(var(--rgb-primary-color), 0.05);
        border-radius: 4px;
        font-size: 12px;
        color: var(--secondary-text-color);
        line-height: 1.4;
      }

      /* Responsive design */
      @media (max-width: 600px) {
        .color-controls {
          flex-direction: column;
          gap: 16px;
        }

        .color-wheel {
          width: 100px;
          height: 100px;
        }

        .rgb-inputs {
          grid-template-columns: 1fr;
          gap: 12px;
        }
      }
    `}};r([(0,n.MZ)({attribute:!1})],l.prototype,"hass",void 0),r([(0,n.MZ)()],l.prototype,"rgb_color",void 0),r([(0,n.MZ)()],l.prototype,"hs_color",void 0),r([(0,n.MZ)()],l.prototype,"xy_color",void 0),r([(0,n.MZ)()],l.prototype,"color_temp",void 0),r([(0,n.MZ)()],l.prototype,"effect",void 0),r([(0,n.MZ)()],l.prototype,"effect_speed",void 0),r([(0,n.MZ)()],l.prototype,"effect_intensity",void 0),r([(0,n.MZ)()],l.prototype,"effect_reverse",void 0),r([(0,n.MZ)()],l.prototype,"effect_list",void 0),r([(0,n.MZ)()],l.prototype,"mode",void 0),r([(0,n.MZ)()],l.prototype,"min_mireds",void 0),r([(0,n.MZ)()],l.prototype,"max_mireds",void 0),r([(0,n.MZ)({type:Boolean})],l.prototype,"disabled",void 0),r([(0,n.wk)()],l.prototype,"_isDragging",void 0),r([(0,n.wk)()],l.prototype,"_currentRgb",void 0),r([(0,n.wk)()],l.prototype,"_currentHs",void 0),r([(0,n.wk)()],l.prototype,"_currentXy",void 0),r([(0,n.wk)()],l.prototype,"_currentColorTemp",void 0),r([(0,n.wk)()],l.prototype,"_showColorPicker",void 0),r([(0,n.wk)()],l.prototype,"_ignoringNextEffectChange",void 0),r([(0,n.wk)()],l.prototype,"_processingEffectChange",void 0),r([(0,n.wk)()],l.prototype,"_effectDropdownOpen",void 0),r([(0,n.wk)()],l.prototype,"_effectSearchTerm",void 0),r([(0,n.wk)()],l.prototype,"_filteredEffects",void 0),l=r([(0,n.EM)("uc-light-color-picker")],l);class d{static rgbToHex(e,t,i){return"#"+[e,t,i].map((e=>{const t=e.toString(16);return 1===t.length?"0"+t:t})).join("")}static hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}static rgbToHsv(e,t,i){e/=255,t/=255,i/=255;const o=Math.max(e,t,i),a=Math.min(e,t,i);let n=0;const r=o,s=o-a,l=0===o?0:s/o;if(o!==a){switch(o){case e:n=(t-i)/s+(t<i?6:0);break;case t:n=(i-e)/s+2;break;case i:n=(e-t)/s+4}n/=6}return[Math.round(360*n),Math.round(100*l),Math.round(100*r)]}static hsvToRgb(e,t,i){e/=360,t/=100,i/=100;const o=Math.floor(6*e),a=6*e-o,n=i*(1-t),r=i*(1-a*t),s=i*(1-(1-a)*t);let l,d,c;switch(o%6){case 0:[l,d,c]=[i,s,n];break;case 1:[l,d,c]=[r,i,n];break;case 2:[l,d,c]=[n,i,s];break;case 3:[l,d,c]=[n,r,i];break;case 4:[l,d,c]=[s,n,i];break;case 5:[l,d,c]=[i,n,r];break;default:[l,d,c]=[0,0,0]}return[Math.round(255*l),Math.round(255*d),Math.round(255*c)]}static rgbToXy(e,t,i){t/=255,i/=255;const o=.4124*(e=(e/=255)>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),a=.2126*e+.7152*t+.0722*i,n=o+a+(.0193*e+.1192*t+.9505*i);return 0===n?[.3127,.329]:[o/n,a/n]}static xyToRgb(e,t,i=1){const o=i/t*e,a=i/t*(1-e-t);let n=3.2406*o+-1.5372*i+-.4986*a,r=-.9689*o+1.8758*i+.0415*a,s=.0557*o+-.204*i+1.057*a;return n=n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,r=r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055,s=s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,n=Math.max(0,Math.min(1,n)),r=Math.max(0,Math.min(1,r)),s=Math.max(0,Math.min(1,s)),[Math.round(255*n),Math.round(255*r),Math.round(255*s)]}static kelvinToMired(e){return Math.round(1e6/e)}static miredToKelvin(e){return Math.round(1e6/e)}static calculateWwCwMix(e,t,i){const o=(Math.max(t,Math.min(i,e))-t)/(i-t);return{ww:Math.round(255*(1-o)),cw:Math.round(255*o)}}}class c extends a.m{constructor(){super(...arguments),this.metadata={type:"light",title:"Light Control",description:"Advanced light control with color, brightness, and effects",author:"WJD Designs",version:"1.0.0",icon:"mdi:lightbulb",category:"interactive",tags:["light","color","brightness","control","smart"]},this.expandedPresets=new Set,this.draggedPresetIndex=null}createDefault(e,t){return{id:e||this.generateId("light"),type:"light",presets:[{id:this.generateId("preset"),name:"My Preset",entities:[],brightness:255,rgb_color:[255,255,255],effect:"",effect_speed:128,effect_intensity:128,effect_reverse:!1,text_color:"var(--text-primary-color)",icon_color:"var(--primary-color)",button_color:"var(--primary-color)",use_light_color_for_icon:!1,use_light_color_for_button:!0,use_icon_color_for_text:!1,smart_color:!0,button_style:"filled",show_label:!0,border_radius:8}],layout:"buttons",button_alignment:"center",allow_wrapping:!0,button_gap:.8,columns:3,show_labels:!0,button_style:"filled",default_transition_time:.5,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}getSupportedColorModes(e,t){const i=t.states[e];return i&&i.attributes.supported_color_modes?i.attributes.supported_color_modes:["onoff"]}getCurrentColorMode(e,t){const i=t.states[e];return(null==i?void 0:i.attributes.color_mode)||"onoff"}getEffectList(e,t){const i=t.states[e];return(null==i?void 0:i.attributes.effect_list)||[]}findSimilarEffect(e,t){const i=e.toLowerCase(),o=t.find((e=>e.toLowerCase()===i));if(o)return o;const a=t.find((e=>{const t=e.toLowerCase();return t.includes(i)||i.includes(t)}));if(a)return a;const n={colorloop:["rainbow","color_loop","colorloop"],rainbow:["colorloop","rainbow","color_loop"],strobe:["blink","flash","strobe"],blink:["strobe","flash","blink"],breathe:["fade","breathing","breathe"],fade:["breathe","breathing","fade"],solid:["static","solid","none"]}[i]||[];for(const e of n){const i=t.find((t=>t.toLowerCase().includes(e)));if(i)return i}return null}getCommonSupportedEffects(e,t){if(0===e.length)return["colorloop","random"];const i=e.map((e=>this.getEffectList(e,t)));if(1===i.length)return i[0];const o=i.reduce(((e,t)=>e.filter((e=>t.some((t=>e.toLowerCase()===t.toLowerCase()))))));if(0===o.length){const e=[],t=["colorloop","color_loop","rainbow","strobe","flash","blink","fade","breathe","breathing","solid","static"];for(const o of t)for(const t of i){const a=t.find((e=>e.toLowerCase().includes(o.toLowerCase())));a&&!e.includes(a)&&i.every((e=>e.some((e=>e.toLowerCase().includes(o.toLowerCase())||e.toLowerCase()===a.toLowerCase()))))&&e.push(a)}return 0===e.length?["colorloop","strobe","fade"]:e}return o}getColorTempRange(e,t){const i=t.states[e];return{min:(null==i?void 0:i.attributes.min_mireds)||153,max:(null==i?void 0:i.attributes.max_mireds)||500}}async callLightService(e,t,i,o){try{await o.callService("light",e,Object.assign({entity_id:t},i))}catch(o){console.error(`Failed to call light.${e} for ${t}:`,o),console.error("Service data was:",i);const a=new CustomEvent("hass-notification",{detail:{message:`Failed to control light ${t}: ${o}`}});document.dispatchEvent(a)}}renderGeneralTab(e,t,i,a){var n,r;const s=e;return null===(n=null==t?void 0:t.locale)||void 0===n||n.language,o.qy`
      ${this.injectUcFormStyles()}
      <div class="general-tab">
        <!-- Layout Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            Layout Configuration
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            Configure how preset buttons are arranged and displayed
          </div>

          <!-- Layout Style -->
          <div class="field-container" style="margin-bottom: 16px;">
            <div class="field-title">Layout Style</div>
            <div class="field-description">Choose the overall arrangement style for preset buttons</div>
            ${this.renderUcForm(t,{layout:s.layout||"buttons"},[this.selectField("layout",[{value:"buttons",label:"Flexible Buttons"},{value:"grid",label:"Grid Layout"}])],(e=>{const t=e.detail.value.layout;t!==s.layout&&(a({layout:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
          </div>

            <!-- Button Alignment -->
            <div class="field-container" style="margin-bottom: 16px;">
              <div class="field-title">Button Alignment</div>
              <div class="field-description">Choose how buttons are aligned within the container</div>
              ${this.renderUcForm(t,{button_alignment:s.button_alignment||"center"},[this.selectField("button_alignment",[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"space-between",label:"Space Between"},{value:"space-around",label:"Space Around"},{value:"space-evenly",label:"Space Evenly"}])],(e=>{const t=e.detail.value.button_alignment;t!==s.button_alignment&&(a({button_alignment:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
            </div>
          </div>
        </div>

        <!-- Allow Wrapping Toggle -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <div style="display: flex; align-items: center; justify-content: space-between;">
            <div style="flex: 1;">
              <div
                class="field-title"
                style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
              >
                Allow Button Wrapping
              </div>
              <div
                class="field-description"
                style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8; line-height: 1.4;"
              >
                Allow buttons to wrap to the next line when they exceed the container width
              </div>
            </div>
            <div style="margin-left: 16px;">
              <ha-switch
                .checked=${s.allow_wrapping||!1}
                @change=${e=>{const t=e.target;a({allow_wrapping:t.checked})}}
              ></ha-switch>
            </div>
          </div>
        </div>

        <!-- Gap Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            Gap Configuration
          </div>

          <div style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              Gap Between Buttons
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              Set the spacing between preset buttons (in rem units)
            </div>
            <div
              class="gap-control-container"
              style="display: flex; align-items: center; gap: 12px;"
            >
              <input
                type="range"
                class="gap-slider"
                min="0"
                max="5"
                step="0.1"
                .value="${s.button_gap||.8}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);a({button_gap:i})}}
              />
              <input
                type="number"
                class="gap-input"
                style="width: 50px !important; max-width: 50px !important; min-width: 50px !important; padding: 4px 6px !important; font-size: 13px !important;"
                min="0"
                max="5"
                step="0.1"
                .value="${s.button_gap||.8}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({button_gap:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseFloat(t.value)||.8,o="ArrowUp"===e.key?.1:-.1,n=Math.max(0,Math.min(5,i+o)),r=Math.round(10*n)/10;a({button_gap:r})}}}
              />
              <button
                class="reset-btn"
                @click=${()=>a({button_gap:.8})}
                title="Reset to default (0.8)"
                style="width: 36px; height: 36px; padding: 0; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--secondary-background-color); color: var(--primary-text-color); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease;"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>
        </div>
        ${"grid"===s.layout?o.qy`
                <div
                  class="settings-section"
                  style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
                >
                  <div
                    class="section-title"
                    style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
                  >
                    Grid Settings
                  </div>
                  <div
                    style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
                  >
                    Configure grid layout options
                  </div>

                  <div style="margin-bottom: 20px;">
                    <div
                      class="field-title"
                      style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
                    >
                      Columns
                    </div>
                    <div
                      class="field-description"
                      style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 8px; opacity: 0.8; line-height: 1.4;"
                    >
                      Number of columns in grid layout
                    </div>
                    <div class="field-container" style="margin-bottom: 16px;">
                      <div class="field-title">Columns</div>
                      <div class="field-description">Number of columns in grid layout</div>
                      ${this.renderUcForm(t,{columns:s.columns||3},[this.selectField("columns",[{value:"1",label:"1 Column"},{value:"2",label:"2 Columns"},{value:"3",label:"3 Columns"},{value:"4",label:"4 Columns"},{value:"5",label:"5 Columns"},{value:"6",label:"6 Columns"}])],(e=>{const t=Number(e.detail.value.columns);isNaN(t)||t===s.columns||(a({columns:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                    </div>
                  </div>
                </div>
              `:""}

        <!-- Global Settings -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            Global Settings
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            Settings that apply to all presets
          </div>

          <div class="field-container" style="margin-bottom: 16px;">
            <div class="field-title">Default Transition Time</div>
            <div class="field-description">Default transition time for all presets (can be overridden per preset)</div>
            ${this.renderUcForm(t,{default_transition_time:null!==(r=s.default_transition_time)&&void 0!==r?r:.5},[this.numberField("default_transition_time",0,10,.1)],(e=>{const t=Number(e.detail.value.default_transition_time);isNaN(t)||t===s.default_transition_time||(a({default_transition_time:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
          </div>
          </div>
        </div>

        <!-- Preset Configuration -->
        <div class="presets-configuration">
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            Light Presets
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            Configure light presets with specific colors, brightness, and effects. Each preset can
            control different entities.
          </div>

          ${(s.presets||[]).map(((e,o)=>this.renderPresetEditor(e,o,s,t,a,i)))}

          <button
            class="add-preset-btn"
            @click=${()=>this.addPreset(s,a)}
            style="width: 100%; padding: 12px; border: 2px dashed var(--primary-color); background: transparent; color: var(--primary-color); border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 500; margin-top: 16px;"
          >
            + Add New Preset
          </button>
        </div>
      </div>
    `}renderOtherTab(e,t,i,a){var n,r;const s=e;return o.qy`
      <div class="other-tab">
        <!-- Import/Export Presets -->
        ${this.renderSettingsSection("Import/Export","Save and share your preset configurations",[{title:"Export Presets",description:"Export all presets as JSON for backup or sharing",hass:t,data:{export_ready:(s.presets||[]).length>0},schema:[{name:"export_ready",label:"Export Configuration",selector:{action:{text:"Export JSON"}}}],onChange:()=>this.exportPresets(s)},{title:"Import Presets",description:"Import presets from JSON configuration",hass:t,data:{import_data:""},schema:[{name:"import_data",label:"Paste JSON Configuration",selector:{text:{multiline:!0,placeholder:"Paste exported JSON here..."}}}],onChange:e=>this.importPresets(e.detail.value.import_data,s,a)}])}

        <!-- Advanced Options -->
        ${this.renderSettingsSection("Advanced Options","Fine-tune module behavior",[{title:"Confirm Actions",description:"Show confirmation dialog before applying presets",hass:t,data:{confirm_actions:null!==(n=s.confirm_actions)&&void 0!==n&&n},schema:[this.booleanField("confirm_actions")],onChange:e=>a({confirm_actions:e.detail.value.confirm_actions})},{title:"Show Status Feedback",description:"Show visual feedback when presets are applied",hass:t,data:{show_feedback:null===(r=s.show_feedback)||void 0===r||r},schema:[this.booleanField("show_feedback")],onChange:e=>a({show_feedback:e.detail.value.show_feedback})}])}
      </div>
    `}renderPresetEditor(e,t,i,a,n,r){const s=()=>{const t=Object.assign(Object.assign({},e),{id:this.generateId("preset"),name:`${e.name} Copy`}),o=[...i.presets||[],t];n({presets:o})},l=(e,t)=>{const o=[...i.presets||[]],[a]=o.splice(e,1);o.splice(t,0,a),n({presets:o})};return o.qy`
      <div
        class="preset-item"
        style="margin-bottom: 24px; background: var(--secondary-background-color); border-radius: 8px; border: 1px solid var(--divider-color); overflow: hidden;"
        data-preset-id="${e.id}"
        data-preset-index="${t}"
        @dragover=${e=>this.handlePresetDragOver(e)}
        @dragenter=${e=>this.handlePresetDragEnter(e)}
        @dragleave=${e=>this.handlePresetDragLeave(e)}
        @drop=${e=>this.handlePresetDrop(e,t,l)}
      >
        <div
          class="preset-header"
          style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: rgba(var(--rgb-primary-color), 0.05); border-bottom: 1px solid var(--divider-color); cursor: pointer;"
          @click=${e=>this.togglePresetHeader(e)}
        >
          <div style="display: flex; align-items: center; gap: 12px;">
            <div
              class="drag-handle"
              style="padding: 8px; margin: -8px; cursor: grab; border-radius: 4px; transition: background-color 0.2s ease;"
              draggable="true"
              @dragstart=${e=>this.handlePresetDragStart(e,t)}
              @dragend=${e=>this.handlePresetDragEnd(e)}
              @click=${e=>e.stopPropagation()}
              @mousedown=${e=>e.stopPropagation()}
              .title=${"Drag to reorder"}
              @mouseenter=${e=>{e.target.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)"}}
              @mouseleave=${e=>{e.target.style.backgroundColor="transparent"}}
            >
              <ha-icon
                icon="mdi:drag"
                style="color: var(--secondary-text-color); pointer-events: none;"
              ></ha-icon>
            </div>
            <div style="font-weight: 600; color: var(--primary-text-color);">
              ${e.name||`Preset ${t+1}`}
            </div>
            ${e.icon?o.qy`<ha-icon icon="${e.icon}" style="color: var(--primary-color);"></ha-icon>`:""}
          </div>
          <div style="display: flex; align-items: center; gap: 8px;">
            <ha-icon-button
              @click=${e=>{e.stopPropagation(),s()}}
              .title=${"Duplicate preset"}
            >
              <ha-icon icon="mdi:content-duplicate"></ha-icon>
            </ha-icon-button>
            <ha-icon-button
              @click=${e=>{e.stopPropagation(),(()=>{const e=[...i.presets||[]];e.splice(t,1),n({presets:e})})()}}
              .title=${"Delete preset"}
              .disabled=${(i.presets||[]).length<=1}
            >
              <ha-icon icon="mdi:delete"></ha-icon>
            </ha-icon-button>
            <ha-icon
              class="expand-caret"
              icon="mdi:chevron-down"
              style="color: var(--secondary-text-color); transition: transform 0.2s ease; transform: ${this.expandedPresets.has(e.id)?"rotate(180deg)":"rotate(0deg)"}; cursor: pointer; padding: 8px; margin: -8px;"
              @click=${e=>{e.stopPropagation();const t=e.target,i=t.closest(".preset-item"),o=null==i?void 0:i.querySelector(".preset-content");if(i&&o&&t){const e=i.getAttribute("data-preset-id")||"";this.expandedPresets.has(e)?(this.expandedPresets.delete(e),o.style.display="none",t.style.transform="rotate(0deg)"):(this.expandedPresets.add(e),o.style.display="block",t.style.transform="rotate(180deg)")}}}
            ></ha-icon>
          </div>
        </div>

        <div
          class="preset-content"
          style="padding: 16px; display: ${this.expandedPresets.has(e.id)?"block":"none"};"
        >
          ${this.renderPresetConfiguration(e,a,(o=>{const a=[...i.presets||[]];a[t]=Object.assign(Object.assign({},e),o),n({presets:a})}),i,r)}
        </div>
      </div>
    `}renderPresetConfiguration(e,t,i,a,n){var r,s,l,d,c,p;return o.qy`
      <!-- Basic Settings -->
      <div class="field-group" style="margin-bottom: 16px;">
        ${this.renderFieldSection("Basic Settings","Configure preset name and icon",t,{name:e.name||"",icon:e.icon||""},[this.textField("name"),this.iconField("icon")],(e=>i(e.detail.value)))}
      </div>

      <!-- Entity Selection -->
      <div class="field-group" style="margin-bottom: 16px;">
        ${this.renderFieldSection("Target Entities","Select which lights this preset will control",t,{entities:e.entities||[]},[{name:"entities",selector:{entity:{domain:["light","group"],multiple:!0}}}],(e=>i({entities:e.detail.value.entities})))}

        <!-- Light Controls: Color, White, Effects & Test -->
        <div class="light-controls-section" style="margin-top: 20px; margin-bottom: 20px;">
          <div
            style="font-weight: 600; margin-bottom: 16px; color: var(--primary-text-color); font-size: 16px;"
          >
            Light Controls
          </div>

          <uc-light-color-picker
            .hass=${t}
            .rgb_color=${e.rgb_color}
            .hs_color=${e.hs_color}
            .xy_color=${e.xy_color}
            .color_temp=${e.color_temp}
            .effect=${e.effect}
            .effect_speed=${e.effect_speed}
            .effect_intensity=${e.effect_intensity}
            .effect_reverse=${e.effect_reverse}
            .effect_list=${this.getCommonSupportedEffects(e.entities||[],t)}
            .mode=${"effect"===this.getPresetLightMode(e)?"effect":this.getPresetColorMode(e)}
            .min_mireds=${153}
            .max_mireds=${500}
            @color-changed=${e=>{const t=e.detail,o={};"effect"===t.mode?(o.effect=t.effect||"",o.color_temp=void 0,o.rgb_color=void 0,o.hs_color=void 0,o.xy_color=void 0,o.rgbw_color=void 0,o.rgbww_color=void 0,o.white=void 0):"color_temp"===t.mode?(o.color_temp=t.color_temp,o.rgb_color=void 0,o.hs_color=void 0,o.xy_color=void 0,o.rgbw_color=void 0,o.rgbww_color=void 0,o.white=void 0,o.effect=""):(o.rgb_color=t.rgb_color,o.hs_color=t.hs_color,o.xy_color=t.xy_color,o.color_temp=void 0,o.rgbw_color=void 0,o.rgbww_color=void 0,o.white=void 0,o.effect=""),i(o),this.triggerPreviewUpdate()}}
            @test-preset=${()=>{this.applyPreset(e,a,t,n)}}
          ></uc-light-color-picker>
        </div>

        <!-- Button Style (moved here from global settings) -->
        <div
          style="margin-top: 16px; background: rgba(var(--rgb-accent-color), 0.05); border-radius: 6px; padding: 12px;"
        >
          <div style="font-weight: 500; margin-bottom: 12px; color: var(--primary-text-color);">
            Button Appearance
          </div>

          ${this.renderFieldSection("Button Style","Visual style for this preset button",t,{button_style:e.button_style||"filled"},[this.selectField("button_style",[{value:"filled",label:"Filled (solid background)"},{value:"outlined",label:"Outlined (border only)"},{value:"text",label:"Text (minimal style)"}])],(e=>i({button_style:e.detail.value.button_style})))}

          <!-- Border Radius (for filled and outlined styles) -->
          ${"text"!==(e.button_style||"filled")?o.qy`
                <div style="margin-top: 12px;">
                  ${this.renderFieldSection("Border Radius","Adjust button roundness (0 = square, 50 = circle)",t,{border_radius:e.border_radius||8},[this.numberField("border_radius",0,50,1)],(e=>i({border_radius:e.detail.value.border_radius})))}
                </div>
              `:""}

          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-top: 12px;"
          >
            <div>
              <div style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);">
                Show Label
              </div>
              <div style="font-size: 12px; color: var(--secondary-text-color);">
                Display preset name on this button
              </div>
            </div>
            <ha-switch
              .checked=${null===(r=e.show_label)||void 0===r||r}
              @change=${e=>{const t=e.target;i({show_label:t.checked})}}
            ></ha-switch>
          </div>
        </div>
      </div>

      <!-- Light Controls Section -->
      <div class="light-controls-section" style="margin-top: 20px;">
        <div
          style="font-weight: 600; margin-bottom: 16px; color: var(--primary-text-color); font-size: 16px;"
        >
          Light Controls
        </div>

        <!-- Brightness Control -->
        <div class="brightness-control" style="margin-bottom: 20px;">
          <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
            <ha-icon icon="mdi:brightness-6" style="color: var(--primary-color);"></ha-icon>
            <span style="font-weight: 500; color: var(--primary-text-color);">Brightness</span>
            <span style="margin-left: auto; font-size: 14px; color: var(--secondary-text-color);">
              ${e.brightness?Math.round(e.brightness/255*100):100}%
            </span>
          </div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <span style="font-size: 12px; color: var(--secondary-text-color);">0%</span>
            <input
              type="range"
              min="1"
              max="100"
              step="1"
              .value=${e.brightness?Math.round(e.brightness/255*100):100}
              @input=${e=>{const t=e.target,o=Math.round(parseInt(t.value)/100*255);i({brightness:o}),this.triggerPreviewUpdate()}}
              class="brightness-slider"
            />
            <span style="font-size: 12px; color: var(--secondary-text-color);">100%</span>
          </div>
        </div>

        <!-- Visual Customization -->
        <div
          class="visual-customization"
          style="margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--divider-color);"
        >
          <div
            style="font-weight: 600; margin-bottom: 16px; color: var(--primary-text-color); font-size: 16px;"
          >
            Visual Customization
          </div>

          <!-- Smart Color Toggles -->
          <div
            class="smart-color-toggles"
            style="margin-bottom: 16px; background: rgba(var(--rgb-primary-color), 0.05); border-radius: 6px; padding: 12px;"
          >
            <div style="font-weight: 500; margin-bottom: 12px; color: var(--primary-text-color);">
              Smart Color Options
            </div>

            <!-- Smart Contrast Mode (Top Priority) -->
            <div
              style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;"
            >
              <div>
                <div style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);">
                  Smart Contrast Mode
                </div>
                <div style="font-size: 12px; color: var(--secondary-text-color);">
                  Auto-contrast text & icon (white/black) based on button background
                </div>
              </div>
              <ha-switch
                .checked=${null===(s=e.smart_color)||void 0===s||s}
                @change=${e=>{const t=e.target;i({smart_color:t.checked})}}
              ></ha-switch>
            </div>

            <!-- Use Light Color for Icon (disabled if smart contrast is on) -->
            <div
              style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; ${e.smart_color?"opacity: 0.5;":""}"
            >
              <div>
                <div style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);">
                  Use Light Color for Icon
                </div>
                <div style="font-size: 12px; color: var(--secondary-text-color);">
                  Icon color matches the preset's light color
                </div>
              </div>
              <ha-switch
                .checked=${e.use_light_color_for_icon||!1}
                .disabled=${null===(l=e.smart_color)||void 0===l||l}
                @change=${e=>{const t=e.target;i({use_light_color_for_icon:t.checked})}}
              ></ha-switch>
            </div>

            <!-- Use Light Color for Button (disabled if smart contrast is on) -->
            <div
              style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; ${e.smart_color?"opacity: 0.5;":""}"
            >
              <div>
                <div style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);">
                  Use Light Color for Button
                </div>
                <div style="font-size: 12px; color: var(--secondary-text-color);">
                  Button background matches the preset's light color
                </div>
              </div>
              <ha-switch
                .checked=${e.use_light_color_for_button||!1}
                .disabled=${null===(d=e.smart_color)||void 0===d||d}
                @change=${e=>{const t=e.target;i({use_light_color_for_button:t.checked})}}
              ></ha-switch>
            </div>

            <!-- Use Icon Color for Text (disabled if smart contrast is on) -->
            <div
              style="display: flex; align-items: center; justify-content: space-between; ${e.smart_color?"opacity: 0.5;":""}"
            >
              <div>
                <div style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);">
                  Use Icon Color for Text
                </div>
                <div style="font-size: 12px; color: var(--secondary-text-color);">
                  Text color matches the icon color
                </div>
              </div>
              <ha-switch
                .checked=${e.use_icon_color_for_text||!1}
                .disabled=${null===(c=e.smart_color)||void 0===c||c}
                @change=${e=>{const t=e.target;i({use_icon_color_for_text:t.checked})}}
              ></ha-switch>
            </div>
          </div>

          <!-- Per-Preset Styling -->
          <div
            style="margin-bottom: 16px; background: rgba(var(--rgb-accent-color), 0.05); border-radius: 6px; padding: 12px;"
          >
            <div style="font-weight: 500; margin-bottom: 12px; color: var(--primary-text-color);">
              Button Style
            </div>

            ${this.renderFieldSection("Button Style","Visual style for this preset button",t,{button_style:e.button_style||"filled"},[this.selectField("button_style",[{value:"filled",label:"Filled (solid background)"},{value:"outlined",label:"Outlined (border only)"},{value:"text",label:"Text (minimal style)"}])],(e=>i({button_style:e.detail.value.button_style})))}

            <div
              style="display: flex; align-items: center; justify-content: space-between; margin-top: 12px;"
            >
              <div>
                <div style="font-size: 14px; font-weight: 500; color: var(--primary-text-color);">
                  Show Label
                </div>
                <div style="font-size: 12px; color: var(--secondary-text-color);">
                  Display preset name on this button
                </div>
              </div>
              <ha-switch
                .checked=${null===(p=e.show_label)||void 0===p||p}
                @change=${e=>{const t=e.target;i({show_label:t.checked})}}
              ></ha-switch>
            </div>
          </div>

          <!-- Custom Colors (only show when smart contrast is disabled) -->
          ${e.smart_color?o.qy`
                <div
                  style="text-align: center; padding: 24px; color: var(--secondary-text-color); font-style: italic; background: rgba(var(--rgb-primary-color), 0.05); border-radius: 6px;"
                >
                  Smart Contrast Mode is enabled - colors are automatically optimized
                </div>
              `:o.qy`
                <div
                  class="custom-colors"
                  style="display: flex; flex-direction: column; gap: 16px;"
                >
                  <!-- Text Color -->
                  ${e.use_icon_color_for_text?o.qy`
                        <div class="color-field disabled">
                          <div
                            style="font-size: 14px; font-weight: 500; margin-bottom: 8px; color: var(--secondary-text-color);"
                          >
                            Text Color
                          </div>
                          <div
                            style="padding: 20px; text-align: center; color: var(--secondary-text-color); font-style: italic; background: var(--secondary-background-color); border-radius: 4px;"
                          >
                            Using icon color
                          </div>
                        </div>
                      `:o.qy`
                        <div class="color-field">
                          <div
                            style="font-size: 14px; font-weight: 500; margin-bottom: 8px; color: var(--primary-text-color);"
                          >
                            Text Color
                          </div>
                          <ultra-color-picker
                            .hass=${t}
                            .value=${e.text_color||"var(--primary-text-color)"}
                            @value-changed=${e=>i({text_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      `}

                  <!-- Icon Color -->
                  ${e.use_light_color_for_icon?o.qy`
                        <div class="color-field disabled">
                          <div
                            style="font-size: 14px; font-weight: 500; margin-bottom: 8px; color: var(--secondary-text-color);"
                          >
                            Icon Color
                          </div>
                          <div
                            style="padding: 20px; text-align: center; color: var(--secondary-text-color); font-style: italic; background: var(--secondary-background-color); border-radius: 4px;"
                          >
                            Using light color
                          </div>
                        </div>
                      `:o.qy`
                        <div class="color-field">
                          <div
                            style="font-size: 14px; font-weight: 500; margin-bottom: 8px; color: var(--primary-text-color);"
                          >
                            Icon Color
                          </div>
                          <ultra-color-picker
                            .hass=${t}
                            .value=${e.icon_color||"var(--primary-color)"}
                            @value-changed=${e=>i({icon_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      `}

                  <!-- Button Color -->
                  ${e.use_light_color_for_button?o.qy`
                        <div class="color-field disabled">
                          <div
                            style="font-size: 14px; font-weight: 500; margin-bottom: 8px; color: var(--secondary-text-color);"
                          >
                            Button Color
                          </div>
                          <div
                            style="padding: 20px; text-align: center; color: var(--secondary-text-color); font-style: italic; background: var(--secondary-background-color); border-radius: 4px;"
                          >
                            Using light color
                          </div>
                        </div>
                      `:o.qy`
                        <div class="color-field">
                          <div
                            style="font-size: 14px; font-weight: 500; margin-bottom: 8px; color: var(--primary-text-color);"
                          >
                            Button Color
                          </div>
                          <ultra-color-picker
                            .hass=${t}
                            .value=${e.button_color||"var(--primary-color)"}
                            @value-changed=${e=>i({button_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      `}
                </div>
              `}
        </div>

        <!-- Advanced Settings -->
        <div
          class="advanced-settings"
          style="margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--divider-color);"
        >
          <div style="font-weight: 500; margin-bottom: 12px; color: var(--primary-text-color);">
            Advanced Settings
          </div>
          ${this.renderFieldSection("Transition Time (seconds)","Override default transition time for this preset",t,{transition_time:e.transition_time||a.default_transition_time||.5},[this.numberField("transition_time",0,10,.1)],(e=>i({transition_time:e.detail.value.transition_time})))}
        </div>

        <!-- Test Preset -->
        <div
          style="margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--divider-color);"
        >
          <button
            @click=${()=>this.applyPreset(e,a,t)}
            style="width: 100%; padding: 12px; background: var(--primary-color); color: var(--text-primary-color); border: none; border-radius: 6px; cursor: pointer; font-weight: 500; font-size: 14px;"
            .disabled=${!e.entities||0===e.entities.length}
          >
            <ha-icon icon="mdi:play" style="margin-right: 8px;"></ha-icon>
            Test Preset
          </button>
        </div>
      </div>
    `}handlePresetDragStart(e,t){this.draggedPresetIndex=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.toString()));const i=e.target.closest(".preset-item");i&&i.classList.add("dragging")}handlePresetDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}handlePresetDragEnter(e){e.preventDefault();const t=e.currentTarget;t&&!t.classList.contains("dragging")&&(t.style.borderTop="3px solid var(--primary-color)",t.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)")}handlePresetDragLeave(e){const t=e.currentTarget;t&&(t.style.borderTop="",t.style.backgroundColor="")}handlePresetDrop(e,t,i){e.preventDefault();const o=e.currentTarget;o.style.borderTop="",o.style.backgroundColor="",null!==this.draggedPresetIndex&&this.draggedPresetIndex!==t&&i(this.draggedPresetIndex,t),document.querySelectorAll(".preset-item").forEach((e=>{e.style.borderTop="",e.style.backgroundColor="",e.classList.remove("dragging")})),this.draggedPresetIndex=null}handlePresetDragEnd(e){var t;const i=null===(t=e.target)||void 0===t?void 0:t.closest(".preset-item");i&&i.classList.remove("dragging"),document.querySelectorAll(".preset-item").forEach((e=>{e.style.borderTop=""})),this.draggedPresetIndex=null}togglePresetHeader(e){const t=e.currentTarget.closest(".preset-item");if(!t)return;const i=t.getAttribute("data-preset-id")||"";if(!i)return;const o=t.querySelector(".preset-content"),a=t.querySelector(".expand-caret");this.expandedPresets.has(i)?this.expandedPresets.delete(i):this.expandedPresets.add(i),o&&a&&(this.expandedPresets.has(i)?(o.style.display="block",a.style.transform="rotate(180deg)"):(o.style.display="none",a.style.transform="rotate(0deg)"))}togglePresetExpanded(e){const t=document.querySelector(`[data-preset-id="${e}"]`);if(t){const i=t.querySelector(".preset-content"),o=t.querySelector(".expand-caret");i&&o&&(this.expandedPresets.has(e)?(this.expandedPresets.delete(e),i.style.display="none",o.style.transform="rotate(0deg)"):(this.expandedPresets.add(e),i.style.display="block",o.style.transform="rotate(180deg)"))}}addPreset(e,t){const i=this.generateId("preset"),o={id:i,name:`Preset ${(e.presets||[]).length+1}`,entities:[],brightness:255,hs_color:[0,0],text_color:"var(--text-primary-color)",icon_color:"var(--primary-color)",button_color:"var(--primary-color)",use_light_color_for_icon:!1,use_light_color_for_button:!0,use_icon_color_for_text:!1,smart_color:!0,button_style:"filled",show_label:!0,border_radius:8};this.expandedPresets.add(i),t({presets:[...e.presets||[],o]})}getPresetColorMode(e){return e.color_temp?"color_temp":e.hs_color?"hs":e.xy_color?"xy":e.rgb_color?"rgb":"hs"}getPresetLightMode(e){return e.effect&&""!==e.effect.trim()?"effect":e.color_temp?"white":(e.rgb_color||e.hs_color||e.xy_color,"color")}exportPresets(e){const t={presets:e.presets||[],exported_at:(new Date).toISOString(),version:"1.0"},i=JSON.stringify(t,null,2),o=new Blob([i],{type:"application/json"}),a=URL.createObjectURL(o),n=document.createElement("a");n.href=a,n.download="ultra-card-light-presets.json",n.click(),URL.revokeObjectURL(a)}importPresets(e,t,i){try{if(!e.trim())return;const o=JSON.parse(e);if(o.presets&&Array.isArray(o.presets)){const e=o.presets.map((e=>Object.assign(Object.assign({},e),{id:this.generateId("preset")})));i({presets:[...t.presets||[],...e]});const a=new CustomEvent("hass-notification",{detail:{message:`Successfully imported ${e.length} presets`}});document.dispatchEvent(a)}}catch(e){const t=new CustomEvent("hass-notification",{detail:{message:"Failed to import presets: Invalid JSON format"}});document.dispatchEvent(t)}}async applyPreset(e,t,o,a){if(!1!==(null==a?void 0:a.haptic_feedback)){const{forwardHaptic:e}=await Promise.resolve().then(i.bind(i,9811));e("medium")}const n=e.entities||[];if(0!==n.length){for(const i of n){const a={},n=o.states[i],r="wled"===(null==n?void 0:n.attributes.integration)||"wled"===(null==n?void 0:n.attributes.device_class)||(null==n?void 0:n.attributes.effect_list)&&n.attributes.effect_list.length>50||(null==n?void 0:n.entity_id)&&n.entity_id.toLowerCase().includes("wled")||(null==n?void 0:n.attributes.friendly_name)&&n.attributes.friendly_name.toLowerCase().includes("wled")||(null==n?void 0:n.attributes.friendly_name)&&n.attributes.friendly_name.toLowerCase().includes("glorb"),s=e.transition_time||t.default_transition_time;if(!(s&&s>0)||r&&e.effect&&""!==e.effect.trim()||(a.transition=s),void 0!==e.brightness&&(a.brightness=e.brightness),e.effect&&""!==e.effect.trim())if(this.getEffectList(i,o).includes(e.effect))a.effect=e.effect,delete a.rgb_color,delete a.hs_color,delete a.xy_color,delete a.color_temp,delete a.rgbw_color,delete a.rgbww_color,delete a.white,r&&delete a.transition;else{const t=this.getEffectList(i,o),n=this.findSimilarEffect(e.effect,t);n&&(a.effect=n,delete a.rgb_color,delete a.hs_color,delete a.xy_color,delete a.color_temp,delete a.rgbw_color,delete a.rgbww_color,delete a.white)}else void 0!==e.color_temp?a.color_temp=e.color_temp:r&&void 0!==e.rgb_color?(a.rgb_color=e.rgb_color,a.effect="Solid"):void 0!==e.hs_color?(a.hs_color=e.hs_color,r&&(a.effect="Solid")):void 0!==e.xy_color?(a.xy_color=e.xy_color,r&&(a.effect="Solid")):void 0!==e.rgb_color?(a.rgb_color=e.rgb_color,r&&(a.effect="Solid")):void 0!==e.rgbw_color?a.rgbw_color=e.rgbw_color:void 0!==e.rgbww_color?a.rgbww_color=e.rgbww_color:void 0!==e.white&&(a.white=e.white);await this.callLightService("turn_on",i,a,o)}if(!1!==t.show_feedback){const t=new CustomEvent("hass-notification",{detail:{message:`Applied preset "${e.name}" to ${n.length} ${1===n.length?"entity":"entities"}`}});document.dispatchEvent(t)}}else{const e=new CustomEvent("hass-notification",{detail:{message:"No entities configured for this preset"}});document.dispatchEvent(e)}}deletePreset(e,t,i){const o=[...t.presets||[]];o.splice(e,1),i({presets:o})}renderPreview(e,t,i){var a,n;const r=e,s=r.presets||[],l=r,d={padding:this.getPaddingCSS(l),margin:this.getMarginCSS(l),background:this.getBackgroundCSS(l),backgroundImage:this.getBackgroundImageCSS(l,t),border:this.getBorderCSS(l),borderRadius:this.addPixelUnit(l.border_radius)||"8px",boxSizing:"border-box",width:"100%"};if(0===s.length)return o.qy`
        <div class="light-module-container" style=${this.styleObjectToCss(d)}>
          <div class="no-presets-preview">
            <ha-icon icon="mdi:lightbulb-group"></ha-icon>
            <div>No presets configured</div>
            <div class="config-hint">Add presets in the General tab</div>
          </div>
        </div>
      `;const c=r.layout||"buttons",p=null===(a=r.show_labels)||void 0===a||a,u=r.button_style||"filled",g=r.columns||3,m=r.button_alignment||"center",h=null===(n=r.allow_wrapping)||void 0===n||n,_=r.button_gap||.8;let v="";return v="grid"===c?`\n        display: grid;\n        grid-template-columns: repeat(${g}, 1fr);\n        gap: ${_}rem;\n      `:`\n        display: flex;\n        flex-wrap: ${h?"wrap":"nowrap"};\n        justify-content: ${this.getJustifyContent(m)};\n        align-items: center;\n        gap: ${_}rem;\n      `,o.qy`
      <div class="light-module-container" style=${this.styleObjectToCss(d)}>
        <div class="presets-container ${c}" style="${v}">
          ${s.map((e=>this.renderPresetButton(e,r,t,p,u,i)))}
        </div>
      </div>
    `}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"8px"} ${this.addPixelUnit(e.padding_right)||"8px"} ${this.addPixelUnit(e.padding_bottom)||"8px"} ${this.addPixelUnit(e.padding_left)||"8px"}`:"16px"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0"} ${this.addPixelUnit(e.margin_right)||"0"} ${this.addPixelUnit(e.margin_bottom)||"0"} ${this.addPixelUnit(e.margin_left)||"0"}`:"0"}getBackgroundCSS(e){return e.background_color||"var(--card-background-color)"}getBackgroundImageCSS(e,t){if("url"===e.background_image_type&&e.background_image)return`url(${e.background_image})`;if("entity"===e.background_image_type&&e.background_image_entity){const i=t.states[e.background_image_entity];if(i&&i.attributes.entity_picture)return`url(${i.attributes.entity_picture})`}return"none"}getBorderCSS(e){return e.border_style&&"none"!==e.border_style?`${this.addPixelUnit(e.border_width)||"1px"} ${e.border_style} ${e.border_color||"var(--divider-color)"}`:"none"}addPixelUnit(e){return e?"auto"===e||"none"===e||"inherit"===e?e:/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}getJustifyContent(e){switch(e){case"left":return"flex-start";case"center":default:return"center";case"right":return"flex-end";case"space-between":return"space-between";case"space-around":return"space-around";case"space-evenly":return"space-evenly"}}renderPresetButton(e,t,i,a,n,r){var s,l;const d=e.entities&&e.entities.length>0,c=e.button_style||n,p=null!==(s=e.show_label)&&void 0!==s?s:a,u=this.getPresetColors(e,i);let g=`\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 8px;\n      padding: 12px 16px;\n      border-radius: ${null!==(l=e.border_radius)&&void 0!==l?l:8}px;\n      cursor: pointer;\n      font-size: 14px;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      min-height: 48px;\n      position: relative;\n      overflow: hidden;\n      box-sizing: border-box;\n    `;return"filled"===c?u.buttonColor.startsWith("linear-gradient")?g+=`background: ${u.buttonColor}; color: ${u.textColor}; border: none;`:g+=`background-color: ${u.buttonColor}; color: ${u.textColor}; border: none;`:"outlined"===c?g+=`border: 2px solid ${u.buttonColor}; color: ${u.textColor}; background: transparent;`:"text"===c&&(g+=`color: ${u.textColor}; background: transparent; border: none;`),o.qy`
      <div class="preset-button-container">
        <button
          class="preset-button ${c} ${d?"":"disabled"}"
          @click=${d?()=>this.applyPreset(e,t,i,r):void 0}
          style="
            ${g}
            ${d?"":"opacity: 0.5; cursor: not-allowed;"}
          "
          title="${d?`Apply preset: ${e.name}`:"No entities configured"}"
        >
          <ha-icon
            icon="${e.icon||"mdi:lightbulb"}"
            style="color: ${u.iconColor};"
          ></ha-icon>
          ${p?o.qy`<span class="preset-label">${e.name}</span>`:""}
        </button>
      </div>
    `}getPresetColors(e,t){let i,o,a=this.getPresetColorPreview(e);i=e.use_light_color_for_icon&&a?a:e.icon_color||"var(--primary-color)";const n=e.button_style||"filled";let r;if(o="filled"===n&&e.use_light_color_for_button&&a?a:e.button_color||a||"var(--primary-color)",e.smart_color){const e=this.getContrastColor(o);r=e,i=e}else r="text"===n?e.use_icon_color_for_text?i:e.text_color||a||i:"outlined"===n?e.use_icon_color_for_text?i:e.text_color||a||o:e.use_icon_color_for_text?i:e.text_color||"var(--text-primary-color)";return{textColor:r,iconColor:i,buttonColor:o}}getContrastColor(e){if(e.startsWith("var(")||e.includes("gradient"))return"white";let t=0,i=0,o=0;if(e.startsWith("#")){const a=d.hexToRgb(e);a&&([t,i,o]=a)}else if(e.startsWith("rgb(")){const a=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);a&&(t=parseInt(a[1]),i=parseInt(a[2]),o=parseInt(a[3]))}return(.299*t+.587*i+.114*o)/255>.5?"black":"white"}getCurrentLightColor(e){if(!e||!e.attributes)return null;if(e.attributes.rgb_color&&Array.isArray(e.attributes.rgb_color))return`rgb(${e.attributes.rgb_color.join(",")})`;if(e.attributes.hs_color&&Array.isArray(e.attributes.hs_color)){const[t,i]=e.attributes.hs_color;return`rgb(${d.hsvToRgb(t,i,100).join(",")})`}if(e.attributes.xy_color&&Array.isArray(e.attributes.xy_color)){const[t,i]=e.attributes.xy_color;return`rgb(${d.xyToRgb(t,i).join(",")})`}if(e.attributes.color_temp){const t=d.miredToKelvin(e.attributes.color_temp);return t<3e3?"#ffb366":t>5e3?"#cce6ff":"#fff2e6"}return null}getPresetColorPreview(e){if(e.rgb_color)return`rgb(${e.rgb_color.join(",")})`;if(e.hs_color)return`rgb(${d.hsvToRgb(e.hs_color[0],e.hs_color[1],100).join(",")})`;if(e.xy_color)return`rgb(${d.xyToRgb(e.xy_color[0],e.xy_color[1]).join(",")})`;if(e.color_temp){const t=d.miredToKelvin(e.color_temp);return t<3e3?"#ffb366":t>5e3?"#cce6ff":"#fff2e6"}return e.effect?"linear-gradient(45deg, #ff0000, #00ff00, #0000ff, #ff0000)":null}validatePreset(e){const t=[];return e.name&&""!==e.name.trim()||t.push("Preset name is required"),e.entities&&0!==e.entities.length||t.push("At least one entity must be selected for each preset"),e.brightness||e.rgb_color||e.color_temp||e.effect||t.push("At least one light setting (brightness, color, or effect) must be configured"),t}validate(e){const t=e,i=[...super.validate(e).errors];return t.presets&&0!==t.presets.length||i.push("At least one preset must be configured"),(t.presets||[]).forEach(((e,t)=>{this.validatePreset(e).forEach((e=>{i.push(`Preset ${t+1}: ${e}`)}))})),t.default_transition_time&&(t.default_transition_time<0||t.default_transition_time>10)&&i.push("Default transition time must be between 0 and 10 seconds"),"grid"===t.layout&&t.columns&&(t.columns<1||t.columns>6)&&i.push("Grid columns must be between 1 and 6"),{valid:0===i.length,errors:i}}getStyles(){return"\n      .light-module-container {\n        padding: 16px;\n        background: var(--card-background-color);\n        border-radius: 8px;\n      }\n\n      .no-presets-preview {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 32px;\n        color: var(--secondary-text-color);\n        text-align: center;\n      }\n\n      .no-presets-preview ha-icon {\n        font-size: 48px;\n        margin-bottom: 16px;\n        opacity: 0.5;\n      }\n\n      .config-hint {\n        font-size: 12px;\n        opacity: 0.7;\n        margin-top: 8px;\n      }\n\n      .presets-container {\n        /* Base container - specific layout styles applied inline */\n      }\n\n      .presets-container.buttons {\n        /* Flexible button layout - styles applied inline */\n      }\n\n      .presets-container.grid {\n        /* Grid layout - styles applied inline */\n      }\n\n\n      .preset-button-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n      }\n\n      /* Preset button styles - work in both card and editor contexts */\n      .preset-button,\n      .module-preview .preset-button,\n      .light-module-container .preset-button {\n        display: flex !important;\n        align-items: center !important;\n        justify-content: center !important;\n        gap: 8px !important;\n        padding: 12px 16px !important;\n        border-radius: 8px !important;\n        border: none !important;\n        cursor: pointer !important;\n        font-size: 14px !important;\n        font-weight: 500 !important;\n        transition: all 0.2s ease !important;\n        min-height: 48px !important;\n        position: relative !important;\n        overflow: hidden !important;\n        box-sizing: border-box !important;\n      }\n\n      .preset-button ha-icon,\n      .module-preview .preset-button ha-icon,\n      .light-module-container .preset-button ha-icon {\n        font-size: 20px !important;\n      }\n\n      .preset-button.filled,\n      .module-preview .preset-button.filled,\n      .light-module-container .preset-button.filled {\n        border: 2px solid transparent !important;\n      }\n\n      .preset-button.filled:hover:not(.disabled),\n      .module-preview .preset-button.filled:hover:not(.disabled),\n      .light-module-container .preset-button.filled:hover:not(.disabled) {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;\n        filter: brightness(1.1) !important;\n      }\n\n      .preset-button.outlined,\n      .module-preview .preset-button.outlined,\n      .light-module-container .preset-button.outlined {\n        background: transparent !important;\n        border: 2px solid !important;\n      }\n\n      .preset-button.outlined:hover:not(.disabled),\n      .module-preview .preset-button.outlined:hover:not(.disabled),\n      .light-module-container .preset-button.outlined:hover:not(.disabled) {\n        filter: brightness(1.1) !important;\n      }\n\n      .preset-button.text,\n      .module-preview .preset-button.text,\n      .light-module-container .preset-button.text {\n        background: transparent !important;\n        border: 2px solid transparent !important;\n      }\n\n      .preset-button.text:hover:not(.disabled),\n      .module-preview .preset-button.text:hover:not(.disabled),\n      .light-module-container .preset-button.text:hover:not(.disabled) {\n        background: rgba(var(--rgb-primary-color), 0.1) !important;\n      }\n\n      .preset-button.disabled,\n      .module-preview .preset-button.disabled,\n      .light-module-container .preset-button.disabled {\n        opacity: 0.5 !important;\n        cursor: not-allowed !important;\n      }\n\n      .preset-label {\n        font-size: 13px;\n        font-weight: 500;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 120px;\n      }\n\n      .preset-name {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        text-align: center;\n        max-width: 80px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      /* Layout-specific styles */\n      .presets-container.icons .preset-button {\n        width: 56px;\n        height: 56px;\n        border-radius: 50%;\n        padding: 0;\n      }\n\n      .presets-container.icons .preset-button ha-icon {\n        font-size: 24px;\n      }\n\n      .presets-container.list .preset-button-container {\n        flex-direction: row;\n        justify-content: flex-start;\n        align-items: center;\n        width: 100%;\n        gap: 12px;\n      }\n\n      .presets-container.list .preset-button {\n        flex: 1;\n        justify-content: flex-start;\n        text-align: left;\n        min-height: 56px;\n      }\n\n      .presets-container.list .preset-name {\n        flex: 1;\n        text-align: left;\n        max-width: none;\n        font-size: 14px;\n        color: var(--primary-text-color);\n      }\n\n      /* Preset editor styles (mimicking dropdown module) */\n      .preset-item {\n        transition: all 0.2s ease;\n        position: relative;\n        cursor: default;\n      }\n\n      .preset-item:hover {\n        background: rgba(var(--rgb-primary-color), 0.05);\n      }\n\n      .preset-item.dragging {\n        opacity: 0.7;\n        transform: rotate(2deg) scale(0.95);\n        box-shadow: 0 8px 16px rgba(0,0,0,0.2);\n        z-index: 1000;\n        position: relative;\n      }\n\n      .preset-header {\n        user-select: none;\n        transition: background-color 0.2s ease;\n      }\n\n      .preset-header:hover {\n        background: rgba(var(--rgb-primary-color), 0.1) !important;\n      }\n\n      .drag-handle {\n        transition: all 0.2s ease;\n      }\n\n      .drag-handle:hover {\n        background: rgba(var(--rgb-primary-color), 0.15) !important;\n        transform: scale(1.1);\n      }\n\n      .drag-handle:active {\n        cursor: grabbing !important;\n        transform: scale(0.95);\n      }\n\n      .expand-caret {\n        transition: transform 0.2s ease !important;\n      }\n\n      .preset-content {\n        transition: all 0.3s ease;\n        overflow: hidden;\n      }\n\n      /* Light control styles */\n      .light-controls-section {\n        background: rgba(var(--rgb-primary-color), 0.02);\n        border-radius: 8px;\n        padding: 16px;\n        border: 1px solid rgba(var(--rgb-primary-color), 0.1);\n      }\n\n      .brightness-control,\n      .color-picker-section,\n      .effects-control {\n        background: var(--card-background-color);\n        border-radius: 6px;\n        padding: 12px;\n        border: 1px solid var(--divider-color);\n      }\n\n      /* Brightness slider styling */\n      .brightness-slider {\n        flex: 1;\n        height: 6px;\n        background: linear-gradient(to right, #333, #fff);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        cursor: pointer;\n      }\n\n      .brightness-slider::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        height: 20px;\n        width: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        border: 2px solid white;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.2);\n      }\n\n      .brightness-slider::-moz-range-thumb {\n        height: 20px;\n        width: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        border: 2px solid white;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.2);\n      }\n\n      .color-preview {\n        margin-top: 8px;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n      }\n\n      .color-preview div {\n        width: 32px;\n        height: 32px;\n        border-radius: 4px;\n        border: 1px solid var(--divider-color);\n      }\n\n      /* Responsive design */\n      @media (max-width: 600px) {\n        .presets-container.buttons,\n        .presets-container.icons {\n          justify-content: center;\n        }\n\n        .presets-container.grid {\n          grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n        }\n\n        .preset-button {\n          min-width: 80px;\n        }\n\n        .preset-label {\n          max-width: 70px;\n        }\n      }\n\n      /* Animation for smooth transitions */\n      .preset-button {\n        transition: all 0.2s ease;\n      }\n\n      .preset-button:active:not(.disabled) {\n        transform: scale(0.95);\n      }\n\n      .presets-container {\n        animation: fadeIn 0.3s ease-out;\n      }\n\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n          transform: translateY(10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n\n      /* Visual customization styles */\n      .visual-customization {\n        background: rgba(var(--rgb-primary-color), 0.02);\n        border-radius: 8px;\n        padding: 16px;\n        border: 1px solid rgba(var(--rgb-primary-color), 0.1);\n      }\n\n      .smart-color-toggles {\n        background: rgba(var(--rgb-primary-color), 0.05);\n        border-radius: 6px;\n        padding: 12px;\n        margin-bottom: 16px;\n      }\n\n      .custom-colors {\n        display: flex;\n        flex-direction: column;\n        gap: 16px;\n      }\n\n      .color-field {\n        background: var(--card-background-color);\n        border-radius: 6px;\n        padding: 12px;\n        border: 1px solid var(--divider-color);\n      }\n\n      .color-field.disabled {\n        background: var(--secondary-background-color);\n        opacity: 0.7;\n      }\n\n      /* Gap control styles (from horizontal module) */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Responsive design for color fields */\n      @media (max-width: 600px) {\n        .custom-colors {\n          gap: 12px;\n        }\n\n        .presets-container.buttons {\n          justify-content: center;\n        }\n\n        .gap-control-container {\n          flex-direction: column;\n          align-items: stretch;\n          gap: 8px;\n        }\n\n        .gap-input {\n          width: 100% !important;\n          max-width: 100% !important;\n          min-width: 100% !important;\n        }\n      }\n    "}}},3057:(e,t,i)=>{i.d(t,{formatEntityState:()=>a});var o=i(9811);const a=(e,t,i)=>{var a,n;const r=!1!==(null==i?void 0:i.includeUnit),s=null===(a=null==e?void 0:e.states)||void 0===a?void 0:a[t];if(!e||!s)return void 0!==(null==i?void 0:i.state)?String(i.state):"";const l=e.formatEntityState,d=l?l(s,void 0!==(null==i?void 0:i.state)?String(i.state):void 0):(0,o.computeStateDisplay)(e.localize,s,e.locale,null==i?void 0:i.state);if(r)return d;const c=null===(n=s.attributes)||void 0===n?void 0:n.unit_of_measurement;if(c&&"string"==typeof d){const e=` ${c}`;if(d.endsWith(e))return d.slice(0,-e.length)}return d}},3063:(e,t,i)=>{i.d(t,{T:()=>n});var o=i(5183),a=i(8914);i(6768);class n{static render(e,t,i){const n=e.design||{},r=t=>{const o=Object.assign({},n);Object.keys(t).forEach((e=>{const i=t[e];""===i||null==i||"string"==typeof i&&""===i.trim()?delete o[e]:o[e]=i}));const a={design:o};if(Object.prototype.hasOwnProperty.call(t,"background_color")&&(a.background_color=t.background_color||void 0,a.background_color||delete a.background_color),Object.prototype.hasOwnProperty.call(t,"font_size")){const e=t.font_size;""===e||null==e||"string"==typeof e&&""===e.trim()?(a.font_size=void 0,delete a.font_size):a.font_size=e}t.hasOwnProperty("font_size")&&console.log(" GlobalDesignTab: Font size update",{originalUpdates:t,combinedUpdates:a,fontSizeValue:t.font_size,designObject:a.design}),i(a),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-design-update",{detail:{moduleId:e.id,updates:t}}))};return o.qy`
      <div class="uc-global-design-tab">
        ${a.Q.injectCleanFormStyles()}

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <!-- Padding Section with Direct Inputs to Avoid HA Form Validation Issues -->
          <div class="form-field-container">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Padding
            </div>
            <div
              class="field-description"
              style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
            >
              Spacing inside the module container (top/right/bottom/left).
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Top</label
                >
                <input
                  type="text"
                  .value=${n.padding_top||""}
                  @input=${e=>r({padding_top:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Right</label
                >
                <input
                  type="text"
                  .value=${n.padding_right||""}
                  @input=${e=>r({padding_right:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Bottom</label
                >
                <input
                  type="text"
                  .value=${n.padding_bottom||""}
                  @input=${e=>r({padding_bottom:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Left</label
                >
                <input
                  type="text"
                  .value=${n.padding_left||""}
                  @input=${e=>r({padding_left:e.target.value})}
                  placeholder="0px, 1rem, 5%"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <!-- Background Color with Ultra Color Picker -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Background Color
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
            >
              Background color for the module container.
            </div>
            <ultra-color-picker
              .value=${n.background_color||""}
              .defaultValue=${"transparent"}
              .hass=${t}
              @value-changed=${e=>r({background_color:e.detail.value})}
            ></ultra-color-picker>
          </div>

          <!-- Background Image Settings -->
          ${a.Q.renderField("Background Image","Background image for the module container.",t,{background_image_type:n.background_image_type||"none",background_image:n.background_image||"",background_image_entity:n.background_image_entity||"",background_size:n.background_size||"cover",background_repeat:n.background_repeat||"no-repeat",background_position:n.background_position||"center center"},[a.Q.createSchemaItem("background_image_type",{select:{options:[{value:"none",label:"None"},{value:"upload",label:"Upload/Local"},{value:"url",label:"URL"},{value:"entity",label:"Entity"}],mode:"dropdown"}}),a.Q.createSchemaItem("background_image",{text:{}}),a.Q.createSchemaItem("background_image_entity",{entity:{}}),a.Q.createSchemaItem("background_size",{select:{options:[{value:"cover",label:"Cover"},{value:"contain",label:"Contain"},{value:"auto",label:"Auto"},{value:"custom",label:"Custom"}],mode:"dropdown"}}),a.Q.createSchemaItem("background_repeat",{select:{options:[{value:"no-repeat",label:"No Repeat"},{value:"repeat",label:"Repeat"},{value:"repeat-x",label:"Repeat X"},{value:"repeat-y",label:"Repeat Y"}],mode:"dropdown"}}),a.Q.createSchemaItem("background_position",{select:{options:[{value:"left top",label:"Left Top"},{value:"left center",label:"Left Center"},{value:"left bottom",label:"Left Bottom"},{value:"center top",label:"Center Top"},{value:"center center",label:"Center"},{value:"center bottom",label:"Center Bottom"},{value:"right top",label:"Right Top"},{value:"right center",label:"Right Center"},{value:"right bottom",label:"Right Bottom"}],mode:"dropdown"}})],(e=>r(e.detail.value)))}
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <!-- Sizes Section with Direct Inputs -->
          <div class="form-field-container">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Sizes
            </div>
            <div
              class="field-description"
              style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
            >
              Control the dimensions and size constraints of the module container.
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Width</label
                >
                <input
                  type="text"
                  .value=${n.width||""}
                  @input=${e=>r({width:e.target.value})}
                  placeholder="auto, 200px, 100%, 14rem, 10vw"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Height</label
                >
                <input
                  type="text"
                  .value=${n.height||""}
                  @input=${e=>r({height:e.target.value})}
                  placeholder="auto, 200px, 15rem, 10vh"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Max Width</label
                >
                <input
                  type="text"
                  .value=${n.max_width||""}
                  @input=${e=>r({max_width:e.target.value})}
                  placeholder="200px, 100%, 14rem, 10vw"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Max Height</label
                >
                <input
                  type="text"
                  .value=${n.max_height||""}
                  @input=${e=>r({max_height:e.target.value})}
                  placeholder="200px, 15rem, 10vh"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Min Width</label
                >
                <input
                  type="text"
                  .value=${n.min_width||""}
                  @input=${e=>r({min_width:e.target.value})}
                  placeholder="200px, 100%, 14rem, 10vw"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Min Height</label
                >
                <input
                  type="text"
                  .value=${n.min_height||""}
                  @input=${e=>r({min_height:e.target.value})}
                  placeholder="200px, 15rem, 10vh"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px;"
        >
          <!-- Typography Section with Direct Inputs to Avoid HA Form Validation Issues -->
          <div class="form-field-container">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              Typography
            </div>
            <div
              class="field-description"
              style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
            >
              Text color and font properties.
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Color</label
                >
                <input
                  type="text"
                  .value=${n.color||""}
                  @input=${e=>r({color:e.target.value})}
                  placeholder="var(--primary-text-color), #fff, red"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Font Size</label
                >
                <input
                  type="text"
                  .value=${n.font_size||""}
                  @input=${e=>r({font_size:e.target.value})}
                  placeholder="16px, 1.2rem, 1.5em"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Font Family</label
                >
                <input
                  type="text"
                  .value=${n.font_family||""}
                  @input=${e=>r({font_family:e.target.value})}
                  placeholder="Arial, sans-serif"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
              <div>
                <label
                  style="font-size: 12px; color: var(--secondary-text-color); margin-bottom: 4px; display: block;"
                  >Font Weight</label
                >
                <input
                  type="text"
                  .value=${n.font_weight||""}
                  @input=${e=>r({font_weight:e.target.value})}
                  placeholder="400, 600, bold"
                  style="width: 100%; padding: 8px; border: 1px solid var(--divider-color); border-radius: 4px; background: var(--card-background-color); color: var(--primary-text-color);"
                />
              </div>
            </div>
          </div>
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;"
        >
          ${a.Q.renderField("Border","Container border style.",t,{border_style:n.border_style||"none",border_width:n.border_width||0,border_color:n.border_color||"var(--divider-color)",border_radius:n.border_radius||0},[a.Q.createSchemaItem("border_style",{select:{options:[{value:"none",label:"None"},{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"}]}}),a.Q.createSchemaItem("border_width",{number:{min:0,max:20}}),a.Q.createSchemaItem("border_color",{text:{}}),a.Q.createSchemaItem("border_radius",{number:{min:0,max:64}})],(e=>r(e.detail.value)))}
        </div>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;"
        >
          ${a.Q.renderField("Shadow","Box shadow properties.",t,{box_shadow_h:n.box_shadow_h||0,box_shadow_v:n.box_shadow_v||0,box_shadow_blur:n.box_shadow_blur||0,box_shadow_spread:n.box_shadow_spread||0,box_shadow_color:n.box_shadow_color||"rgba(0,0,0,0.2)"},[a.Q.createSchemaItem("box_shadow_h",{number:{min:-50,max:50}}),a.Q.createSchemaItem("box_shadow_v",{number:{min:-50,max:50}}),a.Q.createSchemaItem("box_shadow_blur",{number:{min:0,max:200}}),a.Q.createSchemaItem("box_shadow_spread",{number:{min:-50,max:50}}),a.Q.createSchemaItem("box_shadow_color",{text:{}})],(e=>r(e.detail.value)))}
        </div>
      </div>
      ${(()=>{try{const i=e.renderDesignExtensions;if("function"==typeof i)return i(t,(e=>r(e)))}catch(e){}return o.qy``})()}
    `}}},3452:(e,t,i)=>{i.d(t,{FB:()=>f});var o=i(5183),a=i(4276),n=i(9247),r=i(5201);const{I:s}=n.ge,l=()=>document.createComment(""),d=(e,t,i)=>{const o=e._$AA.parentNode,a=void 0===t?e._$AB:t._$AA;if(void 0===i){const t=o.insertBefore(l(),a),n=o.insertBefore(l(),a);i=new s(t,n,e,e.options)}else{const t=i._$AB.nextSibling,n=i._$AM,r=n!==e;if(r){let t;i._$AQ?.(e),i._$AM=e,void 0!==i._$AP&&(t=e._$AU)!==n._$AU&&i._$AP(t)}if(t!==a||r){let e=i._$AA;for(;e!==t;){const t=e.nextSibling;o.insertBefore(e,a),e=t}}}return i},c=(e,t,i=e)=>(e._$AI(t,i),e),p={},u=e=>{e._$AP?.(!1,!0);let t=e._$AA;const i=e._$AB.nextSibling;for(;t!==i;){const e=t.nextSibling;t.remove(),t=e}},g=(e,t,i)=>{const o=new Map;for(let a=t;a<=i;a++)o.set(e[a],a);return o},m=(0,r.u$)(class extends r.WL{constructor(e){if(super(e),e.type!==r.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,i){let o;void 0===i?i=t:void 0!==t&&(o=t);const a=[],n=[];let r=0;for(const t of e)a[r]=o?o(t,r):r,n[r]=i(t,r),r++;return{values:n,keys:a}}render(e,t,i){return this.dt(e,t,i).values}update(e,[t,i,o]){const a=e._$AH,{values:r,keys:s}=this.dt(t,i,o);if(!Array.isArray(a))return this.ut=s,r;const l=this.ut??=[],m=[];let h,_,v=0,f=a.length-1,b=0,y=r.length-1;for(;v<=f&&b<=y;)if(null===a[v])v++;else if(null===a[f])f--;else if(l[v]===s[b])m[b]=c(a[v],r[b]),v++,b++;else if(l[f]===s[y])m[y]=c(a[f],r[y]),f--,y--;else if(l[v]===s[y])m[y]=c(a[v],r[y]),d(e,m[y+1],a[v]),v++,y--;else if(l[f]===s[b])m[b]=c(a[f],r[b]),d(e,a[v],a[f]),f--,b++;else if(void 0===h&&(h=g(s,b,y),_=g(l,v,f)),h.has(l[v]))if(h.has(l[f])){const t=_.get(s[b]),i=void 0!==t?a[t]:null;if(null===i){const t=d(e,a[v]);c(t,r[b]),m[b]=t}else m[b]=c(i,r[b]),d(e,a[v],i),a[t]=null;b++}else u(a[f]),f--;else u(a[v]),v++;for(;b<=y;){const t=d(e,m[y+1]);c(t,r[b]),m[b++]=t}for(;v<=f;){const e=a[v++];null!==e&&u(e)}return this.ut=s,((e,t=p)=>{e._$AH=t})(e,m),n.c0}});i(6768);var h=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};function _(e,t,i){const o=v(e),a=v(t);return o&&a?(n=Math.round(o.r+(a.r-o.r)*i),r=Math.round(o.g+(a.g-o.g)*i),s=Math.round(o.b+(a.b-o.b)*i),`#${((1<<24)+(n<<16)+(r<<8)+s).toString(16).slice(1)}`):e;var n,r,s}function v(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function f(){return[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}]}let b=4,y=class extends o.WF{constructor(){super(...arguments),this.stops=[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],this.barSize="regular",this.barRadius="round",this.barStyle="flat",this._draggedIndex=null,this._colorPickerOpen=!1,this._colorPickerStopId=null,this._colorPickerCurrentColor="#000000"}render(){const e=[...this.stops].sort(((e,t)=>e.position-t.position));return o.qy`
      <!-- Action Buttons -->
      <div class="buttons-row">
        <button class="add-button" @click=${this._addStop}>
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
          </svg>
          Add Stop
        </button>
        <button class="reset-button" @click=${this._resetStops}>
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
            />
          </svg>
          Reset
        </button>
      </div>

      <!-- Gradient Stops List -->
      <div class="stops-list ${null!==this._draggedIndex?"drag-active":""}">
        ${m(e,(e=>e.id),((t,i)=>this._renderStopItem(t,i,e.length)))}
      </div>

      <!-- Color Picker Popup -->
      ${this._colorPickerOpen?o.qy`
            <div class="color-picker-overlay" @click=${this._closeColorPicker}>
              <div class="color-picker-popup" @click=${e=>e.stopPropagation()}>
                <div class="color-picker-header">
                  <h3>Choose Color</h3>
                  <button class="close-btn" @click=${this._closeColorPicker}></button>
                </div>
                <ultra-color-picker
                  .value=${this._colorPickerCurrentColor}
                  .defaultValue=${this._colorPickerCurrentColor}
                  @value-changed=${this._handleColorPickerChange}
                ></ultra-color-picker>
              </div>
            </div>
          `:""}
    `}_renderStopItem(e,t,i){const a=0===e.position||100===e.position,n=this._draggedIndex===t,r=i>2&&!a;return o.qy`
      <div
        class="stop-item ${a?"boundary":""} ${n?"dragging":""}"
        draggable="true"
        @dragstart=${e=>this._handleDragStart(e,t)}
        @dragend=${this._handleDragEnd}
        @dragover=${this._handleDragOver}
        @drop=${e=>this._handleDrop(e,t)}
      >
        <!-- Drag Handle -->
        <div class="drag-handle">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M9 3h2v2H9V3zm4 0h2v2h-2V3zM9 7h2v2H9V7zm4 0h2v2h-2V7zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2z"
            />
          </svg>
        </div>

        <!-- Color Preview & Picker -->
        <div
          class="color-preview color-circle"
          style="background-color: ${e.color}; cursor: pointer;"
          @click=${()=>this._openColorPicker(e.id,e.color)}
        ></div>

        <!-- Percentage Input -->
        <input
          type="number"
          class="percentage-input"
          .value=${e.position.toString()}
          min="0"
          max="100"
          @input=${t=>this._handlePositionChange(e.id,parseFloat(t.target.value)||0)}
          @blur=${this._validateAndSortStops}
        />

        <!-- Stop Info -->
        <div class="stop-info">
          <span>${e.position}%</span>
        </div>

        <!-- Delete Button -->
        <button
          class="delete-button"
          ?disabled=${!r}
          @click=${()=>this._deleteStop(e.id)}
          title=${r?"Delete stop":"Cannot delete boundary stops"}
        >
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
            />
          </svg>
        </button>
      </div>
    `}_addStop(){const e=function(e){if(!e||e.length<2)return{id:"stop-"+b++,position:50,color:"#808080"};const t=[...e].sort(((e,t)=>e.position-t.position));let i=0,o=50,a="#808080";for(let e=0;e<t.length-1;e++){const n=t[e+1].position-t[e].position;n>i&&(i=n,o=t[e].position+n/2,a=_(t[e].color,t[e+1].color,.5))}return{id:"stop-"+b++,position:Math.round(o),color:a}}(this.stops);this.stops=[...this.stops,e],this._notifyChange()}_resetStops(){this.stops=[{id:"1",position:0,color:"#ff0000"},{id:"2",position:50,color:"#ffff00"},{id:"3",position:100,color:"#00ff00"}],b=4,this._notifyChange(),this._dispatchResetEvent()}_deleteStop(e){if(this.stops.length<=2)return;const t=this.stops.find((t=>t.id===e));t&&0!==t.position&&100!==t.position&&(this.stops=this.stops.filter((t=>t.id!==e)),this._notifyChange())}_handleColorChange(e,t){this.stops=this.stops.map((i=>i.id===e?Object.assign(Object.assign({},i),{color:t}):i)),this._notifyChange()}_openColorPicker(e,t){this._colorPickerStopId=e,this._colorPickerCurrentColor=t,this._colorPickerOpen=!0}_closeColorPicker(){this._colorPickerOpen=!1,this._colorPickerStopId=null}_handleColorPickerChange(e){this._colorPickerStopId&&(this._handleColorChange(this._colorPickerStopId,e.detail.value),this._colorPickerCurrentColor=e.detail.value)}_handlePositionChange(e,t){t=Math.max(0,Math.min(100,t)),this.stops=this.stops.map((i=>i.id===e?Object.assign(Object.assign({},i),{position:t}):i)),this.requestUpdate()}_validateAndSortStops(){this.stops=this.stops.map((e=>0===e.position||"1"===e.id&&e.position<50?Object.assign(Object.assign({},e),{position:0}):100===e.position||"3"===e.id&&e.position>50?Object.assign(Object.assign({},e),{position:100}):e)),this._notifyChange()}_notifyChange(){this.dispatchEvent(new CustomEvent("gradient-changed",{detail:{stops:this.stops},bubbles:!0,composed:!0}))}_dispatchResetEvent(){this.dispatchEvent(new CustomEvent("gradient-stop-reset",{bubbles:!0,composed:!0}))}_handleDragStart(e,t){this._draggedIndex=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.toString()))}_handleDragEnd(){this._draggedIndex=null}_handleDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}_handleDrop(e,t){if(e.preventDefault(),null===this._draggedIndex||this._draggedIndex===t)return;const i=[...this.stops].sort(((e,t)=>e.position-t.position)),o=i[this._draggedIndex],a=i[t];this.stops=this.stops.map((e=>e.id===o.id?Object.assign(Object.assign({},e),{position:a.position}):e.id===a.id?Object.assign(Object.assign({},e),{position:o.position}):e)),this._draggedIndex=null,this._notifyChange()}};y.styles=o.AH`
    :host {
      display: block;
      width: 100%;
      font-family: var(--mdc-typography-body1-font-family, Roboto, sans-serif);
    }

    .gradient-preview {
      width: 100%;
      height: 16px;
      border-radius: 8px;
      border: 1px solid var(--divider-color);
      margin-bottom: 16px;
      position: relative;
      overflow: hidden;
      background-color: var(--card-background-color, #1c1c1c);
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .gradient-preview-fill {
      width: 100%;
      height: 100%;
      border-radius: inherit;
      position: relative;
    }

    /* Bar size variants to match actual card bars */
    .gradient-preview.bar-size-thin {
      height: 8px;
      border-radius: 4px;
    }

    .gradient-preview.bar-size-regular {
      height: 16px;
      border-radius: 8px;
    }

    .gradient-preview.bar-size-thick {
      height: 24px;
      border-radius: 12px;
    }

    .gradient-preview.bar-size-thiccc {
      height: 32px;
      border-radius: 16px;
    }

    /* Bar radius variants to match actual card bars */
    .gradient-preview.bar-radius-square {
      border-radius: 0;
    }

    .gradient-preview.bar-radius-round {
      /* Uses default border-radius from size classes */
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-thin {
      border-radius: 2px;
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-regular {
      border-radius: 4px;
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-thick {
      border-radius: 6px;
    }

    .gradient-preview.bar-radius-rounded-square.bar-size-thiccc {
      border-radius: 8px;
    }

    .buttons-row {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }

    .add-button,
    .reset-button {
      flex: 1;
      padding: 12px 16px;
      border: none;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.2s ease;
    }

    .add-button {
      background: var(--primary-color);
      color: var(--text-primary-color);
    }

    .add-button:hover {
      background: var(--primary-color);
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .reset-button {
      background: var(--secondary-color, #666);
      color: white;
    }

    .reset-button:hover {
      background: var(--secondary-color, #666);
      opacity: 0.9;
      transform: translateY(-1px);
    }

    .stops-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .stop-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--card-background-color, #1c1c1c);
      border: 1px solid var(--divider-color);
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .stop-item:hover {
      border-color: var(--primary-color);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .stop-item.dragging {
      opacity: 0.7;
      transform: scale(1.02);
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .drag-handle {
      width: 20px;
      height: 20px;
      cursor: grab;
      color: var(--secondary-text-color);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .drag-handle:hover {
      color: var(--primary-text-color);
    }

    .drag-handle:active {
      cursor: grabbing;
    }

    .color-preview {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid var(--divider-color);
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .color-preview:hover {
      border-color: var(--primary-color);
      transform: scale(1.1);
    }

    .percentage-input {
      width: 80px;
      padding: 8px 12px;
      border: 1px solid var(--divider-color);
      border-radius: 6px;
      background: var(--secondary-background-color);
      color: var(--primary-text-color);
      text-align: center;
      font-weight: 500;
    }

    .percentage-input:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
    }

    .stop-info {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--secondary-text-color);
      font-size: 14px;
    }

    .delete-button {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      cursor: pointer;
      color: var(--secondary-text-color);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .delete-button:hover {
      background: rgba(var(--rgb-error-color, 244, 67, 54), 0.1);
      color: var(--error-color, #f44336);
    }

    .delete-button:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .stop-item.boundary .delete-button {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .icon {
      width: 18px;
      height: 18px;
    }

    /* Drag and drop styling */
    .stops-list.drag-active .stop-item:not(.dragging) {
      transition: transform 0.2s ease;
    }

    /* Color Circle Styling */
    .color-circle {
      border: 3px solid var(--divider-color);
      transition: all 0.2s ease;
    }

    .color-circle:hover {
      border-color: var(--primary-color);
      transform: scale(1.15);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    /* Color Picker Popup */
    .color-picker-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(2px);
    }

    .color-picker-popup {
      background: var(--card-background-color);
      border-radius: 12px;
      padding: 24px;
      max-width: 400px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border: 1px solid var(--divider-color);
    }

    .color-picker-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--divider-color);
    }

    .color-picker-header h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: var(--primary-text-color);
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--secondary-text-color);
      padding: 4px;
      border-radius: 4px;
      transition: all 0.2s ease;
    }

    .close-btn:hover {
      background: var(--divider-color);
      color: var(--primary-text-color);
    }
  `,h([(0,a.MZ)({type:Array})],y.prototype,"stops",void 0),h([(0,a.MZ)({type:String})],y.prototype,"barSize",void 0),h([(0,a.MZ)({type:String})],y.prototype,"barRadius",void 0),h([(0,a.MZ)({type:String})],y.prototype,"barStyle",void 0),h([(0,a.wk)()],y.prototype,"_draggedIndex",void 0),h([(0,a.wk)()],y.prototype,"_colorPickerOpen",void 0),h([(0,a.wk)()],y.prototype,"_colorPickerStopId",void 0),h([(0,a.wk)()],y.prototype,"_colorPickerCurrentColor",void 0),y=h([(0,a.EM)("uc-gradient-editor")],y)},4002:(e,t,i)=>{i.d(t,{oD:()=>o.oD}),i(866);var o=i(7593);i(4504),i(278),i(884),i(5649),i(4260),i(794),i(1866),i(4790),i(6256),i(2701),i(6101),i(5863),i(696),i(1394),i(1522),i(2929),i(6682),i(927),i(9643)},4260:(e,t,i)=>{i.d(t,{Q:()=>m});var o=i(5183),a=i(866),n=i(8914),r=i(9662),s=i(2371),l=i(796),d=(i(6768),i(3452)),c=i(3057),p=i(4345),u=i(7987),g=i(456);class m extends a.m{constructor(){super(...arguments),this.metadata={type:"bar",title:"Bars",description:"Progress bars for values",author:"WJD Designs",version:"1.0.0",icon:"mdi:chart-bar",category:"data",tags:["bar","progress","chart","value","sensor"]}}createDefault(e,t){const i=this.findSuitableBatterySensor(t);return{id:e||this.generateId("bar"),type:"bar",entity:i||"",percentage_type:"entity",percentage_entity:"",percentage_attribute_entity:"",percentage_attribute_name:"",percentage_current_entity:"",percentage_total_entity:"",percentage_template:"",height:20,bar_direction:"left-to-right",bar_size:"medium",bar_radius:"round",bar_style:"flat",bar_width:100,bar_alignment:"center",border_radius:10,label_alignment:"space-between",show_percentage:!0,show_value:!1,percentage_text_size:14,percentage_text_alignment:"center",value_position:"inside",left_title:"",left_entity:"",left_condition_type:"none",left_condition_entity:"",left_condition_state:"",left_template_mode:!1,left_template:"",left_title_size:14,left_value_size:14,left_title_color:"",left_value_color:"",left_enabled:!1,right_title:"",right_entity:"",right_enabled:!1,right_condition_type:"none",right_condition_entity:"",right_condition_state:"",right_template_mode:!1,right_template:"",right_title_size:14,right_value_size:14,right_title_color:"",right_value_color:"",bar_color:"",bar_background_color:"",bar_border_color:"var(--divider-color)",percentage_text_color:"",dot_color:"",use_gradient:!1,gradient_display_mode:"full",gradient_stops:(0,d.FB)(),limit_entity:"",limit_color:"",animation:!0,template_mode:!1,template:"",bar_animation_enabled:!1,bar_animation_entity:"",bar_animation_trigger_type:"state",bar_animation_attribute:"",bar_animation_value:"",bar_animation_type:"none",bar_animation_override_entity:"",bar_animation_override_trigger_type:"state",bar_animation_override_attribute:"",bar_animation_override_value:"",bar_animation_override_type:"none",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderLogicTab(e,t,i,o){return s.X.render(e,t,(e=>o(e)))}findSuitableBatterySensor(e){if(!e||!e.states)return"";const t=["battery_level","battery","charge","power_level","fuel_level","energy"],i=["battery","energy","power"],o=["sensor","binary_sensor"],a=[];return Object.keys(e.states).forEach((n=>{const r=e.states[n],s=n.split(".")[0];if(!o.includes(s))return;if("binary_sensor"===s)return;const l=r.attributes||{},d=l.friendly_name||n,c=l.device_class,p=l.unit_of_measurement,u=parseFloat(r.state);if(isNaN(u)||u<0||u>100)return;if("unavailable"===r.state||"unknown"===r.state)return;let g=0;i.includes(c)&&(g+=100),"%"===p&&(g+=80),t.forEach((e=>{n.toLowerCase().includes(e)&&(g+=50)})),t.forEach((e=>{d.toLowerCase().includes(e)&&(g+=40)})),n.includes("battery")&&"%"===p&&(g+=60),(n.includes("phone")||n.includes("mobile")||n.includes("device"))&&(n.includes("battery")||"battery"===c)&&(g+=30),g>0&&a.push({entity:n,score:g,friendlyName:d})})),a.length>0?(a.sort(((e,t)=>t.score-e.score)),a[0].entity):""}renderGeneralTab(e,t,i,a){var r,s,l,c,p,u;const m=e,h=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en",_=[this.selectField("percentage_type",[{value:"entity",label:(0,g.kg)("editor.bar.perc_type.entity",h,"Entity (0-100)")},{value:"attribute",label:(0,g.kg)("editor.bar.perc_type.attribute",h,"Entity Attribute")},{value:"difference",label:(0,g.kg)("editor.bar.perc_type.difference",h,"Difference")},{value:"template",label:(0,g.kg)("editor.bar.perc_type.template",h,"Template")}])];return o.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Bar Settings -->
        ${this.renderSettingsSection((0,g.kg)("editor.bar.bar_settings.title",h,"Bar Settings"),(0,g.kg)("editor.bar.bar_settings.desc",h,"Configure how the bar percentage is calculated and displayed."),[])}
        <div class="field-group percentage-type-group" style="margin-top: -16px; margin-bottom: 16px;">
          ${this.renderFieldSection((0,g.kg)("editor.bar.percentage_type.title",h,"Percentage Type"),(0,g.kg)("editor.bar.percentage_type.desc",h,"Choose how the bar percentage is calculated"),t,{percentage_type:m.percentage_type||"entity"},_,(e=>{var t;const i=null===(t=e.detail.value)||void 0===t?void 0:t.percentage_type;void 0!==i&&i!==m.percentage_type&&a({percentage_type:i})}))}
        </div>

          <!-- Entity Attribute Fields -->
          ${"attribute"===m.percentage_type?this.renderConditionalFieldsGroup((0,g.kg)("editor.bar.attr_config.title",h,"Entity Attribute Configuration"),o.qy`
                    ${this.renderSettingsSection((0,g.kg)("editor.bar.attr_config.title",h,"Entity Attribute Configuration"),(0,g.kg)("editor.bar.attr_config.desc",h,"Configure entity attribute settings"),[{title:(0,g.kg)("editor.bar.attr_config.attribute_entity",h,"Attribute Entity"),description:(0,g.kg)("editor.bar.attr_config.attribute_entity_desc",h,"Select the entity that contains the attribute with the percentage value"),hass:t,data:{percentage_attribute_entity:m.percentage_attribute_entity||""},schema:[this.entityField("percentage_attribute_entity")],onChange:e=>a({percentage_attribute_entity:e.detail.value.percentage_attribute_entity})},{title:(0,g.kg)("editor.bar.attr_config.attribute_name",h,"Attribute Name"),description:(0,g.kg)("editor.bar.attr_config.attribute_name_desc",h,'Enter the name of the attribute that contains the percentage value (e.g., "battery_level")'),hass:t,data:{percentage_attribute_name:m.percentage_attribute_name||""},schema:[this.textField("percentage_attribute_name")],onChange:e=>a({percentage_attribute_name:e.detail.value.percentage_attribute_name})}])}
                  `):""}

          <!-- Difference Fields -->
          ${"difference"===m.percentage_type?this.renderConditionalFieldsGroup((0,g.kg)("editor.bar.diff_config.title",h,"Difference Calculation Configuration"),o.qy`
                    ${this.renderSettingsSection((0,g.kg)("editor.bar.diff_config.title",h,"Difference Calculation Configuration"),(0,g.kg)("editor.bar.diff_config.desc",h,"Configure difference calculation settings"),[{title:(0,g.kg)("editor.bar.diff_config.current_entity",h,"Current Value Entity"),description:(0,g.kg)("editor.bar.diff_config.current_entity_desc",h,"Entity representing the current/used amount (e.g., fuel used, battery consumed)"),hass:t,data:{percentage_current_entity:m.percentage_current_entity||""},schema:[this.entityField("percentage_current_entity")],onChange:e=>a({percentage_current_entity:e.detail.value.percentage_current_entity})},{title:(0,g.kg)("editor.bar.diff_config.total_entity",h,"Total Value Entity"),description:(0,g.kg)("editor.bar.diff_config.total_entity_desc",h,"Entity representing the total/maximum amount (e.g., fuel capacity, battery capacity)"),hass:t,data:{percentage_total_entity:m.percentage_total_entity||""},schema:[this.entityField("percentage_total_entity")],onChange:e=>a({percentage_total_entity:e.detail.value.percentage_total_entity})}])}
                  `):""}

          <!-- Template Field -->
          ${"template"===m.percentage_type?this.renderConditionalFieldsGroup((0,g.kg)("editor.bar.template_config.title",h,"Template Configuration"),o.qy`
                    ${this.renderSettingsSection((0,g.kg)("editor.bar.template_config.title",h,"Template Configuration"),(0,g.kg)("editor.bar.template_config.desc",h,"Configure template settings"),[{title:(0,g.kg)("editor.bar.template_config.percentage_template",h,"Percentage Template"),description:(0,g.kg)("editor.bar.template_config.percentage_template_desc",h,"Enter a Jinja2 template that returns a number between 0-100 for the percentage. Example: {{ (states('sensor.battery_level') | float) * 100 }}"),hass:t,data:m,schema:[this.textField("percentage_template",!0)],onChange:e=>a({percentage_template:e.detail.value.percentage_template})}])}
                  `):""}

          <!-- Bar Percentage Entity -->
          <div style="margin-top: 24px;">
            ${n.Q.renderField((0,g.kg)("editor.bar.entity.title",h,"Bar Percentage Entity"),m.entity?(0,g.kg)("editor.bar.entity.desc_present",h,"The entity that provides the percentage value for the bar."):(0,g.kg)("editor.bar.entity.desc_empty",h,"Select an entity that provides a percentage value (0-100). Battery sensors are ideal for bars."),t,{entity:m.entity||""},[n.Q.createSchemaItem("entity",{entity:{filter:[{domain:"sensor"},{domain:"input_number"}]}})],(e=>a({entity:e.detail.value.entity})))}
            ${m.entity?"":o.qy`
                    <div
                      style="color: var(--warning-color); font-size: 12px; margin-top: 4px; font-style: italic;"
                    >
                      <ha-icon
                        icon="mdi:information-outline"
                        style="font-size: 14px; margin-right: 4px;"
                      ></ha-icon>
                      ${(0,g.kg)("editor.bar.entity.no_entity_warning",h,"No entity selected - Please choose a sensor with values between 0-100")}
                    </div>
                  `}
          </div>

          <!-- Limit Value Entity -->
          <div style="margin-top: 24px;">
            ${n.Q.renderField((0,g.kg)("editor.bar.limit_entity.title",h,"Limit Value Entity (optional)"),(0,g.kg)("editor.bar.limit_entity.desc",h,"Optional: Add a vertical indicator line on the bar (e.g. charge limit for EV battery)."),t,{limit_entity:m.limit_entity||""},[n.Q.createSchemaItem("limit_entity",{entity:{}})],(e=>a({limit_entity:e.detail.value.limit_entity})))}
          </div>
        </div>

        <!-- Bar Appearance Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,g.kg)("editor.bar.appearance.title",h,"Bar Appearance")}
          </div>

          <!-- Bar Style -->
          <div class="field-group" style="margin-bottom: 16px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 4px;"
            >
              ${(0,g.kg)("editor.bar.appearance.style",h,"Bar Style")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
            >
              ${(0,g.kg)("editor.bar.appearance.style_desc",h,"Choose the visual style of the progress bar.")}
            </div>
            ${this.renderUcForm(t,{bar_style:m.bar_style||"flat"},[this.selectField("bar_style",[{value:"flat",label:(0,g.kg)("editor.bar.appearance.style_flat",h,"Flat (Default)")},{value:"glossy",label:(0,g.kg)("editor.bar.appearance.style_glossy",h,"Glossy")},{value:"embossed",label:(0,g.kg)("editor.bar.appearance.style_embossed",h,"Embossed")},{value:"inset",label:(0,g.kg)("editor.bar.appearance.style_inset",h,"Inset")},{value:"gradient-overlay",label:(0,g.kg)("editor.bar.appearance.style_gradient",h,"Gradient Overlay")},{value:"neon-glow",label:(0,g.kg)("editor.bar.appearance.style_neon",h,"Neon Glow")},{value:"outline",label:(0,g.kg)("editor.bar.appearance.style_outline",h,"Outline")},{value:"glass",label:(0,g.kg)("editor.bar.appearance.style_glass",h,"Glass")},{value:"metallic",label:(0,g.kg)("editor.bar.appearance.style_metallic",h,"Metallic")},{value:"neumorphic",label:(0,g.kg)("editor.bar.appearance.style_neumorphic",h,"Neumorphic")},{value:"dashed",label:(0,g.kg)("editor.bar.appearance.style_dashed",h,"Dashed")},{value:"dots",label:(0,g.kg)("editor.bar.appearance.style_dots",h,"Dots")},{value:"minimal",label:(0,g.kg)("editor.bar.appearance.style_minimal",h,"Minimal")}])],(e=>{const t=e.detail.value.bar_style;t!==(m.bar_style||"flat")&&(a({bar_style:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
          </div>

          <!-- Bar Fill Direction -->
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important;"
            >
              ${(0,g.kg)("editor.bar.appearance.direction",h,"Fill Direction")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
            >
              ${(0,g.kg)("editor.bar.appearance.direction_desc",h,"Choose which direction the bar fills from as the value increases.")}
            </div>
            <div
              style="display: flex; gap: 8px; justify-content: flex-start; flex-wrap: wrap;"
            >
              <button
                type="button"
                style="padding: 8px 12px; border: 2px solid ${"left-to-right"===(m.bar_direction||"left-to-right")?"var(--primary-color)":"var(--divider-color)"}; background: ${"left-to-right"===(m.bar_direction||"left-to-right")?"var(--primary-color)":"transparent"}; color: ${"left-to-right"===(m.bar_direction||"left-to-right")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                @click=${()=>a({bar_direction:"left-to-right"})}
              >
                <ha-icon
                  icon="mdi:arrow-right"
                  style="font-size: 16px; flex-shrink: 0;"
                ></ha-icon>
                <span
                  style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                  >${(0,g.kg)("editor.bar.appearance.left_to_right",h,"Left to Right")}</span
                >
              </button>
              <button
                type="button"
                style="padding: 8px 12px; border: 2px solid ${"right-to-left"===(m.bar_direction||"left-to-right")?"var(--primary-color)":"var(--divider-color)"}; background: ${"right-to-left"===(m.bar_direction||"left-to-right")?"var(--primary-color)":"transparent"}; color: ${"right-to-left"===(m.bar_direction||"left-to-right")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                @click=${()=>a({bar_direction:"right-to-left"})}
              >
                <ha-icon
                  icon="mdi:arrow-left"
                  style="font-size: 16px; flex-shrink: 0;"
                ></ha-icon>
                <span
                  style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                  >${(0,g.kg)("editor.bar.appearance.right_to_left",h,"Right to Left")}</span
                >
              </button>
            </div>
          </div>

          <!-- Bar Height -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title">${(0,g.kg)("editor.bar.appearance.height",h,"Bar Height")}</div>
            <div class="field-description">${(0,g.kg)("editor.bar.appearance.height_desc",h,"Adjust the thickness of the progress bar in pixels.")}</div>
            <style>
              .number-range-control {
                display: flex;
                gap: 8px;
                align-items: center;
              }
              .range-slider {
                flex: 0 0 65%;
              }
            </style>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="8"
                max="60"
                step="2"
                .value="${null!==(s=m.height)&&void 0!==s?s:20}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);a({height:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="8"
                max="60"
                step="2"
                .value="${null!==(l=m.height)&&void 0!==l?l:20}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({height:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||20,o="ArrowUp"===e.key?2:-2,n=Math.max(8,Math.min(60,i+o));a({height:n})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>a({height:20})}
                title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","20px")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>

          <!-- Border Radius -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title">${(0,g.kg)("editor.bar.appearance.border_radius",h,"Border Radius")}</div>
            <div class="field-description">${(0,g.kg)("editor.bar.appearance.border_radius_desc",h,"Control the rounded corners of the bar.")}</div>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="0"
                max="50"
                step="1"
                .value="${null!==(c=m.border_radius)&&void 0!==c?c:10}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);a({border_radius:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="0"
                max="50"
                step="1"
                .value="${null!==(p=m.border_radius)&&void 0!==p?p:10}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({border_radius:i})}}
                @keydown=${e=>{var t;if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const i=e.target,o=null!==(t=parseInt(i.value))&&void 0!==t?t:10,n="ArrowUp"===e.key?1:-1,r=Math.max(0,Math.min(50,o+n));a({border_radius:r})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>a({border_radius:10})}
                title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","10")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>

          <!-- Bar Width -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title">${(0,g.kg)("editor.bar.appearance.width",h,"Bar Width")}</div>
            <div class="field-description">
              ${(0,g.kg)("editor.bar.appearance.width_desc",h,"Set the width of the bar as a percentage of the container.")}
            </div>
            <div class="number-range-control">
              <input
                type="range"
                class="range-slider"
                min="10"
                max="100"
                step="5"
                .value="${m.bar_width||100}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);a({bar_width:i})}}
              />
              <input
                type="number"
                class="range-input"
                min="10"
                max="100"
                step="5"
                .value="${m.bar_width||100}"
                @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({bar_width:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||100,o="ArrowUp"===e.key?5:-5,n=Math.max(10,Math.min(100,i+o));a({bar_width:n})}}}
              />
              <button
                class="range-reset-btn"
                @click=${()=>a({bar_width:100})}
                title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","100")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>

          <!-- Bar Alignment with Icons -->
          ${(m.bar_width||100)<100?o.qy`
                  <div class="field-group" style="margin-bottom: 16px;">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important;"
                    >
                      ${(0,g.kg)("editor.bar.appearance.alignment",h,"Bar Alignment")}
                    </div>
                    <div
                      class="field-description"
                      style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                    >
                      ${(0,g.kg)("editor.bar.appearance.alignment_desc",h,"Choose how to align the bar when it's less than 100% width.")}
                    </div>
                    <div
                      style="display: flex; gap: 8px; justify-content: flex-start; flex-wrap: wrap;"
                    >
                      <button
                        type="button"
                        style="padding: 8px 12px; border: 2px solid ${"left"===(m.bar_alignment||"center")?"var(--primary-color)":"var(--divider-color)"}; background: ${"left"===(m.bar_alignment||"center")?"var(--primary-color)":"transparent"}; color: ${"left"===(m.bar_alignment||"center")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                        @click=${()=>a({bar_alignment:"left"})}
                      >
                        <ha-icon
                          icon="mdi:format-align-left"
                          style="font-size: 16px; flex-shrink: 0;"
                        ></ha-icon>
                        <span
                          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                          >${(0,g.kg)("editor.common.left",h,"Left")}</span
                        >
                      </button>
                      <button
                        type="button"
                        style="padding: 8px 12px; border: 2px solid ${"center"===(m.bar_alignment||"center")?"var(--primary-color)":"var(--divider-color)"}; background: ${"center"===(m.bar_alignment||"center")?"var(--primary-color)":"transparent"}; color: ${"center"===(m.bar_alignment||"center")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                        @click=${()=>a({bar_alignment:"center"})}
                      >
                        <ha-icon
                          icon="mdi:format-align-center"
                          style="font-size: 16px; flex-shrink: 0;"
                        ></ha-icon>
                        <span
                          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                          >${(0,g.kg)("editor.common.center",h,"Center")}</span
                        >
                      </button>
                      <button
                        type="button"
                        style="padding: 8px 12px; border: 2px solid ${"right"===(m.bar_alignment||"center")?"var(--primary-color)":"var(--divider-color)"}; background: ${"right"===(m.bar_alignment||"center")?"var(--primary-color)":"transparent"}; color: ${"right"===(m.bar_alignment||"center")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                        @click=${()=>a({bar_alignment:"right"})}
                      >
                        <ha-icon
                          icon="mdi:format-align-right"
                          style="font-size: 16px; flex-shrink: 0;"
                        ></ha-icon>
                        <span
                          style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                          >${(0,g.kg)("editor.common.right",h,"Right")}</span
                        >
                      </button>
                    </div>
                  </div>
                `:""}

          <!-- Label Alignment -->
          ${m.left_enabled||m.right_enabled?o.qy`
                  <div class="field-group">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important;"
                    >
                      ${(0,g.kg)("editor.bar.labels.alignment",h,"Label Alignment")}
                    </div>
                    <div
                      class="field-description"
                      style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                    >
                      ${(0,g.kg)("editor.bar.labels.alignment_desc",h,"Control how the left and right side labels are positioned.")}
                    </div>
                    ${this.renderUcForm(t,{label_alignment:m.label_alignment||"space-between"},[this.selectField("label_alignment",[{value:"left",label:(0,g.kg)("editor.common.left",h,"Left")},{value:"center",label:(0,g.kg)("editor.common.center",h,"Center")},{value:"right",label:(0,g.kg)("editor.common.right",h,"Right")},{value:"space-between",label:(0,g.kg)("editor.common.space_between",h,"Space Between")}])],(e=>{const t=e.detail.value.label_alignment;t!==(m.label_alignment||"space-between")&&(a({label_alignment:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                  </div>
                `:""}
        </div>

        <!-- Percentage Text Display Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;">
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px; margin: 0;"
            >
              ${(0,g.kg)("editor.bar.text_display.title",h,"Text Display")}
            </div>
            <ha-switch
              .checked=${!1!==m.show_percentage}
              @change=${e=>a({show_percentage:e.target.checked})}
            ></ha-switch>
          </div>
          <div
            class="field-description"
            style="font-size: 13px; font-weight: 400; margin-bottom: 16px;"
          >
            ${(0,g.kg)("editor.bar.text_display.desc",h,"Control the visibility and appearance of text values shown directly on the bar. For difference and template modes, you can choose to display raw entity values instead of percentages.")}
          </div>

          

          ${!1!==m.show_percentage?o.qy`
                  <!-- Display Type Toggle - Only show for difference and template types -->
                  ${"difference"===m.percentage_type||"template"===m.percentage_type?o.qy`
                        <div
                          class="field-group"
                          style="margin-bottom: 16px; display: grid !important; grid-template-columns: minmax(0,1fr) auto; align-items: center; column-gap: 12px; width: 100%;"
                        >
                          <div
                            class="field-title"
                            style="font-size: 16px !important; font-weight: 600 !important; margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                          >
                            ${(0,g.kg)("editor.bar.text_display.show_value",h,"Show Value Instead of Percentage")}
                          </div>
                          <ha-switch
                            style="justify-self: end;"
                            .checked=${m.show_value||!1}
                            @change=${e=>a({show_value:e.target.checked})}
                          ></ha-switch>
                        </div>
                        <div
                          class="field-description"
                          style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
                        >
                          ${(0,g.kg)("editor.bar.text_display.show_value_desc",h,'When enabled, shows the actual entity value instead of percentage. Useful for displaying raw sensor values like "45 kWh" instead of "75%".')}
                        </div>
                      `:""}

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.text_display.text_size",h,"Text Size")}
                    </div>
                    <div class="field-description">
                      ${(0,g.kg)("editor.bar.text_display.text_size_desc",h,"Adjust the size of the text displayed on the bar.")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.percentage_text_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);a({percentage_text_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.percentage_text_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({percentage_text_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));a({percentage_text_size:n})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>a({percentage_text_size:14})}
                        title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                  <div class="field-group" style="margin-bottom: 16px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.text_display.text_alignment",h,"Text Alignment")}
                    </div>
                    ${this.renderUcForm(t,{percentage_text_alignment:m.percentage_text_alignment||"center"},[this.selectField("percentage_text_alignment",[{value:"left",label:(0,g.kg)("editor.common.left",h,"Left")},{value:"center",label:(0,g.kg)("editor.common.center",h,"Center")},{value:"right",label:(0,g.kg)("editor.common.right",h,"Right")}])],(e=>{const t=e.detail.value.percentage_text_alignment;t!==(m.percentage_text_alignment||"center")&&(a({percentage_text_alignment:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                  </div>

                  <!-- Text Color -->
                  <div class="field-container" style="margin-bottom: 16px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.colors.text_color",h,"Text Color")}
                    </div>
                    <div class="field-description">
                      ${(0,g.kg)("editor.bar.colors.text_color_desc",h,"Choose the color for the text displayed on the bar.")}
                    </div>
                    <ultra-color-picker
                      style="width: 100%;"
                      .value=${m.percentage_text_color||""}
                      .defaultValue=${"var(--primary-text-color)"}
                      .hass=${t}
                      @value-changed=${e=>a({percentage_text_color:e.detail.value})}
                    ></ultra-color-picker>
                  </div>
                `:""}
        </div>

        <!-- Left Side Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,g.kg)("editor.bar.left.title",h,"Left Side")}
            </div>
            <ha-switch
              .checked=${m.left_enabled||!1}
              @change=${e=>{const t=e.target.checked;a(t?{left_enabled:!0,left_title:m.left_title||"Fuel",left_entity:m.left_entity||"",left_template_mode:m.left_template_mode||!1,left_title_size:m.left_title_size||14,left_value_size:m.left_value_size||14,left_title_color:m.left_title_color||"var(--primary-text-color)",left_value_color:m.left_value_color||"var(--primary-text-color)"}:{left_enabled:!1,left_title:"",left_entity:"",left_template_mode:!1,left_template:""})}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,g.kg)("editor.bar.left.desc",h,"Configure the title and entity value displayed on the left side of the bar. This is useful for showing labels like 'Range' or 'Battery' along with their values.")}
          </div>

          ${m.left_enabled?o.qy`
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{left_title:m.left_title||""}}
                      .schema=${[{name:"left_title",selector:{text:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>a({left_title:e.detail.value.left_title})}
                    ></ha-form>
                  </div>

                  <!-- Left Entity (value source) -->
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{left_entity:m.left_entity||""}}
                      .schema=${[{name:"left_entity",selector:{entity:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>a({left_entity:e.detail.value.left_entity})}
                    ></ha-form>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.left.title_size",h,"Title Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.left_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);a({left_title_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.left_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({left_title_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));a({left_title_size:n})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>a({left_title_size:14})}
                        title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.left.value_size",h,"Value Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.left_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);a({left_value_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.left_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({left_value_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));a({left_value_size:n})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>a({left_value_size:14})}
                        title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                  <!-- Left Template Mode -->
                  <div
                    class="field-group"
                    style="margin-bottom: 8px; display: grid !important; grid-template-columns: minmax(0,1fr) auto; align-items: center; column-gap: 12px; width: 100%;"
                  >
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                    >
                      ${(0,g.kg)("editor.bar.left.template_mode",h,"Template Mode")}
                    </div>
                    <ha-switch
                      style="justify-self: end;"
                      .checked=${m.left_template_mode||!1}
                      @change=${e=>a({left_template_mode:e.target.checked})}
                    ></ha-switch>
                  </div>
                  ${m.left_template_mode?o.qy`
                        <div
                          class="field-description"
                          style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.left.template_desc",h,"Use a template to format the displayed value. Templates use Home Assistant's Jinja2 syntax.")}
                        </div>
                        <div class="field-group" style="margin-bottom: 0;">
                          <ha-form
                            .hass=${t}
                            .data=${{left_template:m.left_template||""}}
                            .schema=${[{name:"left_template",label:(0,g.kg)("editor.bar.left.value_template",h,"Value Template"),description:(0,g.kg)("editor.bar.left.value_template_desc",h,"Template to format the left-side value using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                            .computeLabel=${e=>e.label||e.name}
                            .computeDescription=${e=>e.description||""}
                            @value-changed=${e=>a({left_template:e.detail.value.left_template})}
                          ></ha-form>
                        </div>
                      `:""}
                `:o.qy`
                  <div
                    style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                  >
                    ${(0,g.kg)("editor.bar.left.enable_toggle",h,"Enable the toggle above to configure left side settings")}
                  </div>
                `}
        </div>

        <!-- Right Side Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding-bottom: 0; border-bottom: none;"
          >
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); letter-spacing: 0.5px;"
            >
              ${(0,g.kg)("editor.bar.right.title",h,"Right Side")}
            </div>
            <ha-switch
              .checked=${m.right_enabled||!1}
              @change=${e=>{const t=e.target.checked;a(t?{right_enabled:!0,right_title:m.right_title||"Range",right_entity:m.right_entity||"",right_template_mode:m.right_template_mode||!1,right_title_size:m.right_title_size||14,right_value_size:m.right_value_size||14,right_title_color:m.right_title_color||"var(--primary-text-color)",right_value_color:m.right_value_color||"var(--primary-text-color)"}:{right_enabled:!1,right_title:"",right_entity:"",right_template_mode:!1,right_template:""})}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,g.kg)("editor.bar.right.desc",h,"Configure the title and entity value displayed on the right side of the bar. This is ideal for complementary information like 'Time to Full' or secondary measurements.")}
          </div>

          ${m.right_enabled?o.qy`
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{right_title:m.right_title||""}}
                      .schema=${[{name:"right_title",selector:{text:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>a({right_title:e.detail.value.right_title})}
                    ></ha-form>
                  </div>
                  <div class="field-group" style="margin-bottom: 16px;">
                    <ha-form
                      .hass=${t}
                      .data=${{right_entity:m.right_entity||""}}
                      .schema=${[{name:"right_entity",selector:{entity:{}},label:""}]}
                      .computeLabel=${()=>""}
                      @value-changed=${e=>a({right_entity:e.detail.value.right_entity})}
                    ></ha-form>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.right.title_size",h,"Title Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.right_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);a({right_title_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.right_title_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({right_title_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));a({right_title_size:n})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>a({right_title_size:14})}
                        title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>

                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,g.kg)("editor.bar.right.value_size",h,"Value Size")}
                    </div>
                    <div class="number-range-control">
                      <input
                        type="range"
                        class="range-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.right_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);a({right_value_size:i})}}
                      />
                      <input
                        type="number"
                        class="range-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${m.right_value_size||14}"
                        @input=${e=>{const t=e.target,i=parseInt(t.value);isNaN(i)||a({right_value_size:i})}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=parseInt(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));a({right_value_size:n})}}}
                      />
                      <button
                        class="range-reset-btn"
                        @click=${()=>a({right_value_size:14})}
                        title="${(0,g.kg)("editor.fields.reset_default_value",h,"Reset to default ({value})").replace("{value}","14")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                  <div
                    class="field-group"
                    style="margin-bottom: 8px; display: grid !important; grid-template-columns: minmax(0,1fr) auto; align-items: center; column-gap: 12px; width: 100%;"
                  >
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                    >
                      ${(0,g.kg)("editor.bar.right.template_mode",h,"Template Mode")}
                    </div>
                    <ha-switch
                      style="justify-self: end;"
                      .checked=${m.right_template_mode||!1}
                      @change=${e=>a({right_template_mode:e.target.checked})}
                    ></ha-switch>
                  </div>
                  ${m.right_template_mode?o.qy`
                        <div
                          class="field-description"
                          style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.right.template_desc",h,"Use a template to format the displayed value. Templates use Home Assistant's Jinja2 syntax.")}
                        </div>
                        <div class="field-group" style="margin-bottom: 0;">
                          <ha-form
                            .hass=${t}
                            .data=${{right_template:m.right_template||""}}
                            .schema=${[{name:"right_template",label:(0,g.kg)("editor.bar.right.value_template",h,"Value Template"),description:(0,g.kg)("editor.bar.right.value_template_desc",h,"Template to format the right-side value using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                            .computeLabel=${e=>e.label||e.name}
                            .computeDescription=${e=>e.description||""}
                            @value-changed=${e=>a({right_template:e.detail.value.right_template})}
                          ></ha-form>
                        </div>
                      `:""}
                `:o.qy`
                  <div
                    style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                  >
                    ${(0,g.kg)("editor.bar.right.enable_toggle",h,"Enable the toggle above to configure right side settings")}
                  </div>
                `}
        </div>

        <!-- Colors Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            ${(0,g.kg)("editor.bar.colors.title",h,"Colors")}
          </div>

          
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="colors-grid"
              style="display: grid; grid-template-columns: 1fr; gap: 16px;"
            >
              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,g.kg)("editor.bar.colors.bar_color",h,"Bar Color")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${m.bar_color||""}
                  .defaultValue=${"var(--primary-color)"}
                  .hass=${t}
                  @value-changed=${e=>a({bar_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,g.kg)("editor.bar.colors.background_color",h,"Background Color")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${m.bar_background_color||""}
                  .defaultValue=${"transparent"}
                  .hass=${t}
                  @value-changed=${e=>a({bar_background_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,g.kg)("editor.bar.colors.border_color",h,"Border Color")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${m.bar_border_color||""}
                  .defaultValue=${"var(--divider-color)"}
                  .hass=${t}
                  @value-changed=${e=>a({bar_border_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="color-item">
                <div
                  class="field-title"
                  style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                >
                  ${(0,g.kg)("editor.bar.colors.limit_indicator",h,"Limit Indicator")}
                </div>
                <ultra-color-picker style="width: 100%;"
                  .value=${m.limit_color||""}
                  .defaultValue=${"var(--warning-color)"}
                  .hass=${t}
                  @value-changed=${e=>a({limit_color:e.detail.value})}
                ></ultra-color-picker>
              </div>


              ${"minimal"===m.bar_style?o.qy`
                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.colors.dot_color",h,"Dot Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${m.dot_color||""}
                          .defaultValue=${"var(--primary-color)"}
                          .hass=${t}
                          @value-changed=${e=>a({dot_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>
                    `:""}
            </div>
          </div>

          <!-- Left Side Colors -->
          ${m.left_enabled?o.qy`
                  <div class="field-group" style="margin-bottom: 24px;">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px; color: var(--primary-color);"
                    >
                      ${(0,g.kg)("editor.bar.colors.left_side",h,"Left Side Colors")}
                    </div>
                    <div
                      class="colors-grid"
                      style="display: grid; grid-template-columns: 1fr; gap: 16px;"
                    >
                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.colors.title_color",h,"Title Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${m.left_title_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>a({left_title_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>

                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.colors.value_color",h,"Value Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${m.left_value_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>a({left_value_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>
                    </div>
                  </div>
                `:""}

          <!-- Right Side Colors -->
          ${m.right_enabled?o.qy`
                  <div class="field-group">
                    <div
                      class="field-title"
                      style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px; color: var(--primary-color);"
                    >
                      ${(0,g.kg)("editor.bar.colors.right_side",h,"Right Side Colors")}
                    </div>
                    <div
                      class="colors-grid"
                      style="display: grid; grid-template-columns: 1fr; gap: 16px;"
                    >
                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.colors.title_color",h,"Title Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${m.right_title_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>a({right_title_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>

                      <div class="color-item">
                        <div
                          class="field-title"
                          style="font-size: 14px !important; font-weight: 600 !important; margin-bottom: 8px;"
                        >
                          ${(0,g.kg)("editor.bar.colors.value_color",h,"Value Color")}
                        </div>
                        <ultra-color-picker
                          style="width: 100%;"
                          .value=${m.right_value_color||""}
                          .defaultValue=${"var(--primary-text-color)"}
                          .hass=${t}
                          @value-changed=${e=>a({right_value_color:e.detail.value})}
                        ></ultra-color-picker>
                      </div>
                    </div>
                  </div>
                `:""}
        </div>

        <!-- Gradient Mode -->
        <div class="settings-section" style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;">
          <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px;">
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px; margin: 0;"
            >
              ${(0,g.kg)("editor.bar.gradient.title",h,"Gradient Mode")}
            </div>
            <ha-switch
              .checked=${m.use_gradient||!1}
              @change=${e=>{const t=e.target.checked,i={use_gradient:t};!t||m.gradient_stops&&0!==m.gradient_stops.length||(i.gradient_stops=(0,d.FB)(),i.gradient_display_mode=m.gradient_display_mode||"full"),a(i)}}
            ></ha-switch>
          </div>

          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 12px;"
          >
            ${(0,g.kg)("editor.bar.gradient.desc",h,"Apply a color gradient to the bar fill. When enabled, choose how the gradient is displayed and customize the color stops below.")}
          </div>

          ${m.use_gradient?o.qy`
                  <div class="field-group" style="margin-bottom: 12px;">
                    ${this.renderUcForm(t,{gradient_display_mode:m.gradient_display_mode||"full"},[this.selectField("gradient_display_mode",[{value:"full",label:(0,g.kg)("editor.bar.gradient.full",h,"Full")},{value:"cropped",label:(0,g.kg)("editor.bar.gradient.cropped",h,"Cropped")},{value:"value-based",label:(0,g.kg)("editor.bar.gradient.value_based",h,"Value-Based")}])],(e=>{const t=e.detail.value.gradient_display_mode;t!==(m.gradient_display_mode||"full")&&(a({gradient_display_mode:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                  </div>
                  <uc-gradient-editor
                    .stops=${m.gradient_stops||(0,d.FB)()}
                    .barSize=${this.getBarSizeFromHeight(null!==(u=m.height)&&void 0!==u?u:20)}
                    .barRadius=${this.getBarRadiusFromStyle(m.border_radius||10)}
                    .barStyle=${m.bar_style||"flat"}
                    @gradient-changed=${e=>{a({gradient_stops:e.detail.stops})}}
                  ></uc-gradient-editor>
                `:""}
        </div>

        <!-- Bar Animation -->
        <div class="settings-section" style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 16px;">
          <div style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px;">
            <div
              class="section-title"
              style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px; margin: 0;"
            >
              ${(0,g.kg)("editor.bar.animation.title",h,"Bar Animation")}
            </div>
            <ha-switch
              .checked=${m.bar_animation_enabled||!1}
              @change=${e=>a({bar_animation_enabled:e.target.checked})}
            ></ha-switch>
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 12px;"
          >
            ${(0,g.kg)("editor.bar.animation.desc",h,"Animate the bar fill using presets like charging stripes, pulse, shimmer, and more. You can trigger animations based on an entity's state or attribute, and optionally override the animation when another condition is met.")}
          </div>
          ${m.bar_animation_enabled?o.qy`
                  ${this.renderSettingsSection((0,g.kg)("editor.bar.animation.trigger.title",h,"Animation Trigger"),(0,g.kg)("editor.bar.animation.trigger.desc",h,"Select an entity to watch and define the value + animation to apply when it matches."),[{title:(0,g.kg)("editor.common.entity",h,"Entity"),description:(0,g.kg)("editor.bar.animation.trigger.entity_desc",h,"Entity to evaluate for animation trigger"),hass:t,data:{bar_animation_entity:m.bar_animation_entity||""},schema:[this.entityField("bar_animation_entity")],onChange:e=>a({bar_animation_entity:e.detail.value.bar_animation_entity})},{title:(0,g.kg)("editor.bar.animation.trigger.type",h,"Trigger Type"),description:(0,g.kg)("editor.bar.animation.trigger.type_desc",h,"Choose whether to compare the entity state or an attribute"),hass:t,data:{bar_animation_trigger_type:m.bar_animation_trigger_type||"state"},schema:[this.selectField("bar_animation_trigger_type",[{value:"state",label:(0,g.kg)("editor.common.state",h,"State")},{value:"attribute",label:(0,g.kg)("editor.common.attribute",h,"Attribute")}])],onChange:e=>a(e.detail.value)},..."attribute"===(m.bar_animation_trigger_type||"state")?[{title:(0,g.kg)("editor.common.attribute_name",h,"Attribute Name"),description:(0,g.kg)("editor.bar.animation.trigger.attribute_name_desc",h,"Name of the attribute to compare (e.g., charging_status)"),hass:t,data:{bar_animation_attribute:m.bar_animation_attribute||""},schema:[this.textField("bar_animation_attribute")],onChange:e=>a({bar_animation_attribute:e.detail.value.bar_animation_attribute})}]:[],...(m.bar_animation_entity||"").trim()?[{title:(0,g.kg)("editor.bar.animation.trigger.match_value",h,"Match Value"),description:(0,g.kg)("editor.bar.animation.trigger.match_value_desc",h,"Text to compare against the state or attribute (comparison is string-based)."),hass:t,data:{bar_animation_value:m.bar_animation_value||""},schema:[this.textField("bar_animation_value")],onChange:e=>a({bar_animation_value:e.detail.value.bar_animation_value})}]:[],{title:(0,g.kg)("editor.bar.animation.type",h,"Animation Type"),description:(0,g.kg)("editor.bar.animation.type_desc",h,"Select how the bar should animate when triggered."),hass:t,data:{bar_animation_type:m.bar_animation_type||"none"},schema:[this.selectField("bar_animation_type",[{value:"none",label:(0,g.kg)("editor.common.none",h,"None")},{value:"charging",label:(0,g.kg)("editor.bar.animation.types.charging",h,"Charging (Diagonal Lines)")},{value:"pulse",label:(0,g.kg)("editor.bar.animation.types.pulse",h,"Pulse")},{value:"blinking",label:(0,g.kg)("editor.bar.animation.types.blinking",h,"Blinking")},{value:"bouncing",label:(0,g.kg)("editor.bar.animation.types.bouncing",h,"Bouncing")},{value:"glow",label:(0,g.kg)("editor.bar.animation.types.glow",h,"Glow")},{value:"rainbow",label:(0,g.kg)("editor.bar.animation.types.rainbow",h,"Rainbow")},{value:"bubbles",label:(0,g.kg)("editor.bar.animation.types.bubbles",h,"Bubbles")},{value:"fill",label:(0,g.kg)("editor.bar.animation.types.fill",h,"Fill")},{value:"ripple",label:(0,g.kg)("editor.bar.animation.types.ripple",h,"Ripple")},{value:"traffic",label:(0,g.kg)("editor.bar.animation.types.traffic",h,"Traffic (Barber Pole)")},{value:"heartbeat",label:(0,g.kg)("editor.bar.animation.types.heartbeat",h,"Heartbeat")},{value:"flicker",label:(0,g.kg)("editor.bar.animation.types.flicker",h,"Flicker")},{value:"shimmer",label:(0,g.kg)("editor.bar.animation.types.shimmer",h,"Shimmer")},{value:"vibrate",label:(0,g.kg)("editor.bar.animation.types.vibrate",h,"Vibrate")}])],onChange:e=>a(e.detail.value)}])}
                  ${this.renderSettingsSection((0,g.kg)("editor.bar.animation.override.title",h,"Action Animation Override"),(0,g.kg)("editor.bar.animation.override.desc",h,"Select an Action Entity and state to define when this animation should override the regular animation"),[{title:(0,g.kg)("editor.common.entity",h,"Entity"),description:(0,g.kg)("editor.bar.animation.override.entity_desc",h,"Entity to evaluate for the override trigger"),hass:t,data:{bar_animation_override_entity:m.bar_animation_override_entity||""},schema:[this.entityField("bar_animation_override_entity")],onChange:e=>a({bar_animation_override_entity:e.detail.value.bar_animation_override_entity})},{title:(0,g.kg)("editor.bar.animation.trigger.type",h,"Trigger Type"),description:(0,g.kg)("editor.bar.animation.override.type_desc",h,"Compare the entity state or one of its attributes"),hass:t,data:{bar_animation_override_trigger_type:m.bar_animation_override_trigger_type||"state"},schema:[this.selectField("bar_animation_override_trigger_type",[{value:"state",label:(0,g.kg)("editor.common.state",h,"State")},{value:"attribute",label:(0,g.kg)("editor.common.attribute",h,"Attribute")}])],onChange:e=>{e.detail.value.bar_animation_override_trigger_type!==(m.bar_animation_override_trigger_type||"state")&&a(e.detail.value)}},..."attribute"===(m.bar_animation_override_trigger_type||"state")?[{title:(0,g.kg)("editor.common.attribute_name",h,"Attribute Name"),description:(0,g.kg)("editor.bar.animation.override.attribute_name_desc",h,"Name of the attribute to compare"),hass:t,data:{bar_animation_override_attribute:m.bar_animation_override_attribute||""},schema:[this.textField("bar_animation_override_attribute")],onChange:e=>a({bar_animation_override_attribute:e.detail.value.bar_animation_override_attribute})}]:[],{title:(0,g.kg)("editor.bar.animation.override.match_value",h,"Override Match Value"),description:(0,g.kg)("editor.bar.animation.override.match_value_desc",h,"String comparison against state or attribute"),hass:t,data:{bar_animation_override_value:m.bar_animation_override_value||""},schema:[this.textField("bar_animation_override_value")],onChange:e=>a({bar_animation_override_value:e.detail.value.bar_animation_override_value})},{title:(0,g.kg)("editor.bar.animation.override.type",h,"Override Animation Type"),description:(0,g.kg)("editor.bar.animation.override.type_desc",h,"Animation to use when override condition matches."),hass:t,data:{bar_animation_override_type:m.bar_animation_override_type||"none"},schema:[this.selectField("bar_animation_override_type",[{value:"none",label:(0,g.kg)("editor.common.none",h,"None")},{value:"charging",label:(0,g.kg)("editor.bar.animation.types.charging",h,"Charging (Diagonal Lines)")},{value:"pulse",label:(0,g.kg)("editor.bar.animation.types.pulse",h,"Pulse")},{value:"blinking",label:(0,g.kg)("editor.bar.animation.types.blinking",h,"Blinking")},{value:"bouncing",label:(0,g.kg)("editor.bar.animation.types.bouncing",h,"Bouncing")},{value:"glow",label:(0,g.kg)("editor.bar.animation.types.glow",h,"Glow")},{value:"rainbow",label:(0,g.kg)("editor.bar.animation.types.rainbow",h,"Rainbow")},{value:"bubbles",label:(0,g.kg)("editor.bar.animation.types.bubbles",h,"Bubbles")},{value:"fill",label:(0,g.kg)("editor.bar.animation.types.fill",h,"Fill")},{value:"ripple",label:(0,g.kg)("editor.bar.animation.types.ripple",h,"Ripple")},{value:"traffic",label:(0,g.kg)("editor.bar.animation.types.traffic",h,"Traffic (Barber Pole)")},{value:"heartbeat",label:(0,g.kg)("editor.bar.animation.types.heartbeat",h,"Heartbeat")},{value:"flicker",label:(0,g.kg)("editor.bar.animation.types.flicker",h,"Flicker")},{value:"shimmer",label:(0,g.kg)("editor.bar.animation.types.shimmer",h,"Shimmer")},{value:"vibrate",label:(0,g.kg)("editor.bar.animation.types.vibrate",h,"Vibrate")}])],onChange:e=>a(e.detail.value)}])}
                `:""}
        </div>

        <!-- Action Animation Override removed as standalone: now included inside Bar Animation section above -->
      </div>
    `}renderActionsTab(e,t,i,o){return r.A.render(e,t,(e=>o(e)))}renderPreview(e,t,a){var n,r,s,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j,B,D,O;const J=e;let R=0;const U=e=>Math.min(Math.max(e,0),100),M=!(J.entity&&(null==t?void 0:t.states[J.entity])),H=J.percentage_type||"entity";if("template"===H&&J.percentage_template){if(!this._templateService&&t&&(this._templateService=new p.I(t)),t){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=J.percentage_template,i=`bar_percentage_${J.id}_${this._hashString(e)}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(e,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(n=t.__uvc_template_strings)||void 0===n?void 0:n[i];if(void 0!==o){const e=parseFloat(String(o));isNaN(e)||(R=U(e<=1?100*e:e))}}}else if("attribute"===H){const e=J.percentage_attribute_entity||J.entity,i=J.percentage_attribute_name||"",o=e?null==t?void 0:t.states[e]:void 0,a=i?null===(r=null==o?void 0:o.attributes)||void 0===r?void 0:r[i]:void 0,n=(null===(s=null==o?void 0:o.attributes)||void 0===s?void 0:s.unit_of_measurement)||"",l=parseFloat(String(null!=a?a:"0"));if(!isNaN(l))if("%"===n||String(a).toString().trim().endsWith("%"))R=U(l);else if(null===(g=null==o?void 0:o.attributes)||void 0===g?void 0:g.max){const e=parseFloat(String(o.attributes.max));R=e>0?U(l/e*100):0}else R=U(l)}else if("difference"===H){const e=J.percentage_current_entity,i=J.percentage_total_entity,o=e?parseFloat(String(null!==(h=null===(m=null==t?void 0:t.states[e])||void 0===m?void 0:m.state)&&void 0!==h?h:"0")):0,a=i?parseFloat(String(null!==(v=null===(_=null==t?void 0:t.states[i])||void 0===_?void 0:_.state)&&void 0!==v?v:"0")):0;R=a>0?U(o/a*100):0}else{const e=null==t?void 0:t.states[J.entity];let i=0,o=100,a="";e&&(i=parseFloat(e.state)||0,a=(null===(f=e.attributes)||void 0===f?void 0:f.unit_of_measurement)||"",(null===(b=e.attributes)||void 0===b?void 0:b.max)?o=parseFloat(e.attributes.max):("%"===a||"battery"===(null===(y=e.attributes)||void 0===y?void 0:y.device_class))&&(o=100)),R=U(i/o*100)}M&&(R=65);let N="";if(J.left_template_mode&&J.left_template&&(!this._templateService&&t&&(this._templateService=new p.I(t)),t)){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(J.left_template),i=`bar_left_${J.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(J.left_template,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(k=t.__uvc_template_strings)||void 0===k?void 0:k[i];void 0!==o&&""!==String(o).trim()&&(N=String(o))}if(!N&&J.left_entity&&(null==t?void 0:t.states[J.left_entity])){const e=t.states[J.left_entity];try{N=(0,c.formatEntityState)(t,J.left_entity,{includeUnit:!0})}catch(t){N=`${e.state}${(null===(x=e.attributes)||void 0===x?void 0:x.unit_of_measurement)||""}`}}let L="";if(J.right_template_mode&&J.right_template&&(!this._templateService&&t&&(this._templateService=new p.I(t)),t)){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(J.right_template),i=`bar_right_${J.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(J.right_template,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(w=t.__uvc_template_strings)||void 0===w?void 0:w[i];void 0!==o&&""!==String(o).trim()&&(L=String(o))}if(!L&&J.right_entity&&(null==t?void 0:t.states[J.right_entity])){const e=t.states[J.right_entity];try{L=(0,c.formatEntityState)(t,J.right_entity,{includeUnit:!0})}catch(t){L=`${e.state}${(null===(S=e.attributes)||void 0===S?void 0:S.unit_of_measurement)||""}`}}let F=0;if(J.limit_entity&&(null==t?void 0:t.states[J.limit_entity])){const e=t.states[J.limit_entity],i=parseFloat(e.state)||0,o=100;F=Math.min(Math.max(i/o*100,0),100)}const K=J,V=J.design||{},q=V.background_color||K.background_color||"transparent",Q=V.width||K.width||"100%",G=J.bar_background_color||"transparent";let Y=null!==(A=J.height)&&void 0!==A?A:20;if("minimal"===J.bar_style){const e=Math.max(1,Math.floor(Y/3)),t=Math.max(8,Math.min(24,3*e+6));Y=Math.max(Y,t+8)}const W=`${Y}px`,Z=null!==(z=null!==(C=J.border_radius)&&void 0!==C?C:V.border_radius)&&void 0!==z?z:10,X="string"==typeof Z?parseInt(Z,10)||10:Z;let ee=J.bar_color||K.color||"var(--primary-color)";const te=e=>{if(!e)return e;const t=String(e).trim();if(t.startsWith("#")||t.startsWith("rgb"))return t;try{const e=document.createElement("span");e.style.color=t,document.body.appendChild(e);const i=getComputedStyle(e).color;return e.remove(),i&&"rgba(0, 0, 0, 0)"!==i?i:t}catch(e){return t}},ie=(e,t)=>{const i=[...e].sort(((e,t)=>e.position-t.position));let o=i[0],a=i[i.length-1];for(let e=0;e<i.length-1;e++)if(t>=i[e].position&&t<=i[e+1].position){o=i[e],a=i[e+1];break}if(o.position===t)return o.color;if(a.position===t)return a.color;const n=a.position-o.position,r=0===n?0:(t-o.position)/n,s=e=>{const t=te(e);if(!t)return null;if(t.startsWith("#"))return t;const i=t.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*([0-9.]+))?\s*\)/i);if(i){const e=Math.max(0,Math.min(255,parseInt(i[1],10))),t=Math.max(0,Math.min(255,parseInt(i[2],10))),o=Math.max(0,Math.min(255,parseInt(i[3],10)));return this.rgbToHex(e,t,o)}return null},l=s(o.color),d=s(a.color);return l&&d?this.interpolateColor(l,d,r):te(r<.5?o.color:a.color)};if(J.use_gradient){const e=J.gradient_stops&&J.gradient_stops.length>0?J.gradient_stops:(0,d.FB)(),t="right-to-left"===(J.bar_direction||"left-to-right")?"to left":"to right",i=[...e].sort(((e,t)=>e.position-t.position)).map((e=>`${te(e.color)} ${e.position}%`)).join(", ");if("full"===J.gradient_display_mode)ee=`linear-gradient(${t}, ${i})`;else if("value-based"===J.gradient_display_mode){const t=[...e].sort(((e,t)=>e.position-t.position)),i=ie(t,R);ee=te(i)}else{const i=[...e].sort(((e,t)=>e.position-t.position));if(R<=0){const e=i[0];ee=e?te(e.color):ee}else{const e=i.filter((e=>e.position<=R)),o=[];if(0===e.length){const e=i[0];e&&o.push(`${e.color} 0%`,`${e.color} 100%`)}else{for(const t of e){const e=t.position/R*100,i=Math.max(0,Math.min(100,e));o.push(`${te(t.color)} ${i}%`)}const t=te(ie(i,R));0===o.length?o.push(`${t} 0%`,`${t} 100%`):o.push(`${t} 100%`)}ee=`linear-gradient(${t}, ${o.join(", ")})`}}}let oe="",ae="",ne="",re="";const se=e=>e.includes("linear-gradient")?J.bar_color||"var(--primary-color)":e;switch(se(ee),J.bar_style){case"flat":oe="box-shadow: none;";break;case"glossy":J.use_gradient?ne="\n            background-image: linear-gradient(to bottom, \n              rgba(255,255,255,0.3) 0%, \n              rgba(255,255,255,0.1) 50%, \n              rgba(0,0,0,0.1) 51%, \n              rgba(0,0,0,0.05) 100%);\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);\n          ":ae=`\n            background: linear-gradient(to bottom, ${ee}, ${ee} 50%, rgba(0,0,0,0.1) 51%, ${ee});\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);\n          `;break;case"embossed":oe="\n          box-shadow: inset 0 1px 2px rgba(0,0,0,0.2), 0 1px 0 rgba(255,255,255,0.8);\n          border: 1px solid rgba(0,0,0,0.1);\n        ",ae="\n          box-shadow: inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(0,0,0,0.1);\n        ";break;case"inset":oe="\n          box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);\n          border: 1px solid rgba(0,0,0,0.2);\n        ";break;case"gradient-overlay":J.use_gradient?ne="\n            background-image: linear-gradient(to bottom, \n              rgba(255,255,255,0.4) 0%, \n              rgba(255,255,255,0) 100%);\n          ":ae=`\n            background: linear-gradient(to bottom, \n              ${ee} 0%, \n              rgba(255,255,255,0) 100%\n            );\n          `;break;case"neon-glow":const e=(e=>{if(e.includes("linear-gradient")&&J.use_gradient&&J.gradient_stops){const e=J.gradient_display_mode||"full";if("value-based"===e||"cropped"===e)return ie(J.gradient_stops,R);{const e=[...J.gradient_stops].sort(((e,t)=>t.position-e.position));if(e.length>0)return e[0].color}}return se(e)})(ee);ae=`\n          box-shadow: 0 0 10px ${e}, 0 0 20px ${e}, 0 0 30px ${e};\n          filter: brightness(1.2);\n        `,oe="\n          box-shadow: inset 0 0 10px rgba(0,0,0,0.5);\n        ";break;case"outline":{const e=!(!J.use_gradient||!J.gradient_stops||"full"!==J.gradient_display_mode&&"cropped"!==J.gradient_display_mode&&"value-based"!==J.gradient_display_mode),t=J.gradient_stops&&J.gradient_stops.length>0?[...J.gradient_stops].sort(((e,t)=>e.position-t.position)):(0,d.FB)(),i=t[t.length-1],o=i?te(i.color):J.bar_color||"var(--primary-color)",a=J.bar_direction||"left-to-right",n="right-to-left"===a?"to left":"to right",r=t.map((e=>`${te(e.color)} ${e.position}%`)).join(", "),s=Math.max(0,Math.min(100,R)),l=e=>te(ie(t,e));let c=o;"cropped"!==J.gradient_display_mode&&"value-based"!==J.gradient_display_mode||(c=l(s));const p=G,u=J.gradient_display_mode||"full",g="right-to-left"===a;let m="",h="";e?"value-based"===u?(m=`linear-gradient(${p}, ${p}) padding-box,\n               linear-gradient(${n}, ${c}, ${c}) border-box`,h="background-size: 100% 100%, 100% 100%;"):"cropped"===u?g?(m=`linear-gradient(${p}, ${p}) padding-box,\n                 ${ee} border-box,\n                 linear-gradient(${n}, ${c}, ${c}) border-box`,h=`background-size: 100% 100%, ${s}% 100%, 100% 100%;\n                           background-position: 0 0, ${100-s}% 0, 0 0;`):(m=`linear-gradient(${p}, ${p}) padding-box,\n                 ${ee} border-box,\n                 linear-gradient(${n}, ${c}, ${c}) border-box`,h=`background-size: 100% 100%, ${s}% 100%, 100% 100%;`):g?(m=`linear-gradient(${p}, ${p}) padding-box,\n                 linear-gradient(${n}, ${r}) border-box,\n                 linear-gradient(${n}, ${c}, ${c}) border-box`,h=`background-size: 100% 100%, ${s}% 100%, 100% 100%;\n                           background-position: 0 0, ${100-s}% 0, 0 0;`):(m=`linear-gradient(${p}, ${p}) padding-box,\n                 linear-gradient(${n}, ${r}) border-box,\n                 linear-gradient(${n}, ${c}, ${c}) border-box`,h=`background-size: 100% 100%, ${s}% 100%, 100% 100%;`):(m=`linear-gradient(${p}, ${p}) padding-box,\n               linear-gradient(${n}, ${ee}, ${ee}) border-box`,h="background-size: 100% 100%, 100% 100%;"),oe=`\n            border: 2px solid transparent;\n            border-radius: ${X}px;\n            padding: 4px;\n            background: ${m};\n            ${h}\n            background-repeat: no-repeat;\n          `,ae=`\n            background: ${ee};\n            border: none;\n            position: relative;\n            margin: 0;\n          `}break;case"glass":oe="\n          backdrop-filter: blur(10px);\n          background-color: rgba(255,255,255,0.1) !important;\n          border: 1px solid rgba(255,255,255,0.2);\n        ",J.use_gradient?ne="\n            backdrop-filter: blur(5px);\n            background-image: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));\n          ":ae="\n            backdrop-filter: blur(5px);\n            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1)) !important;\n          ";break;case"metallic":J.use_gradient?ne="\n            background-image: linear-gradient(to bottom, \n              rgba(255,255,255,0.4) 0%, \n              rgba(255,255,255,0) 20%, \n              rgba(255,255,255,0) 80%, \n              rgba(0,0,0,0.2) 100%);\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), inset 0 -1px 0 rgba(0,0,0,0.3);\n          ":ae=`\n            background: linear-gradient(to bottom, \n              rgba(255,255,255,0.4) 0%, \n              ${ee} 20%, \n              ${ee} 80%, \n              rgba(0,0,0,0.2) 100%);\n            box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), inset 0 -1px 0 rgba(0,0,0,0.3);\n          `;break;case"neumorphic":oe="\n          box-shadow: inset 2px 2px 4px rgba(0,0,0,0.1), inset -2px -2px 4px rgba(255,255,255,0.1);\n        ",ae="\n          box-shadow: 2px 2px 4px rgba(0,0,0,0.1), -2px -2px 4px rgba(255,255,255,0.1);\n        ";break;case"dashed":const t=12,i=4,o=t+i,a="right-to-left"===(J.bar_direction||"left-to-right");if(R>=99.5)ae=`\n            mask-image: repeating-linear-gradient(\n              90deg,\n              black 0px,\n              black ${t}px,\n              transparent ${t}px,\n              transparent ${o}px\n            );\n            -webkit-mask-image: repeating-linear-gradient(\n              90deg,\n              black 0px,\n              black ${t}px,\n              transparent ${t}px,\n              transparent ${o}px\n            );\n            border-radius: ${a?`${X}px 0 0 ${X}px`:`0 ${X}px ${X}px 0`};\n          `;else{const e=a?"270deg":"90deg";ae=`\n            mask-image: \n              repeating-linear-gradient(\n                90deg,\n                black 0px,\n                black ${t}px,\n                transparent ${t}px,\n                transparent ${o}px\n              ),\n              linear-gradient(\n                ${e},\n                black 0%,\n                black calc(100% - ${i+2}px),\n                transparent calc(100% - ${i+2}px),\n                transparent 100%\n              );\n            -webkit-mask-image: \n              repeating-linear-gradient(\n                90deg,\n                black 0px,\n                black ${t}px,\n                transparent ${t}px,\n                transparent ${o}px\n              ),\n              linear-gradient(\n                ${e},\n                black 0%,\n                black calc(100% - ${i+2}px),\n                transparent calc(100% - ${i+2}px),\n                transparent 100%\n              );\n            mask-composite: intersect;\n            -webkit-mask-composite: source-in;\n            border-radius: 0;\n          `}break;case"dots":const n=4,r=[],s=[];for(let e=10;e<=R&&e<=100;e+=10)r.push(`${e}%`),s.push(`radial-gradient(circle ${n}px at ${e}% center, ${ee} 0%, ${ee} 100%, transparent 100%)`);ae=s.length>0?`\n            background-image: ${s.join(", ")};\n            background-size: 100% 100%;\n            background-repeat: no-repeat;\n          `:"background: transparent;";break;case"minimal":oe="\n          background: transparent;\n          border: none;\n          box-shadow: none;\n        ",ae="\n          background: transparent;\n          border: none;\n          position: relative;\n        "}const le=J.bar_animation_type||"none";let de=!1;if(J.bar_animation_enabled&&"none"!==le){const e=J.bar_animation_trigger_type||"state",i=J.bar_animation_entity,o=(null!==(T=J.bar_animation_value)&&void 0!==T?T:"").toString();if(i&&""!==i.trim()&&""!==o.trim()){if(null==t?void 0:t.states[i]){const a=t.states[i];let n="";if("attribute"===e){const e=J.bar_animation_attribute||"";n=e?String(null!==(E=null===(I=a.attributes)||void 0===I?void 0:I[e])&&void 0!==E?E:""):""}else n=String(null!==($=a.state)&&void 0!==$?$:"");de=String(n)===o}}else de=!0;if(de)switch(le){case"charging":re="bar-anim-charging";break;case"pulse":re="bar-anim-pulse";break;case"blinking":re="bar-anim-blink";break;case"bouncing":re="bar-anim-bounce";break;case"glow":re="bar-anim-glow";break;case"rainbow":re="bar-anim-rainbow";break;case"bubbles":re="bar-anim-bubbles";break;case"fill":re="bar-anim-fill";break;case"ripple":re="bar-anim-ripple";break;case"traffic":re="bar-anim-traffic";break;case"heartbeat":re="bar-anim-heartbeat";break;case"flicker":re="bar-anim-flicker";break;case"shimmer":re="bar-anim-shimmer";break;case"vibrate":re="bar-anim-vibrate"}}const ce=J.bar_animation_override_type||"none";if("none"!==ce&&""!==(J.bar_animation_override_entity||"").trim()){const e=J.bar_animation_override_trigger_type||"state",i=J.bar_animation_override_entity,o=(null!==(P=J.bar_animation_override_value)&&void 0!==P?P:"").toString();let a=!1;if(null==t?void 0:t.states[i]){const n=t.states[i];if("attribute"===e){const e=J.bar_animation_override_attribute||"";a=(e?String(null!==(B=null===(j=n.attributes)||void 0===j?void 0:j[e])&&void 0!==B?B:""):"")===o}else a=String(null!==(D=n.state)&&void 0!==D?D:"")===o}if(a)switch(ce){case"charging":re="bar-anim-charging";break;case"pulse":re="bar-anim-pulse";break;case"blinking":re="bar-anim-blink";break;case"bouncing":re="bar-anim-bounce";break;case"glow":re="bar-anim-glow";break;case"rainbow":re="bar-anim-rainbow";break;case"bubbles":re="bar-anim-bubbles";break;case"fill":re="bar-anim-fill";break;case"ripple":re="bar-anim-ripple";break;case"traffic":re="bar-anim-traffic";break;case"heartbeat":re="bar-anim-heartbeat";break;case"flicker":re="bar-anim-flicker";break;case"shimmer":re="bar-anim-shimmer";break;case"vibrate":re="bar-anim-vibrate"}}const pe={padding:V.padding_top||V.padding_bottom||V.padding_left||V.padding_right||K.padding_top||K.padding_bottom||K.padding_left||K.padding_right?`${this.addPixelUnit(V.padding_top||K.padding_top)||"0px"} ${this.addPixelUnit(V.padding_right||K.padding_right)||"0px"} ${this.addPixelUnit(V.padding_bottom||K.padding_bottom)||"0px"} ${this.addPixelUnit(V.padding_left||K.padding_left)||"0px"}`:"0",margin:V.margin_top||V.margin_bottom||V.margin_left||V.margin_right||K.margin_top||K.margin_bottom||K.margin_left||K.margin_right?`${V.margin_top||K.margin_top||"8px"} ${V.margin_right||K.margin_right||"0px"} ${V.margin_bottom||K.margin_bottom||"8px"} ${V.margin_left||K.margin_left||"0px"}`:"8px 0",background:q,backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},K),V),t),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",border:(V.border_style||K.border_style)&&"none"!==(V.border_style||K.border_style)?`${this.addPixelUnit(V.border_width||K.border_width)||"1px"} ${V.border_style||K.border_style} ${V.border_color||K.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(V.border_radius||K.border_radius)||"0",position:V.position||K.position||"relative",top:V.top||K.top||"auto",bottom:V.bottom||K.bottom||"auto",left:V.left||K.left||"auto",right:V.right||K.right||"auto",zIndex:V.z_index||K.z_index||"auto",width:Q,height:V.height||K.height||"auto",maxWidth:V.max_width||K.max_width||"100%",maxHeight:V.max_height||K.max_height||"none",minWidth:V.min_width||K.min_width||"none",minHeight:V.min_height||K.min_height||"auto",overflow:V.overflow||K.overflow||"visible",clipPath:V.clip_path||K.clip_path||"none",backdropFilter:V.backdrop_filter||K.backdrop_filter||"none",boxShadow:V.box_shadow_h&&V.box_shadow_v?`${V.box_shadow_h||"0"} ${V.box_shadow_v||"0"} ${V.box_shadow_blur||"0"} ${V.box_shadow_spread||"0"} ${V.box_shadow_color||"rgba(0,0,0,0.1)"}`:K.box_shadow_h&&K.box_shadow_v?`${K.box_shadow_h||"0"} ${K.box_shadow_v||"0"} ${K.box_shadow_blur||"0"} ${K.box_shadow_spread||"0"} ${K.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box",color:V.color||K.color||"var(--primary-text-color)",fontFamily:V.font_family||K.font_family||"inherit",fontSize:V.font_size&&"string"==typeof V.font_size&&""!==V.font_size.trim()?/[a-zA-Z%]/.test(V.font_size)?V.font_size:`${V.font_size}px`:void 0!==K.font_size?`${K.font_size}px`:"inherit",textAlign:V.text_align||K.text_align||"inherit",lineHeight:V.line_height||K.line_height||"inherit",letterSpacing:V.letter_spacing||K.letter_spacing||"normal",textShadow:V.text_shadow_h&&V.text_shadow_v?`${V.text_shadow_h||"0"} ${V.text_shadow_v||"0"} ${V.text_shadow_blur||"0"} ${V.text_shadow_color||"rgba(0,0,0,0.25)"}`:K.text_shadow_h&&K.text_shadow_v?`${K.text_shadow_h||"0"} ${K.text_shadow_v||"0"} ${K.text_shadow_blur||"0"} ${K.text_shadow_color||"rgba(0,0,0,0.25)"}`:"none"},ue=Math.max(1,Math.min(100,Number(J.bar_width||100))),ge=`${ue}%`;let me="flex-start";switch(J.bar_alignment){case"left":me="flex-start";break;case"center":me="center";break;case"right":me="flex-end"}let he=null,_e=null,ve=!1,fe=0,be=0;const ye=null===(O=J.design)||void 0===O?void 0:O.hover_effect,ke=u.k.getHoverEffectClass(ye);return o.qy`
      <style>
        ${this.getStyles()}
      </style>
      <div class="bar-module-preview" style=${this.styleObjectToCss(pe)}>
        <!-- Bar Container -->
        <div style="display: flex; justify-content: ${me}; width: 100%; min-height: ${W}; align-items: center; min-width: 0;">
          <div
            class="bar-container ${ke}"
            style="
            width: ${ge};
            max-width: 100%;
            flex: ${ue<100?"0 0 auto":"1 1 auto"};
            height: ${W}; 
            background: ${G};
            min-width: 80px;
            border-radius: ${X}px;
            overflow: ${"minimal"===J.bar_style?"visible":"hidden"};
            position: relative;
            transition: ${!1!==J.animation?"all 0.3s ease":"none"};
            border: ${"outline"!==J.bar_style?`1px solid ${J.bar_border_color||K.border_color||"var(--divider-color)"}`:"none"};
            ${oe};
            cursor: ${J.tap_action&&"nothing"!==J.tap_action.action||J.hold_action&&"nothing"!==J.hold_action.action||J.double_tap_action&&"nothing"!==J.double_tap_action.action?"pointer":"default"};
            z-index: 1;
          "
          @pointerdown=${e=>{e.preventDefault(),ve=!1,_e=setTimeout((()=>{ve=!0,J.hold_action&&"nothing"!==J.hold_action.action&&l.K.handleAction(J.hold_action,t,e.target,a)}),500)}}
          @pointerup=${e=>{if(e.preventDefault(),_e&&(clearTimeout(_e),_e=null),ve)return void(ve=!1);const i=Date.now();i-be<300&&1===fe?(he&&(clearTimeout(he),he=null),fe=0,J.double_tap_action&&"nothing"!==J.double_tap_action.action&&l.K.handleAction(J.double_tap_action,t,e.target,a)):(fe=1,be=i,he=setTimeout((()=>{fe=0,J.tap_action&&"nothing"!==J.tap_action.action&&l.K.handleAction(J.tap_action,t,e.target,a)}),300))}}
        >
            <!-- Bar Fill / Dots Style / Minimal Style -->
            ${"minimal"===J.bar_style?(()=>{var e;const t=J.bar_direction||"left-to-right",i="right-to-left"===t,a=i?100-R:R;let n=J.bar_color||"var(--primary-color)",r=J.dot_color||J.bar_color||"var(--primary-color)";if(J.use_gradient&&J.gradient_stops&&J.gradient_stops.length>0){const e=[...J.gradient_stops].sort(((e,t)=>e.position-t.position)),i=J.gradient_display_mode||"full",o="right-to-left"===t?"to left":"to right";if("full"===i)n=`linear-gradient(${o}, ${e.map((e=>`${te(e.color)} ${e.position}%`)).join(", ")})`,r=J.dot_color||te(ie(e,R));else if("cropped"===i)if(R<=0){const t=te(e[0].color);n=t,r=J.dot_color||t}else{const t=[...e.filter((e=>e.position<=R))],i=ie(e,R);if(t.some((e=>e.position===R))||t.push({id:`cropped_${R}`,position:R,color:i}),t.sort(((e,t)=>e.position-t.position)),0===t.length){const t=te(e[0].color);n=t,r=J.dot_color||t}else n=`linear-gradient(${o}, ${t.map((e=>Object.assign(Object.assign({},e),{position:R>0?e.position/R*100:0}))).map((e=>`${te(e.color)} ${Math.min(100,Math.max(0,e.position))}%`)).join(", ")})`,r=J.dot_color||te(i)}else if("value-based"===i){const t=ie(e,R),i=te(t);n=i,r=J.dot_color||i}}const s="cropped"===(J.gradient_display_mode||"full")&&J.use_gradient,l=null!==(e=J.height)&&void 0!==e?e:20,d=Math.max(1,Math.floor(l/3)),c=Math.max(8,Math.min(24,3*d+6));return o.qy`
                      ${s?o.qy`
                            <!-- Background track (unfilled portion) -->
                            <div
                              style="
                                position: absolute;
                                top: 50%;
                                left: 0;
                                right: 0;
                                height: ${d}px;
                            background: ${J.bar_background_color||"rgba(var(--rgb-primary-color), 0.2)"};
                            transform: translateY(-50%);
                            border-radius: ${Math.max(1,Math.floor(d/2))}px;
                            opacity: 0.6;
                          "
                            ></div>

                            <!-- Filled track portion (with gradient) -->
                            <div
                              class="minimal-track ${re}"
                              style="
                                position: absolute;
                                top: 50%;
                                left: ${i?100-R+"%":"0"};
                                width: ${R}%;
                                height: ${d}px;
                            background: ${n};
                            transform: translateY(-50%);
                            border-radius: ${Math.max(1,Math.floor(d/2))}px;
                            opacity: 0.8;
                            transition: ${!1!==J.animation?"all 0.3s ease":"none"};
                          "
                            ></div>
                          `:o.qy`
                            <!-- Track line (full/value-based modes) -->
                            <div
                              class="minimal-track ${re}"
                              style="
                                position: absolute;
                                top: 50%;
                                left: 0;
                                right: 0;
                                height: ${d}px;
                            background: ${n};
                            transform: translateY(-50%);
                            border-radius: ${Math.max(1,Math.floor(d/2))}px;
                            opacity: 0.8;
                            transition: ${!1!==J.animation?"all 0.3s ease":"none"};
                          "
                            ></div>
                          `}

                      <!-- Dot indicator -->
                      <div
                        class="minimal-dot ${re}"
                        style="
                          position: absolute;
                          top: 50%;
                          left: ${a}%;
                          width: ${c}px;
                          height: ${c}px;
                          background: ${r};
                          border: 2px solid var(--card-background-color);
                          border-radius: 50%;
                          transform: translate(-50%, -50%);
                          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                          transition: ${!1!==J.animation?"left 0.3s ease, background 0.3s ease":"none"};
                          z-index: 3;
                          will-change: left, background;
                        "
                      ></div>
                    `})():"dots"===J.bar_style?(()=>{var e;const t=null!==(e=J.height)&&void 0!==e?e:20,i=Math.max(6,Math.floor(t-8)),a=G,n=J.bar_direction||"left-to-right",r=J.use_gradient&&J.gradient_stops&&J.gradient_stops.length>0?[...J.gradient_stops].sort(((e,t)=>e.position-t.position)):(0,d.FB)(),s=e=>{const t=[...r].sort(((e,t)=>e.position-t.position));let i=t[0],o=t[t.length-1];for(let a=0;a<t.length-1;a++)if(e>=t[a].position&&e<=t[a+1].position){i=t[a],o=t[a+1];break}if(i.position===e)return i.color;if(o.position===e)return o.color;const a=o.position-i.position,n=0===a?0:(e-i.position)/a;return this.interpolateColor(i.color,o.color,n)},l=J.gradient_display_mode||"full",c=Array.from({length:20},((e,t)=>{const r=Math.round((t+1)/21*100),d="right-to-left"===n?100-r<=R:r<=R;let c=ee;if(J.use_gradient){if("full"===l)if(d){const e=R>0?Math.min(100,Math.max(0,Math.round(r/Math.max(1,R)*100))):0;c=s(e)}else c=a;else if("cropped"===l)c=d?s(r):a;else if("value-based"===l){const e=s(R);c=d?e:a}}else c=d?J.bar_color||K.color||"var(--primary-color)":a;return o.qy`<div
                          style="width:${i}px;height:${i}px;border-radius:50%;background:${c};flex-shrink:0;"
                        ></div>`})),p="right-to-left"===n?c.reverse():c;return o.qy`<div
                        class="dots-container"
                        style="display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;padding:0 ${Math.max(2,Math.floor(i/3))}px;box-sizing:border-box;flex-direction:${"right-to-left"===n?"row-reverse":"row"};"
                      >
                        ${p}
                      </div>`})():(()=>{const e="right-to-left"===(J.bar_direction||"left-to-right");let t="";return t=R>=99.5?`${X}px`:e?`0 ${X}px ${X}px 0`:`${X}px 0 0 ${X}px`,o.qy`
                        <div
                          class="bar-fill ${re}"
                          style="
                        width: ${R}%;
                        height: 100%;
                        background: ${ee};
                        transition: ${!1!==J.animation?"width 0.3s ease":"none"};
                        border-radius: ${t};
                        position: absolute;
                        ${e?"right: 0;":"left: 0;"}
                        top: 0;
                        bottom: 0;
                        will-change: width;
                        backface-visibility: hidden;
                        ${ae}
                      "
                        >
                          ${ne?o.qy` <div
                                class="bar-fill-overlay"
                                style="
                                position: absolute;
                                inset: 0;
                                border-radius: inherit;
                                pointer-events: none;
                                ${ne}
                              "
                              ></div>`:""}
                        </div>
                      `})()}

            <!-- Limit Indicator -->
            ${J.limit_entity&&(null==t?void 0:t.states[J.limit_entity])&&F>=0?o.qy`
                    <div
                      class="bar-limit-line"
                      style="
                    position: absolute; 
                    top: 0; 
                    bottom: 0; 
                    left: ${F}%; 
                    width: 2px; 
                    background-color: ${J.limit_color||"var(--warning-color)"}; 
                    z-index: 5; 
                    transform: translateX(-50%);
                  "
                      title="${(()=>{var e;try{const o=null===(e=t.states[J.limit_entity])||void 0===e?void 0:e.state;return(async()=>{const{formatEntityState:e}=await Promise.resolve().then(i.bind(i,3057));e(t,J.limit_entity,{state:o,includeUnit:!0})})(),`Limit: ${o}`}catch(e){return"Limit"}})()}"
                    ></div>
                  `:""}

            <!-- Percentage Text (Inside Bar) -->
            ${J.show_percentage?o.qy`
                    <div
                      class="percentage-text"
                      style="
                    position: ${"minimal"===J.bar_style?"relative":"absolute"};
                    top: ${"minimal"===J.bar_style?"auto":"50%"};
                    left: ${"minimal"===J.bar_style?"auto":"left"===J.percentage_text_alignment?"8px":"right"===J.percentage_text_alignment?"calc(100% - 32px)":"50%"};
                    transform: ${"minimal"===J.bar_style?"none":"center"===J.percentage_text_alignment?"translate(-50%, -50%)":"translate(0, -50%)"};
                    text-align: ${J.percentage_text_alignment||"center"};
                    font-size: ${V.font_size?`${V.font_size}px`:`${J.percentage_text_size||14}px`};
                    color: ${J.percentage_text_color||V.color||K.color||"white"};
                    font-weight: 600;
                    z-index: ${"minimal"===J.bar_style?"2":"10"};
                    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
                    white-space: nowrap;
                    ${"minimal"===J.bar_style?"margin-top: 8px; position: relative; display: block;":""}
                  "
                    >
                      ${(()=>{var e,i,o;if(J.show_value){if(M)return"65 kWh";const a=J.percentage_type||"entity";if("difference"===a){const i=J.percentage_current_entity;if(i&&(null==t?void 0:t.states[i])){const o=t.states[i];try{return(0,c.formatEntityState)(t,i,{includeUnit:!0})}catch(t){return`${o.state}${(null===(e=o.attributes)||void 0===e?void 0:e.unit_of_measurement)||""}`}}}else if("template"===a){const e=J.percentage_template;if(e&&t){t.__uvc_template_strings||(t.__uvc_template_strings={});const o=`bar_percentage_${J.id}_${this._hashString(e)}`,a=null===(i=t.__uvc_template_strings)||void 0===i?void 0:i[o];if(void 0!==a)return String(a)}}const n=null==t?void 0:t.states[J.entity];if(n)try{return(0,c.formatEntityState)(t,J.entity,{includeUnit:!0})}catch(e){return`${n.state}${(null===(o=n.attributes)||void 0===o?void 0:o.unit_of_measurement)||""}`}return"N/A"}return`${Math.round(R)}%`})()}
                    </div>
                  `:""}
          </div>

          ${!(null==t?void 0:t.states[J.entity])&&J.entity?o.qy`
                  <div
                    class="entity-error"
                    style="color: var(--error-color); font-size: 12px; margin-top: 4px;"
                  >
                    Entity not found: ${J.entity}
                  </div>
                `:""}
        </div>

        <!-- Left and Right Side Labels (Below Bar) -->
        ${J.left_enabled||J.right_enabled?o.qy`
                <div
                  class="bar-labels-below"
                  style="display: flex; justify-content: ${J.label_alignment||"space-between"}; align-items: center; margin-top: 8px; gap: 16px; width: 100%;"
                >
                  ${J.left_enabled?o.qy`
                        <div class="left-side-below" style="text-align: left;">
                          ${J.left_title&&J.left_title.trim()?o.qy`
                                <span
                                  style="font-size: ${V.font_size?`${V.font_size}px`:`${J.left_title_size||14}px`}; color: ${V.color||J.left_title_color||K.color||"var(--primary-text-color)"};"
                                >
                                  ${J.left_title}:
                                </span>
                              `:""}
                          <span
                            style="font-size: ${V.font_size?`${V.font_size}px`:`${J.left_value_size||14}px`}; font-weight: 600; color: ${V.color||J.left_value_color||K.color||"var(--primary-text-color)"}; margin-left: ${J.left_title&&J.left_title.trim()?"4px":"0"};"
                          >
                            ${N}
                          </span>
                        </div>
                      `:o.qy`<div></div>`}
                  ${J.right_enabled?o.qy`
                        <div class="right-side-below" style="text-align: right;">
                          ${J.right_title&&J.right_title.trim()?o.qy`
                                <span
                                  style="font-size: ${V.font_size?`${V.font_size}px`:`${J.right_title_size||14}px`}; color: ${V.color||J.right_title_color||K.color||"var(--primary-text-color)"};"
                                >
                                  ${J.right_title}:
                                </span>
                              `:""}
                          <span
                            style="font-size: ${V.font_size?`${V.font_size}px`:`${J.right_value_size||14}px`}; font-weight: 600; color: ${V.color||J.right_value_color||K.color||"var(--primary-text-color)"}; margin-left: ${J.right_title&&J.right_title.trim()?"4px":"0"};"
                          >
                            ${L}
                          </span>
                        </div>
                      `:o.qy`<div></div>`}
                </div>
              `:""}
        </div>
      </div>
    `}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}validate(e){const t=e,i=[...super.validate(e).errors];return t.entity&&""!==t.entity.trim()||i.push("Entity ID is required"),t.height&&(t.height<5||t.height>200)&&i.push("Bar height must be between 5 and 200 pixels"),t.border_radius&&(t.border_radius<0||t.border_radius>100)&&i.push("Border radius must be between 0 and 100 pixels"),t.limit_entity&&""!==t.limit_entity.trim()&&(t.limit_entity.includes(".")||i.push("Limit entity must be a valid entity ID (e.g., sensor.battery_limit)")),{valid:0===i.length,errors:i}}getStyles(){return'\n      .bar-module-preview {\n        display: block; /* ensure bar occupies width of its container */\n        width: 100%;\n        max-width: 100%;\n        overflow: visible;\n        box-sizing: border-box;\n        min-width: 80px; /* keep a visible track inside flex rows */\n        position: relative;\n        z-index: 0; /* Establish stacking context */\n      }\n      \n      .bar-container {\n        width: 100%;\n        position: relative;\n        display: block;\n        box-sizing: border-box;\n        min-width: 0; /* allow flex parent to size correctly */\n        /* Ensure minimal style dots stay within container bounds */\n        contain: layout style;\n      }\n      \n      /* Minimal style specific containment */\n      .bar-container.minimal-style {\n        overflow: visible;\n        isolation: isolate; /* Create new stacking context */\n      }\n      \n      .bar-fill {\n        position: relative;\n        z-index: 1;\n        overflow: hidden; /* Keep overlay animations clipped to rounded corners */\n      }\n      \n      .bar-fill-overlay {\n        position: absolute;\n        inset: 0;\n        pointer-events: none;\n        z-index: 2;\n        overflow: hidden;\n        mix-blend-mode: normal;\n      }\n      \n      /* Ensure overlay inherits border radius properly */\n      .bar-fill-overlay {\n        border-radius: inherit;\n      }\n      \n      /* Outline style animation */\n      @keyframes outline-pulse {\n        0%, 100% { opacity: 0.6; }\n        50% { opacity: 1; }\n      }\n      \n      .bar-limit-line {\n        opacity: 0.9;\n        transition: opacity 0.2s ease;\n      }\n      \n      .bar-limit-line:hover {\n        opacity: 1;\n      }\n      \n      .bar-name {\n        font-size: 16px;\n        font-weight: 600;\n        color: var(--primary-text-color);\n        margin-bottom: 8px;\n        user-select: none;\n        word-wrap: break-word;\n      }\n      \n      .bar-value {\n        user-select: none;\n        text-shadow: 0 1px 2px rgba(0,0,0,0.1);\n      }\n      \n      .bar-value-outside {\n        user-select: none;\n        text-align: center;\n        font-weight: 600;\n        color: var(--primary-text-color);\n      }\n      \n      .entity-error {\n        font-size: 12px;\n        color: var(--error-color);\n        margin-top: 6px;\n        font-style: italic;\n        opacity: 0.8;\n      }\n      \n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n      \n      .settings-section * {\n        box-sizing: border-box;\n      }\n      \n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        margin-bottom: 12px !important;\n        padding-bottom: 0 !important;\n        border-bottom: none !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n      \n      .settings-section label {\n        display: block;\n        font-weight: 500;\n        margin-bottom: 4px;\n        color: var(--primary-text-color);\n      }\n      \n      .settings-section input,\n      .settings-section select {\n        width: 100%;\n        max-width: 100%;\n        padding: 8px;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--card-background-color);\n        color: var(--primary-text-color);\n        font-size: 14px;\n        box-sizing: border-box;\n      }\n      \n      .settings-section .checkbox-wrapper {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-weight: 500;\n      }\n      \n      .settings-section .checkbox-wrapper input[type="checkbox"] {\n        width: auto;\n        margin: 0;\n      }\n      \n      .help-text {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        margin: 4px 0 0 0;\n        opacity: 0.8;\n        word-wrap: break-word;\n      }\n      \n      .number-input,\n      .text-input,\n      .entity-input,\n      .select-input {\n        transition: border-color 0.2s ease;\n      }\n      \n      .number-input:focus,\n      .text-input:focus,\n      .entity-input:focus,\n      .select-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 1px var(--primary-color);\n      }\n      \n      /* Fix padding overflow */\n      .module-general-settings {\n        max-width: 100%;\n        /* Allow dropdown menus to render outside local containers */\n        overflow: visible;\n      }\n      \n      .module-general-settings { }\n      /* Dropdown positioning fixes scoped to Bar module (defensive in case globals miss) */\n      /* Let HA handle dropdown positioning naturally */\n      .bar-module-preview .settings-section {\n        overflow: visible;\n      }\n\n      .module-general-settings > * {\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Proper form field arrangement: Title -> Description -> Field */\n      .settings-section ha-form {\n        --ha-form-field-margin: 8px 0;\n      }\n\n      .settings-section ha-form::part(field) {\n        margin-bottom: 8px;\n      }\n\n      .settings-section ha-form .ha-form-label {\n        font-size: 14px;\n        font-weight: 500;\n        color: var(--primary-text-color);\n        margin-bottom: 4px;\n        display: block;\n      }\n\n      .settings-section ha-form .ha-form-description {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        margin-bottom: 8px;\n        display: block;\n        opacity: 0.8;\n        line-height: 1.4;\n      }\n\n      .settings-section ha-form mwc-formfield {\n        --mdc-typography-body2-font-size: 14px;\n      }\n\n      .settings-section ha-form ha-switch {\n        --switch-checked-color: var(--primary-color);\n        --switch-unchecked-color: var(--disabled-color);\n      }\n\n      /* Field arrangement styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n      \n        margin-bottom: 4px !important;\n        padding-bottom: 0 !important;\n        border-bottom: none !important;\n        display: block !important;\n        line-height: 1.2 !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n        font-weight: 400 !important;\n      }\n\n      /* Remove labels from ultra-color-picker when using external titles */\n      .settings-section ultra-color-picker .color-label {\n        display: none;\n      }\n\n      /* Prevent form fields from going off screen */\n      .property-input, .property-select {\n        max-width: 500px;\n      }\n\n      /* Apply max-width to ha-form elements */\n      .settings-section ha-form {\n        max-width: 500px;\n      }\n\n      /* Apply max-width to form inputs and selects */\n      .settings-section input,\n      .settings-section select,\n      .settings-section ha-textfield,\n      .settings-section ha-select {\n        max-width: 500px;\n      }\n      /* Give selects a consistent card background (scoped to bar module sections only) */\n      .bar-module-preview .settings-section ha-select {\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        border-radius: 6px !important;\n        padding: 4px 0 !important;\n        /* MWC menu and text field surfaces */\n        --mdc-theme-surface: var(--card-background-color);\n        --mdc-text-field-fill-color: var(--card-background-color);\n        --mdc-select-fill-color: var(--card-background-color);\n        --mdc-menu-surface-fill-color: var(--card-background-color);\n        --mdc-text-field-ink-color: var(--primary-text-color);\n        --mdc-text-field-outline-color: var(--divider-color);\n        --mdc-select-dropdown-icon-color: var(--secondary-text-color);\n        --mdc-theme-text-primary-on-background: var(--primary-text-color);\n        --mdc-theme-on-surface: var(--primary-text-color);\n      }\n\n      /* Ensure ha-form selects inherit same surface in all contexts */\n      .bar-module-preview .settings-section ha-form ha-select {\n        --mdc-theme-surface: var(--card-background-color);\n        --mdc-text-field-fill-color: var(--card-background-color);\n        --mdc-select-fill-color: var(--card-background-color);\n        --mdc-menu-surface-fill-color: var(--card-background-color);\n        --mdc-text-field-ink-color: var(--primary-text-color);\n        --mdc-text-field-outline-color: var(--divider-color);\n        --mdc-select-dropdown-icon-color: var(--secondary-text-color);\n        --mdc-theme-text-primary-on-background: var(--primary-text-color);\n        --mdc-theme-on-surface: var(--primary-text-color);\n      }\n\n      /* Give animation selects a proper background */\n      .settings-section[data-animation] ha-select,\n      .animation-select-group ha-select {\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        border-radius: 6px !important;\n        padding: 4px 0 !important;\n      }\n      /* Ensure percentage type dropdown has standard background container */\n      .percentage-type-group ha-select {\n        background: var(--card-background-color) !important;\n        border: 1px solid var(--divider-color) !important;\n        border-radius: 6px !important;\n        padding: 4px 0 !important;\n      }\n\n      /* Fix slider and input field layouts */\n      .settings-section .field-group {\n        max-width: 100%;\n        overflow: visible;\n        align-items: stretch;\n      }\n\n      /* Ensure slider containers don\'t get cut off */\n      .settings-section ha-form[style*="flex: 1"] {\n        min-width: 200px;\n        flex: 1 1 200px;\n      }\n\n      /* Fix input field containers */\n      .settings-section input[type="number"] {\n        min-width: 60px;\n        max-width: 80px;\n        flex-shrink: 0;\n      }\n\n      /* Ensure proper spacing for slider + input combos */\n      .settings-section div[style*="display: flex; gap: 8px"] {\n        gap: 8px !important;\n        align-items: center !important;\n        flex-wrap: nowrap !important;\n        min-width: 0;\n      }\n\n      .settings-section div[style*="display: flex; gap: 12px"] {\n        gap: 12px !important;\n        align-items: center !important;\n        flex-wrap: nowrap !important;\n        min-width: 0;\n      }\n\n      /* Prevent overflow in gradient editor */\n      .gradient-editor {\n        max-width: 100%;\n        overflow: visible;\n      }\n\n      .gradient-stop {\n        max-width: 100%;\n        overflow: visible;\n        position: relative;\n      }\n\n      /* Gradient stop drag handle styling */\n      .gradient-stop .drag-handle {\n        transition: all 0.2s ease;\n      }\n\n      .gradient-stop:hover .drag-handle {\n        color: var(--primary-color) !important;\n        transform: scale(1.1);\n      }\n\n      /* Ultra color picker sizing */\n      ultra-color-picker {\n        min-width: 40px;\n        max-width: 60px;\n        flex-shrink: 0;\n      }\n\n      /* Ensure gradient controls don\'t overflow */\n      .gradient-stops {\n        max-width: 100%;\n        overflow: visible;\n      }\n\n      /* Hide automatic value displays from ha-form sliders to prevent cut-off */\n      .settings-section ha-form ha-slider::part(value-display),\n      .settings-section ha-form mwc-slider::part(value-display),\n      .settings-section ha-form ha-slider .value-display,\n      .settings-section ha-form mwc-slider .value-display {\n        display: none !important;\n      }\n\n      /* Hide any automatic number displays that might appear next to sliders */\n      .settings-section ha-form .slider-value,\n      .settings-section ha-form .current-value,\n      .settings-section ha-form .number-display {\n        display: none !important;\n      }\n\n      /* Override any default slider value display styles */\n      .settings-section ha-form[data-field*="size"] .mdc-slider-value-indicator,\n      .settings-section ha-form[data-field*="size"] .value-indicator {\n        display: none !important;\n      }\n\n      /* More comprehensive hiding of slider value displays */\n      .settings-section ha-form ha-textfield[type="number"],\n      .settings-section ha-form mwc-textfield[type="number"],\n      .settings-section ha-form .number-input-display {\n        display: none !important;\n      }\n\n      /* Target specific Home Assistant slider value containers */\n      .settings-section ha-form .form-group .number-display,\n      .settings-section ha-form .ha-form-number .display-value,\n      .settings-section ha-form [role="slider"] + *:not(.mdc-slider-track),\n      .settings-section ha-form .mdc-slider + .value-display {\n        display: none !important;\n      }\n\n      /* Ensure sliders take full width without value displays */\n      .settings-section ha-form .mdc-slider,\n      .settings-section ha-form ha-slider {\n        width: 100% !important;\n        max-width: 100% !important;\n      }\n\n      /* Hide any text elements that might display current values */\n      .settings-section ha-form .field-wrapper > span:last-child,\n      .settings-section ha-form .form-control > span:last-child,\n      .settings-section ha-form .slider-container > span:last-child {\n        display: none !important;\n      }\n\n      /* Specifically target number displays in form groups */\n      .settings-section ha-form .form-group > *:last-child:not(ha-slider):not(.mdc-slider):not(input[type="range"]) {\n        display: none !important;\n      }\n\n      /* Custom Slider Controls - Optimized Design */\n      .number-range-control {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n      }\n\n      .range-slider {\n        flex: 0 0 65%;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        min-width: 0;\n      }\n\n      .range-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider::-moz-range-thumb {\n        width: 18px;\n        height: 18px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .range-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .range-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .range-input {\n        flex: 0 0 20%;\n        padding: 6px 8px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        box-sizing: border-box;\n      }\n\n      .range-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .range-reset-btn {\n        width: 32px;\n        height: 32px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .range-reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .range-reset-btn ha-icon {\n        font-size: 14px;\n      }\n\n      /* Conditional Fields Grouping - Reusable Pattern */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n        border-left-color: var(--primary-color);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n        margin: 0;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n        background: transparent;\n      }\n\n      /* Remove top margin from first field in conditional groups */\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      /* Ensure proper spacing within conditional field groups */\n      .conditional-fields-content .field-title {\n     \n      }\n\n      .conditional-fields-content .field-description {\n        color: var(--secondary-text-color);\n        opacity: 0.9;\n      }\n\n      /* Animation for conditional fields appearing */\n      .conditional-fields-group {\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      @keyframes slideInFromLeft {\n        from {\n          opacity: 0;\n          transform: translateX(-10px);\n        }\n        to {\n          opacity: 1;\n          transform: translateX(0);\n        }\n      }\n\n      /* Make conditional fields responsive */\n      @media (max-width: 768px) {\n        .conditional-fields-group {\n          border-left-width: 3px;\n        }\n        \n        .conditional-fields-header {\n          padding: 10px 12px;\n          font-size: 13px;\n        }\n        \n        .conditional-fields-content {\n          padding: 12px;\n        }\n      }\n\n      /* ==========================\n         Bar Animations\n         These classes animate the .bar-fill element when triggered\n         ========================== */\n      .bar-fill.bar-anim-charging::after {\n        content: \'\';\n        position: absolute; inset: 0; pointer-events: none;\n        background-image: repeating-linear-gradient(45deg, rgba(255,255,255,0.25) 0, rgba(255,255,255,0.25) 10px, transparent 10px, transparent 20px);\n        background-size: 28px 28px;\n        animation: charging-stripes 1.2s linear infinite;\n      }\n      @keyframes charging-stripes { 0% { background-position: 0 0; } 100% { background-position: 28px 0; } }\n\n      .bar-fill.bar-anim-pulse { animation: bar-pulse 1.6s ease-in-out infinite; }\n      @keyframes bar-pulse { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.3); } }\n\n      .bar-fill.bar-anim-blink { animation: bar-blink 1s steps(2, start) infinite; }\n      @keyframes bar-blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }\n\n      .bar-fill.bar-anim-bounce { animation: bar-bounce 1.2s ease-in-out infinite; transform-origin: center; }\n      @keyframes bar-bounce { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-2px); } }\n\n      .bar-fill.bar-anim-glow { box-shadow: 0 0 10px currentColor, 0 0 20px currentColor; animation: bar-glow 1.5s ease-in-out infinite; }\n      @keyframes bar-glow { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.4); } }\n\n      .bar-fill.bar-anim-rainbow::after { content:\'\'; position:absolute; inset:0; pointer-events:none; background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet); background-size: 400% 100%; mix-blend-mode: overlay; opacity: 0.9; animation: rainbow-shift 3s linear infinite; }\n      @keyframes rainbow-shift { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }\n\n      /* Bubbles: two extended layers with discrete bubbles, animated bottom -> top */\n      .bar-fill.bar-anim-bubbles::before,\n      .bar-fill.bar-anim-bubbles::after {\n        content: \'\';\n        position: absolute;\n        left: 0; right: 0;\n        top: -220%;\n        height: 440%;\n        pointer-events: none;\n        will-change: transform, opacity;\n        background-repeat: no-repeat;\n        filter: none;\n      }\n      /* Layer 1 (faster, fewer bubbles) */\n      .bar-fill.bar-anim-bubbles::before {\n        background:\n          radial-gradient(circle at 8% 80%,  rgba(255,255,255,0.55) 0 6px, transparent 7px),\n          radial-gradient(circle at 22% 55%, rgba(255,255,255,0.45) 0 5px, transparent 6px),\n          radial-gradient(circle at 37% 72%, rgba(255,255,255,0.50) 0 7px, transparent 8px),\n          radial-gradient(circle at 49% 60%, rgba(255,255,255,0.42) 0 5px, transparent 6px),\n          radial-gradient(circle at 63% 82%, rgba(255,255,255,0.50) 0 6px, transparent 7px),\n          radial-gradient(circle at 77% 68%, rgba(255,255,255,0.46) 0 5px, transparent 6px),\n          radial-gradient(circle at 89% 78%, rgba(255,255,255,0.52) 0 6px, transparent 7px);\n        animation: bubbles-rise-layer1 7s linear infinite;\n        transform: translateY(0%);\n      }\n      /* Layer 2 (slower, different positions) */\n      .bar-fill.bar-anim-bubbles::after {\n        background:\n          radial-gradient(circle at 14% 84%, rgba(255,255,255,0.48) 0 7px, transparent 8px),\n          radial-gradient(circle at 30% 66%, rgba(255,255,255,0.40) 0 5px, transparent 6px),\n          radial-gradient(circle at 55% 82%, rgba(255,255,255,0.50) 0 6px, transparent 7px),\n          radial-gradient(circle at 71% 64%, rgba(255,255,255,0.44) 0 5px, transparent 6px),\n          radial-gradient(circle at 84% 78%, rgba(255,255,255,0.50) 0 7px, transparent 8px);\n        animation: bubbles-rise-layer2 10s linear infinite;\n        animation-delay: 1.2s;\n        transform: translateY(0%);\n      }\n      @keyframes bubbles-rise-layer1 {\n        0%   { transform: translateY(0%); opacity: 0; }\n        22%  { opacity: 1; }\n        88%  { opacity: 1; }\n        100% { transform: translateY(-58%); opacity: 0; }\n      }\n      @keyframes bubbles-rise-layer2 {\n        0%   { transform: translateY(0%); opacity: 0; }\n        26%  { opacity: 1; }\n        88%  { opacity: 1; }\n        100% { transform: translateY(-58%); opacity: 0; }\n      }\n\n      .bar-fill.bar-anim-fill { animation: bar-fill-wave 1.5s ease-in-out infinite; }\n      @keyframes bar-fill-wave { 0%,100% { filter: saturate(1); } 50% { filter: saturate(1.4); } }\n\n      .bar-fill.bar-anim-ripple::after {\n        content: \'\';\n        position: absolute; inset: 0; pointer-events: none;\n        background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.65) 20%, transparent 40%);\n        background-size: 200% 100%;\n        animation: ripple-sweep 1.1s ease-in-out infinite;\n        opacity: 0.9;\n      }\n      @keyframes ripple-sweep {\n        0% { background-position-x: -50%; }\n        100% { background-position-x: 150%; }\n      }\n\n      /* Traffic: moving hazard chevrons left->right to evoke flowing traffic lanes */\n      .bar-fill.bar-anim-traffic::after {\n        content:\'\'; position:absolute; inset:0; pointer-events:none; opacity: 0.95;\n        background-image:\n          linear-gradient(135deg, rgba(255,255,255,0.00) 0 40%, rgba(255,255,255,0.25) 40% 60%, rgba(255,255,255,0.00) 60% 100%),\n          linear-gradient(-135deg, rgba(255,255,255,0.00) 0 40%, rgba(255,255,255,0.25) 40% 60%, rgba(255,255,255,0.00) 60% 100%);\n        background-size: 44px 100%, 44px 100%;\n        background-position: 0 0, 22px 0;\n        animation: traffic-chevrons 1s linear infinite;\n        mix-blend-mode: screen;\n      }\n      @keyframes traffic-chevrons { 0% { background-position: 0 0, 22px 0; } 100% { background-position: 44px 0, 66px 0; } }\n\n      /* Traffic Flow: thicker bands with alternating opacity, moving left->right */\n      \n\n      .bar-fill.bar-anim-heartbeat { animation: heartbeat 1.2s ease-in-out infinite; transform-origin: center; }\n      @keyframes heartbeat { 0%,100% { transform: scale(1); } 20% { transform: scale(1.02); } 40% { transform: scale(0.99); } 60% { transform: scale(1.02); } 80% { transform: scale(1); } }\n\n      .bar-fill.bar-anim-flicker { animation: flicker 2s infinite; }\n      @keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100%{ opacity:1 } 20%,24%,55%{ opacity:0.4 } }\n\n      .bar-fill.bar-anim-shimmer { position: relative; overflow: hidden; }\n      .bar-fill.bar-anim-shimmer::after { content:\'\'; position:absolute; top:0; bottom:0; width:40%; left:-40%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.35), transparent); animation: shimmer-move 1.4s ease-in-out infinite; }\n      @keyframes shimmer-move { 0% { left: -40%; } 100% { left: 120%; } }\n\n      .bar-fill.bar-anim-vibrate { animation: vibrate 0.15s linear infinite; }\n      @keyframes vibrate { 0% { transform: translate(0); } 25% { transform: translate(0.5px,-0.5px); } 50% { transform: translate(-0.5px,0.5px); } 75% { transform: translate(0.5px,0.5px); } 100% { transform: translate(0); } }\n\n      /* Minimal Bar Animations */\n      .minimal-track.bar-anim-pulse { animation: minimal-track-pulse 1.6s ease-in-out infinite; }\n      @keyframes minimal-track-pulse { 0%,100% { opacity: 0.8; } 50% { opacity: 1; } }\n      \n      .minimal-dot.bar-anim-pulse { animation: minimal-dot-pulse 1.6s ease-in-out infinite; }\n      @keyframes minimal-dot-pulse { 0%,100% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.15); } }\n      \n      /* Minimal style z-index management */\n      .minimal-track {\n        z-index: 1;\n        position: relative;\n      }\n      \n      .minimal-dot {\n        z-index: 3 !important;\n        position: absolute;\n        /* Ensure dot stays within reasonable bounds */\n        max-width: 32px;\n        max-height: 32px;\n        /* Prevent dot from going outside card boundaries */\n        contain: size layout style;\n      }\n      \n      /* Percentage text positioning for minimal style */\n      .bar-container .percentage-text {\n        /* Ensure text doesn\'t interfere with HA header */\n        max-width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      \n      .minimal-track.bar-anim-glow { box-shadow: 0 0 4px currentColor; animation: minimal-track-glow 1.5s ease-in-out infinite; }\n      @keyframes minimal-track-glow { 0%,100% { box-shadow: 0 0 4px currentColor; } 50% { box-shadow: 0 0 8px currentColor; } }\n      \n      .minimal-dot.bar-anim-glow { animation: minimal-dot-glow 1.5s ease-in-out infinite; }\n      @keyframes minimal-dot-glow { 0%,100% { box-shadow: 0 2px 4px rgba(0,0,0,0.2), 0 0 6px currentColor; } 50% { box-shadow: 0 2px 6px rgba(0,0,0,0.3), 0 0 12px currentColor; } }\n      \n      .minimal-track.bar-anim-blink { animation: minimal-blink 1s steps(2, start) infinite; }\n      .minimal-dot.bar-anim-blink { animation: minimal-blink 1s steps(2, start) infinite; }\n      @keyframes minimal-blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }\n      \n      .minimal-dot.bar-anim-bouncing { animation: minimal-dot-bounce 1.2s ease-in-out infinite; }\n      @keyframes minimal-dot-bounce { 0%,100% { transform: translate(-50%, -50%); } 50% { transform: translate(-50%, calc(-50% - 4px)); } }\n      \n      .minimal-track.bar-anim-shimmer { position: relative; overflow: hidden; }\n      .minimal-track.bar-anim-shimmer::after { content:\'\'; position:absolute; top:-50%; bottom:-50%; width:40%; left:-40%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent); animation: minimal-shimmer-move 1.4s ease-in-out infinite; }\n      @keyframes minimal-shimmer-move { 0% { left: -40%; } 100% { left: 120%; } }\n      \n      .minimal-dot.bar-anim-vibrate { animation: minimal-dot-vibrate 0.15s linear infinite; }\n      @keyframes minimal-dot-vibrate { 0% { transform: translate(-50%, -50%); } 25% { transform: translate(calc(-50% + 0.5px), calc(-50% - 0.5px)); } 50% { transform: translate(calc(-50% - 0.5px), calc(-50% + 0.5px)); } 75% { transform: translate(calc(-50% + 0.5px), calc(-50% + 0.5px)); } 100% { transform: translate(-50%, -50%); } }\n    '}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}getBackgroundImageCSS(e,t){const i=e.background_image_type,o=e.background_image,a=e.background_image_entity;switch(i){case"upload":if(o)return o.startsWith("/api/image/serve/")?`url("${this.getImageUrl(t,o)}")`:(o.startsWith("data:image/"),`url("${o}")`);break;case"entity":if(a&&t){const e=t.states[a];if(e){const t=e.attributes.entity_picture||e.attributes.image||e.state;if(t&&"unknown"!==t&&"unavailable"!==t)return`url("${t}")`}}break;case"url":if(o)return`url("${o}")`;break;default:return"none"}return"none"}getImageUrl(e,t){if(!t)return"";if(t.startsWith("http"))return t;if(t.startsWith("data:image/"))return t;if(t.includes("/api/image/serve/")){const i=t.match(/\/api\/image\/serve\/([^\/]+)/);if(i&&i[1]){const o=i[1];try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/api/image/serve/${o}/original`}catch(e){return t}}return t}return t.startsWith("/")?`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}${t}`:t}getBarSizeFromHeight(e){return e<=12?"thin":e<=20?"regular":e<=30?"thick":"thiccc"}getBarRadiusFromStyle(e){return 0===e?"square":e<8?"rounded-square":"round"}interpolateColor(e,t,i){const o=this.hexToRgb(e),a=this.hexToRgb(t);if(!o||!a)return e;const n=Math.round(o.r+(a.r-o.r)*i),r=Math.round(o.g+(a.g-o.g)*i),s=Math.round(o.b+(a.b-o.b)*i);return this.rgbToHex(n,r,s)}hexToRgb(e){if(!e.startsWith("#"))return null;const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}rgbToHex(e,t,i){return`#${((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)}`}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}}},4276:(e,t,i)=>{i.d(t,{EM:()=>o,MZ:()=>s,wk:()=>l});const o=e=>(t,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(e,t)})):customElements.define(e,t)};var a=i(4885);const n={attribute:!0,type:String,converter:a.W3,reflect:!1,hasChanged:a.Ec},r=(e=n,t,i)=>{const{kind:o,metadata:a}=i;let r=globalThis.litPropertyMetadata.get(a);if(void 0===r&&globalThis.litPropertyMetadata.set(a,r=new Map),r.set(i.name,e),"accessor"===o){const{name:o}=i;return{set(i){const a=t.get.call(this);t.set.call(this,i),this.requestUpdate(o,a,e)},init(t){return void 0!==t&&this.P(o,void 0,e),t}}}if("setter"===o){const{name:o}=i;return function(i){const a=this[o];t.call(this,i),this.requestUpdate(o,a,e)}}throw Error("Unsupported decorator location: "+o)};function s(e){return(t,i)=>"object"==typeof i?r(e,t,i):((e,t,i)=>{const o=t.hasOwnProperty(i);return t.constructor.createProperty(i,o?{...e,wrapped:!0}:e),o?Object.getOwnPropertyDescriptor(t,i):void 0})(e,t,i)}function l(e){return s({...e,state:!0,attribute:!1})}},4345:(e,t,i)=>{i.d(t,{I:()=>o});class o{constructor(e){this.hass=e,this._templateSubscriptions=new Map,this._templateResults=new Map,this._evaluationCache=new Map,this.CACHE_TTL=1e3}getTemplateResult(e){const t=this._evaluationCache.get(e);return t&&Date.now()-t.timestamp<this.CACHE_TTL?t.value:this._templateResults.get(e)}hasTemplateSubscription(e){return this._templateSubscriptions.has(e)}getAllTemplateResults(){return this._templateResults}async evaluateTemplate(e){var t;if(!e||!this.hass)return!1;const i=e.trim();if(!i)return!1;const o=`eval_${i}`,a=this._evaluationCache.get(o);if(a&&Date.now()-a.timestamp<this.CACHE_TTL)return a.value;try{const e=await this.hass.callApi("POST","template",{template:i}),t=e.toLowerCase().trim();let a;if(["true","on","yes","1"].includes(t))a=!0;else if(["false","off","no","0","unavailable","unknown","none",""].includes(t))a=!1;else{const i=parseFloat(t);isNaN(i)?(console.warn(`[UltraVehicleCard] Template evaluated to ambiguous string '${e}', interpreting as false.`),a=!1):a=0!==i}return this._evaluationCache.set(o,{value:a,timestamp:Date.now(),stringValue:e}),a}catch(e){const o=(null===(t=e.error)||void 0===t?void 0:t.message)||e.message||String(e);return console.error(`[UltraVehicleCard] Error evaluating template via API: ${i}. Error: ${o}`),!1}}async subscribeToTemplate(e,t,i){if(e&&this.hass){if(this._templateSubscriptions.has(t)){try{const e=this._templateSubscriptions.get(t);if(e){const t=await e;t&&"function"==typeof t&&await t()}}catch(e){}this._templateSubscriptions.delete(t)}try{const o=new Promise(((o,a)=>{o(this.hass.connection.subscribeMessage((e=>{const o=e.result;this.hass.__uvc_template_strings||(this.hass.__uvc_template_strings={}),this.hass.__uvc_template_strings[t]=o;const a=this.parseTemplateResult(o,t);a!==this._templateResults.get(t)&&i&&i(),this._templateResults.set(t,a),this._evaluationCache.set(t,{value:a,timestamp:Date.now(),stringValue:o})}),{type:"render_template",template:e}))}));this._templateSubscriptions.set(t,o)}catch(t){console.error(`[UltraVehicleCard] Failed to subscribe to template: ${e}`,t)}}}parseTemplateResult(e,t){if(t&&t.startsWith("info_entity_"))return!0;if(t&&t.startsWith("state_text_"))return!0;if(null==e)return!1;if("boolean"==typeof e)return e;if("number"==typeof e)return 0!==e;if("string"==typeof e){const t=e.toLowerCase().trim();return"true"===t||"on"===t||"yes"===t||"active"===t||"home"===t||"1"===t||"open"===t||"unlocked"===t||"false"!==t&&"off"!==t&&"no"!==t&&"inactive"!==t&&"not_home"!==t&&"away"!==t&&"0"!==t&&"closed"!==t&&"locked"!==t&&"unavailable"!==t&&"unknown"!==t&&""!==t}return console.warn(`[UltraVehicleCard] Template evaluated to ambiguous type '${typeof e}', interpreting as false.`),!1}async unsubscribeAllTemplates(){for(const[e,t]of this._templateSubscriptions.entries())try{if(t){const e=await Promise.resolve(t).catch((e=>null));if(e&&"function"==typeof e)try{await e()}catch(e){}}}catch(e){}this._templateSubscriptions.clear(),this._templateResults.clear(),this._evaluationCache.clear()}updateHass(e){this.hass=e,this._evaluationCache.clear()}}},4504:(e,t,i)=>{i.d(t,{o:()=>u});var o=i(5183),a=i(866),n=i(796),r=i(5575),s=i(9662),l=i(2371),d=i(4345),c=i(7987),p=i(456);i(6768);class u extends a.m{constructor(){super(...arguments),this.metadata={type:"text",title:"Text Module",description:"Display custom text content",author:"WJD Designs",version:"1.0.0",icon:"mdi:format-text",category:"content",tags:["text","content","typography","template"]},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1}createDefault(e,t){return{id:e||this.generateId("text"),type:"text",text:"Sample Text",link:"",hide_if_no_link:!1,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},icon:"",icon_color:"",icon_position:"before",template_mode:!1,template:"",enable_hover_effect:!0,hover_background_color:"var(--divider-color)",font_weight:"700",text_transform:"uppercase",design:{},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const s=e,l=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Content Configuration -->
        ${this.renderSettingsSection((0,p.kg)("editor.text.content_section.title",l,"Content Configuration"),(0,p.kg)("editor.text.content_section.desc",l,"Configure the text content and basic settings for this module."),[{title:(0,p.kg)("editor.text.text_content",l,"Text Content"),description:(0,p.kg)("editor.text.text_content_desc",l,"Enter the text content to display in this module."),hass:t,data:{text:s.text||""},schema:[this.textField("text")],onChange:e=>a(e.detail.value)}])}

        <!-- Icon Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,p.kg)("editor.text.icon_section.title",l,"Icon Configuration")}
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            ${(0,p.kg)("editor.text.icon_section.desc",l,"Choose an icon to display alongside the text content.")}
          </div>

          ${r.U.renderFieldSection((0,p.kg)("editor.text.icon",l,"Icon"),(0,p.kg)("editor.text.icon_desc",l,"Choose an icon to display alongside the text. Leave empty for no icon."),t,{icon:s.icon||""},[this.iconField("icon")],(e=>a(e.detail.value)))}
          ${s.icon&&""!==s.icon.trim()?o.qy`
                <div style="margin-top: 24px;">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,p.kg)("editor.text.icon_position",l,"Icon Position")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; font-weight: 400; margin-bottom: 12px;"
                  >
                    ${(0,p.kg)("editor.text.icon_position_desc",l,"Choose where to position the icon relative to the text.")}
                  </div>
                  <div
                    style="display: flex; gap: 8px; justify-content: flex-start; flex-wrap: wrap;"
                  >
                    <button
                      type="button"
                      style="padding: 8px 12px; border: 2px solid ${"before"===(s.icon_position||"before")?"var(--primary-color)":"var(--divider-color)"}; background: ${"before"===(s.icon_position||"before")?"var(--primary-color)":"transparent"}; color: ${"before"===(s.icon_position||"before")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                      @click=${()=>a({icon_position:"before"})}
                    >
                      <ha-icon
                        icon="mdi:format-align-left"
                        style="font-size: 16px; flex-shrink: 0;"
                      ></ha-icon>
                      <span style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                        >${(0,p.kg)("editor.text.before_text",l,"Before Text")}</span
                      >
                    </button>
                    <button
                      type="button"
                      style="padding: 8px 12px; border: 2px solid ${"after"===(s.icon_position||"before")?"var(--primary-color)":"var(--divider-color)"}; background: ${"after"===(s.icon_position||"before")?"var(--primary-color)":"transparent"}; color: ${"after"===(s.icon_position||"before")?"white":"var(--primary-text-color)"}; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 4px; flex: 1; min-width: 0; box-sizing: border-box;"
                      @click=${()=>a({icon_position:"after"})}
                    >
                      <ha-icon
                        icon="mdi:format-align-right"
                        style="font-size: 16px; flex-shrink: 0;"
                      ></ha-icon>
                      <span style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                        >${(0,p.kg)("editor.text.after_text",l,"After Text")}</span
                      >
                    </button>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Color Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,p.kg)("editor.text.color_section.title",l,"Color Configuration")}
          </div>
          <div
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
          >
            ${(0,p.kg)("editor.text.color_section.desc",l,"Configure the text and icon colors for this module.")}
          </div>

          <!-- Text Color -->
          <div class="field-container" style="margin-bottom: 24px;">
            <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
              ${(0,p.kg)("editor.text.text_color",l,"Text Color")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
            >
              ${(0,p.kg)("editor.text.text_color_desc",l,"Choose the color for the text content.")}
            </div>
            <ultra-color-picker
              .value=${s.color||""}
              .defaultValue=${"var(--primary-text-color)"}
              .hass=${t}
              @value-changed=${e=>a({color:e.detail.value})}
            ></ultra-color-picker>
          </div>

          <!-- Icon Color (only show if icon is selected) -->
          ${s.icon&&""!==s.icon.trim()?o.qy`
                <div class="conditional-fields-group">
                  <div class="conditional-fields-content">
                    <div class="field-container">
                      <div
                        class="field-title"
                        style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                      >
                        ${(0,p.kg)("editor.text.icon_color",l,"Icon Color")}
                      </div>
                      <div
                        class="field-description"
                        style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                      >
                        ${(0,p.kg)("editor.text.icon_color_desc",l,"Choose the color for the icon.")}
                      </div>
                      <ultra-color-picker
                        .value=${s.icon_color||""}
                        .defaultValue=${"var(--primary-color)"}
                        .hass=${t}
                        @value-changed=${e=>a({icon_color:e.detail.value})}
                      ></ultra-color-picker>
                    </div>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Template Configuration -->
        <div
          class="settings-section template-mode-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,p.kg)("editor.text.template_mode",l,"Template Mode")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,p.kg)("editor.text.template_mode_desc",l,"Use Home Assistant templating syntax to render text")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{template_mode:s.template_mode||!1}}
              .schema=${[{name:"template_mode",label:(0,p.kg)("editor.text.template_mode",l,"Template Mode"),description:(0,p.kg)("editor.text.template_mode_desc",l,"Use Home Assistant templating syntax to render text"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>a({template_mode:e.detail.value.template_mode})}
            ></ha-form>
          </div>

          ${s.template_mode?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{template:s.template||""}}
                    .schema=${[{name:"template",label:(0,p.kg)("editor.text.value_template",l,"Value Template"),description:(0,p.kg)("editor.text.value_template_desc",l,"Template to render the text using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>a({template:e.detail.value.template})}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,p.kg)("editor.text.examples_title",l,"Common Examples:")}
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.example') }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,p.kg)("editor.text.example_basic",l,"Basic value")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.example') | int(default=0) }}%
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,p.kg)("editor.text.example_percent",l,"With percent")}
                    </div>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Text Alignment moved to Design tab per spec -->
      </div>
    `}renderActionsTab(e,t,i,o){return s.A.render(e,t,(e=>o(e)))}renderPreview(e,t,i){var a,n,r;const l=e,u=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en";if(l.hide_if_no_link&&!this.hasActiveLink(l))return o.qy`<div class="text-module-hidden">
        ${(0,p.kg)("editor.text.hidden_no_link",u,"Hidden (no link)")}
      </div>`;const g=l,m=l.design||{},h=(()=>{const e=m.text_align;if(e&&"inherit"!==e)return e;const t=g.text_align;return t&&"inherit"!==t?t:g.alignment&&"inherit"!==g.alignment?g.alignment:"center"})(),_={fontSize:(()=>m.font_size&&"string"==typeof m.font_size&&""!==m.font_size.trim()?/[a-zA-Z%]/.test(m.font_size)?m.font_size:this.addPixelUnit(m.font_size)||m.font_size:void 0!==g.font_size?`${g.font_size}px`:"26px")(),fontFamily:m.font_family||g.font_family||"inherit",color:m.color||g.color||"inherit",textAlign:h,fontWeight:m.font_weight?m.font_weight:void 0!==g.font_weight?g.font_weight:"700",fontStyle:m.font_style||g.font_style||"inherit",textTransform:m.text_transform?m.text_transform:void 0!==g.text_transform?g.text_transform:"uppercase",textDecoration:"none",lineHeight:m.line_height||g.line_height||"inherit",letterSpacing:m.letter_spacing||g.letter_spacing||"inherit",margin:"0",display:"flex",alignItems:"center",justifyContent:{left:"flex-start",center:"center",right:"flex-end"}[h]||"center",gap:"8px",width:"100%",textShadow:m.text_shadow_h&&m.text_shadow_v?`${m.text_shadow_h||"0"} ${m.text_shadow_v||"0"} ${m.text_shadow_blur||"0"} ${m.text_shadow_color||"rgba(0,0,0,0.5)"}`:g.text_shadow_h&&g.text_shadow_v?`${g.text_shadow_h||"0"} ${g.text_shadow_v||"0"} ${g.text_shadow_blur||"0"} ${g.text_shadow_color||"rgba(0,0,0,0.5)"}`:"none",boxShadow:m.box_shadow_h&&m.box_shadow_v?`${m.box_shadow_h||"0"} ${m.box_shadow_v||"0"} ${m.box_shadow_blur||"0"} ${m.box_shadow_spread||"0"} ${m.box_shadow_color||"rgba(0,0,0,0.1)"}`:g.box_shadow_h&&g.box_shadow_v?`${g.box_shadow_h||"0"} ${g.box_shadow_v||"0"} ${g.box_shadow_blur||"0"} ${g.box_shadow_spread||"0"} ${g.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none"},v=l.icon?o.qy`<ha-icon
          icon="${l.icon}"
          style="color: ${l.icon_color||"var(--primary-color)"};"
        ></ha-icon>`:"";let f=l.text||"Sample Text";if(l.template_mode&&l.template&&(!this._templateService&&t&&(this._templateService=new d.I(t)),t)){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(l.template),i=`state_text_text_${l.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(l.template,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(n=t.__uvc_template_strings)||void 0===n?void 0:n[i];void 0!==o&&""!==String(o).trim()&&(f=String(o))}const b=o.qy`<span>${f}</span>`;let y;y="before"!==l.icon_position&&l.icon_position?"after"===l.icon_position?o.qy`${b}${v}`:b:o.qy`${v}${b}`;const k=this.hasActiveLink(l)?o.qy`<div
          class="${s.A.getClickableClass(l)}"
          style="${s.A.getClickableStyle(l)}"
          @click=${e=>this.handleClick(e,l,t)}
          @dblclick=${e=>this.handleDoubleClick(e,l,t)}
          @mousedown=${e=>this.handleMouseDown(e,l,t)}
          @mouseup=${e=>this.handleMouseUp(e,l,t)}
          @mouseleave=${e=>this.handleMouseLeave(e,l,t)}
          @touchstart=${e=>this.handleTouchStart(e,l,t)}
          @touchend=${e=>this.handleTouchEnd(e,l,t)}
        >
          ${y}
        </div>`:y,x={padding:m.padding_top||m.padding_bottom||m.padding_left||m.padding_right||g.padding_top||g.padding_bottom||g.padding_left||g.padding_right?`${this.addPixelUnit(m.padding_top||g.padding_top)||"0px"} ${this.addPixelUnit(m.padding_right||g.padding_right)||"0px"} ${this.addPixelUnit(m.padding_bottom||g.padding_bottom)||"0px"} ${this.addPixelUnit(m.padding_left||g.padding_left)||"0px"}`:"0",margin:m.margin_top||m.margin_bottom||m.margin_left||m.margin_right||g.margin_top||g.margin_bottom||g.margin_left||g.margin_right?`${m.margin_top||g.margin_top||"8px"} ${m.margin_right||g.margin_right||"0px"} ${m.margin_bottom||g.margin_bottom||"8px"} ${m.margin_left||g.margin_left||"0px"}`:"8px 0",background:m.background_color||g.background_color||"inherit",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},g),m),t),backgroundSize:m.background_size||g.background_size||"cover",backgroundPosition:m.background_position||g.background_position||"center",backgroundRepeat:m.background_repeat||g.background_repeat||"no-repeat",border:(m.border_style||g.border_style)&&"none"!==(m.border_style||g.border_style)?`${m.border_width||g.border_width||"1px"} ${m.border_style||g.border_style} ${m.border_color||g.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(m.border_radius||g.border_radius)||"inherit",position:m.position||g.position||"static",top:m.top||g.top||"auto",bottom:m.bottom||g.bottom||"auto",left:m.left||g.left||"auto",right:m.right||g.right||"auto",zIndex:m.z_index||g.z_index||"auto",width:m.width||g.width||"auto",height:m.height||g.height||"auto",maxWidth:m.max_width||g.max_width||"none",maxHeight:m.max_height||g.max_height||"none",minWidth:m.min_width||g.min_width||"auto",minHeight:m.min_height||g.min_height||"auto",overflow:m.overflow||g.overflow||"visible",clipPath:m.clip_path||g.clip_path||"none",backdropFilter:m.backdrop_filter||g.backdrop_filter||"none",boxShadow:m.box_shadow_h&&m.box_shadow_v?`${m.box_shadow_h||"0"} ${m.box_shadow_v||"0"} ${m.box_shadow_blur||"0"} ${m.box_shadow_spread||"0"} ${m.box_shadow_color||"rgba(0,0,0,0.1)"}`:g.box_shadow_h&&g.box_shadow_v?`${g.box_shadow_h||"0"} ${g.box_shadow_v||"0"} ${g.box_shadow_blur||"0"} ${g.box_shadow_spread||"0"} ${g.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},w=null===(r=g.design)||void 0===r?void 0:r.hover_effect,S=c.k.getHoverEffectClass(w);return o.qy`
      <div
        class="text-module-container ${S}"
        style=${this.styleObjectToCss(x)}
      >
        <div class="text-module-preview" style=${this.styleObjectToCss(_)}>${k}</div>
      </div>
    `}renderLogicTab(e,t,i,o){return l.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.text&&""!==t.text.trim()||i.push("Text content is required"),t.icon&&""!==t.icon.trim()&&(t.icon.includes(":")||i.push('Icon must be in format "mdi:icon-name" or "hass:icon-name"')),t.link&&""!==t.link.trim())try{new URL(t.link)}catch(e){t.link.startsWith("/")||t.link.startsWith("#")||i.push('Link must be a valid URL or start with "/" for relative paths')}return t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action&&i.push(...this.validateAction(t.tap_action)),t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action&&i.push(...this.validateAction(t.hold_action)),t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action&&i.push(...this.validateAction(t.double_tap_action)),!t.template_mode||t.template&&""!==t.template.trim()||i.push("Template code is required when template mode is enabled"),{valid:0===i.length,errors:i}}hasActiveLink(e){const t=e.link&&""!==e.link.trim(),i=e.tap_action&&"default"!==e.tap_action.action&&"nothing"!==e.tap_action.action,o=e.hold_action&&"default"!==e.hold_action.action&&"nothing"!==e.hold_action.action,a=e.double_tap_action&&"default"!==e.double_tap_action.action&&"nothing"!==e.double_tap_action.action;return t||i||o||a}validateAction(e){const t=[];switch(e.action){case"more-info":case"toggle":e.entity||t.push(`Entity is required for ${e.action} action`);break;case"navigate":e.navigation_path||t.push("Navigation path is required for navigate action");break;case"url":e.url_path||t.push("URL path is required for url action");break;case"perform-action":e.perform_action||e.service||t.push("Action is required for perform-action")}return t}handleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i,o)}),300)}handleDoubleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i,o)}handleMouseDown(e,t,i,o){this.startHold(e,t,i,o)}handleMouseUp(e,t,i){this.endHold(e,t,i)}handleMouseLeave(e,t,i){this.endHold(e,t,i)}handleTouchStart(e,t,i,o){this.startHold(e,t,i,o)}handleTouchEnd(e,t,i){this.endHold(e,t,i)}startHold(e,t,i,o){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i,o)}),500)}endHold(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTapAction(e,t,i,o){this.isHolding||(t.link&&""!==t.link.trim()?t.link.startsWith("http")||t.link.startsWith("https")?window.open(t.link,"_blank"):window.location.href=t.link:t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action&&n.K.handleAction(t.tap_action,i,e.target,o))}handleDoubleAction(e,t,i,o){t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action&&n.K.handleAction(t.double_tap_action,i,e.target,o)}handleHoldAction(e,t,i,o){t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action&&n.K.handleAction(t.hold_action,i,e.target,o)}getStyles(){return`\n      .text-module-preview {\n        min-height: 20px;\n        word-wrap: break-word;\n      }\n      \n      .text-module-hidden {\n        color: var(--secondary-text-color);\n        font-style: italic;\n        text-align: center;\n        padding: 12px;\n        background: var(--secondary-background-color);\n        border-radius: 4px;\n      }\n      \n      /* Field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Conditional Fields Grouping CSS */\n      .conditional-fields-group {\n        margin-top: 16px;\n        border-left: 4px solid var(--primary-color);\n        background: rgba(var(--rgb-primary-color), 0.08);\n        border-radius: 0 8px 8px 0;\n        overflow: hidden;\n        transition: all 0.2s ease;\n        animation: slideInFromLeft 0.3s ease-out;\n      }\n\n      .conditional-fields-group:hover {\n        background: rgba(var(--rgb-primary-color), 0.12);\n      }\n\n      .conditional-fields-header {\n        background: rgba(var(--rgb-primary-color), 0.15);\n        padding: 12px 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-color);\n        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n      }\n\n      .conditional-fields-content {\n        padding: 16px;\n      }\n\n      .conditional-fields-content > .field-title:first-child {\n        margin-top: 0 !important;\n      }\n\n      @keyframes slideInFromLeft {\n        from { \n          opacity: 0; \n          transform: translateX(-10px); \n        }\n        to { \n          opacity: 1; \n          transform: translateX(0); \n        }\n      }\n\n      /* Icon picker specific styling */\n      ha-icon-picker {\n        --ha-icon-picker-width: 100%;\n        --ha-icon-picker-height: 56px;\n      }\n\n      /* Text field and select consistency */\n      ha-textfield,\n      ha-select {\n        --mdc-shape-small: 8px;\n        --mdc-theme-primary: var(--primary-color);\n      }\n\n      code {\n        background: var(--secondary-background-color);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-family: 'Courier New', monospace;\n        font-size: 0.9em;\n        color: var(--primary-color);\n      }\n\n      /* Clickable text hover styles */\n      ${s.A.getHoverStyles()}\n    `}getBackgroundImageCSS(e,t){const i=e.background_image_type,o=e.background_image,a=e.background_image_entity;switch(i){case"upload":if(o)return o.startsWith("/api/image/serve/")?`url("${this.getImageUrl(t,o)}")`:(o.startsWith("data:image/"),`url("${o}")`);break;case"entity":if(a&&t){const e=t.states[a];if(e){const t=e.attributes.entity_picture||e.attributes.image||e.state;if(t&&"unknown"!==t&&"unavailable"!==t)return`url("${t}")`}}break;case"url":if(o)return`url("${o}")`;break;default:return"none"}return"none"}getImageUrl(e,t){if(!t)return"";if(t.startsWith("http"))return t;if(t.startsWith("data:image/"))return t;if(t.includes("/api/image/serve/")){const i=t.match(/\/api\/image\/serve\/([^\/]+)/);if(i&&i[1]){const o=i[1];try{return`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}/api/image/serve/${o}/original`}catch(e){return t}}return t}return t.startsWith("/")?`${(e.hassUrl?e.hassUrl():"").replace(/\/$/,"")}${t}`:t}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}}},4513:(e,t,i)=>{i.d(t,{m:()=>a});class o{constructor(){this._favorites=[],this._listeners=new Set,this._loadFromStorage(),this._setupStorageListener()}getFavorites(){return[...this._favorites].sort(((e,t)=>e.order-t.order))}addFavorite(e,t){const i={id:this._generateId(),name:e.trim(),color:t,order:this._getNextOrder()};return this._favorites.push(i),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),i}updateFavorite(e,t){var i;const o=this._favorites.findIndex((t=>t.id===e));return-1!==o&&(this._favorites[o]=Object.assign(Object.assign(Object.assign({},this._favorites[o]),t),{name:(null===(i=t.name)||void 0===i?void 0:i.trim())||this._favorites[o].name}),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),!0)}deleteFavorite(e){const t=this._favorites.findIndex((t=>t.id===e));return-1!==t&&(this._favorites[t],this._favorites.splice(t,1),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),!0)}reorderFavorites(e){const t=new Set(this._favorites.map((e=>e.id)));return!(!e.every((e=>t.has(e)))||e.length!==this._favorites.length||(e.forEach(((e,t)=>{const i=this._favorites.find((t=>t.id===e));i&&(i.order=t)})),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),0))}importFromConfig(e){if(!Array.isArray(e)||0===e.length)return;const t=new Set(this._favorites.map((e=>e.color.toLowerCase())));e.forEach((e=>{var i,o;!t.has(e.color.toLowerCase())&&this._isValidColor(e.color)&&this._favorites.push({id:e.id||this._generateId(),name:(null===(i=e.name)||void 0===i?void 0:i.trim())||"Unnamed Color",color:e.color,order:null!==(o=e.order)&&void 0!==o?o:this._getNextOrder()})})),this._saveToStorage(),this._notifyListeners(),this._broadcastChange()}exportForConfig(){return this.getFavorites()}hasColor(e){return this._favorites.some((t=>t.color.toLowerCase()===e.toLowerCase()))}subscribe(e){this._listeners.add(e);const t=this.getFavorites();return e(t),()=>{this._listeners.delete(e)}}clearAll(){this._favorites=[],this._saveToStorage(),this._notifyListeners(),this._broadcastChange()}testService(){console.log("UcFavoriteColorsService: Test method called"),console.log("Current favorites:",this._favorites),console.log("Number of listeners:",this._listeners.size);const e=this.addFavorite("Test Color","#ff0000");console.log("Test color added:",e);const t=this.getFavorites();console.log("All favorites after test add:",t)}debugFavoriteColors(){console.log("=== Ultra Card Favorite Colors Debug Info ==="),console.log("Storage Key:",o.STORAGE_KEY),console.log("Current Favorite Colors Count:",this._favorites.length),console.log("Listeners Count:",this._listeners.size),console.log("LocalStorage Available:",this._isLocalStorageAvailable());try{const e=localStorage.getItem(o.STORAGE_KEY);if(console.log("Raw Storage Data:",e?`${e.length} characters`:"null"),console.log("Storage Data Valid:",e?"Valid JSON":"No data"),e){const t=JSON.parse(e);console.log("Parsed Data Type:",Array.isArray(t)?"Array":typeof t),console.log("Parsed Data Length:",Array.isArray(t)?t.length:"N/A")}}catch(e){console.error("Storage Data Error:",e)}console.log("Favorite Colors List:",this._favorites.map((e=>({id:e.id,name:e.name,color:e.color,order:e.order})))),console.log("==========================================")}_loadFromStorage(){try{if(!this._isLocalStorageAvailable())return console.warn("localStorage is not available, favorite colors will not persist"),void(this._favorites=[]);const e=localStorage.getItem(o.STORAGE_KEY);if(e){const t=JSON.parse(e);Array.isArray(t)?(this._favorites=t.filter(this._isValidFavorite.bind(this)),console.log(`Loaded ${this._favorites.length} favorite colors from storage`)):(console.warn("Invalid favorite colors data format in storage, resetting"),this._favorites=[])}else console.log("No favorite colors found in storage"),this._favorites=[]}catch(e){console.error("Failed to load favorite colors from storage:",e),this._favorites=[]}}_saveToStorage(){try{if(!this._isLocalStorageAvailable())return void console.warn("localStorage is not available, favorite colors will not be saved");const e=JSON.stringify(this._favorites);localStorage.setItem(o.STORAGE_KEY,e),console.log(`Saved ${this._favorites.length} favorite colors to storage`)}catch(e){console.error("Failed to save favorite colors to storage:",e),e instanceof DOMException&&e.code===DOMException.QUOTA_EXCEEDED_ERR?(console.error("localStorage quota exceeded! Consider clearing old data or using fewer favorite colors."),this._handleStorageQuotaExceeded()):console.error("Unknown storage error:",e)}}_setupStorageListener(){window.addEventListener("storage",(e=>{e.key===o.STORAGE_KEY&&(this._loadFromStorage(),this._notifyListeners())})),window.addEventListener(o.SYNC_EVENT,(()=>{this._loadFromStorage(),this._notifyListeners()}))}_broadcastChange(){window.dispatchEvent(new CustomEvent(o.SYNC_EVENT))}_notifyListeners(){const e=this.getFavorites();this._listeners.forEach((t=>{try{t(e)}catch(e){console.warn("Error notifying favorite colors listener:",e)}}))}_generateId(){return`fav-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}_getNextOrder(){return 0===this._favorites.length?0:Math.max(...this._favorites.map((e=>e.order)))+1}_isValidFavorite(e){return e&&"string"==typeof e.id&&"string"==typeof e.name&&"string"==typeof e.color&&"number"==typeof e.order&&this._isValidColor(e.color)}_isValidColor(e){return!(!e||"string"!=typeof e)&&([/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*[\d.]+\s*\)$/,/^hsl\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*\)$/,/^hsla\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*,\s*[\d.]+\s*\)$/,/^var\(--[\w-]+\)$/].some((t=>t.test(e)))||["transparent","red","blue","green","yellow","orange","purple","pink","brown","black","white","gray","grey","cyan","magenta","lime","navy","teal","silver","maroon","olive","aqua","fuchsia"].includes(e.toLowerCase()))}_isLocalStorageAvailable(){try{const e="__ultra_card_colors_storage_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}}_handleStorageQuotaExceeded(){if(console.log("Attempting to free up storage space by removing oldest favorite colors..."),this._favorites.length<=1)return void console.error("Cannot free up space - only one or no favorite colors exist");const e=Math.max(1,Math.floor(.25*this._favorites.length)),t=[...this._favorites].sort(((e,t)=>e.order-t.order)).slice(0,this._favorites.length-e);this._favorites=t,console.log(`Removed ${e} oldest favorite colors to free up storage space`);try{const e=JSON.stringify(this._favorites);localStorage.setItem(o.STORAGE_KEY,e),console.log("Successfully saved favorite colors after cleanup"),this._notifyListeners(),this._broadcastChange()}catch(e){console.error("Still cannot save after cleanup:",e)}}}o.STORAGE_KEY="ultra-card-favorite-colors",o.SYNC_EVENT="ultra-card-favorite-colors-changed";const a=new o;"undefined"!=typeof window&&(window.ucFavoriteColorsService=a,window.debugUltraCardFavoriteColors=()=>a.debugFavoriteColors())},4790:(e,t,i)=>{i.d(t,{R:()=>g});var o=i(5183),a=i(456),n=i(866);class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}setHass(e){this.hass=e}async executeAction(e){if(this.hass&&e.action_type&&"none"!==e.action_type)try{if(e.confirmation&&!confirm(e.confirmation.text||"Are you sure?"))return;switch(e.action_type){case"toggle":e.entity&&await this.hass.callService("homeassistant","toggle",{entity_id:e.entity});break;case"show_more_info":if(e.entity){const t=new CustomEvent("hass-more-info",{detail:{entityId:e.entity},bubbles:!0,composed:!0});document.dispatchEvent(t)}break;case"navigate":if(e.navigation_path){history.pushState(null,"",e.navigation_path);const t=new CustomEvent("location-changed",{detail:{replace:!1},bubbles:!0,composed:!0});window.dispatchEvent(t)}break;case"url":if(e.url||e.url_path){const t=e.url||e.url_path||"";window.open(t,"_blank")}break;case"call_service":if(e.service){const[t,i]=e.service.split(".");t&&i&&await this.hass.callService(t,i,e.service_data,e.target)}break;case"perform_action":if(e.custom_action){const t=new CustomEvent("action",{detail:{action:"tap",config:e.custom_action},bubbles:!0,composed:!0});document.dispatchEvent(t)}break;case"show_map":if(e.latitude&&e.longitude){const t=`/map?latitude=${e.latitude}&longitude=${e.longitude}`;history.pushState(null,"",t);const i=new CustomEvent("location-changed",{detail:{replace:!1},bubbles:!0,composed:!0});window.dispatchEvent(i)}break;case"voice_assistant":if(!1!==e.start_listening){const e=new CustomEvent("hass-start-voice-conversation",{bubbles:!0,composed:!0});document.dispatchEvent(e)}break;case"trigger":e.entity&&await this.hass.callService("automation","trigger",{entity_id:e.entity});break;default:console.warn("Unknown action type:",e.action_type)}}catch(e){console.error("Error executing action:",e)}}getActionTypeOptions(){return[{value:"none",label:"No Action"},{value:"toggle",label:"Toggle"},{value:"show_more_info",label:"Show More Info"},{value:"navigate",label:"Navigate to Path"},{value:"url",label:"Open URL"},{value:"call_service",label:"Call Service"},{value:"perform_action",label:"Perform Action"},{value:"show_map",label:"Show Map"},{value:"voice_assistant",label:"Voice Assistant"},{value:"trigger",label:"Trigger"}]}validateAction(e){const t=[];if(!e.action_type||"none"===e.action_type)return{valid:!0,errors:[]};switch(e.action_type){case"toggle":case"show_more_info":case"trigger":e.entity||t.push("Entity is required for this action type");break;case"navigate":e.navigation_path||t.push("Navigation path is required");break;case"url":e.url||e.url_path||t.push("URL is required");break;case"call_service":e.service?e.service.includes(".")||t.push("Service must be in domain.service format"):t.push("Service is required");break;case"show_map":void 0!==e.latitude&&void 0!==e.longitude||t.push("Latitude and longitude are required for map action")}return{valid:0===t.length,errors:t}}renderActionForm(e,t,i){return{action:t,actionTypes:this.getActionTypeOptions(),onUpdate:i,validate:()=>this.validateAction(t)}}}const s=r.getInstance();var l=i(9662),d=i(2371),c=i(796),p=i(7987),u=(i(6768),i(2381));class g extends n.m{constructor(){super(...arguments),this.metadata={type:"button",title:"Button",description:"Interactive buttons with actions",author:"WJD Designs",version:"1.0.0",icon:"mdi:gesture-tap-button",category:"interactive",tags:["button","action","click","interactive"]}}createDefault(e,t){return{id:e||this.generateId("button"),type:"button",label:"",action:{action_type:"none"},style:"flat",icon:"",icon_position:"before",show_icon:!1,background_color:"var(--primary-color)",text_color:"white",tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}getButtonStyles(e){return[{value:"flat",label:(0,a.kg)("editor.button.styles.flat",e,"Flat (Default)")},{value:"glossy",label:(0,a.kg)("editor.button.styles.glossy",e,"Glossy")},{value:"embossed",label:(0,a.kg)("editor.button.styles.embossed",e,"Embossed")},{value:"inset",label:(0,a.kg)("editor.button.styles.inset",e,"Inset")},{value:"gradient-overlay",label:(0,a.kg)("editor.button.styles.gradient_overlay",e,"Gradient Overlay")},{value:"neon-glow",label:(0,a.kg)("editor.button.styles.neon_glow",e,"Neon Glow")},{value:"outline",label:(0,a.kg)("editor.button.styles.outline",e,"Outline")},{value:"glass",label:(0,a.kg)("editor.button.styles.glass",e,"Glass")},{value:"metallic",label:(0,a.kg)("editor.button.styles.metallic",e,"Metallic")}]}getAlignmentOptions(e){return[{value:"left",label:(0,a.kg)("editor.button.align.left",e,"Left")},{value:"center",label:(0,a.kg)("editor.button.align.center",e,"Center")},{value:"right",label:(0,a.kg)("editor.button.align.right",e,"Right")},{value:"justify",label:(0,a.kg)("editor.button.align.justify",e,"Justify (Full Width)")}]}getIconPositionOptions(e){return[{value:"before",label:(0,a.kg)("editor.button.icon.before",e,"Before Text")},{value:"after",label:(0,a.kg)("editor.button.icon.after",e,"After Text")}]}renderGeneralTab(e,t,i,n){var r;const s=e,l=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="general-tab">
        <!-- Basic Settings -->
        ${this.renderSettingsSection((0,a.kg)("editor.button.basic.title",l,"Basic Settings"),(0,a.kg)("editor.button.basic.desc",l,"Configure the button appearance and text content."),[{title:(0,a.kg)("editor.button.text.title",l,"Button Text"),description:(0,a.kg)("editor.button.text.desc",l,"Text to display on the button (leave blank for icon-only)."),hass:t,data:s,schema:[this.textField("label")],onChange:e=>n(e.detail.value)},{title:(0,a.kg)("editor.button.style.title",l,"Button Style"),description:(0,a.kg)("editor.button.style.desc",l,"Visual style of the button"),hass:t,data:{style:s.style||"flat"},schema:[this.selectField("style",this.getButtonStyles(l))],onChange:e=>{e.detail.value.style!==(s.style||"flat")&&(n(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}},{title:(0,a.kg)("editor.button.alignment.title",l,"Alignment"),description:(0,a.kg)("editor.button.alignment.desc",l,"How the button is aligned within its container"),hass:t,data:{alignment:s.alignment||"center"},schema:[this.selectField("alignment",this.getAlignmentOptions(l))],onChange:e=>{e.detail.value.alignment!==(s.alignment||"center")&&(n(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}}])}

        <!-- Icon Settings -->
        <div class="settings-section">
          <div class="section-title">
            ${(0,a.kg)("editor.button.icon.title",l,"Icon Settings")}
          </div>

          <!-- Icon Field - Always visible -->
          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.button.icon_field",l,"Icon"),(0,a.kg)("editor.button.icon_desc",l,"Icon to display (e.g., mdi:home). Selecting an icon will automatically enable icon display."),t,{icon:s.icon||""},[this.iconField("icon")],(e=>{const t=e.detail.value;t.icon&&t.icon.trim()?(t.show_icon=!0,s.icon_position||(t.icon_position="before")):t.icon&&t.icon.trim()||(t.show_icon=!1),n(t)}))}
          </div>

          ${s.show_icon&&s.icon?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,a.kg)("editor.button.icon_position",l,"Icon Position"),(0,a.kg)("editor.button.icon_position_desc",l,"Position of the icon relative to text"),t,{icon_position:s.icon_position||"before"},[this.selectField("icon_position",this.getIconPositionOptions(l))],(e=>{e.detail.value.icon_position!==(s.icon_position||"before")&&(n(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
                </div>
              `:""}
        </div>

        <!-- Colors -->
        <div class="settings-section">
          <div class="section-title">${(0,a.kg)("editor.button.colors.title",l,"Colors")}</div>

          <div class="color-controls">
            <ultra-color-picker
              .label=${(0,a.kg)("editor.button.colors.background",l,"Background Color")}
              .value=${s.background_color||"var(--primary-color)"}
              .defaultValue=${"var(--primary-color)"}
              .hass=${t}
              @value-changed=${e=>n({background_color:e.detail.value})}
            ></ultra-color-picker>

            <ultra-color-picker
              .label=${(0,a.kg)("editor.button.colors.text",l,"Text Color")}
              .value=${s.text_color||"white"}
              .defaultValue=${"white"}
              .hass=${t}
              @value-changed=${e=>n({text_color:e.detail.value})}
            ></ultra-color-picker>
          </div>
        </div>

        <!-- Link Action removed: use global Tap/Hold/Double-Tap actions instead -->
      </div>
    `}renderLinkActionForm(e,t,i){const a=s.getActionTypeOptions();return o.qy`
      <div class="link-action-form">
        <!-- Action Type -->
        <div class="field-group" style="margin-bottom: 16px;">
          ${this.renderFieldSection("Action Type","Choose what happens when the button is clicked",t,{action_type:e.action_type||"none"},[this.selectField("action_type",a)],(t=>{const o=t.detail.value.action_type;o!==(e.action_type||"none")&&(i(Object.assign(Object.assign({},e),{action_type:o})),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}))}
        </div>

        ${this.renderActionTypeSpecificFields(e,t,i)}
      </div>
    `}renderActionTypeSpecificFields(e,t,i){switch(e.action_type){case"toggle":case"show_more_info":case"trigger":return this.renderFieldSection("Entity","Select the entity to interact with",t,{entity:e.entity||""},[this.entityField("entity")],(t=>i(Object.assign(Object.assign({},e),{entity:t.detail.value.entity}))));case"navigate":return this.renderFieldSection("Navigation Path","Path to navigate to (e.g., /dashboard/energy)",t,{navigation_path:e.navigation_path||""},[this.textField("navigation_path")],(t=>i(Object.assign(Object.assign({},e),{navigation_path:t.detail.value.navigation_path}))));case"url":return this.renderFieldSection("URL","URL to open (e.g., https://example.com)",t,{url:e.url||""},[this.textField("url")],(t=>i(Object.assign(Object.assign({},e),{url:t.detail.value.url}))));case"call_service":return o.qy`
          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection("Service","Service to call (e.g., light.turn_on)",t,{service:e.service||""},[this.textField("service")],(t=>i(Object.assign(Object.assign({},e),{service:t.detail.value.service}))))}
          </div>

          <div class="field-group">
            ${this.renderFieldSection("Service Data (JSON)","Optional data to pass to the service (JSON format)",t,{service_data:JSON.stringify(e.service_data||{})},[this.textField("service_data")],(t=>{try{const o=JSON.parse(t.detail.value.service_data||"{}");i(Object.assign(Object.assign({},e),{service_data:o}))}catch(e){console.warn("Invalid JSON in service data")}}))}
          </div>
        `;default:return o.qy``}}renderActionsTab(e,t,i,o){const a=e;return l.A.render(a,t,(e=>o(e)))}renderButtonActionConfig(e,t,i){return o.qy`
      <div style="margin-bottom: 16px;">
        ${this.renderSingleActionConfig("Tap Action","Action to perform when button is tapped",e.tap_action||{action:"nothing"},t,(e=>i({tap_action:e})))}
      </div>

      <div style="margin-bottom: 16px;">
        ${this.renderSingleActionConfig("Hold Action","Action to perform when button is held down",e.hold_action||{action:"nothing"},t,(e=>i({hold_action:e})))}
      </div>

      <div style="margin-bottom: 16px;">
        ${this.renderSingleActionConfig("Double Tap Action","Action to perform when button is double-tapped",e.double_tap_action||{action:"nothing"},t,(e=>i({double_tap_action:e})))}
      </div>
    `}renderSingleActionConfig(e,t,i,a,n){return o.qy`
      <div style="margin-bottom: 16px;">
        <div
          class="field-title"
          style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
        >
          ${e}
        </div>
        <div style="margin-bottom: 12px;">
          <ha-form
            .hass=${a}
            .data=${{action_config:"nothing"===(null==i?void 0:i.action)?Object.assign(Object.assign({},i),{action:"default"}):i}}
            .schema=${[{name:"action_config",label:"",selector:{ui_action:{actions:["default","more-info","toggle","navigate","url","perform-action","assist"]}}}]}
            .computeLabel=${e=>e.label||""}
            .computeDescription=${e=>e.description||""}
            @value-changed=${e=>{var t;const i=null===(t=e.detail.value)||void 0===t?void 0:t.action_config;i&&n(i)}}
          ></ha-form>
        </div>
      </div>
    `}renderPreview(e,t,i){var a,n;const r=e,l=r,d=r.design||{},u=d.color||r.text_color||"white",g=d.font_size||"14px",m=d.background_color||r.background_color||"var(--primary-color)",h=r.style||"flat",_={flat:`background: ${m}; border: none; box-shadow: none;`,glossy:`background: linear-gradient(180deg, rgba(255,255,255,0.25), rgba(255,255,255,0)) , ${m}; border: none;`,embossed:`background: ${m}; border: 1px solid rgba(0,0,0,0.15); box-shadow: inset 0 2px 2px rgba(255,255,255,0.2), inset 0 -2px 2px rgba(0,0,0,0.15);`,inset:`background: ${m}; border: none; box-shadow: inset 0 2px 6px rgba(0,0,0,0.35);`,"gradient-overlay":`background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(0,0,0,0.15)), ${m}; border: none;`,"neon-glow":`background: ${m}; border: none; box-shadow: 0 0 10px ${m}, 0 0 20px ${m};`,outline:`background: transparent; border: 2px solid ${m}; color: ${m};`,glass:`background: ${m}; backdrop-filter: blur(6px); border: 1px solid rgba(255,255,255,0.25);`,metallic:"background: linear-gradient(90deg, #d7d7d7, #f0f0f0 50%, #d7d7d7); color: #333; border: 1px solid #bbb;"},v=`\n      color: ${u};\n      padding: 12px 24px;\n      font-size: ${g};\n      font-weight: 500;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 8px;\n      min-height: 40px;\n     ${_[h]||_.flat}`,f=`\n      display: flex;\n      justify-content: ${"left"===r.alignment?"flex-start":"right"===r.alignment?"flex-end":"center"};\n    `,b={width:"100%",height:"auto",maxWidth:"none",maxHeight:"none",minWidth:"auto",minHeight:"auto",padding:d.padding_top||d.padding_bottom||d.padding_left||d.padding_right?`${d.padding_top||"0px"} ${d.padding_right||"0px"} ${d.padding_bottom||"0px"} ${d.padding_left||"0px"}`:"0",margin:d.margin_top||d.margin_bottom||d.margin_left||d.margin_right?`${d.margin_top||"8px"} ${d.margin_right||"0px"} ${d.margin_bottom||"8px"} ${d.margin_left||"0px"}`:"8px 0",background:d.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},l),d),t),"background-size":"cover","background-position":"center","background-repeat":"no-repeat","border-radius":d.border_radius||"8px",border:d.border_style&&"none"!==d.border_style?`${d.border_width||"1px"} ${d.border_style} ${d.border_color||"var(--divider-color)"}`:"none","box-shadow":d.box_shadow_h||d.box_shadow_v||d.box_shadow_blur||d.box_shadow_spread?`${d.box_shadow_h||"0px"} ${d.box_shadow_v||"0px"} ${d.box_shadow_blur||"0px"} ${d.box_shadow_spread||"0px"} ${d.box_shadow_color||"rgba(0,0,0,.2)"}`:"none","box-sizing":"border-box"};let y=null,k=null,x=!1,w=0,S=0;const A=null===(a=r.design)||void 0===a?void 0:a.hover_effect,C=p.k.getHoverEffectClass(A);return o.qy`
      <div class="button-module-container" style=${this.styleObjectToCss(b)}>
        <div class="button-module-preview" style="${f}">
          <button
            class="ultra-button ${h} ${"justify"===r.alignment?"justify":""} ${C}"
            style="${v} ${"justify"===r.alignment?"width: 100%;":d.width||l.width?`width: ${d.width||l.width};`:""} ${d.height||l.height?`height: ${d.height||l.height};`:""} ${d.max_width||l.max_width?`max-width: ${d.max_width||l.max_width};`:""} ${d.max_height||l.max_height?`max-height: ${d.max_height||l.max_height};`:""} ${d.min_width||l.min_width?`min-width: ${d.min_width||l.min_width};`:""} ${d.min_height||l.min_height?`min-height: ${d.min_height||l.min_height};`:""} ${d.text_align?`text-align:${d.text_align};`:""} ${d.text_shadow_h||d.text_shadow_v||d.text_shadow_blur||d.text_shadow_color?`text-shadow:${d.text_shadow_h||"0px"} ${d.text_shadow_v||"0px"} ${d.text_shadow_blur||"0px"} ${d.text_shadow_color||"rgba(0,0,0,.2)"};`:""}"
            @pointerdown=${e=>{e.preventDefault(),x=!1,k=setTimeout((()=>{x=!0,r.hold_action&&"nothing"!==r.hold_action.action&&c.K.handleAction(r.hold_action,t,e.target,i)}),500)}}
            @pointerup=${e=>{if(e.preventDefault(),k&&(clearTimeout(k),k=null),x)return void(x=!1);const o=Date.now();o-S<300&&1===w?(y&&(clearTimeout(y),y=null),w=0,r.double_tap_action&&"nothing"!==r.double_tap_action.action&&c.K.handleAction(r.double_tap_action,t,e.target,i)):(w=1,S=o,y=setTimeout((()=>{w=0,r.tap_action&&"nothing"!==r.tap_action.action?c.K.handleAction(r.tap_action,t,e.target,i):r.action&&(s.setHass(t),s.executeAction(r.action))}),300))}}
          >
            ${r.show_icon&&r.icon&&"before"===r.icon_position?o.qy`<ha-icon icon="${r.icon}"></ha-icon>`:""}
            ${null!==(n=r.label)&&void 0!==n?n:""}
            ${r.show_icon&&r.icon&&"after"===r.icon_position?o.qy`<ha-icon icon="${r.icon}"></ha-icon>`:""}
          </button>
        </div>
      </div>
    `}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${t}`)).join("; ")}getBackgroundImageCSS(e,t){var i,o;const a=e.background_image_type,n=e.background_image,r=e.background_image_entity;if(!a||"none"===a)return"none";switch(a){case"upload":if(n)return`url("${(0,u.V)(t,n)}")`;break;case"url":if(n)return`url("${n}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const a=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(o=e.attributes)||void 0===o?void 0:o.image)||("string"==typeof e.state?e.state:"");if(a&&"unknown"!==a&&"unavailable"!==a)return`url("${(0,u.V)(t,a)}")`}}}return"none"}renderLogicTab(e,t,i,o){return d.X.render(e,t,(e=>o(e)))}}},4885:(e,t,i)=>{i.d(t,{mN:()=>A,AH:()=>l,W3:()=>x,Ec:()=>w});const o=globalThis,a=o.ShadowRoot&&(void 0===o.ShadyCSS||o.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),r=new WeakMap;class s{constructor(e,t,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(a&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=r.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&r.set(t,e))}return e}toString(){return this.cssText}}const l=(e,...t)=>{const i=1===e.length?e[0]:t.reduce(((t,i,o)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[o+1]),e[0]);return new s(i,e,n)},d=(e,t)=>{if(a)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const i of t){const t=document.createElement("style"),a=o.litNonce;void 0!==a&&t.setAttribute("nonce",a),t.textContent=i.cssText,e.appendChild(t)}},c=a?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new s("string"==typeof e?e:e+"",void 0,n))(t)})(e):e,{is:p,defineProperty:u,getOwnPropertyDescriptor:g,getOwnPropertyNames:m,getOwnPropertySymbols:h,getPrototypeOf:_}=Object,v=globalThis,f=v.trustedTypes,b=f?f.emptyScript:"",y=v.reactiveElementPolyfillSupport,k=(e,t)=>e,x={toAttribute(e,t){switch(t){case Boolean:e=e?b:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},w=(e,t)=>!p(e,t),S={attribute:!0,type:String,converter:x,reflect:!1,hasChanged:w};Symbol.metadata??=Symbol("metadata"),v.litPropertyMetadata??=new WeakMap;class A extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=S){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),o=this.getPropertyDescriptor(e,i,t);void 0!==o&&u(this.prototype,e,o)}}static getPropertyDescriptor(e,t,i){const{get:o,set:a}=g(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return o?.call(this)},set(t){const n=o?.call(this);a.call(this,t),this.requestUpdate(e,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??S}static _$Ei(){if(this.hasOwnProperty(k("elementProperties")))return;const e=_(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(k("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(k("properties"))){const e=this.properties,t=[...m(e),...h(e)];for(const i of t)this.createProperty(i,e[i])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,i]of t)this.elementProperties.set(e,i)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const i=this._$Eu(e,t);void 0!==i&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(c(e))}else void 0!==e&&t.push(c(e));return t}static _$Eu(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return d(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EC(e,t){const i=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,i);if(void 0!==o&&!0===i.reflect){const a=(void 0!==i.converter?.toAttribute?i.converter:x).toAttribute(t,i.type);this._$Em=e,null==a?this.removeAttribute(o):this.setAttribute(o,a),this._$Em=null}}_$AK(e,t){const i=this.constructor,o=i._$Eh.get(e);if(void 0!==o&&this._$Em!==o){const e=i.getPropertyOptions(o),a="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:x;this._$Em=o,this[o]=a.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,i){if(void 0!==e){if(i??=this.constructor.getPropertyOptions(e),!(i.hasChanged??w)(this[e],t))return;this.P(e,t,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,i){this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,i]of e)!0!==i.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],i)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}A.elementStyles=[],A.shadowRootOptions={mode:"open"},A[k("elementProperties")]=new Map,A[k("finalized")]=new Map,y?.({ReactiveElement:A}),(v.reactiveElementVersions??=[]).push("2.0.4")},5183:(e,t,i)=>{i.d(t,{WF:()=>n,AH:()=>o.AH,qy:()=>a.qy,JW:()=>a.JW});var o=i(4885),a=i(9247);class n extends o.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,a.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return a.c0}}n._$litElement$=!0,n.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:n});const r=globalThis.litElementPolyfillSupport;r?.({LitElement:n}),(globalThis.litElementVersions??=[]).push("4.1.1")},5201:(e,t,i)=>{i.d(t,{OA:()=>o,WL:()=>n,u$:()=>a});const o={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},a=e=>(...t)=>({_$litDirective$:e,values:t});class n{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},5400:(e,t,i)=>{i.d(t,{s:()=>o});class o{static getEntityIcon(e,t){if(!e||!(null==t?void 0:t.states[e]))return null;const i=t.states[e];return this._getHomeAssistantComputedIcon(e,i,t)||this._getEnhancedIconForEntity(e,i)}static _getHomeAssistantComputedIcon(e,t,i){var o,a,n,r,s;if(null===(o=t.attributes)||void 0===o?void 0:o.icon)return t.attributes.icon;try{if(null===(n=null===(a=window.customCards)||void 0===a?void 0:a.helpers)||void 0===n?void 0:n.stateIcon){const e=window.customCards.helpers.stateIcon(t);if(e)return e}const o=[window.stateIcon,window.computeStateIcon,window.computeEntityIcon,null===(r=window.hassIcons)||void 0===r?void 0:r.stateIcon,null===(s=window.hassIcons)||void 0===s?void 0:s.computeStateIcon,i.stateIcon,i.computeStateIcon,i.computeEntityIcon];for(const e of o)if("function"==typeof e)try{const i=e(t);if(i)return i}catch(e){}if(i.entities&&i.entities[e]){const t=i.entities[e];if(t.icon)return t.icon}if(e.startsWith("weather.")){const e={"clear-night":"mdi:weather-night",cloudy:"mdi:weather-cloudy",fog:"mdi:weather-fog",hail:"mdi:weather-hail",lightning:"mdi:weather-lightning","lightning-rainy":"mdi:weather-lightning-rainy",partlycloudy:"mdi:weather-partly-cloudy",pouring:"mdi:weather-pouring",rainy:"mdi:weather-rainy",snowy:"mdi:weather-snowy","snowy-rainy":"mdi:weather-snowy-rainy",sunny:"mdi:weather-sunny",windy:"mdi:weather-windy","windy-variant":"mdi:weather-windy-variant",exceptional:"mdi:weather-exceptional"},i=t.state;if(e[i])return e[i]}}catch(e){console.debug("Failed to compute HA icon, falling back to enhanced detection:",e)}return null}static _getEnhancedIconForEntity(e,t){var i,o,a;const n=e.split(".")[0],r=e.split(".")[1]||"",s=null===(i=t.attributes)||void 0===i?void 0:i.device_class,l=null===(o=t.attributes)||void 0===o?void 0:o.unit_of_measurement,d=(null===(a=t.attributes)||void 0===a?void 0:a.friendly_name)||"",c=t.state,p=r.toLowerCase(),u=d.toLowerCase();return this._isBatteryRelated(p,u,s,l)?this._isChargingRelated(p,u)?this._getChargingBatteryIcon(c,l):this._getBatteryIcon(c,l):this._isTemperatureRelated(p,u,s,l)?"mdi:thermometer":this._isHumidityRelated(p,u,s,l)?"mdi:water-percent":this._isPowerRelated(p,u,s,l)?"mdi:flash":this._isSignalRelated(p,u)?"mdi:wifi":"binary_sensor"===n&&this._isDoorWindowRelated(p,u)?"on"===c?"mdi:door-open":"mdi:door-closed":"binary_sensor"===n&&this._isMotionRelated(p,u)?"on"===c?"mdi:motion-sensor":"mdi:motion-sensor-off":this._isIlluminanceRelated(p,u,s,l)?"mdi:brightness-5":this._isPressureRelated(p,u,s,l)?"mdi:gauge":this._getDefaultIconForDomain(n,s,c)}static _isBatteryRelated(e,t,i,o){return"battery"===i||e.includes("battery")||e.includes("charge")||e.includes("power_level")||t.includes("battery")||t.includes("charge")||"%"===o}static _isChargingRelated(e,t){return["charging","charge_target","charging_target","charge_limit"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _getBatteryIcon(e,t){const i=parseFloat(e);return isNaN(i)?"mdi:battery-unknown":i>=95?"mdi:battery":i>=85?"mdi:battery-90":i>=75?"mdi:battery-80":i>=65?"mdi:battery-70":i>=55?"mdi:battery-60":i>=45?"mdi:battery-50":i>=35?"mdi:battery-40":i>=25?"mdi:battery-30":i>=15?"mdi:battery-20":i>=5?"mdi:battery-10":"mdi:battery-alert"}static _getChargingBatteryIcon(e,t){const i=parseFloat(e);return isNaN(i)?"mdi:battery-charging":i>=95?"mdi:battery-charging-100":i>=85?"mdi:battery-charging-90":i>=75?"mdi:battery-charging-80":i>=65?"mdi:battery-charging-70":i>=55?"mdi:battery-charging-60":i>=45?"mdi:battery-charging-50":i>=35?"mdi:battery-charging-40":i>=25?"mdi:battery-charging-30":i>=15?"mdi:battery-charging-20":i>=5?"mdi:battery-charging-10":"mdi:battery-charging-outline"}static _isTemperatureRelated(e,t,i,o){return"temperature"===i||e.includes("temp")||t.includes("temperature")||"C"===o||"F"===o||"K"===o}static _isHumidityRelated(e,t,i,o){return"humidity"===i||e.includes("humidity")||t.includes("humidity")||"%"===o&&(e.includes("humid")||t.includes("humid"))}static _isPowerRelated(e,t,i,o){return"power"===i||"energy"===i||e.includes("power")||e.includes("energy")||e.includes("consumption")||"W"===o||"kW"===o||"kWh"===o||"Wh"===o}static _isSignalRelated(e,t){return["signal","rssi","wifi","network"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _isDoorWindowRelated(e,t){return["door","window","gate"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _isMotionRelated(e,t){return["motion","movement","occupancy","presence"].some((i=>e.includes(i)||t.toLowerCase().includes(i)))}static _isIlluminanceRelated(e,t,i,o){return"illuminance"===i||e.includes("illuminance")||e.includes("brightness")||e.includes("lux")||"lx"===o||"lux"===o}static _isPressureRelated(e,t,i,o){return"pressure"===i||e.includes("pressure")||t.includes("pressure")||"hPa"===o||"mbar"===o||"Pa"===o||"psi"===o}static _getDefaultIconForDomain(e,t,i){return{alarm_control_panel:"mdi:shield",automation:"mdi:robot",binary_sensor:"mdi:radiobox-blank",button:"mdi:button-pointer",calendar:"mdi:calendar",camera:"mdi:video",climate:"mdi:thermostat",cover:"mdi:window-shutter",device_tracker:"mdi:account",fan:"mdi:fan",group:"mdi:google-circles-communities",humidifier:"mdi:air-humidifier",input_boolean:"mdi:toggle-switch",input_button:"mdi:button-pointer",input_datetime:"mdi:calendar-clock",input_number:"mdi:ray-vertex",input_select:"mdi:format-list-bulleted",input_text:"mdi:form-textbox",light:"mdi:lightbulb",lock:"mdi:lock",media_player:"mdi:speaker",number:"mdi:ray-vertex",person:"mdi:account",plant:"mdi:flower",remote:"mdi:remote",scene:"mdi:palette",script:"mdi:script-text",select:"mdi:format-list-bulleted",sensor:"mdi:eye",siren:"mdi:bullhorn",sun:"mdi:white-balance-sunny",switch:"mdi:toggle-switch",timer:"mdi:timer",vacuum:"mdi:robot-vacuum",water_heater:"mdi:thermometer",weather:"mdi:weather-partly-cloudy",zone:"mdi:map-marker"}[e]||"mdi:eye"}}},5575:(e,t,i)=>{i.d(t,{U:()=>n});var o=i(5183);let a=!1;class n{static renderForm(e,t,i,n,r=!1){return o.qy`
      <ha-form
        .hass=${e}
        .data=${t}
        .schema=${i}
        .computeLabel=${r?this._defaultComputeLabel:this._hideLabels}
        .computeDescription=${r?this._defaultComputeDescription:this._hideDescriptions}
        @value-changed=${e=>{a||(a=!0,requestAnimationFrame((()=>{a=!1})),n(e))}}
      ></ha-form>
    `}static renderFieldSection(e,t,i,a,r,s){return o.qy`
      <div class="field-section" style="margin-bottom: 16px;">
        ${e?o.qy`<div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              ${e}
            </div>`:""}
        ${t?o.qy`<div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              ${t}
            </div>`:""}
        ${n.renderForm(i,a,r,s,!1)}
      </div>
    `}static renderSettingsSection(e,t,i){return o.qy`
      <div
        class="settings-section"
        style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
      >
        ${e?o.qy`
              <div
                class="section-title"
                style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
              >
                ${e}
              </div>
            `:""}
        ${t?o.qy`
              <div
                style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 16px; opacity: 0.8; line-height: 1.4;"
              >
                ${t}
              </div>
            `:""}
        ${i.map((e=>n.renderFieldSection(e.title,e.description,e.hass,e.data,e.schema,e.onChange)))}
      </div>
    `}static entity(e,t){return{name:e,selector:{entity:t?{domain:t}:{}}}}static text(e,t=!1){return{name:e,selector:{text:t?{multiline:!0}:{}}}}static select(e,t){return{name:e,selector:{select:{options:t,mode:"dropdown"}}}}static icon(e){return{name:e,selector:{icon:{}}}}static boolean(e){return{name:e,selector:{boolean:{}}}}static number(e,t,i,o){const a={};return void 0!==t&&(a.min=t),void 0!==i&&(a.max=i),void 0!==o&&(a.step=o),{name:e,selector:{number:Object.keys(a).length?a:{}}}}static color(e){return{name:e,selector:{color_rgb:{}}}}static grid(e){return{type:"grid",name:"",schema:e}}static expandable(e,t,i){return{type:"expandable",name:e,title:t,schema:i}}static getCleanFormStyles(){return"\n      .field-section {\n        margin-bottom: 16px;\n      }\n\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n       \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      .settings-section {\n        margin-bottom: 16px;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      /* Ensure form elements are properly sized */\n      ha-form {\n        display: block;\n        width: 100%;\n      }\n\n      ha-form ha-select,\n      ha-form ha-textfield,\n      ha-form ha-entity-picker,\n      ha-form ha-icon-picker {\n        width: 100%;\n        --mdc-theme-primary: var(--primary-color);\n      }\n    "}static injectCleanFormStyles(){return o.qy`
      <style>
        ${n.getCleanFormStyles()}
      </style>
    `}static getLayoutNestingDepth(e,t=0){if("horizontal"!==e.type&&"vertical"!==e.type)return t;let i=t+1;const o=e;if(o.modules&&o.modules.length>0)for(const e of o.modules){const o=n.getLayoutNestingDepth(e,t+1);i=Math.max(i,o)}return i}static validateNestingDepth(e,t,i=3){if("horizontal"!==e.type&&"vertical"!==e.type)return{valid:!0};if("horizontal"!==t.type&&"vertical"!==t.type)return{valid:!0};const o=n.getLayoutNestingDepth(e)+n.getLayoutNestingDepth(t);return o>i?{valid:!1,error:`Layout modules cannot be nested more than ${i-1} levels deep. This would create ${o-1} levels of layout nesting.`}:{valid:!0}}}n._hideLabels=()=>"",n._defaultComputeLabel=e=>e.name,n._hideDescriptions=()=>"",n._defaultComputeDescription=e=>e.description||""},5649:(e,t,i)=>{i.d(t,{f:()=>g});var o=i(5183),a=i(866),n=i(796),r=i(3057),s=i(9662),l=i(2371),d=i(5400),c=i(4345),p=i(7987),u=i(456);i(6768);class g extends a.m{constructor(){super(...arguments),this.metadata={type:"info",title:"Info Items",description:"Show entity information values",author:"WJD Designs",version:"1.0.0",icon:"mdi:information",category:"data",tags:["info","entity","data","sensors"]},this.clickTimeout=null,this.holdTimeout=null,this.isHolding=!1}createDefault(e,t){return{id:e||this.generateId("info"),type:"info",info_entities:[{id:this.generateId("entity"),entity:"weather.forecast_home",name:"Temperature",icon:"mdi:thermometer",show_icon:!0,show_name:!0,show_state:!0,show_units:!0,text_size:14,name_size:12,icon_size:26,text_bold:!1,text_italic:!1,text_uppercase:!1,text_strikethrough:!1,name_bold:!1,name_italic:!1,name_uppercase:!1,name_strikethrough:!1,icon_color:"var(--primary-color)",name_color:"var(--secondary-text-color)",text_color:"var(--primary-text-color)",state_color:"var(--primary-text-color)",click_action:"more-info",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:"",icon_position:"left",icon_alignment:"center",content_alignment:"start",overall_alignment:"center",icon_gap:8,name_value_layout:"vertical",name_value_gap:2}],columns:1,gap:12,allow_wrap:!0,tap_action:{action:"more-info",entity:"weather.forecast_home"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n,r,s,l,d,c;const p=e,g=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en",m=this.createDefault().info_entities[0];p.info_entities&&0!==p.info_entities.length||(p.info_entities=[Object.assign({},m)],a({info_entities:p.info_entities}));let h=p.info_entities[0]?Object.assign(Object.assign({},m),p.info_entities[0]):m;return h=Object.assign(Object.assign({},h),{icon_position:h.icon_position||"left",overall_alignment:h.overall_alignment||"center",icon_alignment:h.icon_alignment||"center",content_alignment:h.content_alignment||"start",name_value_layout:h.name_value_layout||"vertical",name_value_gap:void 0!==h.name_value_gap?h.name_value_gap:2}),o.qy`
      ${this.injectUcFormStyles()}
      <style>
        /* Layout & Positioning button active styles */
        .control-btn.active {
          border: none !important;
          background: var(--primary-color) !important;
          color: white !important;
          border-radius: 2px !important;
        }
      </style>
      <div class="module-general-settings">
        <!-- Entity Configuration -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.entity_section.title",g,"ENTITY CONFIGURATION")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{entity:h.entity||""}}
              .schema=${[{name:"entity",label:(0,u.kg)("editor.info.entity",g,"Entity"),description:(0,u.kg)("editor.info.entity_desc",g,"Select the entity to display"),selector:{entity:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>{var i,o;const n=e.detail.value.entity;n!==((null===(o=null===(i=p.info_entities)||void 0===i?void 0:i[0])||void 0===o?void 0:o.entity)||"")&&(this._handleEntityChange(p,0,n,t,a),setTimeout((()=>this.triggerPreviewUpdate()),50))}}
            ></ha-form>
          </div>
        </div>

        <!-- Icon Settings -->
        <div
          class="settings-section icon-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.icon_section.title",g,"Icon Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{show_icon:!1!==h.show_icon}}
              .schema=${[{name:"show_icon",label:(0,u.kg)("editor.info.show_icon",g,"Show Icon"),description:(0,u.kg)("editor.info.show_icon_desc",g,"Display an icon next to the entity value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>{this._updateEntity(p,0,{show_icon:e.detail.value.show_icon},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
            ></ha-form>
          </div>

          ${!1!==h.show_icon?o.qy`
                <div style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{icon:h.icon||""}}
                    .schema=${[{name:"icon",label:(0,u.kg)("editor.info.icon",g,"Icon"),description:(0,u.kg)("editor.info.icon_desc",g,"Choose an icon to display"),selector:{icon:{}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>{var t,i;const o=e.detail.value.icon;o!==((null===(i=null===(t=p.info_entities)||void 0===t?void 0:t[0])||void 0===i?void 0:i.icon)||"")&&(this._updateEntity(p,0,{icon:o},a),setTimeout((()=>this.triggerPreviewUpdate()),50))}}
                  ></ha-form>
                </div>

                <div style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,u.kg)("editor.info.icon_color",g,"Icon Color")}
                  </div>
                  <ultra-color-picker
                    .value=${h.icon_color||""}
                    .defaultValue=${"var(--primary-color)"}
                    .hass=${t}
                    @value-changed=${e=>{this._updateEntity(p,0,{icon_color:e.detail.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                  ></ultra-color-picker>
                </div>
              `:""}
        </div>

        <!-- Name Settings -->
        <div
          class="settings-section name-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.name_section.title",g,"Name Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{show_name:!1!==h.show_name}}
              .schema=${[{name:"show_name",label:(0,u.kg)("editor.info.show_name",g,"Show Name"),description:(0,u.kg)("editor.info.show_name_desc",g,"Display the entity name above the value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>{this._updateEntity(p,0,{show_name:e.detail.value.show_name},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
            ></ha-form>
          </div>

          ${!1!==h.show_name?o.qy`
                <div style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{name:null!==(s=null===(r=p.info_entities[0])||void 0===r?void 0:r.name)&&void 0!==s?s:""}}
                    .schema=${[{name:"name",label:(0,u.kg)("editor.info.custom_name",g,"Custom Name"),description:(0,u.kg)("editor.info.custom_name_desc",g,"Override the entity name with a custom name"),selector:{text:{}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>{this._updateEntity(p,0,{name:e.detail.value.name},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                  ></ha-form>
                </div>

                <div style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,u.kg)("editor.info.name_color",g,"Name Color")}
                  </div>
                  <ultra-color-picker
                    .value=${h.name_color||""}
                    .defaultValue=${"var(--secondary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>{this._updateEntity(p,0,{name_color:e.detail.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                  ></ultra-color-picker>
                </div>
              `:""}
        </div>

        <!-- State Settings -->
        <div
          class="settings-section state-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.state_section.title",g,"State Settings")}
          </div>

          <div style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{show_state:!1!==h.show_state}}
              .schema=${[{name:"show_state",label:(0,u.kg)("editor.info.show_state",g,"Show State"),description:(0,u.kg)("editor.info.show_state_desc",g,"Display the entity state/value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>{this._updateEntity(p,0,{show_state:e.detail.value.show_state},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
            ></ha-form>
          </div>

          ${!1!==h.show_state?o.qy`
                <div style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{show_units:!1!==h.show_units}}
                    .schema=${[{name:"show_units",label:(0,u.kg)("editor.info.show_units",g,"Show Units"),description:(0,u.kg)("editor.info.show_units_desc",g,"Display the unit of measurement (if available)"),selector:{boolean:{}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>{this._updateEntity(p,0,{show_units:e.detail.value.show_units},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                  ></ha-form>
                </div>
              `:""}
          ${!1!==h.show_state?o.qy`
                <div style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,u.kg)("editor.info.state_color",g,"State Color")}
                  </div>
                  <ultra-color-picker
                    .value=${h.state_color||""}
                    .defaultValue=${"var(--primary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>{this._updateEntity(p,0,{state_color:e.detail.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                  ></ultra-color-picker>
                </div>
              `:""}
        </div>

        <!-- Name & Value Layout Section (shown when icon is disabled) -->
        ${!1===h.show_icon?o.qy`
              <div
                class="settings-section name-value-layout-section"
                style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
              >
                <div
                  class="section-title"
                  style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
                >
                  ${(0,u.kg)("editor.info.name_value_layout.title",g,"Name & Value Layout")}
                </div>

                <div class="field-group" style="margin-bottom: 24px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,u.kg)("editor.info.name_value_layout.orientation",g,"Layout Direction")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 12px; color: var(--secondary-text-color);"
                  >
                    ${(0,u.kg)("editor.info.name_value_layout.orientation_desc",g,"Choose how to display the name and value")}
                  </div>
                  <div
                    class="control-button-group"
                    style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; width: 100%;"
                  >
                    ${[{value:"vertical",icon:"mdi:arrow-up-down",label:"Vertical"},{value:"horizontal",icon:"mdi:arrow-left-right",label:"Horizontal"}].map((e=>o.qy`
                        <button
                          type="button"
                          class="control-btn ${(h.name_value_layout||"vertical")===e.value?"active":""}"
                          @click=${()=>{this._updateEntity(p,0,{name_value_layout:e.value},a),setTimeout((()=>this.triggerPreviewUpdate()),200)}}
                          title="${e.label}"
                          style="padding: 12px 8px; gap: 8px;"
                        >
                          <ha-icon icon="${e.icon}"></ha-icon>
                          <span style="font-size: 12px;">${e.label}</span>
                        </button>
                      `))}
                  </div>
                </div>

                <div class="field-container" style="margin-bottom: 24px;">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 8px;"
                  >
                    ${(0,u.kg)("editor.info.name_value_gap",g,"Name & Value Gap")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 12px; color: var(--secondary-text-color);"
                  >
                    ${(0,u.kg)("editor.info.name_value_gap_desc",g,"Space between the name and value in pixels")}
                  </div>
                  <div
                    class="gap-control-container"
                    style="display: flex; align-items: center; gap: 12px;"
                  >
                    <input
                      type="range"
                      class="gap-slider"
                      min="0"
                      max="32"
                      step="1"
                      .value="${void 0!==h.name_value_gap?h.name_value_gap:2}"
                      @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(p,0,{name_value_gap:i},a),setTimeout((()=>this.triggerPreviewUpdate()),200)}}
                    />
                    <input
                      type="number"
                      class="gap-input"
                      min="0"
                      max="32"
                      step="1"
                      .value="${void 0!==h.name_value_gap?h.name_value_gap:2}"
                      @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||(this._updateEntity(p,0,{name_value_gap:i},a),setTimeout((()=>this.triggerPreviewUpdate()),200))}}
                      @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||2,o="ArrowUp"===e.key?1:-1,n=Math.max(0,Math.min(32,i+o));this._updateEntity(p,0,{name_value_gap:n},a),setTimeout((()=>this.triggerPreviewUpdate()),200)}}}
                    />
                    <button
                      class="reset-btn"
                      @click=${()=>{this._updateEntity(p,0,{name_value_gap:2},a),setTimeout((()=>this.triggerPreviewUpdate()),200)}}
                      title="${(0,u.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","2")}"
                    >
                      <ha-icon icon="mdi:refresh"></ha-icon>
                    </button>
                  </div>
                </div>
              </div>
            `:""}

        <!-- Template Mode Section -->
        <div
          class="settings-section template-mode-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.template.title",g,"Template Mode")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px !important; font-weight: 400 !important; margin-bottom: 16px;"
          >
            ${(0,u.kg)("editor.info.template.desc",g,"Use a template to format the entity value. Templates allow you to use Home Assistant templating syntax for complex formatting.")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <ha-form
              .hass=${t}
              .data=${{template_mode:h.template_mode||!1}}
              .schema=${[{name:"template_mode",label:(0,u.kg)("editor.info.template.mode",g,"Template Mode"),description:(0,u.kg)("editor.info.template.mode_desc",g,"Use Home Assistant templating syntax to format the value"),selector:{boolean:{}}}]}
              .computeLabel=${e=>e.label||e.name}
              .computeDescription=${e=>e.description||""}
              @value-changed=${e=>{this._updateEntity(p,0,{template_mode:e.detail.value.template_mode},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
            ></ha-form>
          </div>

          ${h.template_mode?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <ha-form
                    .hass=${t}
                    .data=${{template:h.template||""}}
                    .schema=${[{name:"template",label:(0,u.kg)("editor.info.template.value",g,"Value Template"),description:(0,u.kg)("editor.info.template.value_desc",g,"Template to format the entity value using Jinja2 syntax"),selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>{this._updateEntity(p,0,{template:e.detail.value.template},a),this._handleTemplateChange(e.detail.value.template,p,0,t)}}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
                  >
                    ${(0,u.kg)("editor.info.examples_title",g,"Common Examples:")}
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.${(null===(l=h.entity)||void 0===l?void 0:l.split(".")[1])||"example"}') }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,u.kg)("editor.info.example_basic",g,"Basic value")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.${(null===(d=h.entity)||void 0===d?void 0:d.split(".")[1])||"example"}') | float(0) }}
                      km
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,u.kg)("editor.info.example_units",g,"With units")}
                    </div>
                  </div>

                  <div class="example-item" style="margin-bottom: 16px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 12px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 12px; color: #d4d4d4; margin-bottom: 8px;"
                    >
                      {{ states('sensor.${(null===(c=h.entity)||void 0===c?void 0:c.split(".")[1])||"example"}') | float(0) |
                      round(1) }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 12px; color: var(--secondary-text-color);"
                    >
                      ${(0,u.kg)("editor.info.example_round",g,"Round to 1 decimal")}
                    </div>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Size Settings -->
        <div
          class="settings-section size-settings"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.size_section.title",g,"Size Settings")}
          </div>

          <div style="display: flex; flex-direction: column; gap: 20px;">
            ${!1!==h.show_icon?o.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,u.kg)("editor.info.icon_size",g,"Icon Size")}
                    </div>
                    <div class="field-description">
                      ${(0,u.kg)("editor.info.icon_size_desc",g,"Size of the icon in pixels")}
                    </div>
                    <div
                      class="gap-control-container"
                      style="display: flex; align-items: center; gap: 12px;"
                    >
                      <input
                        type="range"
                        class="gap-slider"
                        min="12"
                        max="48"
                        step="1"
                        .value="${Number(h.icon_size)||26}"
                        @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(p,0,{icon_size:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                      />
                      <input
                        type="number"
                        class="gap-input"
                        min="12"
                        max="48"
                        step="1"
                        .value="${Number(h.icon_size)||26}"
                        @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||(this._updateEntity(p,0,{icon_size:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50))}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||26,o="ArrowUp"===e.key?1:-1,n=Math.max(12,Math.min(48,i+o));this._updateEntity(p,0,{icon_size:n},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}}
                      />
                      <button
                        class="reset-btn"
                        @click=${()=>{this._updateEntity(p,0,{icon_size:26},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                        title="${(0,u.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","26")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                `:""}
            ${!1!==h.show_name?o.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,u.kg)("editor.info.name_size",g,"Name Size")}
                    </div>
                    <div class="field-description">
                      ${(0,u.kg)("editor.info.name_size_desc",g,"Size of the entity name text in pixels")}
                    </div>
                    <div
                      class="gap-control-container"
                      style="display: flex; align-items: center; gap: 12px;"
                    >
                      <input
                        type="range"
                        class="gap-slider"
                        min="8"
                        max="32"
                        step="1"
                        .value="${h.name_size||12}"
                        @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(p,0,{name_size:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                      />
                      <input
                        type="number"
                        class="gap-input"
                        min="8"
                        max="32"
                        step="1"
                        .value="${h.name_size||12}"
                        @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||(this._updateEntity(p,0,{name_size:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50))}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||12,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));this._updateEntity(p,0,{name_size:n},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}}
                      />
                      <button
                        class="reset-btn"
                        @click=${()=>{this._updateEntity(p,0,{name_size:12},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                        title="${(0,u.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","12")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                `:""}

            <div class="field-container" style="margin-bottom: 24px;">
              <div class="field-title">
                ${(0,u.kg)("editor.info.value_size",g,"Value Size")}
              </div>
              <div class="field-description">
                ${(0,u.kg)("editor.info.value_size_desc",g,"Size of the entity value text in pixels")}
              </div>
              <div
                class="gap-control-container"
                style="display: flex; align-items: center; gap: 12px;"
              >
                <input
                  type="range"
                  class="gap-slider"
                  min="8"
                  max="32"
                  step="1"
                  .value="${h.text_size||14}"
                  @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(p,0,{text_size:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                />
                <input
                  type="number"
                  class="gap-input"
                  min="8"
                  max="32"
                  step="1"
                  .value="${h.text_size||14}"
                  @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||(this._updateEntity(p,0,{text_size:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50))}}
                  @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||14,o="ArrowUp"===e.key?1:-1,n=Math.max(8,Math.min(32,i+o));this._updateEntity(p,0,{text_size:n},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}}
                />
                <button
                  class="reset-btn"
                  @click=${()=>{this._updateEntity(p,0,{text_size:14},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                  title="${(0,u.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","14")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            ${!1!==h.show_icon?o.qy`
                  <div class="field-container" style="margin-bottom: 24px;">
                    <div class="field-title">
                      ${(0,u.kg)("editor.info.icon_gap",g,"Icon Gap")}
                    </div>
                    <div class="field-description">
                      ${(0,u.kg)("editor.info.icon_gap_desc",g,"Space between the icon and content in pixels")}
                    </div>
                    <div
                      class="gap-control-container"
                      style="display: flex; align-items: center; gap: 12px;"
                    >
                      <input
                        type="range"
                        class="gap-slider"
                        min="0"
                        max="32"
                        step="1"
                        .value="${h.icon_gap||8}"
                        @input=${e=>{const t=e.target,i=Number(t.value);this._updateEntity(p,0,{icon_gap:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                      />
                      <input
                        type="number"
                        class="gap-input"
                        min="0"
                        max="32"
                        step="1"
                        .value="${h.icon_gap||8}"
                        @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||(this._updateEntity(p,0,{icon_gap:i},a),setTimeout((()=>this.triggerPreviewUpdate()),50))}}
                        @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=Number(t.value)||8,o="ArrowUp"===e.key?1:-1,n=Math.max(0,Math.min(32,i+o));this._updateEntity(p,0,{icon_gap:n},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}}
                      />
                      <button
                        class="reset-btn"
                        @click=${()=>{this._updateEntity(p,0,{icon_gap:8},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                        title="${(0,u.kg)("editor.fields.reset_default_value",g,"Reset to default ({value})").replace("{value}","8")}"
                      >
                        <ha-icon icon="mdi:refresh"></ha-icon>
                      </button>
                    </div>
                  </div>
                `:""}
          </div>
        </div>

        <!-- Layout & Positioning Section -->
        <div
          class="settings-section layout-positioning-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-top: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px !important; font-weight: 700 !important; text-transform: uppercase !important; color: var(--primary-color); margin-bottom: 16px; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px;"
          >
            ${(0,u.kg)("editor.info.layout_section.title",g,"Layout & Positioning")}
          </div>

          <!-- Icon Position -->
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
            >
              ${(0,u.kg)("editor.info.icon_position",g,"Icon Position")}
            </div>
            <div
              class="control-button-group"
              style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; width: 100%;"
            >
              ${[{value:"left",icon:"mdi:arrow-left"},{value:"top",icon:"mdi:arrow-up"},{value:"right",icon:"mdi:arrow-right"},{value:"bottom",icon:"mdi:arrow-down"}].map((e=>o.qy`
                  <button
                    type="button"
                    class="control-btn ${(h.icon_position||"left")===e.value?"active":""}"
                    @click=${()=>{this._updateEntity(p,0,{icon_position:e.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                    title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                  >
                    <ha-icon icon="${e.icon}"></ha-icon>
                  </button>
                `))}
            </div>
          </div>

          <!-- Overall Alignment -->
          <div class="field-group" style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
            >
              ${(0,u.kg)("editor.info.overall_alignment",g,"Overall Alignment")}
            </div>
            <div
              class="control-button-group"
              style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; width: 100%;"
            >
              ${[{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"}].map((e=>o.qy`
                  <button
                    type="button"
                    class="control-btn ${(h.overall_alignment||"center")===e.value?"active":""}"
                    @click=${()=>{this._updateEntity(p,0,{overall_alignment:e.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                    title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                  >
                    <ha-icon icon="${e.icon}"></ha-icon>
                  </button>
                `))}
            </div>
          </div>

          <!-- Icon and Content Alignment Side by Side -->
          <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 32px;"
          >
            <!-- Icon Alignment -->
            <div class="field-group">
              <div
                class="field-title"
                style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
              >
                ${(0,u.kg)("editor.info.icon_alignment",g,"Icon Alignment")}
              </div>
              <div
                class="control-button-group"
                style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;"
              >
                ${[{value:"start",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"end",icon:"mdi:format-align-right"}].map((e=>o.qy`
                    <button
                      type="button"
                      class="control-btn ${(h.icon_alignment||"center")===e.value?"active":""}"
                      @click=${()=>{this._updateEntity(p,0,{icon_alignment:e.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                      title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                    >
                      <ha-icon icon="${e.icon}"></ha-icon>
                    </button>
                  `))}
              </div>
            </div>

            <!-- Content Alignment -->
            <div class="field-group">
              <div
                class="field-title"
                style="font-size: 16px !important; font-weight: 600 !important; margin-bottom: 12px;"
              >
                ${(0,u.kg)("editor.info.content_alignment",g,"Content Alignment")}
              </div>
              <div
                class="control-button-group"
                style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;"
              >
                ${[{value:"start",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"end",icon:"mdi:format-align-right"}].map((e=>o.qy`
                    <button
                      type="button"
                      class="control-btn ${(h.content_alignment||"start")===e.value?"active":""}"
                      @click=${()=>{this._updateEntity(p,0,{content_alignment:e.value},a),setTimeout((()=>this.triggerPreviewUpdate()),50)}}
                      title="${e.value.charAt(0).toUpperCase()+e.value.slice(1)}"
                    >
                      <ha-icon icon="${e.icon}"></ha-icon>
                    </button>
                  `))}
              </div>
            </div>
          </div>
        </div>
      </div>
    `}renderActionsTab(e,t,i,o){return s.A.render(e,t,(e=>o(e)))}renderLogicTab(e,t,i,o){return l.X.render(e,t,(e=>o(e)))}renderSingleActionConfig(e,t,i,a,n){const r={action_config:"nothing"===(null==i?void 0:i.action)?Object.assign(Object.assign({},i),{action:"default"}):i};return o.qy`
      <div style="margin-bottom: 16px;">
        <ha-form
          .hass=${a}
          .data=${r}
          .schema=${[{name:"action_config",label:"",selector:{ui_action:{actions:["default","more-info","toggle","navigate","url","perform-action","assist"]}}}]}
          .computeLabel=${e=>e.label||""}
          @value-changed=${e=>{var t;const i=null===(t=e.detail.value)||void 0===t?void 0:t.action_config;i&&n(i)}}
        ></ha-form>
      </div>
    `}renderSplitPreview(e,t){return this.renderPreview(e,t)}renderPreview(e,t,i){const a=e,n=a,s=a.design||{},l={color:a.color||s.color,font_size:a.font_size||s.font_size,font_weight:a.font_weight||s.font_weight,font_style:a.font_style||s.font_style,text_transform:a.text_transform||s.text_transform,font_family:a.font_family||s.font_family,line_height:a.line_height||s.line_height,letter_spacing:a.letter_spacing||s.letter_spacing,text_align:a.text_align||s.text_align,text_shadow_h:a.text_shadow_h||s.text_shadow_h,text_shadow_v:a.text_shadow_v||s.text_shadow_v,text_shadow_blur:a.text_shadow_blur||s.text_shadow_blur,text_shadow_color:a.text_shadow_color||s.text_shadow_color,background_color:a.background_color||s.background_color,background_image:a.background_image||s.background_image,background_size:a.background_size||s.background_size,background_position:a.background_position||s.background_position,background_repeat:a.background_repeat||s.background_repeat,border_style:a.border_style||s.border_style,border_width:a.border_width||s.border_width,border_color:a.border_color||s.border_color,border_radius:a.border_radius||s.border_radius,position:a.position||s.position,top:a.top||s.top,bottom:a.bottom||s.bottom,left:a.left||s.left,right:a.right||s.right,z_index:a.z_index||s.z_index,width:a.width||s.width,height:a.height||s.height,max_width:a.max_width||s.max_width,max_height:a.max_height||s.max_height,min_width:a.min_width||s.min_width,min_height:a.min_height||s.min_height,overflow:a.overflow||s.overflow,clip_path:a.clip_path||s.clip_path,backdrop_filter:a.backdrop_filter||s.backdrop_filter,box_shadow_h:a.box_shadow_h||s.box_shadow_h,box_shadow_v:a.box_shadow_v||s.box_shadow_v,box_shadow_blur:a.box_shadow_blur||s.box_shadow_blur,box_shadow_spread:a.box_shadow_spread||s.box_shadow_spread,box_shadow_color:a.box_shadow_color||s.box_shadow_color,padding_top:a.padding_top||s.padding_top,padding_bottom:a.padding_bottom||s.padding_bottom,padding_left:a.padding_left||s.padding_left,padding_right:a.padding_right||s.padding_right,margin_top:a.margin_top||s.margin_top,margin_bottom:a.margin_bottom||s.margin_bottom,margin_left:a.margin_left||s.margin_left,margin_right:a.margin_right||s.margin_right},d=(e,t)=>null!=e&&""!==e?"string"==typeof e&&/[a-zA-Z%]/.test(e)?e:`${e}px`:null!=t?"string"==typeof t&&/[a-zA-Z%]/.test(t)?t:`${t}px`:"inherit",u=(e,t)=>null!=e&&""!==e&&"number"==typeof e?`${e}px`:null!=t?"string"==typeof t&&t.includes("px")?t:`${t}px`:"26px",g=e=>{if(l.text_align&&"inherit"!==l.text_align)return l.text_align;const t=e.content_alignment;if("start"===t)return"left";if("end"===t)return"right";if("center"===t)return"center";const i=e.overall_alignment;if(!t&&i){if("left"===i)return"left";if("right"===i)return"right";if("center"===i)return"center"}return"center"},m={padding:l.padding_top||l.padding_bottom||l.padding_left||l.padding_right||n.padding_top||n.padding_bottom||n.padding_left||n.padding_right?`${this.addPixelUnit(l.padding_top||n.padding_top)||"0px"} ${this.addPixelUnit(l.padding_right||n.padding_right)||"0px"} ${this.addPixelUnit(l.padding_bottom||n.padding_bottom)||"0px"} ${this.addPixelUnit(l.padding_left||n.padding_left)||"0px"}`:"16px",margin:l.margin_top||l.margin_bottom||l.margin_left||l.margin_right||n.margin_top||n.margin_bottom||n.margin_left||n.margin_right?`${l.margin_top||n.margin_top||"8px"} ${l.margin_right||n.margin_right||"0px"} ${l.margin_bottom||n.margin_bottom||"8px"} ${l.margin_left||n.margin_left||"0px"}`:"8px 0",background:l.background_color||n.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},n),l),t),backgroundSize:l.background_size||n.background_size||"cover",backgroundPosition:l.background_position||n.background_position||"center",backgroundRepeat:l.background_repeat||n.background_repeat||"no-repeat",border:(l.border_style||n.border_style)&&"none"!==(l.border_style||n.border_style)?`${l.border_width||n.border_width||"1px"} ${l.border_style||n.border_style} ${l.border_color||n.border_color||"var(--divider-color)"}`:"none",borderRadius:this.addPixelUnit(l.border_radius||n.border_radius)||"0",position:l.position||n.position||"relative",top:l.top||n.top||"auto",bottom:l.bottom||n.bottom||"auto",left:l.left||n.left||"auto",right:l.right||n.right||"auto",zIndex:l.z_index||n.z_index||"auto",width:l.width||n.width||"auto",height:l.height||n.height||"auto",maxWidth:l.max_width||n.max_width||"none",maxHeight:l.max_height||n.max_height||"none",minWidth:l.min_width||n.min_width||"none",minHeight:l.min_height||n.min_height||"auto",overflow:l.overflow||n.overflow||"visible",clipPath:l.clip_path||n.clip_path||"none",backdropFilter:l.backdrop_filter||n.backdrop_filter||"none",boxShadow:(l.box_shadow_h||n.box_shadow_h)&&(l.box_shadow_v||n.box_shadow_v)?`${l.box_shadow_h||n.box_shadow_h||"0"} ${l.box_shadow_v||n.box_shadow_v||"0"} ${l.box_shadow_blur||n.box_shadow_blur||"0"} ${l.box_shadow_spread||n.box_shadow_spread||"0"} ${l.box_shadow_color||n.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},h=(a.info_entities&&a.info_entities.length>0?Object.assign(Object.assign({},this.createDefault().info_entities[0]),a.info_entities[0]):this.createDefault().info_entities[0]).overall_alignment||"center";return o.qy`
      <div class="info-module-container" style=${this.styleObjectToCss(m)}>
        <div class="info-module-preview">
          <div
            class="info-entities"
            style="
            display: grid;
            grid-template-columns: repeat(${a.columns||1}, 1fr);
            gap: ${a.gap||12}px;
            justify-content: ${"left"===h?"start":"right"===h?"end":"center"};
            justify-items: ${"left"===h?"start":"right"===h?"end":"center"};
          "
          >
            ${a.info_entities.slice(0,3).map(((e,i)=>{var s,m,h,_;const v=this.createDefault().info_entities[0];let f=Object.assign(Object.assign({},v),e);f=Object.assign(Object.assign({},f),{icon_position:f.icon_position||"left",overall_alignment:f.overall_alignment||"center",icon_alignment:f.icon_alignment||"center",content_alignment:f.content_alignment||"start",name_value_layout:f.name_value_layout||"vertical",name_value_gap:void 0!==f.name_value_gap?f.name_value_gap:2});const b=null==t?void 0:t.states[f.entity];let y;if(f.template_mode&&f.template){if(!this._templateService&&t&&(this._templateService=new c.I(t)),t){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(f.template),o=`info_entity_${a.id?`${a.id}_${i}`:`${i}`}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(o)&&this._templateService.subscribeToTemplate(f.template,o,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const n=null===(s=t.__uvc_template_strings)||void 0===s?void 0:s[o];y=void 0!==n&&""!==String(n).trim()?String(n):b?b.state:"N/A"}}else y=b?(0,r.formatEntityState)(t,f.entity,{includeUnit:!1!==f.show_units}):"N/A";const k=void 0!==e.name&&null!==e.name&&""!==String(e.name).trim()?String(e.name):(null===(m=null==b?void 0:b.attributes)||void 0===m?void 0:m.friendly_name)||f.entity,x=f.icon||(null===(h=null==b?void 0:b.attributes)||void 0===h?void 0:h.icon)||"mdi:help-circle",w=f.icon_position||"left",S=f.icon_alignment||"center",A=(f.content_alignment,f.overall_alignment||"center"),C=f.icon_gap||8,z=!1!==f.show_icon?this._shouldUseEntityPicture(b)?o.qy`
                        <img
                          src="${this._getEntityPicture(b,t)}"
                          class="entity-icon entity-picture"
                          style="
                            width: ${u(l.font_size,f.icon_size||26)};
                            height: ${u(l.font_size,f.icon_size||26)};
                            border-radius: 50%;
                            object-fit: cover;
                          "
                          alt="Entity picture"
                        />
                      `:o.qy`
                        <ha-icon
                          icon="${x}"
                          class="entity-icon"
                          style="color: ${l.color||f.icon_color||"var(--primary-color)"}; --mdc-icon-size: ${u(l.font_size,f.icon_size||26)};"
                        ></ha-icon>
                      `:"",T=()=>{const e=l.text_shadow_h||n.text_shadow_h,t=l.text_shadow_v||n.text_shadow_v,i=l.text_shadow_blur||n.text_shadow_blur,o=l.text_shadow_color||n.text_shadow_color;return e||t||i||o?`${e||"0px"} ${t||"0px"} ${i||"0px"} ${o||"rgba(0,0,0,0.2)"}`:"none"},I=!1===f.show_icon&&f.name_value_layout||"vertical",E=void 0!==f.name_value_gap?f.name_value_gap:2,$=o.qy`
                <div
                  class="entity-content"
                  data-layout="${I}"
                  data-gap="${E}"
                  data-entity-gap="${f.name_value_gap}"
                  data-show-icon="${f.show_icon}"
                  style="
                  display: flex;
                  align-items: ${"horizontal"===I?"center":(e=>{if(l.text_align&&"inherit"!==l.text_align)return"left"===l.text_align?"flex-start":"right"===l.text_align?"flex-end":"center";const t=e.content_alignment;if("start"===t)return"flex-start";if("end"===t)return"flex-end";if("center"===t)return"center";const i=e.overall_alignment;if(!t&&i){if("left"===i)return"flex-start";if("right"===i)return"flex-end";if("center"===i)return"center"}return"center"})(f)};
                  text-align: ${g(f)};
                  flex-direction: ${"horizontal"===I?"row":"column"};
                  gap: ${E}px;
                "
                >
                  ${!1!==f.show_name?o.qy`
                        <div
                          class="entity-name"
                          style="
                    color: ${l.color||f.name_color||"var(--secondary-text-color)"};
                    font-size: ${d(l.font_size,f.name_size||12)};
                    font-weight: ${l.font_weight||(f.name_bold?"bold":"normal")};
                    font-style: ${l.font_style||(f.name_italic?"italic":"normal")};
                    text-transform: ${l.text_transform||(f.name_uppercase?"uppercase":"none")};
                    text-decoration: ${f.name_strikethrough?"line-through":"none"};
                    font-family: ${l.font_family||"inherit"};
                    line-height: ${l.line_height||"inherit"};
                    letter-spacing: ${l.letter_spacing||"inherit"};
                    text-align: ${g(f)};
                    text-shadow: ${T()};
                    ${"horizontal"===I?"white-space: nowrap;":""}
                  "
                        >
                          ${k}
                        </div>
                      `:""}
                  ${!1!==f.show_state?o.qy`
                        <div
                          class="entity-value"
                          style="
                        color: ${l.color||f.state_color||f.text_color||"var(--primary-text-color)"};
                        font-size: ${d(l.font_size,f.text_size||14)};
                        font-weight: ${l.font_weight||(f.text_bold?"bold":"normal")};
                        font-style: ${l.font_style||(f.text_italic?"italic":"normal")};
                        text-transform: ${l.text_transform||(f.text_uppercase?"uppercase":"none")};
                        text-decoration: ${f.text_strikethrough?"line-through":"none"};
                        font-family: ${l.font_family||"inherit"};
                        line-height: ${l.line_height||"inherit"};
                        letter-spacing: ${l.letter_spacing||"inherit"};
                        text-align: ${g(f)};
                        text-shadow: ${T()};
                      "
                        >
                          ${y}
                        </div>
                      `:""}
                </div>
              `,P=null===(_=a.design)||void 0===_?void 0:_.hover_effect,j=p.k.getHoverEffectClass(P);var B;return(null==(B=a)?void 0:B.tap_action)&&"nothing"!==B.tap_action.action||(null==B?void 0:B.hold_action)&&"nothing"!==B.hold_action.action||(null==B?void 0:B.double_tap_action)&&"nothing"!==B.double_tap_action.action?o.qy`<div
                    class="info-entity-clickable position-${w} ${j}"
                    style="
                    display: flex;
                    flex-direction: ${"top"===w||"bottom"===w?"column":"row"};
                    align-items: ${"start"===S?"flex-start":"end"===S?"flex-end":"center"};
                    justify-content: ${"left"===A?"flex-start":"right"===A?"flex-end":"center"};
                    gap: ${C}px;
                    cursor: pointer;
                    user-select: none;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                  "
                    @click=${e=>this.handleClick(e,a,t)}
                    @dblclick=${e=>this.handleDoubleClick(e,a,t)}
                    @mousedown=${e=>this.handleMouseDown(e,a,t)}
                    @mouseup=${e=>this.handleMouseUp(e,a,t)}
                    @mouseleave=${e=>this.handleMouseLeave(e,a,t)}
                    @touchstart=${e=>this.handleTouchStart(e,a,t)}
                    @touchend=${e=>this.handleTouchEnd(e,a,t)}
                  >
                    ${"left"===w||"top"===w?o.qy`${z}${$}`:o.qy`${$}${z}`}
                  </div>`:o.qy`<div
                    class="info-entity-item position-${w} ${j}"
                    style="
                    display: flex;
                    flex-direction: ${"top"===w||"bottom"===w?"column":"row"};
                    align-items: ${"start"===S?"flex-start":"end"===S?"flex-end":"center"};
                    justify-content: ${"left"===A?"flex-start":"right"===A?"flex-end":"center"};
                    gap: ${C}px;
                  "
                  >
                    ${"left"===w||"top"===w?o.qy`${z}${$}`:o.qy`${$}${z}`}
                  </div>`}))}
            ${a.info_entities.length>3?o.qy`
                  <div class="more-entities">+${a.info_entities.length-3} more</div>
                `:""}
          </div>
        </div>
      </div>
    `}validate(e){const t=e,i=[...super.validate(e).errors];return t.info_entities&&0!==t.info_entities.length||i.push("At least one info entity is required"),t.info_entities.forEach(((e,t)=>{e.entity&&""!==e.entity.trim()||i.push(`Entity ${t+1}: Entity ID is required`)})),{valid:0===i.length,errors:i}}getStyles(){return"\n      .info-module-preview {\n      }\n      \n      .info-entities {\n        width: 100%;\n      }\n      \n      .info-entity-item {\n        min-width: 0;\n        flex: 1;\n      }\n      \n      .entity-content {\n        display: flex;\n        min-width: 0;\n        flex: 1;\n      }\n      \n      .entity-icon {\n        flex-shrink: 0;\n      }\n      \n      .entity-name {\n        font-size: 12px;\n        line-height: 1.2;\n      }\n      \n      .entity-value {\n        font-size: 14px;\n        font-weight: 500;\n        line-height: 1.2;\n      }\n      \n      .more-entities {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 8px;\n        color: var(--secondary-text-color);\n        font-size: 12px;\n        font-style: italic;\n      }\n      \n      .info-entities-section,\n      .layout-section {\n        margin-top: 16px;\n        padding-top: 16px;\n        border-top: 1px solid var(--divider-color);\n      }\n      \n      .info-entities-section:first-child {\n        margin-top: 0;\n        padding-top: 0;\n        border-top: none;\n      }\n      \n      .info-entities-section h4,\n      .layout-section h4 {\n        margin: 0 0 12px 0;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--primary-text-color);\n      }\n      \n      .entity-item {\n        border: 1px solid var(--divider-color);\n        border-radius: 8px;\n        padding: 12px;\n        margin-bottom: 12px;\n        background: var(--card-background-color);\n      }\n      \n      .entity-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 12px;\n        font-weight: 500;\n        font-size: 14px;\n      }\n      \n      .remove-entity-btn {\n        background: none;\n        border: none;\n        color: var(--error-color);\n        cursor: pointer;\n        padding: 4px;\n        border-radius: 4px;\n        font-size: 14px;\n      }\n      \n      .remove-entity-btn:disabled {\n        opacity: 0.3;\n        cursor: not-allowed;\n      }\n      \n      .add-entity-btn {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        width: 100%;\n        padding: 12px;\n        border: 2px dashed var(--primary-color);\n        border-radius: 8px;\n        background: none;\n        color: var(--primary-color);\n        cursor: pointer;\n        font-size: 14px;\n        font-weight: 500;\n      }\n      \n      .add-entity-btn:hover {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      .entity-display-options {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 8px;\n        margin: 8px 0;\n      }\n      \n      /* Control button styles */\n      .control-btn {\n        padding: 8px 4px;\n        border: 1px solid var(--divider-color);\n        background: var(--card-background-color);\n        color: var(--primary-text-color);\n        border-radius: 4px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        user-select: none;\n        font-size: 10px;\n      }\n      \n      .control-btn:hover:not(.active) {\n        border-color: var(--primary-color) !important;\n        background: var(--primary-color) !important;\n        color: white !important;\n        opacity: 0.8;\n      }\n      \n      .control-btn ha-icon {\n        font-size: 14px;\n      }\n      \n      .control-button-group {\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        border-radius: 4px;\n        overflow: visible;\n        position: relative;\n      }\n      \n      .control-button-group .control-btn:not(:last-child) {\n        border-right: none;\n      }\n      \n      .control-button-group .control-btn:first-child {\n        border-radius: 4px 0 0 4px;\n      }\n      \n      .control-button-group .control-btn:last-child {\n        border-radius: 0 4px 4px 0;\n      }\n      \n      .control-button-group .control-btn:only-child {\n        border-radius: 4px;\n      }\n\n      .control-button-group .control-btn.active {\n        position: relative;\n        z-index: 2;\n        border-radius: 4px !important;\n      }\n      \n      /* Position-specific layout styles */\n      .position-left {\n        flex-direction: row;\n      }\n      \n      .position-right {\n        flex-direction: row-reverse;\n      }\n      \n      .position-top {\n        flex-direction: column;\n      }\n      \n      .position-bottom {\n        flex-direction: column-reverse;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n\n      /* Legacy hover effects removed - now handled by new hover effects system */\n    "}hasActiveActions(e){const t=e.tap_action&&"default"!==e.tap_action.action&&"nothing"!==e.tap_action.action,i=e.hold_action&&"default"!==e.hold_action.action&&"nothing"!==e.hold_action.action,o=e.double_tap_action&&"default"!==e.double_tap_action.action&&"nothing"!==e.double_tap_action.action;return t||i||o}handleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout((()=>{this.handleTapAction(e,t,i,o)}),300)}handleDoubleClick(e,t,i,o){e.preventDefault(),this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.handleDoubleAction(e,t,i,o)}handleMouseDown(e,t,i,o){this.startHold(e,t,i,o)}handleMouseUp(e,t,i){this.endHold(e,t,i)}handleMouseLeave(e,t,i){this.endHold(e,t,i)}handleTouchStart(e,t,i,o){this.startHold(e,t,i,o)}handleTouchEnd(e,t,i){this.endHold(e,t,i)}startHold(e,t,i,o){this.isHolding=!1,this.holdTimeout=setTimeout((()=>{this.isHolding=!0,this.handleHoldAction(e,t,i,o)}),500)}endHold(e,t,i){this.holdTimeout&&(clearTimeout(this.holdTimeout),this.holdTimeout=null),this.isHolding=!1}handleTapAction(e,t,i,o){this.isHolding||t.tap_action&&"default"!==t.tap_action.action&&"nothing"!==t.tap_action.action&&n.K.handleAction(t.tap_action,i,e.target,o)}handleDoubleAction(e,t,i,o){t.double_tap_action&&"default"!==t.double_tap_action.action&&"nothing"!==t.double_tap_action.action&&n.K.handleAction(t.double_tap_action,i,e.target,o)}handleHoldAction(e,t,i,o){t.hold_action&&"default"!==t.hold_action.action&&"nothing"!==t.hold_action.action&&n.K.handleAction(t.hold_action,i,e.target,o)}_addEntity(e,t){const i={id:this.generateId("entity"),entity:"weather.forecast_home",name:"Temperature",icon:"mdi:thermometer",show_icon:!0,show_name:!0,show_state:!0,text_size:14,name_size:12,icon_size:26,text_bold:!1,text_italic:!1,text_uppercase:!1,text_strikethrough:!1,name_bold:!1,name_italic:!1,name_uppercase:!1,name_strikethrough:!1,icon_color:"var(--primary-color)",name_color:"var(--secondary-text-color)",text_color:"var(--primary-text-color)",state_color:"var(--primary-text-color)",click_action:"more-info",navigation_path:"",url:"",service:"",service_data:{},template_mode:!1,template:"",dynamic_icon_template_mode:!1,dynamic_icon_template:"",dynamic_color_template_mode:!1,dynamic_color_template:"",icon_position:"left",icon_alignment:"center",content_alignment:"start",overall_alignment:"center",icon_gap:8,name_value_layout:"vertical",name_value_gap:2},o=[...e.info_entities,i],a={info_entities:o};1!==o.length||e.tap_action&&"nothing"!==e.tap_action.action&&"default"!==e.tap_action.action||(a.tap_action={action:"more-info",entity:i.entity}),t(a)}_removeEntity(e,t,i){e.info_entities.length<=1||i({info_entities:e.info_entities.filter(((e,i)=>i!==t))})}_handleEntityChange(e,t,i,o,a){var n;const r={entity:i};if(i&&(null==o?void 0:o.states[i])){const e=(null===(n=o.states[i].attributes)||void 0===n?void 0:n.friendly_name)||i.split(".").pop()||"",t=d.s.getEntityIcon(i,o);r.name=e,t&&(r.icon=t)}const s={info_entities:e.info_entities.map(((e,i)=>i===t?Object.assign(Object.assign({},e),r):e))};i&&(null==o?void 0:o.states[i])&&(!e.tap_action||"nothing"===e.tap_action.action||"default"===e.tap_action.action||"more-info"===e.tap_action.action)&&(s.tap_action={action:"more-info",entity:i}),a(s),setTimeout((()=>{window.dispatchEvent(new CustomEvent("ultra-card-actions-refresh",{detail:{moduleId:e.id},bubbles:!0,composed:!0}))}),50)}_updateEntity(e,t,i,o){if(!e.info_entities||0===e.info_entities.length){const t=this.createDefault().info_entities[0];return e.info_entities=[Object.assign(Object.assign({},t),i)],void o({info_entities:e.info_entities})}if(t>=e.info_entities.length){const i=this.createDefault().info_entities[0];for(;e.info_entities.length<=t;)e.info_entities.push(Object.assign({},i))}o({info_entities:e.info_entities.map(((e,o)=>o===t?Object.assign(Object.assign({},e),i):e))})}getBackgroundImageCSS(e,t){var i,o;if(!e.background_image_type||"none"===e.background_image_type)return"none";switch(e.background_image_type){case"upload":case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const a=t.states[e.background_image_entity];let n="";if((null===(i=a.attributes)||void 0===i?void 0:i.entity_picture)?n=a.attributes.entity_picture:(null===(o=a.attributes)||void 0===o?void 0:o.image)?n=a.attributes.image:a.state&&"string"==typeof a.state&&(a.state.startsWith("/")||a.state.startsWith("http"))&&(n=a.state),n)return n.startsWith("/local/")||n.startsWith("/media/")||n.startsWith("/"),`url("${n}")`}}return"none"}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}async _handleTemplateChange(e,t,i,o){if(e&&o)try{const a=await o.callApi("POST","template",{template:e});o.__uvc_template_strings||(o.__uvc_template_strings={});const n=this._hashString(e),r=`info_entity_${t.id?`${t.id}_${i}`:`${i}`}_${n}`;o.__uvc_template_strings[r]=a,"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}catch(e){}}_getEntityPicture(e,t){var i,o;if(!e||!t)return null;if(!e.entity_id)return null;const a=null===(i=e.attributes)||void 0===i?void 0:i.entity_picture;if(a)return a.startsWith("/")?`${(t.hassUrl?t.hassUrl():"").replace(/\/$/,"")}${a}`:a;const n=["image","picture","thumbnail","avatar","photo","icon_url","image_url"];for(const i of n){const a=null===(o=e.attributes)||void 0===o?void 0:o[i];if(a&&"string"==typeof a)return a.startsWith("/")?`${(t.hassUrl?t.hassUrl():"").replace(/\/$/,"")}${a}`:a}return null}_shouldUseEntityPicture(e){var t;return!!e&&(!!e.entity_id&&(!!(null===(t=e.attributes)||void 0===t?void 0:t.entity_picture)||["image","picture","thumbnail","avatar","photo","icon_url","image_url"].some((t=>{var i;return(null===(i=e.attributes)||void 0===i?void 0:i[t])&&"string"==typeof e.attributes[t]&&""!==e.attributes[t].trim()}))))}}},5672:(e,t,i)=>{i.d(t,{x:()=>o});const o="2.0-beta3"},5863:(e,t,i)=>{i.d(t,{j:()=>p});var o=i(5183),a=i(866),n=i(2381),r=i(796),s=i(7593),l=i(2371),d=i(456),c=i(1397);class p extends a.m{constructor(){super(...arguments),this.metadata={type:"vertical",title:"Vertical Layout",description:"Arrange modules in columns with flexible alignment and spacing",author:"WJD Designs",version:"1.0.0",icon:"mdi:view-agenda",category:"layout",tags:["layout","vertical","alignment","container","flexbox"]}}createDefault(e,t){return{id:e||this.generateId("vertical"),type:"vertical",alignment:"center",horizontal_alignment:"center",gap:1.2,modules:[],tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const r=e,s=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}

      <div class="module-general-settings">
        <!-- Layout Configuration Section -->
        ${this.renderSettingsSection((0,d.kg)("editor.vertical.layout.title",s,"Layout Configuration"),(0,d.kg)("editor.vertical.layout.desc",s,"Configure alignment and spacing for items in a single column."),[{title:(0,d.kg)("editor.vertical.alignment.horizontal",s,"Horizontal Alignment"),description:(0,d.kg)("editor.vertical.alignment.horizontal_desc",s,"Choose how items are aligned horizontally within the column."),hass:t,data:{horizontal_alignment:r.horizontal_alignment||"center"},schema:[this.selectField("horizontal_alignment",[{value:"left",label:(0,d.kg)("editor.common.left",s,"Left")},{value:"center",label:(0,d.kg)("editor.common.center",s,"Center")},{value:"right",label:(0,d.kg)("editor.common.right",s,"Right")},{value:"stretch",label:(0,d.kg)("editor.common.stretch",s,"Stretch")}])],onChange:e=>{e.detail.value.horizontal_alignment!==(r.horizontal_alignment||"center")&&(a(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}},{title:(0,d.kg)("editor.vertical.alignment.vertical",s,"Vertical Distribution"),description:(0,d.kg)("editor.vertical.alignment.vertical_desc",s,"How items are distributed along the vertical axis."),hass:t,data:{alignment:r.alignment||"top"},schema:[this.selectField("alignment",[{value:"top",label:(0,d.kg)("editor.common.top",s,"Top")},{value:"center",label:(0,d.kg)("editor.common.center",s,"Center")},{value:"bottom",label:(0,d.kg)("editor.common.bottom",s,"Bottom")},{value:"space-between",label:(0,d.kg)("editor.common.space_between",s,"Space Between")},{value:"space-around",label:(0,d.kg)("editor.common.space_around",s,"Space Around")}])],onChange:e=>{e.detail.value.alignment!==(r.alignment||"top")&&(a(e.detail.value),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}}])}

        <!-- Gap Between Items Field with Custom Slider -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,d.kg)("editor.vertical.gap.title",s,"Gap Configuration")}
          </div>

          <div style="margin-bottom: 8px;">
            <div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              ${(0,d.kg)("editor.vertical.gap.between_items",s,"Gap Between Items")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              ${(0,d.kg)("editor.vertical.gap.desc",s,"Set the spacing between vertical items (in rem units). Use negative values to overlap items. Any value is allowed. Note: Gap is disabled when using Space Between or Space Around distribution.")}
            </div>
            <div
              class="gap-control-container"
              style="display: flex; align-items: center; gap: 12px; ${"space-between"===r.alignment||"space-around"===r.alignment?"opacity: 0.5; pointer-events: none;":""}"
            >
              <input
                type="range"
                class="gap-slider"
                min="-50"
                max="50"
                step="0.1"
                .value="${r.gap||1.2}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);a({gap:i})}}
              />
              <input
                type="number"
                class="gap-input"
                style="width: 50px !important; max-width: 50px !important; min-width: 50px !important; padding: 4px 6px !important; font-size: 13px !important;"
                step="0.1"
                .value="${r.gap||1.2}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({gap:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=(parseFloat(t.value)||1.2)+("ArrowUp"===e.key?.1:-.1),o=Math.round(10*i)/10;a({gap:o})}}}
              />
              <button
                class="reset-btn"
                @click=${()=>a({gap:1.2})}
                title="Reset to default (1.2)"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    `}renderPreview(e,t,i){var a;const n=e,s=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en",l=n,p=Object.assign(Object.assign({},l),l.design||{}),u=n.modules&&n.modules.length>0,g=n.gap||1.2,m={padding:this.getPaddingCSS(p),margin:this.getMarginCSS(p),background:this.getBackgroundCSS(p),backgroundImage:this.getBackgroundImageCSS(p,t),backgroundSize:p.background_size||"cover",backgroundPosition:p.background_position||"center",backgroundRepeat:p.background_repeat||"no-repeat",border:p.border_width?this.getBorderCSS(p):"none",borderRadius:this.addPixelUnit(p.border_radius)||"0",display:"flex",flexDirection:"column",justifyContent:this.getJustifyContent(n.alignment||"center"),gap:g>=0&&"space-between"!==n.alignment&&"space-around"!==n.alignment?`${g}rem`:"0",alignItems:this.getAlignItems(n.horizontal_alignment||"center"),width:"100%",minHeight:"0"};let h=null,_=null,v=!1,f=0,b=0;return o.qy`
      <div class="vertical-module-preview">
        <div
          class="vertical-preview-content"
          style="${this.styleObjectToCss(m)}; cursor: ${n.tap_action&&"nothing"!==n.tap_action.action||n.hold_action&&"nothing"!==n.hold_action.action||n.double_tap_action&&"nothing"!==n.double_tap_action.action?"pointer":"default"};"
          @pointerdown=${e=>{e.preventDefault(),v=!1,_=setTimeout((()=>{v=!0,n.hold_action&&"nothing"!==n.hold_action.action&&r.K.handleAction(n.hold_action,t,e.target,i)}),500)}}
          @pointerup=${e=>{if(e.preventDefault(),_&&(clearTimeout(_),_=null),v)return void(v=!1);const o=Date.now();o-b<300&&1===f?(h&&(clearTimeout(h),h=null),f=0,n.double_tap_action&&"nothing"!==n.double_tap_action.action&&r.K.handleAction(n.double_tap_action,t,e.target,i)):(f=1,b=o,h=setTimeout((()=>{f=0,n.tap_action&&"nothing"!==n.tap_action.action&&r.K.handleAction(n.tap_action,t,e.target,i)}),300))}}
        >
          ${u?(()=>{c.S.setHass(t);const e=n.modules.filter((e=>{var t,i,o,a;const n=e,r=c.S.evaluateModuleVisibility(n),s=c.S.evaluateLogicProperties({logic_entity:null===(t=null==n?void 0:n.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=null==n?void 0:n.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(o=null==n?void 0:n.design)||void 0===o?void 0:o.logic_operator,logic_value:null===(a=null==n?void 0:n.design)||void 0===a?void 0:a.logic_value});return r&&s}));return e.map(((e,i)=>{const a=g<0&&i>0&&"space-between"!==n.alignment&&"space-around"!==n.alignment,r=a?`${g}rem 0 0 0`:"0",s=a;return o.qy`
                    <div
                      class="child-module-preview ${s?"negative-gap":""}"
                      style="max-width: 100%; overflow: hidden; width: 100%; box-sizing: border-box; margin: ${r}; ${s?"padding: 0; border: none; background: transparent;":""}"
                    >
                      ${this._renderChildModulePreview(e,t,l)}
                    </div>
                  `}))})():o.qy`
                <div class="empty-layout-message">
                  <span
                    >${(0,d.kg)("editor.vertical.empty.no_modules",s,"No modules added yet")}</span
                  >
                  <small
                    >${(0,d.kg)("editor.vertical.empty.add_modules",s,"Add modules in the layout builder to see them here")}</small
                  >
                </div>
              `}
        </div>
      </div>
    `}_renderChildModulePreview(e,t,i){var a,n,r,l,d,p,u,g,m,h,_,v;let f=e;i&&(f=this.applyLayoutDesignToChild(e,i)),c.S.setHass(t);const b=f,y=c.S.evaluateModuleVisibility(b),k=c.S.evaluateLogicProperties({logic_entity:null===(a=null==b?void 0:b.design)||void 0===a?void 0:a.logic_entity,logic_attribute:null===(n=null==b?void 0:b.design)||void 0===n?void 0:n.logic_attribute,logic_operator:null===(r=null==b?void 0:b.design)||void 0===r?void 0:r.logic_operator,logic_value:null===(l=null==b?void 0:b.design)||void 0===l?void 0:l.logic_value});if(!y||!k)return o.qy``;const x=(0,s.oD)().getModule(f.type);if(x){const e=x.renderPreview(f,t),i=f,a=i.animation_type||(null===(d=i.design)||void 0===d?void 0:d.animation_type);if(a&&"none"!==a){const n=i.animation_duration||(null===(p=i.design)||void 0===p?void 0:p.animation_duration)||"2s",r=i.animation_delay||(null===(u=i.design)||void 0===u?void 0:u.animation_delay)||"0s",s=i.animation_timing||(null===(g=i.design)||void 0===g?void 0:g.animation_timing)||"ease",l=i.animation_entity||(null===(m=i.design)||void 0===m?void 0:m.animation_entity),d=i.animation_trigger_type||(null===(h=i.design)||void 0===h?void 0:h.animation_trigger_type)||"state",c=i.animation_attribute||(null===(_=i.design)||void 0===_?void 0:_.animation_attribute),f=i.animation_state||(null===(v=i.design)||void 0===v?void 0:v.animation_state);let b=!1;if(l){if(f&&t&&t.states[l]){const e=t.states[l];b="attribute"===d&&c?String(e.attributes[c])===f:e.state===f}}else b=!0;if(b)return o.qy`
            <div
              class="module-animation-wrapper animation-${a}"
              style="
                --animation-duration: ${n};
                --animation-delay: ${r};
                --animation-timing: ${s};
              "
            >
              ${e}
            </div>
          `}return e}return o.qy`
      <div class="unknown-child-module">
        <ha-icon icon="mdi:help-circle"></ha-icon>
        <span>Unknown Module: ${f.type}</span>
      </div>
    `}applyLayoutDesignToChild(e,t){const i=Object.assign({},e);return t.color&&(i.color=t.color),t.font_size&&(i.font_size=t.font_size),t.font_family&&(i.font_family=t.font_family),t.font_weight&&(i.font_weight=t.font_weight),t.text_align&&(i.text_align=t.text_align),t.line_height&&(i.line_height=t.line_height),t.letter_spacing&&(i.letter_spacing=t.letter_spacing),t.text_transform&&(i.text_transform=t.text_transform),t.font_style&&(i.font_style=t.font_style),t.text_shadow_h&&(i.text_shadow_h=t.text_shadow_h),t.text_shadow_v&&(i.text_shadow_v=t.text_shadow_v),t.text_shadow_blur&&(i.text_shadow_blur=t.text_shadow_blur),t.text_shadow_color&&(i.text_shadow_color=t.text_shadow_color),t.box_shadow_h&&(i.box_shadow_h=t.box_shadow_h),t.box_shadow_v&&(i.box_shadow_v=t.box_shadow_v),t.box_shadow_blur&&(i.box_shadow_blur=t.box_shadow_blur),t.box_shadow_spread&&(i.box_shadow_spread=t.box_shadow_spread),t.box_shadow_color&&(i.box_shadow_color=t.box_shadow_color),t.animation_type&&(i.animation_type=t.animation_type),t.animation_entity&&(i.animation_entity=t.animation_entity),t.animation_trigger_type&&(i.animation_trigger_type=t.animation_trigger_type),t.animation_attribute&&(i.animation_attribute=t.animation_attribute),t.animation_state&&(i.animation_state=t.animation_state),t.intro_animation&&(i.intro_animation=t.intro_animation),t.outro_animation&&(i.outro_animation=t.outro_animation),t.animation_duration&&(i.animation_duration=t.animation_duration),t.animation_delay&&(i.animation_delay=t.animation_delay),t.animation_timing&&(i.animation_timing=t.animation_timing),t.horizontal_alignment&&(i.alignment=t.horizontal_alignment),i}renderLogicTab(e,t,i,o){return l.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.modules&&t.modules.length>0)for(const e of t.modules)if("horizontal"===e.type||"vertical"===e.type){const t=e;if(t.modules&&t.modules.length>0)for(const e of t.modules)if("horizontal"===e.type||"vertical"===e.type){const t=e;if(t.modules&&t.modules.length>0)for(const e of t.modules)if("horizontal"===e.type||"vertical"===e.type){i.push("Layout modules cannot be nested more than 2 levels deep. Remove layout modules from the third level.");break}}}return{valid:0===i.length,errors:i}}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"8px"} ${this.addPixelUnit(e.padding_right)||"8px"} ${this.addPixelUnit(e.padding_bottom)||"8px"} ${this.addPixelUnit(e.padding_left)||"8px"}`:"8px"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0"} ${this.addPixelUnit(e.margin_right)||"0"} ${this.addPixelUnit(e.margin_bottom)||"0"} ${this.addPixelUnit(e.margin_left)||"0"}`:"0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){var i,o;if(!e.background_image_type||"none"===e.background_image_type)return e.background_image?`url("${e.background_image}")`:"none";switch(e.background_image_type){case"upload":if(e.background_image)return`url("${(0,n.V)(t,e.background_image)}")`;break;case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const a=t.states[e.background_image_entity];let r="";if((null===(i=a.attributes)||void 0===i?void 0:i.entity_picture)?r=a.attributes.entity_picture:(null===(o=a.attributes)||void 0===o?void 0:o.image)?r=a.attributes.image:a.state&&"string"==typeof a.state&&(a.state.startsWith("/")||a.state.startsWith("http"))&&(r=a.state),r)return`url("${(0,n.V)(t,r)}")`}}return"none"}getBorderCSS(e){return`${this.addPixelUnit(e.border_width)||"0"} ${e.border_style||"solid"} ${e.border_color||"transparent"}`}getJustifyContent(e){switch(e){case"top":default:return"flex-start";case"center":return"center";case"bottom":return"flex-end";case"space-between":return"space-between";case"space-around":return"space-around"}}getAlignItems(e){switch(e){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end";case"stretch":return"stretch"}}getStyles(){return'\n      /* Vertical Module Styles */\n      .vertical-module-preview {\n        width: 100%;\n        min-height: 60px;\n      }\n\n      .vertical-preview-content {\n        background: transparent;\n        border-radius: 6px;\n        border: none;\n        transition: all 0.2s ease;\n      }\n\n      .child-module-preview {\n        background: transparent;\n        border: none;\n        border-radius: 4px;\n        padding: 0;\n        transition: all 0.2s ease;\n        width: 100%;\n      }\n\n      .child-module-preview.negative-gap {\n        background: transparent !important;\n        border: none !important;\n        border-radius: 0 !important;\n        padding: 0 !important;\n      }\n\n      /* Legacy hover effects removed - now handled by new hover effects system */\n\n      .empty-layout-message {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        gap: 4px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n        text-align: center;\n        width: 100%;\n        padding: 20px;\n      }\n\n      .empty-layout-message span {\n        font-size: 14px;\n        font-weight: 500;\n      }\n\n      .empty-layout-message small {\n        font-size: 12px;\n        opacity: 0.8;\n      }\n\n      .unknown-child-module {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n      }\n\n      /* Scoped list-style reset to avoid stray bullet markers in preview */\n      .vertical-module-preview ul,\n      .vertical-module-preview ol {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n      }\n      .vertical-module-preview li::marker {\n        content: \'\';\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n      \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Custom Range Slider Styling */\n      input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        outline: none;\n        opacity: 0.7;\n        transition: opacity 0.2s;\n      }\n\n      input[type="range"]:hover {\n        opacity: 1;\n      }\n\n      input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-webkit-slider-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-moz-range-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-track {\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        border: none;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n    '}}},6101:(e,t,i)=>{i.d(t,{b:()=>p});var o=i(5183),a=i(866),n=(i(796),i(2381)),r=i(7593),s=i(7987),l=i(2371),d=i(456),c=i(1397);class p extends a.m{constructor(){super(...arguments),this.metadata={type:"horizontal",title:"Horizontal Layout",description:"Arrange modules in rows with flexible horizontal and vertical alignment and spacing",author:"WJD Designs",version:"1.0.0",icon:"mdi:view-column",category:"layout",tags:["layout","horizontal","vertical","alignment","container","flexbox"]}}createDefault(e,t){return{id:e||this.generateId("horizontal"),type:"horizontal",alignment:"center",vertical_alignment:"center",gap:.7,wrap:!1,modules:[],tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,a){var n;const r=e,s=(null===(n=null==t?void 0:t.locale)||void 0===n?void 0:n.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}

      <div class="module-general-settings">
        <!-- Layout Configuration Section -->
        ${this.renderSettingsSection((0,d.kg)("editor.horizontal.layout.title",s,"Layout Configuration"),(0,d.kg)("editor.horizontal.layout.desc",s,"Configure how items are arranged horizontally within the container."),[{title:(0,d.kg)("editor.horizontal.alignment.horizontal",s,"Horizontal Alignment"),description:(0,d.kg)("editor.horizontal.alignment.horizontal_desc",s,"Choose how items are aligned horizontally within the container."),hass:t,data:r,schema:[this.selectField("alignment",[{value:"left",label:(0,d.kg)("editor.common.left",s,"Left")},{value:"center",label:(0,d.kg)("editor.common.center",s,"Center")},{value:"right",label:(0,d.kg)("editor.common.right",s,"Right")},{value:"space-between",label:(0,d.kg)("editor.common.space_between",s,"Space Between")},{value:"space-around",label:(0,d.kg)("editor.common.space_around",s,"Space Around")},{value:"justify",label:(0,d.kg)("editor.common.justify",s,"Justify")}])],onChange:e=>{e.detail.value.alignment!==(r.alignment||"center")&&a(e.detail.value)}}])}
        ${this.renderSettingsSection("","",[{title:(0,d.kg)("editor.horizontal.alignment.vertical",s,"Vertical Alignment"),description:(0,d.kg)("editor.horizontal.alignment.vertical_desc",s,"Choose how items are aligned vertically within the container."),hass:t,data:r,schema:[this.selectField("vertical_alignment",[{value:"top",label:(0,d.kg)("editor.common.top",s,"Top")},{value:"center",label:(0,d.kg)("editor.common.center",s,"Center")},{value:"bottom",label:(0,d.kg)("editor.common.bottom",s,"Bottom")},{value:"stretch",label:(0,d.kg)("editor.common.stretch",s,"Stretch")},{value:"baseline",label:(0,d.kg)("editor.common.baseline",s,"Baseline")}])],onChange:e=>{var t;const i=null===(t=e.detail.value)||void 0===t?void 0:t.vertical_alignment;void 0!==i&&i!==r.vertical_alignment&&a({vertical_alignment:i})}}])}

        <!-- Allow Wrapping Toggle -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 16px;"
        >
          <div style="display: flex; align-items: center; justify-content: space-between;">
            <div style="flex: 1;">
              <div
                class="field-title"
                style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
              >
                ${(0,d.kg)("editor.horizontal.wrapping.title",s,"Allow Wrapping")}
              </div>
              <div
                class="field-description"
                style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8; line-height: 1.4;"
              >
                ${(0,d.kg)("editor.horizontal.wrapping.desc",s,"Allow items to wrap to the next line when they exceed the container width.")}
              </div>
            </div>
            <div style="margin-left: 16px;">
              <ha-switch
                .checked=${r.wrap||!1}
                @change=${e=>{const t=e.target;a({wrap:t.checked})}}
              ></ha-switch>
            </div>
          </div>
        </div>

        <!-- Gap Between Items Field with Custom Slider -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; letter-spacing: 0.5px;"
          >
            ${(0,d.kg)("editor.horizontal.gap.title",s,"Gap Configuration")}
          </div>

          <div style="margin-bottom: 24px;">
            <div
              class="field-title"
              style="font-size: 16px; font-weight: 600; color: var(--primary-text-color); margin-bottom: 4px;"
            >
              ${(0,d.kg)("editor.horizontal.gap.between_items",s,"Gap Between Items")}
            </div>
            <div
              class="field-description"
              style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
            >
              ${(0,d.kg)("editor.horizontal.gap.desc",s,"Set the spacing between horizontal items (in rem units). Use negative values to overlap items. Any value is allowed.")}
            </div>
            <div
              class="gap-control-container"
              style="display: flex; align-items: center; gap: 12px;"
            >
              <input
                type="range"
                class="gap-slider"
                min="-50"
                max="50"
                step="0.1"
                .value="${r.gap||.7}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);a({gap:i})}}
              />
              <input
                type="number"
                class="gap-input"
                style="width: 50px !important; max-width: 50px !important; min-width: 50px !important; padding: 4px 6px !important; font-size: 13px !important;"
                step="0.1"
                .value="${r.gap||.7}"
                @input=${e=>{const t=e.target,i=parseFloat(t.value);isNaN(i)||a({gap:i})}}
                @keydown=${e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=e.target,i=(parseFloat(t.value)||.7)+("ArrowUp"===e.key?.1:-.1),o=Math.round(10*i)/10;a({gap:o})}}}
              />
              <button
                class="reset-btn"
                @click=${()=>a({gap:.7})}
                title="${(0,d.kg)("editor.fields.reset_default_value",s,"Reset to default ({value})").replace("{value}","0.7")}"
              >
                <ha-icon icon="mdi:refresh"></ha-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    `}renderPreview(e,t,i){var a,n;const r=e,l=(null===(a=null==t?void 0:t.locale)||void 0===a?void 0:a.language)||"en",p=r,u=Object.assign(Object.assign({},p),p.design||{}),g=r.modules&&r.modules.length>0,m=r.gap||.7,h=void 0!==r.alignment&&null!==r.alignment?r.alignment:"center",_={padding:this.getPaddingCSS(u),margin:this.getMarginCSS(u),background:this.getBackgroundCSS(u),backgroundImage:this.getBackgroundImageCSS(u,t),backgroundSize:u.background_size||"cover",backgroundPosition:u.background_position||"center",backgroundRepeat:u.background_repeat||"no-repeat",border:u.border_width?this.getBorderCSS(u):"none",borderRadius:this.addPixelUnit(u.border_radius)||"0",position:u.position||(u.z_index?"relative":"static"),zIndex:u.z_index||"auto",width:u.width||"100%",height:u.height||void 0,maxWidth:u.max_width||void 0,minWidth:u.min_width||void 0,maxHeight:u.max_height||void 0,boxShadow:u.box_shadow||void 0,backdropFilter:u.backdrop_filter||void 0,clipPath:u.clip_path||void 0,display:"flex",flexDirection:"row",justifyContent:this.getJustifyContent(h||"center"),gap:m>=0?`${m}rem`:"0",flexWrap:r.wrap?"wrap":"nowrap",alignItems:this.getAlignItems(r.vertical_alignment||"center"),minHeight:u.min_height||"auto",overflowX:"visible",overflowY:"visible",boxSizing:"border-box"},v=null===(n=r.design)||void 0===n?void 0:n.hover_effect,f=s.k.getHoverEffectClass(v);return o.qy`
      <style>
        ${this.getStyles()}
      </style>
      <div class="horizontal-module-preview">
        <div
          class="horizontal-preview-content ${f}"
          style="${this.styleObjectToCss(_)}; cursor: ${r.tap_action&&"nothing"!==r.tap_action.action||r.hold_action&&"nothing"!==r.hold_action.action||r.double_tap_action&&"nothing"!==r.double_tap_action.action?"pointer":"default"};"
          data-wrap=${r.wrap?"true":"false"}
        >
          ${g?(()=>{c.S.setHass(t);const e=r.modules.filter((e=>{var t,i,o,a;const n=e,r=c.S.evaluateModuleVisibility(n),s=c.S.evaluateLogicProperties({logic_entity:null===(t=null==n?void 0:n.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=null==n?void 0:n.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(o=null==n?void 0:n.design)||void 0===o?void 0:o.logic_operator,logic_value:null===(a=null==n?void 0:n.design)||void 0===a?void 0:a.logic_value});return r&&s}));return e.map(((e,i)=>{const a=m<0&&i>0?`0 0 0 ${m}rem`:"0",n=m<0,s="bar"===(null==e?void 0:e.type),l="separator"===(null==e?void 0:e.type)&&("horizontal"===(null==e?void 0:e.orientation)||!(null==e?void 0:e.orientation)),d="justify"===r.alignment,c=s||l||d,u=c?1:0,g=c?1:0,h=c?"0":"content",_=s?"80px":l?"20px":"0";return o.qy`
                    <div
                      class="child-module-preview ${n?"negative-gap":""}"
                      style="
                          overflow: visible;
                          flex-grow: ${u};
                          flex-shrink: ${g};
                          flex-basis: ${h};
                          min-width: ${_};
                          width: ${"auto"};
                          align-self: ${"auto"};
                          box-sizing: border-box;
                          margin: ${a};
                          ${n?"padding: 0; border: none; background: transparent;":""}
                        "
                    >
                      ${this._renderChildModulePreview(e,t,p)}
                    </div>
                  `}))})():o.qy`
                <div class="empty-layout-message">
                  <span
                    >${(0,d.kg)("editor.horizontal.empty.no_modules",l,"No modules added yet")}</span
                  >
                  <small
                    >${(0,d.kg)("editor.horizontal.empty.add_modules",l,"Add modules in the layout builder to see them here")}</small
                  >
                </div>
              `}
        </div>
      </div>
    `}_renderChildModulePreview(e,t,i){var a,n,s,l,d,p,u,g,m,h,_,v;let f=e;i&&(f=this.applyLayoutDesignToChild(e,i));const b=i;if(b&&b.alignment){const e=f;e.alignment||(e.alignment=b.alignment)}c.S.setHass(t);const y=f,k=c.S.evaluateModuleVisibility(y),x=c.S.evaluateLogicProperties({logic_entity:null===(a=null==y?void 0:y.design)||void 0===a?void 0:a.logic_entity,logic_attribute:null===(n=null==y?void 0:y.design)||void 0===n?void 0:n.logic_attribute,logic_operator:null===(s=null==y?void 0:y.design)||void 0===s?void 0:s.logic_operator,logic_value:null===(l=null==y?void 0:y.design)||void 0===l?void 0:l.logic_value});if(!k||!x)return o.qy``;const w=(0,r.oD)().getModule(f.type);if(w){const e=w.renderPreview(f,t),i=f,a=i.animation_type||(null===(d=i.design)||void 0===d?void 0:d.animation_type);if(a&&"none"!==a){const n=i.animation_duration||(null===(p=i.design)||void 0===p?void 0:p.animation_duration)||"2s",r=i.animation_delay||(null===(u=i.design)||void 0===u?void 0:u.animation_delay)||"0s",s=i.animation_timing||(null===(g=i.design)||void 0===g?void 0:g.animation_timing)||"ease",l=i.animation_entity||(null===(m=i.design)||void 0===m?void 0:m.animation_entity),d=i.animation_trigger_type||(null===(h=i.design)||void 0===h?void 0:h.animation_trigger_type)||"state",c=i.animation_attribute||(null===(_=i.design)||void 0===_?void 0:_.animation_attribute),f=i.animation_state||(null===(v=i.design)||void 0===v?void 0:v.animation_state);let b=!1;if(l){if(f&&t&&t.states[l]){const e=t.states[l];b="attribute"===d&&c?String(e.attributes[c])===f:e.state===f}}else b=!0;if(b)return o.qy`
            <div
              class="module-animation-wrapper animation-${a}"
              style="
                --animation-duration: ${n};
                --animation-delay: ${r};
                --animation-timing: ${s};
              "
            >
              ${e}
            </div>
          `}return e}return o.qy`
      <div class="unknown-child-module">
        <ha-icon icon="mdi:help-circle"></ha-icon>
        <span>Unknown Module: ${f.type}</span>
      </div>
    `}applyLayoutDesignToChild(e,t){const i=Object.assign({},e);return t.color&&(i.color=t.color),t.font_size&&(i.font_size=t.font_size),t.font_family&&(i.font_family=t.font_family),t.font_weight&&(i.font_weight=t.font_weight),t.text_align&&(i.text_align=t.text_align),t.line_height&&(i.line_height=t.line_height),t.letter_spacing&&(i.letter_spacing=t.letter_spacing),t.text_transform&&(i.text_transform=t.text_transform),t.font_style&&(i.font_style=t.font_style),t.text_shadow_h&&(i.text_shadow_h=t.text_shadow_h),t.text_shadow_v&&(i.text_shadow_v=t.text_shadow_v),t.text_shadow_blur&&(i.text_shadow_blur=t.text_shadow_blur),t.text_shadow_color&&(i.text_shadow_color=t.text_shadow_color),t.box_shadow_h&&(i.box_shadow_h=t.box_shadow_h),t.box_shadow_v&&(i.box_shadow_v=t.box_shadow_v),t.box_shadow_blur&&(i.box_shadow_blur=t.box_shadow_blur),t.box_shadow_spread&&(i.box_shadow_spread=t.box_shadow_spread),t.box_shadow_color&&(i.box_shadow_color=t.box_shadow_color),t.animation_type&&(i.animation_type=t.animation_type),t.animation_entity&&(i.animation_entity=t.animation_entity),t.animation_trigger_type&&(i.animation_trigger_type=t.animation_trigger_type),t.animation_attribute&&(i.animation_attribute=t.animation_attribute),t.animation_state&&(i.animation_state=t.animation_state),t.intro_animation&&(i.intro_animation=t.intro_animation),t.outro_animation&&(i.outro_animation=t.outro_animation),t.animation_duration&&(i.animation_duration=t.animation_duration),t.animation_delay&&(i.animation_delay=t.animation_delay),t.animation_timing&&(i.animation_timing=t.animation_timing),t.alignment&&(i.alignment=t.alignment),i}renderLogicTab(e,t,i,o){return l.X.render(e,t,(e=>o(e)))}validate(e){const t=e,i=[...super.validate(e).errors];if(t.vertical_alignment&&!["top","center","bottom","stretch","baseline"].includes(t.vertical_alignment)&&i.push("Vertical alignment must be one of: top, center, bottom, stretch, baseline"),t.modules&&t.modules.length>0)for(const e of t.modules)if("horizontal"===e.type||"vertical"===e.type){const t=e;if(t.modules&&t.modules.length>0)for(const e of t.modules)if("horizontal"===e.type||"vertical"===e.type){const t=e;if(t.modules&&t.modules.length>0)for(const e of t.modules)if("horizontal"===e.type||"vertical"===e.type){i.push("Layout modules cannot be nested more than 2 levels deep. Remove layout modules from the third level.");break}}}return{valid:0===i.length,errors:i}}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${this.camelToKebab(e)}: ${t}`)).join("; ")}camelToKebab(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}getPaddingCSS(e){return e.padding_top||e.padding_bottom||e.padding_left||e.padding_right?`${this.addPixelUnit(e.padding_top)||"0px"} ${this.addPixelUnit(e.padding_right)||"0px"} ${this.addPixelUnit(e.padding_bottom)||"0px"} ${this.addPixelUnit(e.padding_left)||"0px"}`:"0"}getMarginCSS(e){return e.margin_top||e.margin_bottom||e.margin_left||e.margin_right?`${this.addPixelUnit(e.margin_top)||"0"} ${this.addPixelUnit(e.margin_right)||"0"} ${this.addPixelUnit(e.margin_bottom)||"0"} ${this.addPixelUnit(e.margin_left)||"0"}`:"0"}getBackgroundCSS(e){return e.background_color||"transparent"}getBackgroundImageCSS(e,t){var i,o;if(!e.background_image_type||"none"===e.background_image_type)return e.background_image?`url("${e.background_image}")`:"none";switch(e.background_image_type){case"upload":if(e.background_image)return`url("${(0,n.V)(t,e.background_image)}")`;break;case"url":if(e.background_image)return`url("${e.background_image}")`;break;case"entity":if(e.background_image_entity&&(null==t?void 0:t.states[e.background_image_entity])){const a=t.states[e.background_image_entity];let r="";if((null===(i=a.attributes)||void 0===i?void 0:i.entity_picture)?r=a.attributes.entity_picture:(null===(o=a.attributes)||void 0===o?void 0:o.image)?r=a.attributes.image:a.state&&"string"==typeof a.state&&(a.state.startsWith("/")||a.state.startsWith("http"))&&(r=a.state),r)return`url("${(0,n.V)(t,r)}")`}}return"none"}getBorderCSS(e){return`${this.addPixelUnit(e.border_width)||"0"} ${e.border_style||"solid"} ${e.border_color||"transparent"}`}getJustifyContent(e){switch(e){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end";case"space-between":case"justify":return"space-between";case"space-around":return"space-around"}}getAlignItems(e){switch(e){case"top":default:return"flex-start";case"center":return"center";case"bottom":return"flex-end";case"stretch":return"stretch";case"baseline":return"baseline"}}getStyles(){return'\n      /* Horizontal Module Styles */\n      .horizontal-module-preview {\n        width: 100%;\n        /* No forced min-height - let content and user design properties control height */\n      }\n\n      .horizontal-preview-content {\n        background: transparent;\n        border-radius: 6px;\n        border: none;\n        transition: all 0.2s ease;\n      }\n\n      .child-module-preview {\n        background: transparent;\n        border: none;\n        border-radius: 4px;\n        padding: 0;\n        transition: all 0.2s ease;\n        /* Ensure modules maintain readable size */\n        min-width: max-content;\n        min-height: 0;\n        overflow: visible;\n        box-sizing: border-box;\n      }\n\n      .child-module-preview.negative-gap {\n        background: transparent !important;\n        border: none !important;\n        border-radius: 0 !important;\n        padding: 0 !important;\n      }\n\n      /* Legacy hover effects removed - now handled by new hover effects system */\n\n      .empty-layout-message {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        gap: 4px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n        text-align: center;\n        width: 100%;\n        padding: 20px;\n      }\n\n      .empty-layout-message span {\n        font-size: 14px;\n        font-weight: 500;\n      }\n\n      .empty-layout-message small {\n        font-size: 12px;\n        opacity: 0.8;\n      }\n\n      .unknown-child-module {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px;\n        color: var(--secondary-text-color);\n        font-style: italic;\n      }\n\n      /* Ensure module defaults play nicely in a horizontal row */\n      .child-module-preview .icon-module-preview {\n        /* Icon modules should size to content in rows */\n        width: auto !important;\n        max-width: 100% !important;\n      }\n\n      .child-module-preview .icon-module-container {\n        /* Override any inline width from icon module when inside horizontal rows */\n        width: auto !important;\n        max-width: 100% !important;\n        flex: 0 0 auto !important;\n      }\n\n      .child-module-preview .bar-module-preview {\n        /* Bars should expand to available space in rows */\n        width: 100% !important;\n        max-width: 100% !important;\n      }\n\n      /* When wrapping is enabled, allow items to maintain their natural size */\n      .horizontal-preview-content[data-wrap="true"] .child-module-preview {\n        flex-shrink: 1;\n        min-width: 0;\n      }\n\n      /* When wrapping is disabled, compress items to fit in one line */\n      .horizontal-preview-content:not([data-wrap="true"]) .child-module-preview {\n        flex-shrink: 1;\n        min-width: 0;\n      }\n\n      /* Standard field styling */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n        \n        margin-bottom: 4px !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n\n      /* Custom Range Slider Styling */\n      input[type="range"] {\n        -webkit-appearance: none;\n        appearance: none;\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        outline: none;\n        opacity: 0.7;\n        transition: opacity 0.2s;\n      }\n\n      input[type="range"]:hover {\n        opacity: 1;\n      }\n\n      input[type="range"]::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        appearance: none;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-webkit-slider-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--primary-color);\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        transition: all 0.2s ease;\n      }\n\n      input[type="range"]::-moz-range-thumb:hover {\n        transform: scale(1.1);\n        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n      }\n\n      input[type="range"]::-moz-range-track {\n        height: 6px;\n        border-radius: 3px;\n        background: var(--disabled-color);\n        border: none;\n      }\n\n      /* Gap control styles */\n      .gap-control-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .gap-slider {\n        flex: 1;\n        height: 6px;\n        background: var(--divider-color);\n        border-radius: 3px;\n        outline: none;\n        appearance: none;\n        -webkit-appearance: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n\n      .gap-slider::-webkit-slider-thumb {\n        appearance: none;\n        -webkit-appearance: none;\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider::-moz-range-thumb {\n        width: 20px;\n        height: 20px;\n        background: var(--primary-color);\n        border-radius: 50%;\n        cursor: pointer;\n        border: none;\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n      }\n\n      .gap-slider:hover {\n        background: var(--primary-color);\n        opacity: 0.7;\n      }\n\n      .gap-slider:hover::-webkit-slider-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-slider:hover::-moz-range-thumb {\n        transform: scale(1.1);\n      }\n\n      .gap-input {\n        width: 48px !important;\n        max-width: 48px !important;\n        min-width: 48px !important;\n        padding: 4px 6px !important;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 13px;\n        text-align: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n        box-sizing: border-box;\n      }\n\n      .gap-input:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);\n      }\n\n      .reset-btn {\n        width: 36px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.2s ease;\n        flex-shrink: 0;\n      }\n\n      .reset-btn:hover {\n        background: var(--primary-color);\n        color: var(--text-primary-color);\n        border-color: var(--primary-color);\n      }\n\n      .reset-btn ha-icon {\n        font-size: 16px;\n      }\n    '}}},6256:(e,t,i)=>{i.d(t,{W:()=>p});var o=i(5183),a=i(456),n=i(866),r=i(9662),s=i(2371),l=i(7987),d=i(4345),c=(i(6768),i(2381));class p extends n.m{constructor(){super(...arguments),this.metadata={type:"spinbox",title:"Spinbox",description:"Number input with increment/decrement buttons",author:"WJD Designs",version:"1.0.0",icon:"mdi:numeric",category:"interactive",tags:["spinbox","number","increment","decrement","input","stepper"]}}createDefault(e,t){return{id:e||this.generateId("spinbox"),type:"spinbox",min_value:0,max_value:100,step:1,value:50,layout:"horizontal",show_value:!0,value_position:"center",show_unit:!1,unit:"",button_style:"flat",button_shape:"rounded",button_size:40,button_spacing:12,button_gap:8,increment_icon:"mdi:plus",decrement_icon:"mdi:minus",button_background_color:"var(--primary-color)",button_text_color:"white",value_color:"var(--primary-text-color)",value_font_size:18,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[],template_mode:!1,template:""}}getButtonStyles(e){return[{value:"flat",label:(0,a.kg)("editor.spinbox.styles.flat",e,"Flat (Default)")},{value:"glossy",label:(0,a.kg)("editor.spinbox.styles.glossy",e,"Glossy")},{value:"embossed",label:(0,a.kg)("editor.spinbox.styles.embossed",e,"Embossed")},{value:"inset",label:(0,a.kg)("editor.spinbox.styles.inset",e,"Inset")},{value:"gradient-overlay",label:(0,a.kg)("editor.spinbox.styles.gradient_overlay",e,"Gradient Overlay")},{value:"neon-glow",label:(0,a.kg)("editor.spinbox.styles.neon_glow",e,"Neon Glow")},{value:"outline",label:(0,a.kg)("editor.spinbox.styles.outline",e,"Outline")},{value:"glass",label:(0,a.kg)("editor.spinbox.styles.glass",e,"Glass")},{value:"metallic",label:(0,a.kg)("editor.spinbox.styles.metallic",e,"Metallic")}]}getButtonShapeOptions(e){return[{value:"rounded",label:(0,a.kg)("editor.spinbox.shapes.rounded",e,"Rounded Square (Default)")},{value:"square",label:(0,a.kg)("editor.spinbox.shapes.square",e,"Square")},{value:"circle",label:(0,a.kg)("editor.spinbox.shapes.circle",e,"Circle")}]}getLayoutOptions(e){return[{value:"horizontal",label:(0,a.kg)("editor.spinbox.layout_options.horizontal",e,"Horizontal")},{value:"vertical",label:(0,a.kg)("editor.spinbox.layout_options.vertical",e,"Vertical")}]}getValuePositionOptions(e){return[{value:"center",label:(0,a.kg)("editor.spinbox.value_position_options.center",e,"Center (Between Buttons)")},{value:"top",label:(0,a.kg)("editor.spinbox.value_position_options.top",e,"Top (Above Both Buttons)")},{value:"bottom",label:(0,a.kg)("editor.spinbox.value_position_options.bottom",e,"Bottom (Below Both Buttons)")},{value:"left",label:(0,a.kg)("editor.spinbox.value_position_options.left",e,"Left (Before Buttons)")},{value:"right",label:(0,a.kg)("editor.spinbox.value_position_options.right",e,"Right (After Buttons)")}]}renderGeneralTab(e,t,i,n){var r,s,l,d,c,p,u,g,m,h,_;const v=e,f=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en";return o.qy`
      ${this.injectUcFormStyles()}
      <div class="general-tab">
        <!-- Entity Configuration -->
        ${this.renderSettingsSection((0,a.kg)("editor.spinbox.entity.title",f,"Entity Configuration"),(0,a.kg)("editor.spinbox.entity.desc",f,"Optional: Link to a Home Assistant entity for synced values (e.g., input_number, climate temperature)."),[{title:(0,a.kg)("editor.spinbox.entity_field",f,"Entity"),description:(0,a.kg)("editor.spinbox.entity_field_desc",f,"Select an entity to sync the spinbox value (optional). Supports input_number, number, climate entities."),hass:t,data:{entity:v.entity||""},schema:[this.entityField("entity")],onChange:e=>n(e.detail.value)}])}

        <!-- Value Configuration -->
        ${this.renderSettingsSection((0,a.kg)("editor.spinbox.value.title",f,"Value Configuration"),(0,a.kg)("editor.spinbox.value.desc",f,"Configure the numeric range, step size, and default value."),[{title:(0,a.kg)("editor.spinbox.min_value",f,"Minimum Value"),description:(0,a.kg)("editor.spinbox.min_value_desc",f,"The minimum allowed value"),hass:t,data:{min_value:null!==(s=v.min_value)&&void 0!==s?s:0},schema:[this.numberField("min_value")],onChange:e=>n(e.detail.value)},{title:(0,a.kg)("editor.spinbox.max_value",f,"Maximum Value"),description:(0,a.kg)("editor.spinbox.max_value_desc",f,"The maximum allowed value"),hass:t,data:{max_value:null!==(l=v.max_value)&&void 0!==l?l:100},schema:[this.numberField("max_value")],onChange:e=>n(e.detail.value)},{title:(0,a.kg)("editor.spinbox.step",f,"Step Size"),description:(0,a.kg)("editor.spinbox.step_desc",f,"How much the value changes with each button press"),hass:t,data:{step:null!==(d=v.step)&&void 0!==d?d:1},schema:[this.numberField("step")],onChange:e=>n(e.detail.value)},{title:(0,a.kg)("editor.spinbox.value",f,"Default Value"),description:(0,a.kg)("editor.spinbox.value_desc",f,"The initial value (only used when no entity is linked)"),hass:t,data:{value:null!==(c=v.value)&&void 0!==c?c:50},schema:[this.numberField("value")],onChange:e=>n(e.detail.value)}])}

        <!-- Display Configuration -->
        <div class="settings-section">
          <div class="section-title">
            ${(0,a.kg)("editor.spinbox.display.title",f,"Display Configuration")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.layout_title",f,"Layout"),(0,a.kg)("editor.spinbox.layout_desc",f,"Arrangement of buttons and value"),t,{layout:v.layout||"horizontal"},[this.selectField("layout",this.getLayoutOptions(f))],(e=>{e.detail.value.layout!==(v.layout||"horizontal")&&(n(e.detail.value),setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div style="flex: 1;">
                <div
                  class="field-title"
                  style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                >
                  ${(0,a.kg)("editor.spinbox.show_value",f,"Show Value")}
                </div>
                <div
                  class="field-description"
                  style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 0;"
                >
                  ${(0,a.kg)("editor.spinbox.show_value_desc",f,"Display the current numeric value")}
                </div>
              </div>
              <ha-switch
                .checked=${null===(p=v.show_value)||void 0===p||p}
                @change=${e=>{const t=e.target;n({show_value:t.checked})}}
              ></ha-switch>
            </div>
          </div>

          ${v.show_value?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,a.kg)("editor.spinbox.value_position_title",f,"Value Position"),(0,a.kg)("editor.spinbox.value_position_desc",f,"Where to display the value relative to buttons"),t,{value_position:v.value_position||"center"},[this.selectField("value_position",this.getValuePositionOptions(f))],(e=>{e.detail.value.value_position!==(v.value_position||"center")&&(n(e.detail.value),setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
                </div>
              `:""}

          <div class="field-group" style="margin-bottom: 16px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div style="flex: 1;">
                <div
                  class="field-title"
                  style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                >
                  ${(0,a.kg)("editor.spinbox.show_unit",f,"Show Unit")}
                </div>
                <div
                  class="field-description"
                  style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 0;"
                >
                  ${(0,a.kg)("editor.spinbox.show_unit_desc",f,"Display a unit label (e.g., C, %)")}
                </div>
              </div>
              <ha-switch
                .checked=${null!==(u=v.show_unit)&&void 0!==u&&u}
                @change=${e=>{const t=e.target;n({show_unit:t.checked})}}
              ></ha-switch>
            </div>
          </div>

          ${v.show_unit?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  ${this.renderFieldSection((0,a.kg)("editor.spinbox.unit",f,"Unit"),(0,a.kg)("editor.spinbox.unit_desc",f,"Unit to display (e.g., C, %, km)"),t,{unit:v.unit||""},[this.textField("unit")],(e=>n(e.detail.value)))}
                </div>
              `:""}
        </div>

        <!-- Button Configuration -->
        <div class="settings-section">
          <div class="section-title">
            ${(0,a.kg)("editor.spinbox.buttons.title",f,"Button Configuration")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.button_style",f,"Button Style"),(0,a.kg)("editor.spinbox.button_style_desc",f,"Visual style for buttons"),t,{button_style:v.button_style||"flat"},[this.selectField("button_style",this.getButtonStyles(f))],(e=>{e.detail.value.button_style!==(v.button_style||"flat")&&(n(e.detail.value),setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.button_shape",f,"Button Shape"),(0,a.kg)("editor.spinbox.button_shape_desc",f,"Shape of the buttons"),t,{button_shape:v.button_shape||"rounded"},[this.selectField("button_shape",this.getButtonShapeOptions(f))],(e=>{e.detail.value.button_shape!==(v.button_shape||"rounded")&&(n(e.detail.value),setTimeout((()=>this.triggerPreviewUpdate()),50))}))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.button_size",f,"Button Size"),(0,a.kg)("editor.spinbox.button_size_desc",f,"Size of the buttons in pixels (width and height)"),t,{button_size:null!==(g=v.button_size)&&void 0!==g?g:40},[this.numberField("button_size")],(e=>n(e.detail.value)))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.button_spacing",f,"Value Spacing"),(0,a.kg)("editor.spinbox.button_spacing_desc",f,"Space between buttons and value display in pixels"),t,{button_spacing:null!==(m=v.button_spacing)&&void 0!==m?m:12},[this.numberField("button_spacing")],(e=>n(e.detail.value)))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.button_gap",f,"Button Gap"),(0,a.kg)("editor.spinbox.button_gap_desc",f,"Space between increment and decrement buttons in pixels"),t,{button_gap:null!==(h=v.button_gap)&&void 0!==h?h:8},[this.numberField("button_gap")],(e=>n(e.detail.value)))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.increment_icon",f,"Increment Icon"),(0,a.kg)("editor.spinbox.increment_icon_desc",f,"Icon for the increment button (e.g., mdi:plus, mdi:chevron-up)"),t,{increment_icon:v.increment_icon||"mdi:plus"},[this.iconField("increment_icon")],(e=>n(e.detail.value)))}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            ${this.renderFieldSection((0,a.kg)("editor.spinbox.decrement_icon",f,"Decrement Icon"),(0,a.kg)("editor.spinbox.decrement_icon_desc",f,"Icon for the decrement button (e.g., mdi:minus, mdi:chevron-down)"),t,{decrement_icon:v.decrement_icon||"mdi:minus"},[this.iconField("decrement_icon")],(e=>n(e.detail.value)))}
          </div>

          <!-- Button Colors -->
          <div class="color-controls" style="margin-bottom: 16px;">
            <ultra-color-picker
              .label=${(0,a.kg)("editor.spinbox.button_background_color",f,"Button Background")}
              .value=${v.button_background_color||"var(--primary-color)"}
              .defaultValue=${"var(--primary-color)"}
              .hass=${t}
              @value-changed=${e=>n({button_background_color:e.detail.value})}
            ></ultra-color-picker>
          </div>

          <div class="color-controls">
            <ultra-color-picker
              .label=${(0,a.kg)("editor.spinbox.button_text_color",f,"Button Icon Color")}
              .value=${v.button_text_color||"white"}
              .defaultValue=${"white"}
              .hass=${t}
              @value-changed=${e=>n({button_text_color:e.detail.value})}
            ></ultra-color-picker>
          </div>
        </div>

        <!-- Value Display Styling -->
        ${v.show_value?o.qy`
              <div class="settings-section">
                <div class="section-title">
                  ${(0,a.kg)("editor.spinbox.value_style.title",f,"Value Display Styling")}
                </div>

                <div class="color-controls" style="margin-bottom: 16px;">
                  <ultra-color-picker
                    .label=${(0,a.kg)("editor.spinbox.value_color",f,"Value Color")}
                    .value=${v.value_color||"var(--primary-text-color)"}
                    .defaultValue=${"var(--primary-text-color)"}
                    .hass=${t}
                    @value-changed=${e=>n({value_color:e.detail.value})}
                  ></ultra-color-picker>
                </div>

                <div class="field-group">
                  ${this.renderFieldSection((0,a.kg)("editor.spinbox.value_font_size",f,"Value Font Size"),(0,a.kg)("editor.spinbox.value_font_size_desc",f,"Font size for the value display (in pixels)"),t,{value_font_size:null!==(_=v.value_font_size)&&void 0!==_?_:18},[this.numberField("value_font_size")],(e=>n(e.detail.value)))}
                </div>
              </div>
            `:""}

        <!-- Template Mode -->
        <div class="settings-section">
          <div class="section-title">
            ${(0,a.kg)("editor.spinbox.template.title",f,"Template Mode")}
          </div>

          <div class="field-group" style="margin-bottom: 16px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div style="flex: 1;">
                <div
                  class="field-title"
                  style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                >
                  ${(0,a.kg)("editor.spinbox.template_mode",f,"Enable Template Mode")}
                </div>
                <div
                  class="field-description"
                  style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 0;"
                >
                  ${(0,a.kg)("editor.spinbox.template_mode_desc",f,"Use Jinja2 templates to dynamically compute the displayed value")}
                </div>
              </div>
              <ha-switch
                .checked=${v.template_mode||!1}
                @change=${e=>{const t=e.target;n({template_mode:t.checked})}}
              ></ha-switch>
            </div>
          </div>

          ${v.template_mode?o.qy`
                <div class="field-group" style="margin-bottom: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    ${(0,a.kg)("editor.spinbox.template",f,"Value Template")}
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                  >
                    ${(0,a.kg)("editor.spinbox.template_desc",f,'Jinja2 template for value (e.g., {{ states("input_number.temperature") }})')}
                  </div>
                  <ha-form
                    .hass=${t}
                    .data=${{template:v.template||""}}
                    .schema=${[{name:"template",label:"",selector:{text:{multiline:!0}}}]}
                    .computeLabel=${e=>e.label||e.name}
                    .computeDescription=${e=>e.description||""}
                    @value-changed=${e=>n(e.detail.value)}
                  ></ha-form>
                </div>

                <div class="template-examples">
                  <div
                    class="field-title"
                    style="font-size: 14px; font-weight: 600; margin-bottom: 8px;"
                  >
                    ${(0,a.kg)("editor.spinbox.template_examples",f,"Common Examples:")}
                  </div>
                  <div class="example-item" style="margin-bottom: 12px;">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 8px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 11px; color: #d4d4d4; margin-bottom: 4px;"
                    >
                      {{ states('input_number.temperature') | float }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 11px; color: var(--secondary-text-color);"
                    >
                      Read value from input_number entity
                    </div>
                  </div>
                  <div class="example-item">
                    <div
                      class="example-code"
                      style="background: var(--code-editor-background-color, #1e1e1e); padding: 8px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 11px; color: #d4d4d4; margin-bottom: 4px;"
                    >
                      {{ state_attr('climate.thermostat', 'temperature') }}
                    </div>
                    <div
                      class="example-description"
                      style="font-size: 11px; color: var(--secondary-text-color);"
                    >
                      Read temperature from climate entity
                    </div>
                  </div>
                </div>
              `:o.qy`
                <div
                  style="text-align: center; padding: 20px; color: var(--secondary-text-color); font-style: italic;"
                >
                  ${(0,a.kg)("editor.spinbox.template_disabled",f,"Enable template mode to use dynamic values")}
                </div>
              `}
        </div>
      </div>
    `}renderActionsTab(e,t,i,o){const a=e;return r.A.render(a,t,(e=>o(e)))}renderLogicTab(e,t,i,o){return s.X.render(e,t,(e=>o(e)))}renderPreview(e,t,i){var a,n,r,s,c,p,u;const g=e;let m=null!==(a=g.value)&&void 0!==a?a:50,h="";if(g.template_mode&&g.template){if(!this._templateService&&t&&(this._templateService=new d.I(t)),t){t.__uvc_template_strings||(t.__uvc_template_strings={});const e=this._hashString(g.template),i=`spinbox_value_${g.id}_${e}`;this._templateService&&!this._templateService.hasTemplateSubscription(i)&&this._templateService.subscribeToTemplate(g.template,i,(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}));const o=null===(n=t.__uvc_template_strings)||void 0===n?void 0:n[i];if(void 0!==o){const e=parseFloat(String(o));isNaN(e)||(m=e)}}}else if(g.entity&&t){const e=t.states[g.entity];if(h=g.entity.split(".")[0],e)if("climate"===h)if(void 0!==(null===(r=e.attributes)||void 0===r?void 0:r.temperature)){const t=parseFloat(String(e.attributes.temperature));isNaN(t)||(m=t)}else{const t=parseFloat(e.state);isNaN(t)||(m=t)}else{const t=parseFloat(e.state);isNaN(t)||(m=t)}}m=Math.max(g.min_value,Math.min(g.max_value,m));const _=g,v=g.design||{},f=v.button_background_color||g.button_background_color||"var(--primary-color)",b=v.button_text_color||g.button_text_color||"white",y=g.button_style||"flat",k=null!==(s=g.button_size)&&void 0!==s?s:40,x=g.button_shape||"rounded",w=null!==(c=g.button_spacing)&&void 0!==c?c:12,S=null!==(p=g.button_gap)&&void 0!==p?p:8;let A="8px";"circle"===x?A="50%":"square"===x&&(A="0");const C={flat:"box-shadow: none;",glossy:`background: linear-gradient(180deg, rgba(255,255,255,0.25), rgba(255,255,255,0)), ${f}; border: none;`,embossed:"border: 1px solid rgba(0,0,0,0.15); box-shadow: inset 0 2px 2px rgba(255,255,255,0.2), inset 0 -2px 2px rgba(0,0,0,0.15);",inset:"box-shadow: inset 0 2px 6px rgba(0,0,0,0.35);","gradient-overlay":`background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(0,0,0,0.15)), ${f};`,"neon-glow":`box-shadow: 0 0 10px ${f}, 0 0 20px ${f};`,outline:`background: transparent; border: 2px solid ${f}; color: ${f};`,glass:"backdrop-filter: blur(6px); border: 1px solid rgba(255,255,255,0.25);",metallic:"background: linear-gradient(90deg, #d7d7d7, #f0f0f0 50%, #d7d7d7); color: #333; border: 1px solid #bbb;"},z=`\n      background: ${f};\n      color: ${b};\n      padding: 0;\n      border-radius: ${A};\n      cursor: pointer;\n      transition: all 0.2s ease;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-width: ${k}px;\n      min-height: ${k}px;\n      width: ${k}px;\n      height: ${k}px;\n      border: none;\n     ${C[y]||C.flat}`,T=v.value_color||g.value_color||"var(--primary-text-color)",I=v.value_font_size||g.value_font_size||18,E=`\n      color: ${T};\n      font-size: ${I}px;\n      font-weight: 600;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-width: 60px;\n    `,$={width:"100%",height:"auto",maxWidth:"none",maxHeight:"none",minWidth:"auto",minHeight:"auto",padding:v.padding_top||v.padding_bottom||v.padding_left||v.padding_right?`${v.padding_top||"0px"} ${v.padding_right||"0px"} ${v.padding_bottom||"0px"} ${v.padding_left||"0px"}`:"0",margin:v.margin_top||v.margin_bottom||v.margin_left||v.margin_right?`${v.margin_top||"8px"} ${v.margin_right||"0px"} ${v.margin_bottom||"8px"} ${v.margin_left||"0px"}`:"8px 0",background:v.background_color||"transparent",backgroundImage:this.getBackgroundImageCSS(Object.assign(Object.assign({},_),v),t),"background-size":"cover","background-position":"center","background-repeat":"no-repeat","border-radius":v.border_radius||"8px",border:v.border_style&&"none"!==v.border_style?`${v.border_width||"1px"} ${v.border_style} ${v.border_color||"var(--divider-color)"}`:"none","box-shadow":v.box_shadow_h||v.box_shadow_v||v.box_shadow_blur||v.box_shadow_spread?`${v.box_shadow_h||"0px"} ${v.box_shadow_v||"0px"} ${v.box_shadow_blur||"0px"} ${v.box_shadow_spread||"0px"} ${v.box_shadow_color||"rgba(0,0,0,.2)"}`:"none","box-sizing":"border-box"},P=null===(u=g.design)||void 0===u?void 0:u.hover_effect,j=l.k.getHoverEffectClass(P),B="vertical"===g.layout,D=!1!==g.show_value,O=g.value_position||"center",J=g.show_unit&&g.unit,R=D?o.qy`
          <div class="spinbox-value" style="${E}">
            ${m.toFixed(this.getDecimalPlaces(g.step))}${J?o.qy`<span style="margin-left: 4px; font-size: ${.8*I}px;"
                  >${g.unit}</span
                >`:""}
          </div>
        `:"",U=o.qy`
      <button
        class="spinbox-button decrement ${j}"
        style="${z}"
        @click=${e=>{if(e.stopPropagation(),e.preventDefault(),g.entity&&t){const e=Math.max(g.min_value,m-g.step);this.callEntityService(g.entity,e,t,h)}}}
        ?disabled=${m<=g.min_value}
      >
        <ha-icon icon="${g.decrement_icon||"mdi:minus"}"></ha-icon>
      </button>
    `,M=o.qy`
      <button
        class="spinbox-button increment ${j}"
        style="${z}"
        @click=${e=>{if(e.stopPropagation(),e.preventDefault(),g.entity&&t){const e=Math.min(g.max_value,m+g.step);this.callEntityService(g.entity,e,t,h)}}}
        ?disabled=${m>=g.max_value}
      >
        <ha-icon icon="${g.increment_icon||"mdi:plus"}"></ha-icon>
      </button>
    `,H=S>=0,N=w>=0,L=H?`display: flex; gap: ${S}px; ${B?"flex-direction: column;":"flex-direction: row;"}`:"display: flex; "+(B?"flex-direction: column;":"flex-direction: row;");return o.qy`
      <style>
        .spinbox-button {
          flex-shrink: 0;
        }
        .spinbox-button:disabled {
          opacity: 0.4;
          cursor: not-allowed;
        }
        .spinbox-button:not(:disabled):hover {
          opacity: 0.8;
          transform: scale(1.05);
        }
      </style>
      <div class="spinbox-module-container" style=${this.styleObjectToCss($)}>
        <div
          class="spinbox-container"
          style="display: flex; align-items: center; justify-content: center;"
        >
          ${(()=>{const e=o.qy`
        <div style="${L}">
          ${B?o.qy` <div style="${H?"":`margin-bottom: ${S}px;`}">
                  ${M}
                </div>
                <div>${U}</div>`:o.qy` <div style="${H?"":`margin-right: ${S}px;`}">
                  ${U}
                </div>
                <div>${M}</div>`}
        </div>
      `,t=N?`gap: ${w}px;`:"";switch(O){case"top":return o.qy`
            <div
              style="display: flex; flex-direction: column; align-items: center; ${t}"
            >
              <div style="${N?"":`margin-bottom: ${w}px;`}">
                ${R}
              </div>
              ${e}
            </div>
          `;case"bottom":return o.qy`
            <div
              style="display: flex; flex-direction: column; align-items: center; ${t}"
            >
              <div style="${N?"":`margin-bottom: ${w}px;`}">
                ${e}
              </div>
              ${R}
            </div>
          `;case"left":return o.qy`
            <div style="display: flex; flex-direction: row; align-items: center; ${t}">
              <div style="${N?"":`margin-right: ${w}px;`}">
                ${R}
              </div>
              ${e}
            </div>
          `;case"right":return o.qy`
            <div style="display: flex; flex-direction: row; align-items: center; ${t}">
              <div style="${N?"":`margin-right: ${w}px;`}">
                ${e}
              </div>
              ${R}
            </div>
          `;default:return B?o.qy`
              <div
                style="display: flex; flex-direction: column; align-items: center; ${t}"
              >
                <div style="${N?"":`margin-bottom: ${w}px;`}">
                  ${M}
                </div>
                <div style="${N?"":`margin-bottom: ${w}px;`}">
                  ${R}
                </div>
                ${U}
              </div>
            `:o.qy`
              <div style="display: flex; flex-direction: row; align-items: center; ${t}">
                <div style="${N?"":`margin-right: ${w}px;`}">
                  ${U}
                </div>
                <div style="${N?"":`margin-right: ${w}px;`}">
                  ${R}
                </div>
                ${M}
              </div>
            `}})()}
        </div>
      </div>
    `}async callEntityService(e,t,i,o){var a,n,r,s,l;const d=o||e.split(".")[0],c=i.states[e];console.log(`[Spinbox] Calling service for ${e} with value ${t}`);let p="",u={};try{switch(d){case"input_number":case"number":p=`${d}.set_value`,u={entity_id:e,value:t};break;case"climate":p="climate.set_temperature";const i=null==c?void 0:c.state,o=void 0!==(null===(a=null==c?void 0:c.attributes)||void 0===a?void 0:a.target_temp_high),g=void 0!==(null===(n=null==c?void 0:c.attributes)||void 0===n?void 0:n.target_temp_low);if(u={entity_id:e},"heat_cool"===i&&(o||g)){const e=null===(r=null==c?void 0:c.attributes)||void 0===r?void 0:r.temperature,i=null===(s=null==c?void 0:c.attributes)||void 0===s?void 0:s.target_temp_high,o=null===(l=null==c?void 0:c.attributes)||void 0===l?void 0:l.target_temp_low;if(void 0!==e&&void 0!==i&&void 0!==o){Math.abs(t-i)<Math.abs(t-o)?(u.target_temp_high=t,u.target_temp_low=o):(u.target_temp_low=t,u.target_temp_high=i)}else u.target_temp_high=t+2,u.target_temp_low=t-2;console.log("[Spinbox] Climate heat_cool mode - serviceData:",u)}else u.temperature=t,console.log(`[Spinbox] Climate single temp mode - temperature: ${t}`);break;default:return void console.warn(`[Spinbox] Unsupported entity domain: ${d}`)}console.log(`[Spinbox] Calling service ${p} with data:`,u),await i.callService(p.split(".")[0],p.split(".")[1],u),console.log("[Spinbox] Service call successful")}catch(t){console.error(`[Spinbox] Failed to call service for ${e}:`,t),console.error("[Spinbox] Service data was:",u)}}getDecimalPlaces(e){const t=e.toString();return t.includes(".")?t.split(".")[1].length:0}styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${t}`)).join("; ")}getBackgroundImageCSS(e,t){var i,o;const a=e.background_image_type,n=e.background_image,r=e.background_image_entity;if(!a||"none"===a)return"none";switch(a){case"upload":if(n)return`url("${(0,c.V)(t,n)}")`;break;case"url":if(n)return`url("${n}")`;break;case"entity":if(r&&t){const e=t.states[r];if(e){const a=(null===(i=e.attributes)||void 0===i?void 0:i.entity_picture)||(null===(o=e.attributes)||void 0===o?void 0:o.image)||("string"==typeof e.state?e.state:"");if(a&&"unknown"!==a&&"unavailable"!==a)return`url("${(0,c.V)(t,a)}")`}}}return"none"}_hashString(e){let t=0;for(let i=0;i<e.length;i+=1)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}}},6682:(e,t,i)=>{i.d(t,{O:()=>r});class o{constructor(){this.cache=new Map,this.corsProxies=["https://api.allorigins.win/raw?url=","https://corsproxy.io/?","https://cors-anywhere.herokuapp.com/"]}async fetchPresets(e={}){const t=`presets_${JSON.stringify(e)}`,i=this.cache.get(t);if(i&&Date.now()-i.timestamp<o.CACHE_DURATION)return i.data;const a=this._getFromLocalStorage(t);if(a)return this.cache.set(t,a),a.data;try{const i=new URLSearchParams;e.page&&i.set("page",e.page.toString()),e.per_page&&i.set("per_page",e.per_page.toString()),e.category&&i.set("category",e.category),e.search&&i.set("search",e.search),e.sort&&i.set("sort",e.sort),i.set("_embed","true");const a=`${o.API_BASE}/presets_dir_ltg?${i.toString()}`,n=await this._fetchWithCorsResilience(a),r={presets:Array.isArray(n)?n.map((e=>{var t,i,o,a,n,r,s,l,d,c,p,u,g,m,h,_;const v=e.preset_meta||{},f=v.tags?v.tags.split(",").map((e=>e.trim())):[],b=v.integrations?String(v.integrations).split(",").map((e=>e.trim())).filter(Boolean):[],y=this._stripHtml(v.description||(null===(t=e.excerpt)||void 0===t?void 0:t.rendered)||(null===(i=e.content)||void 0===i?void 0:i.rendered)||"No description available");return{id:e.id,name:(null===(o=e.title)||void 0===o?void 0:o.rendered)||"Untitled Preset",description:this._truncateDescription(y,15),description_full:y,shortcode:v.shortcode||'{"rows":[]}',category:v.category||"badges",tags:f,integrations:b,author:(null===(r=null===(n=null===(a=e._embedded)||void 0===a?void 0:a.author)||void 0===n?void 0:n[0])||void 0===r?void 0:r.display_name)||(null===(d=null===(l=null===(s=e._embedded)||void 0===s?void 0:s.author)||void 0===l?void 0:l[0])||void 0===d?void 0:d.name)||(null===(u=null===(p=null===(c=e._embedded)||void 0===c?void 0:c.author)||void 0===p?void 0:p[0])||void 0===u?void 0:u.slug)||"Community",author_avatar:(null===(_=null===(h=null===(m=null===(g=e._embedded)||void 0===g?void 0:g.author)||void 0===m?void 0:m[0])||void 0===h?void 0:h.avatar_urls)||void 0===_?void 0:_[48])||"",downloads:parseInt(v.downloads)||0,rating:parseFloat(v.rating)||0,reviews_count:parseInt(v.rating_count)||0,rating_count:parseInt(v.rating_count)||0,created:e.date,updated:e.modified,is_featured:!1,difficulty:v.difficulty||"beginner",compatibility:v.compatibility?v.compatibility.split(","):[],featured_image:v.featured_image||e.featured_media_src_url||"",gallery:Array.isArray(v.gallery)?v.gallery:[],preset_url:e.link||`https://ultracard.io/presets/${e.slug}/`}})):[],total:n.length||0,pages:1,current_page:1};if(!Array.isArray(n))throw new Error("Invalid response format: expected array of posts");const s={data:r,timestamp:Date.now()};return this.cache.set(t,s),this._saveToLocalStorage(t,s),r}catch(e){console.error("Failed to fetch Directories Pro presets:",e);const i=this._getFromLocalStorage(t,!0);if(i)return console.warn("Using stale cached presets due to fetch error"),i.data;const o=this._getFallbackCache();return o?(console.warn("Using fallback cached presets due to fetch error"),o):{presets:[],total:0,pages:0,current_page:1}}}async fetchPreset(e){var t,i,a,n,r,s,l,d,c,p,u,g,m,h,_,v;const f=`preset_${e}`,b=this.cache.get(f);if(b&&Date.now()-b.timestamp<o.CACHE_DURATION)return b.data;try{const b=`${o.API_BASE}/presets_dir_ltg/${e}?_embed=true`,y=await this._fetchWithCorsResilience(b),k=y.preset_meta||{},x=k.tags?k.tags.split(",").map((e=>e.trim())):[],w=k.integrations?String(k.integrations).split(",").map((e=>e.trim())).filter(Boolean):[],S=this._stripHtml((null===(t=y.excerpt)||void 0===t?void 0:t.rendered)||(null===(i=y.content)||void 0===i?void 0:i.rendered)||"No description available"),A={id:y.id,name:(null===(a=y.title)||void 0===a?void 0:a.rendered)||"Untitled Preset",description:this._truncateDescription(S,15),description_full:S,shortcode:k.shortcode||'{"rows":[]}',category:k.category||"badges",tags:x,integrations:w,author:(null===(s=null===(r=null===(n=y._embedded)||void 0===n?void 0:n.author)||void 0===r?void 0:r[0])||void 0===s?void 0:s.display_name)||(null===(c=null===(d=null===(l=y._embedded)||void 0===l?void 0:l.author)||void 0===d?void 0:d[0])||void 0===c?void 0:c.name)||(null===(g=null===(u=null===(p=y._embedded)||void 0===p?void 0:p.author)||void 0===u?void 0:u[0])||void 0===g?void 0:g.slug)||"Community",author_avatar:(null===(v=null===(_=null===(h=null===(m=y._embedded)||void 0===m?void 0:m.author)||void 0===h?void 0:h[0])||void 0===_?void 0:_.avatar_urls)||void 0===v?void 0:v[48])||"",downloads:parseInt(k.downloads)||0,rating:parseFloat(k.rating)||0,reviews_count:parseInt(k.rating_count)||0,rating_count:parseInt(k.rating_count)||0,created:y.date,updated:y.modified,is_featured:!1,difficulty:k.difficulty||"beginner",compatibility:k.compatibility?k.compatibility.split(","):[],featured_image:k.featured_image||y.featured_media_src_url||"",gallery:Array.isArray(k.gallery)?k.gallery:[],preset_url:y.link||`https://ultracard.io/presets/${y.slug}/`},C={data:A,timestamp:Date.now()};return this.cache.set(f,C),A}catch(t){return console.error(`Failed to fetch preset ${e}:`,t),null}}async trackDownload(e){}async getCategories(){const e="categories",t=this.cache.get(e);if(t&&Date.now()-t.timestamp<o.CACHE_DURATION)return t.data;try{const t=await fetch(`${o.API_BASE}/categories`,{signal:AbortSignal.timeout(5e3)});if(t.ok){const i=await t.json(),o={data:i,timestamp:Date.now()};return this.cache.set(e,o),i}}catch(e){console.warn("Failed to fetch categories:",e)}return["badges","layouts","widgets","dashboards","themes"]}clearCache(){this.cache.clear(),Object.keys(localStorage).forEach((e=>{e.startsWith("wp-presets-cache-")&&localStorage.removeItem(e)}))}async testConnection(){const e=`${o.API_BASE}/presets_dir_ltg?per_page=1`,t=[];try{await fetch(e,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)}),t.push({method:"Direct Fetch",success:!0})}catch(e){t.push({method:"Direct Fetch",success:!1,error:e instanceof Error?e.message:"Unknown error"})}for(const i of this.corsProxies)try{const o=`${i}${encodeURIComponent(e)}`;await fetch(o,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(8e3)}),t.push({method:`Proxy: ${i}`,success:!0})}catch(e){t.push({method:`Proxy: ${i}`,success:!1,error:e instanceof Error?e.message:"Unknown error"})}return t}getCacheStats(){return{memoryEntries:this.cache.size,localStorageEntries:Object.keys(localStorage).filter((e=>e.startsWith("wp-presets-cache-"))).length}}_saveToLocalStorage(e,t){try{const i=`wp-presets-cache-${e}`;localStorage.setItem(i,JSON.stringify(t))}catch(e){console.warn("Failed to save to localStorage:",e)}}_getFromLocalStorage(e,t=!1){try{const i=`wp-presets-cache-${e}`,a=localStorage.getItem(i);if(!a)return null;const n=JSON.parse(a);return Date.now()-n.timestamp>(t?o.EXTENDED_CACHE_DURATION:o.CACHE_DURATION)?(t||localStorage.removeItem(i),t?n:null):n}catch(e){return console.warn("Failed to read from localStorage:",e),null}}_stripHtml(e){if(!e)return"";const t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").trim().replace(/\s+/g," ")}_truncateDescription(e,t=15){if(!e)return"";const i=e.split(" ");return i.length<=t?e:i.slice(0,t).join(" ")+"..."}async _fetchWithCorsResilience(e){try{const t=await fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:AbortSignal.timeout(8e3)});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return await t.json()}catch(t){console.warn("Direct fetch failed, trying CORS proxies:",t);for(const t of this.corsProxies)try{const i=`${t}${encodeURIComponent(e)}`,o=await fetch(i,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!o.ok)throw new Error(`Proxy HTTP ${o.status}: ${o.statusText}`);const a=await o.json();return console.log(`Successfully fetched via proxy: ${t}`),a}catch(e){console.warn(`Proxy ${t} failed:`,e);continue}try{return await this._fetchViaJsonp(e)}catch(e){console.warn("JSONP fetch failed:",e)}throw new Error("All CORS-resilient fetch methods failed")}}async _fetchViaJsonp(e){return new Promise(((t,i)=>{const o=`ultracard_jsonp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=document.createElement("script"),n=setTimeout((()=>{r(),i(new Error("JSONP timeout"))}),15e3),r=()=>{a.parentNode&&a.parentNode.removeChild(a),delete window[o],clearTimeout(n)};window[o]=e=>{r(),t(e)},a.onerror=()=>{r(),i(new Error("JSONP script error"))};const s=e.includes("?")?"&":"?";a.src=`${e}${s}callback=${o}`,document.head.appendChild(a)}))}_getFallbackCache(){try{const e=Object.keys(localStorage).filter((e=>e.startsWith("wp-presets-cache-presets_"))).map((e=>{try{const t=localStorage.getItem(e);if(!t)return null;const i=JSON.parse(t);return{key:e,timestamp:i.timestamp,data:i.data}}catch(e){return null}})).filter(Boolean).sort(((e,t)=>((null==t?void 0:t.timestamp)||0)-((null==e?void 0:e.timestamp)||0)));if(e.length>0&&e[0])return e[0].data}catch(e){console.warn("Failed to get fallback cache:",e)}return null}}o.API_BASE="https://ultracard.io/wp-json/wp/v2",o.CACHE_KEY="ultra-card-directories-pro-presets",o.CACHE_TIMESTAMP_KEY="ultra-card-directories-pro-presets-timestamp",o.CACHE_DURATION=3e5,o.EXTENDED_CACHE_DURATION=864e5;const a=new o;class n{constructor(){this._userPresets=[],this._wordpressPresets=[],this._wordpressLoading=!1,this._wordpressError=null,this._listeners=new Set,this._statusListeners=new Set,this._loadFromStorage(),this._setupStorageListener(),this._loadWordPressPresets()}getAllPresets(){return[...this._getBuiltInPresets(),...this._userPresets,...this._wordpressPresets]}getPresetsByCategory(e){const t=this.getAllPresets();return"all"===e?t:t.filter((t=>t.category===e))}getPreset(e){return this.getAllPresets().find((t=>t.id===e))}addUserPreset(e){const t=Object.assign(Object.assign({},e),{id:this._generateId(),metadata:{created:(new Date).toISOString(),updated:(new Date).toISOString()}});return this._userPresets.push(t),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),t}removeUserPreset(e){const t=this._userPresets.findIndex((t=>t.id===e));return-1!==t&&(this._userPresets.splice(t,1),this._saveToStorage(),this._notifyListeners(),this._broadcastChange(),!0)}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}subscribeToStatus(e){return this._statusListeners.add(e),()=>this._statusListeners.delete(e)}getWordPressStatus(){return{loading:this._wordpressLoading,error:this._wordpressError}}async refreshWordPressPresets(){a.clearCache(),await this._loadWordPressPresets(!0)}getWordPressPresetsCount(){return this._wordpressPresets.length}async trackPresetDownload(e){if(e.startsWith("wp-")){const t=parseInt(e.replace("wp-",""));isNaN(t)||await a.trackDownload(t)}}_getBuiltInPresets(){return[]}_generateId(){return`preset-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}_loadFromStorage(){try{const e=localStorage.getItem(n.STORAGE_KEY);if(e){const t=JSON.parse(e);Array.isArray(t)&&(this._userPresets=t.filter(this._isValidPreset.bind(this)))}}catch(e){console.warn("Failed to load user presets from storage:",e),this._userPresets=[]}}_saveToStorage(){try{localStorage.setItem(n.STORAGE_KEY,JSON.stringify(this._userPresets))}catch(e){console.warn("Failed to save user presets to storage:",e)}}_setupStorageListener(){window.addEventListener("storage",(e=>{e.key===n.STORAGE_KEY&&(this._loadFromStorage(),this._notifyListeners())})),window.addEventListener(n.SYNC_EVENT,(()=>{this._loadFromStorage(),this._notifyListeners()}))}_notifyListeners(){const e=this.getAllPresets();this._listeners.forEach((t=>t(e)))}_notifyStatusListeners(){const e=this.getWordPressStatus();this._statusListeners.forEach((t=>t(e)))}async _loadWordPressPresets(e=!1){if(!this._wordpressLoading||e){this._wordpressLoading=!0,this._wordpressError=null,this._notifyStatusListeners();try{const e=await a.fetchPresets({per_page:50,sort:"popular"});this._wordpressPresets=e.presets.map(this._convertWordPressPreset.bind(this)),this._wordpressError=null,console.log(`Successfully loaded ${e.presets.length} presets from ultracard.io`),this._notifyListeners()}catch(e){console.error("Failed to load WordPress presets from Directories Pro:",e);let t="Unable to load presets from ultracard.io";e instanceof Error&&(t=e.message.includes("CORS")?"Network access blocked. Using cached presets if available.":e.message.includes("timeout")?"Connection timeout. Please check your internet connection.":e.message.includes("Failed to fetch")?"Network error. Using cached presets if available.":`Connection error: ${e.message}`),this._wordpressError=t,this._wordpressPresets.length>0&&(console.warn("Using previously loaded presets due to network error"),this._wordpressError=`${t} (Using cached presets)`)}finally{this._wordpressLoading=!1,this._notifyStatusListeners()}}}_convertWordPressPreset(e){try{let t;try{if(t=JSON.parse(e.shortcode),!t.rows||!Array.isArray(t.rows)||0===t.rows.length)throw console.warn(`Preset ${e.id} has empty rows array, skipping...`),new Error("Layout has no rows");if(!t.rows.some((e=>e.columns&&e.columns.some((e=>e.modules&&e.modules.length>0)))))throw console.warn(`Preset ${e.id} has no modules, skipping...`),new Error("Layout has no modules")}catch(i){try{const i=e.shortcode.match(/\[ultra_card\]([\s\S]*?)\[\/ultra_card\]/);if(!i)throw new Error("No shortcode format found");{const e=i[1].trim(),o=atob(e),a=JSON.parse(o);if("ultra-card-row"===a.type&&a.data)t={rows:[a.data]};else if(a.data&&a.data.rows)t=a.data;else{if(!a.rows)throw new Error("No valid layout found in shortcode");t=a}}}catch(i){t={rows:[{id:`demo-row-${e.id}`,columns:[{id:`demo-col-${e.id}`,modules:[{id:`demo-horizontal-${e.id}`,type:"horizontal",alignment:"space-between",vertical_alignment:"center",gap:.7,wrap:!1,modules:[{id:`demo-avatar-${e.id}`,type:"image",image_type:"url",height:"40px",width:"40px",border_radius:"50%",object_fit:"cover",image_url:"https://cdn-icons-png.freepik.com/512/3177/3177440.png"},{id:`demo-info-${e.id}`,type:"icon",icons:[{id:`demo-icon-${e.id}`,entity:"person.demo_user",icon_inactive:"mdi:account",icon_active:"mdi:account",show_name:!0,show_state:!0,icon_size:26,text_size:14}]}]}]}],column_layout:"1-col",background_color:"#333333",border_radius:60,height:"50px",width:"140px",padding:{left:"4px",right:"16px"}}]}}}const i=this._mapWordPressCategory(e.category),o=e.author&&(e.author.toLowerCase().includes("wayne@wjddesigns.com")||e.author.toLowerCase().includes("wjddesigns")),a=e.tags||[],n=o?["standard"]:["community"],r={id:`wp-${e.id}`,name:e.name,description:e.description||"No description provided",category:i,icon:this._getPresetIcon(e.category,e.tags),author:e.author||"Community",version:"1.0.0",tags:[...a,...n],integrations:e.integrations||[],thumbnail:e.featured_image,layout:t,metadata:{created:e.created,updated:e.updated||e.created,downloads:e.downloads,rating:e.rating}};return r.preset_url=e.preset_url,r.description_full=e.description_full,r.gallery=e.gallery||[],r}catch(t){return console.error(`Error converting WordPress preset ${e.id}:`,t),{id:`wp-error-${e.id}`,name:e.name||"Error Preset",description:"This preset could not be loaded properly",category:"custom",icon:"mdi:alert-circle",author:e.author||"Community",version:"1.0.0",tags:["error","community"],layout:{rows:[{id:`error-row-${e.id}`,columns:[{id:`error-col-${e.id}`,modules:[{id:`error-text-${e.id}`,type:"text",text:"Preset Loading Error",font_size:14,alignment:"center",color:"var(--error-color)"}]}],column_layout:"1-col"}]},metadata:{created:e.created||(new Date).toISOString(),updated:e.updated||(new Date).toISOString()}}}}_mapWordPressCategory(e){return{badges:"badges",layouts:"layouts",widgets:"widgets",custom:"badges",badge:"badges",layout:"layouts",widget:"widgets",dashboard:"layouts",dashboards:"layouts",theme:"custom",themes:"custom"}[e.toLowerCase().trim()]||"badges"}_getPresetIcon(e,t){return t.includes("person")||t.includes("user")?"mdi:account-circle":t.includes("weather")?"mdi:weather-partly-cloudy":t.includes("energy")?"mdi:lightning-bolt":t.includes("climate")?"mdi:thermostat":t.includes("security")?"mdi:shield-home":t.includes("lights")||t.includes("lighting")?"mdi:lightbulb":t.includes("vehicle")||t.includes("car")?"mdi:car":t.includes("location")?"mdi:map-marker":{badge:"mdi:card-account-details",badges:"mdi:card-account-details",layout:"mdi:view-column",layouts:"mdi:view-column",widget:"mdi:widgets",widgets:"mdi:widgets",dashboard:"mdi:view-dashboard",dashboards:"mdi:view-dashboard"}[e.toLowerCase().trim()]||"mdi:card"}_broadcastChange(){window.dispatchEvent(new CustomEvent(n.SYNC_EVENT))}_isValidPreset(e){return e&&"string"==typeof e.id&&"string"==typeof e.name&&"string"==typeof e.description&&"string"==typeof e.category&&"string"==typeof e.icon&&e.layout&&Array.isArray(e.layout.rows)}}n.STORAGE_KEY="ultra-card-presets",n.SYNC_EVENT="ultra-card-presets-changed";const r=new n},6693:(e,t,i)=>{var o,a=i(5183),n=i(4276),r=i(1338),s=(i(6768),i(7593)),l=i(866),d=i(7987),c=i(2381),p=i(456),u=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let g=o=class extends a.WF{constructor(){super(...arguments),this.designProperties={},this._expandedSections=new Set,this._marginLocked=!1,this._paddingLocked=!1,this._clipboardProperties=null}connectedCallback(){super.connectedCallback(),this._marginLocked=!1,this._paddingLocked=!1,this._loadClipboardFromStorage(),this._storageEventListener=this._handleStorageEvent.bind(this),window.addEventListener("storage",this._storageEventListener)}disconnectedCallback(){super.disconnectedCallback(),this._storageEventListener&&window.removeEventListener("storage",this._storageEventListener)}_handleStorageEvent(e){e.key===o.CLIPBOARD_KEY&&this._loadClipboardFromStorage()}_loadClipboardFromStorage(){try{const e=localStorage.getItem(o.CLIPBOARD_KEY);if(e){const t=JSON.parse(e);t&&"object"==typeof t&&(this._clipboardProperties=t,this.requestUpdate())}}catch(e){console.warn("Failed to load design clipboard from localStorage:",e),this._clipboardProperties=null}}_saveClipboardToStorage(e){try{localStorage.setItem(o.CLIPBOARD_KEY,JSON.stringify(e))}catch(e){console.warn("Failed to save design clipboard to localStorage:",e)}}_clearClipboardFromStorage(){try{localStorage.removeItem(o.CLIPBOARD_KEY)}catch(e){console.warn("Failed to clear design clipboard from localStorage:",e)}}_toggleSection(e){this._expandedSections.has(e)?this._expandedSections.delete(e):(this._expandedSections.clear(),this._expandedSections.add(e)),this.requestUpdate()}_updateProperty(e,t){const i=""===t||null===t||"string"==typeof t&&""===t.trim()?void 0:t,o={[e]:i},a=Object.assign({},this.designProperties||{});if(void 0===i?delete a[e]:a[e]=i,this.designProperties=a,this.requestUpdate(),"font_size"===e&&console.log(" EditorGlobalDesignTab: Font size update",{property:e,originalValue:t,processedValue:i,updates:o,newDesignProperties:this.designProperties}),this.onUpdate)this.onUpdate(o);else{const e=new CustomEvent("design-changed",{detail:o,bubbles:!0,composed:!0});this.dispatchEvent(e)}}_updateSpacing(e,t,i){const o="margin"===e?Boolean(this._marginLocked):Boolean(this._paddingLocked);if(o&&"top"!==t)return;let a;a=o?{[`${e}_top`]:i,[`${e}_bottom`]:i,[`${e}_left`]:i,[`${e}_right`]:i}:{[`${e}_${t}`]:i},this.designProperties=Object.assign(Object.assign({},this.designProperties||{}),a);const n=Object.keys(a).some((e=>e.startsWith("margin_")||e.startsWith("padding_"))),r="margin"===e&&this._marginLocked||"padding"===e&&this._paddingLocked;if(n&&r?this.requestUpdate():setTimeout((()=>{this.requestUpdate()}),0),this.onUpdate)this.onUpdate(a);else{const e=new CustomEvent("design-changed",{detail:a,bubbles:!0,composed:!0});this.dispatchEvent(e)}}_createRobustInputHandler(e,t){return i=>{const o=i.target,a=o.value,n=o.selectionStart,r=o.selectionEnd;if(i.stopPropagation(),t(a),(e.includes("margin_")||e.includes("padding_"))&&(e.includes("margin_")&&this._marginLocked||e.includes("padding_")&&this._paddingLocked))requestAnimationFrame((()=>{o&&"number"==typeof n&&o.setSelectionRange(n,r||n)}));else{const e=()=>{o&&o.value!==a&&(o.value=a,"number"==typeof n&&o.setSelectionRange(n,r||n))};requestAnimationFrame(e),setTimeout(e,0),setTimeout(e,10)}}}_createProtectedKeydownHandler(e,t,i){return e=>{e.target,"ArrowUp"!==e.key&&"ArrowDown"!==e.key||this._handleNumericKeydown(e,t(),i)}}_handleNumericKeydown(e,t,i){if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;e.preventDefault();const o=t.match(/^(-?\d*\.?\d*)(.*)$/);if(!o)return;const a=o[1],n=o[2].trim()||"px";let r=parseFloat(a)||0,s=1;"rem"===n||"em"===n?s=.1:"%"===n?s=5:"px"===n&&(s=1),e.shiftKey?s*=10:e.altKey&&(s/=10),"ArrowUp"===e.key?r+=s:r-=s;let l=0;"rem"===n||"em"===n?l=e.altKey?3:1:"%"===n&&e.altKey&&(l=1),i(`${parseFloat(r.toFixed(l))}${n}`)}_toggleSpacingLock(e){if("margin"===e){const e=this._marginLocked;if(this._marginLocked=!this._marginLocked,!e&&!0===this._marginLocked){const e=this.designProperties.margin_top||"";this._updateProperty("margin_right",e),this._updateProperty("margin_bottom",e),this._updateProperty("margin_left",e)}}else{const e=this._paddingLocked;if(this._paddingLocked=!this._paddingLocked,!e&&!0===this._paddingLocked){const e=this.designProperties.padding_top||"";this._updateProperty("padding_right",e),this._updateProperty("padding_bottom",e),this._updateProperty("padding_left",e)}}this.requestUpdate()}_resetSection(e){const t={};switch(e){case"text":t.color=void 0,t.text_align=void 0,t.font_size=void 0,t.line_height=void 0,t.letter_spacing=void 0,t.font_family=void 0,t.font_weight=void 0,t.text_transform=void 0,t.font_style=void 0;break;case"background":t.background_color=void 0,t.background_image=void 0,t.background_image_type=void 0,t.background_image_entity=void 0,t.background_size=void 0,t.background_repeat=void 0,t.background_position=void 0,t.backdrop_filter=void 0;break;case"sizes":t.width=void 0,t.height=void 0,t.max_width=void 0,t.max_height=void 0,t.min_width=void 0,t.min_height=void 0;break;case"spacing":t.margin_top=void 0,t.margin_bottom=void 0,t.margin_left=void 0,t.margin_right=void 0,t.padding_top=void 0,t.padding_bottom=void 0,t.padding_left=void 0,t.padding_right=void 0;break;case"border":t.border_radius=void 0,t.border_style=void 0,t.border_width=void 0,t.border_color=void 0;break;case"position":t.position=void 0,t.top=void 0,t.bottom=void 0,t.left=void 0,t.right=void 0,t.z_index=void 0;break;case"text-shadow":t.text_shadow_h=void 0,t.text_shadow_v=void 0,t.text_shadow_blur=void 0,t.text_shadow_color=void 0;break;case"box-shadow":t.box_shadow_h=void 0,t.box_shadow_v=void 0,t.box_shadow_blur=void 0,t.box_shadow_spread=void 0,t.box_shadow_color=void 0;break;case"overflow":t.overflow=void 0,t.clip_path=void 0;break;case"animations":t.animation_type=void 0,t.animation_entity=void 0,t.animation_trigger_type=void 0,t.animation_attribute=void 0,t.animation_state=void 0,t.intro_animation=void 0,t.outro_animation=void 0,t.animation_duration=void 0,t.animation_delay=void 0,t.animation_timing=void 0}if(this.designProperties=Object.assign(Object.assign({},this.designProperties||{}),t),this.requestUpdate(),this.onUpdate)try{this.onUpdate(t)}catch(t){console.error(` GlobalDesignTab: Callback error for ${e}:`,t)}else{const e=new CustomEvent("design-changed",{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(e)}this.requestUpdate(),setTimeout((()=>{this.requestUpdate()}),50)}_copyDesign(){this._clipboardProperties=Object.assign({},this.designProperties),this._saveClipboardToStorage(this._clipboardProperties),Object.keys(this._clipboardProperties).filter((e=>this._clipboardProperties[e])).length,this.requestUpdate()}_pasteDesign(){this._clipboardProperties||this._loadClipboardFromStorage(),this._clipboardProperties&&(this.onUpdate?this.onUpdate(this._clipboardProperties):this.dispatchEvent(new CustomEvent("design-changed",{detail:this._clipboardProperties,bubbles:!0,composed:!0})))}_resetAllDesign(){const e={color:void 0,text_align:void 0,font_size:void 0,line_height:void 0,letter_spacing:void 0,font_family:void 0,font_weight:void 0,text_transform:void 0,font_style:void 0,background_color:void 0,background_image:void 0,background_image_type:void 0,background_image_entity:void 0,backdrop_filter:void 0,width:void 0,height:void 0,max_width:void 0,max_height:void 0,min_width:void 0,min_height:void 0,margin_top:void 0,margin_bottom:void 0,margin_left:void 0,margin_right:void 0,padding_top:void 0,padding_bottom:void 0,padding_left:void 0,padding_right:void 0,border_radius:void 0,border_style:void 0,border_width:void 0,border_color:void 0,position:void 0,top:void 0,bottom:void 0,left:void 0,right:void 0,z_index:void 0,text_shadow_h:void 0,text_shadow_v:void 0,text_shadow_blur:void 0,text_shadow_color:void 0,box_shadow_h:void 0,box_shadow_v:void 0,box_shadow_blur:void 0,box_shadow_spread:void 0,box_shadow_color:void 0,overflow:void 0,clip_path:void 0,animation_type:void 0,animation_entity:void 0,animation_trigger_type:void 0,animation_attribute:void 0,animation_state:void 0,intro_animation:void 0,outro_animation:void 0,animation_duration:void 0,animation_delay:void 0,animation_timing:void 0};if(this.onUpdate)try{this.onUpdate(e)}catch(e){console.error(" GlobalDesignTab: Reset all callback error:",e)}else{const t=new CustomEvent("design-changed",{detail:e,bubbles:!0,composed:!0});this.dispatchEvent(t)}this.requestUpdate(),setTimeout((()=>{this.requestUpdate()}),50)}_clearClipboard(){this._clipboardProperties=null,this._clearClipboardFromStorage(),this.requestUpdate()}async _handleBackgroundImageUpload(e){var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(i&&this.hass)try{const e={background_image:await(0,c.m)(this.hass,i),background_image_type:"upload"};this.onUpdate?this.onUpdate(e):this.dispatchEvent(new CustomEvent("design-changed",{detail:e,bubbles:!0,composed:!0}))}catch(e){console.error("Background image upload failed:",e),alert(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}_truncatePath(e){return e?e.length<=30?e:"..."+e.slice(-27):""}_getStateValueHint(e){if(!this.hass||!e)return"Enter the state value to trigger animation";const t=this.hass.states[e];return t?t.state&&"unknown"!==t.state&&"unavailable"!==t.state?`Current state: ${t.state}`:"Enter the state value to trigger animation":"Entity not found"}_getAttributeNameHint(e){if(!this.hass||!e)return"Enter the attribute name to monitor";const t=this.hass.states[e];if(!t||!t.attributes)return"Entity not found or has no attributes";const i=Object.keys(t.attributes).filter((e=>!e.startsWith("_")&&"object"!=typeof t.attributes[e])).slice(0,3);return i.length>0?`Available attributes: ${i.join(", ")}${Object.keys(t.attributes).length>3?", ...":""}`:"Enter the attribute name to monitor"}_getAttributeValueHint(e,t){if(!this.hass||!e)return"Enter the attribute value to trigger animation";if(!t)return"Select an attribute first";const i=this.hass.states[e];if(!i||!i.attributes)return"Entity not found or has no attributes";const o=i.attributes[t];if(null!=o){const e=String(o);return`Current value: ${e.length>30?`${e.slice(0,27)}...`:e}`}return"Attribute not found - check the attribute name"}_hasModifiedProperties(e){const t=this.designProperties,i=e=>null!=e&&""!==e;switch(e){case"text":return!!(i(t.color)||i(t.text_align)||i(t.font_size)||i(t.line_height)||i(t.letter_spacing)||i(t.font_family)||i(t.font_weight)||i(t.text_transform)||i(t.font_style));case"background":return!!(i(t.background_color)||i(t.background_image)||i(t.background_image_type)||i(t.background_image_entity)||i(t.background_size)||i(t.background_repeat)||i(t.background_position)||i(t.backdrop_filter));case"sizes":return!!(i(t.width)||i(t.height)||i(t.max_width)||i(t.max_height)||i(t.min_width)||i(t.min_height));case"spacing":return!!(i(t.margin_top)||i(t.margin_bottom)||i(t.margin_left)||i(t.margin_right)||i(t.padding_top)||i(t.padding_bottom)||i(t.padding_left)||i(t.padding_right));case"border":return!!(i(t.border_radius)||i(t.border_style)||i(t.border_width)||i(t.border_color));case"position":return!!(i(t.position)||i(t.top)||i(t.bottom)||i(t.left)||i(t.right)||i(t.z_index));case"text-shadow":return!!(i(t.text_shadow_h)||i(t.text_shadow_v)||i(t.text_shadow_blur)||i(t.text_shadow_color));case"box-shadow":return!!(i(t.box_shadow_h)||i(t.box_shadow_v)||i(t.box_shadow_blur)||i(t.box_shadow_spread)||i(t.box_shadow_color));case"overflow":return!(!i(t.overflow)&&!i(t.clip_path));case"animations":return!!(i(t.animation_type)&&"none"!==t.animation_type||i(t.animation_entity)||i(t.animation_trigger_type)||i(t.animation_attribute)||i(t.animation_state)||i(t.intro_animation)&&"none"!==t.intro_animation||i(t.outro_animation)&&"none"!==t.outro_animation||i(t.animation_duration)||i(t.animation_delay)||i(t.animation_timing)&&"ease"!==t.animation_timing);default:return!1}}_renderAccordion(e,t,i){const o=this._expandedSections.has(i),n=this._hasModifiedProperties(i);return a.qy`
      <div class="accordion-section">
        <div class="accordion-header ${o?"expanded":""}">
          <button class="accordion-toggle" @click=${()=>this._toggleSection(i)}>
            <span class="accordion-title">
              ${e} ${n?a.qy`<span class="edit-indicator"></span>`:""}
            </span>
          </button>
          <div class="accordion-actions">
            ${n?a.qy`
                  <button
                    class="reset-button"
                    @click=${e=>{e.stopPropagation(),this._resetSection(i)}}
                    title="Reset ${e} settings to default"
                  >
                    <ha-icon icon="mdi:refresh"></ha-icon>
                  </button>
                `:""}
            <button class="expand-button" @click=${()=>this._toggleSection(i)}>
              <ha-icon icon="mdi:chevron-${o?"up":"down"}"></ha-icon>
            </button>
          </div>
        </div>
        ${o?a.qy`<div class="accordion-content">${t}</div>`:""}
      </div>
    `}render(){var e,t,i,o,n,r,s,l,d,c,u,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j,B,D,O,J,R,U,M,H,N,L,F,K,V,q,Q,G,Y,W,Z,X,ee,te,ie,oe,ae,ne,re,se,le,de,ce,pe,ue,ge,me,he,_e,ve,fe,be;const ye=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return a.qy`
      <div class="global-design-tab">
        <!-- Design Actions Toolbar -->
        <div class="design-toolbar">
          <button
            class="toolbar-button copy-button"
            @click=${this._copyDesign}
            title="${(0,p.kg)("editor.design.copy_tooltip",ye,"Copy current design settings (works across all Ultra Cards)")}"
          >
            <ha-icon icon="mdi:content-copy"></ha-icon>
            <span>${(0,p.kg)("editor.design.copy",ye,"Copy")}</span>
          </button>

          <button
            class="toolbar-button paste-button ${this._clipboardProperties?"has-content":""}"
            @click=${this._pasteDesign}
            ?disabled=${!this._clipboardProperties}
            title="${this._clipboardProperties?(0,p.kg)("editor.design.paste_tooltip_has",ye,"Paste copied design settings (from cross-card clipboard)"):(0,p.kg)("editor.design.paste_tooltip_none",ye,"No design settings in cross-card clipboard")}"
          >
            <ha-icon icon="mdi:content-paste"></ha-icon>
            <span>${(0,p.kg)("editor.design.paste",ye,"Paste")}</span>
          </button>

          <button
            class="toolbar-button reset-all-button"
            @click=${this._resetAllDesign}
            title="${(0,p.kg)("editor.design.reset_all_tooltip",ye,"Reset all design settings to default")}"
          >
            <ha-icon icon="mdi:refresh"></ha-icon>
            <span>${(0,p.kg)("editor.design.reset_all",ye,"Reset All")}</span>
          </button>
        </div>

        ${this._renderAccordion((0,p.kg)("editor.design.text_section",ye,"Text"),a.qy`
            <div class="property-group">
              <ultra-color-picker
                .label=${(0,p.kg)("editor.design.text_color",ye,"Text Color")}
                .value=${this.designProperties.color||""}
                .defaultValue=${"var(--primary-text-color)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("color",e.detail.value)}
              ></ultra-color-picker>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.alignment",ye,"Alignment:")}:</label>
              <div class="button-group">
                ${[{value:"inherit",icon:"mdi:circle-off-outline"},{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"},{value:"justify",icon:"mdi:format-align-justify"}].map((e=>a.qy`
                    <button
                      class="property-btn ${(this.designProperties.text_align||"inherit")===e.value?"active":""}"
                      @click=${()=>this._updateProperty("text_align","inherit"===e.value?void 0:e.value)}
                      title=${"inherit"===e.value?(0,p.kg)("editor.design.inherit_alignment",ye,"Inherit (no alignment)"):e.value}
                    >
                      <ha-icon icon="${e.icon}"></ha-icon>
                    </button>
                  `))}
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.font_size",ye,"Font Size:")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.font_size||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("font_size",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.font_size||"",(e=>this._updateProperty("font_size",e)))}
                  placeholder="${(0,p.kg)("editor.design.font_size_placeholder",ye,"16px (default), 1.2rem, max(1rem, 1.5vw)")}"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("font_size","")}
                  title="${(0,p.kg)("editor.design.reset_font_size",ye,"Reset font size to default")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.line_height",ye,"Line Height:")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.line_height||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("line_height",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  placeholder="${(0,p.kg)("editor.design.line_height_placeholder",ye,"0 (default), 28px, 1.7")}"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("line_height","")}
                  title="${(0,p.kg)("editor.design.reset_line_height",ye,"Reset line height to default")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.letter_spacing",ye,"Letter Spacing:")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.letter_spacing||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("letter_spacing",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  placeholder="${(0,p.kg)("editor.design.letter_spacing_placeholder",ye,"auto (default), 1px, -0.04em")}"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("letter_spacing","")}
                  title="${(0,p.kg)("editor.design.reset_letter_spacing",ye,"Reset letter spacing to default")}"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.font",ye,"Font")}:</label>
              <select
                .value=${this.designProperties.font_family||""}
                @change=${e=>this._updateProperty("font_family",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,p.kg)("editor.design.default_option",ye," Default ")}
                </option>
                <option value="Arial, sans-serif">Arial</option>
                <option value="Helvetica, sans-serif">Helvetica</option>
                <option value="Times New Roman, serif">Times New Roman</option>
                <option value="Georgia, serif">Georgia</option>
                <option value="Verdana, sans-serif">Verdana</option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.font_weight",ye,"Font Weight")}:</label>
              <select
                .value=${this.designProperties.font_weight||""}
                @change=${e=>this._updateProperty("font_weight",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,p.kg)("editor.design.default_option",ye," Default ")}
                </option>
                <option value="100">
                  ${(0,p.kg)("editor.design.weight_thin",ye,"100 - Thin")}
                </option>
                <option value="300">
                  ${(0,p.kg)("editor.design.weight_light",ye,"300 - Light")}
                </option>
                <option value="400">
                  ${(0,p.kg)("editor.design.weight_normal",ye,"400 - Normal")}
                </option>
                <option value="500">
                  ${(0,p.kg)("editor.design.weight_medium",ye,"500 - Medium")}
                </option>
                <option value="600">
                  ${(0,p.kg)("editor.design.weight_semi_bold",ye,"600 - Semi Bold")}
                </option>
                <option value="700">
                  ${(0,p.kg)("editor.design.weight_bold",ye,"700 - Bold")}
                </option>
                <option value="900">
                  ${(0,p.kg)("editor.design.weight_black",ye,"900 - Black")}
                </option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.text_transform",ye,"Text Transform")}:</label>
              <select
                .value=${this.designProperties.text_transform||""}
                @change=${e=>this._updateProperty("text_transform",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,p.kg)("editor.design.default_option",ye," Default ")}
                </option>
                <option value="none">
                  ${(0,p.kg)("editor.design.transform_none",ye,"None")}
                </option>
                <option value="uppercase">
                  ${(0,p.kg)("editor.design.transform_uppercase",ye,"UPPERCASE")}
                </option>
                <option value="lowercase">
                  ${(0,p.kg)("editor.design.transform_lowercase",ye,"lowercase")}
                </option>
                <option value="capitalize">
                  ${(0,p.kg)("editor.design.transform_capitalize",ye,"Capitalize")}
                </option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.font_style",ye,"Font Style")}:</label>
              <select
                .value=${this.designProperties.font_style||""}
                @change=${e=>this._updateProperty("font_style",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,p.kg)("editor.design.default_option",ye," Default ")}
                </option>
                <option value="normal">
                  ${(0,p.kg)("editor.design.style_normal",ye,"Normal")}
                </option>
                <option value="italic">
                  ${(0,p.kg)("editor.design.style_italic",ye,"Italic")}
                </option>
                <option value="oblique">
                  ${(0,p.kg)("editor.design.style_oblique",ye,"Oblique")}
                </option>
              </select>
            </div>
          `,"text")}
        ${this._renderAccordion((0,p.kg)("editor.design.background_section",ye,"Background"),a.qy`
            <div class="property-group">
              <ultra-color-picker
                .label=${(0,p.kg)("editor.design.background_color",ye,"Background Color")}
                .value=${this.designProperties.background_color||""}
                .defaultValue=${"transparent"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("background_color",e.detail.value)}
              ></ultra-color-picker>
            </div>

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.background_image_type",ye,"Background Image Type")}:</label
              >
              <select
                .value=${this.designProperties.background_image_type||"none"}
                @change=${e=>this._updateProperty("background_image_type",e.target.value)}
                class="property-select"
              >
                <option value="none">${(0,p.kg)("editor.design.bg_none",ye,"None")}</option>
                <option value="upload">
                  ${(0,p.kg)("editor.design.bg_upload",ye,"Upload Image")}
                </option>
                <option value="entity">
                  ${(0,p.kg)("editor.design.bg_entity",ye,"Entity Image")}
                </option>
                <option value="url">${(0,p.kg)("editor.design.bg_url",ye,"Image URL")}</option>
              </select>
            </div>

            ${"upload"===this.designProperties.background_image_type?a.qy`
                  <div class="property-group">
                    <label
                      >${(0,p.kg)("editor.design.upload_bg_image",ye,"Upload Background Image")}:</label
                    >
                    <div class="upload-container">
                      <div class="file-upload-row">
                        <label class="file-upload-button">
                          <div class="button-content">
                            <ha-icon icon="mdi:upload"></ha-icon>
                            <span class="button-label"
                              >${(0,p.kg)("editor.design.choose_file",ye,"Choose File")}</span
                            >
                          </div>
                          <input
                            type="file"
                            accept="image/*"
                            @change=${this._handleBackgroundImageUpload}
                            style="display: none"
                          />
                        </label>
                        <div class="path-display">
                          ${this.designProperties.background_image?a.qy`<span
                                class="uploaded-path"
                                title="${this.designProperties.background_image}"
                              >
                                ${this._truncatePath(this.designProperties.background_image)}
                              </span>`:a.qy`<span class="no-file"
                                >${(0,p.kg)("editor.design.no_file_chosen",ye,"No file chosen")}</span
                              >`}
                        </div>
                      </div>
                    </div>
                  </div>
                `:""}
            ${"entity"===this.designProperties.background_image_type?a.qy`
                  <div class="property-group">
                    <label
                      >${(0,p.kg)("editor.design.bg_image_entity",ye,"Background Image Entity")}:</label
                    >
                    <ha-entity-picker
                      .hass=${this.hass}
                      .value=${this.designProperties.background_image_entity||""}
                      @value-changed=${e=>this._updateProperty("background_image_entity",e.detail.value)}
                      .label=${"Select entity with image attribute"}
                      allow-custom-entity
                    ></ha-entity-picker>
                  </div>
                `:""}
            ${"url"===this.designProperties.background_image_type?a.qy`
                  <div class="property-group">
                    <label
                      >${(0,p.kg)("editor.design.bg_image_url",ye,"Background Image URL")}:</label
                    >
                    <input
                      type="text"
                      .value=${this.designProperties.background_image||""}
                      @input=${e=>this._updateProperty("background_image",e.target.value)}
                      placeholder="https://example.com/image.jpg"
                      class="property-input"
                    />
                  </div>
                `:""}
            ${this.designProperties.background_image_type&&"none"!==this.designProperties.background_image_type?a.qy`
                  <div class="property-group">
                    <label>Background Size:</label>
                    <select
                      .value=${this._getBackgroundSizeDropdownValue(this.designProperties.background_size)}
                      @change=${e=>this._updateProperty("background_size",e.target.value)}
                      class="property-select"
                    >
                      <option value="cover">Cover</option>
                      <option value="contain">Contain</option>
                      <option value="auto">Auto</option>
                      <option value="custom">Custom</option>
                    </select>
                  </div>

                  ${"custom"===this._getBackgroundSizeDropdownValue(this.designProperties.background_size)?a.qy`
                        <div class="property-group">
                          <label>Custom Width:</label>
                          <input
                            type="text"
                            .value=${this._getCustomSizeValue(this.designProperties.background_size,"width")}
                            @input=${e=>{const t=e.target.value,i=this._getCustomSizeValue(this.designProperties.background_size,"height"),o=t&&i?`${t} ${i}`:t||i||"auto";this._updateProperty("background_size",o)}}
                            placeholder="100px, 50%, auto"
                            class="property-input"
                          />
                        </div>
                        <div class="property-group">
                          <label>Custom Height:</label>
                          <input
                            type="text"
                            .value=${this._getCustomSizeValue(this.designProperties.background_size,"height")}
                            @input=${e=>{const t=e.target.value,i=this._getCustomSizeValue(this.designProperties.background_size,"width"),o=i&&t?`${i} ${t}`:i||t||"auto";this._updateProperty("background_size",o)}}
                            placeholder="100px, 50%, auto"
                            class="property-input"
                          />
                        </div>
                      `:""}

                  <div class="property-group">
                    <label>Background Repeat:</label>
                    <select
                      .value=${this.designProperties.background_repeat||"no-repeat"}
                      @change=${e=>this._updateProperty("background_repeat",e.target.value)}
                      class="property-select"
                    >
                      <option value="no-repeat">No Repeat</option>
                      <option value="repeat">Repeat</option>
                      <option value="repeat-x">Repeat X</option>
                      <option value="repeat-y">Repeat Y</option>
                    </select>
                  </div>

                  <div class="property-group">
                    <label>Background Position:</label>
                    <select
                      .value=${this.designProperties.background_position||"center center"}
                      @change=${e=>this._updateProperty("background_position",e.target.value)}
                      class="property-select"
                    >
                      <option value="left top">Left Top</option>
                      <option value="left center">Left Center</option>
                      <option value="left bottom">Left Bottom</option>
                      <option value="center top">Center Top</option>
                      <option value="center center">Center</option>
                      <option value="center bottom">Center Bottom</option>
                      <option value="right top">Right Top</option>
                      <option value="right center">Right Center</option>
                      <option value="right bottom">Right Bottom</option>
                    </select>
                  </div>
                `:""}

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.backdrop_filter",(null===(o=null===(i=this.hass)||void 0===i?void 0:i.locale)||void 0===o?void 0:o.language)||"en","Backdrop Filter")}:</label
              >
              <input
                type="text"
                .value=${this.designProperties.backdrop_filter||""}
                @input=${e=>this._updateProperty("backdrop_filter",e.target.value)}
                placeholder="blur(10px), grayscale(100%), invert(75%)"
                class="property-input"
              />
            </div>
          `,"background")}
        ${this._renderAccordion((0,p.kg)("editor.design.sizes_section",ye,"Sizes"),a.qy`
            <div class="property-group">
              <label>${(0,p.kg)("editor.design.width",ye,"Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.width||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("width",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.width||"",(e=>this._updateProperty("width",e)))}
                  placeholder="auto (default), 200px, 100%, 14rem, 10vw"
                  autocomplete="off"
                  autocorrect="off"
                  autocapitalize="off"
                  spellcheck="false"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("width","")}
                  title="Reset width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.height",ye,"Height")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.height||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("height",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.height||"",(e=>this._updateProperty("height",e)))}
                  placeholder="auto (default), 200px, 15rem, 10vh"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("height","")}
                  title="Reset height to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.max_width",ye,"Max Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.max_width||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("max_width",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.max_width||"",(e=>this._updateProperty("max_width",e)))}
                  placeholder="200px, 100%, 14rem, 10vw"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("max_width","")}
                  title="Reset max width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.max_height",ye,"Max Height")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.max_height||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("max_height",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  placeholder="200px, 15rem, 10vh"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("max_height","")}
                  title="Reset max height to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.min_width",ye,"Min Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.min_width||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("min_width",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  placeholder="200px, 100%, 14rem, 10vw"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("min_width","")}
                  title="Reset min width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.min_height",ye,"Min Height")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.min_height||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("min_height",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  placeholder="200px, 15rem, 10vh"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("min_height","")}
                  title="Reset min height to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>
          `,"sizes")}
        ${this._renderAccordion((0,p.kg)("editor.design.spacing_section",ye,"Spacing"),a.qy`
            <div class="spacing-group">
              <div class="spacing-header">
                <h4>
                  ${(0,p.kg)("editor.design.margin",(null===(r=null===(n=this.hass)||void 0===n?void 0:n.locale)||void 0===r?void 0:r.language)||"en","Margin")}
                </h4>
                <button
                  type="button"
                  class="lock-button ${this._marginLocked?"locked":""}"
                  @click=${()=>this._toggleSpacingLock("margin")}
                  title="${this._marginLocked?"Unlock to edit sides independently":"Lock to edit all sides together"}"
                >
                  <ha-icon icon="${this._marginLocked?"mdi:lock":"mdi:lock-open"}"></ha-icon>
                </button>
              </div>
              <div class="spacing-fields-desktop">
                <div class="spacing-field">
                  <label>Top</label>
                  <input
                    type="text"
                    placeholder="8px, auto, 1rem"
                    .value=${this.designProperties.margin_top||""}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("margin","top",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("margin_top",(()=>this.designProperties.margin_top||""),(e=>this._updateSpacing("margin","top",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Right</label>
                  <input
                    type="text"
                    placeholder="0px, auto, 1rem"
                    .value=${this._marginLocked?this.designProperties.margin_top||"":this.designProperties.margin_right||""}
                    .disabled=${this._marginLocked}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("margin","right",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("margin_right",(()=>this.designProperties.margin_right||""),(e=>this._updateSpacing("margin","right",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input ${this._marginLocked?"locked":""}"
                  />
                </div>
                <div class="spacing-field">
                  <label>Bottom</label>
                  <input
                    type="text"
                    placeholder="8px, auto, 1rem"
                    .value=${this._marginLocked?this.designProperties.margin_top||"":this.designProperties.margin_bottom||""}
                    .disabled=${this._marginLocked}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("margin","bottom",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("margin_bottom",(()=>this.designProperties.margin_bottom||""),(e=>this._updateSpacing("margin","bottom",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input ${this._marginLocked?"locked":""}"
                  />
                </div>
                <div class="spacing-field">
                  <label>Left</label>
                  <input
                    type="text"
                    placeholder="0px, auto, 1rem"
                    .value=${this._marginLocked?this.designProperties.margin_top||"":this.designProperties.margin_left||""}
                    .disabled=${this._marginLocked}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("margin","left",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("margin_left",(()=>this.designProperties.margin_left||""),(e=>this._updateSpacing("margin","left",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input ${this._marginLocked?"locked":""}"
                  />
                </div>
              </div>
            </div>

            <div class="spacing-group">
              <div class="spacing-header">
                <h4>Padding</h4>
                <button
                  type="button"
                  class="lock-button ${this._paddingLocked?"locked":""}"
                  @click=${()=>this._toggleSpacingLock("padding")}
                  title="${this._paddingLocked?"Unlock to edit sides independently":"Lock to edit all sides together"}"
                >
                  <ha-icon icon="${this._paddingLocked?"mdi:lock":"mdi:lock-open"}"></ha-icon>
                </button>
              </div>
              <div class="spacing-fields-desktop">
                <div class="spacing-field">
                  <label>Top</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this.designProperties.padding_top||""}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("padding","top",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("padding_top",(()=>this.designProperties.padding_top||""),(e=>this._updateSpacing("padding","top",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input"
                  />
                </div>
                <div class="spacing-field">
                  <label>Right</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this._paddingLocked?this.designProperties.padding_top||"":this.designProperties.padding_right||""}
                    .disabled=${this._paddingLocked}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("padding","right",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("padding_right",(()=>this.designProperties.padding_right||""),(e=>this._updateSpacing("padding","right",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input ${this._paddingLocked?"locked":""}"
                  />
                </div>
                <div class="spacing-field">
                  <label>Bottom</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this._paddingLocked?this.designProperties.padding_top||"":this.designProperties.padding_bottom||""}
                    .disabled=${this._paddingLocked}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("padding","bottom",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("padding_bottom",(()=>this.designProperties.padding_bottom||""),(e=>this._updateSpacing("padding","bottom",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input ${this._paddingLocked?"locked":""}"
                  />
                </div>
                <div class="spacing-field">
                  <label>Left</label>
                  <input
                    type="text"
                    placeholder="0px, 1rem, 5%"
                    .value=${this._paddingLocked?this.designProperties.padding_top||"":this.designProperties.padding_left||""}
                    .disabled=${this._paddingLocked}
                    @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateSpacing("padding","left",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                    @keydown=${this._createProtectedKeydownHandler("padding_left",(()=>this.designProperties.padding_left||""),(e=>this._updateSpacing("padding","left",e)))}
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="off"
                    spellcheck="false"
                    class="spacing-input ${this._paddingLocked?"locked":""}"
                  />
                </div>
              </div>
            </div>
          `,"spacing")}
        ${this._renderAccordion((0,p.kg)("editor.design.border_section",ye,"Border"),a.qy`
            <div class="property-group">
              <label>${(0,p.kg)("editor.design.border_radius",ye,"Border Radius")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.border_radius||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("border_radius",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.border_radius||"",(e=>this._updateProperty("border_radius",e)))}
                  placeholder="5px, 50%, 0.3em, 12px 0"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("border_radius","")}
                  title="Reset border radius to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.border_style",ye,"Border Style")}:</label>
              <select
                .value=${this.designProperties.border_style||""}
                @change=${e=>this._updateProperty("border_style",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,p.kg)("editor.design.border_style_none",(null===(l=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===l?void 0:l.language)||"en","None")}
                </option>
                <option value="solid">
                  ${(0,p.kg)("editor.design.border_style_solid",(null===(c=null===(d=this.hass)||void 0===d?void 0:d.locale)||void 0===c?void 0:c.language)||"en","Solid")}
                </option>
                <option value="dashed">
                  ${(0,p.kg)("editor.design.border_style_dashed",(null===(g=null===(u=this.hass)||void 0===u?void 0:u.locale)||void 0===g?void 0:g.language)||"en","Dashed")}
                </option>
                <option value="dotted">
                  ${(0,p.kg)("editor.design.border_style_dotted",(null===(h=null===(m=this.hass)||void 0===m?void 0:m.locale)||void 0===h?void 0:h.language)||"en","Dotted")}
                </option>
                <option value="double">
                  ${(0,p.kg)("editor.design.border_style_double",(null===(v=null===(_=this.hass)||void 0===_?void 0:_.locale)||void 0===v?void 0:v.language)||"en","Double")}
                </option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.border_width",ye,"Border Width")}:</label>
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.border_width||""}
                  @input=${e=>{const t=e.target,i=t.value,o=t.selectionStart,a=t.selectionEnd;this._updateProperty("border_width",i),requestAnimationFrame((()=>{t&&"number"==typeof o&&t.setSelectionRange(o,a||o)}))}}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.border_width||"",(e=>this._updateProperty("border_width",e)))}
                  placeholder="1px, 2px, 0.125rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("border_width","")}
                  title="Reset border width to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <ultra-color-picker
                .label=${(0,p.kg)("editor.design.border_color",ye,"Border Color")}
                .value=${this.designProperties.border_color||""}
                .defaultValue=${"var(--divider-color)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("border_color",e.detail.value)}
              ></ultra-color-picker>
            </div>
          `,"border")}
        ${this._renderAccordion((0,p.kg)("editor.design.position_section",ye,"Position"),a.qy`
            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.position",(null===(b=null===(f=this.hass)||void 0===f?void 0:f.locale)||void 0===b?void 0:b.language)||"en","Position")}:</label
              >
              <select
                .value=${this.designProperties.position||""}
                @change=${e=>this._updateProperty("position",e.target.value)}
                class="property-select"
              >
                <option value="">
                  ${(0,p.kg)("editor.design.position_default",(null===(k=null===(y=this.hass)||void 0===y?void 0:y.locale)||void 0===k?void 0:k.language)||"en"," Default ")}
                </option>
                <option value="static">
                  ${(0,p.kg)("editor.design.position_static",(null===(w=null===(x=this.hass)||void 0===x?void 0:x.locale)||void 0===w?void 0:w.language)||"en","Static")}
                </option>
                <option value="relative">
                  ${(0,p.kg)("editor.design.position_relative",(null===(A=null===(S=this.hass)||void 0===S?void 0:S.locale)||void 0===A?void 0:A.language)||"en","Relative")}
                </option>
                <option value="absolute">
                  ${(0,p.kg)("editor.design.position_absolute",(null===(z=null===(C=this.hass)||void 0===C?void 0:C.locale)||void 0===z?void 0:z.language)||"en","Absolute")}
                </option>
                <option value="fixed">
                  ${(0,p.kg)("editor.design.position_fixed",(null===(I=null===(T=this.hass)||void 0===T?void 0:T.locale)||void 0===I?void 0:I.language)||"en","Fixed")}
                </option>
                <option value="sticky">
                  ${(0,p.kg)("editor.design.position_sticky",(null===($=null===(E=this.hass)||void 0===E?void 0:E.locale)||void 0===$?void 0:$.language)||"en","Sticky")}
                </option>
              </select>
            </div>

            ${this.designProperties.position&&"static"!==this.designProperties.position?a.qy`
                  <div class="position-grid">
                    <input
                      type="text"
                      placeholder="Top"
                      .value=${this.designProperties.top||""}
                      @input=${e=>this._updateProperty("top",e.target.value)}
                      @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.top||"",(e=>this._updateProperty("top",e)))}
                    />
                    <div class="position-row">
                      <input
                        type="text"
                        placeholder="Left"
                        .value=${this.designProperties.left||""}
                        @input=${e=>this._updateProperty("left",e.target.value)}
                        @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.left||"",(e=>this._updateProperty("left",e)))}
                      />
                      <div class="position-center">POS</div>
                      <input
                        type="text"
                        placeholder="Right"
                        .value=${this.designProperties.right||""}
                        @input=${e=>this._updateProperty("right",e.target.value)}
                        @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.right||"",(e=>this._updateProperty("right",e)))}
                      />
                    </div>
                    <input
                      type="text"
                      placeholder="Bottom"
                      .value=${this.designProperties.bottom||""}
                      @input=${e=>this._updateProperty("bottom",e.target.value)}
                      @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.bottom||"",(e=>this._updateProperty("bottom",e)))}
                    />
                  </div>

                  <div class="property-group">
                    <label>Z-Index:</label>
                    <input
                      type="text"
                      .value=${this.designProperties.z_index||""}
                      @input=${e=>this._updateProperty("z_index",e.target.value)}
                      @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.z_index||"",(e=>this._updateProperty("z_index",e)))}
                      placeholder="-1, 1, 3, 50"
                      class="property-input"
                    />
                  </div>
                `:""}
          `,"position")}
        ${this._renderAccordion((0,p.kg)("editor.design.text_shadow_section",ye,"Text Shadow"),a.qy`
            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.horizontal_shift",(null===(j=null===(P=this.hass)||void 0===P?void 0:P.locale)||void 0===j?void 0:j.language)||"en","Horizontal Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.text_shadow_h||""}
                  @input=${this._createRobustInputHandler("text_shadow_h",(e=>this._updateProperty("text_shadow_h",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.text_shadow_h||"",(e=>this._updateProperty("text_shadow_h",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("text_shadow_h","")}
                  title="Reset horizontal shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.vertical_shift",(null===(D=null===(B=this.hass)||void 0===B?void 0:B.locale)||void 0===D?void 0:D.language)||"en","Vertical Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.text_shadow_v||""}
                  @input=${this._createRobustInputHandler("text_shadow_v",(e=>this._updateProperty("text_shadow_v",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.text_shadow_v||"",(e=>this._updateProperty("text_shadow_v",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("text_shadow_v","")}
                  title="Reset vertical shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.blur",(null===(J=null===(O=this.hass)||void 0===O?void 0:O.locale)||void 0===J?void 0:J.language)||"en","Blur")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.text_shadow_blur||""}
                  @input=${e=>this._updateProperty("text_shadow_blur",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.text_shadow_blur||"",(e=>this._updateProperty("text_shadow_blur",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("text_shadow_blur","")}
                  title="Reset shadow blur to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <ultra-color-picker
                .label=${(0,p.kg)("editor.design.text_shadow_color",ye,"Text Shadow Color")}
                .value=${this.designProperties.text_shadow_color||""}
                .defaultValue=${"rgba(0,0,0,0.5)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("text_shadow_color",e.detail.value)}
              ></ultra-color-picker>
            </div>
          `,"text-shadow")}
        ${this._renderAccordion((0,p.kg)("editor.design.box_shadow_section",ye,"Box Shadow"),a.qy`
            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.horizontal_shift",(null===(U=null===(R=this.hass)||void 0===R?void 0:R.locale)||void 0===U?void 0:U.language)||"en","Horizontal Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_h||""}
                  @input=${this._createRobustInputHandler("box_shadow_h",(e=>this._updateProperty("box_shadow_h",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_h||"",(e=>this._updateProperty("box_shadow_h",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_h","")}
                  title="Reset horizontal box shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.vertical_shift",(null===(H=null===(M=this.hass)||void 0===M?void 0:M.locale)||void 0===H?void 0:H.language)||"en","Vertical Shift")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_v||""}
                  @input=${this._createRobustInputHandler("box_shadow_v",(e=>this._updateProperty("box_shadow_v",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_v||"",(e=>this._updateProperty("box_shadow_v",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_v","")}
                  title="Reset vertical box shadow to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.blur",(null===(L=null===(N=this.hass)||void 0===N?void 0:N.locale)||void 0===L?void 0:L.language)||"en","Blur")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_blur||""}
                  @input=${e=>this._updateProperty("box_shadow_blur",e.target.value)}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_blur||"",(e=>this._updateProperty("box_shadow_blur",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_blur","")}
                  title="Reset box shadow blur to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <label
                >${(0,p.kg)("editor.design.spread",(null===(K=null===(F=this.hass)||void 0===F?void 0:F.locale)||void 0===K?void 0:K.language)||"en","Spread")}:</label
              >
              <div class="input-with-reset">
                <input
                  type="text"
                  .value=${this.designProperties.box_shadow_spread||""}
                  @input=${this._createRobustInputHandler("box_shadow_spread",(e=>this._updateProperty("box_shadow_spread",e)))}
                  @keydown=${e=>this._handleNumericKeydown(e,this.designProperties.box_shadow_spread||"",(e=>this._updateProperty("box_shadow_spread",e)))}
                  placeholder="0, 3px, 0.05em, 2rem"
                  class="property-input"
                />
                <button
                  class="reset-btn"
                  @click=${()=>this._updateProperty("box_shadow_spread","")}
                  title="Reset box shadow spread to default"
                >
                  <ha-icon icon="mdi:refresh"></ha-icon>
                </button>
              </div>
            </div>

            <div class="property-group">
              <ultra-color-picker
                .label=${(0,p.kg)("editor.design.box_shadow_color",ye,"Box Shadow Color")}
                .value=${this.designProperties.box_shadow_color||""}
                .defaultValue=${"rgba(0,0,0,0.1)"}
                .hass=${this.hass}
                @value-changed=${e=>this._updateProperty("box_shadow_color",e.detail.value)}
              ></ultra-color-picker>
            </div>
          `,"box-shadow")}
        ${this._renderAccordion((0,p.kg)("editor.design.overflow_section",ye,"Overflow"),a.qy`
            <div class="property-group">
              <label>${(0,p.kg)("editor.design.overflow",ye,"Overflow")}:</label>
              <select
                .value=${this.designProperties.overflow||"visible"}
                @change=${e=>this._updateProperty("overflow",e.target.value)}
                class="property-select"
              >
                <option value="visible">Visible (Default)</option>
                <option value="hidden">Hidden</option>
                <option value="scroll">Scroll</option>
                <option value="auto">Auto</option>
              </select>
            </div>

            <div class="property-group">
              <label>${(0,p.kg)("editor.design.clip_path",ye,"Clip-path")}:</label>
              <input
                type="text"
                .value=${this.designProperties.clip_path||""}
                @input=${e=>this._updateProperty("clip_path",e.target.value)}
                placeholder="ellipse(75% 100% at bottom)"
                class="property-input"
              />
              <small class="property-hint"
                >Examples:<br />
                ellipse(75% 100% at bottom)<br />
                polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%)<br />
                polygon(100% 50%, 75% 93.3%, 25% 93.3%, 0% 50%, 25% 6.7%, 75% 6.7%)
              </small>
            </div>
          `,"overflow")}
        ${this._renderAccordion((0,p.kg)("editor.design.animations_section",ye,"Animations"),a.qy`
            <!-- State-based Animation -->
            <div class="property-section">
              <h5>
                ${(0,p.kg)("editor.design.state_based_animation",(null===(q=null===(V=this.hass)||void 0===V?void 0:V.locale)||void 0===q?void 0:q.language)||"en","State-based Animation")}
              </h5>
              <div class="property-group">
                <label
                  >${(0,p.kg)("editor.design.animation_type",(null===(G=null===(Q=this.hass)||void 0===Q?void 0:Q.locale)||void 0===G?void 0:G.language)||"en","Animation Type")}:</label
                >
                <select
                  .value=${this.designProperties.animation_type||"none"}
                  @change=${e=>this._updateProperty("animation_type",e.target.value)}
                  class="property-select"
                >
                  <option value="none">
                    ${(0,p.kg)("editor.design.none",(null===(W=null===(Y=this.hass)||void 0===Y?void 0:Y.locale)||void 0===W?void 0:W.language)||"en","None")}
                  </option>
                  <option value="pulse">Pulse</option>
                  <option value="vibrate">Vibrate</option>
                  <option value="rotate-left">Rotate Left</option>
                  <option value="rotate-right">Rotate Right</option>
                  <option value="hover">Hover</option>
                  <option value="fade">Fade</option>
                  <option value="scale">Scale</option>
                  <option value="bounce">Bounce</option>
                  <option value="shake">Shake</option>
                  <option value="tada">Tada</option>
                </select>
              </div>

              <div class="property-group">
                <label
                  >${(0,p.kg)("editor.design.animation_duration",(null===(X=null===(Z=this.hass)||void 0===Z?void 0:Z.locale)||void 0===X?void 0:X.language)||"en","Animation Duration")}:</label
                >
                <input
                  type="text"
                  .value=${this.designProperties.animation_duration||"2s"}
                  @input=${e=>this._updateProperty("animation_duration",e.target.value)}
                  placeholder="2s, 500ms, 1.5s"
                  class="property-input"
                />
                <small class="property-hint">
                  ${(0,p.kg)("editor.design.animation_duration_desc",(null===(te=null===(ee=this.hass)||void 0===ee?void 0:ee.locale)||void 0===te?void 0:te.language)||"en","Duration for the animation (e.g., 2s, 500ms, 1.5s)")}
                </small>
              </div>

              ${this.designProperties.animation_type&&"none"!==this.designProperties.animation_type?a.qy`
                    <div class="property-group">
                      <label>Entity to Monitor:</label>
                      <ha-form
                        .hass=${this.hass}
                        .data=${{entity:this.designProperties.animation_entity||""}}
                        .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
                        @value-changed=${e=>this._updateProperty("animation_entity",e.detail.value.entity)}
                      ></ha-form>
                    </div>

                    ${this.designProperties.animation_entity?a.qy`
                          <div class="property-group">
                            <label>Animation Trigger Type:</label>
                            <select
                              id="animation-trigger-type-select"
                              .value=${this.designProperties.animation_trigger_type||"state"}
                              @change=${e=>{const t={animation_trigger_type:e.target.value,animation_state:"",animation_attribute:""};this.onUpdate?this.onUpdate(t):this.dispatchEvent(new CustomEvent("design-changed",{detail:t,bubbles:!0,composed:!0})),this.designProperties=Object.assign(Object.assign({},this.designProperties),t),this.requestUpdate()}}
                              class="property-select ${"attribute"===this.designProperties.animation_trigger_type?"attribute-mode":"state-mode"}"
                            >
                              <option value="state">Entity State</option>
                              <option value="attribute">Entity Attribute</option>
                            </select>
                            <div
                              class="trigger-type-indicator ${"attribute"===this.designProperties.animation_trigger_type?"attribute-mode-indicator":"state-mode-indicator"}"
                            >
                              <ha-icon
                                icon="${"attribute"===this.designProperties.animation_trigger_type?"mdi:format-list-checks":"mdi:state-machine"}"
                              ></ha-icon>
                              <span
                                >${"attribute"===this.designProperties.animation_trigger_type?"Attribute mode: select an attribute and its value to trigger the animation":"State mode: enter a state value to trigger the animation"}</span
                              >
                            </div>
                          </div>

                          ${(()=>"attribute"===(this.designProperties.animation_trigger_type||"state")?a.qy`
                                <div class="property-group attribute-mode-container">
                                  <div class="property-group">
                                    <label>
                                      <ha-icon icon="mdi:format-list-checks"></ha-icon>
                                      Attribute Name:
                                    </label>
                                    <input
                                      type="text"
                                      .value=${this.designProperties.animation_attribute||""}
                                      @input=${e=>{const t=e.target.value,i=e.target;i.classList.add("change-success");const o={animation_attribute:t,animation_state:""};this.onUpdate?this.onUpdate(o):this.dispatchEvent(new CustomEvent("design-changed",{detail:o,bubbles:!0,composed:!0})),setTimeout((()=>{this.requestUpdate()}),50),setTimeout((()=>{this.requestUpdate()}),150),setTimeout((()=>{this.requestUpdate()}),300),setTimeout((()=>{this.requestUpdate(),i.classList.remove("change-success")}),500)}}
                                      placeholder="friendly_name, device_class, state, etc."
                                      class="property-input attribute-mode-input"
                                    />
                                    <small class="property-hint">
                                      Enter the attribute name manually (e.g., friendly_name,
                                      device_class, state, battery_level)
                                    </small>
                                  </div>

                                  <div class="property-group">
                                    <label>
                                      <ha-icon icon="mdi:format-text"></ha-icon>
                                      Attribute Value:
                                    </label>
                                    <input
                                      type="text"
                                      .value=${this.designProperties.animation_state||""}
                                      @input=${e=>this._updateProperty("animation_state",e.target.value)}
                                      placeholder="blue, 255, heating, on, off, etc."
                                      class="property-input attribute-value-input"
                                    />
                                    <small class="property-hint">
                                      Enter the attribute value that will trigger the animation
                                    </small>
                                  </div>
                                </div>
                              `:a.qy`
                                <div
                                  class="property-group state-value-container"
                                  style="display: ${"attribute"!==String(this.designProperties.animation_trigger_type)?"block !important":"none !important"}"
                                  data-mode="state"
                                >
                                  <label>
                                    <ha-icon icon="mdi:state-machine"></ha-icon>
                                    State Value:
                                  </label>
                                  <input
                                    type="text"
                                    .value=${this.designProperties.animation_state||""}
                                    @input=${e=>this._updateProperty("animation_state",e.target.value)}
                                    placeholder="on, off, playing, idle, etc."
                                    class="property-input state-value-input"
                                  />
                                  <small class="property-hint">
                                    Enter the exact state value that will trigger the animation
                                  </small>
                                  <div class="property-hint state-value-hint">
                                    <ha-icon icon="mdi:information-outline"></ha-icon>
                                    <span>
                                      ${this._getStateValueHint(this.designProperties.animation_entity)}
                                    </span>
                                  </div>
                                </div>
                              `)()}
                        `:a.qy`
                          <div class="property-group">
                            <label>Trigger Type:</label>
                            <select disabled class="property-select">
                              <option>Select an entity first</option>
                            </select>
                            <small class="property-hint">
                              Select an entity first to configure trigger conditions
                            </small>
                          </div>
                        `}
                  `:""}
            </div>

            <!-- Intro/Outro Animations -->
            <div class="property-section">
              <h5>
                ${(0,p.kg)("editor.design.intro_outro_animations",(null===(oe=null===(ie=this.hass)||void 0===ie?void 0:ie.locale)||void 0===oe?void 0:oe.language)||"en","Intro & Outro Animations")}
              </h5>
              <div class="two-column-grid">
                <div class="property-group">
                  <label
                    >${(0,p.kg)("editor.design.intro_animation",(null===(ne=null===(ae=this.hass)||void 0===ae?void 0:ae.locale)||void 0===ne?void 0:ne.language)||"en","Intro Animation")}:</label
                  >
                  <select
                    .value=${this.designProperties.intro_animation||"none"}
                    @change=${e=>this._updateProperty("intro_animation",e.target.value)}
                    class="property-select"
                  >
                    <option value="none">
                      ${(0,p.kg)("editor.design.none",(null===(se=null===(re=this.hass)||void 0===re?void 0:re.locale)||void 0===se?void 0:se.language)||"en","None")}
                    </option>
                    <option value="fadeIn">Fade In</option>
                    <option value="slideInUp">Slide In Up</option>
                    <option value="slideInDown">Slide In Down</option>
                    <option value="slideInLeft">Slide In Left</option>
                    <option value="slideInRight">Slide In Right</option>
                    <option value="zoomIn">Zoom In</option>
                    <option value="bounceIn">Bounce In</option>
                    <option value="flipInX">Flip In X</option>
                    <option value="flipInY">Flip In Y</option>
                    <option value="rotateIn">Rotate In</option>
                  </select>
                </div>

                <div class="property-group">
                  <label
                    >${(0,p.kg)("editor.design.outro_animation",(null===(de=null===(le=this.hass)||void 0===le?void 0:le.locale)||void 0===de?void 0:de.language)||"en","Outro Animation")}:</label
                  >
                  <select
                    .value=${this.designProperties.outro_animation||"none"}
                    @change=${e=>this._updateProperty("outro_animation",e.target.value)}
                    class="property-select"
                  >
                    <option value="none">
                      ${(0,p.kg)("editor.design.none",(null===(pe=null===(ce=this.hass)||void 0===ce?void 0:ce.locale)||void 0===pe?void 0:pe.language)||"en","None")}
                    </option>
                    <option value="fadeOut">Fade Out</option>
                    <option value="slideOutUp">Slide Out Up</option>
                    <option value="slideOutDown">Slide Out Down</option>
                    <option value="slideOutLeft">Slide Out Left</option>
                    <option value="slideOutRight">Slide Out Right</option>
                    <option value="zoomOut">Zoom Out</option>
                    <option value="bounceOut">Bounce Out</option>
                    <option value="flipOutX">Flip Out X</option>
                    <option value="flipOutY">Flip Out Y</option>
                    <option value="rotateOut">Rotate Out</option>
                  </select>
                </div>
              </div>

              <!-- Animation Settings -->
              <div class="three-column-grid">
                <div class="property-group">
                  <label
                    >${(0,p.kg)("editor.design.duration",(null===(ge=null===(ue=this.hass)||void 0===ue?void 0:ue.locale)||void 0===ge?void 0:ge.language)||"en","Duration")}:</label
                  >
                  <input
                    type="text"
                    .value=${this.designProperties.animation_duration||""}
                    @input=${e=>this._updateProperty("animation_duration",e.target.value)}
                    placeholder="0.3s, 500ms"
                    class="property-input"
                  />
                </div>

                <div class="property-group">
                  <label
                    >${(0,p.kg)("editor.design.delay",(null===(he=null===(me=this.hass)||void 0===me?void 0:me.locale)||void 0===he?void 0:he.language)||"en","Delay")}:</label
                  >
                  <input
                    type="text"
                    .value=${this.designProperties.animation_delay||""}
                    @input=${e=>this._updateProperty("animation_delay",e.target.value)}
                    placeholder="0s, 100ms"
                    class="property-input"
                  />
                </div>

                <div class="property-group">
                  <label
                    >${(0,p.kg)("editor.design.timing",(null===(ve=null===(_e=this.hass)||void 0===_e?void 0:_e.locale)||void 0===ve?void 0:ve.language)||"en","Timing")}:</label
                  >
                  <select
                    .value=${this.designProperties.animation_timing||"ease"}
                    @change=${e=>this._updateProperty("animation_timing",e.target.value)}
                    class="property-select"
                  >
                    <option value="ease">
                      ${(0,p.kg)("editor.design.ease",(null===(be=null===(fe=this.hass)||void 0===fe?void 0:fe.locale)||void 0===be?void 0:be.language)||"en","Ease")}
                    </option>
                    <option value="linear">Linear</option>
                    <option value="ease-in">Ease In</option>
                    <option value="ease-out">Ease Out</option>
                    <option value="ease-in-out">Ease In Out</option>
                    <option value="cubic-bezier(0.25,0.1,0.25,1)">Custom Cubic</option>
                  </select>
                </div>
              </div>
            </div>
          `,"animations")}
      </div>
    `}static get styles(){return a.AH`
      .global-design-tab {
        display: flex;
        flex-direction: column;
        gap: 8px;
        box-sizing: border-box;
        overflow: hidden;
      }

      .design-toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        margin-bottom: 8px;
        box-sizing: border-box;
        overflow: hidden;
      }

      .toolbar-button {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 14px;
        font-weight: 500;
        min-width: 0;
        flex: 1;
        justify-content: center;
      }

      .toolbar-button:hover:not(:disabled) {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .toolbar-button:active:not(:disabled) {
        transform: translateY(0);
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .toolbar-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: var(--disabled-background-color, #f5f5f5);
        color: var(--disabled-text-color, #999);
        border-color: var(--disabled-border-color, #ddd);
      }

      .toolbar-button ha-icon {
        font-size: 16px;
        flex-shrink: 0;
      }

      .toolbar-button span {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* Specific button styling */
      .copy-button:hover:not(:disabled) {
        border-color: var(--info-color, #2196f3);
        background: var(--info-color, #2196f3);
      }

      .paste-button.has-content {
        border-color: var(--success-color, #4caf50);
        background: rgba(76, 175, 80, 0.1);
      }

      .paste-button.has-content:hover:not(:disabled) {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
      }

      .reset-all-button:hover:not(:disabled) {
        border-color: var(--error-color, #f44336);
        background: var(--error-color, #f44336);
      }

      /* Responsive design for smaller screens */
      @media (max-width: 768px) {
        .design-toolbar {
          flex-direction: column;
          gap: 8px;
        }

        .toolbar-button {
          width: 100%;
          justify-content: center;
        }
      }

      @media (max-width: 480px) {
        .toolbar-button span {
          display: none;
        }

        .toolbar-button {
          min-width: 44px;
          padding: 8px;
          justify-content: center;
        }

        .design-toolbar {
          flex-direction: row;
          justify-content: space-around;
        }
      }

      .accordion-section {
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        overflow: hidden;
        box-sizing: border-box;
      }

      .accordion-header {
        width: 100%;
        padding: 12px 16px;
        background: var(--secondary-background-color);
        border: none;
        border-radius: 8px 8px 0 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 500;
        color: var(--primary-text-color);
        transition: background-color 0.2s ease;
        box-sizing: border-box;
      }

      .accordion-header:hover {
        background: var(--primary-color);
        color: white;
      }

      .accordion-header.expanded {
        background: var(--primary-color);
        color: white;
        border-radius: 8px 8px 0 0;
      }

      .accordion-header:not(.expanded) {
        border-radius: 8px;
      }

      .accordion-toggle {
        background: none;
        border: none;
        color: inherit;
        font: inherit;
        cursor: pointer;
        display: flex;
        align-items: center;
        flex: 1;
        text-align: left;
        padding: 0;
      }

      .accordion-actions {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .reset-button,
      .expand-button {
        background: none;
        border: none;
        color: inherit;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s ease;
        min-width: 24px;
        height: 24px;
      }

      .reset-button:hover,
      .expand-button:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .accordion-header:not(.expanded) .reset-button:hover,
      .accordion-header:not(.expanded) .expand-button:hover {
        background: rgba(0, 0, 0, 0.1);
      }

      .accordion-title {
        position: relative;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .edit-indicator {
        width: 8px;
        height: 8px;
        background: var(--primary-color);
        border-radius: 50%;
        display: inline-block;
        animation: pulse 2s ease-in-out infinite;
      }

      .accordion-header.expanded .edit-indicator {
        background: white;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.6;
        }
      }

      .accordion-content {
        padding: 20px;
        background: var(--card-background-color, #fff);
        border-top: 1px solid var(--divider-color);
        border-radius: 0 0 8px 8px;
        position: relative;
        box-sizing: border-box;
        overflow: hidden;
      }

      .property-group {
        margin-bottom: 16px;
        box-sizing: border-box;
        overflow: hidden;
      }

      .property-group:last-child {
        margin-bottom: 0;
      }

      .property-group label {
        display: block;
        font-weight: 500;
        margin-bottom: 4px;
        color: var(--primary-text-color);
      }

      .property-input,
      .property-select {
        width: 100%;
        padding: 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
        max-width: 100%;
      }

      .property-input:focus,
      .property-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .property-hint {
        display: block;
        font-size: 11px;
        color: var(--secondary-text-color);
        margin-top: 4px;
        line-height: 1.3;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: var(--secondary-text-color);
        cursor: pointer;
      }

      .button-group {
        display: flex;
        gap: 4px;
      }

      .property-btn {
        flex: 1;
        padding: 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .property-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .property-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .spacing-group {
        margin-bottom: 20px;
      }

      .spacing-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
      }

      .spacing-group h4 {
        margin: 0;
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .lock-button {
        padding: 6px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 32px;
        height: 32px;
      }

      .lock-button:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .lock-button.locked {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .spacing-fields-desktop {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
      }

      .spacing-field {
        display: flex;
        flex-direction: column;
      }

      .spacing-field label {
        font-size: 12px;
        font-weight: 500;
        color: var(--secondary-text-color);
        margin-bottom: 4px;
        text-align: center;
      }

      .spacing-input {
        width: 100%;
        padding: 6px 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 12px;
        text-align: center;
        box-sizing: border-box;
        max-width: 100%;
      }

      .spacing-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .spacing-input.locked {
        background: var(--disabled-color);
        color: var(--secondary-text-color);
        cursor: not-allowed;
        opacity: 0.6;
      }

      .spacing-input.locked:focus {
        border-color: var(--divider-color);
        box-shadow: none;
      }

      @media (max-width: 768px) {
        .spacing-fields-desktop {
          grid-template-columns: 1fr 1fr;
          gap: 8px;
        }
      }

      .spacing-grid,
      .position-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
        align-items: center;
        max-width: 150px;
        margin: 0 auto;
      }

      .spacing-row,
      .position-row {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 8px;
        align-items: center;
      }

      .spacing-center,
      .position-center {
        width: 40px;
        height: 32px;
        background: var(--primary-color);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        font-weight: bold;
        font-size: 11px;
      }

      .spacing-grid input,
      .position-grid input {
        width: 100%;
        text-align: center;
        padding: 4px 8px;
        font-size: 12px;
      }

      /* Property sections */
      .property-section {
        margin-bottom: 24px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--divider-color);
      }

      .property-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }

      .property-section h5 {
        margin: 0 0 16px 0;
        font-size: 16px;
        font-weight: 600;
        color: var(--primary-text-color);
        padding-bottom: 8px;
        border-bottom: 1px solid var(--primary-color);
        display: inline-block;
      }

      /* Grid layouts */
      .two-column-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-bottom: 16px;
      }

      .three-column-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 12px;
        margin-bottom: 16px;
      }

      @media (max-width: 768px) {
        .two-column-grid,
        .three-column-grid {
          grid-template-columns: 1fr;
          gap: 12px;
        }
      }

      /* Animation keyframes for intro/outro animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      @keyframes slideInUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideOutUp {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideOutDown {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(100%);
          opacity: 0;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes zoomIn {
        from {
          transform: scale(0.3);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes zoomOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounceOut {
        20% {
          transform: scale(0.9);
        }
        50%,
        55% {
          transform: scale(1.05);
          opacity: 1;
        }
        100% {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes flipInX {
        from {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateX(-20deg);
        }
        60% {
          transform: perspective(400px) rotateX(10deg);
        }
        80% {
          transform: perspective(400px) rotateX(-5deg);
        }
        to {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutX {
        from {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
      }

      @keyframes flipInY {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateY(-20deg);
        }
        60% {
          transform: perspective(400px) rotateY(10deg);
        }
        80% {
          transform: perspective(400px) rotateY(-5deg);
        }
        to {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutY {
        from {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
      }

      @keyframes rotateIn {
        from {
          transform: rotate(-200deg);
          opacity: 0;
        }
        to {
          transform: rotate(0deg);
          opacity: 1;
        }
      }

      @keyframes rotateOut {
        from {
          transform: rotate(0deg);
          opacity: 1;
        }
        to {
          transform: rotate(200deg);
          opacity: 0;
        }
      }

      /* Color picker z-index fix */
      ultra-color-picker {
        position: relative;
        z-index: 1000;
      }

      /* Upload button styling */
      .upload-container {
        width: 100%;
      }

      .file-upload-row {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%;
      }

      .file-upload-button {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        min-width: 120px;
      }

      .file-upload-button:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      .button-content {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .button-label {
        font-size: 14px;
        font-weight: 500;
      }

      .path-display {
        flex: 1;
        min-width: 0;
      }

      .uploaded-path {
        color: var(--primary-text-color);
        font-size: 12px;
        word-break: break-all;
      }

      .no-file {
        color: var(--secondary-text-color);
        font-size: 12px;
        font-style: italic;
      }

      /* Attribute value selection styling */
      .attribute-value-selection {
        display: flex;
        flex-direction: column;
        gap: 8px;
        position: relative;
        margin-bottom: 8px;
      }

      .attribute-value-select {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--primary-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
        appearance: menulist;
        cursor: pointer;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: all 0.2s ease;
        max-height: 200px;
        overflow-y: auto;
      }

      .attribute-value-select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
      }

      .attribute-value-select option {
        padding: 8px;
      }

      /* Enhanced attribute mode styling */
      .attribute-mode {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .attribute-mode-container {
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        padding: 12px;
        border-radius: 4px;
        border-left: 3px solid var(--primary-color);
        margin-bottom: 16px;
      }

      .trigger-type-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        margin: 8px 0;
        border-radius: 4px;
        font-weight: 500;
      }

      .attribute-mode-indicator {
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.1);
        border-left: 3px solid var(--primary-color);
        color: var(--primary-color);
      }

      .state-mode-indicator {
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.1);
        border-left: 3px solid var(--info-color, #03a9f4);
        color: var(--info-color, #03a9f4);
      }

      .attribute-mode-select {
        border-color: var(--primary-color);
      }

      .attribute-value-container {
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        padding: 16px;
        border-radius: 8px;
        border-left: 3px solid var(--primary-color);
        margin-top: 16px;
      }

      .attribute-value-container label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 8px;
      }

      .attribute-value-selection {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 12px;
        border: 1px solid var(--primary-color);
        border-radius: 4px;
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        margin-top: 8px;
      }

      .attribute-value-input {
        border-color: var(--primary-color);
        border-width: 2px;
      }

      .attribute-value-dropdown-container {
        background: white;
        padding: 12px;
        border-radius: 4px;
        border: 1px dashed var(--primary-color);
        position: relative;
        overflow: hidden;
      }

      .attribute-value-label {
        font-size: 12px;
        font-weight: 500;
        color: var(--primary-color);
        margin-bottom: 4px;
      }

      .attribute-value-hint {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        margin-top: 8px;
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.05);
        padding: 8px;
        border-radius: 4px;
      }

      /* State mode styling */
      .state-value-container {
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.05);
        padding: 16px;
        border-radius: 8px;
        border-left: 3px solid var(--info-color, #03a9f4);
        margin-top: 16px;
      }

      .state-value-container label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--info-color, #03a9f4);
        font-weight: 600;
        margin-bottom: 8px;
      }

      .state-value-selection {
        display: flex;
        flex-direction: column;
        gap: 12px;
        padding: 12px;
        border: 1px solid var(--info-color, #03a9f4);
        border-radius: 4px;
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.05);
        margin-top: 8px;
      }

      .state-value-input {
        border-color: var(--info-color, #03a9f4);
        border-width: 2px;
      }

      .state-value-dropdown-container {
        background: white;
        padding: 12px;
        border-radius: 4px;
        border: 1px dashed var(--info-color, #03a9f4);
        position: relative;
        overflow: hidden;
      }

      .state-value-label {
        font-size: 12px;
        font-weight: 500;
        color: var(--info-color, #03a9f4);
        margin-bottom: 4px;
      }

      .state-value-hint {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        margin-top: 8px;
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.05);
        padding: 8px;
        border-radius: 4px;
      }

      .state-value-hint ha-icon {
        color: var(--info-color, #03a9f4);
        flex-shrink: 0;
      }

      .attribute-value-hint ha-icon,
      .state-value-hint ha-icon {
        color: currentColor;
        flex-shrink: 0;
      }

      /* Visual feedback animations */
      @keyframes success-pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(var(--rgb-success-color, 76, 175, 80), 0.7);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(var(--rgb-success-color, 76, 175, 80), 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(var(--rgb-success-color, 76, 175, 80), 0);
        }
      }

      .change-success {
        animation: success-pulse 0.5s ease-in-out;
        border-color: var(--success-color, #4caf50) !important;
        box-shadow: 0 0 0 1px var(--success-color, #4caf50);
        transition: all 0.3s ease;
      }

      .attribute-mode-select.change-success,
      .state-mode-select.change-success {
        border-width: 2px;
      }

      .select-attribute-first {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px;
        color: var(--warning-color, #ff9800);
        font-style: italic;
        text-align: center;
        background: rgba(var(--rgb-warning-color, 255, 152, 0), 0.05);
        border: 1px dashed var(--warning-color, #ff9800);
        border-radius: 4px;
      }

      /* Mode switch animation */
      @keyframes highlight-fade {
        0% {
          background-color: rgba(var(--rgb-success-color, 76, 175, 80), 0.2);
        }
        100% {
          background-color: transparent;
        }
      }

      .trigger-type-indicator {
        animation: highlight-fade 1.5s ease-out;
      }

      /* Additional highlight animation for mode switches */
      @keyframes border-pulse {
        0% {
          border-left-width: 3px;
        }
        50% {
          border-left-width: 6px;
        }
        100% {
          border-left-width: 3px;
        }
      }

      .attribute-mode-indicator {
        animation: border-pulse 1s ease-in-out;
      }

      .state-mode-indicator {
        animation: border-pulse 1s ease-in-out;
      }

      /* Visual transitions for UI state changes */
      .property-select,
      .property-input,
      .attribute-value-select,
      .state-value-select {
        transition:
          border-color 0.3s ease,
          box-shadow 0.3s ease,
          background-color 0.3s ease;
      }

      /* Value selection feedback */
      .attribute-value-select:focus,
      .state-value-select:focus {
        border-width: 2px;
        transform: translateY(-1px);
      }

      /* Attribute mode specific animations */
      .attribute-mode-select::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(var(--rgb-primary-color, 0, 140, 255), 0.1);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .attribute-mode-select:focus::after {
        opacity: 1;
      }

      /* State mode specific animations */
      .state-value-select::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(var(--rgb-info-color, 3, 169, 244), 0.1);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .state-value-select:focus::after {
        opacity: 1;
      }

      /* Animation classes */
      .fadeIn {
        animation: fadeIn var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .fadeOut {
        animation: fadeOut var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInUp {
        animation: slideInUp var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutUp {
        animation: slideOutUp var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInDown {
        animation: slideInDown var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutDown {
        animation: slideOutDown var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInLeft {
        animation: slideInLeft var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutLeft {
        animation: slideOutLeft var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideInRight {
        animation: slideInRight var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .slideOutRight {
        animation: slideOutRight var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .zoomIn {
        animation: zoomIn var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .zoomOut {
        animation: zoomOut var(--animation-duration, 0.3s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .bounceIn {
        animation: bounceIn var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .bounceOut {
        animation: bounceOut var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipInX {
        animation: flipInX var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipOutX {
        animation: flipOutX var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipInY {
        animation: flipInY var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .flipOutY {
        animation: flipOutY var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .rotateIn {
        animation: rotateIn var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }
      .rotateOut {
        animation: rotateOut var(--animation-duration, 0.6s) var(--animation-timing, ease)
          var(--animation-delay, 0s) both;
      }

      /* Input with reset button styles */
      .input-with-reset {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
      }

      .input-with-reset .property-input {
        flex: 1;
      }

      .reset-btn {
        width: 32px;
        height: 32px;
        min-width: 32px;
        padding: 0;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .reset-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .reset-btn ha-icon {
        font-size: 16px;
      }
    `}_getBackgroundSizeDropdownValue(e){return e?["cover","contain","auto"].includes(e)?e:"custom":"cover"}_getCustomSizeValue(e,t){if(!e||["cover","contain","auto"].includes(e))return"";if("custom"===e)return"";const i=e.split(" ");return"width"===t?i[0]||"":"height"===t&&(i[1]||i[0])||""}};g.CLIPBOARD_KEY="ultra-card-design-clipboard",g._lastAnimationTriggerType=null,u([(0,n.MZ)({attribute:!1})],g.prototype,"hass",void 0),u([(0,n.MZ)({attribute:!1})],g.prototype,"designProperties",void 0),u([(0,n.MZ)({type:Function})],g.prototype,"onUpdate",void 0),u([(0,n.wk)()],g.prototype,"_expandedSections",void 0),u([(0,n.wk)()],g.prototype,"_marginLocked",void 0),u([(0,n.wk)()],g.prototype,"_paddingLocked",void 0),u([(0,n.wk)()],g.prototype,"_clipboardProperties",void 0),g=o=u([(0,n.EM)("ultra-global-design-tab")],g);var m=i(2371),h=i(6682),_=i(927),v=i(9643),f=i(7073);i(8287),i(9956),e=i.hmd(e);var b=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};const y=[{value:"default",label:" Default ",category:"default"}],k=[{value:"Montserrat",label:"Montserrat (used as default font)",category:"typography"}],x=[{value:"Georgia, serif",label:"Georgia, serif",category:"websafe"},{value:"Palatino Linotype, Book Antiqua, Palatino, serif",label:"Palatino Linotype, Book Antiqua, Palatino, serif",category:"websafe"},{value:"Times New Roman, Times, serif",label:"Times New Roman, Times, serif",category:"websafe"},{value:"Arial, Helvetica, sans-serif",label:"Arial, Helvetica, sans-serif",category:"websafe"},{value:"Impact, Charcoal, sans-serif",label:"Impact, Charcoal, sans-serif",category:"websafe"},{value:"Lucida Sans Unicode, Lucida Grande, sans-serif",label:"Lucida Sans Unicode, Lucida Grande, sans-serif",category:"websafe"},{value:"Tahoma, Geneva, sans-serif",label:"Tahoma, Geneva, sans-serif",category:"websafe"},{value:"Trebuchet MS, Helvetica, sans-serif",label:"Trebuchet MS, Helvetica, sans-serif",category:"websafe"},{value:"Verdana, Geneva, sans-serif",label:"Verdana, Geneva, sans-serif",category:"websafe"},{value:"Courier New, Courier, monospace",label:"Courier New, Courier, monospace",category:"websafe"},{value:"Lucida Console, Monaco, monospace",label:"Lucida Console, Monaco, monospace",category:"websafe"}];let w=class extends a.WF{constructor(){super(...arguments),this._showModuleSelector=!1,this._selectedRowIndex=-1,this._selectedColumnIndex=-1,this._showModuleSettings=!1,this._selectedModule=null,this._activeModuleTab="general",this._activeDesignSubtab="text",this._showRowSettings=!1,this._selectedRowForSettings=-1,this._activeRowTab="general",this._showColumnSettings=!1,this._selectedColumnForSettings=null,this._activeColumnTab="general",this._showColumnLayoutSelector=!1,this._selectedRowForLayout=-1,this._collapsedPreviewModules=new Set,this._isRowColumnPreviewCollapsed=!1,this._collapsedConditionIds=new Set,this._isPreviewPinned=!1,this._draggingCondition=null,this._activeModuleSelectorTab="modules",this._selectedPresetCategory="all",this._showFavoriteDialog=!1,this._favoriteRowToSave=null,this._showImportDialog=!1,this._openMoreMenuRowIndex=-1,this._undoStack=[],this._redoStack=[],this._maxHistorySize=50,this._isUndoRedoAction=!1,this._draggedItem=null,this._dropTarget=null,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1,this._showLayoutChildSettings=!1,this._selectedLayoutChild=null,this._popupDragState={isDragging:!1,dragStartX:0,dragStartY:0,initialX:0,initialY:0,element:null},this._popupResizeState={isResizing:!1,resizeStartX:0,resizeStartY:0,initialWidth:0,initialHeight:0,element:null},this._windowResizeListener=null,this._resizeTimeout=null,this._handlePopupDrag=e=>{if(!this._popupDragState.isDragging||!this._popupDragState.element)return;const t=e.clientX-this._popupDragState.dragStartX,i=e.clientY-this._popupDragState.dragStartY,o=this._popupDragState.initialX+t,a=this._popupDragState.initialY+i,n=window.innerWidth-this._popupDragState.element.offsetWidth,r=window.innerHeight-this._popupDragState.element.offsetHeight,s=Math.max(0,Math.min(o,n)),l=Math.max(0,Math.min(a,r));this._popupDragState.element.style.left=`${s}px`,this._popupDragState.element.style.top=`${l}px`,this._popupDragState.element.style.transform="none"},this._endPopupDrag=()=>{this._popupDragState.element&&this._popupDragState.element.classList.remove("popup-dragging"),this._popupDragState={isDragging:!1,dragStartX:0,dragStartY:0,initialX:0,initialY:0,element:null},document.removeEventListener("mousemove",this._handlePopupDrag),document.removeEventListener("mouseup",this._endPopupDrag)},this._handlePopupResize=e=>{if(!this._popupResizeState.isResizing||!this._popupResizeState.element)return;const t=e.clientX-this._popupResizeState.resizeStartX,i=e.clientY-this._popupResizeState.resizeStartY,o=this._popupResizeState.initialWidth+t,a=this._popupResizeState.initialHeight+i,n=.9*window.innerWidth,r=.9*window.innerHeight,s=Math.min(o,n),l=Math.min(a,r);this._popupResizeState.element.style.setProperty("width",`${s}px`,"important"),this._popupResizeState.element.style.setProperty("height",`${l}px`,"important")},this._endPopupResize=()=>{this._popupResizeState.element&&this._popupResizeState.element.classList.remove("popup-resizing"),this._popupResizeState={isResizing:!1,resizeStartX:0,resizeStartY:0,initialWidth:0,initialHeight:0,element:null},document.removeEventListener("mousemove",this._handlePopupResize),document.removeEventListener("mouseup",this._endPopupResize)},this.COLUMN_LAYOUTS=[{id:"1-col",name:"1",proportions:[1],columnCount:1},{id:"1-2-1-2",name:"1/2 + 1/2",proportions:[1,1],columnCount:2},{id:"1-3-2-3",name:"1/3 + 2/3",proportions:[1,2],columnCount:2},{id:"2-3-1-3",name:"2/3 + 1/3",proportions:[2,1],columnCount:2},{id:"2-5-3-5",name:"2/5 + 3/5",proportions:[2,3],columnCount:2},{id:"3-5-2-5",name:"3/5 + 2/5",proportions:[3,2],columnCount:2},{id:"1-3-1-3-1-3",name:"1/3 + 1/3 + 1/3",proportions:[1,1,1],columnCount:3},{id:"1-4-1-2-1-4",name:"1/4 + 1/2 + 1/4",proportions:[1,2,1],columnCount:3},{id:"1-5-3-5-1-5",name:"1/5 + 3/5 + 1/5",proportions:[1,3,1],columnCount:3},{id:"1-6-2-3-1-6",name:"1/6 + 2/3 + 1/6",proportions:[1,4,1],columnCount:3},{id:"1-4-1-4-1-4-1-4",name:"1/4 + 1/4 + 1/4 + 1/4",proportions:[1,1,1,1],columnCount:4},{id:"1-5-1-5-1-5-1-5",name:"1/5 + 1/5 + 1/5 + 1/5",proportions:[1,1,1,1],columnCount:4},{id:"1-6-1-6-1-6-1-6",name:"1/6 + 1/6 + 1/6 + 1/6",proportions:[1,1,1,1],columnCount:4},{id:"1-8-1-4-1-4-1-8",name:"1/8 + 1/4 + 1/4 + 1/8",proportions:[1,2,2,1],columnCount:4},{id:"1-5-1-5-1-5-1-5-1-5",name:"1/5 + 1/5 + 1/5 + 1/5 + 1/5",proportions:[1,1,1,1,1],columnCount:5},{id:"1-6-1-6-1-3-1-6-1-6",name:"1/6 + 1/6 + 1/3 + 1/6 + 1/6",proportions:[1,1,2,1,1],columnCount:5},{id:"1-8-1-4-1-4-1-4-1-8",name:"1/8 + 1/4 + 1/4 + 1/4 + 1/8",proportions:[1,2,2,2,1],columnCount:5},{id:"1-6-1-6-1-6-1-6-1-6-1-6",name:"1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6",proportions:[1,1,1,1,1,1],columnCount:6}]}connectedCallback(){super.connectedCallback(),this._templateUpdateListener=()=>{this.requestUpdate(),requestAnimationFrame((()=>{this.requestUpdate();const e=new CustomEvent("config-changed",{detail:{config:Object.assign(Object.assign({},this.config),{_forceUpdate:Date.now()})},bubbles:!0,composed:!0});this.dispatchEvent(e)}))},window.addEventListener("ultra-card-template-update",this._templateUpdateListener),window.addEventListener("ultra-card-slider-update",this._templateUpdateListener),this._windowResizeListener=()=>{this._handleWindowResize()},window.addEventListener("resize",this._windowResizeListener),this._documentClickListener=e=>{-1!==this._openMoreMenuRowIndex&&(e.target.closest(".row-more-container")||(this._openMoreMenuRowIndex=-1))},document.addEventListener("click",this._documentClickListener),this._keydownListener=e=>{const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return;const i=navigator.platform.toUpperCase().indexOf("MAC")>=0?e.metaKey:e.ctrlKey;i&&"z"===e.key&&!e.shiftKey?(e.preventDefault(),this._undo()):i&&("y"===e.key||"z"===e.key&&e.shiftKey)&&(e.preventDefault(),this._redo())},document.addEventListener("keydown",this._keydownListener),d.k.injectHoverEffectStyles(this.shadowRoot),this._updateHoverEffectStyles()}_isMobileDevice(){const e=window.innerWidth<=768||window.innerHeight<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i="ontouchstart"in window||navigator.maxTouchPoints>0;return e||t||i&&window.innerWidth<=1024}_handleWindowResize(){clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout((()=>{document.querySelectorAll(".draggable-popup").forEach((e=>{const t=e;null!==t.offsetParent&&this._repositionPopup(t)}))}),100)}_repositionPopup(e){const t=this._isMobileDevice(),i=e.getBoundingClientRect(),o=window.innerWidth,a=window.innerHeight;if(t)return e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.marginLeft="",e.style.marginTop="",e.style.width="",e.style.height="",e.style.maxWidth="",void(e.style.maxHeight="");let n=i.left,r=i.top;i.right>o&&(n=o-i.width-20),n<20&&(n=20),i.bottom>a&&(r=a-i.height-20),r<20&&(r=20),n===i.left&&r===i.top||(e.style.position="fixed",e.style.left=`${n}px`,e.style.top=`${r}px`,e.style.transform="none",e.style.marginLeft="0",e.style.marginTop="0")}_initializePopupPosition(e){this._isMobileDevice()?(e.style.marginLeft="",e.style.marginTop="",e.style.left="",e.style.top="",e.style.transform="",e.style.width="",e.style.height=""):setTimeout((()=>{this._repositionPopup(e)}),0)}_togglePreviewCollapsed(e){e&&e.stopPropagation();const t=this._getSelectedModuleKey();t&&(this._collapsedPreviewModules.has(t)?this._collapsedPreviewModules.delete(t):this._collapsedPreviewModules.add(t),this.requestUpdate())}_getSelectedModuleKey(){if(!this._selectedModule)return null;const{rowIndex:e,columnIndex:t,moduleIndex:i}=this._selectedModule;return`${e}-${t}-${i}`}_isCurrentModulePreviewCollapsed(){const e=this._getSelectedModuleKey();return!!e&&this._collapsedPreviewModules.has(e)}_toggleRowColumnPreviewCollapsed(e){e&&e.stopPropagation(),this._isRowColumnPreviewCollapsed=!this._isRowColumnPreviewCollapsed}_toggleConditionExpanded(e){const t=new Set(this._collapsedConditionIds);t.has(e)?t.delete(e):t.add(e),this._collapsedConditionIds=t}_reorderArray(e,t,i){if(t===i)return e;const o=[...e],[a]=o.splice(t,1),n=t<i?i-1:i;return o.splice(n,0,a),o}_onConditionDragStart(e,t,i){e.stopPropagation(),this._draggingCondition={scope:t,fromIndex:i},e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",String(i)))}_onConditionDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}_onConditionDrop(e,t,i,o,a){if(e.preventDefault(),e.stopPropagation(),!this._draggingCondition||this._draggingCondition.scope!==t)return void(this._draggingCondition=null);const n=this._draggingCondition.fromIndex,r=o()||[];a(this._reorderArray(r,n,i)),this._draggingCondition=null}_resolvePreviewBackgroundImageCSS(e){var t,i;const o=this.hass,a=null==e?void 0:e.background_image_type,n=null==e?void 0:e.background_image;if(!a||"none"===a)return n?`url("${o?(0,c.V)(o,n):n}")`:"none";if("upload"===a||"url"===a)return n?`url("${o?(0,c.V)(o,n):n}")`:"none";if("entity"===a){const a=null==e?void 0:e.background_image_entity;if(a&&o&&o.states[a]){const e=o.states[a];let n="";if((null===(t=e.attributes)||void 0===t?void 0:t.entity_picture)?n=e.attributes.entity_picture:(null===(i=e.attributes)||void 0===i?void 0:i.image)?n=e.attributes.image:"string"==typeof e.state&&(n=e.state),n)return`url("${(0,c.V)(o,n)}")`}return"none"}return"none"}disconnectedCallback(){super.disconnectedCallback(),this._endPopupDrag(),this._endPopupResize(),this._templateUpdateListener&&(window.removeEventListener("ultra-card-template-update",this._templateUpdateListener),window.removeEventListener("ultra-card-slider-update",this._templateUpdateListener),this._templateUpdateListener=void 0),this._windowResizeListener&&(window.removeEventListener("resize",this._windowResizeListener),this._windowResizeListener=null),this._resizeTimeout&&(clearTimeout(this._resizeTimeout),this._resizeTimeout=null),this._documentClickListener&&(document.removeEventListener("click",this._documentClickListener),this._documentClickListener=void 0),this._keydownListener&&(document.removeEventListener("keydown",this._keydownListener),this._keydownListener=void 0),d.k.removeHoverEffectStyles(this.shadowRoot)}_startPopupDrag(e,t){if(this._isMobileDevice())return;e.preventDefault();const i=t.getBoundingClientRect();t.style.position="fixed",t.style.left=`${i.left}px`,t.style.top=`${i.top}px`,t.style.transform="none",t.style.marginLeft="0",t.style.marginTop="0",this._popupDragState={isDragging:!0,dragStartX:e.clientX,dragStartY:e.clientY,initialX:i.left,initialY:i.top,element:t},document.addEventListener("mousemove",this._handlePopupDrag),document.addEventListener("mouseup",this._endPopupDrag),t.classList.add("popup-dragging")}_startPopupResize(e,t){if(this._isMobileDevice())return;e.preventDefault(),e.stopPropagation();const i=window.getComputedStyle(t),o=i.transform&&"none"!==i.transform,a=t.getBoundingClientRect();o&&(t.style.position="fixed",t.style.left=`${a.left}px`,t.style.top=`${a.top}px`,t.style.transform="none",t.style.marginLeft="0",t.style.marginTop="0"),this._popupResizeState={isResizing:!0,resizeStartX:e.clientX,resizeStartY:e.clientY,initialWidth:a.width,initialHeight:a.height,element:t},document.addEventListener("mousemove",this._handlePopupResize),document.addEventListener("mouseup",this._endPopupResize),t.classList.add("popup-resizing")}_createColumnIconHTML(e){const t=e.reduce(((e,t)=>e+t),0);return`<div style="display: flex; width: 100%; height: 16px; gap: 2px;">${e.map(((e,i)=>`<div style="width: ${e/t*100}%; height: 16px; background: #2196F3; border-radius: 2px; ${i>0?"margin-left: 2px;":""}"></div>`)).join("")}</div>`}_createSimpleIcon(e){return e.map((e=>"".repeat(e))).join(" ")}_getLayoutsForColumnCount(e){const t=Math.min(e,6);return this.COLUMN_LAYOUTS.filter((e=>e.columnCount===t))}_migrateLegacyLayoutId(e){return{"50-50":"1-2-1-2","30-70":"1-3-2-3","70-30":"2-3-1-3","33-33-33":"1-3-1-3-1-3","25-50-25":"1-4-1-2-1-4","20-60-20":"1-5-3-5-1-5","25-25-25-25":"1-4-1-4-1-4-1-4"}[e]||e}_ensureLayout(){return this.config.layout&&this.config.layout.rows?this.config.layout:{rows:[{id:`row-${Date.now()}`,columns:[{id:`col-${Date.now()}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"}],column_layout:"1-col",design:{margin_top:"8px",margin_bottom:"8px"}}]}}_updateConfig(e){const t=Object.assign(Object.assign({},this.config),e);setTimeout((()=>{this._updateHoverEffectStyles()}),0);const i=new CustomEvent("config-changed",{detail:{config:t},bubbles:!0,composed:!0});this.dispatchEvent(i),setTimeout((()=>{window.dispatchEvent(new CustomEvent("ultra-card-template-update"))}),0)}_updateLayout(e){this._isUndoRedoAction||(this._saveStateToUndoStack(),this._redoStack=[]),this._updateConfig({layout:e})}_saveStateToUndoStack(){const e=this._ensureLayout(),t={rows:JSON.parse(JSON.stringify(e.rows))};this._undoStack.push(t),this._undoStack.length>this._maxHistorySize&&this._undoStack.shift()}_canUndo(){return this._undoStack.length>0}_canRedo(){return this._redoStack.length>0}_undo(){if(!this._canUndo())return;const e=this._ensureLayout(),t={rows:JSON.parse(JSON.stringify(e.rows))};this._redoStack.push(t);const i=this._undoStack.pop();this._isUndoRedoAction=!0,this._updateConfig({layout:i}),this._isUndoRedoAction=!1}_redo(){if(!this._canRedo())return;const e=this._ensureLayout(),t={rows:JSON.parse(JSON.stringify(e.rows))};this._undoStack.push(t);const i=this._redoStack.pop();this._isUndoRedoAction=!0,this._updateConfig({layout:i}),this._isUndoRedoAction=!1}_addRow(){const e=this._ensureLayout(),t={id:`row-${Date.now()}`,columns:[],column_layout:"1-col",design:{margin_top:"8px",margin_bottom:"8px"}},i={rows:[...e.rows,t]};this._updateLayout(i)}_deleteRow(e){const t=this._ensureLayout();if(t.rows.length>1){const i={rows:t.rows.filter(((t,i)=>i!==e))};this._updateLayout(i)}}_duplicateRow(e){const t=this._ensureLayout(),i=t.rows[e];if(!i)return void console.error("Row to copy not found at index:",e);const o=Object.assign(Object.assign({},JSON.parse(JSON.stringify(i))),{id:`row-${Date.now()}`,columns:i.columns.map(((e,t)=>Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{id:`col-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`,modules:e.modules.map(((e,t)=>Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{id:`${e.type}-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`})))})))}),a=JSON.parse(JSON.stringify(t));a.rows.splice(e+1,0,o),this._updateLayout(a)}_addColumn(e){const t=this._ensureLayout(),i=t.rows[e];if(!i)return void console.error("Row not found at index:",e);if(i.columns.length>=6)return;const o={id:`col-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"},a=i.columns.length+1,n=this._getLayoutsForColumnCount(a)[0],r=n?n.id:`repeat(${a}, 1fr)`,s={rows:t.rows.map(((t,i)=>i===e?Object.assign(Object.assign({},t),{columns:[...t.columns,o],column_layout:r}):t))};this._updateLayout(s)}_addColumnAfter(e,t){const i=this._ensureLayout(),o=i.rows[e];if(!o)return;if(o.columns.length>=6)return;const a={id:`col-${Date.now()}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"},n=o.columns.length+1,r=this._getLayoutsForColumnCount(n)[0],s=r?r.id:`repeat(${n}, 1fr)`,l={rows:i.rows.map(((i,o)=>{if(o===e){const e=[...i.columns];return e.splice(t+1,0,a),Object.assign(Object.assign({},i),{columns:e,column_layout:s})}return i}))};this._updateLayout(l)}_duplicateColumn(e,t){const i=this._ensureLayout(),o=i.rows[e];if(!o||!o.columns[t])return void console.error("Row or column not found:",e,t);if(o.columns.length>=6)return;const a=o.columns[t],n=Object.assign(Object.assign({},JSON.parse(JSON.stringify(a))),{id:`col-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,modules:a.modules.map(((e,t)=>Object.assign(Object.assign({},JSON.parse(JSON.stringify(e))),{id:`${e.type}-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`})))}),r=o.columns.length+1,s=this._getLayoutsForColumnCount(r)[0],l=s?s.id:`repeat(${r}, 1fr)`,d=JSON.parse(JSON.stringify(i));d.rows[e].columns.splice(t+1,0,n),d.rows[e].column_layout=l,this._updateLayout(d)}_deleteColumn(e,t){const i=this._ensureLayout(),o=i.rows[e];if(!o)return void console.error("Row not found at index:",e);if(!o.columns[t])return void console.error("Column not found at index:",t);const a=o.columns.length-1,n=a>0?this._getLayoutsForColumnCount(a)[0]:null,r=n?n.id:"1-col",s={rows:i.rows.map(((i,o)=>o===e?Object.assign(Object.assign({},i),{columns:i.columns.filter(((e,i)=>i!==t)),column_layout:r}):i))};this._updateLayout(s)}_openColumnLayoutSelector(e){this._selectedRowForLayout=e,this._showColumnLayoutSelector=!0}_changeColumnLayout(e){if(-1===this._selectedRowForLayout)return;const t=this._ensureLayout(),i=t.rows[this._selectedRowForLayout];if(!i)return;const o=this.COLUMN_LAYOUTS.find((t=>t.id===e));if(!o)return;const a=o.columnCount,n=i.columns.length,r=JSON.parse(JSON.stringify(t)),s=r.rows[this._selectedRowForLayout];if(a===n)s.column_layout=e;else if(a>n){const t=[...s.columns];for(let e=n;e<a;e++)t.push({id:`col-${Date.now()}-${e}-${Math.random().toString(36).substr(2,9)}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"});s.columns=t,s.column_layout=e}else{const t=[],i=[];s.columns.forEach((e=>{e.modules&&e.modules.length>0&&i.push(...e.modules)}));for(let e=0;e<a;e++)e<n?t.push(Object.assign(Object.assign({},s.columns[e]),{modules:[]})):t.push({id:`col-${Date.now()}-${e}-${Math.random().toString(36).substr(2,9)}`,modules:[],vertical_alignment:"center",horizontal_alignment:"center"});i.length>0&&(1===a?t[0].modules=i:i.forEach(((e,i)=>{t[i%a].modules.push(e)}))),s.columns=t,s.column_layout=e}this._updateLayout(r),this._showColumnLayoutSelector=!1,this._selectedRowForLayout=-1}_getCurrentLayoutDisplay(e){const t=e.columns.length,i=e.column_layout,o=this.COLUMN_LAYOUTS.find((e=>e.id===i));if(o)return this._createSimpleIcon(o.proportions);switch(t){case 1:return"";case 2:return" ";case 3:return"  ";case 4:return"   ";default:return" ".repeat(Math.min(t,6)).trim()}}_openModuleSelector(e,t){const i=this._ensureLayout().rows[e];i&&i.columns&&0!==i.columns.length||(this._addColumn(e),t=0),this._selectedRowIndex=e,this._selectedColumnIndex=t,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1,this._showModuleSelector=!0}_addModule(e){var t,i;if(-1===this._selectedRowIndex||-1===this._selectedColumnIndex)return void console.error("No row or column selected");const o=this._ensureLayout();if(!o.rows[this._selectedRowIndex])return void console.error("Selected row does not exist:",this._selectedRowIndex);const a=o.rows[this._selectedRowIndex];if(!a.columns[this._selectedColumnIndex])return void console.error("Selected column does not exist:",this._selectedColumnIndex);const n=a.columns[this._selectedColumnIndex],r=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";let l,d;switch(e){case"text":l={id:`text-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"text",text:(0,p.kg)("editor.modules.sample_text",r,"Sample Text"),font_size:16,color:"var(--primary-text-color)"},delete l.name,delete l.title;break;case"separator":l={id:`separator-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"separator",thickness:1,color:"var(--divider-color)"},delete l.name,delete l.title,delete l.label;break;case"image":l={id:`image-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"image",image_type:"none"},delete l.name,delete l.title,delete l.label;break;case"markdown":l={id:`markdown-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"markdown",content:"This is a markdown module that supports:\n\n- Italic and bold text\n- Links\n- inline code\n- Lists and more!",markdown_content:"This is a markdown module that supports:\n\n- Italic and bold text\n- Links\n- inline code\n- Lists and more!"},delete l.name,delete l.title,delete l.label;break;case"bar":l={id:`bar-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"bar",entity:"sensor.battery_level",bar_color:"var(--primary-color)",background_color:"transparent",height:20,show_value:!0},delete l.name,delete l.title,delete l.label;break;case"button":l={id:`button-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"button",label:"Click Me",button_text:"Click Me",tap_action:{action:"more-info"}},delete l.name,delete l.title;break;case"info":l={id:`info-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"info",info_entities:[{entity:"sensor.temperature",name:"Temperature",icon:"mdi:thermometer"}]},delete l.name,delete l.title,delete l.label;break;default:try{const t=(0,s.oD)().createDefaultModule(e);if(t){l=t,delete l.name,delete l.title,delete l.label;break}}catch(e){console.error("Module registry failed:",e)}l={id:`text-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"text",text:"Unknown Module Type",font_size:16,color:"var(--primary-text-color)"}}if(d=this._selectedLayoutModuleIndex>=0?{rows:o.rows.map(((e,t)=>t===this._selectedRowIndex?Object.assign(Object.assign({},e),{columns:e.columns.map(((e,t)=>t===this._selectedColumnIndex?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===this._selectedLayoutModuleIndex){const t=e;return this._selectedNestedChildIndex>=0?Object.assign(Object.assign({},t),{modules:t.modules.map(((e,t)=>{if(t===this._selectedNestedChildIndex){const t=e;return Object.assign(Object.assign({},t),{modules:[...t.modules||[],l]})}return e}))}):Object.assign(Object.assign({},t),{modules:[...t.modules||[],l]})}return e}))}):e))}):e))}:{rows:o.rows.map(((e,t)=>t===this._selectedRowIndex?Object.assign(Object.assign({},e),{columns:e.columns.map(((e,t)=>t===this._selectedColumnIndex?Object.assign(Object.assign({},e),{modules:[...e.modules||[],l]}):e))}):e))},this._updateLayout(d),this._showModuleSelector=!1,this._shouldAutoOpenSettings(e))if(this._selectedLayoutModuleIndex>=0);else{const e=n.modules.length;this._openModuleSettings(this._selectedRowIndex,this._selectedColumnIndex,e)}this._selectedRowIndex=-1,this._selectedColumnIndex=-1,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1}_addPageBreakToSlider(e,t,i,o){const a=this._ensureLayout(),n=(0,s.oD)(),r=a.rows[e].columns[t].modules[i];if(!r||!r.modules||!r.modules[o])return void console.error("Parent layout or slider child not found");const l=r.modules[o];if(!l||"slider"!==l.type)return void console.error("Target is not a slider module");const d=n.createDefaultModule("pagebreak");if(!d)return void console.error("Could not create page break module");const c={rows:a.rows.map(((a,n)=>n===e?Object.assign(Object.assign({},a),{columns:a.columns.map(((e,a)=>a===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e;return Object.assign(Object.assign({},t),{modules:t.modules.map(((e,t)=>t===o?Object.assign(Object.assign({},e),{modules:[...e.modules||[],d]}):e))})}return e}))}):e))}):a))};this._updateLayout(c),this.requestUpdate()}_addPageBreakToColumnSlider(e,t,i){const o=this._ensureLayout(),a=(0,s.oD)(),n=o.rows[e].columns[t].modules[i];if(!n||"slider"!==n.type)return void console.error("Target is not a slider module");const r=a.createDefaultModule("pagebreak");if(!r)return void console.error("Could not create page break module");const l={rows:o.rows.map(((o,a)=>a===e?Object.assign(Object.assign({},o),{columns:o.columns.map(((e,o)=>o===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>t===i?Object.assign(Object.assign({},e),{modules:[...e.modules||[],r]}):e))}):e))}):o))};this._updateLayout(l),this.requestUpdate()}_addPreset(e){var t;try{const i=this._ensureLayout();if(!e.layout||!e.layout.rows||0===e.layout.rows.length)return console.error("Invalid preset layout:",e),console.error("Layout structure:",e.layout),console.error("Layout rows:",null===(t=e.layout)||void 0===t?void 0:t.rows),console.error("Full preset object:",e),void this._showToast(`Error: Invalid preset "${e.name}" - missing layout rows`,"error");console.log("Valid preset layout found:",e.layout),console.log("Layout rows structure:",e.layout.rows),console.log("First row structure:",e.layout.rows[0]);const o=[...i.rows];e.layout.rows.forEach(((e,t)=>{console.log(`Processing preset row ${t}:`,e);try{const i=this._cloneRowWithNewIds(e);console.log(`Successfully cloned row ${t}:`,i),o.push(i)}catch(e){throw console.error(`Failed to clone row ${t}:`,e),e}}));const a=Object.assign({rows:o},void 0!==i.gap&&{gap:i.gap});console.log("Final layout to apply:",a),console.log("Number of rows in final layout:",a.rows.length),this._updateLayout(a),this._showModuleSelector=!1,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1,this._selectedRowIndex=-1,this._selectedColumnIndex=-1,this._showToast(`"${e.name}" preset added successfully!`,"success")}catch(e){console.error("Error adding preset:",e),this._showToast(`Error adding preset: ${e instanceof Error?e.message:"Unknown error"}`,"error")}}_addFavorite(e){const t=this._ensureLayout(),i=[...t.rows],o=this._cloneRowWithNewIds(e.row);i.push(o);const a=Object.assign({rows:i},void 0!==t.gap&&{gap:t.gap});this._updateLayout(a),this._showModuleSelector=!1,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1,this._selectedRowIndex=-1,this._selectedColumnIndex=-1,this._showToast(`"${e.name}" favorite added successfully!`,"success")}_saveRowAsFavorite(e){const t=this._ensureLayout().rows[e];t&&(this._favoriteRowToSave=t,this._showFavoriteDialog=!0)}async _exportRow(e){const t=this._ensureLayout().rows[e];if(t)try{this._showToast("Exporting row to clipboard...","info"),await v.D.exportRowToClipboard(t,`Row ${e+1}`),this._showToast("Row exported to clipboard!","success")}catch(e){console.error("Failed to export row:",e),e instanceof Error&&"Export cancelled by user"===e.message?this._showToast("Export cancelled - privacy protection","info"):this._showToast("Failed to export row to clipboard","error")}}async _pasteRowFromClipboard(e){var t,i;try{this._showToast("Reading from clipboard...","info");let o,a=await v.D.importFromClipboard();if(a||(await new Promise((e=>setTimeout(e,100))),a=await v.D.importFromClipboard()),!a)return void this._showToast("No valid Ultra Card shortcode found. Please ensure you have copied a complete exported row/layout or try copying again.","error");let n="";if("ultra-card-row"===a.type&&a.data)o=a.data,n=(null===(t=a.metadata)||void 0===t?void 0:t.name)||"Imported Row";else{if("ultra-card-layout"!==a.type||!a.data)return void this._showToast(`Clipboard contains ${a.type} data, but row data is required`,"error");{const e=a.data;if(!(e.rows&&e.rows.length>0))return void this._showToast("Layout data does not contain any rows","error");o=e.rows[0],n=`${(null===(i=a.metadata)||void 0===i?void 0:i.name)||"Imported Layout"} (Row 1)`}}const r=this._cloneRowWithNewIds(o),s={rows:[...this._ensureLayout().rows]};s.rows.splice(e+1,0,r),this._updateLayout(s),this.requestUpdate(),this._showToast(`Row added successfully from "${n}"! Check below the current row.`,"success")}catch(e){console.error("Failed to paste row from clipboard:",e),e instanceof Error&&"NotAllowedError"===e.name?this._showToast("Clipboard access denied. Please check browser permissions.","error"):this._showToast("Failed to paste row from clipboard. Please try again.","error")}}async _exportFavorite(e){try{this._showToast("Exporting favorite to clipboard...","info"),await v.D.exportRowToClipboard(e.row,e.name),this._showToast("Favorite exported to clipboard!","success")}catch(e){console.error("Failed to export favorite:",e),e instanceof Error&&"Export cancelled by user"===e.message?this._showToast("Export cancelled - privacy protection","info"):this._showToast("Failed to export favorite to clipboard","error")}}_deleteFavorite(e){confirm("Are you sure you want to delete this favorite?")&&(_.B.removeFavorite(e),this._showToast("Favorite deleted","info"))}_cloneRowWithNewIds(e){try{const i=(t=e,"undefined"!=typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t))),o=Date.now(),a=Math.random().toString(36).substr(2,9);return i.id=`row-${o}-${a}`,i.design||(i.design={}),i.design.margin_top||i.design.margin_bottom||(i.design.margin_top="8px",i.design.margin_bottom="8px"),i.columns&&Array.isArray(i.columns)&&i.columns.forEach(((e,t)=>{e.id=`col-${o}-${t}-${a}`,e.modules&&Array.isArray(e.modules)&&e.modules.forEach(((e,t)=>{e.id=`${e.type}-${o}-${t}-${a}`}))})),i}catch(e){throw console.error("Error cloning row:",e),new Error(`Failed to clone row: ${e instanceof Error?e.message:"Unknown error"}`)}var t}_toggleMoreMenu(e){this._openMoreMenuRowIndex===e?this._openMoreMenuRowIndex=-1:this._openMoreMenuRowIndex=e}_showToast(e,t="info"){const i=document.createElement("div");i.className=`ultra-toast ultra-toast-${t}`,i.textContent=e,i.style.cssText=`\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 24px;\n      background: var(--${"success"===t?"success":"error"===t?"error":"primary"}-color);\n      color: white;\n      border-radius: 8px;\n      z-index: 10000;\n      font-size: 14px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n      opacity: 0;\n      transform: translateX(100%);\n      transition: all 0.3s ease;\n    `,document.body.appendChild(i),requestAnimationFrame((()=>{i.style.opacity="1",i.style.transform="translateX(0)"})),setTimeout((()=>{i.style.opacity="0",i.style.transform="translateX(100%)",setTimeout((()=>document.body.removeChild(i)),300)}),3e3)}_duplicateModule(e,t,i){const o=this._ensureLayout(),a=o.rows[e];if(!a||!a.columns[t])return;const n=a.columns[t];if(!n.modules||!n.modules[i])return;const r=n.modules[i],s=Object.assign(Object.assign({},JSON.parse(JSON.stringify(r))),{id:`${r.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}),l={rows:o.rows.map(((o,a)=>a===e?Object.assign(Object.assign({},o),{columns:o.columns.map(((e,o)=>{if(o===t){const t=[...e.modules];return t.splice(i+1,0,s),Object.assign(Object.assign({},e),{modules:t})}return e}))}):o))};this._updateLayout(l)}_deleteModule(e,t,i){const o=this._ensureLayout(),a=o.rows[e];if(!a||!a.columns[t])return;const n=a.columns[t];if(!n.modules||!n.modules[i])return;const r={rows:o.rows.map(((o,a)=>a===e?Object.assign(Object.assign({},o),{columns:o.columns.map(((e,o)=>o===t?Object.assign(Object.assign({},e),{modules:e.modules.filter(((e,t)=>t!==i))}):e))}):o))};this._updateLayout(r)}_openModuleSettings(e,t,i){this._selectedModule={rowIndex:e,columnIndex:t,moduleIndex:i},this._showModuleSettings=!0}_updateModule(e){if(!this._selectedModule)return;const t=this._ensureLayout(),{rowIndex:i,columnIndex:o,moduleIndex:a}=this._selectedModule,n={rows:t.rows.map(((t,n)=>n===i?Object.assign(Object.assign({},t),{columns:t.columns.map(((t,i)=>i===o?Object.assign(Object.assign({},t),{modules:t.modules.map(((t,i)=>{if(i===a){const i=Object.assign({},t);for(const[t,o]of Object.entries(e))void 0===o?delete i[t]:i[t]=o;return i}return t}))}):t))}):t))};this._updateLayout(n)}_updateLayoutChildModule(e){if(!this._selectedLayoutChild)return;const{parentRowIndex:t,parentColumnIndex:i,parentModuleIndex:o,childIndex:a}=this._selectedLayoutChild,n=this._ensureLayout(),r=JSON.parse(JSON.stringify(n)),s=r.rows[t];if(!s||!s.columns[i])return;const l=s.columns[i];if(!l.modules||!l.modules[o])return;const d=l.modules[o];if(this._selectedNestedChildIndex>=0){if(!d.modules||!d.modules[a])return;const t=d.modules[a];if(!t.modules||!t.modules[this._selectedNestedChildIndex])return;const i=t.modules[this._selectedNestedChildIndex],o=Object.assign({},i);if(e.hasOwnProperty("design")){const t=e.design||{},i=o.design||{},a=Object.assign({},i);for(const[e,i]of Object.entries(t))void 0===i?delete a[e]:a[e]=i;o.design=a}for(const[t,i]of Object.entries(e))"design"!==t&&(void 0===i?delete o[t]:o[t]=i);t.modules[this._selectedNestedChildIndex]=o}else{if(!d.modules||!d.modules[a])return;const t=d.modules[a],i=Object.assign({},t);if(e.hasOwnProperty("design")){const t=e.design||{},o=i.design||{},a=Object.assign({},o);for(const[e,i]of Object.entries(t))void 0===i?delete a[e]:a[e]=i;i.design=a}for(const[t,o]of Object.entries(e))"design"!==t&&(void 0===o?delete i[t]:i[t]=o);d.modules[a]=i}this._updateLayout(r)}_updateModuleDesign(e){var t,i,o,a,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j,B,D,O,J,R,U,M,H,N,L,F,K,V,q,Q,G,Y,W,Z;const X=!this._selectedModule&&!!this._selectedLayoutChild;if(!this._selectedModule&&!this._selectedLayoutChild)return void console.warn("_updateModuleDesign called but no selected module or layout child");const ee={};if(e.hasOwnProperty("color")&&(ee.color=e.color),e.hasOwnProperty("text_align")){const s=this._ensureLayout();let l=null;if(X){const{parentRowIndex:e,parentColumnIndex:n,parentModuleIndex:r,childIndex:d}=this._selectedLayoutChild;l=null===(a=null===(o=null===(i=null===(t=s.rows[e])||void 0===t?void 0:t.columns[n])||void 0===i?void 0:i.modules[r])||void 0===o?void 0:o.modules)||void 0===a?void 0:a[d]}else{const{rowIndex:e,columnIndex:t,moduleIndex:i}=this._selectedModule;l=null===(r=null===(n=s.rows[e])||void 0===n?void 0:n.columns[t])||void 0===r?void 0:r.modules[i]}l&&"text"===l.type?(ee.design||(ee.design=Object.assign({},l.design||{})),ee.design.text_align=e.text_align):ee.text_align=e.text_align}if(e.hasOwnProperty("font_size")){const t=this._ensureLayout();let i=null;if(X){const{parentRowIndex:e,parentColumnIndex:o,parentModuleIndex:a,childIndex:n}=this._selectedLayoutChild;i=null===(c=null===(d=null===(l=null===(s=t.rows[e])||void 0===s?void 0:s.columns[o])||void 0===l?void 0:l.modules[a])||void 0===d?void 0:d.modules)||void 0===c?void 0:c[n]}else{const{rowIndex:e,columnIndex:o,moduleIndex:a}=this._selectedModule;i=null===(u=null===(p=t.rows[e])||void 0===p?void 0:p.columns[o])||void 0===u?void 0:u.modules[a]}i&&"text"===i.type&&(ee.design||(ee.design=Object.assign({},i.design||{})),ee.design.font_size=e.font_size||void 0),ee.font_size=e.font_size||void 0}if(e.hasOwnProperty("line_height")&&(ee.line_height=e.line_height),e.hasOwnProperty("letter_spacing")&&(ee.letter_spacing=e.letter_spacing),e.hasOwnProperty("font_family")&&(ee.font_family=e.font_family),e.hasOwnProperty("font_weight")&&(ee.font_weight=e.font_weight),e.hasOwnProperty("text_transform")&&(ee.text_transform=e.text_transform),e.hasOwnProperty("font_style")&&(ee.font_style=e.font_style),e.hasOwnProperty("background_color")){const t=this._ensureLayout();let i=null;if(X){const{parentRowIndex:e,parentColumnIndex:o,parentModuleIndex:a,childIndex:n}=this._selectedLayoutChild;i=null===(_=null===(h=null===(m=null===(g=t.rows[e])||void 0===g?void 0:g.columns[o])||void 0===m?void 0:m.modules[a])||void 0===h?void 0:h.modules)||void 0===_?void 0:_[n]}else this._selectedModule&&(i=null===(f=null===(v=t.rows[this._selectedModule.rowIndex])||void 0===v?void 0:v.columns[this._selectedModule.columnIndex])||void 0===f?void 0:f.modules[this._selectedModule.moduleIndex]);ee.design||(ee.design=Object.assign({},(null==i?void 0:i.design)||{})),ee.design.background_color=e.background_color,ee.background_color=e.background_color}if(e.hasOwnProperty("background_image")&&(ee.background_image=e.background_image),e.hasOwnProperty("background_image_type")&&(ee.background_image_type=e.background_image_type),e.hasOwnProperty("background_image_entity")&&(ee.background_image_entity=e.background_image_entity),e.hasOwnProperty("backdrop_filter")&&(ee.backdrop_filter=e.backdrop_filter),e.hasOwnProperty("width")){const t=this._ensureLayout();let i=null;if(X){const{parentRowIndex:e,parentColumnIndex:o,parentModuleIndex:a,childIndex:n}=this._selectedLayoutChild;i=null===(x=null===(k=null===(y=null===(b=t.rows[e])||void 0===b?void 0:b.columns[o])||void 0===y?void 0:y.modules[a])||void 0===k?void 0:k.modules)||void 0===x?void 0:x[n]}else this._selectedModule&&(i=null===(S=null===(w=t.rows[this._selectedModule.rowIndex])||void 0===w?void 0:w.columns[this._selectedModule.columnIndex])||void 0===S?void 0:S.modules[this._selectedModule.moduleIndex]);"bar"===(null==i?void 0:i.type)?(ee.design||(ee.design=Object.assign({},(null==i?void 0:i.design)||{})),ee.design.width=e.width):ee.width=e.width}if(e.hasOwnProperty("height")){const t=this._ensureLayout();let i=null;if(X){const{parentRowIndex:e,parentColumnIndex:o,parentModuleIndex:a,childIndex:n}=this._selectedLayoutChild;i=null===(T=null===(z=null===(C=null===(A=t.rows[e])||void 0===A?void 0:A.columns[o])||void 0===C?void 0:C.modules[a])||void 0===z?void 0:z.modules)||void 0===T?void 0:T[n]}else this._selectedModule&&(i=null===(E=null===(I=t.rows[this._selectedModule.rowIndex])||void 0===I?void 0:I.columns[this._selectedModule.columnIndex])||void 0===E?void 0:E.modules[this._selectedModule.moduleIndex]);"bar"===(null==i?void 0:i.type)?(ee.design||(ee.design=Object.assign({},(null==i?void 0:i.design)||{})),ee.design.height=e.height):ee.height=e.height}if(e.hasOwnProperty("max_width")&&(ee.max_width=e.max_width),e.hasOwnProperty("max_height")&&(ee.max_height=e.max_height),e.hasOwnProperty("min_width")&&(ee.min_width=e.min_width),e.hasOwnProperty("min_height")&&(ee.min_height=e.min_height),e.hasOwnProperty("position")&&(ee.position=e.position),e.hasOwnProperty("top")&&(ee.top=e.top),e.hasOwnProperty("bottom")&&(ee.bottom=e.bottom),e.hasOwnProperty("left")&&(ee.left=e.left),e.hasOwnProperty("right")&&(ee.right=e.right),e.hasOwnProperty("z_index")&&(ee.z_index=e.z_index),e.hasOwnProperty("text_shadow_h")&&(ee.text_shadow_h=e.text_shadow_h),e.hasOwnProperty("text_shadow_v")&&(ee.text_shadow_v=e.text_shadow_v),e.hasOwnProperty("text_shadow_blur")&&(ee.text_shadow_blur=e.text_shadow_blur),e.hasOwnProperty("text_shadow_color")&&(ee.text_shadow_color=e.text_shadow_color),e.hasOwnProperty("box_shadow_h")&&(ee.box_shadow_h=e.box_shadow_h),e.hasOwnProperty("box_shadow_v")&&(ee.box_shadow_v=e.box_shadow_v),e.hasOwnProperty("box_shadow_blur")&&(ee.box_shadow_blur=e.box_shadow_blur),e.hasOwnProperty("box_shadow_spread")&&(ee.box_shadow_spread=e.box_shadow_spread),e.hasOwnProperty("box_shadow_color")&&(ee.box_shadow_color=e.box_shadow_color),e.hasOwnProperty("overflow")&&(ee.overflow=e.overflow),e.hasOwnProperty("clip_path")&&(ee.clip_path=e.clip_path),e.hasOwnProperty("margin_top")&&(ee.margin_top=e.margin_top),e.hasOwnProperty("margin_bottom")&&(ee.margin_bottom=e.margin_bottom),e.hasOwnProperty("margin_left")&&(ee.margin_left=e.margin_left),e.hasOwnProperty("margin_right")&&(ee.margin_right=e.margin_right),e.hasOwnProperty("padding_top")&&(ee.padding_top=e.padding_top),e.hasOwnProperty("padding_bottom")&&(ee.padding_bottom=e.padding_bottom),e.hasOwnProperty("padding_left")&&(ee.padding_left=e.padding_left),e.hasOwnProperty("padding_right")&&(ee.padding_right=e.padding_right),e.hasOwnProperty("border_radius")&&(ee.border_radius=e.border_radius),e.hasOwnProperty("border_style")&&(ee.border_style=e.border_style),e.hasOwnProperty("border_width")&&(ee.border_width=e.border_width),e.hasOwnProperty("border_color")&&(ee.border_color=e.border_color),e.hasOwnProperty("animation_type")&&(ee.animation_type=e.animation_type),e.hasOwnProperty("animation_entity")&&(ee.animation_entity=e.animation_entity),e.hasOwnProperty("animation_trigger_type")&&(ee.animation_trigger_type=e.animation_trigger_type),e.hasOwnProperty("animation_attribute")&&(ee.animation_attribute=e.animation_attribute),e.hasOwnProperty("animation_state")&&(ee.animation_state=e.animation_state),e.hasOwnProperty("intro_animation")&&(ee.intro_animation=e.intro_animation),e.hasOwnProperty("outro_animation")&&(ee.outro_animation=e.outro_animation),e.hasOwnProperty("animation_duration")&&(ee.animation_duration=e.animation_duration),e.hasOwnProperty("animation_delay")&&(ee.animation_delay=e.animation_delay),e.hasOwnProperty("animation_timing")&&(ee.animation_timing=e.animation_timing),e.hasOwnProperty("margin_top")||e.hasOwnProperty("margin_bottom")||e.hasOwnProperty("margin_left")||e.hasOwnProperty("margin_right")){const t=this._ensureLayout();let i=null;if(X){const{parentRowIndex:e,parentColumnIndex:o,parentModuleIndex:a,childIndex:n}=this._selectedLayoutChild;i=null===(B=null===(j=null===(P=null===($=t.rows[e])||void 0===$?void 0:$.columns[o])||void 0===P?void 0:P.modules[a])||void 0===j?void 0:j.modules)||void 0===B?void 0:B[n]}else if(this._selectedModule){const{rowIndex:e,columnIndex:o,moduleIndex:a}=this._selectedModule;i=null===(O=null===(D=t.rows[e])||void 0===D?void 0:D.columns[o])||void 0===O?void 0:O.modules[a]}if(i){const t=e.hasOwnProperty("margin_top")?e.margin_top:null===(J=i.margin)||void 0===J?void 0:J.top,o=e.hasOwnProperty("margin_bottom")?e.margin_bottom:null===(R=i.margin)||void 0===R?void 0:R.bottom,a=e.hasOwnProperty("margin_left")?e.margin_left:null===(U=i.margin)||void 0===U?void 0:U.left,n=e.hasOwnProperty("margin_right")?e.margin_right:null===(M=i.margin)||void 0===M?void 0:M.right;if(void 0===t&&void 0===o&&void 0===a&&void 0===n)ee.margin=void 0;else{const e=i.margin||{};ee.margin={top:void 0!==t?t:e.top,bottom:void 0!==o?o:e.bottom,left:void 0!==a?a:e.left,right:void 0!==n?n:e.right}}}}if(e.hasOwnProperty("padding_top")||e.hasOwnProperty("padding_bottom")||e.hasOwnProperty("padding_left")||e.hasOwnProperty("padding_right")){const{rowIndex:t,columnIndex:i,moduleIndex:o}=this._selectedModule,a=null===(N=null===(H=this._ensureLayout().rows[t])||void 0===H?void 0:H.columns[i])||void 0===N?void 0:N.modules[o];if(a){const t=e.hasOwnProperty("padding_top")?e.padding_top:null===(L=a.padding)||void 0===L?void 0:L.top,i=e.hasOwnProperty("padding_bottom")?e.padding_bottom:null===(F=a.padding)||void 0===F?void 0:F.bottom,o=e.hasOwnProperty("padding_left")?e.padding_left:null===(K=a.padding)||void 0===K?void 0:K.left,n=e.hasOwnProperty("padding_right")?e.padding_right:null===(V=a.padding)||void 0===V?void 0:V.right;if(void 0===t&&void 0===i&&void 0===o&&void 0===n)ee.padding=void 0;else{const e=a.padding||{};ee.padding={top:void 0!==t?t:e.top,bottom:void 0!==i?i:e.bottom,left:void 0!==o?o:e.left,right:void 0!==n?n:e.right}}}}if(e.hasOwnProperty("border_radius")||e.hasOwnProperty("border_style")||e.hasOwnProperty("border_width")||e.hasOwnProperty("border_color")){const{rowIndex:t,columnIndex:i,moduleIndex:o}=this._selectedModule,a=null===(Q=null===(q=this._ensureLayout().rows[t])||void 0===q?void 0:q.columns[i])||void 0===Q?void 0:Q.modules[o];if(a){const t=e.hasOwnProperty("border_radius")?e.border_radius:null===(G=a.border)||void 0===G?void 0:G.radius,i=e.hasOwnProperty("border_style")?e.border_style:null===(Y=a.border)||void 0===Y?void 0:Y.style,o=e.hasOwnProperty("border_width")?e.border_width:null===(W=a.border)||void 0===W?void 0:W.width,n=e.hasOwnProperty("border_color")?e.border_color:null===(Z=a.border)||void 0===Z?void 0:Z.color;if(void 0===t&&void 0===i&&void 0===o&&void 0===n)ee.border=void 0;else{const e=a.border||{};ee.border={radius:void 0!==t?parseFloat(t)||0:e.radius||0,style:void 0!==i?i:e.style||"none",width:void 0!==o?o:e.width||"1px",color:void 0!==n?n:e.color||"var(--divider-color)"}}}}X?this._updateLayoutChildModule(ee):this._updateModule(ee)}_closeModuleSettings(){this._showModuleSettings=!1,this._selectedModule=null,this.requestUpdate()}_closeLayoutChildSettings(){this._showLayoutChildSettings=!1,this._selectedLayoutChild=null,this._selectedNestedChildIndex=-1,this.requestUpdate()}_onDragStart(e,t,i,o,a){var n,r,s;if(!e.dataTransfer)return;e.stopPropagation();const l=this._ensureLayout();let d;switch(t){case"module":void 0!==o&&void 0!==a&&(d=null===(r=null===(n=l.rows[i])||void 0===n?void 0:n.columns[o])||void 0===r?void 0:r.modules[a]);break;case"column":void 0!==o&&(d=null===(s=l.rows[i])||void 0===s?void 0:s.columns[o]);break;case"row":d=l.rows[i]}this._draggedItem={type:t,rowIndex:i,columnIndex:o,moduleIndex:a,data:d},e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify({type:t,rowIndex:i,columnIndex:o,moduleIndex:a}));const c=e.currentTarget;c&&(c.style.opacity="0.6",c.style.transform="scale(0.95)"),"column"===t?this.setAttribute("dragging-column",""):"row"===t&&this.setAttribute("dragging-row","")}_onDragEnd(e){const t=e.currentTarget;t&&(t.style.opacity="",t.style.transform=""),this.removeAttribute("dragging-column"),this.removeAttribute("dragging-row"),this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}_onDragOver(e){this._draggedItem&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"))}_onDragEnter(e,t,i,o,a){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem)return;if(this._draggedItem.type===t&&this._draggedItem.rowIndex===i&&this._draggedItem.columnIndex===o&&this._draggedItem.moduleIndex===a)return;if(void 0!==this._draggedItem.layoutChildIndex&&"layout"===t&&this._draggedItem.rowIndex===i&&this._draggedItem.columnIndex===o&&this._draggedItem.moduleIndex===a)return;if(!this._isValidDropTarget(this._draggedItem.type,t))return;this._dropTarget={type:t,rowIndex:i,columnIndex:o,moduleIndex:a};const n=e.currentTarget;n&&(n.style.borderColor="var(--primary-color)",n.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)"),this.requestUpdate()}_onDragLeave(e){const t=e.currentTarget;t&&(t.style.borderColor="",t.style.backgroundColor=""),e.relatedTarget&&e.currentTarget&&!e.currentTarget.contains(e.relatedTarget)&&(this._dropTarget=null,this.requestUpdate())}_onDrop(e,t,i,o,a){e.preventDefault(),e.stopPropagation();const n=e.currentTarget;n&&(n.style.borderColor="",n.style.backgroundColor=""),this._draggedItem&&(this._draggedItem.type===t&&this._draggedItem.rowIndex===i&&this._draggedItem.columnIndex===o&&this._draggedItem.moduleIndex===a||this._isValidDropTarget(this._draggedItem.type,t)&&(this._performMove(this._draggedItem,{type:t,rowIndex:i,columnIndex:o,moduleIndex:a}),this._draggedItem=null,this._dropTarget=null,this.requestUpdate()))}_isValidDropTarget(e,t){var i;return(null===(i={module:["module","column","layout","layout-child"],"nested-child":["module","column","layout","layout-child"],"layout-child":["module","column","layout","layout-child"],column:["column","row"],row:["row"]}[e])||void 0===i?void 0:i.includes(t))||!1}_performMove(e,t){const i=this._ensureLayout(),o=JSON.parse(JSON.stringify(i));switch(e.type){case"module":this._moveModule(o,e,t);break;case"nested-child":this._moveNestedChild(o,e,t);break;case"column":this._moveColumn(o,e,t);break;case"row":this._moveRow(o,e,t)}this._updateLayout(o)}_moveModule(e,t,i){let o;if(void 0!==t.layoutChildIndex&&"layout-child"===i.type){const o=t.rowIndex,a=t.columnIndex,n=t.moduleIndex,r=t.layoutChildIndex,s=i.rowIndex,l=i.columnIndex,d=i.moduleIndex,c=i.childIndex;if(o===s&&a===l&&n===d){if(r===c)return;const t=e.rows[o].columns[a].modules[n];if(t&&this._isLayoutModule(t.type)&&t.modules){const e=t.modules.splice(r,1)[0];let i=c;r<c&&(i=c-1),t.modules.splice(i,0,e)}return}}if(void 0!==t.layoutChildIndex){const i=e.rows[t.rowIndex].columns[t.columnIndex].modules[t.moduleIndex];o=i.modules[t.layoutChildIndex],i.modules.splice(t.layoutChildIndex,1)}else o=e.rows[t.rowIndex].columns[t.columnIndex].modules[t.moduleIndex];if("layout"!==i.type)if("layout-child"!==i.type)if(void 0===t.layoutChildIndex&&e.rows[t.rowIndex].columns[t.columnIndex].modules.splice(t.moduleIndex,1),"module"===i.type){let a=i.moduleIndex||0;t.rowIndex===i.rowIndex&&t.columnIndex===i.columnIndex&&i.moduleIndex>t.moduleIndex&&a--,e.rows[i.rowIndex].columns[i.columnIndex].modules.splice(a,0,o)}else"column"===i.type&&e.rows[i.rowIndex].columns[i.columnIndex].modules.push(o);else{const a=e.rows[i.rowIndex].columns[i.columnIndex].modules[i.moduleIndex];if(a&&this._isLayoutModule(a.type)){a.modules||(a.modules=[]);const n=i.childIndex||0;a.modules.splice(n,0,o),void 0===t.layoutChildIndex&&e.rows[t.rowIndex].columns[t.columnIndex].modules.splice(t.moduleIndex,1)}}else{const a=e.rows[i.rowIndex].columns[i.columnIndex].modules[i.moduleIndex];a&&this._isLayoutModule(a.type)&&(a.modules||(a.modules=[]),a.modules.push(o),void 0===t.layoutChildIndex&&e.rows[t.rowIndex].columns[t.columnIndex].modules.splice(t.moduleIndex,1))}}_moveColumn(e,t,i){const o=e.rows[t.rowIndex].columns[t.columnIndex];e.rows[t.rowIndex].columns.splice(t.columnIndex,1);const a=e.rows[t.rowIndex].columns.length;if(a>0){const i=this._getLayoutsForColumnCount(a)[0];e.rows[t.rowIndex].column_layout=i?i.id:`repeat(${a}, 1fr)`}"column"===i.type?e.rows[i.rowIndex].columns.splice(i.columnIndex||0,0,o):"row"===i.type&&e.rows[i.rowIndex].columns.push(o);const n=e.rows[i.rowIndex].columns.length,r=this._getLayoutsForColumnCount(n)[0];e.rows[i.rowIndex].column_layout=r?r.id:`repeat(${n}, 1fr)`}_moveRow(e,t,i){const o=e.rows[t.rowIndex];e.rows.splice(t.rowIndex,1);const a=i.rowIndex;e.rows.splice(a,0,o)}_moveNestedChild(e,t,i){const o=e.rows[t.rowIndex].columns[t.columnIndex].modules[t.moduleIndex].modules[t.layoutChildIndex],a=o.modules[t.nestedChildIndex];if(o.modules.splice(t.nestedChildIndex,1),"module"===i.type){const t=e.rows[i.rowIndex].columns[i.columnIndex],o=i.moduleIndex||0;t.modules.splice(o,0,a)}else if("layout"===i.type){const t=e.rows[i.rowIndex].columns[i.columnIndex].modules[i.moduleIndex];t.modules||(t.modules=[]),t.modules.push(a)}else if("layout-child"===i.type){const t=e.rows[i.rowIndex].columns[i.columnIndex].modules[i.moduleIndex],o=i.childIndex||0;t.modules.splice(o,0,a)}}_openRowSettings(e){this._selectedRowForSettings=e,this._showRowSettings=!0}_updateRow(e){if(-1===this._selectedRowForSettings)return;const t=this._ensureLayout(),i=JSON.parse(JSON.stringify(t)),o=i.rows[this._selectedRowForSettings];for(const[t,i]of Object.entries(e))void 0===i?delete o[t]:o[t]=i;this._updateLayout(i)}_openColumnSettings(e,t){this._selectedColumnForSettings={rowIndex:e,columnIndex:t},this._showColumnSettings=!0}_updateColumn(e){if(!this._selectedColumnForSettings)return;const t=this._ensureLayout(),i=JSON.parse(JSON.stringify(t)),o=i.rows[this._selectedColumnForSettings.rowIndex].columns[this._selectedColumnForSettings.columnIndex];for(const[t,i]of Object.entries(e))void 0===i?delete o[t]:o[t]=i;this._updateLayout(i)}_loadGoogleFont(e){if(!e||"default"===e||x.some((t=>t.value===e)))return;if(document.querySelector(`link[href*="${e.replace(/\s+/g,"+")}"]`))return;const t=document.createElement("link");t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css2?family=${e.replace(/\s+/g,"+")}:wght@300;400;500;600;700&display=swap`,document.head.appendChild(t)}_renderModulePreview(){var e,t,i,o,n,r,s,l;if(!this._selectedModule)return a.qy``;const d=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en",{rowIndex:c,columnIndex:u,moduleIndex:g}=this._selectedModule,m=null===(l=null===(s=null===(r=null===(n=null===(o=null===(i=this.config.layout)||void 0===i?void 0:i.rows)||void 0===o?void 0:o[c])||void 0===n?void 0:n.columns)||void 0===r?void 0:r[u])||void 0===s?void 0:s.modules)||void 0===l?void 0:l[g];if(!m)return a.qy``;const h=this._renderSingleModuleWithAnimation(m);return a.qy`
      <div class="module-preview ${this._isPreviewPinned?"pinned":""}">
        <div class="preview-header">
          <div style="display: flex; align-items: center; gap: 8px;">
            <ha-icon
              class="preview-pin-icon ${this._isPreviewPinned?"pinned":""}"
              icon="${this._isPreviewPinned?"mdi:pin":"mdi:pin-outline"}"
              @click=${e=>{e.stopPropagation(),this._togglePreviewPin()}}
              title="${this._isPreviewPinned?(0,p.kg)("editor.layout.unpin_preview",d,"Unpin preview (scroll with content)"):(0,p.kg)("editor.layout.pin_preview",d,"Pin preview (keep in view)")}"
            ></ha-icon>
            <span
              @click=${this._togglePreviewCollapsed}
              style="cursor: pointer; flex: 1;"
              title="${(0,p.kg)("editor.layout.toggle_preview",d,"Toggle preview")}"
            >
              ${(0,p.kg)("editor.layout.live_preview",d,"Live Preview")}
            </span>
          </div>
          <ha-icon
            class="preview-caret"
            icon="${this._isCurrentModulePreviewCollapsed()?"mdi:chevron-down":"mdi:chevron-up"}"
            @click=${this._togglePreviewCollapsed}
            title="${(0,p.kg)("editor.layout.toggle_preview",d,"Toggle preview")}"
          ></ha-icon>
        </div>
        <div
          class="preview-content"
          style="display: ${this._isCurrentModulePreviewCollapsed()?"none":"block"};"
        >
          ${h}
        </div>
      </div>
    `}_togglePreviewPin(){this._isPreviewPinned=!this._isPreviewPinned}_renderSingleModule(e,t,i,o){return this._renderSimplifiedModule(e,t,i,o)}_renderSimplifiedModule(e,t,i,o){var n,r;const l=(0,s.oD)(),d=(null===(r=null===(n=this.hass)||void 0===n?void 0:n.locale)||void 0===r?void 0:r.language)||"en",c=l.getModule(e.type),u=(null==c?void 0:c.metadata)||{icon:"mdi:help-circle",title:"Unknown",description:"Unknown module type"};if(this._isLayoutModule(e.type))return this._renderLayoutModuleAsColumn(e,t,i,o,u);const g=this._generateModuleInfo(e),m=this._getModuleDisplayName(e);return a.qy`
      <div class="simplified-module">
        <div class="simplified-module-header">
          <div
            class="simplified-module-drag-handle"
            title="${(0,p.kg)("editor.layout.drag_to_move_module",d,"Drag to move module")}"
          >
            <ha-icon icon="mdi:drag"></ha-icon>
          </div>
          <ha-icon icon="${u.icon}" class="simplified-module-icon"></ha-icon>
          <div class="simplified-module-content">
            <div class="simplified-module-title">${m}</div>
            <div class="simplified-module-info">${g}</div>
          </div>
          ${void 0!==t&&void 0!==i&&void 0!==o?a.qy`
                <div class="simplified-module-actions">
                  <button
                    class="simplified-action-btn edit-btn"
                    @click=${e=>{e.stopPropagation(),this._openModuleSettings(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.edit_module",d,"Edit Module")}"
                  >
                    <ha-icon icon="mdi:pencil"></ha-icon>
                  </button>
                  <button
                    class="simplified-action-btn duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.duplicate_module",d,"Duplicate Module")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="simplified-action-btn delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.delete_module",d,"Delete Module")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                </div>
              `:""}
        </div>
      </div>
    `}_renderLayoutModuleAsColumn(e,t,i,o,n){var r,s;const l=(null===(s=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===s?void 0:s.language)||"en",d=e,c=d.modules&&d.modules.length>0,u="horizontal"===e.type,g="vertical"===e.type,m="slider"===e.type;let h=(null==n?void 0:n.title)||"Layout";return u?h=(0,p.kg)("editor.layout.horizontal_layout",l,"Horizontal Layout"):g?h=(0,p.kg)("editor.layout.vertical_layout",l,"Vertical Layout"):m&&(h=(0,p.kg)("editor.layout.slider_layout",l,"Slider Layout")),a.qy`
      <div class="layout-module-container">
        <div class="layout-module-header">
          <div class="layout-module-title">
            <div
              class="layout-module-drag-handle"
              title="${(0,p.kg)("editor.layout.drag_to_move_layout",l,"Drag to move layout module")}"
            >
              <ha-icon icon="mdi:drag"></ha-icon>
            </div>
            <ha-icon icon="${(null==n?void 0:n.icon)||"mdi:view-sequential"}"></ha-icon>
            <span>${h}</span>
          </div>
          <div class="layout-module-actions">
            ${void 0!==t&&void 0!==i&&void 0!==o?a.qy`
                  <button
                    class="layout-module-add-btn"
                    @click=${e=>{e.stopPropagation(),this._openLayoutModuleSelector(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.add_module_to_layout",l,"Add Module to Layout")}"
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                  </button>
                  ${m?a.qy`
                        <button
                          class="layout-module-add-btn"
                          @click=${e=>{e.stopPropagation(),this._addPageBreakToColumnSlider(t,i,o)}}
                          @mousedown=${e=>e.stopPropagation()}
                          @dragstart=${e=>e.preventDefault()}
                          title="${(0,p.kg)("editor.layout.add_page_break",l,"Add Page Separator")}"
                        >
                          <ha-icon icon="mdi:format-page-break"></ha-icon>
                        </button>
                      `:""}
                  <button
                    class="layout-module-settings-btn"
                    @click=${e=>{e.stopPropagation(),this._openModuleSettings(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.layout_settings",l,"Layout Settings")}"
                  >
                    <ha-icon icon="mdi:cog"></ha-icon>
                  </button>
                  <button
                    class="layout-module-duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.duplicate_layout",l,"Duplicate Layout")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="layout-module-delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteModule(t,i,o)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.delete_layout",l,"Delete Layout")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                `:""}
          </div>
        </div>
        <div
          class="layout-modules-container"
          style="
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 8px 12px;
            min-height: 60px;
            box-sizing: border-box;
            overflow: hidden;
          "
          @dragover=${this._onDragOver}
          @dragenter=${e=>this._onDragEnter(e,"layout",t,i,o)}
          @dragleave=${this._onDragLeave}
          @drop=${e=>this._onDrop(e,"layout",t,i,o)}
        >
          ${c?d.modules.map(((e,n)=>{var r,s,l,d,c;return a.qy`
                  <div
                    class="layout-child-module-wrapper"
                    draggable="true"
                    @dragstart=${e=>this._onLayoutChildDragStart(e,t,i,o,n)}
                    @dragend=${e=>this._onLayoutChildDragEnd(e)}
                    @dragover=${this._onDragOver}
                    @dragenter=${e=>this._onLayoutChildDragEnter(e,t,i,o,n)}
                    @dragleave=${this._onDragLeave}
                    @drop=${e=>this._onLayoutChildDrop(e,t,i,o,n)}
                    class="${"layout-child"===(null===(r=this._dropTarget)||void 0===r?void 0:r.type)&&(null===(s=this._dropTarget)||void 0===s?void 0:s.rowIndex)===t&&(null===(l=this._dropTarget)||void 0===l?void 0:l.columnIndex)===i&&(null===(d=this._dropTarget)||void 0===d?void 0:d.moduleIndex)===o&&(null===(c=this._dropTarget)||void 0===c?void 0:c.childIndex)===n?"drop-target":""}"
                    style="width: 100%; max-width: 100%; box-sizing: border-box; overflow: hidden;"
                  >
                    ${this._renderLayoutChildModule(e,t,i,o,n)}
                  </div>
                `})):a.qy`
                <div
                  class="layout-module-empty"
                  @click=${e=>{e.stopPropagation(),this._openLayoutModuleSelector(t,i,o)}}
                  @dragover=${this._onDragOver}
                  @dragenter=${e=>this._onDragEnter(e,"layout",t,i,o)}
                  @dragleave=${this._onDragLeave}
                  @drop=${e=>this._onDrop(e,"layout",t,i,o)}
                  title="${(0,p.kg)("editor.layout.click_to_add_module",l,"Click to add a module")}"
                  style="cursor: pointer; border: 2px dashed transparent; border-radius: 4px; padding: 12px;"
                >
                  <ha-icon icon="mdi:plus-circle"></ha-icon>
                  <span
                    >${(0,p.kg)("editor.layout.drop_modules_here",l,"Drop modules here")}</span
                  >
                </div>
              `}
          ${c?a.qy`
                <div
                  class="layout-append-zone"
                  @dragover=${this._onDragOver}
                  @dragenter=${e=>this._onLayoutAppendDragEnter(e,t,i,o)}
                  @dragleave=${this._onDragLeave}
                  @drop=${e=>this._onLayoutAppendDrop(e,t,i,o)}
                  style="
                    min-height: 20px;
                    margin-top: 8px;
                    border: 2px dashed transparent;
                    border-radius: 4px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--secondary-text-color);
                    font-size: 12px;
                    transition: all 0.2s ease;
                  "
                >
                  Drop here to add to end
                </div>
              `:""}
        </div>
      </div>
    `}_getJustifyContent(e){switch(e){case"left":default:return"flex-start";case"center":return"center";case"right":return"flex-end";case"justify":return"space-between"}}_renderLayoutChildModule(e,t,i,o,n){var r,l;const d=(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l?void 0:l.language)||"en";if("horizontal"===e.type||"vertical"===e.type||"slider"===e.type)return this._renderNestedLayoutModule(e,t,i,o,n);const c=(0,s.oD)().getModule(e.type),u=(null==c?void 0:c.metadata)||{icon:"mdi:help-circle",title:"Unknown",description:"Unknown module type"},g=this._generateModuleInfo(e),m=this._getModuleDisplayName(e),h="pagebreak"===e.type,_=h?"background: rgba(var(--rgb-primary-color), 0.08); border-left: 3px solid rgba(var(--rgb-primary-color), 0.3);":"";return a.qy`
      <div
        class="layout-child-simplified-module ${h?"pagebreak-module":""}"
        style="${_}"
        @click=${e=>{const a=e.target;a.closest(".layout-child-actions")||a.closest(".layout-child-drag-handle")||(e.stopPropagation(),void 0!==t&&void 0!==i&&void 0!==o&&void 0!==n&&this._openLayoutChildSettings(t,i,o,n))}}
      >
        <div class="layout-child-module-header">
          <div
            class="layout-child-drag-handle"
            title="${(0,p.kg)("editor.layout.drag_to_reorder",d,"Drag to reorder")}"
          >
            <ha-icon icon="mdi:drag"></ha-icon>
          </div>
          <ha-icon icon="${u.icon}" class="layout-child-icon"></ha-icon>
          <div class="layout-child-content">
            <div class="layout-child-title">${m}</div>
            <div class="layout-child-info">${g}</div>
          </div>
          ${void 0!==t&&void 0!==i&&void 0!==o&&void 0!==n?a.qy`
                <div class="layout-child-actions">
                  <button
                    class="layout-child-action-btn edit-btn"
                    @click=${e=>{e.stopPropagation(),this._openLayoutChildSettings(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.edit_child_module",d,"Edit Child Module")}"
                  >
                    <ha-icon icon="mdi:pencil"></ha-icon>
                  </button>
                  <button
                    class="layout-child-action-btn duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateLayoutChildModule(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.duplicate_child_module",d,"Duplicate Child Module")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="layout-child-action-btn delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteLayoutChildModule(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.delete_child_module",d,"Delete Child Module")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                </div>
              `:""}
        </div>
      </div>
    `}_renderNestedLayoutModule(e,t,i,o,n){var r,l;const d=(null===(l=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===l?void 0:l.language)||"en",c=e,u=c.modules&&c.modules.length>0,g="horizontal"===e.type,m="vertical"===e.type,h="slider"===e.type,_=(0,s.oD)().getModule(e.type),v=(null==_?void 0:_.metadata)||{icon:"mdi:help-circle",title:"Unknown Layout",description:"Unknown layout type"};let f=v.title||"Layout";return g?f=(0,p.kg)("editor.layout.horizontal_layout",d,"Horizontal Layout"):m?f=(0,p.kg)("editor.layout.vertical_layout",d,"Vertical Layout"):h&&(f=(0,p.kg)("editor.layout.slider_module",d,"Slider Module")),a.qy`
      <div class="nested-layout-module-container layout-module-container">
        <div class="nested-layout-module-header layout-module-header">
          <div class="nested-layout-module-title layout-module-title">
            <div
              class="nested-layout-drag-handle layout-module-drag-handle"
              title="${(0,p.kg)("editor.layout.drag_to_move_nested_layout",d,"Drag to move nested layout module")}"
            >
              <ha-icon icon="mdi:drag"></ha-icon>
            </div>
            <ha-icon icon="${v.icon}"></ha-icon>
            <span>${f}</span>
          </div>
          <div class="nested-layout-module-actions layout-module-actions">
            ${void 0!==t&&void 0!==i&&void 0!==o&&void 0!==n?a.qy`
                  <button
                    class="layout-module-add-btn"
                    @click=${e=>{e.stopPropagation(),this._openNestedLayoutModuleSelector(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.add_module_to_nested_layout",d,"Add Module to Nested Layout")}"
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                  </button>
                  ${h?a.qy`
                        <button
                          class="layout-module-add-btn"
                          @click=${e=>{e.stopPropagation(),this._addPageBreakToSlider(t,i,o,n)}}
                          @mousedown=${e=>e.stopPropagation()}
                          @dragstart=${e=>e.preventDefault()}
                          title="${(0,p.kg)("editor.layout.add_page_break",d,"Add Page Separator")}"
                        >
                          <ha-icon icon="mdi:format-page-break"></ha-icon>
                        </button>
                      `:""}
                  <button
                    class="layout-module-settings-btn"
                    @click=${e=>{e.stopPropagation(),this._openLayoutChildSettings(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.nested_layout_settings",d,"Nested Layout Settings")}"
                  >
                    <ha-icon icon="mdi:cog"></ha-icon>
                  </button>
                  <button
                    class="layout-module-duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateLayoutChildModule(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.duplicate_nested_layout",d,"Duplicate Nested Layout")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="layout-module-delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteLayoutChildModule(t,i,o,n)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.delete_nested_layout",d,"Delete Nested Layout")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                `:""}
          </div>
        </div>
        <div
          class="nested-layout-modules-container layout-modules-container"
          style="
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 8px 12px;
            min-height: 60px;
            box-sizing: border-box;
            overflow: hidden;
          "
          @dragover=${this._onDragOver}
          @dragenter=${e=>{if(e.preventDefault(),e.stopPropagation(),!this._draggedItem)return;if("nested-child"===this._draggedItem.type&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===o&&this._draggedItem.layoutChildIndex===n)return;this._dropTarget={type:"nested-layout",rowIndex:t,columnIndex:i,moduleIndex:o,childIndex:n};const a=e.currentTarget;a&&(a.style.borderColor="var(--primary-color)",a.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)"),this.requestUpdate()}}
          @dragleave=${this._onDragLeave}
          @drop=${e=>{e.preventDefault(),e.stopPropagation();const a=e.currentTarget;if(a&&(a.style.borderColor="",a.style.backgroundColor=""),!this._draggedItem)return;if("nested-child"===this._draggedItem.type&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===o&&this._draggedItem.layoutChildIndex===n)return;const r=this._ensureLayout(),s=JSON.parse(JSON.stringify(r)),l=s.rows[t].columns[i].modules[o].modules[n];if(l&&this._isLayoutModule(l.type)){let e;if(l.modules||(l.modules=[]),void 0!==this._draggedItem.layoutChildIndex){const t=s.rows[this._draggedItem.rowIndex].columns[this._draggedItem.columnIndex].modules[this._draggedItem.moduleIndex];e=t.modules[this._draggedItem.layoutChildIndex],t.modules.splice(this._draggedItem.layoutChildIndex,1)}else e=s.rows[this._draggedItem.rowIndex].columns[this._draggedItem.columnIndex].modules[this._draggedItem.moduleIndex],s.rows[this._draggedItem.rowIndex].columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1);l.modules.push(e),this._updateLayout(s)}this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}}
        >
          ${u?c.modules.map(((e,r)=>a.qy`
                  <div
                    class="nested-layout-child-wrapper"
                    style="width: 100%; box-sizing: border-box;"
                    @dragover=${e=>this._onNestedChildDragOver(e,t,i,o,n,r)}
                    @dragenter=${e=>this._onNestedChildDragEnter(e,t,i,o,n,r)}
                    @dragleave=${e=>this._onNestedChildDragLeave(e)}
                    @drop=${e=>this._onNestedChildDrop(e,t,i,o,n,r)}
                  >
                    ${this._renderNestedChildModule(e,t,i,o,n,r)}
                  </div>
                `)):a.qy`
                <div
                  class="nested-layout-empty layout-module-empty"
                  @click=${e=>{e.stopPropagation(),void 0!==t&&void 0!==i&&void 0!==o&&void 0!==n&&this._openNestedLayoutModuleSelector(t,i,o,n)}}
                  title="${(0,p.kg)("editor.layout.click_to_add_to_nested",d,"Click to add a module to nested layout")}"
                  style="cursor: pointer;"
                >
                  <ha-icon icon="mdi:plus-circle"></ha-icon>
                  <span>
                    ${(0,p.kg)("editor.layout.drop_modules_here",d,"Drop modules here")}
                  </span>
                </div>
              `}
        </div>
      </div>
    `}_renderNestedChildModule(e,t,i,o,n,r){var l,d;const c=(null===(d=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===d?void 0:d.language)||"en";if("horizontal"===e.type||"vertical"===e.type||"slider"===e.type)return this._renderLayoutChildModule(e,t,i,o,n);const u=(0,s.oD)().getModule(e.type),g=(null==u?void 0:u.metadata)||{icon:"mdi:help-circle",title:"Unknown",description:"Unknown module type"},m=this._generateModuleInfo(e),h=this._getModuleDisplayName(e);return a.qy`
      <div
        class="layout-child-simplified-module"
        draggable="true"
        @dragstart=${a=>this._onNestedChildDragStart(a,e,t,i,o,n,r)}
        @dragend=${e=>this._onNestedChildDragEnd(e)}
        @click=${e=>{const a=e.target;a.closest(".layout-child-actions")||a.closest(".layout-child-drag-handle")||(e.stopPropagation(),void 0!==t&&void 0!==i&&void 0!==o&&void 0!==n&&void 0!==r&&this._openNestedChildSettings(t,i,o,n,r))}}
      >
        <div class="layout-child-module-header">
          <div
            class="layout-child-drag-handle"
            title="${(0,p.kg)("editor.layout.drag_to_reorder",c,"Drag to reorder")}"
          >
            <ha-icon icon="mdi:drag"></ha-icon>
          </div>
          <ha-icon icon="${g.icon}" class="layout-child-icon"></ha-icon>
          <div class="layout-child-content">
            <div class="layout-child-title">${h}</div>
            <div class="layout-child-info">${m}</div>
          </div>
          ${void 0!==t&&void 0!==i&&void 0!==o&&void 0!==n&&void 0!==r?a.qy`
                <div class="layout-child-actions">
                  <button
                    class="layout-child-action-btn edit-btn"
                    @click=${e=>{e.stopPropagation(),this._openNestedChildSettings(t,i,o,n,r)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.edit_nested_child_module",c,"Edit Nested Child Module")}"
                  >
                    <ha-icon icon="mdi:pencil"></ha-icon>
                  </button>
                  <button
                    class="layout-child-action-btn duplicate-btn"
                    @click=${e=>{e.stopPropagation(),this._duplicateNestedChildModule(t,i,o,n,r)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.duplicate_nested_child_module",c,"Duplicate Nested Child Module")}"
                  >
                    <ha-icon icon="mdi:content-copy"></ha-icon>
                  </button>
                  <button
                    class="layout-child-action-btn delete-btn"
                    @click=${e=>{e.stopPropagation(),this._deleteNestedChildModule(t,i,o,n,r)}}
                    @mousedown=${e=>e.stopPropagation()}
                    @dragstart=${e=>e.preventDefault()}
                    title="${(0,p.kg)("editor.layout.delete_nested_child_module",c,"Delete Nested Child Module")}"
                  >
                    <ha-icon icon="mdi:delete"></ha-icon>
                  </button>
                </div>
              `:""}
        </div>
      </div>
    `}_onLayoutModuleDragOver(e,t,i,o){e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}_onLayoutModuleDragEnter(e,t,i,o){e.preventDefault(),e.stopPropagation(),this._draggedItem&&"module"===this._draggedItem.type&&(this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===o||e.currentTarget.classList.add("layout-drop-target"))}_onLayoutModuleDragLeave(e){e.preventDefault(),e.stopPropagation()}_onLayoutModuleDrop(e,t,i,o){if(e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("layout-drop-target"),!this._draggedItem||"module"!==this._draggedItem.type)return;if(void 0===t||void 0===i||void 0===o)return;const a=this._ensureLayout(),n=a.rows[t];if(!n||!n.columns[i])return;const r=n.columns[i].modules[o];if(!r||!this._isLayoutModule(r.type))return;r.modules||(r.modules=[]);const s=JSON.parse(JSON.stringify(this._draggedItem.data));if(void 0!==this._draggedItem.layoutChildIndex&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===o)return;r.modules.push(s);const l=a.rows[this._draggedItem.rowIndex];l&&l.columns[this._draggedItem.columnIndex]&&l.columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1),this._updateLayout(a),this._draggedItem=null,this._dropTarget=null}_onLayoutChildDragStart(e,t,i,o,a){var n,r,s;if(!e.dataTransfer)return;e.stopPropagation();const l=null===(r=null===(n=this._ensureLayout().rows[t])||void 0===n?void 0:n.columns[i])||void 0===r?void 0:r.modules[o],d=null===(s=null==l?void 0:l.modules)||void 0===s?void 0:s[a];if(d){this._draggedItem={type:"module",rowIndex:t,columnIndex:i,moduleIndex:o,data:d,layoutChildIndex:a},e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify({type:"layout-child",parentRowIndex:t,parentColumnIndex:i,parentModuleIndex:o,childIndex:a}));const n=e.currentTarget;n&&(n.style.opacity="0.6",n.style.transform="scale(0.95)")}}_onLayoutChildDragEnd(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget;t&&(t.style.opacity="",t.style.transform=""),this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}_onNestedChildDragStart(e,t,i,o,a,n,r){if(!e.dataTransfer)return;e.stopPropagation(),this._draggedItem={type:"nested-child",rowIndex:i,columnIndex:o,moduleIndex:a,layoutChildIndex:n,nestedChildIndex:r,data:t},e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain","nested-child-module");const s=e.currentTarget;s&&(s.style.opacity="0.5",s.style.transform="scale(0.95)")}_onNestedChildDragEnd(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget;t&&(t.style.opacity="",t.style.transform=""),this._draggedItem=null,this._dropTarget=null}_onNestedChildDragOver(e,t,i,o,a,n){e.preventDefault(),e.stopPropagation()}_onNestedChildDragEnter(e,t,i,o,a,n){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem)return;if("nested-child"!==this._draggedItem.type||this._draggedItem.rowIndex!==t||this._draggedItem.columnIndex!==i||this._draggedItem.moduleIndex!==o||this._draggedItem.layoutChildIndex!==a)return;if(this._draggedItem.nestedChildIndex===n)return;const r=e.currentTarget;r&&(r.style.backgroundColor="var(--primary-color, #03a9f4)",r.style.opacity="0.3")}_onNestedChildDragLeave(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget;t&&(t.style.backgroundColor="",t.style.opacity="")}_onNestedChildDrop(e,t,i,o,a,n){e.preventDefault(),e.stopPropagation();const r=e.currentTarget;if(r&&(r.style.backgroundColor="",r.style.opacity=""),!this._draggedItem)return;if("nested-child"!==this._draggedItem.type||this._draggedItem.rowIndex!==t||this._draggedItem.columnIndex!==i||this._draggedItem.moduleIndex!==o||this._draggedItem.layoutChildIndex!==a)return;if(this._draggedItem.nestedChildIndex===n)return;const s=this._ensureLayout(),l=JSON.parse(JSON.stringify(s));let d=this._draggedItem.nestedChildIndex,c=n;const p=l.rows[t].columns[i].modules[o];if(!p||!Array.isArray(p.modules))return void console.warn(" Parent layout module missing modules array");const u=p.modules[a];if(!u||!Array.isArray(u.modules))return void console.warn(" Nested layout missing modules array");const g=u.modules;d<c&&(c=Math.max(0,c-1)),d=Math.max(0,Math.min(d,g.length-1)),c=Math.max(0,Math.min(c,g.length));const[m]=g.splice(d,1);g.splice(c,0,m),this._updateLayout(l),this._draggedItem=null,this.requestUpdate()}_onLayoutChildDragEnter(e,t,i,o,a){e.preventDefault(),e.stopPropagation(),this._draggedItem&&"module"===this._draggedItem.type&&(void 0!==this._draggedItem.layoutChildIndex&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===o&&this._draggedItem.layoutChildIndex===a||(this._dropTarget={type:"layout-child",rowIndex:t,columnIndex:i,moduleIndex:o,childIndex:a},this.requestUpdate()))}_onLayoutChildDrop(e,t,i,o,a){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem||"module"!==this._draggedItem.type)return;if(void 0===t||void 0===i||void 0===o||void 0===a)return;const n=this._ensureLayout(),r=JSON.parse(JSON.stringify(n)),s=r.rows[t].columns[i].modules[o];if(s&&this._isLayoutModule(s.type)){if(s.modules||(s.modules=[]),void 0!==this._draggedItem.layoutChildIndex){const e=this._draggedItem.rowIndex,n=this._draggedItem.columnIndex,l=this._draggedItem.moduleIndex,d=this._draggedItem.layoutChildIndex;if(e===t&&n===i&&l===o){if(d===a)return;const e=s.modules.splice(d,1)[0];let t=a;d<a&&(t=a-1),s.modules.splice(t,0,e),this._updateLayout(r)}else{const t=r.rows[e].columns[n].modules[l];if(t&&this._isLayoutModule(t.type)&&t.modules){const e=t.modules.splice(d,1)[0];s.modules.splice(a,0,e),this._updateLayout(r)}}}else{const e=JSON.parse(JSON.stringify(this._draggedItem.data));s.modules.splice(a,0,e);const t=r.rows[this._draggedItem.rowIndex];t&&t.columns[this._draggedItem.columnIndex]&&t.columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1),this._updateLayout(r)}this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}}_onLayoutAppendDragEnter(e,t,i,o){if(e.preventDefault(),e.stopPropagation(),!this._draggedItem||"module"!==this._draggedItem.type)return;this._dropTarget={type:"layout-append",rowIndex:t,columnIndex:i,moduleIndex:o};const a=e.currentTarget;a.style.borderColor="var(--primary-color)",a.style.backgroundColor="rgba(var(--rgb-primary-color), 0.1)",this.requestUpdate()}_onLayoutAppendDrop(e,t,i,o){e.preventDefault(),e.stopPropagation();const a=e.currentTarget;if(a.style.borderColor="transparent",a.style.backgroundColor="transparent",!this._draggedItem||"module"!==this._draggedItem.type)return;if(void 0===t||void 0===i||void 0===o)return;const n=this._ensureLayout(),r=JSON.parse(JSON.stringify(n)),s=r.rows[t].columns[i].modules[o];if(s&&this._isLayoutModule(s.type))if(s.modules||(s.modules=[]),void 0!==this._draggedItem.layoutChildIndex&&this._draggedItem.rowIndex===t&&this._draggedItem.columnIndex===i&&this._draggedItem.moduleIndex===o){const e=this._draggedItem.layoutChildIndex,t=s.modules.splice(e,1)[0];s.modules.push(t),this._updateLayout(r)}else{const e=JSON.parse(JSON.stringify(this._draggedItem.data));if(s.modules.push(e),void 0===this._draggedItem.layoutChildIndex){const e=r.rows[this._draggedItem.rowIndex];e&&e.columns[this._draggedItem.columnIndex]&&e.columns[this._draggedItem.columnIndex].modules.splice(this._draggedItem.moduleIndex,1)}this._updateLayout(r)}this._draggedItem=null,this._dropTarget=null,this.requestUpdate()}_openLayoutModuleSelector(e,t,i){this._selectedRowIndex=e,this._selectedColumnIndex=t,this._selectedLayoutModuleIndex=i,this._showModuleSelector=!0}_openNestedLayoutModuleSelector(e,t,i,o){this._selectedRowIndex=e,this._selectedColumnIndex=t,this._selectedLayoutModuleIndex=i,this._selectedNestedChildIndex=o,this._showModuleSelector=!0}_openLayoutChildSettings(e,t,i,o){this._selectedLayoutChild={parentRowIndex:e,parentColumnIndex:t,parentModuleIndex:i,childIndex:o},this._showLayoutChildSettings=!0}_duplicateLayoutChildModule(e,t,i,o){const a=this._ensureLayout(),n=a.rows[e];if(!n||!n.columns[t])return;const r=n.columns[t];if(!r.modules||!r.modules[i])return;const s=r.modules[i];if(!s.modules||!s.modules[o])return;const l=s.modules[o],d=JSON.parse(JSON.stringify(l));this._regenerateModuleIds(d);const c={rows:a.rows.map(((a,n)=>n===e?Object.assign(Object.assign({},a),{columns:a.columns.map(((e,a)=>a===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e,i=[...t.modules];return i.splice(o+1,0,d),Object.assign(Object.assign({},t),{modules:i})}return e}))}):e))}):a))};this._updateLayout(c)}_duplicateNestedChildModule(e,t,i,o,a){const n=this._ensureLayout(),r=n.rows[e];if(!r||!r.columns[t])return;const s=r.columns[t];if(!s.modules||!s.modules[i])return;const l=s.modules[i];if(!l.modules||!l.modules[o])return;const d=l.modules[o];if(!d.modules||!d.modules[a])return;const c=d.modules[a],p=JSON.parse(JSON.stringify(c));this._regenerateModuleIds(p);const u={rows:n.rows.map(((n,r)=>r===e?Object.assign(Object.assign({},n),{columns:n.columns.map(((e,n)=>n===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e;return Object.assign(Object.assign({},t),{modules:t.modules.map(((e,t)=>{if(t===o){const t=e,i=[...t.modules];return i.splice(a+1,0,p),Object.assign(Object.assign({},t),{modules:i})}return e}))})}return e}))}):e))}):n))};this._updateLayout(u)}_deleteNestedChildModule(e,t,i,o,a){const n=this._ensureLayout(),r=n.rows[e];if(!r||!r.columns[t])return;const s=r.columns[t];if(!s.modules||!s.modules[i])return;const l=s.modules[i];if(!l.modules||!l.modules[o])return;const d=l.modules[o];if(!d.modules||!d.modules[a])return;const c={rows:n.rows.map(((n,r)=>r===e?Object.assign(Object.assign({},n),{columns:n.columns.map(((e,n)=>n===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e;return Object.assign(Object.assign({},t),{modules:t.modules.map(((e,t)=>{if(t===o){const t=e,i=[...t.modules];return i.splice(a,1),Object.assign(Object.assign({},t),{modules:i})}return e}))})}return e}))}):e))}):n))};this._updateLayout(c)}_openNestedChildSettings(e,t,i,o,a){this._selectedLayoutChild={parentRowIndex:e,parentColumnIndex:t,parentModuleIndex:i,childIndex:o},this._selectedNestedChildIndex=a,this._showLayoutChildSettings=!0}_regenerateModuleIds(e){e.id=`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,"horizontal"!==e.type&&"vertical"!==e.type||!e.modules||e.modules.forEach((e=>{this._regenerateModuleIds(e)})),"info"===e.type&&e.info_entities&&e.info_entities.forEach((e=>{e.id=`info-entity-${Date.now()}-${Math.random().toString(36).substr(2,9)}`})),"icon"===e.type&&e.icons&&e.icons.forEach((e=>{e.id=`icon-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}))}_deleteLayoutChildModule(e,t,i,o){const a=this._ensureLayout(),n=a.rows[e];if(!n||!n.columns[t])return;const r=n.columns[t];if(!r.modules||!r.modules[i])return;const s=r.modules[i];if(!s.modules||!s.modules[o])return;const l={rows:a.rows.map(((a,n)=>n===e?Object.assign(Object.assign({},a),{columns:a.columns.map(((e,a)=>a===t?Object.assign(Object.assign({},e),{modules:e.modules.map(((e,t)=>{if(t===i){const t=e;return Object.assign(Object.assign({},t),{modules:t.modules.filter(((e,t)=>t!==o))})}return e}))}):e))}):a))};this._updateLayout(l)}_getModuleDisplayName(e){var t,i;const o=e;if(o.module_name&&o.module_name.trim())return o.module_name;const a=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";switch(e.type){case"text":return(0,p.kg)("editor.modules.text",a,"Text Module");case"image":return(0,p.kg)("editor.modules.image",a,"Image Module");case"icon":return(0,p.kg)("editor.modules.icon",a,"Icon Module");case"bar":return(0,p.kg)("editor.modules.bar",a,"Bar Module");case"info":return(0,p.kg)("editor.modules.info",a,"Info Module");case"button":return(0,p.kg)("editor.modules.button",a,"Button Module");case"separator":return(0,p.kg)("editor.modules.separator",a,"Separator Module");case"markdown":return(0,p.kg)("editor.modules.markdown",a,"Markdown Module");case"camera":return(0,p.kg)("editor.modules.camera",a,"Camera Module");case"graphs":return(0,p.kg)("editor.modules.graphs",a,"Graphs Module");default:return e.type.charAt(0).toUpperCase()+e.type.slice(1)+" Module"}}_generateModuleInfo(e){var t,i,o,a,n,r;const s=e,l=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";switch(e.type){case"text":return s.text&&s.text.trim()?s.text.length>50?`${s.text.substring(0,50)}...`:s.text:(0,p.kg)("editor.modules.no_text_configured",l,"No text configured");case"image":if(s.image_entity)return`Entity: ${s.image_entity}`;if(s.image_url){const e=s.image_url;if(e.startsWith("data:image/"))return(0,p.kg)("editor.modules.uploaded_image",l,"Uploaded image");const t=e.split("/").pop()||e;return t.length>30?`${t.substring(0,30)}...`:t}if(s.image_path){const e=s.image_path,t=e.split("/").pop()||e;return t.length>30?`${t.substring(0,30)}...`:t}return(0,p.kg)("editor.modules.no_image_configured",l,"No image configured");case"icon":const t=(null===(o=s.icons)||void 0===o?void 0:o.length)||0;if(t>1)return(0,p.kg)("editor.modules.icons_configured",l,"{count} icons configured").replace("{count}",t.toString());if(1===t){const e=s.icons[0];return(null==e?void 0:e.entity)?`Entity: ${e.entity}`:(null==e?void 0:e.icon)?`Icon: ${e.icon}`:"Icon configured"}return(0,p.kg)("editor.modules.no_icons_configured",l,"No icons configured");case"bar":return s.entity?`Entity: ${s.entity}`:(0,p.kg)("editor.modules.default_entity_suggestion",l,"Entity: sensor.battery_level");case"info":if(null===(a=s.info_entities)||void 0===a?void 0:a.length){const e=s.info_entities[0];if(null==e?void 0:e.entity)return s.info_entities.length>1?`${e.entity} + ${s.info_entities.length-1} more`:`Entity: ${e.entity}`}return s.entity?`Entity: ${s.entity}`:(null===(n=s.entities)||void 0===n?void 0:n.length)?`${s.entities.length} entities configured`:"No entity configured";case"button":return s.button_text&&s.button_text.trim()?s.button_text:s.text&&s.text.trim()?s.text:s.label&&s.label.trim()?s.label:"No button text configured";case"markdown":const i=s.content||s.markdown_content;if(i&&i.trim()){const e=i.replace(/[#*`>\-\[\]]/g,"").trim().split(" ").slice(0,8).join(" ");return e.length>40?`${e.substring(0,40)}...`:e}return"This is a markdown module that supports italic and bold text...";case"separator":const d=[];return s.separator_style&&d.push(`Style: ${s.separator_style}`),s.thickness&&d.push(`${s.thickness}px thick`),s.width_percent&&100!==s.width_percent&&d.push(`${s.width_percent}% width`),d.length>0?d.join("  "):"Visual separator";default:return s.entity?`Entity: ${s.entity}`:(null===(r=s.entities)||void 0===r?void 0:r.length)?`${s.entities.length} entities`:void 0!==s.value?`Value: ${s.value}`:s.text?`Text: ${s.text.length>20?s.text.substring(0,20)+"...":s.text}`:`${e.type.charAt(0).toUpperCase()}${e.type.slice(1)} module`}}_renderSingleModuleWithAnimation(e){return f.E.renderModuleInCard(e,this.hass,this.config,{showLogicOverlay:!0})}_getRowPreviewAnimationData(e){const t=e.design||{},i=t.animation_type;if(!i||"none"===i)return{class:"",duration:"2s"};const o=t.animation_duration||"2s",a=t.animation_entity,n=t.animation_trigger_type||"state",r=t.animation_attribute,s=t.animation_state;if(!a)return{class:`animation-${i}`,duration:o};if(s&&this.hass){const e=this.hass.states[a];if(e){let t=!1;if("attribute"===n&&r){const i=e.attributes[r];t=String(i)===s}else t=e.state===s;if(t)return{class:`animation-${i}`,duration:o}}}return{class:"",duration:o}}_getColumnPreviewAnimationData(e){const t=e.design||{},i=t.animation_type;if(!i||"none"===i)return{class:"",duration:"2s"};const o=t.animation_duration||"2s",a=t.animation_entity,n=t.animation_trigger_type||"state",r=t.animation_attribute,s=t.animation_state;if(!a)return{class:`animation-${i}`,duration:o};if(s&&this.hass){const e=this.hass.states[a];if(e){let t=!1;if("attribute"===n&&r){const i=e.attributes[r];t=String(i)===s}else t=e.state===s;if(t)return{class:`animation-${i}`,duration:o}}}return{class:"",duration:o}}_renderRowPreview(e){var t,i,o,n;const r=this._getRowPreviewAnimationData(e),s=e.design||{},l=this._resolvePreviewBackgroundImageCSS(s),d=a.qy`
      <div
        class="row-preview-content"
        style="background: ${(null===(t=e.design)||void 0===t?void 0:t.background_color)||e.background_color||"var(--ha-card-background, var(--card-background-color, #fff))"}; background-image: ${l}; background-size: ${s.background_size||"cover"}; background-position: ${s.background_position||"center"}; background-repeat: ${s.background_repeat||"no-repeat"};gap: ${null!==(i=e.gap)&&void 0!==i?i:16}px;"
      >
        ${e.columns.map(((e,t)=>a.qy`<div class="column-preview">Column ${t+1}</div>`))}
      </div>
    `,c=(null===(n=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===n?void 0:n.language)||"en";return a.qy`
      <div class="module-preview">
        <div
          class="preview-header"
          @click=${this._toggleRowColumnPreviewCollapsed}
          title="${(0,p.kg)("editor.layout.toggle_preview",c,"Toggle preview")}"
        >
          <span>${(0,p.kg)("editor.layout.live_preview",c,"Live Preview")}</span>
          <ha-icon
            class="preview-caret"
            icon="${this._isRowColumnPreviewCollapsed?"mdi:chevron-down":"mdi:chevron-up"}"
          ></ha-icon>
        </div>
        <div
          class="preview-content"
          style="display: ${this._isRowColumnPreviewCollapsed?"none":"block"};"
        >
          ${r.class?a.qy`
                <div
                  class="${r.class}"
                  style="display: inherit; width: inherit; height: inherit; flex: inherit; animation-duration: ${r.duration};"
                >
                  ${d}
                </div>
              `:d}
        </div>
      </div>
    `}_renderColumnPreview(e){var t,i,o,n,r,s,l,d;const c=this._getColumnPreviewAnimationData(e),u=e.design||{},g=this._resolvePreviewBackgroundImageCSS(u),m=a.qy`
      <div
        class="column-preview-content"
        style="background: ${(null===(t=e.design)||void 0===t?void 0:t.background_color)||e.background_color||"var(--ha-card-background, var(--card-background-color, #fff))"}; background-image: ${g}; background-size: ${u.background_size||"cover"}; background-position: ${u.background_position||"center"}; background-repeat: ${u.background_repeat||"no-repeat"};"
      >
        <p>
          ${(0,p.kg)("editor.layout.column_preview",(null===(o=null===(i=this.hass)||void 0===i?void 0:i.locale)||void 0===o?void 0:o.language)||"en","Column Preview")}
        </p>
        <div class="module-count">
          ${(0,p.kg)("editor.layout.modules_count",(null===(r=null===(n=this.hass)||void 0===n?void 0:n.locale)||void 0===r?void 0:r.language)||"en","{count} modules").replace("{count}",String((null===(s=e.modules)||void 0===s?void 0:s.length)||0))}
        </div>
      </div>
    `,h=(null===(d=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===d?void 0:d.language)||"en";return a.qy`
      <div class="module-preview">
        <div
          class="preview-header"
          @click=${this._toggleRowColumnPreviewCollapsed}
          title="${(0,p.kg)("editor.layout.toggle_preview",h,"Toggle preview")}"
        >
          <span>${(0,p.kg)("editor.layout.live_preview",h,"Live Preview")}</span>
          <ha-icon
            class="preview-caret"
            icon="${this._isRowColumnPreviewCollapsed?"mdi:chevron-down":"mdi:chevron-up"}"
          ></ha-icon>
        </div>
        <div
          class="preview-content"
          style="display: ${this._isRowColumnPreviewCollapsed?"none":"block"};"
        >
          ${c.class?a.qy`
                <div
                  class="${c.class}"
                  style="display: inherit; width: inherit; height: inherit; flex: inherit; animation-duration: ${c.duration};"
                >
                  ${m}
                </div>
              `:m}
        </div>
      </div>
    `}_renderModuleSettings(){var e,t,i,o,n,r,l,d;if(!this._selectedModule)return a.qy``;const{rowIndex:c,columnIndex:u,moduleIndex:g}=this._selectedModule,m=null===(i=null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows[c])||void 0===t?void 0:t.columns[u])||void 0===i?void 0:i.modules[g];if(!m)return a.qy``;const h=(0,s.oD)().getModule(m.type),_=h&&"function"==typeof h.renderActionsTab;("actions"===this._activeModuleTab&&!_||"other"===this._activeModuleTab)&&(this._activeModuleTab="general");const v=(null===(n=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===n?void 0:n.language)||"en";return a.qy`
      <div class="module-settings-popup">
        <div class="popup-overlay"></div>
        <div
          class="popup-content draggable-popup"
          id="module-popup-${null===(r=this._selectedModule)||void 0===r?void 0:r.rowIndex}-${null===(l=this._selectedModule)||void 0===l?void 0:l.columnIndex}-${null===(d=this._selectedModule)||void 0===d?void 0:d.moduleIndex}"
        >
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,p.kg)("editor.layout.module_settings_title",v,"Module Settings")} -
              ${m.type.charAt(0).toUpperCase()+m.type.slice(1)}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._selectedModule&&(this._duplicateModule(this._selectedModule.rowIndex,this._selectedModule.columnIndex,this._selectedModule.moduleIndex),this._closeModuleSettings())}}
                title="${(0,p.kg)("editor.layout.duplicate_module",v,"Duplicate Module")}"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._selectedModule&&(this._deleteModule(this._selectedModule.rowIndex,this._selectedModule.columnIndex,this._selectedModule.moduleIndex),this._closeModuleSettings())}}
                title="${(0,p.kg)("editor.layout.delete_module",v,"Delete Module")}"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._closeModuleSettings()}></button>
            </div>
          </div>

          <div class="popup-body">
            ${this._renderModulePreview()}

            <div class="module-tabs">
              <button
                class="module-tab ${"general"===this._activeModuleTab?"active":""}"
                @click=${()=>this._activeModuleTab="general"}
              >
                ${(0,p.kg)("editor.layout.general_tab",v,"General")}
              </button>
              ${_?a.qy`
                    <button
                      class="module-tab ${"actions"===this._activeModuleTab?"active":""}"
                      @click=${()=>this._activeModuleTab="actions"}
                    >
                      ${(0,p.kg)("editor.layout.actions_tab",v,"Actions")}
                    </button>
                  `:""}
              ${""}
              <button
                class="module-tab ${"logic"===this._activeModuleTab?"active":""}"
                @click=${()=>this._activeModuleTab="logic"}
              >
                ${(0,p.kg)("editor.layout.logic_tab",v,"Logic")}
              </button>
              <button
                class="module-tab ${"design"===this._activeModuleTab?"active":""}"
                @click=${()=>this._activeModuleTab="design"}
              >
                ${(0,p.kg)("editor.layout.design_tab",v,"Design")}
              </button>
            </div>

            <div class="module-tab-content">
              ${"general"===this._activeModuleTab?this._renderGeneralTab(m):""}
              ${"actions"===this._activeModuleTab&&_?this._renderActionsTab(m):""}
              ${this._activeModuleTab,""}
              ${"logic"===this._activeModuleTab?this._renderModuleLogicTab(m):""}
              ${"design"===this._activeModuleTab?this._renderDesignTab(m):""}
            </div>
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="${(0,p.kg)("editor.layout.drag_to_resize",v,"Drag to resize")}"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}_renderLayoutChildSettings(){var e,t,i,o,n,r;if(!this._selectedLayoutChild)return a.qy``;const{parentRowIndex:l,parentColumnIndex:d,parentModuleIndex:c,childIndex:u}=this._selectedLayoutChild,g=this._ensureLayout().rows[l];if(!g||!g.columns[d])return a.qy``;const m=g.columns[d];if(!m.modules||!m.modules[c])return a.qy``;const h=m.modules[c];let _;if(this._selectedNestedChildIndex>=0){if(!h.modules||!h.modules[u])return a.qy``;const e=h.modules[u];if(!e.modules||!e.modules[this._selectedNestedChildIndex])return a.qy``;_=e.modules[this._selectedNestedChildIndex]}else{if(!h.modules||!h.modules[u])return a.qy``;_=h.modules[u]}const v=(0,s.oD)().getModule(_.type),f=v&&"function"==typeof v.renderActionsTab;("actions"===this._activeModuleTab&&!f||"other"===this._activeModuleTab)&&(this._activeModuleTab="general");const b=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return a.qy`
      <div class="module-settings-popup">
        <div class="popup-overlay" @click=${()=>this._closeLayoutChildSettings()}></div>
        <div
          class="popup-content draggable-popup"
          id="child-popup-${null===(i=this._selectedLayoutChild)||void 0===i?void 0:i.parentRowIndex}-${null===(o=this._selectedLayoutChild)||void 0===o?void 0:o.parentColumnIndex}-${null===(n=this._selectedLayoutChild)||void 0===n?void 0:n.parentModuleIndex}-${null===(r=this._selectedLayoutChild)||void 0===r?void 0:r.childIndex}"
        >
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,p.kg)("editor.layout.child_module_settings_title",b,"Child Module Settings")}
              - ${_.type.charAt(0).toUpperCase()+_.type.slice(1)}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._selectedLayoutChild&&(this._duplicateLayoutChildModule(this._selectedLayoutChild.parentRowIndex,this._selectedLayoutChild.parentColumnIndex,this._selectedLayoutChild.parentModuleIndex,this._selectedLayoutChild.childIndex),this._closeLayoutChildSettings())}}
                title="Duplicate Child Module"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._selectedLayoutChild&&(this._deleteLayoutChildModule(this._selectedLayoutChild.parentRowIndex,this._selectedLayoutChild.parentColumnIndex,this._selectedLayoutChild.parentModuleIndex,this._selectedLayoutChild.childIndex),this._closeLayoutChildSettings())}}
                title="Delete Child Module"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._closeLayoutChildSettings()}>
                
              </button>
            </div>
          </div>

          <!-- Child module preview -->
          <div class="module-preview">
            <div
              class="preview-header"
              @click=${this._togglePreviewCollapsed}
              title="${(0,p.kg)("editor.layout.toggle_preview",b,"Toggle preview")}"
            >
              <span>${(0,p.kg)("editor.layout.live_preview",b,"Live Preview")}</span>
              <ha-icon
                class="preview-caret"
                icon="${this._isCurrentModulePreviewCollapsed()?"mdi:chevron-down":"mdi:chevron-up"}"
              ></ha-icon>
            </div>
            <div
              class="preview-content"
              style="display: ${this._isCurrentModulePreviewCollapsed()?"none":"block"};"
            >
              ${this._renderSingleModuleWithAnimation(_)}
            </div>
          </div>

          <div class="module-tabs">
            <button
              class="module-tab ${"general"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="general"}
            >
              ${(0,p.kg)("editor.layout.general_tab",b,"General")}
            </button>
            ${f?a.qy`
                  <button
                    class="module-tab ${"actions"===this._activeModuleTab?"active":""}"
                    @click=${()=>this._activeModuleTab="actions"}
                  >
                    ${(0,p.kg)("editor.layout.actions_tab",b,"Actions")}
                  </button>
                `:""}
            ${""}
            <button
              class="module-tab ${"logic"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="logic"}
            >
              ${(0,p.kg)("editor.layout.logic_tab",b,"Logic")}
            </button>
            <button
              class="module-tab ${"design"===this._activeModuleTab?"active":""}"
              @click=${()=>this._activeModuleTab="design"}
            >
              ${(0,p.kg)("editor.layout.design_tab",b,"Design")}
            </button>
          </div>

          <div class="popup-body">
            <div class="module-tab-content">
              ${"general"===this._activeModuleTab?this._renderLayoutChildGeneralTab(_):""}
              ${"actions"===this._activeModuleTab&&f?this._renderLayoutChildActionsTab(_):""}
              ${this._activeModuleTab,""}
              ${"logic"===this._activeModuleTab?this._renderLayoutChildLogicTab(_):""}
              ${"design"===this._activeModuleTab?this._renderLayoutChildDesignTab(_):""}
            </div>
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}_renderLayoutChildGeneralTab(e){var t,i;const o=(0,s.oD)().getModule(e.type),n=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en",r=a.qy`
      <div class="settings-section">
        <label>${(0,p.kg)("editor.layout_extra.module_name",n,"Module Name:")}</label>
        <input
          type="text"
          .value=${e.module_name||""}
          @input=${e=>this._updateLayoutChildModule({module_name:e.target.value})}
          placeholder="${(0,p.kg)("editor.layout_extra.module_name_placeholder",n,"Give this module a custom name to make it easier to identify in the editor.")}"
          class="module-name-input"
        />
        <div class="field-help">
          ${(0,p.kg)("editor.layout_extra.module_name_help",n,"Give this module a custom name to make it easier to identify in the editor.")}
        </div>
      </div>
    `;if(o){const t=o.renderGeneralTab(e,this.hass,this.config,(e=>this._updateLayoutChildModule(e)));return a.qy` ${r} ${t} `}return a.qy`
      ${r}
      <div class="settings-section">
        <div class="error-message">
          <ha-icon icon="mdi:alert-circle"></ha-icon>
          <span>No settings available for module type: ${e.type}</span>
        </div>
      </div>
    `}_renderLayoutChildActionsTab(e){const t=(0,s.oD)().getModule(e.type);return t&&"function"==typeof t.renderActionsTab?t.renderActionsTab(e,this.hass,this.config,(e=>this._updateLayoutChildModule(e)),(e=>this._updateConfig(e))):a.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have action settings</span>
        </div>
      </div>
    `}_renderLayoutChildOtherTab(e){const t=(0,s.oD)().getModule(e.type);return t&&"function"==typeof t.renderOtherTab?t.renderOtherTab(e,this.hass,this.config,(e=>this._updateLayoutChildModule(e))):a.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have other settings</span>
        </div>
      </div>
    `}_renderModuleLogicTab(e){return m.X.render(e,this.hass,(e=>this._updateModule(e)))}_renderLayoutChildLogicTab(e){return m.X.render(e,this.hass,(e=>this._updateLayoutChildModule(e)))}_renderLayoutChildDesignTab(e){var t,i,o,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j,B,D,O,J,R,U,M,H,N,L,F,K,V,q,Q,G,Y,W,Z;const X={color:e.color,text_align:e.text_align||(null===(t=e.design)||void 0===t?void 0:t.text_align),font_size:e.font_size||(null===(i=e.design)||void 0===i?void 0:i.font_size),line_height:e.line_height||(null===(o=e.design)||void 0===o?void 0:o.line_height),letter_spacing:e.letter_spacing||(null===(n=e.design)||void 0===n?void 0:n.letter_spacing),font_family:e.font_family||(null===(r=e.design)||void 0===r?void 0:r.font_family),font_weight:e.font_weight||(null===(s=e.design)||void 0===s?void 0:s.font_weight),text_transform:e.text_transform||(null===(l=e.design)||void 0===l?void 0:l.text_transform),font_style:e.font_style||(null===(d=e.design)||void 0===d?void 0:d.font_style),background_color:e.background_color||(null===(c=e.design)||void 0===c?void 0:c.background_color),background_image:e.background_image||(null===(p=e.design)||void 0===p?void 0:p.background_image),background_image_type:e.background_image_type||(null===(u=e.design)||void 0===u?void 0:u.background_image_type),background_image_entity:e.background_image_entity||(null===(g=e.design)||void 0===g?void 0:g.background_image_entity),background_repeat:e.background_repeat||(null===(m=e.design)||void 0===m?void 0:m.background_repeat),background_position:e.background_position||(null===(h=e.design)||void 0===h?void 0:h.background_position),background_size:e.background_size||(null===(_=e.design)||void 0===_?void 0:_.background_size),backdrop_filter:e.backdrop_filter||(null===(v=e.design)||void 0===v?void 0:v.backdrop_filter),width:e.width||(null===(f=e.design)||void 0===f?void 0:f.width),height:e.height||(null===(b=e.design)||void 0===b?void 0:b.height),max_width:e.max_width||(null===(y=e.design)||void 0===y?void 0:y.max_width),max_height:e.max_height||(null===(k=e.design)||void 0===k?void 0:k.max_height),min_width:e.min_width||(null===(x=e.design)||void 0===x?void 0:x.min_width),min_height:e.min_height||(null===(w=e.design)||void 0===w?void 0:w.min_height),margin_top:e.margin_top||(null===(S=e.design)||void 0===S?void 0:S.margin_top),margin_bottom:e.margin_bottom||(null===(A=e.design)||void 0===A?void 0:A.margin_bottom),margin_left:e.margin_left||(null===(C=e.design)||void 0===C?void 0:C.margin_left),margin_right:e.margin_right||(null===(z=e.design)||void 0===z?void 0:z.margin_right),padding_top:e.padding_top||(null===(T=e.design)||void 0===T?void 0:T.padding_top),padding_bottom:e.padding_bottom||(null===(I=e.design)||void 0===I?void 0:I.padding_bottom),padding_left:e.padding_left||(null===(E=e.design)||void 0===E?void 0:E.padding_left),padding_right:e.padding_right||(null===($=e.design)||void 0===$?void 0:$.padding_right),border_radius:e.border_radius||(null===(P=e.design)||void 0===P?void 0:P.border_radius),border_style:e.border_style||(null===(j=e.design)||void 0===j?void 0:j.border_style),border_width:e.border_width||(null===(B=e.design)||void 0===B?void 0:B.border_width),border_color:e.border_color||(null===(D=e.design)||void 0===D?void 0:D.border_color),position:e.position||(null===(O=e.design)||void 0===O?void 0:O.position),top:e.top||(null===(J=e.design)||void 0===J?void 0:J.top),bottom:e.bottom||(null===(R=e.design)||void 0===R?void 0:R.bottom),left:e.left||(null===(U=e.design)||void 0===U?void 0:U.left),right:e.right||(null===(M=e.design)||void 0===M?void 0:M.right),z_index:e.z_index||(null===(H=e.design)||void 0===H?void 0:H.z_index),overflow:e.overflow||(null===(N=e.design)||void 0===N?void 0:N.overflow),clip_path:e.clip_path||(null===(L=e.design)||void 0===L?void 0:L.clip_path),box_shadow_h:e.box_shadow_h||(null===(F=e.design)||void 0===F?void 0:F.box_shadow_h),box_shadow_v:e.box_shadow_v||(null===(K=e.design)||void 0===K?void 0:K.box_shadow_v),box_shadow_blur:e.box_shadow_blur||(null===(V=e.design)||void 0===V?void 0:V.box_shadow_blur),box_shadow_spread:e.box_shadow_spread||(null===(q=e.design)||void 0===q?void 0:q.box_shadow_spread),box_shadow_color:e.box_shadow_color||(null===(Q=e.design)||void 0===Q?void 0:Q.box_shadow_color),text_shadow_h:e.text_shadow_h||(null===(G=e.design)||void 0===G?void 0:G.text_shadow_h),text_shadow_v:e.text_shadow_v||(null===(Y=e.design)||void 0===Y?void 0:Y.text_shadow_v),text_shadow_blur:e.text_shadow_blur||(null===(W=e.design)||void 0===W?void 0:W.text_shadow_blur),text_shadow_color:e.text_shadow_color||(null===(Z=e.design)||void 0===Z?void 0:Z.text_shadow_color),animation_type:e.animation_type,animation_entity:e.animation_entity,animation_trigger_type:e.animation_trigger_type,animation_attribute:e.animation_attribute,animation_state:e.animation_state,intro_animation:e.intro_animation,outro_animation:e.outro_animation,animation_duration:e.animation_duration,animation_delay:e.animation_delay,animation_timing:e.animation_timing},ee=a.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${X}
        .onUpdate=${e=>{var t,i;const o=this._ensureLayout(),a=this._selectedLayoutChild;let n;if(a){const e=((null===(i=null===(t=o.rows[a.parentRowIndex])||void 0===t?void 0:t.columns[a.parentColumnIndex])||void 0===i?void 0:i.modules)||[])[a.parentModuleIndex];n=((null==e?void 0:e.modules)||[])[a.childIndex]}const r=(null==n?void 0:n.design)||{},s={design:Object.assign(Object.assign({},r),e)};Object.prototype.hasOwnProperty.call(e,"background_color")&&(s.background_color=e.background_color,"bar"===(null==n?void 0:n.type)&&(s.bar_background_color=e.background_color)),Object.prototype.hasOwnProperty.call(e,"font_size")&&(s.font_size=e.font_size),this._updateLayoutChildModule(s)}}
      ></ultra-global-design-tab>
    `;return ee}_renderRowSettings(){var e,t,i,o,n,r,s,l,d,c,u;if(-1===this._selectedRowForSettings)return a.qy``;const g=null===(e=this.config.layout)||void 0===e?void 0:e.rows[this._selectedRowForSettings];return g?a.qy`
      <div class="settings-popup">
        <div class="popup-overlay" @click=${()=>this._showRowSettings=!1}></div>
        <div class="popup-content draggable-popup" id="row-popup-${this._selectedRowForSettings}">
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,p.kg)("editor.layout.row_settings",(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en","Row Settings")}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._duplicateRow(this._selectedRowForSettings),this._showRowSettings=!1}}
                title="Duplicate Row"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._deleteRow(this._selectedRowForSettings),this._showRowSettings=!1}}
                title="Delete Row"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._showRowSettings=!1}>
                
              </button>
            </div>
          </div>

          <div class="popup-body">
            ${this._renderRowPreview(g)}

            <div class="settings-tabs">
              <button
                class="settings-tab ${"general"===this._activeRowTab?"active":""}"
                @click=${()=>this._activeRowTab="general"}
              >
                ${(0,p.kg)("editor.layout.general_tab",(null===(n=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===n?void 0:n.language)||"en","General")}
              </button>
              <button
                class="settings-tab ${"actions"===this._activeRowTab?"active":""}"
                @click=${()=>this._activeRowTab="actions"}
              >
                ${(0,p.kg)("editor.layout.actions_tab",(null===(s=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===s?void 0:s.language)||"en","Actions")}
              </button>
              <button
                class="settings-tab ${"logic"===this._activeRowTab?"active":""}"
                @click=${()=>this._activeRowTab="logic"}
              >
                ${(0,p.kg)("editor.layout.logic_tab",(null===(d=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===d?void 0:d.language)||"en","Logic")}
              </button>
              <button
                class="settings-tab ${"design"===this._activeRowTab?"active":""}"
                @click=${()=>this._activeRowTab="design"}
              >
                ${(0,p.kg)("editor.layout.design_tab",(null===(u=null===(c=this.hass)||void 0===c?void 0:c.locale)||void 0===u?void 0:u.language)||"en","Design")}
              </button>
            </div>
            <div class="settings-tab-content">
              ${"general"===this._activeRowTab?this._renderRowGeneralTab(g):""}
              ${"actions"===this._activeRowTab?this._renderRowActionsTab(g):""}
              ${"logic"===this._activeRowTab?this._renderRowLogicTab(g):""}
              ${"design"===this._activeRowTab?this._renderRowDesignTab(g):""}
            </div>
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `:a.qy``}_renderColumnSettings(){var e,t,i,o,n,r,s,l,d,c,u,g,m,h;if(!this._selectedColumnForSettings)return a.qy``;const{rowIndex:_,columnIndex:v}=this._selectedColumnForSettings,f=null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows[_])||void 0===t?void 0:t.columns[v];return f?a.qy`
      <div class="settings-popup">
        <div class="popup-overlay" @click=${()=>this._showColumnSettings=!1}></div>
        <div
          class="popup-content draggable-popup"
          id="column-popup-${null===(i=this._selectedColumnForSettings)||void 0===i?void 0:i.rowIndex}-${null===(o=this._selectedColumnForSettings)||void 0===o?void 0:o.columnIndex}"
        >
          <div
            class="popup-header"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>
              ${(0,p.kg)("editor.layout.column_settings",(null===(r=null===(n=this.hass)||void 0===n?void 0:n.locale)||void 0===r?void 0:r.language)||"en","Column Settings")}
            </h3>
            <div class="header-actions">
              <button
                class="action-button duplicate-button"
                @click=${()=>{this._selectedColumnForSettings&&(this._duplicateColumn(this._selectedColumnForSettings.rowIndex,this._selectedColumnForSettings.columnIndex),this._showColumnSettings=!1)}}
                title="Duplicate Column"
              >
                <ha-icon icon="mdi:content-copy"></ha-icon>
              </button>
              <button
                class="action-button delete-button"
                @click=${()=>{this._selectedColumnForSettings&&(this._deleteColumn(this._selectedColumnForSettings.rowIndex,this._selectedColumnForSettings.columnIndex),this._showColumnSettings=!1)}}
                title="Delete Column"
              >
                <ha-icon icon="mdi:delete"></ha-icon>
              </button>
              <button class="close-button" @click=${()=>this._showColumnSettings=!1}>
                
              </button>
            </div>
          </div>

          <div class="popup-body">
            ${this._renderColumnPreview(f)}

            <div class="settings-tabs">
              <button
                class="settings-tab ${"general"===this._activeColumnTab?"active":""}"
                @click=${()=>this._activeColumnTab="general"}
              >
                ${(0,p.kg)("editor.layout.general_tab",(null===(l=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===l?void 0:l.language)||"en","General")}
              </button>
              <button
                class="settings-tab ${"actions"===this._activeColumnTab?"active":""}"
                @click=${()=>this._activeColumnTab="actions"}
              >
                ${(0,p.kg)("editor.layout.actions_tab",(null===(c=null===(d=this.hass)||void 0===d?void 0:d.locale)||void 0===c?void 0:c.language)||"en","Actions")}
              </button>
              <button
                class="settings-tab ${"logic"===this._activeColumnTab?"active":""}"
                @click=${()=>this._activeColumnTab="logic"}
              >
                ${(0,p.kg)("editor.layout.logic_tab",(null===(g=null===(u=this.hass)||void 0===u?void 0:u.locale)||void 0===g?void 0:g.language)||"en","Logic")}
              </button>
              <button
                class="settings-tab ${"design"===this._activeColumnTab?"active":""}"
                @click=${()=>this._activeColumnTab="design"}
              >
                ${(0,p.kg)("editor.layout.design_tab",(null===(h=null===(m=this.hass)||void 0===m?void 0:m.locale)||void 0===h?void 0:h.language)||"en","Design")}
              </button>
            </div>
            <div class="settings-tab-content">
              ${"general"===this._activeColumnTab?this._renderColumnGeneralTab(f):""}
              ${"actions"===this._activeColumnTab?this._renderColumnActionsTab(f):""}
              ${"logic"===this._activeColumnTab?this._renderColumnLogicTab(f):""}
              ${"design"===this._activeColumnTab?this._renderColumnDesignTab(f):""}
            </div>
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".popup-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `:a.qy``}_renderRowGeneralTab(e){var t,i,o,n,r,s;return a.qy`
      <div class="settings-section">
        <ultra-color-picker
          .label=${(0,p.kg)("editor.layout.row_background_color",(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en","Row Background Color")}
          .value=${e.background_color||""}
          .defaultValue=${"var(--ha-card-background, var(--card-background-color, #fff))"}
          .hass=${this.hass}
          @value-changed=${e=>{const t=e.detail.value;this._updateRow({background_color:t})}}
        ></ultra-color-picker>
      </div>
      <div class="settings-section">
        <label
          >${(0,p.kg)("editor.layout.column_gap",(null===(n=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===n?void 0:n.language)||"en","Column Gap (px)")}:</label
        >
        <div class="gap-control-container" style="display: flex; align-items: center; gap: 12px;">
          <input
            type="range"
            class="gap-slider"
            min="0"
            max="50"
            step="1"
            .value="${null!==(r=e.gap)&&void 0!==r?r:16}"
            @input=${e=>{const t=e.target,i=Number(t.value);this._updateRow({gap:i})}}
          />
          <input
            type="number"
            class="gap-input"
            min="0"
            max="50"
            step="1"
            .value="${null!==(s=e.gap)&&void 0!==s?s:16}"
            @input=${e=>{const t=e.target,i=Number(t.value);isNaN(i)||this._updateRow({gap:i})}}
            @keydown=${e=>{"Enter"===e.key&&e.target.blur()}}
          />
        </div>
      </div>
    `}_renderRowActionsTab(e){const t=e;return(new class extends l.m{}).renderActionsTab(t,this.hass,this.config,(e=>{this._updateRow(e)}),(e=>this._updateConfig(e)))}_renderRowLogicTab(e){return m.X.render(e,this.hass,(e=>{this._updateRow(e)}))}_renderRowDesignTab(t){var i,o,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j,B;null==e||e.type;const D=Object.assign(Object.assign({},t.design),{background_color:(null===(i=t.design)||void 0===i?void 0:i.background_color)||t.background_color,padding_top:(null===(o=t.design)||void 0===o?void 0:o.padding_top)||(null===(n=t.padding)||void 0===n?void 0:n.toString()),padding_bottom:(null===(r=t.design)||void 0===r?void 0:r.padding_bottom)||(null===(s=t.padding)||void 0===s?void 0:s.toString()),padding_left:(null===(l=t.design)||void 0===l?void 0:l.padding_left)||(null===(d=t.padding)||void 0===d?void 0:d.toString()),padding_right:(null===(c=t.design)||void 0===c?void 0:c.padding_right)||(null===(p=t.padding)||void 0===p?void 0:p.toString()),border_radius:(null===(u=t.design)||void 0===u?void 0:u.border_radius)||(null===(g=t.border_radius)||void 0===g?void 0:g.toString()),border_color:(null===(m=t.design)||void 0===m?void 0:m.border_color)||t.border_color,border_width:(null===(h=t.design)||void 0===h?void 0:h.border_width)||(null===(_=t.border_width)||void 0===_?void 0:_.toString()),margin_top:(null===(v=t.design)||void 0===v?void 0:v.margin_top)||(null===(f=t.margin)||void 0===f?void 0:f.toString()),margin_bottom:(null===(b=t.design)||void 0===b?void 0:b.margin_bottom)||(null===(y=t.margin)||void 0===y?void 0:y.toString()),margin_left:(null===(k=t.design)||void 0===k?void 0:k.margin_left)||(null===(x=t.margin)||void 0===x?void 0:x.toString()),margin_right:(null===(w=t.design)||void 0===w?void 0:w.margin_right)||(null===(S=t.margin)||void 0===S?void 0:S.toString()),animation_type:null===(A=t.design)||void 0===A?void 0:A.animation_type,animation_entity:null===(C=t.design)||void 0===C?void 0:C.animation_entity,animation_trigger_type:null===(z=t.design)||void 0===z?void 0:z.animation_trigger_type,animation_attribute:null===(T=t.design)||void 0===T?void 0:T.animation_attribute,animation_state:null===(I=t.design)||void 0===I?void 0:I.animation_state,animation_duration:null===(E=t.design)||void 0===E?void 0:E.animation_duration,intro_animation:null===($=t.design)||void 0===$?void 0:$.intro_animation,outro_animation:null===(P=t.design)||void 0===P?void 0:P.outro_animation,animation_delay:null===(j=t.design)||void 0===j?void 0:j.animation_delay,animation_timing:null===(B=t.design)||void 0===B?void 0:B.animation_timing});return a.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${D}
        @design-changed=${e=>{const i=e.detail,o=Object.assign(Object.assign({},t.design),i);this._updateRow({design:o})}}
      ></ultra-global-design-tab>
    `}_renderColumnGeneralTab(e){var t,i,o,n,r,s,l,d,c,u,g,m,h,_,v,f,b,y,k,x;return a.qy`
      <div class="settings-section">
        <label
          >${(0,p.kg)("editor.layout.vertical_alignment",(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en","Vertical Alignment")}:</label
        >
        <select
          .value=${e.vertical_alignment||"center"}
          @change=${e=>this._updateColumn({vertical_alignment:e.target.value})}
        >
          <option value="top">
            ${(0,p.kg)("editor.layout.alignment_top",(null===(n=null===(o=this.hass)||void 0===o?void 0:o.locale)||void 0===n?void 0:n.language)||"en","Top")}
          </option>
          <option value="center">
            ${(0,p.kg)("editor.layout.alignment_center",(null===(s=null===(r=this.hass)||void 0===r?void 0:r.locale)||void 0===s?void 0:s.language)||"en","Center")}
          </option>
          <option value="bottom">
            ${(0,p.kg)("editor.layout.alignment_bottom",(null===(d=null===(l=this.hass)||void 0===l?void 0:l.locale)||void 0===d?void 0:d.language)||"en","Bottom")}
          </option>
          <option value="stretch">
            ${(0,p.kg)("editor.layout.alignment_stretch",(null===(u=null===(c=this.hass)||void 0===c?void 0:c.locale)||void 0===u?void 0:u.language)||"en","Stretch")}
          </option>
        </select>
      </div>
      <div class="settings-section">
        <label
          >${(0,p.kg)("editor.layout.horizontal_alignment",(null===(m=null===(g=this.hass)||void 0===g?void 0:g.locale)||void 0===m?void 0:m.language)||"en","Horizontal Alignment")}:</label
        >
        <select
          .value=${e.horizontal_alignment||"center"}
          @change=${e=>this._updateColumn({horizontal_alignment:e.target.value})}
        >
          <option value="left">
            ${(0,p.kg)("editor.layout.alignment_left",(null===(_=null===(h=this.hass)||void 0===h?void 0:h.locale)||void 0===_?void 0:_.language)||"en","Left")}
          </option>
          <option value="center">
            ${(0,p.kg)("editor.layout.alignment_center",(null===(f=null===(v=this.hass)||void 0===v?void 0:v.locale)||void 0===f?void 0:f.language)||"en","Center")}
          </option>
          <option value="right">
            ${(0,p.kg)("editor.layout.alignment_right",(null===(y=null===(b=this.hass)||void 0===b?void 0:b.locale)||void 0===y?void 0:y.language)||"en","Right")}
          </option>
          <option value="stretch">
            ${(0,p.kg)("editor.layout.alignment_stretch",(null===(x=null===(k=this.hass)||void 0===k?void 0:k.locale)||void 0===x?void 0:x.language)||"en","Stretch")}
          </option>
        </select>
      </div>
    `}_renderColumnActionsTab(e){const t=e;return(new class extends l.m{}).renderActionsTab(t,this.hass,this.config,(e=>{this._updateColumn(e)}),(e=>this._updateConfig(e)))}_renderColumnLogicTab(e){return m.X.render(e,this.hass,(e=>{this._updateColumn(e)}))}_renderColumnDesignTab(e){var t,i,o,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j;const B=Object.assign(Object.assign({},e.design),{background_color:(null===(t=e.design)||void 0===t?void 0:t.background_color)||e.background_color,padding_top:(null===(i=e.design)||void 0===i?void 0:i.padding_top)||(null===(o=e.padding)||void 0===o?void 0:o.toString()),padding_bottom:(null===(n=e.design)||void 0===n?void 0:n.padding_bottom)||(null===(r=e.padding)||void 0===r?void 0:r.toString()),padding_left:(null===(s=e.design)||void 0===s?void 0:s.padding_left)||(null===(l=e.padding)||void 0===l?void 0:l.toString()),padding_right:(null===(d=e.design)||void 0===d?void 0:d.padding_right)||(null===(c=e.padding)||void 0===c?void 0:c.toString()),border_radius:(null===(p=e.design)||void 0===p?void 0:p.border_radius)||(null===(u=e.border_radius)||void 0===u?void 0:u.toString()),border_color:(null===(g=e.design)||void 0===g?void 0:g.border_color)||e.border_color,border_width:(null===(m=e.design)||void 0===m?void 0:m.border_width)||(null===(h=e.border_width)||void 0===h?void 0:h.toString()),margin_top:(null===(_=e.design)||void 0===_?void 0:_.margin_top)||(null===(v=e.margin)||void 0===v?void 0:v.toString()),margin_bottom:(null===(f=e.design)||void 0===f?void 0:f.margin_bottom)||(null===(b=e.margin)||void 0===b?void 0:b.toString()),margin_left:(null===(y=e.design)||void 0===y?void 0:y.margin_left)||(null===(k=e.margin)||void 0===k?void 0:k.toString()),margin_right:(null===(x=e.design)||void 0===x?void 0:x.margin_right)||(null===(w=e.margin)||void 0===w?void 0:w.toString()),animation_type:null===(S=e.design)||void 0===S?void 0:S.animation_type,animation_entity:null===(A=e.design)||void 0===A?void 0:A.animation_entity,animation_trigger_type:null===(C=e.design)||void 0===C?void 0:C.animation_trigger_type,animation_attribute:null===(z=e.design)||void 0===z?void 0:z.animation_attribute,animation_state:null===(T=e.design)||void 0===T?void 0:T.animation_state,animation_duration:null===(I=e.design)||void 0===I?void 0:I.animation_duration,intro_animation:null===(E=e.design)||void 0===E?void 0:E.intro_animation,outro_animation:null===($=e.design)||void 0===$?void 0:$.outro_animation,animation_delay:null===(P=e.design)||void 0===P?void 0:P.animation_delay,animation_timing:null===(j=e.design)||void 0===j?void 0:j.animation_timing});return a.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${B}
        @design-changed=${t=>{const i=t.detail,o=Object.assign(Object.assign({},e.design),i);this._updateColumn({design:o})}}
      ></ultra-global-design-tab>
    `}_renderGeneralTab(e){var t,i;const o=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en",n=(0,s.oD)().getModule(e.type),r=a.qy`
      <div class="settings-section">
        <label>${(0,p.kg)("editor.layout_extra.module_name",o,"Module Name:")}</label>
        <input
          type="text"
          .value=${e.module_name||""}
          @input=${e=>this._updateModule({module_name:e.target.value})}
          placeholder="${(0,p.kg)("editor.layout_extra.module_name_placeholder",o,"Give this module a custom name to make it easier to identify in the editor.")}"
          class="module-name-input"
        />
        <div class="field-help">
          ${(0,p.kg)("editor.layout_extra.module_name_help",o,"Give this module a custom name to make it easier to identify in the editor.")}
        </div>
      </div>
    `;if(n){const t=n.renderGeneralTab(e,this.hass,this.config,(e=>this._updateModule(e)));return e.type,a.qy` ${r} ${t} `}return a.qy`
      ${r}
      <div class="settings-section">
        <div class="error-message">
          <ha-icon icon="mdi:alert-circle"></ha-icon>
          <span>No settings available for module type: ${e.type}</span>
        </div>
      </div>
    `}_renderActionsTab(e){const t=(0,s.oD)().getModule(e.type);return t&&"function"==typeof t.renderActionsTab?t.renderActionsTab(e,this.hass,this.config,(e=>this._updateModule(e)),(e=>this._updateConfig(e))):a.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have action settings</span>
        </div>
      </div>
    `}_renderOtherTab(e){const t=(0,s.oD)().getModule(e.type);return t&&"function"==typeof t.renderOtherTab?t.renderOtherTab(e,this.hass,this.config,(e=>this._updateModule(e))):a.qy`
      <div class="settings-section">
        <div class="info-message">
          <ha-icon icon="mdi:information"></ha-icon>
          <span>This module does not have other settings</span>
        </div>
      </div>
    `}_addCondition(e){const t={id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"entity_state",entity:"",operator:"=",value:"",enabled:!0},i=[...e.display_conditions||[],t];this._updateModule({display_conditions:i})}_addRowCondition(e){const t={id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"entity_state",entity:"",operator:"=",value:"",enabled:!0},i=[...e.display_conditions||[],t];this._updateRow({display_conditions:i})}_addColumnCondition(e){const t={id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"entity_state",entity:"",operator:"=",value:"",enabled:!0},i=[...e.display_conditions||[],t];this._updateColumn({display_conditions:i})}_removeCondition(e,t){const i=(e.display_conditions||[]).filter(((e,i)=>i!==t));this._updateModule({display_conditions:i})}_updateCondition(e,t,i){const o=(e.display_conditions||[]).map(((e,o)=>o===t?Object.assign(Object.assign({},e),i):e));this._updateModule({display_conditions:o})}_duplicateCondition(e,t){const i=e.display_conditions||[],o=i[t];if(o){const e=Object.assign(Object.assign({},o),{id:`condition-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}),a=[...i.slice(0,t+1),e,...i.slice(t+1)];this._updateModule({display_conditions:a})}}_renderRowCondition(e,t,i){return this._renderConditionGeneric(t,i,(t=>{const o=(e.display_conditions||[]).map(((e,o)=>o===i?Object.assign(Object.assign({},e),t):e));this._updateRow({display_conditions:o})}),(()=>{const t=(e.display_conditions||[]).filter(((e,t)=>t!==i));this._updateRow({display_conditions:t})}),"row",i,(()=>e.display_conditions),(e=>this._updateRow({display_conditions:e})))}_renderColumnCondition(e,t,i){return this._renderConditionGeneric(t,i,(t=>{const o=(e.display_conditions||[]).map(((e,o)=>o===i?Object.assign(Object.assign({},e),t):e));this._updateColumn({display_conditions:o})}),(()=>{const t=(e.display_conditions||[]).filter(((e,t)=>t!==i));this._updateColumn({display_conditions:t})}),"column",i,(()=>e.display_conditions),(e=>this._updateColumn({display_conditions:e})))}_renderConditionGeneric(e,t,i,o,n,r,s,l){const d=!this._collapsedConditionIds.has(e.id);return a.qy`
      <div
        class="condition-item enabled"
        draggable="true"
        @dragstart=${e=>n&&this._onConditionDragStart(e,n,t)}
        @dragover=${this._onConditionDragOver}
        @drop=${e=>n&&s&&l&&"number"==typeof r?this._onConditionDrop(e,n,r,s,l):null}
      >
        <div class="condition-header">
          <div class="condition-header-left">
            <button
              type="button"
              class="condition-toggle ${d?"expanded":""}"
              @click=${()=>this._toggleConditionExpanded(e.id)}
            >
              <ha-icon icon="mdi:chevron-${d?"down":"right"}"></ha-icon>
            </button>
            <span class="condition-label">
              ${"entity_state"===e.type?e.entity||"Select Entity State":"entity_attribute"===e.type?e.entity||"Select Entity Attribute":"time"===e.type?"Time Condition":"Template Condition"}
            </span>
          </div>

          <div class="condition-actions">
            <button
              type="button"
              class="condition-action-btn delete"
              @click=${o}
              title="Delete"
            >
              <ha-icon icon="mdi:delete"></ha-icon>
            </button>
          </div>
        </div>

        ${d?a.qy`
              <div class="condition-content">
                <!-- Condition Type Selector -->
                <div class="condition-field">
                  <label>Condition Type:</label>
                  <select
                    .value=${e.type}
                    @change=${e=>{const t=e.target.value;i({type:t,entity:"",operator:"=",value:""})}}
                  >
                    <option value="entity_state">Entity State</option>
                    <option value="entity_attribute">Entity Attribute</option>
                    <option value="time">Date/Time</option>
                    <option value="template">Template</option>
                  </select>
                </div>

                ${"entity_state"===e.type?this._renderEntityConditionGeneric(e,i):""}
                ${"entity_attribute"===e.type?this._renderEntityAttributeConditionGeneric(e,i):""}

                <!-- Removed enable/disable toggle; delete the condition to disable -->
              </div>
            `:""}
      </div>
    `}_renderEntityConditionGeneric(e,t){return a.qy`
      <div class="entity-condition-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:e.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            @value-changed=${e=>t({entity:e.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${e.operator||"="}
            @change=${e=>t({operator:e.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==e.operator&&"no_value"!==e.operator?a.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${e.value||""}
                  @input=${e=>t({value:e.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderEntityAttributeConditionGeneric(e,t){return a.qy`
      <div class="entity-attribute-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:e.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            @value-changed=${e=>t({entity:e.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Attribute Selector -->
        <div class="condition-field">
          <label>Attribute Name:</label>
          <input
            type="text"
            .value=${e.attribute||""}
            @input=${e=>t({attribute:e.target.value})}
            placeholder="Enter attribute name (e.g., battery_level, friendly_name)"
          />
          <div class="field-help">
            Enter the exact attribute name from the entity. Common examples: battery_level,
            friendly_name, unit_of_measurement
          </div>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${e.operator||"="}
            @change=${e=>t({operator:e.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==e.operator&&"no_value"!==e.operator?a.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${e.value||""}
                  @input=${e=>t({value:e.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderCondition(e,t,i){const o=!this._collapsedConditionIds.has(t.id);return a.qy`
      <div class="condition-item enabled">
        <div class="condition-header">
          <div class="condition-header-left">
            <button
              type="button"
              class="condition-toggle ${o?"expanded":""}"
              @click=${()=>this._toggleConditionExpanded(t.id)}
            >
              <ha-icon icon="mdi:chevron-${o?"down":"right"}"></ha-icon>
            </button>
            <span class="condition-label">
              ${"entity_state"===t.type?t.entity||"Select Entity State":"entity_attribute"===t.type?t.entity||"Select Entity Attribute":"time"===t.type?"Time Condition":"Template Condition"}
            </span>
          </div>

          <div class="condition-actions">
            <button
              type="button"
              class="condition-action-btn"
              @click=${()=>this._duplicateCondition(e,i)}
              title="Duplicate"
            >
              <ha-icon icon="mdi:content-copy"></ha-icon>
            </button>
            <button
              type="button"
              class="condition-action-btn delete"
              @click=${()=>this._removeCondition(e,i)}
              title="Delete"
            >
              <ha-icon icon="mdi:delete"></ha-icon>
            </button>
            <button
              type="button"
              class="condition-drag-handle"
              title="Drag to reorder"
              draggable="true"
              @dragstart=${e=>this._onConditionDragStart(e,"module",i)}
              @dragover=${this._onConditionDragOver}
              @drop=${t=>this._onConditionDrop(t,"module",i,(()=>e.display_conditions),(e=>this._updateModule({display_conditions:e})))}
            >
              <ha-icon icon="mdi:drag"></ha-icon>
            </button>
          </div>
        </div>

        ${o?a.qy`
              <div class="condition-content">
                <!-- Condition Type Selector -->
                <div class="condition-field">
                  <label>Condition Type:</label>
                  <select
                    .value=${t.type}
                    @change=${t=>{const o=t.target.value;this._updateCondition(e,i,{type:o,entity:"",operator:"=",value:""})}}
                  >
                    <option value="entity_state">Entity State</option>
                    <option value="entity_attribute">Entity Attribute</option>
                    <option value="time">Date/Time</option>
                    <option value="template">Template</option>
                  </select>
                </div>

                ${"entity_state"===t.type?this._renderEntityCondition(e,t,i):""}
                ${"entity_attribute"===t.type?this._renderEntityAttributeCondition(e,t,i):""}
                ${"time"===t.type?this._renderTimeCondition(e,t,i):""}
                ${"template"===t.type?this._renderTemplateCondition(e,t,i):""}

                <!-- Removed enable/disable toggle; delete the condition to disable -->
              </div>
            `:""}
      </div>
    `}_renderEntityCondition(e,t,i){return a.qy`
      <div class="entity-condition-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:t.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            .computeLabel=${e=>{var t;return null!==(t=e.label)&&void 0!==t?t:e.name?e.name.charAt(0).toUpperCase()+e.name.slice(1):""}}
            @value-changed=${t=>this._updateCondition(e,i,{entity:t.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${t.operator||"="}
            @change=${t=>this._updateCondition(e,i,{operator:t.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==t.operator&&"no_value"!==t.operator?a.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${t.value||""}
                  @input=${t=>this._updateCondition(e,i,{value:t.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderEntityAttributeCondition(e,t,i){return a.qy`
      <div class="entity-attribute-fields">
        <!-- Entity Picker -->
        <div class="condition-field">
          <ha-form
            .hass=${this.hass}
            .data=${{entity:t.entity||""}}
            .schema=${[{name:"entity",selector:{entity:{}},label:"Entity"}]}
            .computeLabel=${e=>{var t;return null!==(t=e.label)&&void 0!==t?t:e.name?e.name.charAt(0).toUpperCase()+e.name.slice(1):""}}
            @value-changed=${t=>this._updateCondition(e,i,{entity:t.detail.value.entity})}
          ></ha-form>
        </div>

        <!-- Attribute Selector -->
        <div class="condition-field">
          <label>Attribute Name:</label>
          <input
            type="text"
            .value=${t.attribute||""}
            @input=${t=>this._updateCondition(e,i,{attribute:t.target.value})}
            placeholder="Enter attribute name (e.g., battery_level, friendly_name)"
          />
          <div class="field-help">
            Enter the exact attribute name from the entity. Common examples: battery_level,
            friendly_name, unit_of_measurement
          </div>
        </div>

        <!-- Operator -->
        <div class="condition-field">
          <label>Operator:</label>
          <select
            .value=${t.operator||"="}
            @change=${t=>this._updateCondition(e,i,{operator:t.target.value})}
          >
            <option value="=">=</option>
            <option value="!=">!=</option>
            <option value=">">&gt;</option>
            <option value=">=">&gt;=</option>
            <option value="<">&lt;</option>
            <option value="<=">&lt;=</option>
            <option value="has_value">Has a value</option>
            <option value="no_value">Doesn't have a value</option>
          </select>
        </div>

        <!-- Value (if not has_value/no_value) -->
        ${"has_value"!==t.operator&&"no_value"!==t.operator?a.qy`
              <div class="condition-field">
                <label>Value:</label>
                <input
                  type="text"
                  .value=${t.value||""}
                  @input=${t=>this._updateCondition(e,i,{value:t.target.value})}
                  placeholder="Enter value to compare"
                />
              </div>
            `:""}
      </div>
    `}_renderTimeCondition(e,t,i){return a.qy`
      <div class="time-condition-fields">
        <p class="condition-info">Local time is ${(new Date).toLocaleString()}</p>

        <div class="time-inputs">
          <div class="condition-field">
            <label>From Time:</label>
            <input
              type="time"
              .value=${t.time_from||""}
              @input=${t=>this._updateCondition(e,i,{time_from:t.target.value})}
            />
          </div>

          <div class="condition-field">
            <label>To Time:</label>
            <input
              type="time"
              .value=${t.time_to||""}
              @input=${t=>this._updateCondition(e,i,{time_to:t.target.value})}
            />
          </div>
        </div>
      </div>
    `}_renderTemplateCondition(e,t,i){return a.qy`
      <div class="template-condition">
        <div class="condition-field">
          <label>Template:</label>
          <textarea
            .value=${t.template||""}
            @input=${t=>this._updateCondition(e,i,{template:t.target.value})}
            placeholder="{% if states('sensor.example') == 'on' %}true{% else %}false{% endif %}"
            rows="3"
          ></textarea>
        </div>
        <div class="template-help">Template should return 'true' or 'false'</div>
      </div>
    `}_renderLogicTab(e){var t,i;const o=e.display_conditions||[],n=e.display_mode||"always",r=(null===(i=null===(t=this.hass)||void 0===t?void 0:t.locale)||void 0===i?void 0:i.language)||"en";return a.qy`
      <div class="logic-tab-content">
        <!-- Basic Conditions Section -->
        <div class="logic-section">
          <div class="section-header">
            <h3>${(0,p.kg)("editor.layout_logic.display_title",r,"Display this Element")}</h3>
          </div>

          <div class="template-description">
            ${(0,p.kg)("editor.layout_logic.display_desc",r,'Control when this element is shown. Choose "Always" to keep it visible. Select "If EVERY condition below is met" or "If ANY condition below is met" to display it only when the conditions you add below evaluate to true.')}
          </div>

          <div class="display-mode-selector">
            <select
              .value=${n}
              @change=${e=>{const t=e.target.value;this._updateModule({display_mode:t})}}
              class="display-mode-dropdown"
            >
              <option value="always">
                ${(0,p.kg)("editor.layout_logic.always",r,"Always")}
              </option>
              <option value="every">
                ${(0,p.kg)("editor.layout_logic.every",r,"If EVERY condition below is met")}
              </option>
              <option value="any">
                ${(0,p.kg)("editor.layout_logic.any",r,"If ANY condition below is met")}
              </option>
            </select>
          </div>
        </div>

        <!-- Conditions Section -->
        ${"always"!==n?a.qy`
              <div class="conditions-section">
                <div class="conditions-header">
                  <h4>${(0,p.kg)("editor.layout_logic.conditions",r,"Conditions")}</h4>
                  <button
                    type="button"
                    class="add-condition-btn"
                    @click=${()=>this._addCondition(e)}
                  >
                    <ha-icon icon="mdi:plus"></ha-icon>
                    ${(0,p.kg)("editor.layout_logic.add_condition",r,"Add Condition")}
                  </button>
                </div>

                <div class="conditions-list" @dragover=${this._onConditionDragOver}>
                  ${o.map(((t,i)=>a.qy`
                      <div
                        class="condition-row-dropzone"
                        @drop=${t=>this._onConditionDrop(t,"module",i,(()=>e.display_conditions),(e=>this._updateModule({display_conditions:e})))}
                      >
                        ${this._renderCondition(e,t,i)}
                      </div>
                    `))}
                </div>

                ${0===o.length?a.qy`
                      <div class="no-conditions">
                        <p>
                          ${(0,p.kg)("editor.layout_logic.no_conditions",r,'No conditions added yet. Click "Add Condition" to get started.')}
                        </p>
                      </div>
                    `:""}
              </div>
            `:""}

        <!-- Advanced Template Mode removed; use Template condition type in Conditions -->
      </div>
    `}_renderDesignTab(e){var t,i,o,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S,A,C,z,T,I,E,$,P,j;const B="bar"===(null==e?void 0:e.type),D={color:(null===(t=e.design)||void 0===t?void 0:t.color)||e.color,text_align:(()=>{var t;return void 0!==e.text_align?e.text_align:void 0!==e.alignment?e.alignment:void 0!==(null===(t=e.design)||void 0===t?void 0:t.text_align)?e.design.text_align:void 0})(),font_size:(()=>{var t;const i=(null===(t=e.design)||void 0===t?void 0:t.font_size)||e.font_size;if(null!=i&&""!==i)return i.toString()})(),line_height:null===(o=(null===(i=e.design)||void 0===i?void 0:i.line_height)||e.line_height)||void 0===o?void 0:o.toString(),letter_spacing:(null===(n=e.design)||void 0===n?void 0:n.letter_spacing)||e.letter_spacing,font_family:(null===(r=e.design)||void 0===r?void 0:r.font_family)||e.font_family,font_weight:(()=>{var t;const i=(null===(t=e.design)||void 0===t?void 0:t.font_weight)||e.font_weight;if(null!=i&&""!==i)return i})(),text_transform:(()=>{var t;const i=(null===(t=e.design)||void 0===t?void 0:t.text_transform)||e.text_transform;if(null!=i&&""!==i)return i})(),font_style:(null===(s=e.design)||void 0===s?void 0:s.font_style)||e.font_style,background_color:null===(l=e.design)||void 0===l?void 0:l.background_color,background_image:e.background_image,background_image_type:e.background_image_type,background_image_entity:e.background_image_entity,backdrop_filter:e.backdrop_filter,width:B?null===(d=e.design)||void 0===d?void 0:d.width:e.width,height:B?null===(c=e.design)||void 0===c?void 0:c.height:e.height,max_width:e.max_width,max_height:e.max_height,min_width:e.min_width,min_height:e.min_height,margin_top:(null===(u=null===(p=e.margin)||void 0===p?void 0:p.top)||void 0===u?void 0:u.toString())||e.margin_top,margin_bottom:(null===(m=null===(g=e.margin)||void 0===g?void 0:g.bottom)||void 0===m?void 0:m.toString())||e.margin_bottom,margin_left:(null===(_=null===(h=e.margin)||void 0===h?void 0:h.left)||void 0===_?void 0:_.toString())||e.margin_left,margin_right:(null===(f=null===(v=e.margin)||void 0===v?void 0:v.right)||void 0===f?void 0:f.toString())||e.margin_right,padding_top:(null===(y=null===(b=e.padding)||void 0===b?void 0:b.top)||void 0===y?void 0:y.toString())||e.padding_top,padding_bottom:(null===(x=null===(k=e.padding)||void 0===k?void 0:k.bottom)||void 0===x?void 0:x.toString())||e.padding_bottom,padding_left:(null===(S=null===(w=e.padding)||void 0===w?void 0:w.left)||void 0===S?void 0:S.toString())||e.padding_left,padding_right:(null===(C=null===(A=e.padding)||void 0===A?void 0:A.right)||void 0===C?void 0:C.toString())||e.padding_right,border_radius:(null===(T=null===(z=e.border)||void 0===z?void 0:z.radius)||void 0===T?void 0:T.toString())||(null===(I=e.border_radius)||void 0===I?void 0:I.toString()),border_style:(null===(E=e.border)||void 0===E?void 0:E.style)||e.border_style,border_width:(null===(P=null===($=e.border)||void 0===$?void 0:$.width)||void 0===P?void 0:P.toString())||e.border_width,border_color:(null===(j=e.border)||void 0===j?void 0:j.color)||e.border_color,position:e.position,top:e.top,bottom:e.bottom,left:e.left,right:e.right,z_index:e.z_index,text_shadow_h:e.text_shadow_h,text_shadow_v:e.text_shadow_v,text_shadow_blur:e.text_shadow_blur,text_shadow_color:e.text_shadow_color,box_shadow_h:e.box_shadow_h,box_shadow_v:e.box_shadow_v,box_shadow_blur:e.box_shadow_blur,box_shadow_spread:e.box_shadow_spread,box_shadow_color:e.box_shadow_color,overflow:e.overflow,clip_path:e.clip_path,animation_type:e.animation_type,animation_entity:e.animation_entity,animation_trigger_type:e.animation_trigger_type,animation_attribute:e.animation_attribute,animation_state:e.animation_state,intro_animation:e.intro_animation,outro_animation:e.outro_animation,animation_duration:e.animation_duration,animation_delay:e.animation_delay,animation_timing:e.animation_timing};return a.qy`
      <ultra-global-design-tab
        .hass=${this.hass}
        .designProperties=${D}
        .onUpdate=${e=>{this._updateModuleDesign(e)}}
      ></ultra-global-design-tab>
    `}_renderTextDesignTab(e){var t,i,o,n,r,s;if("text"===e.type){const i=e;return a.qy`
        <!-- Text Color Section -->
        <div class="settings-section">
          <ultra-color-picker
            .label=${"Text Color"}
            .value=${i.color||""}
            .defaultValue=${"var(--primary-text-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({color:t}),this._loadGoogleFont(i.font_family)}}
          ></ultra-color-picker>
        </div>

        <!-- Font Family Dropdown -->
        <div class="settings-section">
          <label>Font:</label>
          <select
            .value=${i.font_family||"default"}
            @change=${e=>{const t=e.target.value;this._updateModule({font_family:t}),this._loadGoogleFont(t)}}
            class="font-dropdown"
          >
            ${y.map((e=>a.qy`
                <option value="${e.value}" ?selected=${i.font_family===e.value}>
                  ${e.label}
                </option>
              `))}
            <optgroup label="Fonts from Typography settings">
              ${k.map((e=>a.qy`
                  <option value="${e.value}" ?selected=${i.font_family===e.value}>
                    ${e.label}
                  </option>
                `))}
            </optgroup>
            <optgroup label="Web safe font combinations (do not need to be loaded)">
              ${x.map((e=>a.qy`
                  <option value="${e.value}" ?selected=${i.font_family===e.value}>
                    ${e.label}
                  </option>
                `))}
            </optgroup>
          </select>
        </div>

        <!-- Font Size -->
        <div class="settings-section">
          <label>Font Size (px):</label>
          <input
            type="text"
            .value=${(null!==(t=i.font_size)&&void 0!==t?t:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({font_size:void 0});const i=parseFloat(t);!Number.isNaN(i)&&/^\s*-?\d*\.?\d*\s*(px|rem|em|%)?\s*$/i.test(t)&&this._updateModule({font_size:i})}}
            placeholder=""
            class="font-size-input"
          />
        </div>

        <!-- Text Alignment -->
        <div class="settings-section">
          <label>Text Alignment:</label>
          <div class="alignment-buttons">
            ${["left","center","right"].map((e=>a.qy`
                <button
                  class="alignment-btn ${i.alignment===e?"active":""}"
                  @click=${()=>this._updateModule({alignment:e})}
                >
                  <ha-icon icon="mdi:format-align-${e}"></ha-icon>
                </button>
              `))}
          </div>
        </div>

        <!-- Text Formatting -->
        <div class="settings-section">
          <label>Text Formatting:</label>
          <div class="format-buttons">
            <button
              class="format-btn ${i.bold?"active":""}"
              @click=${()=>this._updateModule({bold:!i.bold})}
            >
              <ha-icon icon="mdi:format-bold"></ha-icon>
            </button>
            <button
              class="format-btn ${i.italic?"active":""}"
              @click=${()=>this._updateModule({italic:!i.italic})}
            >
              <ha-icon icon="mdi:format-italic"></ha-icon>
            </button>
            <button
              class="format-btn ${i.uppercase?"active":""}"
              @click=${()=>this._updateModule({uppercase:!i.uppercase})}
            >
              <ha-icon icon="mdi:format-letter-case-upper"></ha-icon>
            </button>
            <button
              class="format-btn ${i.strikethrough?"active":""}"
              @click=${()=>this._updateModule({strikethrough:!i.strikethrough})}
            >
              <ha-icon icon="mdi:format-strikethrough"></ha-icon>
            </button>
          </div>
        </div>
      `}if("separator"===e.type){const t=e;return a.qy`
        <div class="settings-section">
          <ultra-color-picker
            .label=${"Separator Color"}
            .value=${t.color||""}
            .defaultValue=${"var(--divider-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({color:t})}}
          ></ultra-color-picker>
        </div>
      `}if("bar"===e.type){const t=e;return a.qy`
        <!-- Bar Colors -->
        <div class="settings-section">
          <ultra-color-picker
            .label=${"Bar Color"}
            .value=${t.bar_color||""}
            .defaultValue=${"var(--primary-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({bar_color:t})}}
          ></ultra-color-picker>
        </div>

        <div class="settings-section">
          <ultra-color-picker
            .label=${"Background Color"}
            .value=${t.background_color||""}
            .defaultValue=${"var(--secondary-background-color)"}
            .hass=${this.hass}
            @value-changed=${e=>{const t=e.detail.value;this._updateModule({background_color:t})}}
          ></ultra-color-picker>
        </div>

        <!-- Bar Dimensions -->
        <div class="settings-section">
          <label>Bar Height (px):</label>
          <input
            type="text"
            .value=${(null!==(i=t.height)&&void 0!==i?i:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({height:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({height:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Border Radius (px):</label>
          <input
            type="text"
            .value=${(null!==(o=t.border_radius)&&void 0!==o?o:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({border_radius:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({border_radius:i})}}
            class="number-input"
          />
        </div>

        <!-- Value Display Options -->
        <div class="settings-section">
          <label class="checkbox-wrapper">
            <input
              type="checkbox"
              .checked=${!1!==t.show_value}
              @change=${e=>this._updateModule({show_value:e.target.checked})}
            />
            Show Value
          </label>
        </div>

        ${t.show_value?a.qy`
              <div class="settings-section">
                <label>Value Position:</label>
                <div class="value-position-buttons">
                  ${["inside","outside","none"].map((e=>a.qy`
                      <button
                        class="position-btn ${t.value_position===e?"active":""}"
                        @click=${()=>this._updateModule({value_position:e})}
                      >
                        ${e.charAt(0).toUpperCase()+e.slice(1)}
                      </button>
                    `))}
                </div>
              </div>
            `:""}

        <div class="settings-section">
          <label class="checkbox-wrapper">
            <input
              type="checkbox"
              .checked=${!1!==t.show_percentage}
              @change=${e=>this._updateModule({show_percentage:e.target.checked})}
            />
            Show as Percentage
          </label>
        </div>

        <div class="settings-section">
          <label class="checkbox-wrapper">
            <input
              type="checkbox"
              .checked=${!1!==t.animation}
              @change=${e=>this._updateModule({animation:e.target.checked})}
            />
            Animation
          </label>
        </div>
      `}if("image"===e.type){const t=e;return a.qy`
        <!-- Image Alignment -->
        <div class="settings-section">
          <label>Image Alignment:</label>
          <div class="alignment-buttons">
            ${["left","center","right"].map((e=>a.qy`
                <button
                  class="alignment-btn ${t.alignment===e?"active":""}"
                  @click=${()=>this._updateModule({alignment:e})}
                >
                  <ha-icon icon="mdi:format-align-${e}"></ha-icon>
                </button>
              `))}
          </div>
        </div>

        <!-- Image Dimensions -->
        <div class="settings-section">
          <label>Width (px):</label>
          <input
            type="text"
            .value=${(null!==(n=t.image_width)&&void 0!==n?n:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({image_width:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({image_width:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Height (px):</label>
          <input
            type="text"
            .value=${(null!==(r=t.image_height)&&void 0!==r?r:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({image_height:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({image_height:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Border Radius (px):</label>
          <input
            type="text"
            .value=${(null!==(s=t.border_radius)&&void 0!==s?s:"").toString()}
            @input=${e=>{const t=e.target.value;if(""===t)return void this._updateModule({border_radius:void 0});const i=parseFloat(t);Number.isNaN(i)||this._updateModule({border_radius:i})}}
            class="number-input"
          />
        </div>

        <div class="settings-section">
          <label>Image Fit:</label>
          <div class="value-position-buttons">
            ${["cover","contain","fill","none"].map((e=>a.qy`
                <button
                  class="position-btn ${t.image_fit===e?"active":""}"
                  @click=${()=>this._updateModule({image_fit:e})}
                >
                  ${e.charAt(0).toUpperCase()+e.slice(1)}
                </button>
              `))}
          </div>
        </div>
      `}return a.qy`<div class="settings-section">
      <p>Design options not available for ${e.type} modules.</p>
    </div>`}_renderBackgroundDesignTab(e){return a.qy`
      <div class="settings-section">
        <ultra-color-picker
          .label=${"Background Color"}
          .value=${e.background_color||""}
          .defaultValue=${"var(--ha-card-background, var(--card-background-color, #fff))"}
          .hass=${this.hass}
          @value-changed=${e=>{const t=e.detail.value;this._updateModule({background_color:t})}}
        ></ultra-color-picker>

        <div class="property-group">
          <label>Background Image Type:</label>
          <select
            .value=${e.background_image_type||"none"}
            @change=${e=>{const t=e.target.value;this._updateModule({background_image_type:t})}}
            class="property-select"
          >
            <option value="none">None</option>
            <option value="upload">Upload Image</option>
            <option value="entity">Entity Image</option>
            <option value="url">Image URL</option>
          </select>
        </div>

        ${"upload"===e.background_image_type?a.qy`
              <div class="property-group">
                <label>Upload Background Image:</label>
                <div class="upload-container">
                  <div class="file-upload-row">
                    <label class="file-upload-button">
                      <div class="button-content">
                        <ha-icon icon="mdi:upload"></ha-icon>
                        <span class="button-label">Choose File</span>
                      </div>
                      <input
                        type="file"
                        accept="image/*"
                        @change=${this._handleBackgroundImageUpload}
                        style="display: none"
                      />
                    </label>
                    <div class="path-display">
                      ${e.background_image?a.qy`<span class="uploaded-path" title="${e.background_image}">
                            ${this._truncatePath(e.background_image)}
                          </span>`:a.qy`<span class="no-file">No file chosen</span>`}
                    </div>
                  </div>
                </div>
              </div>
            `:""}
        ${"entity"===e.background_image_type?a.qy`
              <div class="property-group">
                <label>Background Image Entity:</label>
                <ha-entity-picker
                  .hass=${this.hass}
                  .value=${e.background_image_entity||""}
                  @value-changed=${e=>{this._updateModule({background_image_entity:e.detail.value})}}
                  .label=${"Select entity with image attribute"}
                  allow-custom-entity
                ></ha-entity-picker>
              </div>
            `:""}
        ${"url"===e.background_image_type?a.qy`
              <div class="property-group">
                <label>Background Image URL:</label>
                <input
                  type="text"
                  .value=${e.background_image||""}
                  @input=${e=>{const t=e.target.value;this._updateModule({background_image:t})}}
                  placeholder="https://example.com/image.jpg"
                  class="property-input"
                />
              </div>
            `:""}
        ${e.background_image_type&&"none"!==e.background_image_type?a.qy`
              <div class="property-group">
                <label>Background Size:</label>
                <select
                  .value=${this._getBackgroundSizeDropdownValue(e.background_size)}
                  @change=${e=>{const t=e.target.value;this._updateModule({background_size:t})}}
                  class="property-select"
                >
                  <option value="cover">Cover</option>
                  <option value="contain">Contain</option>
                  <option value="auto">Auto</option>
                  <option value="custom">Custom</option>
                </select>
              </div>

              ${"custom"===this._getBackgroundSizeDropdownValue(e.background_size)?a.qy`
                    <div class="property-group">
                      <label>Custom Width:</label>
                      <input
                        type="text"
                        .value=${this._getCustomSizeValue(e.background_size,"width")}
                        @input=${t=>{const i=t.target.value,o=this._getCustomSizeValue(e.background_size,"height"),a=i&&o?`${i} ${o}`:i||o||"auto";this._updateModule({background_size:a})}}
                        placeholder="100px, 50%, auto"
                        class="property-input"
                      />
                    </div>
                    <div class="property-group">
                      <label>Custom Height:</label>
                      <input
                        type="text"
                        .value=${this._getCustomSizeValue(e.background_size,"height")}
                        @input=${t=>{const i=t.target.value,o=this._getCustomSizeValue(e.background_size,"width"),a=o&&i?`${o} ${i}`:o||i||"auto";this._updateModule({background_size:a})}}
                        placeholder="100px, 50%, auto"
                        class="property-input"
                      />
                    </div>
                  `:""}

              <div class="property-group">
                <label>Background Repeat:</label>
                <select
                  .value=${e.background_repeat||"no-repeat"}
                  @change=${e=>{const t=e.target.value;this._updateModule({background_repeat:t})}}
                  class="property-select"
                >
                  <option value="no-repeat">No Repeat</option>
                  <option value="repeat">Repeat</option>
                  <option value="repeat-x">Repeat X</option>
                  <option value="repeat-y">Repeat Y</option>
                </select>
              </div>

              <div class="property-group">
                <label>Background Position:</label>
                <select
                  .value=${e.background_position||"center center"}
                  @change=${e=>{const t=e.target.value;this._updateModule({background_position:t})}}
                  class="property-select"
                >
                  <option value="left top">Left Top</option>
                  <option value="left center">Left Center</option>
                  <option value="left bottom">Left Bottom</option>
                  <option value="center top">Center Top</option>
                  <option value="center center">Center</option>
                  <option value="center bottom">Center Bottom</option>
                  <option value="right top">Right Top</option>
                  <option value="right center">Right Center</option>
                  <option value="right bottom">Right Bottom</option>
                </select>
              </div>
            `:""}
      </div>
    `}_renderSpacingDesignTab(e){var t,i,o,n,r,s,l,d,c,p,u,g,m,h,_,v;return a.qy`
      <div class="spacing-grid">
        <div class="spacing-section">
          <h4>Margin</h4>
          <div class="spacing-cross">
            <input
              type="text"
              placeholder="Top"
              .value=${(null!==(i=null===(t=e.margin)||void 0===t?void 0:t.top)&&void 0!==i?i:"").toString()}
              @input=${t=>{const i=t.target.value,o=""===i?void 0:parseFloat(i);this._updateModule({margin:Object.assign(Object.assign({},e.margin),{top:o})})}}
            />
            <div class="spacing-row">
              <input
                type="text"
                placeholder="Left"
                .value=${(null!==(n=null===(o=e.margin)||void 0===o?void 0:o.left)&&void 0!==n?n:"").toString()}
                @input=${t=>this._updateModule({margin:Object.assign(Object.assign({},e.margin),{left:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
              <span class="spacing-center">M</span>
              <input
                type="text"
                placeholder="Right"
                .value=${(null!==(s=null===(r=e.margin)||void 0===r?void 0:r.right)&&void 0!==s?s:"").toString()}
                @input=${t=>this._updateModule({margin:Object.assign(Object.assign({},e.margin),{right:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
            </div>
            <input
              type="text"
              placeholder="Bottom"
              .value=${(null!==(d=null===(l=e.margin)||void 0===l?void 0:l.bottom)&&void 0!==d?d:"").toString()}
              @input=${t=>this._updateModule({margin:Object.assign(Object.assign({},e.margin),{bottom:""===t.target.value?void 0:parseFloat(t.target.value)})})}
            />
          </div>
        </div>

        <div class="spacing-section">
          <h4>Padding</h4>
          <div class="spacing-cross">
            <input
              type="text"
              placeholder="Top"
              .value=${(null!==(p=null===(c=e.padding)||void 0===c?void 0:c.top)&&void 0!==p?p:"").toString()}
              @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{top:""===t.target.value?void 0:parseFloat(t.target.value)})})}
            />
            <div class="spacing-row">
              <input
                type="text"
                placeholder="Left"
                .value=${(null!==(g=null===(u=e.padding)||void 0===u?void 0:u.left)&&void 0!==g?g:"").toString()}
                @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{left:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
              <span class="spacing-center">P</span>
              <input
                type="text"
                placeholder="Right"
                .value=${(null!==(h=null===(m=e.padding)||void 0===m?void 0:m.right)&&void 0!==h?h:"").toString()}
                @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{right:""===t.target.value?void 0:parseFloat(t.target.value)})})}
              />
            </div>
            <input
              type="text"
              placeholder="Bottom"
              .value=${(null!==(v=null===(_=e.padding)||void 0===_?void 0:_.bottom)&&void 0!==v?v:"").toString()}
              @input=${t=>this._updateModule({padding:Object.assign(Object.assign({},e.padding),{bottom:""===t.target.value?void 0:parseFloat(t.target.value)})})}
            />
          </div>
        </div>
      </div>
    `}firstUpdated(e){super.firstUpdated(e)}updated(e){super.updated(e),e.has("_showModuleSelector")&&this._showModuleSelector&&setTimeout((()=>{var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#module-selector-popup");t&&this._initializePopupPosition(t)}),0),e.has("_selectedModule")&&this._selectedModule&&setTimeout((()=>{var e,t,i,o;const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(`#module-popup-${null===(t=this._selectedModule)||void 0===t?void 0:t.rowIndex}-${null===(i=this._selectedModule)||void 0===i?void 0:i.columnIndex}-${null===(o=this._selectedModule)||void 0===o?void 0:o.moduleIndex}`);a&&this._initializePopupPosition(a)}),0),e.has("_selectedLayoutChild")&&this._selectedLayoutChild&&setTimeout((()=>{var e,t,i,o,a;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(`#child-popup-${null===(t=this._selectedLayoutChild)||void 0===t?void 0:t.parentRowIndex}-${null===(i=this._selectedLayoutChild)||void 0===i?void 0:i.parentColumnIndex}-${null===(o=this._selectedLayoutChild)||void 0===o?void 0:o.parentModuleIndex}-${null===(a=this._selectedLayoutChild)||void 0===a?void 0:a.childIndex}`);n&&this._initializePopupPosition(n)}),0)}_renderBorderDesignTab(e){var t,i;return a.qy`
      <div class="settings-section">
        <label>Border Radius (px):</label>
        <input
          type="text"
          .value=${(null!==(i=null===(t=e.border)||void 0===t?void 0:t.radius)&&void 0!==i?i:"").toString()}
          @input=${t=>this._updateModule({border:Object.assign(Object.assign({},e.border),{radius:""===t.target.value?void 0:parseFloat(t.target.value)})})}
        />
      </div>
    `}render(){var e,t;const i=this._ensureLayout(),o=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return a.qy`
      <div class="layout-builder">
        <div class="builder-header">
          <h3>${(0,p.kg)("editor.tabs.layout",o,"Layout Builder")}</h3>
          <div class="header-buttons">
            <button
              class="undo-btn"
              @click=${e=>{e.stopPropagation(),this._undo()}}
              ?disabled=${!this._canUndo()}
              title="${(0,p.kg)("editor.layout.undo_tooltip",o,"Undo last change (Ctrl+Z)")}"
            >
              <ha-icon icon="mdi:undo"></ha-icon>
              <span>${(0,p.kg)("editor.layout.undo",o,"Undo")}</span>
            </button>
            <button
              class="redo-btn"
              @click=${e=>{e.stopPropagation(),this._redo()}}
              ?disabled=${!this._canRedo()}
              title="${(0,p.kg)("editor.layout.redo_tooltip",o,"Redo last undone change (Ctrl+Y)")}"
            >
              <ha-icon icon="mdi:redo"></ha-icon>
              <span>${(0,p.kg)("editor.layout.redo",o,"Redo")}</span>
            </button>
            <button
              class="add-row-btn"
              @click=${e=>{e.stopPropagation(),this._addRow()}}
              title="${(0,p.kg)("editor.layout.add_row_tooltip",o,"Add a new row to your layout")}"
            >
              <ha-icon icon="mdi:plus"></ha-icon>
              ${(0,p.kg)("editor.layout.add_row",o,"Add Row")}
            </button>
          </div>
        </div>

        <div class="rows-container">
          ${i.rows.map(((e,t)=>{var i,o,n,r;return a.qy`
              <div
                class="row-builder"
                draggable="true"
                @dragstart=${e=>this._onDragStart(e,"row",t)}
                @dragend=${this._onDragEnd}
                @dragover=${this._onDragOver}
                @dragenter=${e=>this._onDragEnter(e,"row",t)}
                @dragleave=${this._onDragLeave}
                @drop=${e=>this._onDrop(e,"row",t)}
                class="${"row"===(null===(i=this._dropTarget)||void 0===i?void 0:i.type)&&(null===(o=this._dropTarget)||void 0===o?void 0:o.rowIndex)===t?"drop-target":""}"
              >
                <div class="row-header">
                  <div class="row-title">
                    <div class="row-drag-handle" title="Drag to move row">
                      <ha-icon icon="mdi:drag"></ha-icon>
                    </div>
                    <span>Row ${t+1}</span>
                    <button
                      class="column-layout-btn"
                      @click=${e=>{e.stopPropagation(),this._openColumnLayoutSelector(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Change Column Layout"
                    >
                      <span class="layout-icon">${this._getCurrentLayoutDisplay(e)}</span>
                    </button>
                  </div>
                  <div class="row-actions">
                    <button
                      class="row-add-column-btn"
                      @click=${e=>{e.stopPropagation(),this._addColumn(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Add Column to Row"
                    >
                      <ha-icon icon="mdi:plus"></ha-icon>
                    </button>
                    <button
                      class="row-duplicate-btn"
                      @click=${e=>{e.stopPropagation(),this._duplicateRow(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Duplicate Row"
                    >
                      <ha-icon icon="mdi:content-copy"></ha-icon>
                    </button>
                    <button
                      class="row-settings-btn"
                      @click=${e=>{e.stopPropagation(),this._openRowSettings(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="${(0,p.kg)("editor.layout.row_settings",(null===(r=null===(n=this.hass)||void 0===n?void 0:n.locale)||void 0===r?void 0:r.language)||"en","Row Settings")}"
                    >
                      <ha-icon icon="mdi:cog"></ha-icon>
                    </button>
                    <button
                      class="row-paste-btn"
                      @click=${e=>{e.stopPropagation(),this._pasteRowFromClipboard(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Paste from clipboard (or paste manually if prompted)"
                    >
                      <ha-icon icon="mdi:clipboard-text"></ha-icon>
                    </button>
                    <button
                      class="row-favorite-btn"
                      @click=${e=>{e.stopPropagation(),this._saveRowAsFavorite(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Save as favorite"
                    >
                      <ha-icon icon="mdi:heart"></ha-icon>
                    </button>
                    <button
                      class="row-export-btn"
                      @click=${e=>{e.stopPropagation(),this._exportRow(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Export row"
                    >
                      <ha-icon icon="mdi:export"></ha-icon>
                    </button>
                    <div class="row-more-container">
                      <button
                        class="row-more-btn"
                        @click=${e=>{e.stopPropagation(),this._toggleMoreMenu(t)}}
                        @mousedown=${e=>e.stopPropagation()}
                        @dragstart=${e=>e.preventDefault()}
                        title="More actions"
                      >
                        <ha-icon icon="mdi:dots-vertical"></ha-icon>
                      </button>
                      ${this._openMoreMenuRowIndex===t?a.qy`
                            <div class="row-more-menu" @click=${e=>e.stopPropagation()}>
                              <button
                                class="more-menu-item paste"
                                @click=${()=>{this._pasteRowFromClipboard(t),this._openMoreMenuRowIndex=-1}}
                              >
                                <ha-icon icon="mdi:clipboard-text"></ha-icon>
                                <span>Paste from Clipboard</span>
                              </button>
                              <button
                                class="more-menu-item favorite"
                                @click=${()=>{this._saveRowAsFavorite(t),this._openMoreMenuRowIndex=-1}}
                              >
                                <ha-icon icon="mdi:heart"></ha-icon>
                                <span>Save as Favorite</span>
                              </button>
                              <button
                                class="more-menu-item export"
                                @click=${()=>{this._exportRow(t),this._openMoreMenuRowIndex=-1}}
                              >
                                <ha-icon icon="mdi:export"></ha-icon>
                                <span>Export Row</span>
                              </button>
                            </div>
                          `:""}
                    </div>
                    <button
                      class="delete-row-btn"
                      @click=${e=>{e.stopPropagation(),this._deleteRow(t)}}
                      @mousedown=${e=>e.stopPropagation()}
                      @dragstart=${e=>e.preventDefault()}
                      title="Delete Row"
                    >
                      <ha-icon icon="mdi:delete"></ha-icon>
                    </button>
                  </div>
                </div>
                <div class="columns-container" data-layout="${e.column_layout||"1-2-1-2"}">
                  ${e.columns&&e.columns.length>0?e.columns.map(((e,i)=>{var o,n,r,s,l,d,c,u;return a.qy`
                          <div
                            class="column-builder"
                            draggable="true"
                            @dragstart=${e=>this._onDragStart(e,"column",t,i)}
                            @dragend=${this._onDragEnd}
                            @dragover=${this._onDragOver}
                            @dragenter=${e=>this._onDragEnter(e,"column",t,i)}
                            @dragleave=${this._onDragLeave}
                            @drop=${e=>this._onDrop(e,"column",t,i)}
                            class="${"column"===(null===(o=this._dropTarget)||void 0===o?void 0:o.type)&&(null===(n=this._dropTarget)||void 0===n?void 0:n.rowIndex)===t&&(null===(r=this._dropTarget)||void 0===r?void 0:r.columnIndex)===i?"drop-target":""}"
                          >
                            <div class="column-header">
                              <div class="column-title">
                                <div class="column-drag-handle" title="Drag to move column">
                                  <ha-icon icon="mdi:drag"></ha-icon>
                                </div>
                                <span>Column ${i+1}</span>
                              </div>
                              <div class="column-actions">
                                <button
                                  class="column-add-module-btn"
                                  @click=${e=>{e.stopPropagation(),this._openModuleSelector(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="Add Module to Column"
                                >
                                  <ha-icon icon="mdi:plus"></ha-icon>
                                </button>
                                <button
                                  class="column-duplicate-btn"
                                  @click=${e=>{e.stopPropagation(),this._duplicateColumn(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="Duplicate Column"
                                >
                                  <ha-icon icon="mdi:content-copy"></ha-icon>
                                </button>
                                <button
                                  class="column-settings-btn"
                                  @click=${e=>{e.stopPropagation(),this._openColumnSettings(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="${(0,p.kg)("editor.layout.column_settings",(null===(l=null===(s=this.hass)||void 0===s?void 0:s.locale)||void 0===l?void 0:l.language)||"en","Column Settings")}"
                                >
                                  <ha-icon icon="mdi:cog"></ha-icon>
                                </button>
                                <button
                                  class="column-delete-btn"
                                  @click=${e=>{e.stopPropagation(),this._deleteColumn(t,i)}}
                                  @mousedown=${e=>e.stopPropagation()}
                                  @dragstart=${e=>e.preventDefault()}
                                  title="Delete Column"
                                >
                                  <ha-icon icon="mdi:delete"></ha-icon>
                                </button>
                              </div>
                            </div>
                            <div
                              class="modules-container ${"column"===(null===(d=this._dropTarget)||void 0===d?void 0:d.type)&&(null===(c=this._dropTarget)||void 0===c?void 0:c.rowIndex)===t&&(null===(u=this._dropTarget)||void 0===u?void 0:u.columnIndex)===i?"drop-target":""}"
                              @dragover=${this._onDragOver}
                              @dragenter=${e=>this._onDragEnter(e,"column",t,i)}
                              @dragleave=${this._onDragLeave}
                              @drop=${e=>this._onDrop(e,"column",t,i)}
                            >
                              ${e.modules.map(((e,o)=>{var n,r,s,l;return a.qy`
                                  <div
                                    class="module-item"
                                    draggable="true"
                                    @dragstart=${e=>this._onDragStart(e,"module",t,i,o)}
                                    @dragend=${this._onDragEnd}
                                    @dragover=${this._onDragOver}
                                    @dragenter=${e=>this._onDragEnter(e,"module",t,i,o)}
                                    @dragleave=${this._onDragLeave}
                                    @drop=${e=>this._onDrop(e,"module",t,i,o)}
                                    class="${"module"===(null===(n=this._dropTarget)||void 0===n?void 0:n.type)&&(null===(r=this._dropTarget)||void 0===r?void 0:r.rowIndex)===t&&(null===(s=this._dropTarget)||void 0===s?void 0:s.columnIndex)===i&&(null===(l=this._dropTarget)||void 0===l?void 0:l.moduleIndex)===o?"drop-target":""}"
                                  >
                                    <div
                                      class="module-content"
                                      @click=${()=>this._openModuleSettings(t,i,o)}
                                    >
                                      ${this._renderSingleModule(e,t,i,o)}
                                    </div>
                                  </div>
                                `}))}
                              <button
                                class="add-module-btn"
                                @click=${e=>{e.stopPropagation(),this._openModuleSelector(t,i)}}
                              >
                                <ha-icon icon="mdi:plus"></ha-icon>
                                Add Module
                              </button>
                            </div>
                          </div>
                        `})):a.qy`
                        <div class="empty-row-message">
                          <p>This row has no columns.</p>
                          <button
                            class="add-module-btn"
                            @click=${e=>{e.stopPropagation(),this._openModuleSelector(t,0)}}
                            style="margin-top: 8px;"
                          >
                            <ha-icon icon="mdi:plus"></ha-icon>
                            Add Module (will create column automatically)
                          </button>
                        </div>
                      `}
                  <div class="add-column-container">
                    <button
                      class="add-column-btn"
                      @click=${e=>{e.stopPropagation(),this._addColumn(t)}}
                      title="Add Column"
                    >
                      <ha-icon icon="mdi:plus"></ha-icon>
                      Add Column
                    </button>
                  </div>
                </div>
              </div>
            `}))}
        </div>

        ${this._showModuleSelector?this._renderModuleSelector():""}
        ${this._showModuleSettings?this._renderModuleSettings():""}
        ${this._showLayoutChildSettings?this._renderLayoutChildSettings():""}
        ${this._showRowSettings?this._renderRowSettings():""}
        ${this._showColumnSettings?this._renderColumnSettings():""}
        ${this._showColumnLayoutSelector?this._renderColumnLayoutSelector():""}
        ${this._renderFavoriteDialog()} ${this._renderImportDialog()}
      </div>
    `}_renderModuleSelector(){const e=(0,s.oD)().getAllModules(),t=this._selectedLayoutModuleIndex>=0;return a.qy`
      <div class="module-selector-popup">
        <div
          class="popup-overlay"
          @click=${()=>{this._showModuleSelector=!1,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1}}
        ></div>
        <div class="selector-content draggable-popup" id="module-selector-popup">
          <div
            class="selector-header"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupDrag(e,t)}}
          >
            <div class="selector-header-top">
              <h3>Add Module</h3>
              <button
                class="close-button"
                title="Close"
                @mousedown=${e=>e.stopPropagation()}
                @click=${()=>{this._showModuleSelector=!1,this._selectedLayoutModuleIndex=-1,this._selectedNestedChildIndex=-1}}
              >
                
              </button>
            </div>
            ${t?a.qy`<p class="selector-subtitle">
                  Adding to layout module (content modules and layout modules allowed up to 2 levels
                  deep)
                </p>`:""}
          </div>

          <!-- Tab Navigation -->
          <div class="module-selector-tabs">
            <button
              class="tab-button ${"modules"===this._activeModuleSelectorTab?"active":""}"
              @click=${()=>this._activeModuleSelectorTab="modules"}
            >
              <ha-icon icon="mdi:puzzle"></ha-icon>
              <span>Modules</span>
            </button>
            <button
              class="tab-button ${"presets"===this._activeModuleSelectorTab?"active":""}"
              @click=${()=>{this._activeModuleSelectorTab="presets",h.O.refreshWordPressPresets()}}
            >
              <ha-icon icon="mdi:palette"></ha-icon>
              <span>Presets</span>
            </button>
            <button
              class="tab-button ${"favorites"===this._activeModuleSelectorTab?"active":""}"
              @click=${()=>this._activeModuleSelectorTab="favorites"}
            >
              <ha-icon icon="mdi:heart"></ha-icon>
              <span>Favorites</span>
            </button>
          </div>

          <div class="selector-body">
            ${"modules"===this._activeModuleSelectorTab?this._renderModulesTab(e,t):""}
            ${"presets"===this._activeModuleSelectorTab?this._renderPresetsTab():""}
            ${"favorites"===this._activeModuleSelectorTab?this._renderFavoritesTab():""}
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}_formatCategoryTitle(e){return e.charAt(0).toUpperCase()+e.slice(1)}_renderModulesTab(e,t){var i,o;const n=e.filter((e=>"layout"===e.metadata.category&&"pagebreak"!==e.metadata.type));let r=e.filter((e=>"layout"!==e.metadata.category)),s=null,l=0;if(t&&this._selectedLayoutModuleIndex>=0){let t=null===(o=null===(i=this.config.layout.rows[this._selectedRowIndex])||void 0===i?void 0:i.columns[this._selectedColumnIndex])||void 0===o?void 0:o.modules[this._selectedLayoutModuleIndex];if(this._selectedNestedChildIndex>=0){const e=t;e&&e.modules&&e.modules[this._selectedNestedChildIndex]&&(t=e.modules[this._selectedNestedChildIndex],l=2)}else l=1;if(s=(null==t?void 0:t.type)||null,t&&("horizontal"===t.type||"vertical"===t.type||"slider"===t.type)){const e=t;e.modules&&e.modules.length>0&&e.modules.some((e=>"horizontal"===e.type||"vertical"===e.type||"slider"===e.type))&&l>=2&&(l=3)}if("slider"===s){const t=e.find((e=>"pagebreak"===e.metadata.type));t&&(r=[t,...r])}}let d=[];return t&&s?l<2&&(d=n):t||(d=n),a.qy`
      ${d.length>0?a.qy`
            <div class="module-category layout-containers">
              <h4 class="category-title">Layout Containers</h4>
              <p class="category-description">
                ${t?l<2?`Add horizontal or vertical layout modules (${2-l} more level${2-l!=1?"s":""} allowed)`:"Maximum nesting depth reached - only content modules allowed":"Create containers to organize your modules"}
              </p>
              <div class="module-types layout-modules">
                ${d.map((e=>{const t=e.metadata,i="horizontal"===t.type,o="vertical"===t.type;return a.qy`
                    <button
                      class="module-type-btn layout-module ${i?"horizontal-layout":""} ${o?"vertical-layout":""}"
                      @click=${()=>this._addModule(t.type)}
                      title="${t.description}"
                    >
                      <ha-icon icon="${t.icon}"></ha-icon>
                      <div class="module-info">
                        <span class="module-title">${t.title}</span>
                        <span class="module-description">${t.description}</span>
                      </div>
                    </button>
                  `}))}
              </div>
            </div>
          `:""}
      ${r.length>0?a.qy`
            <div class="module-category">
              <h4 class="category-title">Content Modules</h4>
              <p class="category-description">Add content and interactive elements</p>
              <div class="module-types content-modules">
                ${r.map((e=>{const t=e.metadata;return a.qy`
                    <button
                      class="module-type-btn content-module"
                      @click=${()=>this._addModule(t.type)}
                      title="${t.description}"
                    >
                      <ha-icon icon="${t.icon}"></ha-icon>
                      <div class="module-info">
                        <span class="module-title">${t.title}</span>
                        <span class="module-description">${t.description}</span>
                      </div>
                    </button>
                  `}))}
              </div>
            </div>
          `:""}
    `}_renderPresetImages(e,t){const i=[];if(e.thumbnail&&i.push(e.thumbnail),t.gallery&&Array.isArray(t.gallery)&&t.gallery.length>0&&t.gallery.forEach((e=>{e&&!i.includes(e)&&i.push(e)})),0===i.length)return a.qy`
        <div class="preset-icon-large">
          <ha-icon icon="${e.icon}"></ha-icon>
        </div>
      `;if(1===i.length)return a.qy`
        <div class="preset-thumbnail">
          <img src="${i[0]}" alt="${e.name} preview" />
        </div>
      `;const o=`slider-${e.id}`;return a.qy`
      <div class="preset-image-slider" id="${o}">
        <div
          class="preset-slider-container"
          style="transform: translateX(0%)"
          @mousedown=${e=>this._handleSliderMouseDown(e,o,i.length)}
          @touchstart=${e=>this._handleSliderTouchStart(e,o,i.length)}
        >
          ${i.map(((t,i)=>a.qy`
              <div class="preset-slider-image">
                <img src="${t}" alt="${e.name} preview ${i+1}" />
              </div>
            `))}
        </div>

        <!-- Navigation arrows -->
        <button
          class="preset-slider-nav prev"
          @click=${e=>{e.stopPropagation(),this._navigateSlider(o,-1,i.length)}}
        >
          <ha-icon icon="mdi:chevron-left"></ha-icon>
        </button>
        <button
          class="preset-slider-nav next"
          @click=${e=>{e.stopPropagation(),this._navigateSlider(o,1,i.length)}}
        >
          <ha-icon icon="mdi:chevron-right"></ha-icon>
        </button>

        <!-- Dots indicator -->
        <div class="preset-slider-dots">
          ${i.map(((e,t)=>a.qy`
              <div
                class="preset-slider-dot ${0===t?"active":""}"
                @click=${e=>{e.stopPropagation(),this._goToSlide(o,t,i.length)}}
              ></div>
            `))}
        </div>
      </div>
    `}_navigateSlider(e,t,i){var o,a;const n=null===(o=this.shadowRoot)||void 0===o?void 0:o.querySelector(`#${e}`);if(!n)return;const r=n.querySelector(".preset-slider-container"),s=n.querySelectorAll(".preset-slider-dot");if(!r||!s.length)return;const l=r.style.transform||"translateX(0%)";let d=Math.abs(parseInt((null===(a=l.match(/-?\d+/))||void 0===a?void 0:a[0])||"0")/100)+t;d<0&&(d=i-1),d>=i&&(d=0),r.style.transform=`translateX(-${100*d}%)`,s.forEach(((e,t)=>{e.classList.toggle("active",t===d)}))}_goToSlide(e,t,i){var o;const a=null===(o=this.shadowRoot)||void 0===o?void 0:o.querySelector(`#${e}`);if(!a)return;const n=a.querySelector(".preset-slider-container"),r=a.querySelectorAll(".preset-slider-dot");n&&r.length&&(n.style.transform=`translateX(-${100*t}%)`,r.forEach(((e,i)=>{e.classList.toggle("active",i===t)})))}_handleSliderMouseDown(e,t,i){e.preventDefault();const o=e.clientX;let a=!1;const n=e=>{const t=e.clientX-o;Math.abs(t)>10&&(a=!0)},r=e=>{const s=e.clientX-o;if(a&&Math.abs(s)>50){const e=s>0?-1:1;this._navigateSlider(t,e,i)}document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}_handleSliderTouchStart(e,t,i){const o=e.touches[0].clientX;let a=!1;const n=e=>{const t=e.touches[0].clientX-o;Math.abs(t)>10&&(a=!0,e.preventDefault())},r=e=>{const s=e.changedTouches[0].clientX-o;if(a&&Math.abs(s)>50){const e=s>0?-1:1;this._navigateSlider(t,e,i)}document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)};document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r)}_renderPresetsTab(){const e=h.O.getPresetsByCategory(this._selectedPresetCategory),t=h.O.getWordPressStatus();return h.O.getWordPressPresetsCount(),a.qy`
      <div class="presets-container">
        <!-- Header with WordPress status -->
        <div class="presets-header">
          <div class="preset-categories">
            ${["all","badges","layouts","widgets","custom"].map((e=>a.qy`
                <button
                  class="category-btn ${this._selectedPresetCategory===e?"active":""}"
                  @click=${()=>this._selectedPresetCategory=e}
                >
                  <ha-icon
                    icon="${"all"===e?"mdi:view-grid":"badges"===e?"mdi:account-circle":"layouts"===e?"mdi:view-dashboard":"widgets"===e?"mdi:widgets":"mdi:puzzle"}"
                  ></ha-icon>
                  <span>${e.charAt(0).toUpperCase()+e.slice(1)}</span>
                </button>
              `))}
          </div>

          ${t.error?a.qy`
                <div class="wordpress-status">
                  <div class="status-item error">
                    <ha-icon icon="mdi:alert-circle"></ha-icon>
                    <span>Failed to load presets</span>
                    <button
                      class="retry-btn"
                      @click=${()=>h.O.refreshWordPressPresets()}
                      title="Retry loading presets"
                    >
                      <ha-icon icon="mdi:refresh"></ha-icon>
                    </button>
                  </div>
                </div>
              `:""}
        </div>

        <!-- Presets Grid -->
        <div class="presets-grid">
          ${e.length>0?e.map((e=>{var t,i;const o=e.id.startsWith("wp-"),n="WJD Designs"===e.author,r=o&&!n,s=o&&n,l=e;return a.qy`
                  <div
                    class="preset-card ${o?r?"community-preset":"default-preset":"builtin-preset"}"
                    @click=${()=>{this._addPreset(e),o&&h.O.trackPresetDownload(e.id)}}
                  >
                    <!-- Header with badge, title, and stats -->
                    <div class="preset-header">
                      <div class="preset-header-left">
                        <div
                          class="origin-badge ${r?"community":s?"default":"builtin"}"
                        >
                          ${r?"Community":s?"Default":"Built-in"}
                        </div>
                        <div class="preset-title-info">
                          <h4 class="preset-header-title">${e.name}</h4>
                          ${n?"":a.qy`<span class="preset-header-author">by ${e.author}</span>`}
                        </div>
                      </div>
                      <div class="preset-stats">
                        ${(null===(t=e.metadata)||void 0===t?void 0:t.downloads)?a.qy`<span class="stat"
                              ><ha-icon icon="mdi:download"></ha-icon>${e.metadata.downloads}</span
                            >`:""}
                        ${r&&(null===(i=e.metadata)||void 0===i?void 0:i.rating)&&e.metadata.rating>0?a.qy`<span class="stat"
                              ><ha-icon icon="mdi:star"></ha-icon>${e.metadata.rating.toFixed(1)}${l.rating_count&&l.rating_count>1?` (${l.rating_count})`:""}</span
                            >`:""}
                      </div>
                    </div>

                    <!-- Large preview image or slider -->
                    <div class="preset-preview">${this._renderPresetImages(e,l)}</div>

                    <!-- Content section -->
                    <div class="preset-content">
                      <p class="preset-description">${e.description}</p>

                      <!-- Tags and integrations -->
                      ${e.tags.filter((e=>!["community","wordpress","standard"].includes(e))).length>0||Array.isArray(l.integrations)&&l.integrations.length>0?a.qy`
                            <div class="preset-tags">
                              ${e.tags.filter((e=>!["community","wordpress","standard"].includes(e))).slice(0,3).map((e=>a.qy`<span class="tag">${e}</span>`))}
                              ${Array.isArray(l.integrations)&&l.integrations.length?l.integrations.slice(0,2).map((e=>a.qy`<span class="integration-chip">${e}</span>`)):""}
                            </div>
                          `:""}
                    </div>

                    <!-- Action buttons at bottom -->
                    <div class="preset-actions">
                      <button
                        class="add-preset-btn primary"
                        @click=${t=>{t.stopPropagation(),this._addPreset(e),o&&h.O.trackPresetDownload(e.id)}}
                        title="Add this preset to your card"
                      >
                        <ha-icon icon="mdi:plus"></ha-icon>
                        <span>Add</span>
                      </button>

                      ${o?a.qy`
                            <button
                              class="read-more-btn secondary"
                              @click=${e=>{e.stopPropagation(),l.preset_url&&window.open(l.preset_url,"_blank")}}
                              title="View full preset details on ultracard.io"
                            >
                              <ha-icon icon="mdi:open-in-new"></ha-icon>
                              <span>Read More</span>
                            </button>
                          `:""}
                    </div>
                  </div>
                `})):a.qy`<div class="empty-state">
                <ha-icon icon="mdi:palette-outline"></ha-icon>
                <p>No presets available in this category</p>
                ${t.error?a.qy`<div class="error-details">
                      <p class="error-hint">
                        ${t.error.includes("CORS")||t.error.includes("Failed to fetch")?a.qy`
                              <strong>Connection Issue:</strong> Unable to load presets from
                              ultracard.io.<br />
                              This usually happens when accessing Home Assistant via IP address
                              instead of homeassistant.local.<br /><br />
                              <strong>Solutions:</strong><br />
                               Access HA via <code>http://homeassistant.local:8123</code> instead
                              of IP address<br />
                               Or wait for the server CORS configuration to be updated<br />
                               Check your internet connection
                            `:a.qy`Error: ${t.error}<br />Check your internet connection and
                              try refreshing.`}
                      </p>
                    </div>`:""}
              </div>`}
        </div>

        <!-- Reload Button at Bottom -->
        <div class="preset-footer">
          <button
            class="reload-btn ${t.loading?"loading":""}"
            @click=${()=>h.O.refreshWordPressPresets()}
            title="Refresh presets from server"
            ?disabled=${t.loading}
          >
            <ha-icon icon="mdi:refresh" class="${t.loading?"spinning":""}"></ha-icon>
            <span>Reload</span>
          </button>
        </div>
      </div>
    `}_renderFavoritesTab(){const e=_.B.getFavorites();return a.qy`
      <div class="favorites-container">
        <div class="favorites-header">
          <h4>Saved Favorites</h4>
          <button class="import-btn" @click=${()=>this._showImportDialog=!0}>
            <ha-icon icon="mdi:import"></ha-icon>
            <span>Import</span>
          </button>
        </div>

        <div class="favorites-grid">
          ${e.length>0?e.map((e=>a.qy`
                  <div class="favorite-card">
                    <div class="favorite-header">
                      <h4>${e.name}</h4>
                      <div class="favorite-actions">
                        <button
                          class="action-btn"
                          @click=${()=>this._addFavorite(e)}
                          title="Add to layout"
                        >
                          <ha-icon icon="mdi:plus"></ha-icon>
                        </button>
                        <button
                          class="action-btn"
                          @click=${()=>this._exportFavorite(e)}
                          title="Export"
                        >
                          <ha-icon icon="mdi:export"></ha-icon>
                        </button>
                        <button
                          class="action-btn delete"
                          @click=${()=>this._deleteFavorite(e.id)}
                          title="Delete"
                        >
                          <ha-icon icon="mdi:delete"></ha-icon>
                        </button>
                      </div>
                    </div>
                    ${e.description?a.qy`<p class="favorite-description">${e.description}</p>`:""}
                    <div class="favorite-meta">
                      <span class="favorite-date">
                        ${new Date(e.created).toLocaleDateString()}
                      </span>
                      ${e.tags.length>0?a.qy`<div class="favorite-tags">
                            ${e.tags.slice(0,2).map((e=>a.qy`<span class="tag">${e}</span>`))}
                          </div>`:""}
                    </div>
                  </div>
                `)):a.qy`<div class="empty-state">
                <ha-icon icon="mdi:heart-outline"></ha-icon>
                <p>No favorites saved yet</p>
                <p class="empty-hint">Use the heart icon on any row to save it as a favorite</p>
              </div>`}
        </div>
      </div>
    `}_renderFavoriteDialog(){return this._showFavoriteDialog&&this._favoriteRowToSave?a.qy`
      <uc-favorite-dialog
        .row=${this._favoriteRowToSave}
        .open=${this._showFavoriteDialog}
        @close=${()=>{this._showFavoriteDialog=!1,this._favoriteRowToSave=null}}
        @saved=${e=>{this._showToast(`"${e.detail.name}" saved to favorites!`,"success")}}
      ></uc-favorite-dialog>
    `:a.qy``}_renderImportDialog(){return a.qy`
      <uc-import-dialog
        .open=${this._showImportDialog}
        @close=${()=>this._showImportDialog=!1}
        @import=${this._handleImport}
      ></uc-import-dialog>
    `}_handleImport(e){var t;const i=e.detail;if("ultra-card-row"===i.type){const e=this._ensureLayout(),t=i.data,o=this._selectedRowIndex>=0?this._selectedRowIndex+1:e.rows.length;e.rows.splice(o,0,t),this._updateLayout(e),this._showToast(`Row "${i.metadata.name}" imported successfully!`,"success")}else if("ultra-card-layout"===i.type){if(confirm("This will replace your entire layout. Are you sure?")){const e=i.data;this._updateLayout(e),this._showToast(`Layout "${i.metadata.name}" imported successfully!`,"success")}}else if("ultra-card-module"===i.type)if(this._selectedRowIndex>=0&&this._selectedColumnIndex>=0){const e=this._ensureLayout(),o=null===(t=e.rows[this._selectedRowIndex])||void 0===t?void 0:t.columns[this._selectedColumnIndex];if(o){const t=i.data;o.modules.push(t),this._updateLayout(e),this._showToast(`Module "${i.metadata.name}" imported successfully!`,"success")}}else this._showToast("Please select a column to add the module to","error")}_isLayoutModule(e){return["horizontal","vertical","slider"].includes(e)}_shouldAutoOpenSettings(e){return!this._isLayoutModule(e)}_getLayoutModuleColor(e){return this._isLayoutModule(e)?"var(--success-color, #4caf50)":"var(--accent-color, var(--orange-color, #ff9800))"}_renderColumnLayoutSelector(){const e=this._ensureLayout().rows[this._selectedRowForLayout],t=e?e.columns.length:1,i=(null==e?void 0:e.column_layout)||"1-col",o=this._migrateLegacyLayoutId(i),n=this._getLayoutsForColumnCount(t);return a.qy`
      <div class="column-layout-selector-popup">
        <div class="popup-overlay" @click=${()=>this._showColumnLayoutSelector=!1}></div>
        <div class="selector-content draggable-popup" id="column-layout-selector-popup">
          <div
            class="selector-header"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupDrag(e,t)}}
          >
            <h3>Choose Column Layout</h3>
            <p>
              Select any layout for ${t}
              column${1!==t?"s":""} (Currently: ${t}
              column${1!==t?"s":""})
            </p>
          </div>

          <div class="selector-body">
            <div class="layout-options">
              ${n.map((e=>a.qy`
                  <button
                    class="layout-option-btn ${e.id===i||e.id===o?"current":""}"
                    @click=${()=>this._changeColumnLayout(e.id)}
                    title="${e.name}"
                  >
                    <div class="layout-visual">
                      <div class="layout-icon-large">
                        ${(0,r._)(this._createColumnIconHTML(e.proportions))}
                      </div>
                    </div>
                    <div class="layout-name">${e.name}</div>
                    ${e.id===i||e.id===o?a.qy`<div class="current-badge">Current</div>`:""}
                  </button>
                `))}
            </div>
          </div>

          <!-- Resize handle -->
          <div
            class="resize-handle"
            @mousedown=${e=>{const t=e.target.closest(".selector-content");t&&this._startPopupResize(e,t)}}
            title="Drag to resize"
          >
            <ha-icon icon="mdi:resize-bottom-right"></ha-icon>
          </div>
        </div>
      </div>
    `}static get styles(){return a.AH`
      :host {
        --accent-color: var(--orange-color, #ff9800);
        --orange-color: #ff9800;
        --secondary-color: var(--orange-color, #ff9800);
      }

      .layout-builder {
        padding: 12px;
        background: var(--card-background-color);
        border-radius: 8px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .builder-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--divider-color);
        flex-wrap: wrap;
        gap: 8px;
        flex-shrink: 0;
      }

      .builder-header h3 {
        margin: 0;
        flex: 1;
        min-width: 120px;
        font-size: 18px;
      }

      .header-buttons {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
      }

      .undo-btn,
      .redo-btn,
      .add-row-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        white-space: nowrap;
        font-weight: 500;
        transition: all 0.2s ease;
        min-height: 40px;
      }

      /* Mobile optimization for undo/redo buttons */
      @media (max-width: 768px) {
        .header-buttons {
          gap: 6px;
        }

        .undo-btn,
        .redo-btn {
          padding: 10px 12px;
          gap: 6px;
        }

        /* Hide text labels on mobile for undo/redo buttons to save space */
        .undo-btn span,
        .redo-btn span {
          display: none;
        }

        /* Ensure disabled buttons are visible on mobile with proper contrast */
        .undo-btn:disabled,
        .redo-btn:disabled {
          background: var(--disabled-color, #ccc) !important;
          color: var(--text-color, #999) !important;
          cursor: not-allowed !important;
          transform: none !important;
          box-shadow: none !important;
          opacity: 1 !important;
          display: flex !important;
        }

        .undo-btn:disabled ha-icon,
        .redo-btn:disabled ha-icon {
          opacity: 1 !important;
          --mdc-icon-size: 20px;
          color: var(--text-color, #999) !important;
        }

        /* Keep add row button text visible as it's the primary action */
        .add-row-btn {
          padding: 10px 16px;
        }
      }

      .undo-btn:hover,
      .redo-btn:hover,
      .add-row-btn:hover {
        background: var(--primary-color-dark, var(--primary-color));
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .undo-btn:disabled,
      .redo-btn:disabled {
        background: var(--disabled-color, #ccc);
        color: var(--text-color, #999);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
        opacity: 1;
      }

      .undo-btn:disabled:hover,
      .redo-btn:disabled:hover {
        background: var(--disabled-color, #ccc);
        transform: none;
        box-shadow: none;
      }

      .row-builder {
        margin-bottom: 16px;
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        background: var(--card-background-color);
        width: 100%;
        box-sizing: border-box;
        position: static;
        transition: all 0.2s ease;
        overflow: visible;
      }

      .row-builder:last-child {
        margin-bottom: 0;
      }

      .row-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 12px;
        background: var(--primary-color);
        color: white;
        font-weight: 500;
        border-bottom: 2px solid var(--primary-color);
        position: relative;
        z-index: 10;
        border-radius: 8px 8px 0px 0px;
      }

      .row-title {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .row-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        color: rgba(255, 255, 255, 0.7);
        cursor: grab;
        opacity: 0.8;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 16px;
      }

      .row-drag-handle:hover {
        opacity: 1;
      }

      .row-drag-handle:active {
        cursor: grabbing;
      }

      .column-layout-btn {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 4px;
        padding: 4px 8px;
        cursor: pointer;
        color: white;
        font-size: 14px;
        transition: all 0.2s ease;
        min-width: 32px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .column-layout-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        border-color: rgba(255, 255, 255, 0.5);
      }

      .layout-icon {
        font-family: monospace;
        font-weight: bold;
        letter-spacing: 1px;
      }

      .row-actions {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .row-duplicate-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-duplicate-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .row-add-column-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-add-column-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .row-settings-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: background-color 0.2s ease;
      }

      .row-settings-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .delete-row-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .delete-row-btn:hover {
        background: rgba(255, 100, 100, 0.8);
        color: white;
      }

      .rows-container {
        flex: 1;
        min-height: 0;
        width: 100%;
        box-sizing: border-box;
      }

      .columns-container {
        display: flex;
        flex-direction: column;
        gap: 8px;
        width: 100%;
        padding: 12px;
        box-sizing: border-box;
        background: var(--card-background-color);
        border-top: 1px solid var(--primary-color);
      }

      /* Editor view: Force single column layout for better usability */
      .columns-container[data-layout='1-col'],
      .columns-container[data-layout='1-2-1-2'],
      .columns-container[data-layout='1-3-2-3'],
      .columns-container[data-layout='2-3-1-3'],
      .columns-container[data-layout='2-5-3-5'],
      .columns-container[data-layout='3-5-2-5'],
      .columns-container[data-layout='1-3-1-3-1-3'],
      .columns-container[data-layout='1-4-1-2-1-4'],
      .columns-container[data-layout='1-5-3-5-1-5'],
      .columns-container[data-layout='1-6-2-3-1-6'],
      .columns-container[data-layout='1-4-1-4-1-4-1-4'],
      .columns-container[data-layout='1-5-1-5-1-5-1-5'],
      .columns-container[data-layout='1-6-1-6-1-6-1-6'],
      .columns-container[data-layout='1-8-1-4-1-4-1-8'],
      .columns-container[data-layout='1-5-1-5-1-5-1-5'],
      .columns-container[data-layout='1-6-1-6-1-3-1-6-1-6'],
      .columns-container[data-layout='1-8-1-4-1-4-1-4-1-8'],
      .columns-container[data-layout='1-6-1-6-1-6-1-6-1-6-1-6'],
      /* Legacy support */
      .columns-container[data-layout='50-50'],
      .columns-container[data-layout='30-70'],
      .columns-container[data-layout='70-30'],
      .columns-container[data-layout='33-33-33'],
      .columns-container[data-layout='25-50-25'],
      .columns-container[data-layout='20-60-20'],
      .columns-container[data-layout='25-25-25-25'] {
        display: flex;
        flex-direction: column;
        gap: 8px;
        border: 1px solid var(--primary-color);
        margin-bottom: 16px;
        border-radius: 0px 0px 8px 8px;
      }

      .column-builder {
        border: 2px solid var(--accent-color, var(--orange-color, #ff9800));
        border-radius: 0px 0px 6px 6px;
        background: var(--card-background-color);
        width: 100%;
        box-sizing: border-box;
        overflow: visible;

        position: static;
      }

      .column-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        font-weight: 500;
        padding: 8px 12px;
        background: var(--accent-color, var(--orange-color, #ff9800));
        color: white;
        border-bottom: 2px solid var(--accent-color, var(--orange-color, #ff9800));
        position: relative;
        z-index: 5;
        border-radius: 6px 6px 0px 0px;
      }

      .column-actions {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .column-add-module-btn,
      .column-duplicate-btn,
      .column-settings-btn,
      .column-delete-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.9);
        cursor: pointer;
        padding: 6px 8px;
        border-radius: 4px;
        transition: all 0.2s ease;
        font-size: 12px;
        min-width: 28px;
        min-height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .column-add-module-btn:hover,
      .column-duplicate-btn:hover,
      .column-settings-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        color: white;
        transform: scale(1.05);
      }

      .column-delete-btn:hover:not([disabled]) {
        background: rgba(255, 100, 100, 0.9);
        color: white;
        transform: scale(1.05);
      }

      .column-delete-btn[disabled] {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
      }

      .column-delete-btn[disabled]:hover {
        background: none;
        transform: none;
      }

      .column-actions ha-icon {
        --mdc-icon-size: 16px;
      }

      .column-title {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .column-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        color: rgba(255, 255, 255, 0.7);
        cursor: grab;
        opacity: 0.8;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 14px;
      }

      .column-drag-handle:hover {
        opacity: 1;
      }

      .column-drag-handle:active {
        cursor: grabbing;
      }

      .modules-container {
        display: flex;
        flex-direction: column;
        gap: 6px;
        width: 100%;
        box-sizing: border-box;
        padding: 12px;
        background: var(--card-background-color);
        border: 1px solid var(--secondary-color, var(--accent-color, #ff9800));
        border-top: none;
        border-radius: 0px 0px 6px 6px;
        margin-top: 0;

        position: static;
        overflow: visible;
      }

      .module-item {
        position: relative;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        margin-bottom: 8px;
        width: 100%;
        min-height: 60px;
        transition: border-color 0.2s ease;
        box-sizing: border-box;
        overflow: visible;
      }

      .module-item:hover {
        border-color: var(--primary-color);
        box-shadow: 0 2px 12px rgba(var(--rgb-primary-color), 0.2);
        transform: translateY(-1px);
      }

      .module-content {
        padding: 8px;
        cursor: pointer;
        width: 100%;
        box-sizing: border-box;
        overflow: hidden;
        word-wrap: break-word;
        word-break: break-word;
        pointer-events: auto;
        position: relative;
        z-index: 1;

        /* Ensure content doesn't interfere with hover actions positioning */
        contain: layout style;
      }

      /* Simplified Module Styles */
      .simplified-module {
        padding: 12px;
        border-radius: 6px;
        background: var(--card-background-color, #fff);
        border: 1px solid var(--divider-color, #e0e0e0);
        width: 100%;
        box-sizing: border-box;
      }

      .simplified-module-header {
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
      }

      .simplified-module-drag-handle {
        flex-shrink: 0;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--secondary-text-color, #757575);
        cursor: grab;
        opacity: 0.6;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 16px;
      }

      .simplified-module:hover .simplified-module-drag-handle {
        opacity: 1;
      }

      .simplified-module-drag-handle:active {
        cursor: grabbing;
      }

      .simplified-module-icon {
        flex-shrink: 0;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--primary-color, #2196f3);
        color: white;
        border-radius: 6px;
        --mdc-icon-size: 20px;
      }

      .simplified-module-content {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .simplified-module-title {
        font-size: 14px;
        font-weight: 600;
        color: var(--primary-text-color, #212121);
        line-height: 1.3;
        margin: 0;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .simplified-module-info {
        font-size: 12px;
        color: var(--secondary-text-color, #757575);
        line-height: 1.2;
        margin: 0;
        opacity: 0.8;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }

      .simplified-module-actions {
        display: flex;
        gap: 4px;
        align-items: center;
        flex-shrink: 0;
      }

      .simplified-action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color, #e0e0e0);
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 0;
      }

      .simplified-action-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .simplified-action-btn.edit-btn {
        color: var(--primary-color, #2196f3);
        border-color: var(--primary-color, #2196f3);
      }

      .simplified-action-btn.edit-btn:hover {
        background: var(--primary-color, #2196f3);
        color: white;
      }

      .simplified-action-btn.duplicate-btn {
        color: var(--info-color, #2196f3);
        border-color: var(--info-color, #2196f3);
      }

      .simplified-action-btn.duplicate-btn:hover {
        background: var(--info-color, #2196f3);
        color: white;
      }

      .simplified-action-btn.delete-btn {
        color: var(--error-color, #f44336);
        border-color: var(--error-color, #f44336);
      }

      .simplified-action-btn.delete-btn:hover {
        background: var(--error-color, #f44336);
        color: white;
      }

      .simplified-action-btn ha-icon {
        --mdc-icon-size: 14px;
      }

      /* Disable animations within layout builder modules */
      .module-content * {
        max-width: 100%;
        box-sizing: border-box;
        animation: none !important;
        transition: none !important;
      }

      .module-content *:hover {
        transform: none !important;
        animation: none !important;
        transition: none !important;
      }

      .module-content img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      .add-module-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 10px;
        border: 2px dashed var(--divider-color);
        border-radius: 4px;
        background: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        width: 100%;
        box-sizing: border-box;
        font-size: 13px;
        min-height: 36px;
      }

      .add-module-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .add-column-container {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 12px 12px 12px;
        width: 100%;
        box-sizing: border-box;
      }

      .add-column-btn {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 10px 12px;
        border: 2px dashed var(--secondary-text-color);
        border-radius: 6px;
        background: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 13px;
        width: 100%;
        min-height: 40px;
        box-sizing: border-box;
      }

      .add-column-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.05));
      }

      .add-column-btn ha-icon {
        --mdc-icon-size: 20px;
      }

      /* Empty Row Message */
      .empty-row-message {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 32px 16px;
        border: 2px dashed var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        color: var(--secondary-text-color);
        text-align: center;
        min-height: 120px;
      }

      .empty-row-message p {
        margin: 0 0 8px 0;
        font-size: 14px;
        opacity: 0.8;
      }

      /* Module Selector Popup */
      .module-selector-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .popup-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
      }

      .selector-content {
        position: relative;
        background: var(--card-background-color);
        border-radius: 8px;
        max-width: 500px;
        width: 90%;
        max-height: 80vh;
        overflow: visible; /* allow resize handle to be positioned relative to this container */
        display: flex;
        flex-direction: column;
      }

      .selector-body {
        overflow-x: hidden; /* prevent bleed */
        overflow-y: auto; /* allow vertical scrolling when content exceeds height */
        max-height: inherit;
        padding: 0 24px 28px 24px; /* consistent horizontal padding, leave room for resize handle */
        flex: 1; /* take up remaining space */
        border-radius: 0 0 8px 8px; /* maintain bottom border radius */
        /* Ensure content doesn't hide under header */
        position: relative;
        z-index: 1;
      }

      /* Improve mobile scrolling behavior */
      @media (max-width: 768px) {
        .selector-body {
          padding: 0 16px 20px 16px; /* Reduce padding on mobile */
          /* Ensure proper scrolling on mobile */
          -webkit-overflow-scrolling: touch;
          overscroll-behavior: contain;
        }
      }

      .selector-content.draggable-popup {
        position: fixed; /* Use fixed positioning for better control */
        width: min(700px, 95vw);
        height: min(750px, 90vh);
        /* Use transform for better centering on all devices */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000;
        max-width: calc(100vw - 40px); /* Ensure 20px padding on each side */
        max-height: calc(100vh - 40px); /* Ensure 20px padding on top/bottom */
      }

      /* Mobile optimization for selector popup */
      @media (max-width: 768px), (max-height: 768px) {
        .selector-content.draggable-popup {
          width: calc(100vw - 20px) !important; /* Full width with 10px padding each side */
          height: calc(100vh - 40px) !important; /* Full height with 20px padding top/bottom */
          max-width: none !important; /* Remove max-width constraint on mobile */
          max-height: none !important; /* Remove max-height constraint on mobile */
          /* Ensure proper centering on mobile */
          position: fixed !important;
          top: 50% !important;
          left: 50% !important;
          transform: translate(-50%, -50%) !important;
          margin: 0 !important;
        }

        /* Ensure header content stays properly aligned on mobile */
        .selector-header-top {
          flex-wrap: nowrap;
          align-items: center;
          justify-content: space-between;
        }

        .selector-header h3 {
          flex: 1;
          min-width: 0; /* Allow text to truncate if needed */
          margin-right: 12px;
        }

        .selector-header .close-button {
          flex-shrink: 0; /* Prevent close button from shrinking */
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-left: 0; /* Remove auto margin on mobile */
        }
      }

      .selector-header {
        position: sticky; /* keep header visible while scrolling */
        top: 0;
        z-index: 5;
        background: var(--card-background-color);
        padding: 20px 24px 16px; /* add horizontal padding to match container */
        border-bottom: 1px solid var(--divider-color);
        margin-bottom: 16px;
        cursor: move;
        user-select: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
        border-radius: 8px 8px 0 0; /* maintain top border radius */
      }

      .selector-header-top {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%;
        white-space: nowrap;
      }

      .selector-header h3 {
        margin: 0; /* align vertically with X */
        flex: 1; /* push the X to the far right */
      }

      .selector-header .close-button {
        margin-left: auto; /* ensure it sits on the same row to the right */
        background: none;
        border: none;
        font-size: 24px;
        line-height: 1;
        cursor: pointer;
        color: var(--secondary-text-color);
      }

      .selector-header .close-button:hover {
        color: var(--primary-color);
      }

      .module-stats {
        font-size: 12px;
        color: var(--secondary-text-color);
      }

      .category-title {
        font-size: 14px;
        font-weight: 600;
        margin: 0 0 8px 0;
        color: var(--primary-text-color);
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .module-types {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }

      .module-type-btn {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: left;
        width: 100%;
        min-height: 60px;
      }

      .module-type-btn:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      /* Ensure text elements are white on hover */
      .module-type-btn:hover .module-title,
      .module-type-btn:hover .module-description {
        color: white !important;
      }

      .module-type-btn ha-icon {
        font-size: 32px;
        flex-shrink: 0;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--primary-color);
        color: white;
        border-radius: 8px;
      }

      .module-type-btn:hover ha-icon {
        background: white;
        color: var(--primary-color);
      }

      .module-info {
        display: flex;
        flex-direction: column;
        gap: 4px;
        min-width: 0;
        flex: 1;
      }

      .module-title {
        font-weight: 500;
        font-size: 16px;
        color: var(--primary-text-color);
      }

      .module-description {
        font-size: 14px;
        color: var(--secondary-text-color);
        line-height: 1.3;
      }

      .module-author,
      .module-version {
        display: none; /* Hide for cleaner look */
      }

      /* Module Category Styles */
      .module-category {
        margin-bottom: 24px;
      }

      .category-title {
        font-size: 16px;
        font-weight: 600;
        margin: 0 0 8px 0;
        color: var(--primary-text-color);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .category-description {
        font-size: 14px;
        color: var(--secondary-text-color);
        margin: 0 0 16px 0;
        line-height: 1.4;
      }

      /* Layout Module Specific Styles */
      .layout-modules .module-type-btn.layout-module {
        position: relative;
        border: 2px solid var(--success-color, #4caf50);
        background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.1));
      }

      .layout-modules .module-type-btn.horizontal-layout {
        border-color: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout {
        border-color: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.layout-module:hover {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      }

      .layout-modules .module-type-btn.horizontal-layout:hover {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      }

      .layout-modules .module-type-btn.vertical-layout:hover {
        border-color: var(--success-color, #4caf50);
        background: var(--success-color, #4caf50);
        color: white;
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      }

      /* Ensure layout module text is white on hover */
      .layout-modules .module-type-btn.layout-module:hover .module-title,
      .layout-modules .module-type-btn.layout-module:hover .module-description,
      .layout-modules .module-type-btn.horizontal-layout:hover .module-title,
      .layout-modules .module-type-btn.horizontal-layout:hover .module-description,
      .layout-modules .module-type-btn.vertical-layout:hover .module-title,
      .layout-modules .module-type-btn.vertical-layout:hover .module-description {
        color: white !important;
      }

      .layout-modules .module-type-btn.layout-module ha-icon {
        background: var(--success-color, #4caf50);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.2);
      }

      .layout-modules .module-type-btn.horizontal-layout ha-icon {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout ha-icon {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.layout-module:hover ha-icon {
        background: white;
        color: var(--success-color, #4caf50);
        border-color: rgba(0, 0, 0, 0.1);
      }

      .layout-modules .module-type-btn.horizontal-layout:hover ha-icon {
        color: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout:hover ha-icon {
        color: var(--success-color, #4caf50);
      }

      .layout-badge {
        position: absolute;
        top: 8px;
        right: 8px;
        background: var(--success-color, #4caf50);
        color: white;
        font-size: 9px;
        font-weight: 600;
        padding: 2px 6px;
        border-radius: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        opacity: 0.9;
      }

      .layout-modules .module-type-btn.horizontal-layout .layout-badge {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.vertical-layout .layout-badge {
        background: var(--success-color, #4caf50);
      }

      .layout-modules .module-type-btn.layout-module:hover .layout-badge {
        background: rgba(255, 255, 255, 0.2);
        opacity: 1;
      }

      /* Content Module Styles */
      .content-modules .module-type-btn.content-module {
        border: 1px solid var(--divider-color);
      }

      .content-modules .module-type-btn.content-module:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
      }

      /* Ensure content module text is white on hover */
      .content-modules .module-type-btn.content-module:hover .module-title,
      .content-modules .module-type-btn.content-module:hover .module-description {
        color: white !important;
      }

      /* Column Layout Selector Popup */
      .column-layout-selector-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1001;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .layout-options {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin-top: 16px;
      }

      .layout-option-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 16px 12px;
        border: 2px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: center;
        min-height: 80px;
        gap: 8px;
      }

      .layout-option-btn:hover {
        border-color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.1));
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .layout-option-btn.current {
        border-color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.1));
        position: relative;
      }

      .layout-option-btn.current .layout-icon-large {
        color: var(--primary-color);
      }

      .current-badge {
        position: absolute;
        top: 4px;
        right: 4px;
        background: var(--primary-color);
        color: white;
        font-size: 8px;
        font-weight: 600;
        padding: 2px 6px;
        border-radius: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .layout-visual {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 32px;
      }

      .layout-icon-large {
        font-family: monospace;
        font-weight: bold;
        font-size: 20px;
        letter-spacing: 2px;
        color: var(--primary-color);
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .layout-name {
        font-size: 12px;
        font-weight: 500;
        color: var(--primary-text-color);
        line-height: 1.2;
      }

      .module-placeholder {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 16px;
        border: 1px dashed var(--divider-color);
        border-radius: 4px;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      .error-message {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px;
        background: var(--error-color);
        color: white;
        border-radius: 4px;
        font-size: 14px;
      }

      /* General Settings Popup Styles */
      .settings-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1002;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 20px;
        overflow-y: hidden; /* scrolling handled inside content to support sticky header */
        overflow-x: visible;
      }

      .settings-tabs {
        display: flex;
        border-bottom: 1px solid var(--divider-color);
        position: sticky;
        top: 0;
        z-index: 4;
        background: var(--card-background-color);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      }

      .settings-tab {
        flex: 1;
        padding: 12px 16px;
        background: none;
        border: none;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 14px;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
      }

      .settings-tab:hover {
        color: var(--primary-color);
      }

      .settings-tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
      }

      .settings-tab-content {
        padding: 24px;
        flex: 1 1 auto;
        min-height: 0; /* allow parent to control height */
        overflow-y: auto;
      }

      /* Module Settings Popup */
      .module-settings-popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1001;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 20px;
        overflow-y: hidden; /* scrolling handled inside popup-content for sticky header */
        overflow-x: visible;
      }

      .popup-content {
        position: relative;
        background: var(--card-background-color);
        border-radius: 8px;
        width: 720px;
        min-height: 480px;
        max-width: 98vw;
        max-height: 98vh;
        overflow: visible; /* allow resize handle to be positioned relative to this container */
        display: flex;
        flex-direction: column;
      }

      .popup-body {
        overflow-y: auto; /* scrolling handled by popup body, not the main container */
        overflow-x: hidden;
        flex: 1;
        padding-bottom: 28px; /* leave room so content doesn't sit under the resize handle */
      }

      /* Dropdown positioning fixes for popup context -
         ensure menus anchor to fields inside transformed draggable popups */
      .popup-content ha-select,
      .selector-content ha-select {
        position: relative !important;
        overflow: visible !important;
        z-index: 9999 !important;
      }

      .popup-content ha-select .mdc-select__menu,
      .popup-content ha-select mwc-menu,
      .popup-content ha-select .mdc-menu,
      .popup-content ha-select ha-menu,
      .selector-content ha-select .mdc-select__menu,
      .selector-content ha-select mwc-menu,
      .selector-content ha-select .mdc-menu,
      .selector-content ha-select ha-menu {
        /* Let HA position menus; we only ensure visibility */
        z-index: 10001 !important;
        max-height: 300px !important;
        overflow-y: auto !important;
        max-width: min(360px, 95vw) !important;
      }

      /* Allow dropdown overflow; keep inner content scrollable */
      .popup-content {
        /* Allow dropdowns to overflow the scrolling container */
        overflow: visible !important;
      }

      .popup-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 24px;
        border-bottom: 1px solid var(--divider-color);
        position: sticky; /* keep header visible while scrolling */
        top: 0;
        z-index: 5; /* above tab content */
        background: var(--card-background-color);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      }

      .close-button {
        background: none;
        border: none;
        font-size: 32px;
        cursor: pointer;
        color: var(--secondary-text-color);
        padding: 0;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .close-button:hover {
        color: var(--primary-color);
      }

      .action-button {
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .action-button ha-icon {
        --mdc-icon-size: 20px;
      }

      .duplicate-button {
        color: var(--primary-color);
      }

      .duplicate-button:hover {
        background: var(--primary-color);
        color: white;
      }

      .delete-button {
        color: var(--error-color);
      }

      .delete-button:hover {
        background: var(--error-color);
        color: white;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* Drag and Resize Functionality */
      .draggable-popup {
        position: absolute;
        /* Avoid transforms so fixed-position menus anchor to viewport correctly */
        transform: none !important;
        max-width: none;
        max-height: none;
        width: min(700px, 95vw);
        height: min(750px, 90vh);
        /* Center the popup initially */
        /* Use margins for centering instead of transforms to not create a containing block */
        top: 50%;
        left: 50%;
        margin-left: -350px; /* half of width when 700px; will be clamped by max-width */
        margin-top: -375px; /* half of height when 750px; responsive will adjust */
        /* Reset translate centering */
        /* transform already set to none above */
        z-index: 1000;
      }

      /* During drag/resize, remove centering transform and use absolute positioning */
      .draggable-popup.popup-dragging,
      .draggable-popup.popup-resizing {
        position: absolute;
        transform: none;
        /* left and top will be set by JavaScript during drag */
      }

      /* Selector popup drag positioning */
      .selector-content.popup-dragging {
        position: absolute;
        transform: none;
        /* left and top will be set by JavaScript during drag */
      }

      /* Mobile optimization for module popups */
      @media (max-width: 768px), (max-height: 768px) {
        .draggable-popup {
          /* Use transform-based centering for better mobile compatibility */
          position: fixed !important;
          top: 50% !important;
          left: 50% !important;
          transform: translate(-50%, -50%) !important;
          width: calc(100vw - 20px) !important;
          height: calc(100vh - 40px) !important;
          margin: 0 !important;
          max-width: none !important;
          max-height: none !important;
        }
        /* Remove move affordance on mobile */
        .popup-header {
          cursor: default;
        }
        /* Hide resize handle on mobile */
        .draggable-popup .resize-handle {
          display: none;
        }
      }

      .popup-header {
        cursor: move;
        user-select: none;
      }

      .resize-handle {
        position: absolute;
        bottom: 0px;
        right: 0px;
        width: 20px;
        height: 20px;
        cursor: se-resize;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--secondary-text-color);
        background: var(--card-background-color);
        border-radius: 8px 0 8px 0;
        transition: all 0.2s ease;
        z-index: 1000; /* ensure it stays above all content including scrollable areas */
        pointer-events: auto; /* ensure it's always clickable */
      }

      /* Keep sticky behavior even during drag/resize */
      .draggable-popup .resize-handle {
        transform: none !important;
      }

      .resize-handle:hover {
        color: var(--primary-color);
        background: var(--divider-color);
      }

      .resize-handle ha-icon {
        --mdc-icon-size: 16px;
      }

      .popup-dragging {
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        z-index: 1010 !important;
      }

      .popup-resizing {
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        transition: none !important;
      }

      .popup-resizing * {
        transition: none !important;
      }

      /* Override any conflicting styles for resizable elements */
      .draggable-popup.popup-resizing {
        max-width: none !important;
        max-height: none !important;
        width: auto !important;
        height: auto !important;
      }

      .popup-dragging .popup-header,
      .popup-resizing .popup-header {
        cursor: move;
      }

      .popup-dragging .resize-handle,
      .popup-resizing .resize-handle {
        pointer-events: none;
      }

      /* Selector popup drag behavior */
      .selector-content.popup-dragging {
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
        z-index: 1010 !important;
      }

      .selector-content.popup-dragging .selector-header {
        cursor: move;
      }

      .selector-content.popup-dragging .resize-handle {
        pointer-events: none;
      }

      /* Module Preview */
      .module-preview {
        margin: 16px 24px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        overflow: hidden; /* prevent content from overflowing the preview container */
        max-width: 100%;
        transition: all 0.3s ease;
      }

      /* Pinned preview - sticky positioning */
      .module-preview.pinned {
        position: sticky;
        top: 16px;
        z-index: 5;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        border-color: var(--primary-color);
        background: var(--card-background-color);
      }

      /* Ensure pinned preview header also has solid background */
      .module-preview.pinned .preview-header {
        background: var(--secondary-background-color);
      }

      /* Ensure pinned preview content has solid background */
      .module-preview.pinned .preview-content {
        background: var(
          --view-background,
          var(--lovelace-background, var(--primary-background-color))
        );
      }

      .preview-header {
        padding: 12px 16px;
        background: var(--secondary-background-color);
        font-weight: 500;
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .preview-pin-icon {
        --mdc-icon-size: 18px;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .preview-pin-icon:hover {
        color: var(--primary-color);
        transform: scale(1.15);
      }

      .preview-pin-icon.pinned {
        color: var(--primary-color);
        transform: rotate(45deg);
      }

      .preview-pin-icon.pinned:hover {
        transform: rotate(45deg) scale(1.15);
      }

      .preview-caret {
        --mdc-icon-size: 20px;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .preview-caret:hover {
        color: var(--primary-color);
      }

      .preview-content {
        padding: 16px;
        min-height: 60px;
        display: block;
        max-width: 100%;
        overflow: hidden; /* ensure preview content doesn't overflow */
        background: var(
          --view-background,
          var(--lovelace-background, var(--primary-background-color))
        );
      }

      /* Module Tabs */
      .module-tabs {
        display: flex;
        border-bottom: 1px solid var(--divider-color);
        position: sticky;
        top: 0;
        z-index: 4;
        background: var(--card-background-color);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
      }

      .module-tab {
        flex: 1;
        padding: 12px 16px;
        background: none;
        border: none;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 14px;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
      }

      .module-tab:hover {
        color: var(--primary-color);
      }

      .module-tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
      }

      .module-tab-content {
        padding: 24px;
        flex: 1;
        overflow-y: auto; /* body scrolls */
        overflow-x: visible; /* allow dropdown menus to render outside content column */
        width: 100%;
        box-sizing: border-box;
        min-height: 0; /* Allow flex child to shrink below content size */
      }

      /* Design Subtabs */
      .design-subtabs {
        display: flex;
        margin-bottom: 16px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        overflow: hidden;
      }

      .design-subtab {
        flex: 1;
        padding: 8px 12px;
        background: var(--secondary-background-color);
        border: none;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 12px;
        transition: all 0.2s ease;
      }

      .design-subtab:hover {
        color: var(--primary-color);
      }

      .design-subtab.active {
        background: var(--primary-color);
        color: white;
      }

      /* Settings Sections */
      .settings-section {
        margin-bottom: 20px;
        width: 100%;
        box-sizing: border-box;
      }

      .settings-section label {
        display: block;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
        color: var(--primary-text-color);
        width: 100%;
        box-sizing: border-box;
      }

      /* Color Section Styling */
      .color-section {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .color-picker-wrapper {
        display: flex;
        align-items: center;
      }

      .color-picker-wrapper ultra-color-picker {
        width: 100%;
        max-width: 300px;
      }

      /* Font Dropdown Styling */
      .font-dropdown {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        font-family: inherit;
      }

      .font-dropdown:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .font-dropdown optgroup {
        font-weight: 600;
        color: var(--secondary-text-color);
        background: var(--card-background-color);
        padding: 4px 0;
      }

      .font-dropdown option {
        padding: 4px 8px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
      }

      /* Font Size Input Styling */
      .font-size-input {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
      }

      .font-size-input:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      /* Enhanced Alignment Buttons */
      .alignment-buttons {
        display: flex;
        gap: 6px;
        margin-top: 4px;
      }

      .alignment-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        padding: 0;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .alignment-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .alignment-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .alignment-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .settings-section input,
      .settings-section select,
      .settings-section textarea {
        width: 100%;
        max-width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
      }

      .settings-section textarea {
        min-height: 60px;
        resize: vertical;
      }

      /* Gap control container styles */
      .gap-control-container {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%;
      }

      .gap-slider {
        flex: 1;
        min-width: 0;
        -webkit-appearance: none;
        appearance: none;
        height: 6px;
        border-radius: 3px;
        background: var(--divider-color);
        outline: none;
        opacity: 0.7;
        transition: opacity 0.2s;
      }

      .gap-slider:hover {
        opacity: 1;
      }

      .gap-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: all 0.2s ease;
      }

      .gap-slider::-webkit-slider-thumb:hover {
        transform: scale(1.1);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
      }

      .gap-slider::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: all 0.2s ease;
      }

      .gap-slider::-moz-range-thumb:hover {
        transform: scale(1.1);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
      }

      .gap-slider::-moz-range-track {
        height: 6px;
        border-radius: 3px;
        background: var(--divider-color);
        border: none;
      }

      .gap-input {
        flex: 0 0 60px;
        min-width: 60px;
        max-width: 60px;
        text-align: center;
        padding: 6px 8px !important;
      }

      /* Ensure form elements fit properly */
      .settings-section ha-form {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      /* Ensure color pickers fit properly */
      .settings-section ultra-color-picker {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
      }

      /* Consistent styling for all module settings */
      .module-tab-content .settings-section,
      .settings-tab-content .settings-section {
        border-radius: 8px;
        padding: 16px;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        margin-bottom: 16px;
      }

      .module-tab-content .settings-section:last-child,
      .settings-tab-content .settings-section:last-child {
        margin-bottom: 0;
      }

      /* Enhanced input field styling for consistency */
      .module-tab-content input[type='number'],
      .module-tab-content input[type='text'],
      .module-tab-content input[type='color'],
      .module-tab-content select,
      .module-tab-content textarea,
      .settings-tab-content input[type='number'],
      .settings-tab-content input[type='text'],
      .settings-tab-content input[type='color'],
      .settings-tab-content select,
      .settings-tab-content textarea {
        width: 100%;
        max-width: 100%;
        padding: 10px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        font-family: inherit;
        box-sizing: border-box;
        transition: border-color 0.2s ease;
      }

      .module-tab-content input:focus,
      .module-tab-content select:focus,
      .module-tab-content textarea:focus,
      .settings-tab-content input:focus,
      .settings-tab-content select:focus,
      .settings-tab-content textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      /* Range sliders consistent styling */
      .module-tab-content input[type='range'],
      .settings-tab-content input[type='range'] {
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: var(--divider-color);
        outline: none;
        -webkit-appearance: none;
      }

      .module-tab-content input[type='range']::-webkit-slider-thumb,
      .settings-tab-content input[type='range']::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
      }

      /* Checkbox and radio button styling */
      .module-tab-content input[type='checkbox'],
      .module-tab-content input[type='radio'],
      .settings-tab-content input[type='checkbox'],
      .settings-tab-content input[type='radio'] {
        width: auto;
        margin-right: 8px;
        accent-color: var(--primary-color);
      }

      /* Label styling for form elements */
      .module-tab-content label,
      .settings-tab-content label {
        display: block;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
        color: var(--primary-text-color);
        line-height: 1.4;
      }

      /* Field groups */
      .module-tab-content .field-group,
      .settings-tab-content .field-group {
        gap: 12px;
        align-items: flex-end;
      }

      .module-tab-content .field-group > div,
      .settings-tab-content .field-group > div {
        flex: 1;
      }

      /* Button Groups */
      .alignment-buttons,
      .format-buttons {
        display: flex;
        gap: 4px;
      }

      .alignment-btn,
      .format-btn {
        padding: 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .alignment-btn:hover,
      .format-btn:hover {
        border-color: var(--primary-color);
      }

      .alignment-btn.active,
      .format-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      /* Value Position Buttons for Bar Module */
      .value-position-buttons {
        display: flex;
        gap: 8px;
      }

      .position-btn {
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        cursor: pointer;
        font-size: 12px;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .position-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      .position-btn.active {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
      }

      /* Spacing Grid */
      .spacing-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
      }

      .spacing-section h4 {
        margin: 0 0 12px 0;
        font-size: 14px;
        font-weight: 500;
      }

      .spacing-cross {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
        align-items: center;
        max-width: 120px;
        margin: 0 auto;
      }

      .spacing-row {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 8px;
        align-items: center;
      }

      .spacing-center {
        width: 32px;
        height: 32px;
        background: var(--primary-color);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 4px;
        font-weight: bold;
        font-size: 12px;
      }

      .spacing-cross input {
        width: 60px;
        text-align: center;
        padding: 4px 8px;
        font-size: 12px;
      }

      /* Module Rendering */
      .text-module {
        word-wrap: break-word;
      }

      .separator-module {
        width: 100%;
      }

      .image-module {
        text-align: center;
      }

      .image-placeholder {
        padding: 20px;
        border: 2px dashed var(--divider-color);
        border-radius: 4px;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      .module-placeholder {
        padding: 20px;
        text-align: center;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      /* Logic Tab Styles */
      .logic-tab-content {
        display: flex;
        flex-direction: column;
        gap: 24px;
        padding: 16px;
      }

      .logic-section {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .section-header h3 {
        margin: 0 0 16px 0;
        color: var(--primary-text-color);
        font-size: 18px;
        font-weight: 600;
      }

      .display-mode-dropdown {
        width: 100%;
        padding: 12px;
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        min-height: 48px;
      }

      /* Conditions Section */
      .conditions-section {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .conditions-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .conditions-header h4 {
        margin: 0;
        color: var(--primary-text-color);
        font-size: 16px;
        font-weight: 600;
      }

      .add-condition-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .add-condition-btn:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      .add-condition-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .conditions-list {
        display: flex;
        flex-direction: column;
        gap: 14px; /* slightly larger separation between condition cards */
      }

      .no-conditions {
        text-align: center;
        padding: 32px;
        color: var(--secondary-text-color);
        font-style: italic;
      }

      /* Individual Condition Item */
      .condition-item {
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 0;
        transition: all 0.2s ease;
      }

      .condition-item.disabled {
        opacity: 0.6;
      }

      .condition-item:hover {
        border-color: var(--primary-color);
      }

      .condition-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        background: var(--card-background-color);
        border-radius: 8px 8px 0 0;
        border-bottom: 1px solid var(--divider-color);
      }

      .condition-header-left {
        display: flex;
        align-items: center;
        gap: 8px;
        flex: 1;
      }

      .condition-toggle {
        background: none;
        border: none;
        color: var(--primary-text-color);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: background 0.2s ease;
      }

      .condition-toggle:hover {
        background: var(--secondary-background-color);
      }

      .condition-toggle ha-icon {
        --mdc-icon-size: 18px;
        transition: transform 0.2s ease;
      }

      .condition-toggle.expanded ha-icon {
        transform: rotate(0deg);
      }

      .condition-label {
        font-weight: 500;
        color: var(--primary-text-color);
        font-size: 14px;
      }

      .condition-actions {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .condition-action-btn {
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        padding: 6px;
        border-radius: 4px;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .condition-action-btn:hover {
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
      }

      .condition-action-btn.delete:hover {
        background: var(--error-color);
        color: white;
      }

      .condition-action-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .condition-drag-handle {
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: grab;
        padding: 6px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .condition-drag-handle:hover {
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
      }

      .condition-drag-handle:active {
        cursor: grabbing;
      }

      /* Condition Content */
      .condition-content {
        padding: 16px;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .condition-field {
        display: flex;
        flex-direction: column;
        gap: 6px;
        margin-bottom: 8px; /* add breathing room between stacked fields */
      }

      .condition-field label {
        font-weight: 500;
        color: var(--primary-text-color);
        font-size: 14px;
        display: block;
        margin: 0 0 8px 0;
        text-transform: capitalize;
      }

      .condition-field select,
      .condition-field input,
      .condition-field textarea {
        padding: 10px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        transition: border-color 0.2s ease;
      }

      .condition-field select:focus,
      .condition-field input:focus,
      .condition-field textarea:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .condition-enable-toggle {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: normal !important;
        cursor: pointer;
      }

      /* Condition Type Specific Styles */
      .entity-condition-fields,
      .time-condition-fields,
      .custom-field-condition,
      .template-condition {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .time-inputs {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }

      .condition-info {
        margin: 0;
        padding: 8px 12px;
        background: var(--info-color, #2196f3);
        color: white;
        border-radius: 6px;
        font-size: 12px;
        text-align: center;
      }

      .template-help {
        font-size: 12px;
        color: var(--secondary-text-color);
        font-style: italic;
        margin-top: 4px;
      }

      /* Template Section */
      .template-section {
        background: var(--card-background-color);
        border-radius: 8px;
        padding: 16px;
        border: 1px solid var(--divider-color);
      }

      .template-header {
        margin-bottom: 16px;
      }

      .template-toggle {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        color: var(--primary-text-color);
        cursor: pointer;
      }

      .template-content {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .template-editor {
        min-height: 120px;
        font-family: 'Courier New', monospace;
        font-size: 13px;
        line-height: 1.4;
        resize: vertical;
      }

      @media (max-width: 768px) {
        .columns-container {
          flex-direction: column;
        }

        .column-builder {
          border-right: none;
          border-bottom: 1px solid var(--divider-color);
        }

        .column-builder:last-child {
          border-bottom: none;
        }

        /* Single column module grid on mobile */
        .module-types {
          grid-template-columns: 1fr;
        }

        /* Hide green layout badge on mobile to avoid conflict with title */
        .layout-badge {
          display: none !important;
        }

        .spacing-grid {
          grid-template-columns: 1fr;
        }

        .time-inputs {
          grid-template-columns: 1fr;
        }
      }

      /* Logic Module Dimming */
      .module-with-logic {
        position: relative;
      }

      .module-with-logic.logic-hidden {
        opacity: 0.4;
        filter: grayscale(50%);
      }

      .logic-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
        font-weight: 500;
        border-radius: 4px;
        pointer-events: none;
        z-index: 10;
      }

      .logic-overlay ha-icon {
        --mdc-icon-size: 20px;
        margin-bottom: 4px;
      }

      .logic-overlay span {
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
      }

      /* Toggle Switch Styles */
      .switch-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 8px;
      }

      .switch-label {
        font-weight: 600;
        color: var(--primary-text-color);
        font-size: 16px;
      }

      .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--switch-unchecked-color, #ccc);
        transition: 0.3s;
        border-radius: 24px;
      }

      .slider:before {
        position: absolute;
        content: '';
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.3s;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      input:checked + .slider {
        background-color: var(--primary-color);
      }

      input:focus + .slider {
        box-shadow: 0 0 1px var(--primary-color);
      }

      input:checked + .slider:before {
        transform: translateX(26px);
      }

      .slider.round {
        border-radius: 24px;
      }

      .slider.round:before {
        border-radius: 50%;
      }

      /* Disabled state for conditions */
      .disabled-note {
        font-size: 12px;
        color: var(--warning-color, #ff9800);
        font-style: italic;
        font-weight: normal;
      }

      .template-description {
        font-size: 14px;
        color: var(--secondary-text-color);
        line-height: 1.4;
        margin: 4px 0 12px 0;
      }

      /* Animation keyframes and classes for preview windows */
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes vibrate {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-2px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(2px);
        }
      }

      @keyframes rotate-left {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(-360deg);
        }
      }

      @keyframes rotate-right {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes hover {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes fade {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      @keyframes scale {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-5px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(5px);
        }
      }

      @keyframes tada {
        0% {
          transform: scale(1);
        }
        10%,
        20% {
          transform: scale(0.9) rotate(-3deg);
        }
        30%,
        50%,
        70%,
        90% {
          transform: scale(1.1) rotate(3deg);
        }
        40%,
        60%,
        80% {
          transform: scale(1.1) rotate(-3deg);
        }
        100% {
          transform: scale(1) rotate(0);
        }
      }

      .animation-pulse {
        animation-name: pulse;
        animation-iteration-count: infinite;
      }

      .animation-vibrate {
        animation-name: vibrate;
        animation-iteration-count: infinite;
      }

      .animation-rotate-left {
        animation-name: rotate-left;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }

      .animation-rotate-right {
        animation-name: rotate-right;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }

      .animation-hover {
        animation-name: hover;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .animation-fade {
        animation-name: fade;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .animation-scale {
        animation-name: scale;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .animation-bounce {
        animation-name: bounce;
        animation-iteration-count: infinite;
      }

      .animation-shake {
        animation-name: shake;
        animation-timing-function: cubic-bezier(0.36, 0.07, 0.19, 0.97);
        animation-iteration-count: infinite;
      }

      .animation-tada {
        animation-name: tada;
        animation-iteration-count: infinite;
      }

      /* Row and Column Preview Styles */
      .row-preview-content {
        display: flex;
        padding: 16px;
        border-radius: 8px;
        border: 1px solid var(--divider-color);
        min-height: 60px;
        align-items: center;
        justify-content: space-around;
      }

      .column-preview {
        flex: 1;
        padding: 12px;
        margin: 0 4px;
        background: var(--accent-color);
        color: white;
        border-radius: 4px;
        text-align: center;
        font-size: 14px;
        font-weight: 500;
      }

      .column-preview-content {
        padding: 16px;
        border-radius: 8px;
        border: 1px solid var(--divider-color);
        text-align: center;
        background: var(--secondary-background-color);
        min-height: 60px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .column-preview-content p {
        margin: 0 0 8px 0;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .module-count {
        font-size: 12px;
        color: var(--secondary-text-color);
      }

      /* Drag and Drop Styles */
      .row-builder[draggable='true'],
      .column-builder[draggable='true'],
      .module-item[draggable='true'] {
        cursor: grab;
      }

      .row-builder[draggable='true']:hover,
      .column-builder[draggable='true']:hover,
      .module-item[draggable='true']:hover {
        cursor: grab;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .row-builder[draggable='true']:active,
      .column-builder[draggable='true']:active,
      .module-item[draggable='true']:active {
        cursor: grabbing;
        transform: scale(0.98);
      }

      /* Invalid drop target indication */
      :host([dragging-column]) .module-item,
      :host([dragging-row]) .module-item,
      :host([dragging-row]) .column-builder {
        cursor: not-allowed !important;
        opacity: 0.5;
        pointer-events: auto;
      }

      .drop-target {
        box-shadow: 0 0 20px rgba(var(--rgb-primary-color), 0.6) !important;
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        transform: scale(1.02) !important;
        transition: all 0.2s ease !important;
      }

      .drop-target.row-builder {
        border-color: var(--primary-color) !important;
        border-width: 3px !important;
        border-style: dashed !important;
      }

      .drop-target.column-builder {
        border-color: var(--primary-color) !important;
        border-width: 3px !important;
        border-style: dashed !important;
      }

      .drop-target.module-item {
        border-color: var(--primary-color) !important;
        border-width: 2px !important;
        border-style: dashed !important;
      }

      /* Drag handle indicators (disabled) */
      /* We now render explicit drag handles inside headers. The legacy
         pseudo-element indicators caused duplicate icons on mobile. */
      .row-header::before,
      .column-header::before,
      .module-content::before {
        content: none !important; /* hide legacy indicators */
      }

      /* Module item hover effect - consolidated with action display */
      .module-item:hover {
        border-color: var(--primary-color) !important;
      }

      .row-header {
        position: relative;
      }

      .column-header {
        position: relative;
      }

      .module-content {
        position: relative;
      }

      /* Visual feedback during drag */
      .row-builder[draggable='true'][style*='opacity: 0.5'] {
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        border: 2px dashed var(--primary-color) !important;
      }

      .column-builder[draggable='true'][style*='opacity: 0.5'] {
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        border: 2px dashed var(--primary-color) !important;
      }

      .module-item[draggable='true'][style*='opacity: 0.5'] {
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        border: 2px dashed var(--primary-color) !important;
      }

      /* Enhanced modules container styling */
      .modules-container {
        min-height: 80px;
        position: relative;
        transition: all 0.2s ease;
      }

      /* Module Name Field Styling */
      .module-name-input {
        width: 100%;
        max-width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--secondary-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        font-family: inherit;
        box-sizing: border-box;
      }

      .module-name-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-color);
      }

      .field-help {
        font-size: 12px;
        color: var(--secondary-text-color);
        line-height: 1.4;
        margin-top: 4px;
        font-style: italic;
      }

      /* Note: Image module still shows "Image Name" field from the registry.
         This will need to be addressed in the image module itself to remove
         the duplicate field since we now have universal "Module Name" above. */

      .modules-container:empty {
        border: 2px dashed var(--divider-color);
        background: var(--secondary-background-color);
      }

      .modules-container:empty::before {
        content: 'Drop modules here or click Add Module';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--secondary-text-color);
        font-style: italic;
        font-size: 13px;
        pointer-events: none;
        text-align: center;
      }

      .modules-container::after {
        content: '';
        position: absolute;
        top: -2px;
        left: -2px;
        right: -2px;
        bottom: -2px;
        border: 2px dashed transparent;
        border-radius: 6px;
        pointer-events: none;
        transition: all 0.2s ease;
        z-index: 1;
      }

      .column-builder.drop-target .modules-container::after {
        border-color: var(--primary-color);
        background: rgba(var(--rgb-primary-color), 0.1);
      }

      /* Layout Module Styles - Column-like appearance */
      .layout-module-container {
        border: 2px solid var(--success-color, #4caf50);
        border-radius: 6px;
        background: var(--card-background-color);
        width: 100%;
        box-sizing: border-box;
        overflow: visible;
        margin-bottom: 8px;
      }

      .layout-module-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        font-weight: 500;
        padding: 8px 12px;
        background: var(--success-color, #4caf50);
        color: white;
        border-bottom: 2px solid var(--success-color, #4caf50);
        border-radius: 0px;
      }

      .layout-module-title {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .layout-module-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        color: rgba(255, 255, 255, 0.7);
        cursor: grab;
        opacity: 0.8;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 14px;
      }

      .layout-module-drag-handle:hover {
        opacity: 1;
      }

      .layout-module-drag-handle:active {
        cursor: grabbing;
      }

      .layout-module-actions {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .layout-module-add-btn,
      .layout-module-settings-btn,
      .layout-module-duplicate-btn,
      .layout-module-delete-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
        --mdc-icon-size: 16px;
      }

      .layout-module-add-btn:hover,
      .layout-module-settings-btn:hover,
      .layout-module-duplicate-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      .layout-module-delete-btn:hover {
        background: rgba(255, 100, 100, 0.8);
        color: white;
      }

      .layout-modules-container {
        background: var(--card-background-color);
        border: 2px dashed var(--divider-color);
        border-radius: 4px;
        margin: 8px;
        transition: all 0.2s ease;
        position: relative;
      }

      .layout-modules-container:hover {
        border-color: var(--success-color, #4caf50);
        background: rgba(76, 175, 80, 0.05);
      }

      .layout-modules-container.layout-drop-target {
        border-color: var(--primary-color) !important;
        border-width: 3px !important;
        border-style: dashed !important;
        background: rgba(var(--rgb-primary-color), 0.1) !important;
        box-shadow: 0 0 20px rgba(var(--rgb-primary-color), 0.3) !important;
      }

      .layout-module-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        color: var(--secondary-text-color);
        font-style: italic;
        text-align: center;
        padding: 24px;
        width: 100%;
        cursor: pointer;
        user-select: none;
        transition:
          color 0.2s ease,
          opacity 0.2s ease;
      }

      .layout-module-empty ha-icon {
        --mdc-icon-size: 32px;
        opacity: 0.7;
      }

      .layout-module-empty:hover ha-icon {
        opacity: 1;
      }

      .layout-child-module-wrapper {
        width: 100%;
        box-sizing: border-box;
        cursor: grab;
      }

      .layout-child-module-wrapper:active {
        cursor: grabbing;
      }

      /* Simplified layout child module styling */
      .layout-child-simplified-module {
        width: 100%;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        transition: all 0.2s ease;
        cursor: pointer;
        box-sizing: border-box;
        margin-bottom: 8px;
      }

      .layout-child-simplified-module:hover {
        border-color: var(--primary-color);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transform: translateY(-1px);
      }

      .layout-child-simplified-module:hover .layout-child-content {
        color: var(--primary-text-color);
      }

      .layout-child-simplified-module:active {
        cursor: grabbing;
        transform: scale(0.98);
      }

      .layout-child-module-header {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        min-height: 40px;
        box-sizing: border-box;
      }

      .layout-child-icon {
        --mdc-icon-size: 20px;
        color: var(--primary-color);
        flex-shrink: 0;
      }

      .layout-child-content {
        flex: 1;
        min-width: 0;
      }

      .layout-child-title {
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
        margin-bottom: 2px;
      }

      .layout-child-info {
        font-size: 12px;
        color: var(--secondary-text-color);
        line-height: 1.3;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .layout-child-drag-handle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        color: var(--secondary-text-color);
        cursor: grab;
        opacity: 0.6;
        transition: opacity 0.2s ease;
        --mdc-icon-size: 14px;
      }

      .layout-child-drag-handle:hover {
        opacity: 1;
        color: var(--primary-color);
      }

      .layout-child-drag-handle:active {
        cursor: grabbing;
      }

      .layout-child-actions {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .layout-child-action-btn {
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
        --mdc-icon-size: 14px;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .layout-child-action-btn.edit-btn:hover {
        background: var(--primary-color);
        color: white;
      }

      .layout-child-action-btn.delete-btn:hover {
        background: var(--error-color);
        color: white;
      }

      /* Drag handle for touch devices */
      @media (hover: none) {
        /* On touch devices, show action buttons on tap/focus */
        .module-item:active .module-hover-overlay,
        .module-item:focus-within .module-hover-overlay {
          opacity: 1;
          visibility: visible;
        }

        .module-action-btn {
          width: 36px;
          height: 36px;
        }

        .module-action-btn ha-icon {
          --mdc-icon-size: 20px;
        }
      }

      /* Module Selector Tabs */
      .module-selector-tabs {
        display: flex;
        border-bottom: 1px solid var(--divider-color);
        background: var(--secondary-background-color);
        margin-bottom: 16px;
        /* Ensure tabs don't overflow on mobile */
        overflow-x: auto;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE/Edge */
      }

      .module-selector-tabs::-webkit-scrollbar {
        display: none; /* Chrome/Safari */
      }

      .tab-button {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 16px;
        background: none;
        border: none;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        border-bottom: 2px solid transparent;
      }

      .tab-button:hover {
        color: var(--primary-color);
        background: var(--primary-color-10);
      }

      .tab-button.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
        background: var(--primary-color-10);
      }

      .tab-button ha-icon {
        --mdc-icon-size: 18px;
      }

      /* Layout Containers spacing */
      .module-category.layout-containers {
        margin-top: 20px;
      }

      /* Presets Tab */
      .presets-container {
        padding: 16px;
      }

      .preset-categories {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .category-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 20px;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 12px;
      }

      .category-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .category-btn.active {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
      }

      .category-btn ha-icon {
        --mdc-icon-size: 14px;
      }

      .presets-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 20px;
      }

      .preset-card {
        display: flex;
        flex-direction: column;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .preset-card:hover {
        border-color: var(--primary-color);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transform: translateY(-1px);
      }

      /* WordPress preset specific styles */
      .presets-header {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 24px;
        align-items: center;
      }

      .preset-footer {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 16px 0;
        border-top: 1px solid var(--divider-color);
        margin-top: 16px;
      }

      .reload-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 20px;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 12px;
        font-weight: 500;
      }

      .reload-btn:hover:not(:disabled) {
        border-color: var(--primary-color);
        color: var(--primary-color);
        background: var(--card-background-color);
      }

      .reload-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .reload-btn ha-icon {
        --mdc-icon-size: 14px;
        transition: transform 0.6s ease;
      }

      .reload-btn ha-icon.spinning {
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .wordpress-status {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .status-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 500;
        background: var(--secondary-background-color);
        color: var(--secondary-text-color);
      }

      .status-item.loading {
        background: rgba(var(--rgb-primary-color), 0.1);
        color: var(--primary-color);
      }

      .status-item.error {
        background: rgba(var(--rgb-error-color, 244, 67, 54), 0.1);
        color: var(--error-color, #f44336);
      }

      .status-item.success {
        background: rgba(var(--rgb-success-color, 76, 175, 80), 0.1);
        color: var(--success-color, #4caf50);
      }

      .status-item ha-icon {
        --mdc-icon-size: 16px;
      }

      .spinning {
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .retry-btn,
      .refresh-btn {
        background: none;
        border: none;
        color: inherit;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        margin-left: 8px;
      }

      .retry-btn:hover,
      .refresh-btn:hover {
        background: rgba(0, 0, 0, 0.1);
        transform: scale(1.1);
      }

      .retry-btn ha-icon,
      .refresh-btn ha-icon {
        --mdc-icon-size: 14px;
      }

      /* Preset header with badge, title, and stats */
      .preset-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 16px;
        background: rgba(var(--rgb-primary-color), 0.02);
        border-bottom: 1px solid var(--divider-color);
        gap: 12px;
      }

      .preset-header-left {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
        min-width: 0;
      }

      .preset-title-info {
        display: flex;
        flex-direction: column;
        gap: 2px;
        flex: 1;
        min-width: 0;
      }

      .preset-header-title {
        margin: 0;
        font-size: 15px;
        font-weight: 600;
        color: var(--primary-text-color);
        line-height: 1.3;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .preset-header-author {
        font-size: 11px;
        color: var(--secondary-text-color);
        font-style: italic;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      /* Origin badge styles */
      .preset-header .origin-badge {
        padding: 4px 10px;
        border-radius: 8px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        flex-shrink: 0;
      }

      /* Different styles for different badge types */
      .preset-header .origin-badge.community {
        background: rgba(var(--rgb-secondary-color, 255, 152, 0), 0.9);
        color: white;
        border: 1px solid rgba(var(--rgb-secondary-color, 255, 152, 0), 1);
      }

      .preset-header .origin-badge.default {
        background: rgba(var(--rgb-primary-color), 0.9);
        color: white;
        border: 1px solid rgba(var(--rgb-primary-color), 1);
      }

      .preset-header .origin-badge.builtin {
        background: rgba(var(--rgb-secondary-text-color), 0.8);
        color: white;
        border: 1px solid rgba(var(--rgb-secondary-text-color), 0.9);
      }

      /* Large preview section */
      .preset-preview {
        position: relative;
        width: 100%;
        height: 200px;
        background: var(--secondary-background-color);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        padding: 8px;
        box-sizing: border-box;
      }

      .preset-thumbnail {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        overflow: hidden;
        position: relative;
      }

      .preset-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.3s ease;
      }

      .preset-card:hover .preset-thumbnail img {
        transform: scale(1.05);
      }

      /* Image slider styles */
      .preset-image-slider {
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
        border-radius: 8px;
      }

      .preset-slider-container {
        display: flex;
        width: 100%;
        height: 100%;
        transition: transform 0.3s ease;
        cursor: grab;
      }

      .preset-slider-container:active {
        cursor: grabbing;
      }

      .preset-slider-image {
        flex: 0 0 100%;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .preset-slider-image img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.3s ease;
      }

      .preset-card:hover .preset-slider-image img {
        transform: scale(1.05);
      }

      /* Slider navigation dots */
      .preset-slider-dots {
        position: absolute;
        bottom: 8px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 6px;
        z-index: 2;
      }

      .preset-slider-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.5);
        cursor: pointer;
        transition: all 0.2s ease;
        border: 1px solid rgba(0, 0, 0, 0.2);
      }

      .preset-slider-dot.active {
        background: rgba(255, 255, 255, 0.9);
        transform: scale(1.2);
      }

      .preset-slider-dot:hover {
        background: rgba(255, 255, 255, 0.8);
      }

      /* Slider navigation arrows */
      .preset-slider-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;
        transition: all 0.2s ease;
        z-index: 2;
      }

      .preset-image-slider:hover .preset-slider-nav {
        opacity: 1;
      }

      .preset-slider-nav:hover {
        background: rgba(0, 0, 0, 0.7);
        transform: translateY(-50%) scale(1.1);
      }

      .preset-slider-nav.prev {
        left: 8px;
      }

      .preset-slider-nav.next {
        right: 8px;
      }

      .preset-slider-nav ha-icon {
        font-size: 16px;
      }

      .preset-icon-large {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 80px;
        height: 80px;
        background: rgba(var(--rgb-primary-color), 0.1);
        border-radius: 50%;
        color: var(--primary-color);
      }

      .preset-icon-large ha-icon {
        font-size: 40px;
      }

      /* Content section */
      .preset-content {
        padding: 16px;
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .preset-description {
        margin: 0;
        font-size: 13px;
        line-height: 1.4;
        color: var(--secondary-text-color);
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      /* Action buttons at bottom */
      .preset-actions {
        display: flex;
        gap: 8px;
        padding: 12px 16px;
        border-top: 1px solid var(--divider-color);
        background: var(--card-background-color);
      }

      .preset-actions button {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 10px 16px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        flex: 1;
        justify-content: center;
        min-height: 40px;
      }

      .preset-actions button ha-icon {
        font-size: 16px;
      }

      /* Primary button (Add) */
      .add-preset-btn.primary {
        background: var(--primary-color);
        color: white;
        border: none;
      }

      .add-preset-btn.primary:hover {
        background: var(--primary-color);
        opacity: 0.9;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(var(--rgb-primary-color), 0.3);
      }

      /* Secondary button (Read More) */
      .read-more-btn.secondary {
        background: transparent;
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
      }

      .read-more-btn.secondary:hover {
        background: var(--primary-color);
        color: white;
        transform: translateY(-1px);
      }

      /* Enhanced preset cards for community presets */
      .preset-card.community-preset {
        border-left: 3px solid rgba(var(--rgb-secondary-color, 255, 152, 0), 1);
      }

      .preset-card.community-preset:hover {
        border-left-color: rgba(var(--rgb-secondary-color, 255, 152, 0), 1);
        box-shadow: 0 4px 16px rgba(var(--rgb-secondary-color, 255, 152, 0), 0.2);
      }

      /* Enhanced preset cards for default presets */
      .preset-card.default-preset {
        border-left: 3px solid var(--primary-color);
      }

      .preset-card.default-preset:hover {
        border-left-color: var(--primary-color);
        box-shadow: 0 4px 16px rgba(var(--rgb-primary-color), 0.2);
      }

      .preset-card.builtin-preset {
        border-left: 3px solid var(--divider-color);
      }

      /* Preset stats (downloads, ratings) */
      .preset-stats {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .preset-stats .stat {
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 11px;
        color: var(--secondary-text-color);
        background: rgba(var(--rgb-secondary-text-color), 0.1);
        padding: 3px 8px;
        border-radius: 6px;
        font-weight: 500;
      }

      .preset-stats .stat ha-icon {
        --mdc-icon-size: 12px;
      }

      /* Error hint for empty states */
      .error-hint {
        font-size: 12px;
        color: var(--error-color, #f44336);
        text-align: center;
        margin-top: 8px;
        font-style: italic;
      }

      /* Preset description and actions */
      .preset-description {
        margin: 8px 0;
        line-height: 1.4;
        color: var(--secondary-text-color);
        font-size: 13px;
      }

      .preset-author {
        font-size: 11px;
        color: var(--secondary-text-color);
      }

      .preset-tags {
        display: flex;
        gap: 4px;
      }

      .tag {
        padding: 2px 6px;
        background: var(--secondary-background-color);
        border-radius: 10px;
        font-size: 10px;
        color: var(--secondary-text-color);
      }

      /* Integrations chips */
      .preset-integrations {
        margin-top: 6px;
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
      }

      .integration-chip {
        display: inline-flex;
        align-items: center;
        padding: 2px 6px;
        font-size: 10px;
        border-radius: 12px;
        background: var(--primary-color-10);
        color: var(--primary-color);
        border: 1px solid rgba(var(--rgb-primary-color), 0.2);
      }

      /* Favorites Tab */
      .favorites-container {
        padding: 16px;
      }

      .favorites-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
      }

      .favorites-header h4 {
        margin: 0;
        color: var(--primary-text-color);
      }

      .import-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 12px;
        transition: all 0.2s ease;
      }

      .import-btn:hover {
        background: var(--primary-color-dark);
      }

      .import-btn ha-icon {
        --mdc-icon-size: 14px;
      }

      .favorites-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 16px;
      }

      .favorite-card {
        padding: 16px;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 12px;
      }

      .favorite-header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .favorite-header h4 {
        margin: 0;
        font-size: 14px;
        font-weight: 600;
        color: var(--primary-text-color);
      }

      .favorite-actions {
        display: flex;
        gap: 4px;
      }

      .action-btn {
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        color: var(--secondary-text-color);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .action-btn:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .action-btn.delete:hover {
        border-color: var(--error-color);
        color: var(--error-color);
      }

      .action-btn ha-icon {
        --mdc-icon-size: 14px;
      }

      .favorite-description {
        margin: 0 0 8px 0;
        font-size: 12px;
        color: var(--secondary-text-color);
        line-height: 1.4;
      }

      .favorite-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .favorite-date {
        font-size: 11px;
        color: var(--secondary-text-color);
      }

      .favorite-tags {
        display: flex;
        gap: 4px;
      }

      /* Empty States */
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
        text-align: center;
        color: var(--secondary-text-color);
      }

      .empty-state ha-icon {
        --mdc-icon-size: 48px;
        margin-bottom: 16px;
        opacity: 0.6;
      }

      .empty-state p {
        margin: 0 0 8px 0;
        font-size: 14px;
      }

      .empty-hint {
        font-size: 12px;
        opacity: 0.8;
      }

      .error-details {
        margin-top: 16px;
        padding: 16px;
        background: var(--error-color);
        color: white;
        border-radius: 8px;
        text-align: left;
        max-width: 500px;
      }

      .error-hint {
        margin: 0 !important;
        font-size: 13px !important;
        line-height: 1.4;
      }

      .error-hint code {
        background: rgba(255, 255, 255, 0.2);
        padding: 2px 6px;
        border-radius: 4px;
        font-family: monospace;
        font-size: 12px;
      }

      .error-hint strong {
        font-weight: 600;
      }

      /* Row Action Buttons */
      .row-paste-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-paste-btn:hover {
        background: rgba(100, 150, 255, 0.8);
        color: white;
      }

      .row-favorite-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-favorite-btn:hover {
        background: rgba(255, 100, 150, 0.8);
        color: white;
      }

      .row-export-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-export-btn:hover {
        background: rgba(100, 150, 255, 0.8);
        color: white;
      }

      /* More actions button - hidden on desktop, shown on mobile */
      .row-more-container {
        position: relative;
        display: none; /* Hidden on desktop */
        z-index: 100;
      }

      .row-more-btn {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .row-more-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }

      /* Ensure menu appears above everything */
      .row-more-menu {
        position: absolute;
        top: 100%;
        right: 0;
        background: var(--card-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        z-index: 10000;
        min-width: 180px;
        overflow: hidden;
        margin-top: 4px;
      }

      .more-menu-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 14px 16px;
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        color: var(--primary-text-color);
        cursor: pointer;
        transition: background-color 0.2s ease;
        font-size: 14px;
        font-weight: 500;
        min-height: 48px;
        box-sizing: border-box;
      }

      .more-menu-item:hover {
        background: var(--secondary-background-color);
      }

      .more-menu-item:active {
        background: var(--divider-color);
      }

      .more-menu-item.favorite {
        color: var(--pink-color, #e91e63);
      }

      .more-menu-item.export {
        color: var(--blue-color, #2196f3);
      }

      .more-menu-item ha-icon {
        --mdc-icon-size: 20px;
        flex-shrink: 0;
      }

      .more-menu-item span {
        flex: 1;
        white-space: nowrap;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .presets-grid,
        .favorites-grid {
          grid-template-columns: 1fr;
          gap: 16px;
        }

        /* Improve tab visibility on mobile */
        .module-selector-tabs {
          position: sticky;
          top: 0;
          z-index: 10;
          background: var(--secondary-background-color);
          border-bottom: 2px solid var(--divider-color);
          gap: 0; /* Remove gap on mobile for better fit */
        }

        .tab-button {
          flex-direction: row;
          gap: 6px;
          min-width: 0; /* Allow buttons to shrink */
          white-space: nowrap;
          padding: 14px 8px;
          min-height: 48px;
          font-size: 13px;
          font-weight: 500;
        }

        .tab-button ha-icon {
          --mdc-icon-size: 20px;
        }

        .tab-button span {
          font-size: 13px;
          font-weight: 500;
        }

        .preset-categories {
          justify-content: center;
          gap: 6px;
        }

        .category-btn {
          padding: 10px 12px;
          font-size: 13px;
        }

        .reload-btn {
          padding: 10px 12px;
          font-size: 13px;
        }

        /* Make module selector popup larger on mobile */
        .selector-content {
          width: 95vw !important;
          max-width: 95vw !important;
          height: 85vh !important;
          max-height: 85vh !important;
        }

        .selector-body {
          padding: 12px;
          overflow-y: auto;
        }

        /* Improve module cards on mobile */
        .module-types {
          grid-template-columns: 1fr;
          gap: 12px;
        }

        .module-type-btn {
          padding: 16px;
          text-align: left;
        }

        .preset-preview {
          height: 160px;
          padding: 6px;
        }

        .preset-header {
          padding: 10px 12px;
        }

        .preset-header-title {
          font-size: 14px;
        }

        .preset-content {
          padding: 12px;
        }

        .preset-actions {
          padding: 10px 12px;
        }

        .preset-actions button {
          padding: 8px 12px;
          font-size: 12px;
        }

        /* Mobile slider improvements */
        .preset-slider-nav {
          width: 28px;
          height: 28px;
        }

        .preset-slider-nav ha-icon {
          font-size: 14px;
        }

        .preset-slider-dots {
          bottom: 6px;
        }

        .preset-slider-dot {
          width: 6px;
          height: 6px;
        }

        .favorite-card {
          padding: 12px;
        }

        /* Hide secondary actions on mobile and show more menu */
        .row-paste-btn,
        .row-favorite-btn,
        .row-export-btn {
          display: none;
        }

        .row-more-container {
          display: inline-flex;
        }
      }
    `}async _handleBackgroundImageUpload(e){var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(i&&this.hass)try{const e=await(0,c.m)(this.hass,i);this._updateModule({background_image:e,background_image_type:"upload"})}catch(e){console.error("Background image upload failed:",e),alert(`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`)}}_truncatePath(e){return e?e.length<=30?e:"..."+e.slice(-27):""}_getBackgroundSizeDropdownValue(e){return e?["cover","contain","auto"].includes(e)?e:"custom":"cover"}_getCustomSizeValue(e,t){if(!e||["cover","contain","auto"].includes(e))return"";if("custom"===e)return"";const i=e.split(" ");return"width"===t?i[0]||"":"height"===t&&(i[1]||i[0])||""}_collectHoverEffectConfigs(){var e,t;const i=[];return this.config?(null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows)||void 0===t||t.forEach((e=>{var t,o;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect),null===(o=e.columns)||void 0===o||o.forEach((e=>{var t,o;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect),null===(o=e.modules)||void 0===o||o.forEach((e=>{var t;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect)}))}))})),i):i}_updateHoverEffectStyles(){if(!this.shadowRoot)return;const e=this._collectHoverEffectConfigs();e.length>0&&d.k.updateHoverEffectStyles(this.shadowRoot,e)}};b([(0,n.MZ)({attribute:!1})],w.prototype,"hass",void 0),b([(0,n.MZ)({attribute:!1})],w.prototype,"config",void 0),b([(0,n.wk)()],w.prototype,"_showModuleSelector",void 0),b([(0,n.wk)()],w.prototype,"_selectedRowIndex",void 0),b([(0,n.wk)()],w.prototype,"_selectedColumnIndex",void 0),b([(0,n.wk)()],w.prototype,"_showModuleSettings",void 0),b([(0,n.wk)()],w.prototype,"_selectedModule",void 0),b([(0,n.wk)()],w.prototype,"_activeModuleTab",void 0),b([(0,n.wk)()],w.prototype,"_activeDesignSubtab",void 0),b([(0,n.wk)()],w.prototype,"_showRowSettings",void 0),b([(0,n.wk)()],w.prototype,"_selectedRowForSettings",void 0),b([(0,n.wk)()],w.prototype,"_activeRowTab",void 0),b([(0,n.wk)()],w.prototype,"_showColumnSettings",void 0),b([(0,n.wk)()],w.prototype,"_selectedColumnForSettings",void 0),b([(0,n.wk)()],w.prototype,"_activeColumnTab",void 0),b([(0,n.wk)()],w.prototype,"_showColumnLayoutSelector",void 0),b([(0,n.wk)()],w.prototype,"_selectedRowForLayout",void 0),b([(0,n.wk)()],w.prototype,"_collapsedPreviewModules",void 0),b([(0,n.wk)()],w.prototype,"_isRowColumnPreviewCollapsed",void 0),b([(0,n.wk)()],w.prototype,"_collapsedConditionIds",void 0),b([(0,n.wk)()],w.prototype,"_isPreviewPinned",void 0),b([(0,n.wk)()],w.prototype,"_draggingCondition",void 0),b([(0,n.wk)()],w.prototype,"_activeModuleSelectorTab",void 0),b([(0,n.wk)()],w.prototype,"_selectedPresetCategory",void 0),b([(0,n.wk)()],w.prototype,"_showFavoriteDialog",void 0),b([(0,n.wk)()],w.prototype,"_favoriteRowToSave",void 0),b([(0,n.wk)()],w.prototype,"_showImportDialog",void 0),b([(0,n.wk)()],w.prototype,"_openMoreMenuRowIndex",void 0),b([(0,n.wk)()],w.prototype,"_undoStack",void 0),b([(0,n.wk)()],w.prototype,"_redoStack",void 0),b([(0,n.wk)()],w.prototype,"_draggedItem",void 0),b([(0,n.wk)()],w.prototype,"_dropTarget",void 0),b([(0,n.wk)()],w.prototype,"_selectedLayoutModuleIndex",void 0),b([(0,n.wk)()],w.prototype,"_selectedNestedChildIndex",void 0),b([(0,n.wk)()],w.prototype,"_showLayoutChildSettings",void 0),b([(0,n.wk)()],w.prototype,"_selectedLayoutChild",void 0),b([(0,n.wk)()],w.prototype,"_popupDragState",void 0),b([(0,n.wk)()],w.prototype,"_popupResizeState",void 0),w=b([(0,n.EM)("ultra-layout-tab")],w)},6768:(e,t,i)=>{var o=i(5183),a=i(4276),n=i(4513),r=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};const s=["transparent","#000000","#333333","#666666","#999999","#CCCCCC","#FFFFFF","#FF0000","#FF3333","#FF6666","#FF9999","#FFCCCC","#FF6600","#FF8833","#FFAA66","#FFCC99","#FFE6CC","#FFFF00","#FFFF33","#FFFF66","#FFFF99","#FFFFCC","#00FF00","#33FF33","#66FF66","#99FF99","#CCFFCC","#0000FF","#3333FF","#6666FF","#9999FF","#CCCCFF","#9900FF","#AA33FF","#BB66FF","#CC99FF","#DDCCFF","var(--primary-color)","var(--accent-color)","var(--error-color)","var(--warning-color)","var(--success-color)","var(--info-color)","var(--primary-text-color)","var(--secondary-text-color)","var(--disabled-text-color)","var(--divider-color)"];let l=class extends o.WF{constructor(){super(...arguments),this.disabled=!1,this._showPalette=!1,this._favoriteColors=[],this._showAddToFavorites=!1}firstUpdated(){this._currentValue=this.value,this._textInputValue=this.value,this._documentClickHandler=this._handleDocumentClick.bind(this),document.addEventListener("click",this._documentClickHandler,!0),this._favoritesUnsubscribe=n.m.subscribe((e=>{this._favoriteColors=e,this.requestUpdate()}))}disconnectedCallback(){super.disconnectedCallback(),this._documentClickHandler&&(document.removeEventListener("click",this._documentClickHandler,!0),this._documentClickHandler=void 0),this._favoritesUnsubscribe&&(this._favoritesUnsubscribe(),this._favoritesUnsubscribe=void 0)}_handleDocumentClick(e){var t,i,o;if(!this._showPalette)return;if(this._showAddToFavorites)return;const a=null===(i=(t=e).composedPath)||void 0===i?void 0:i.call(t);if(a&&a.includes(this))return;const n=e.target;(null===(o=this.shadowRoot)||void 0===o?void 0:o.contains(n))||n instanceof HTMLInputElement&&"color"===n.type||n instanceof HTMLElement&&n.closest('[role="dialog"], .prompt, .modal')||(this._showPalette=!1)}updated(e){e.has("value")&&(this._currentValue=this.value,this._textInputValue=this.value)}_togglePalette(e){e.stopPropagation(),this.disabled||(this._showPalette=!this._showPalette)}_selectColor(e,t){t.stopPropagation(),this._currentValue=e,this.value=e,this._showPalette=!1,this.requestUpdate();const i=new CustomEvent("value-changed",{detail:{value:e},bubbles:!0,composed:!0});this.dispatchEvent(i)}_handleNativeColorChange(e){e.stopPropagation();const t=e.target.value;this._selectColor(t,e)}_handleTextInputChange(e){const t=e.target;this._textInputValue=t.value}_handleTextInputKeyDown(e){"Enter"===e.key?(e.preventDefault(),this._applyTextInputValue()):"Escape"===e.key&&(e.preventDefault(),this._textInputValue=this._currentValue,this._showPalette=!1)}_applyTextInputValue(){void 0!==this._textInputValue&&this._selectColor(this._textInputValue,new Event("change"))}_isValidColor(e){return!!e&&([/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/,/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*[\d.]+\s*\)$/,/^hsl\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*\)$/,/^hsla\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*,\s*[\d.]+\s*\)$/,/^var\(--[\w-]+\)$/].some((t=>t.test(e)))||["transparent","red","blue","green","yellow","orange","purple","pink","brown","black","white","gray","grey"].includes(e.toLowerCase()))}_resetToDefault(){const e=this.defaultValue||"";this._currentValue=e;const t=new CustomEvent("value-changed",{detail:{value:e},bubbles:!0,composed:!0});this.dispatchEvent(t)}_addToFavorites(){const e=this._currentValue||this.value;if(!e||n.m.hasColor(e))return;const t=this._showPalette;setTimeout((()=>{const i=prompt("Enter a name for this color:",this._getColorDisplayName(e));i&&i.trim()?(n.m.addFavorite(i.trim(),e),this._showPalette=t,this._showAddToFavorites=!1,this.requestUpdate()):this._showPalette=t}),10)}_getColorDisplayName(e){var t;const i={"#ff0000":"Red","#00ff00":"Green","#0000ff":"Blue","#ffff00":"Yellow","#ff00ff":"Magenta","#00ffff":"Cyan","#000000":"Black","#ffffff":"White","#808080":"Gray","#ffa500":"Orange","#800080":"Purple","#ffc0cb":"Pink"},o=e.toLowerCase();if(i[o])return i[o];if(e.startsWith("var(--")){const i=null===(t=e.match(/var\(--([^)]+)\)/))||void 0===t?void 0:t[1];if(i)return i.replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))}return e}_getDisplayValue(){return this._currentValue&&""!==this._currentValue?this._currentValue:this.defaultValue||""}_getColorForNativeInput(){const e=this._getDisplayValue();if("transparent"===e)return"#ffffff";if(e.startsWith("var(--")){const t=document.createElement("div");t.style.color=e,document.body.appendChild(t);const i=getComputedStyle(t).color;if(document.body.removeChild(t),i&&i.startsWith("rgb")){const e=i.match(/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/);if(e){const[t,i,o,a]=e,n=e=>e.toString(16).padStart(2,"0");return`#${n(parseInt(i))}${n(parseInt(o))}${n(parseInt(a))}`}}return e.includes("--primary-color")?"#03a9f4":e.includes("--primary-text-color")?"#ffffff":"#000000"}return e.startsWith("#")?e:"#000000"}_isDefaultValue(){return!this._currentValue||""===this._currentValue||this._currentValue===this.defaultValue}_getContrastColor(e){if("transparent"===e)return"var(--primary-text-color)";if(!e||e.startsWith("var(")||e.includes("gradient"))return"var(--primary-text-color)";if(e.startsWith("#")){const t=e.replace("#","");return(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255>.5?"#000000":"#ffffff"}return"var(--primary-text-color)"}render(){const e=this._getDisplayValue(),t=this._getColorForNativeInput();return o.qy`
      <div class="ultra-color-picker-container">
        ${this.label?o.qy`<label class="color-label">${this.label}</label>`:""}

        <div class="color-picker-wrapper">
          <!-- Main trigger input field -->
          <div
            class="color-input-field ${this.disabled?"disabled":""}"
            style="background-color: ${e}; color: ${this._getContrastColor(e)};"
            @click=${this._togglePalette}
            tabindex="0"
            role="button"
            aria-label="Open color palette"
            @keydown=${e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this._togglePalette(e))}}
          >
            <span class="color-value">${e}</span>
            <ha-icon
              icon="mdi:chevron-${this._showPalette?"up":"down"}"
              class="dropdown-icon"
            ></ha-icon>
          </div>

          <!-- Reset button -->
          <ha-icon-button
            class="reset-button ${this._isDefaultValue()?"disabled":""}"
            .disabled=${this._isDefaultValue()}
            @click=${this._resetToDefault}
            .title=${"Reset to default"}
          >
            <ha-icon icon="mdi:refresh"></ha-icon>
          </ha-icon-button>
        </div>

        <!-- Accordion-style palette -->
        ${this._showPalette?o.qy`
              <div class="color-palette-accordion">
                <!-- Text Input Section -->
                <div class="text-input-section">
                  <div class="input-header">
                    <label class="input-label">Type color value:</label>
                    <div class="native-picker-wrapper">
                      <button
                        class="native-picker-btn"
                        type="button"
                        title="Open native color picker"
                      >
                        <ha-icon icon="mdi:eyedropper"></ha-icon>
                      </button>
                      <input
                        id="native-color-input"
                        type="color"
                        .value=${t}
                        @change=${this._handleNativeColorChange}
                        @click=${e=>e.stopPropagation()}
                        @focus=${e=>e.stopPropagation()}
                        @blur=${e=>e.stopPropagation()}
                        class="native-color-overlay"
                        title="Open native color picker"
                      />
                    </div>
                  </div>

                  <div class="text-input-wrapper">
                    <input
                      type="text"
                      class="color-text-input ${this._isValidColor(this._textInputValue||"")?"valid":"invalid"}"
                      .value=${this._textInputValue||""}
                      @input=${this._handleTextInputChange}
                      @keydown=${this._handleTextInputKeyDown}
                      @click=${e=>e.stopPropagation()}
                      @focus=${e=>e.stopPropagation()}
                      placeholder="e.g. #ff0000, rgb(255,0,0), var(--primary-color)"
                      spellcheck="false"
                    />
                    <button
                      class="apply-text-btn ${this._isValidColor(this._textInputValue||"")?"":"disabled"}"
                      @click=${e=>{e.stopPropagation(),this._applyTextInputValue()}}
                      .disabled=${!this._isValidColor(this._textInputValue||"")}
                      type="button"
                      title="Apply color"
                    >
                      <ha-icon icon="mdi:check"></ha-icon>
                    </button>
                  </div>
                </div>

                <!-- Color Palette Grid -->
                <div class="palette-grid">
                  ${s.map((e=>o.qy`
                      <div
                        class="color-swatch ${this._currentValue===e?"selected":""}"
                        style="background-color: ${e}"
                        @click=${t=>this._selectColor(e,t)}
                        title="${e}"
                      ></div>
                    `))}
                </div>

                <!-- Favorites Section -->
                ${this._favoriteColors.length>0||this._showAddToFavorites?o.qy`
                      <div class="favorites-section">
                        <div class="favorites-header">
                          <label class="favorites-label">Favorite Colors</label>
                          ${this._currentValue&&!n.m.hasColor(this._currentValue)?o.qy`
                                <button
                                  class="add-favorite-btn"
                                  @click=${this._addToFavorites}
                                  title="Add current color to favorites"
                                  type="button"
                                >
                                  <ha-icon icon="mdi:heart-plus"></ha-icon>
                                </button>
                              `:""}
                        </div>

                        ${this._favoriteColors.length>0?o.qy`
                              <div class="favorites-grid">
                                ${this._favoriteColors.map((e=>o.qy`
                                    <div
                                      class="favorite-swatch ${this._currentValue===e.color?"selected":""}"
                                      style="background-color: ${e.color}"
                                      @click=${t=>this._selectColor(e.color,t)}
                                      title="${e.name} (${e.color})"
                                    >
                                      <span class="favorite-tooltip">${e.name}</span>
                                    </div>
                                  `))}
                              </div>
                            `:o.qy`
                              <div class="no-favorites">
                                <span>No favorite colors yet</span>
                                <small>Select a color and click the heart to add it</small>
                              </div>
                            `}
                      </div>
                    `:""}
              </div>
            `:""}
      </div>
    `}static get styles(){return o.AH`
      .ultra-color-picker-container {
        display: flex;
        flex-direction: column;
        gap: 8px;
        width: 100%;
        position: relative;
        box-sizing: border-box;
      }

      .color-label {
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
        margin-bottom: 4px;
      }

      .color-picker-wrapper {
        display: flex;
        align-items: center;
        gap: 12px;
        position: relative;
        /* Ensure palette can overflow this container */
        overflow: visible;
        z-index: 1;
      }

      .color-input-field {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color, #fff);
        color: var(--primary-text-color);
        font-family: var(--code-font-family, monospace);
        font-size: 14px;
        cursor: pointer;
        user-select: none;
        transition: all 0.2s ease;
        min-height: 36px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: relative;
      }

      .color-input-field:hover:not(.disabled) {
        border-color: var(--primary-color);
        background: var(--primary-color-light, rgba(33, 150, 243, 0.1));
      }

      .color-input-field:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.2);
      }

      .color-input-field.disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: var(--disabled-color, #f5f5f5);
        color: var(--disabled-text-color);
      }

      .color-value {
        flex: 1;
        color: var(--primary-text-color);
        font-family: var(--code-font-family, monospace);
        font-size: 14px;
      }

      .dropdown-icon {
        --mdc-icon-size: 20px;
        color: var(--secondary-text-color);
        transition: transform 0.2s ease;
        margin-left: 8px;
      }

      .reset-button {
        --mdc-icon-button-size: 40px;
        --mdc-icon-size: 20px;
        --mdc-theme-primary: var(--primary-color);
        border-radius: 6px;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .reset-button:not(.disabled):hover {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: rotate(180deg);
        transform-origin: center center;
      }

      .reset-button ha-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        transform-origin: center center;
      }

      .reset-button.disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      .reset-button.disabled ha-icon {
        color: var(--disabled-text-color);
      }

      .color-palette-accordion {
        margin-top: 12px;
        background: var(--card-background-color, white);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 16px;
        width: 100%;
        box-sizing: border-box;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        animation: expandDown 0.2s ease-out;
      }

      @keyframes expandDown {
        from {
          opacity: 0;
          transform: scaleY(0.8);
          transform-origin: top;
        }
        to {
          opacity: 1;
          transform: scaleY(1);
          transform-origin: top;
        }
      }

      .text-input-section {
        margin-bottom: 16px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--divider-color);
      }

      .input-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .input-label {
        display: block;
        font-size: 12px;
        font-weight: 500;
        color: var(--secondary-text-color);
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .text-input-wrapper {
        display: flex;
        gap: 8px;
        align-items: stretch;
      }

      .color-text-input {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-family: var(--code-font-family, 'Courier New', monospace);
        font-size: 14px;
        transition: all 0.2s ease;
        outline: none;
      }

      .color-text-input:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.2);
      }

      .color-text-input.valid {
        border-color: var(--success-color, #4caf50);
      }

      .color-text-input.invalid {
        border-color: var(--error-color, #f44336);
      }

      .apply-text-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 8px 12px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
        min-width: 44px;
      }

      .apply-text-btn:hover:not(.disabled) {
        background: var(--primary-color-dark, var(--primary-color));
        transform: scale(1.05);
      }

      .apply-text-btn.disabled {
        background: var(--disabled-color, #cccccc);
        color: var(--disabled-text-color);
        cursor: not-allowed;
        opacity: 0.6;
      }

      .apply-text-btn ha-icon {
        --mdc-icon-size: 18px;
      }

      .palette-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(32px, 1fr));
        gap: 8px;
        margin-bottom: 0;
        width: 100%;
        box-sizing: border-box;
        overflow: hidden;
      }

      .color-swatch {
        width: 28px;
        height: 28px;
        border-radius: 4px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        position: relative;
      }

      .color-swatch:hover {
        transform: scale(1.1);
        border-color: var(--primary-color);
      }

      .color-swatch.selected {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.3);
      }

      .color-swatch[style*='var(--'] {
        position: relative;
      }

      .color-swatch[style*='var(--']:after {
        content: 'T';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
        font-weight: bold;
        color: var(--primary-text-color);
        text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
      }

      /* Transparent swatch styling */
      .color-swatch[style*='transparent'] {
        background:
          linear-gradient(45deg, #ccc 25%, transparent 25%),
          linear-gradient(-45deg, #ccc 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #ccc 75%),
          linear-gradient(-45deg, transparent 75%, #ccc 75%);
        background-size: 8px 8px;
        background-position:
          0 0,
          0 4px,
          4px -4px,
          -4px 0px;
        position: relative;
      }

      .color-swatch[style*='transparent']:after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 14px;
        font-weight: bold;
        color: var(--primary-text-color);
        text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
      }

      .native-picker-wrapper {
        position: relative;
        display: inline-block;
      }

      .native-picker-btn {
        background: none;
        border: none;
        padding: 8px;
        border-radius: 6px;
        cursor: pointer;
        color: var(--primary-color);
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 36px;
        height: 36px;
        pointer-events: none; /* Let clicks pass through to the overlay */
      }

      .native-picker-btn:hover {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: scale(1.1);
      }

      .native-picker-btn ha-icon {
        --mdc-icon-size: 18px;
        transition: transform 0.2s ease;
      }

      .native-color-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
        border: none;
        background: transparent;
        z-index: 1;
        border-radius: 6px;
      }

      .native-color-overlay::-webkit-color-swatch-wrapper {
        padding: 0;
        border: none;
        border-radius: 6px;
      }

      .native-color-overlay::-webkit-color-swatch {
        border: none;
        border-radius: 6px;
      }

      .native-picker-wrapper:hover .native-picker-btn {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: scale(1.1);
      }

      /* Favorites Section */
      .favorites-section {
        margin-top: 16px;
        padding-top: 16px;
        border-top: 1px solid var(--divider-color);
      }

      .favorites-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .favorites-label {
        font-size: 12px;
        font-weight: 500;
        color: var(--secondary-text-color);
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .add-favorite-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 4px;
        background: none;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        color: var(--primary-color);
        transition: all 0.2s ease;
      }

      .add-favorite-btn:hover {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
        transform: scale(1.1);
      }

      .add-favorite-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .favorites-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(32px, 1fr));
        gap: 8px;
        margin-bottom: 0;
        width: 100%;
        box-sizing: border-box;
      }

      .favorite-swatch {
        width: 28px;
        height: 28px;
        border-radius: 4px;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .favorite-swatch:hover {
        transform: scale(1.1);
        border-color: var(--primary-color);
      }

      .favorite-swatch.selected {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.3);
      }

      .favorite-swatch .favorite-tooltip {
        position: absolute;
        bottom: -30px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 11px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease;
        z-index: 1000;
      }

      .favorite-swatch:hover .favorite-tooltip {
        opacity: 1;
      }

      .no-favorites {
        text-align: center;
        padding: 16px;
        color: var(--secondary-text-color);
      }

      .no-favorites span {
        display: block;
        font-size: 14px;
        margin-bottom: 4px;
      }

      .no-favorites small {
        font-size: 12px;
        opacity: 0.7;
      }

      @media (max-width: 768px) {
        .color-picker-wrapper {
          gap: 8px;
        }

        .color-input-field {
          font-size: 13px;
          padding: 6px 10px;
        }

        .color-palette-accordion {
          padding: 12px;
        }

        .palette-grid {
          grid-template-columns: repeat(auto-fit, minmax(28px, 1fr));
          gap: 6px;
        }

        .color-swatch {
          width: 28px;
          height: 28px;
        }

        .input-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }

        .text-input-wrapper {
          flex-direction: column;
          gap: 8px;
        }

        .color-text-input {
          width: 100%;
        }
      }
    `}};r([(0,a.MZ)({attribute:!1})],l.prototype,"hass",void 0),r([(0,a.MZ)()],l.prototype,"value",void 0),r([(0,a.MZ)()],l.prototype,"label",void 0),r([(0,a.MZ)()],l.prototype,"defaultValue",void 0),r([(0,a.MZ)({type:Boolean})],l.prototype,"disabled",void 0),r([(0,a.wk)()],l.prototype,"_currentValue",void 0),r([(0,a.wk)()],l.prototype,"_showPalette",void 0),r([(0,a.wk)()],l.prototype,"_textInputValue",void 0),r([(0,a.wk)()],l.prototype,"_favoriteColors",void 0),r([(0,a.wk)()],l.prototype,"_showAddToFavorites",void 0),l=r([(0,a.EM)("ultra-color-picker")],l)},7073:(e,t,i)=>{i.d(t,{E:()=>l});var o=i(5183),a=i(4002),n=i(1397),r=i(7987),s=i(456);const l=new class{renderModuleInCard(e,t,i,a){var r,l,d,c,p,u;const g=null===(r=null==a?void 0:a.showLogicOverlay)||void 0===r||r;n.S.setHass(t);const m=n.S.evaluateModuleVisibility(e),h=e,_=n.S.evaluateLogicProperties({logic_entity:null===(l=h.design)||void 0===l?void 0:l.logic_entity,logic_attribute:null===(d=h.design)||void 0===d?void 0:d.logic_attribute,logic_operator:null===(c=h.design)||void 0===c?void 0:c.logic_operator,logic_value:null===(p=h.design)||void 0===p?void 0:p.logic_value}),v=!m||!_,f=this._getModuleContent(e,t,i),b=this._getPreviewAnimationData(h),y=this._getCardContainerStyle(i);return o.qy`
      <div class="module-with-logic ${v?"logic-hidden":""}">
        <div class="card-container" style="${y}">
          <div
            class="card-row"
            style="display: grid; grid-template-columns: 1fr; gap: 16px; background: transparent; background-image: none; border: none; border-radius: 0; position: inherit; top: auto; bottom: auto; left: auto; right: auto; z-index: auto; width: 100%; height: auto; max-width: none; max-height: none; min-width: none; min-height: auto; overflow: visible; clip-path: none; backdrop-filter: none; box-shadow: none; box-sizing: border-box"
          >
            <div
              class="card-column"
              style="display: flex; flex-direction: column; background: transparent; background-image: none; border: none; border-radius: 0; position: inherit; top: auto; bottom: auto; left: auto; right: auto; z-index: auto; width: 100%; height: auto; max-width: none; max-height: none; min-width: none; min-height: auto; overflow: visible; clip-path: none; backdrop-filter: none; box-shadow: none; box-sizing: border-box"
            >
              ${b.class?o.qy`
                    <div
                      class="${b.class}"
                      style="display: inherit; width: inherit; height: inherit; flex: inherit; animation-duration: ${b.duration};"
                    >
                      ${f}
                    </div>
                  `:f}
            </div>
          </div>
        </div>
        ${g&&v?o.qy`
              <div class="logic-overlay">
                <ha-icon icon="mdi:eye-off-outline"></ha-icon>
                <span
                  >${(0,s.kg)("editor.layout.hidden_by_logic",(null===(u=null==t?void 0:t.locale)||void 0===u?void 0:u.language)||"en","Hidden by Logic")}</span
                >
              </div>
            `:""}
      </div>
    `}renderModuleContent(e,t,i,a){var n;const s=e,l=this._getModuleContent(e,t,i),d=null===(n=s.design)||void 0===n?void 0:n.hover_effect,c=r.k.getHoverEffectClass(d),p=(null==a?void 0:a.animationClass)||"",u=(null==a?void 0:a.animationDuration)||"2s",g=(null==a?void 0:a.animationDelay)||"0s",m=(null==a?void 0:a.animationTiming)||"ease",h=(null==a?void 0:a.introAnimation)||"none",_=(null==a?void 0:a.outroAnimation)||"none",v=(null==a?void 0:a.shouldTriggerStateAnimation)||!1;return p||"none"!==h||"none"!==_||v?o.qy`
        <div
          class="module-animation-wrapper ${p} ${c}"
          style="
            --animation-duration: ${u};
            --animation-delay: ${g};
            --animation-timing: ${m};
          "
        >
          ${l}
        </div>
      `:c?o.qy` <div class="module-hover-wrapper ${c}">${l}</div> `:l}_getModuleContent(e,t,i){const n=(0,a.oD)().getModule(e.type);return n?n.renderPreview(e,t,i):o.qy`
      <div class="unknown-module">
        <span>Unknown Module: ${e.type}</span>
      </div>
    `}_getCardContainerStyle(e){var t,i,o,a;const n=[];if(e.card_background?n.push(`background: ${e.card_background}`):n.push("background: var(--card-background-color, var(--ha-card-background, white))"),void 0!==e.card_border_radius?n.push(`border-radius: ${e.card_border_radius}px`):n.push("border-radius: 12px"),e.card_border_color||void 0!==e.card_border_width){const t=void 0!==e.card_border_width?e.card_border_width:0,i=e.card_border_color||"transparent";t>0&&n.push(`border: ${t}px solid ${i}`)}if(void 0!==e.card_padding?n.push(`padding: ${e.card_padding}px`):n.push("padding: 16px"),void 0!==e.card_margin&&n.push(`margin: ${e.card_margin}px`),e.card_shadow_enabled){const r=e.card_shadow_color||"rgba(0, 0, 0, 0.15)",s=null!==(t=e.card_shadow_horizontal)&&void 0!==t?t:0,l=null!==(i=e.card_shadow_vertical)&&void 0!==i?i:2,d=null!==(o=e.card_shadow_blur)&&void 0!==o?o:8,c=null!==(a=e.card_shadow_spread)&&void 0!==a?a:0;n.push(`box-shadow: ${s}px ${l}px ${d}px ${c}px ${r}`)}return n.join("; ")}_getPreviewAnimationData(e){var t,i,o;const a=e.animation_type||(null===(t=e.design)||void 0===t?void 0:t.animation_type);if(!a||"none"===a)return{class:"",duration:"2s"};const n=e.animation_duration||(null===(i=e.design)||void 0===i?void 0:i.animation_duration)||"2s";return e.animation_entity||(null===(o=e.design)||void 0===o?void 0:o.animation_entity)?{class:"",duration:n}:{class:`animation-${a}`,duration:n}}}},7593:(e,t,i)=>{i.d(t,{oD:()=>T});var o=i(4504),a=i(278),n=i(884),r=i(5649),s=i(4260),l=i(794),d=i(1866),c=i(4790),p=i(6256),u=i(2701),g=i(6101),m=i(5863),h=i(5183),_=i(866),v=i(796),f=i(2371),b=i(1397);class y{static getCurrentSlide(e){return this.states.get(e)||0}static setCurrentSlide(e,t){const i=Date.now();this.states.set(e,t),this.lastSlideChange.set(e,i),"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("ultra-card-slider-update"))}static getTimer(e){return this.timers.get(e)}static setTimer(e,t){this.timers.set(e,t)}static clearTimer(e){const t=this.timers.get(e);t&&(clearInterval(t),this.timers.delete(e))}static isInitialized(e){return this.initialized.get(e)||!1}static setInitialized(e,t){this.initialized.set(e,t)}static incrementRenderCount(e){const t=(this.renderCount.get(e)||0)+1;return this.renderCount.set(e,t),t}static getCurrentDelay(e){return this.currentDelay.get(e)}static setCurrentDelay(e,t){this.currentDelay.set(e,t)}static cleanup(e){this.clearTimer(e),this.states.delete(e),this.initialized.delete(e),this.renderCount.delete(e),this.lastSlideChange.delete(e),this.currentDelay.delete(e)}}y.states=new Map,y.timers=new Map,y.initialized=new Map,y.renderCount=new Map,y.lastSlideChange=new Map,y.currentDelay=new Map;class k extends _.m{constructor(){super(...arguments),this.metadata={type:"slider",title:"Slider Layout",description:"Create interactive slideshows with multiple pages of modules",author:"WJD Designs",version:"1.0.0",icon:"mdi:view-carousel",category:"layout",tags:["layout","slider","carousel","slideshow","pages","swipe"]}}createDefault(e,t){const i=T().getModule("pagebreak"),o=(null==i?void 0:i.createDefault(this.generateId("pagebreak"),t))||{id:this.generateId("pagebreak"),type:"pagebreak",display_mode:"always",display_conditions:[]};return{id:e||this.generateId("slider"),type:"slider",modules:[o],show_pagination:!0,pagination_style:"dots",pagination_position:"bottom",pagination_color:"var(--primary-text-color)",pagination_active_color:"var(--primary-color)",pagination_size:12,show_arrows:!0,arrow_position:"inside",arrow_style:"circle",arrow_size:40,arrow_color:"var(--primary-text-color)",arrow_background_color:"rgba(0, 0, 0, 0.3)",prev_arrow_icon:"mdi:chevron-left",next_arrow_icon:"mdi:chevron-right",arrows_always_visible:!1,transition_effect:"slide-left",transition_speed:300,transition_easing:"ease-in-out",auto_play:!1,auto_play_delay:3e3,pause_on_hover:!0,loop:!0,allow_swipe:!0,allow_keyboard:!0,allow_mousewheel:!1,slider_height:300,slider_width:"100%",gap:0,slides_per_view:1,space_between:0,vertical_alignment:"top",mobile_slides_per_view:1,mobile_space_between:0,tap_action:{action:"nothing"},hold_action:{action:"nothing"},double_tap_action:{action:"nothing"},display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a,n,r,s,l,d,c;const p=e;return null===(a=null==t?void 0:t.locale)||void 0===a||a.language,p.modules.filter((e=>"pagebreak"===e.type)).length,p.modules.filter((e=>"pagebreak"!==e.type)).length,h.qy`
      <div class="slider-general-tab">
        ${this.injectUcFormStyles()}
        <style>
          .slider-general-tab {
            padding: 8px;
          }
          .inline-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 0;
            border-bottom: none;
          }
          .inline-toggle .section-title {
            font-size: 18px;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--primary-color);
            letter-spacing: 0.5px;
            margin-bottom: 0;
          }
          .preview-note {
            background: var(--info-color, #2196f3);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 24px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 14px;
            line-height: 1.5;
          }
          .preview-note ha-icon {
            flex-shrink: 0;
            margin-top: 2px;
          }
        </style>

        <!-- Preview Note -->
        <div class="preview-note">
          <ha-icon icon="mdi:information-outline"></ha-icon>
          <div>
            <strong>Note:</strong> Slider transitions may not appear in the Home Assistant
            Configuration Preview Window. To see transitions, check the
            <strong>Live Preview</strong> popup in the editor or view the card on your dashboard.
          </div>
        </div>

        <!-- SLIDER LAYOUT -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            SLIDER LAYOUT
          </div>

          ${this.renderFieldSection("Slider Width","Width of the slider container (e.g., 100%, 400px)",t,{slider_width:p.slider_width||"100%"},[this.textField("slider_width")],(e=>o({slider_width:e.detail.value.slider_width})))}
          ${this.renderFieldSection("Slider Height","Height of the slider in pixels",t,{slider_height:p.slider_height||300},[this.numberField("slider_height",50,1e3,10)],(e=>o({slider_height:e.detail.value.slider_height})))}
          ${this.renderFieldSection("Slides Per View","Number of slides visible at once",t,{slides_per_view:p.slides_per_view||1},[this.numberField("slides_per_view",1,5,1)],(e=>o({slides_per_view:e.detail.value.slides_per_view})))}
          ${this.renderFieldSection("Space Between","Space between slides in pixels",t,{space_between:p.space_between||0},[this.numberField("space_between",0,100,5)],(e=>o({space_between:e.detail.value.space_between})))}
          ${this.renderFieldSection("Vertical Alignment","Vertical alignment of content within slides",t,{vertical_alignment:p.vertical_alignment||"top"},[this.selectField("vertical_alignment",[{value:"top",label:"Top"},{value:"center",label:"Center"},{value:"bottom",label:"Bottom"},{value:"stretch",label:"Stretch"}])],(e=>o({vertical_alignment:e.detail.value.vertical_alignment})))}
        </div>

        <!-- PAGINATION -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div class="inline-toggle">
            <div class="section-title">PAGINATION</div>
            <ha-switch
              .checked=${null===(n=p.show_pagination)||void 0===n||n}
              @change=${e=>{const t=e.target;o({show_pagination:t.checked})}}
            ></ha-switch>
          </div>

          ${p.show_pagination?h.qy`
                ${this.renderFieldSection("Pagination Style","How pagination indicators are displayed",t,{pagination_style:p.pagination_style||"dots"},[this.selectField("pagination_style",[{value:"dots",label:"Dots"},{value:"numbers",label:"Numbers"},{value:"fraction",label:"Fraction (1/5)"},{value:"progressbar",label:"Progress Bar"}])],(e=>o({pagination_style:e.detail.value.pagination_style})))}
                ${this.renderFieldSection("Pagination Position","Where to show pagination indicators",t,{pagination_position:p.pagination_position||"bottom"},[this.selectField("pagination_position",[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"}])],(e=>o({pagination_position:e.detail.value.pagination_position})))}
                ${this.renderFieldSection("Pagination Size","Size of pagination indicators in pixels",t,{pagination_size:p.pagination_size||12},[this.numberField("pagination_size",6,30,1)],(e=>o({pagination_size:e.detail.value.pagination_size})))}
                ${this.renderFieldSection("Pagination Color","Color of inactive pagination indicators",t,{pagination_color:p.pagination_color||"var(--primary-text-color)"},[this.textField("pagination_color")],(e=>o({pagination_color:e.detail.value.pagination_color})))}
                ${this.renderFieldSection("Active Pagination Color","Color of the active pagination indicator",t,{pagination_active_color:p.pagination_active_color||"var(--primary-color)"},[this.textField("pagination_active_color")],(e=>o({pagination_active_color:e.detail.value.pagination_active_color})))}
              `:""}
        </div>

        <!-- NAVIGATION ARROWS -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div class="inline-toggle">
            <div class="section-title">NAVIGATION ARROWS</div>
            <ha-switch
              .checked=${null===(r=p.show_arrows)||void 0===r||r}
              @change=${e=>{const t=e.target;o({show_arrows:t.checked})}}
            ></ha-switch>
          </div>

          ${p.show_arrows?h.qy`
                ${this.renderFieldSection("Arrow Position","Position arrows inside or outside the slider",t,{arrow_position:p.arrow_position||"inside"},[this.selectField("arrow_position",[{value:"inside",label:"Inside"},{value:"outside",label:"Outside"}])],(e=>o({arrow_position:e.detail.value.arrow_position})))}
                ${this.renderFieldSection("Arrow Style","Visual style of the arrows",t,{arrow_style:p.arrow_style||"circle"},[this.selectField("arrow_style",[{value:"default",label:"Default"},{value:"circle",label:"Circle"},{value:"square",label:"Square"},{value:"minimal",label:"Minimal"}])],(e=>o({arrow_style:e.detail.value.arrow_style})))}
                ${this.renderFieldSection("Arrow Size","Size of navigation arrows in pixels",t,{arrow_size:p.arrow_size||40},[this.numberField("arrow_size",20,80,5)],(e=>o({arrow_size:e.detail.value.arrow_size})))}
                <div
                  style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
                >
                  <div style="flex: 1;">
                    <div style="font-weight: 600; margin-bottom: 4px;">Arrows Always Visible</div>
                    <div style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;">
                      Keep arrows visible (otherwise show on hover)
                    </div>
                  </div>
                  <ha-switch
                    .checked=${p.arrows_always_visible||!1}
                    @change=${e=>{const t=e.target;o({arrows_always_visible:t.checked})}}
                  ></ha-switch>
                </div>
                ${this.renderFieldSection("Previous Arrow Icon","Icon for the previous arrow",t,{prev_arrow_icon:p.prev_arrow_icon||"mdi:chevron-left"},[this.iconField("prev_arrow_icon")],(e=>o({prev_arrow_icon:e.detail.value.prev_arrow_icon})))}
                ${this.renderFieldSection("Next Arrow Icon","Icon for the next arrow",t,{next_arrow_icon:p.next_arrow_icon||"mdi:chevron-right"},[this.iconField("next_arrow_icon")],(e=>o({next_arrow_icon:e.detail.value.next_arrow_icon})))}
              `:""}
        </div>

        <!-- TRANSITION & ANIMATION -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            TRANSITION & ANIMATION
          </div>

          ${this.renderFieldSection("Transition Effect","Animation style between slides",t,{transition_effect:p.transition_effect||"slide-left"},[this.selectField("transition_effect",[{value:"slide-left",label:"Slide Left"},{value:"slide-right",label:"Slide Right"},{value:"slide-top",label:"Slide Top"},{value:"slide-bottom",label:"Slide Bottom"},{value:"fade",label:"Fade"},{value:"zoom-in",label:"Zoom In"},{value:"zoom-out",label:"Zoom Out"},{value:"circle",label:"Circle"}])],(e=>o({transition_effect:e.detail.value.transition_effect})))}
          ${this.renderFieldSection("Transition Speed","Transition duration in milliseconds",t,{transition_speed:p.transition_speed||300},[this.numberField("transition_speed",100,2e3,50)],(e=>o({transition_speed:e.detail.value.transition_speed})))}
          ${this.renderFieldSection("Transition Easing","Timing function for the transition",t,{transition_easing:p.transition_easing||"ease-in-out"},[this.selectField("transition_easing",[{value:"linear",label:"Linear"},{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"}])],(e=>o({transition_easing:e.detail.value.transition_easing})))}
        </div>

        <!-- AUTO-PLAY -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div class="inline-toggle">
            <div class="section-title">AUTO-PLAY</div>
            <ha-switch
              .checked=${p.auto_play||!1}
              @change=${e=>{const t=e.target;o({auto_play:t.checked})}}
            ></ha-switch>
          </div>

          ${p.auto_play?h.qy`
                ${this.renderFieldSection("Auto-play Delay","Time between slides in milliseconds",t,{auto_play_delay:p.auto_play_delay||3e3},[this.numberField("auto_play_delay",1e3,1e4,500)],(e=>o({auto_play_delay:e.detail.value.auto_play_delay})))}
                <div
                  style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
                >
                  <div style="flex: 1;">
                    <div style="font-weight: 600; margin-bottom: 4px;">Pause on Hover</div>
                    <div style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;">
                      Pause auto-play when hovering over slider
                    </div>
                  </div>
                  <ha-switch
                    .checked=${null===(s=p.pause_on_hover)||void 0===s||s}
                    @change=${e=>{const t=e.target;o({pause_on_hover:t.checked})}}
                  ></ha-switch>
                </div>
              `:""}
          <div
            style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
          >
            <div style="flex: 1;">
              <div style="font-weight: 600; margin-bottom: 4px;">Loop</div>
              <div style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;">
                Return to first slide after the last
              </div>
            </div>
            <ha-switch
              .checked=${null===(l=p.loop)||void 0===l||l}
              @change=${e=>{const t=e.target;o({loop:t.checked})}}
            ></ha-switch>
          </div>
        </div>

        <!-- INTERACTION -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            INTERACTION
          </div>

          <div
            style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
          >
            <div style="flex: 1;">
              <div style="font-weight: 600; margin-bottom: 4px;">Allow Swipe</div>
              <div style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;">
                Enable touch/swipe gestures
              </div>
            </div>
            <ha-switch
              .checked=${null===(d=p.allow_swipe)||void 0===d||d}
              @change=${e=>{const t=e.target;o({allow_swipe:t.checked})}}
            ></ha-switch>
          </div>
          <div
            style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
          >
            <div style="flex: 1;">
              <div style="font-weight: 600; margin-bottom: 4px;">Allow Keyboard</div>
              <div style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;">
                Navigate with arrow keys
              </div>
            </div>
            <ha-switch
              .checked=${null===(c=p.allow_keyboard)||void 0===c||c}
              @change=${e=>{const t=e.target;o({allow_keyboard:t.checked})}}
            ></ha-switch>
          </div>
          <div
            style="display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 16px;"
          >
            <div style="flex: 1;">
              <div style="font-weight: 600; margin-bottom: 4px;">Allow Mousewheel</div>
              <div style="font-size: 13px; color: var(--secondary-text-color); opacity: 0.8;">
                Navigate with mouse wheel
              </div>
            </div>
            <ha-switch
              .checked=${p.allow_mousewheel||!1}
              @change=${e=>{const t=e.target;o({allow_mousewheel:t.checked})}}
            ></ha-switch>
          </div>
        </div>

        <!-- MOBILE RESPONSIVE -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            MOBILE RESPONSIVE
          </div>

          ${this.renderFieldSection("Mobile Slides Per View","Number of slides visible on mobile devices",t,{mobile_slides_per_view:p.mobile_slides_per_view||1},[this.numberField("mobile_slides_per_view",1,3,1)],(e=>o({mobile_slides_per_view:e.detail.value.mobile_slides_per_view})))}
          ${this.renderFieldSection("Mobile Space Between","Space between slides on mobile in pixels",t,{mobile_space_between:p.mobile_space_between||0},[this.numberField("mobile_space_between",0,50,5)],(e=>o({mobile_space_between:e.detail.value.mobile_space_between})))}
        </div>
      </div>
    `}renderLogicTab(e,t,i,o){return f.X.render(e,t,o)}renderActionsTab(e,t,i,o){const a=e;return h.qy`
      <div class="actions-tab">
        ${this.injectUcFormStyles()}
        <style>
          .actions-tab {
            padding: 8px;
          }
        </style>

        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div
            class="section-title"
            style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
          >
            LINK CONFIGURATION
          </div>

          ${v.K.render(t,{tap_action:a.tap_action||{action:"nothing"},hold_action:a.hold_action||{action:"nothing"},double_tap_action:a.double_tap_action||{action:"nothing"}},(e=>{const t={};e.tap_action&&(t.tap_action=e.tap_action),e.hold_action&&(t.hold_action=e.hold_action),e.double_tap_action&&(t.double_tap_action=e.double_tap_action),o(t)}),"Link Configuration")}
        </div>
      </div>
    `}renderSplitPreview(e,t){return this.renderPreview(e,t,{layout:{rows:[]}})}renderPreview(e,t,i){const o=e,a=T();y.incrementRenderCount(o.id);const n=[];let r=[];for(const e of o.modules)"pagebreak"===e.type?(n.push([...r]),r=[]):r.push(e);if((r.length>0||0===n.length)&&n.push(r),0===n.length||1===n.length&&0===n[0].length)return h.qy`
        <div style="padding: 40px 20px; text-align: center; color: var(--secondary-text-color);">
          <ha-icon
            icon="mdi:view-carousel"
            style="font-size: 48px; opacity: 0.3; margin-bottom: 16px;"
          ></ha-icon>
          <div style="font-size: 16px; font-weight: 500; margin-bottom: 8px;">Slider is empty</div>
          <div style="font-size: 14px; opacity: 0.8;">
            Drag modules here to add content.<br />
            Use <strong>Page Break</strong> modules to separate slides.
          </div>
        </div>
      `;y.getCurrentSlide(o.id)>=n.length&&y.setCurrentSlide(o.id,0);const s=window.innerWidth<768,l=s?o.mobile_slides_per_view||1:o.slides_per_view||1,d=s?o.mobile_space_between||0:o.space_between||0,c=o.vertical_alignment||"top",p=(e,t)=>{if(e<0||e>=n.length){if(!o.loop)return;y.setCurrentSlide(o.id,e<0?n.length-1:0)}else y.setCurrentSlide(o.id,e);o.auto_play&&t&&w();const i=(null==t?void 0:t.target)||document.querySelector(`[data-slider-id="${o.id}"]`);if(i){const t=new CustomEvent("slider-state-changed",{bubbles:!0,composed:!0,detail:{sliderId:o.id,index:e}});i.dispatchEvent(t)}else window.dispatchEvent(new CustomEvent("slider-state-changed",{bubbles:!0,composed:!0,detail:{sliderId:o.id,index:e}}))},u=e=>{const t=y.getCurrentSlide(o.id);p(t+1,e)},g=e=>{const t=y.getCurrentSlide(o.id);p(t-1,e)};let m=0,_=0,v=!1,f=0,k=0,x=!1;const w=()=>{if(!o.auto_play)return;if(y.getTimer(o.id))return;const e=setInterval((()=>{u()}),o.auto_play_delay||3e3);y.setTimer(o.id,e)};!o.auto_play&&y.isInitialized(o.id)&&(y.clearTimer(o.id),y.setInitialized(o.id,!1));const S=y.getCurrentDelay(o.id),A=o.auto_play_delay||3e3;void 0!==S&&S!==A&&o.auto_play&&(y.clearTimer(o.id),y.setInitialized(o.id,!1));const C=y.getTimer(o.id),z=y.isInitialized(o.id);!o.auto_play||C||z||(y.setInitialized(o.id,!0),y.setCurrentDelay(o.id,A),setTimeout((()=>w()),100));const I=()=>{if(!o.show_pagination)return"";const e=o.pagination_style||"dots",t=o.pagination_position||"bottom",i=o.pagination_size||12,a=y.getCurrentSlide(o.id);if("dots"===e)return h.qy`
          <div
            class="slider-pagination pagination-${t}"
            style="
              display: flex;
              gap: 8px;
              justify-content: center;
              align-items: center;
            "
          >
            ${n.map(((e,t)=>h.qy`
                <div
                  class="pagination-dot ${t===a?"active":""}"
                  @click=${e=>p(t,e)}
                  style="
                    width: ${i}px;
                    height: ${i}px;
                    border-radius: 50%;
                    background: ${t===a?o.pagination_active_color||"var(--primary-color)":o.pagination_color||"var(--primary-text-color)"};
                    opacity: ${t===a?"1":"0.5"};
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                ></div>
              `))}
          </div>
        `;if("numbers"===e)return h.qy`
          <div
            class="slider-pagination pagination-${t}"
            style="
              display: flex;
              gap: 4px;
              justify-content: center;
              align-items: center;
            "
          >
            ${n.map(((e,t)=>h.qy`
                <div
                  class="pagination-number ${t===a?"active":""}"
                  @click=${e=>p(t,e)}
                  style="
                    min-width: ${2*i}px;
                    height: ${2*i}px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 4px;
                    background: ${t===a?o.pagination_active_color||"var(--primary-color)":"transparent"};
                    border: 2px solid ${t===a?o.pagination_active_color||"var(--primary-color)":o.pagination_color||"var(--primary-text-color)"};
                    color: ${t===a?"white":o.pagination_color||"var(--primary-text-color)"};
                    font-size: ${i}px;
                    font-weight: ${t===a?"600":"400"};
                    cursor: pointer;
                    transition: all 0.3s;
                  "
                >
                  ${t+1}
                </div>
              `))}
          </div>
        `;if("fraction"===e)return h.qy`
          <div
            class="slider-pagination pagination-${t}"
            style="
              display: flex;
              justify-content: center;
              align-items: center;
              font-size: ${i+4}px;
              font-weight: 600;
              color: ${o.pagination_active_color||"var(--primary-color)"};
            "
          >
            ${a+1} / ${n.length}
          </div>
        `;if("progressbar"===e){const e=(a+1)/n.length*100;return h.qy`
          <div
            class="slider-pagination pagination-${t}"
            style="
              width: 100%;
              height: ${i/2}px;
              background: ${o.pagination_color||"rgba(0, 0, 0, 0.2)"};
              border-radius: ${i/4}px;
              overflow: hidden;
            "
          >
            <div
              class="progress-bar"
              style="
                height: 100%;
                width: ${e}%;
                background: ${o.pagination_active_color||"var(--primary-color)"};
                transition: width ${o.transition_speed||300}ms ${o.transition_easing||"ease-in-out"};
              "
            ></div>
          </div>
        `}return""},E=y.getCurrentSlide(o.id),$=o.transition_effect||"slide-left",P=o.transition_speed||300,j=o.transition_easing||"ease-in-out";return $.startsWith("slide-"),["fade","zoom-in","zoom-out","circle"].includes($),h.qy`
      <style>
        .slider-container {
          position: relative;
          width: ${o.slider_width||"100%"};
          height: ${o.slider_height||300}px;
          overflow: hidden;
          margin: 0 auto;
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          cursor: ${o.allow_swipe?"grab":"default"};
        }
        .slider-container * {
          -webkit-user-drag: none;
          -khtml-user-drag: none;
          -moz-user-drag: none;
          -o-user-drag: none;
          user-drag: none;
        }
        .slider-container:active {
          cursor: ${o.allow_swipe?"grabbing":"default"};
        }
        .slider-container:hover .slider-arrow {
          opacity: 1 !important;
        }
        .slider-wrapper {
          position: relative;
          width: 100%;
          height: 100%;
        }

        /* Horizontal slide effects */
        .slider-wrapper.effect-slide-left,
        .slider-wrapper.effect-slide-right {
          display: flex;
          transition: transform ${P}ms ${j};
        }

        /* Vertical slide effects */
        .slider-wrapper.effect-slide-top,
        .slider-wrapper.effect-slide-bottom {
          display: flex;
          flex-direction: column;
          transition: transform ${P}ms ${j};
        }

        .slider-slide {
          flex-shrink: 0;
          display: flex;
          flex-direction: column;
          justify-content: ${{top:"flex-start",center:"center",bottom:"flex-end",stretch:"stretch"}[c]};
          align-items: stretch;
          padding: ${o.gap||0}px;
          box-sizing: border-box;
        }

        /* Slide effects - flex items */
        .slider-wrapper.effect-slide-left .slider-slide,
        .slider-wrapper.effect-slide-right .slider-slide {
          width: calc((100% - ${(l-1)*d}px) / ${l});
          height: 100%;
        }
        .slider-wrapper.effect-slide-top .slider-slide,
        .slider-wrapper.effect-slide-bottom .slider-slide {
          width: 100%;
          height: 100%;
        }

        /* Fade, Zoom, Circle effects - absolute positioning */
        .slider-wrapper.effect-fade .slider-slide,
        .slider-wrapper.effect-zoom-in .slider-slide,
        .slider-wrapper.effect-zoom-out .slider-slide,
        .slider-wrapper.effect-circle .slider-slide {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          opacity: 0;
          pointer-events: none;
          transition:
            opacity ${P}ms ${j},
            transform ${P}ms ${j},
            clip-path ${P}ms ${j};
        }

        /* Fade effect */
        .slider-wrapper.effect-fade .slider-slide.active {
          opacity: 1;
          pointer-events: auto;
        }

        /* Zoom In effect - starts small, grows to normal */
        .slider-wrapper.effect-zoom-in .slider-slide {
          transform: scale(0.8);
        }
        .slider-wrapper.effect-zoom-in .slider-slide.active {
          opacity: 1;
          transform: scale(1);
          pointer-events: auto;
        }

        /* Zoom Out effect - starts large, shrinks to normal */
        .slider-wrapper.effect-zoom-out .slider-slide {
          transform: scale(1.2);
        }
        .slider-wrapper.effect-zoom-out .slider-slide.active {
          opacity: 1;
          transform: scale(1);
          pointer-events: auto;
        }

        /* Circle effect - circular reveal */
        .slider-wrapper.effect-circle .slider-slide {
          clip-path: circle(0% at 50% 50%);
        }
        .slider-wrapper.effect-circle .slider-slide.active {
          opacity: 1;
          clip-path: circle(100% at 50% 50%);
          pointer-events: auto;
        }
        .slide-content {
          width: 100%;
          display: flex;
          flex-direction: column;
          gap: 8px;
          overflow: hidden;
        }
        .slide-content > * {
          flex-shrink: 1;
          min-height: 0;
        }
        .slider-pagination {
          padding: 12px;
        }
        .pagination-top {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          z-index: 10;
        }
        .pagination-bottom {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          z-index: 10;
        }
        .pagination-left {
          position: absolute;
          left: 0;
          top: 50%;
          transform: translateY(-50%);
          z-index: 10;
          flex-direction: column;
        }
        .pagination-right {
          position: absolute;
          right: 0;
          top: 50%;
          transform: translateY(-50%);
          z-index: 10;
          flex-direction: column;
        }
        .slider-arrow {
          transition:
            opacity 0.3s,
            transform 0.2s;
        }
        .slider-arrow:hover {
          transform: translateY(-50%) scale(1.1);
        }
      </style>

      <div
        class="slider-container uc-module-container effect-${$}"
        data-slider-id="${o.id}"
        tabindex="0"
        @touchstart=${e=>{o.allow_swipe&&(m=e.touches[0].clientX,_=e.touches[0].clientY,v=!1,y.clearTimer(o.id))}}
        @touchmove=${e=>{if(!o.allow_swipe||!m)return;const t=e.touches[0].clientX,i=e.touches[0].clientY,a=Math.abs(m-t);a>Math.abs(_-i)&&a>10&&(e.preventDefault(),e.stopPropagation(),v=!0)}}
        @touchend=${e=>{if(!o.allow_swipe)return;const t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,a=m-t,n=_-i;Math.abs(a)>Math.abs(n)&&Math.abs(a)>50?(e.preventDefault(),e.stopPropagation(),a>0?u(e):g(e)):o.auto_play&&w(),m=0,_=0,v=!1}}
        @mousedown=${e=>{if(!o.allow_swipe)return;const t=e.target;"BUTTON"===t.tagName||"A"===t.tagName||t.closest("button")||t.closest("a")||t.closest(".slider-arrow")||t.closest(".pagination-dot")||t.closest(".pagination-number")||(f=e.clientX,k=e.clientY,x=!0,y.clearTimer(o.id))}}
        @mousemove=${e=>{if(!o.allow_swipe||!x||!f)return;const t=Math.abs(f-e.clientX);t>Math.abs(k-e.clientY)&&t>10&&e.preventDefault()}}
        @mouseup=${e=>{if(!o.allow_swipe||!x)return;const t=e.clientX,i=e.clientY,a=f-t,n=k-i;Math.abs(a)>Math.abs(n)&&Math.abs(a)>50?(e.preventDefault(),a>0?u(e):g(e)):o.auto_play&&w(),f=0,k=0,x=!1}}
        @mouseleave=${e=>{x&&(x=!1,f=0,k=0,o.auto_play&&w()),o.pause_on_hover&&o.auto_play&&!x&&w()}}
        @mouseenter=${()=>o.pause_on_hover&&void y.clearTimer(o.id)}
        @keydown=${e=>{o.allow_keyboard&&("ArrowLeft"===e.key?(e.preventDefault(),g(e)):"ArrowRight"===e.key&&(e.preventDefault(),u(e)))}}
        @wheel=${e=>{o.allow_mousewheel&&(e.preventDefault(),e.deltaY>0?u(e):e.deltaY<0&&g(e))}}
      >
        ${o.show_pagination&&"top"===o.pagination_position?I():""}

        <div
          class="slider-wrapper effect-${$}"
          style="${"slide-left"===$?`transform: translateX(-${E*(100/l+d)}%)`:"slide-right"===$?`transform: translateX(${E*(100/l+d)}%)`:"slide-top"===$?`transform: translateY(-${100*E}%)`:"slide-bottom"===$?`transform: translateY(${100*E}%)`:""}"
        >
          ${n.map(((e,o)=>{const n=o===E;return h.qy`
              <div class="slider-slide ${n?"active":""}">
                <div class="slide-content">
                  ${e.map((e=>{const o=a.getModule(e.type);return o?b.S.evaluateModuleVisibility(e)?o.renderPreview(e,t,i):"":h.qy`<div>Unknown module type: ${e.type}</div>`}))}
                </div>
              </div>
            `}))}
        </div>

        ${(()=>{if(!o.show_arrows)return"";const e=o.arrow_size||40,t=o.arrow_style||"circle",i=o.arrow_position||"inside",a=o.arrows_always_visible||!1,n=`\n        width: ${e}px;\n        height: ${e}px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        border: none;\n        transition: all 0.3s;\n        background: ${"minimal"!==t?o.arrow_background_color||"rgba(0, 0, 0, 0.5)":"transparent"};\n        color: ${o.arrow_color||"white"};\n        border: ${"square"===t||"minimal"===t?"2px solid "+(o.arrow_color||"white"):"none"};\n        border-radius: ${"circle"===t?"50%":"square"===t?"4px":"0"};\n        opacity: ${a?"1":"0"};\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        z-index: 10;\n      `;return h.qy`
        <button
          class="slider-arrow slider-arrow-prev"
          @click=${e=>{e.stopPropagation(),g(e)}}
          style="${n} left: ${"outside"===i?`-${e+10}px`:"10px"};"
        >
          <ha-icon icon="${o.prev_arrow_icon||"mdi:chevron-left"}"></ha-icon>
        </button>
        <button
          class="slider-arrow slider-arrow-next"
          @click=${e=>{e.stopPropagation(),u(e)}}
          style="${n} right: ${"outside"===i?`-${e+10}px`:"10px"};"
        >
          <ha-icon icon="${o.next_arrow_icon||"mdi:chevron-right"}"></ha-icon>
        </button>
      `})()}
        ${o.show_pagination&&"bottom"===o.pagination_position?I():""}
        ${o.show_pagination&&"left"===o.pagination_position?I():""}
        ${o.show_pagination&&"right"===o.pagination_position?I():""}
      </div>
    `}validate(e){const t=e,i=[...super.validate(e).errors];return t.modules||i.push("Slider must have a modules array"),t.slider_height&&(t.slider_height<50||t.slider_height>1e3)&&i.push("Slider height must be between 50 and 1000 pixels"),t.slides_per_view&&(t.slides_per_view<1||t.slides_per_view>5)&&i.push("Slides per view must be between 1 and 5"),{valid:0===i.length,errors:i}}getStyles(){return""}}class x extends _.m{constructor(){super(...arguments),this.metadata={type:"pagebreak",title:"Page Break",description:"Separates slider content into pages",author:"WJD Designs",version:"1.0.0",icon:"mdi:format-page-break",category:"layout",tags:["slider","page","break","separator","divider"]}}createDefault(e,t){return{id:e||this.generateId("pagebreak"),type:"pagebreak",display_mode:"always",display_conditions:[]}}renderGeneralTab(e,t,i,o){var a;return null===(a=null==t?void 0:t.locale)||void 0===a||a.language,h.qy`
      ${this.injectUcFormStyles()}
      <div class="module-general-settings">
        <!-- Info Section -->
        <div
          class="settings-section"
          style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 24px;"
        >
          <div style="display: flex; align-items: flex-start; gap: 12px;">
            <ha-icon
              icon="mdi:information"
              style="color: var(--info-color); margin-top: 2px; flex-shrink: 0; font-size: 24px;"
            ></ha-icon>
            <div style="font-size: 14px; line-height: 1.5; color: var(--primary-text-color);">
              <strong>How Page Breaks Work:</strong><br />
              Page breaks are only visible in the editor. When used inside a Slider Layout, they
              separate content into different slides. All modules before a page break belong to one
              page, and modules after it belong to the next page.
            </div>
          </div>
        </div>
      </div>
    `}renderPreview(e,t,i){return h.qy``}validate(e){return super.validate(e)}getStyles(){return"\n      .pagebreak-module-container {\n        user-select: none;\n      }\n    "}}var w=i(696),S=i(1394),A=i(1522),C=i(2929);class z{constructor(){this.modules=new Map,this.modulesByCategory=new Map,this.registerCoreModules()}static getInstance(){return z.instance||(z.instance=new z),z.instance}registerCoreModules(){this.registerModule(new o.o),this.registerModule(new a.O),this.registerModule(new n.Y),this.registerModule(new r.f),this.registerModule(new s.Q),this.registerModule(new l.m),this.registerModule(new d.k),this.registerModule(new c.R),this.registerModule(new p.W),this.registerModule(new u.s),this.registerModule(new g.b),this.registerModule(new m.j),this.registerModule(new k),this.registerModule(new x),this.registerModule(new w.w),this.registerModule(new S.w),this.registerModule(new A.E),this.registerModule(new C.X)}registerModule(e){const t=e.metadata.type;this.modules.has(t)&&console.warn(`Module with type "${t}" is already registered. Overriding...`),this.modules.set(t,e),this.updateCategoryMap(e)}unregisterModule(e){return!!this.modules.get(e)&&(this.modules.delete(e),this.updateCategoryMaps(),!0)}getModule(e){return this.modules.get(e)}getAllModules(){return Array.from(this.modules.values())}getModulesByCategory(e){return this.modulesByCategory.get(e)||[]}getCategories(){return Array.from(this.modulesByCategory.keys())}getAllModuleMetadata(){return this.getAllModules().map((e=>e.metadata))}searchModules(e){const t=e.toLowerCase();return this.getAllModules().filter((e=>{const i=e.metadata;return i.title.toLowerCase().includes(t)||i.description.toLowerCase().includes(t)||i.tags.some((e=>e.toLowerCase().includes(t)))||i.type.toLowerCase().includes(t)}))}createDefaultModule(e,t,i){const o=this.getModule(e);if(!o)return console.error(`Module type "${e}" not found in registry`),null;try{return o.createDefault(t,i)}catch(t){return console.error(`Error creating default module for type "${e}":`,t),null}}validateModule(e){const t=this.getModule(e.type);return t?t.validate(e):{valid:!1,errors:[`Unknown module type: ${e.type}`]}}getAllModuleStyles(){let e="";for(const t of this.getAllModules())t.getStyles&&(e+=`\n/* Styles for ${t.metadata.title} */\n`,e+=t.getStyles(),e+="\n");return e+=this.getCommonFormStyles(),e}isModuleRegistered(e){return this.modules.has(e)}getRegistryStats(){const e=this.getAllModules(),t={},i=new Set;return e.forEach((e=>{const o=e.metadata.category;t[o]=(t[o]||0)+1,i.add(e.metadata.author)})),{totalModules:e.length,modulesByCategory:t,authors:Array.from(i)}}updateCategoryMap(e){const t=e.metadata.category;this.modulesByCategory.has(t)||this.modulesByCategory.set(t,[]);const i=this.modulesByCategory.get(t),o=i.findIndex((t=>t.metadata.type===e.metadata.type));o>=0?i[o]=e:i.push(e)}updateCategoryMaps(){this.modulesByCategory.clear(),this.getAllModules().forEach((e=>this.updateCategoryMap(e)))}getCommonFormStyles(){return'\n      /* Common form styles for all modules */\n      .module-general-settings {\n        padding: 0;\n      }\n      \n      .form-field {\n        margin-bottom: 16px;\n      }\n      \n      .form-label {\n        display: block;\n        font-weight: 500;\n        margin-bottom: 4px;\n        font-size: 14px;\n        color: var(--primary-text-color);\n      }\n      \n      .form-description {\n        font-size: 12px;\n        color: var(--secondary-text-color);\n        margin-top: 4px;\n        line-height: 1.3;\n      }\n\n      /* Container Module Global Styles */\n      .container-module {\n        --container-drag-handle-opacity: 0.8;\n        --container-badge-opacity: 0.9;\n      }\n\n      .container-module:hover {\n        --container-drag-handle-opacity: 1;\n        --container-badge-opacity: 1;\n      }\n\n      /* Container-specific colors that can be overridden by individual modules */\n      .horizontal-module-preview.container-module {\n        --container-primary-color: #9c27b0; /* Purple for horizontal */\n        --container-secondary-color: #e1bee7;\n        --container-accent-color: #7b1fa2;\n        --container-border-color: #ba68c8;\n      }\n\n      .vertical-module-preview.container-module {\n        --container-primary-color: #3f51b5; /* Indigo for vertical */\n        --container-secondary-color: #c5cae9;\n        --container-accent-color: #303f9f;\n        --container-border-color: #7986cb;\n      }\n\n      .slider-module-preview.container-module {\n        --container-primary-color: #00bcd4; /* Cyan for slider */\n        --container-secondary-color: #b2ebf2;\n        --container-accent-color: #0097a7;\n        --container-border-color: #4dd0e1;\n      }\n      \n      .form-field input[type="text"],\n      .form-field input[type="number"],\n      .form-field select,\n      .form-field textarea {\n        width: 100%;\n        padding: 8px 12px;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        background: var(--secondary-background-color);\n        color: var(--primary-text-color);\n        font-size: 14px;\n        font-family: inherit;\n        box-sizing: border-box;\n      }\n      \n      .form-field input[type="color"] {\n        width: 60px;\n        height: 36px;\n        padding: 0;\n        border: 1px solid var(--divider-color);\n        border-radius: 4px;\n        cursor: pointer;\n        background: none;\n      }\n      \n      .form-field input:focus,\n      .form-field select:focus,\n      .form-field textarea:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 1px var(--primary-color);\n      }\n      \n      .form-field textarea {\n        resize: vertical;\n        min-height: 60px;\n        font-family: monospace;\n      }\n      \n      .checkbox-wrapper {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-size: 14px;\n        cursor: pointer;\n        color: var(--primary-text-color);\n      }\n      \n      .checkbox-wrapper input[type="checkbox"] {\n        margin: 0;\n        cursor: pointer;\n      }\n      \n      .checkbox-group {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n        gap: 8px;\n        margin-top: 8px;\n      }\n    '}}const T=()=>z.getInstance()},7987:(e,t,i)=>{i.d(t,{k:()=>o});class o{static getHoverEffectClass(e){if(!e||!e.effect||"none"===e.effect)return"";const t=e.intensity||"normal";return`uc-hover-${e.effect}-${t}`}static generateHoverEffectStyles(e){if(!e||!e.effect||"none"===e.effect)return"";const t=e.duration||300,i=e.timing||"ease",o=e.intensity||"normal",a=this.getHoverEffectClass(e);let n=`\n      .${a} {\n        transition: all ${t}ms ${i};\n        cursor: pointer;\n      }\n      .${a}:hover {\n    `;switch(e.effect){case"highlight":n+=`\n          background-color: ${e.highlight_color||"rgba(var(--rgb-primary-color), 0.2)"} !important;\n        `;break;case"outline":const a=e.outline_color||"var(--primary-color)";n+=`\n          outline: ${e.outline_width||2}px solid ${a};\n          outline-offset: 2px;\n        `;break;case"grow":n+=`\n          transform: scale(${this.getScaleValue("grow",o)});\n        `;break;case"shrink":n+=`\n          transform: scale(${this.getScaleValue("shrink",o)});\n        `;break;case"pulse":n+=`\n          animation: uc-pulse-${o} ${t}ms ${i} infinite;\n        `;break;case"bounce":n+=`\n          animation: uc-bounce-${o} ${t}ms ${i};\n        `;break;case"float":n+=`\n          transform: translateY(-${this.getFloatDistance(o)}px);\n        `;break;case"glow":const r=e.glow_color||"var(--primary-color)";n+=`\n          box-shadow: 0 0 ${this.getGlowIntensity(o)}px ${r};\n        `;break;case"shadow":const s=e.shadow_color||"rgba(0, 0, 0, 0.3)",l=this.getShadowIntensity(o);n+=`\n          box-shadow: 0 ${l}px ${2*l}px ${s};\n        `;break;case"rotate":n+=`\n          transform: rotate(${e.rotate_degrees||this.getRotateDegrees(o)}deg);\n        `;break;case"skew":const d=this.getSkewValue(o);n+=`\n          transform: skew(${d}deg, ${d}deg);\n        `;break;case"wobble":n+=`\n          animation: uc-wobble-${o} ${t}ms ${i};\n        `;break;case"buzz":n+=`\n          animation: uc-buzz-${o} ${t}ms ${i};\n        `;break;case"fade":n+=`\n          opacity: ${this.getFadeOpacity(o)};\n        `}return n+="\n      }\n    ",n}static generateAllHoverEffectStyles(){const e=["subtle","normal","strong"];let t="";return t+=this.generateAllKeyframes(),["highlight","outline","grow","shrink","pulse","bounce","float","glow","shadow","rotate","skew","wobble","buzz","fade"].forEach((i=>{e.forEach((e=>{const o={effect:i,intensity:e,duration:300,timing:"ease"};t+=this.generateHoverEffectStyles(o)}))})),t}static generateAllKeyframes(){let e="";return["subtle","normal","strong"].forEach((t=>{e+=this.generatePulseKeyframes(`uc-pulse-${t}`,t),e+=this.generateBounceKeyframes(`uc-bounce-${t}`,t),e+=this.generateWobbleKeyframes(`uc-wobble-${t}`,t),e+=this.generateBuzzKeyframes(`uc-buzz-${t}`,t)})),e}static getScaleValue(e,t){const i={grow:{subtle:1.02,normal:1.05,strong:1.1},shrink:{subtle:.98,normal:.95,strong:.9}};return i[e][t]||i[e].normal}static getBounceDistance(e){const t={subtle:2,normal:4,strong:8};return t[e]||t.normal}static getFloatDistance(e){const t={subtle:2,normal:4,strong:8};return t[e]||t.normal}static getGlowIntensity(e){const t={subtle:5,normal:10,strong:20};return t[e]||t.normal}static getShadowIntensity(e){const t={subtle:2,normal:4,strong:8};return t[e]||t.normal}static getRotateDegrees(e){const t={subtle:2,normal:5,strong:10};return t[e]||t.normal}static getSkewValue(e){const t={subtle:1,normal:2,strong:4};return t[e]||t.normal}static getFadeOpacity(e){const t={subtle:.8,normal:.6,strong:.4};return t[e]||t.normal}static generatePulseKeyframes(e,t){return`\n      @keyframes ${e} {\n        0% { transform: scale(1); }\n        50% { transform: scale(${this.getScaleValue("grow",t)}); }\n        100% { transform: scale(1); }\n      }\n    `}static generateBounceKeyframes(e,t){const i=this.getBounceDistance(t);return`\n      @keyframes ${e} {\n        0%, 20%, 53%, 80%, 100% { transform: translateY(0); }\n        40%, 43% { transform: translateY(-${i}px); }\n        70% { transform: translateY(-${i/2}px); }\n        90% { transform: translateY(-${i/4}px); }\n      }\n    `}static generateWobbleKeyframes(e,t){const i=this.getSkewValue(t);return`\n      @keyframes ${e} {\n        16.65% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        33.3% { transform: translateX(${i/2}px) rotate(${i/2}deg); }\n        49.95% { transform: translateX(-${i/3}px) rotate(-${i/3}deg); }\n        66.6% { transform: translateX(${i/4}px) rotate(${i/4}deg); }\n        83.25% { transform: translateX(-${i/5}px) rotate(-${i/5}deg); }\n        100% { transform: translateX(0) rotate(0); }\n      }\n    `}static generateBuzzKeyframes(e,t){const i=this.getSkewValue(t);return`\n      @keyframes ${e} {\n        10% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        20% { transform: translateX(${i}px) rotate(${i}deg); }\n        30% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        40% { transform: translateX(${i}px) rotate(${i}deg); }\n        50% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        60% { transform: translateX(${i}px) rotate(${i}deg); }\n        70% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        80% { transform: translateX(${i}px) rotate(${i}deg); }\n        90% { transform: translateX(-${i}px) rotate(-${i}deg); }\n        100% { transform: translateX(0) rotate(0); }\n      }\n    `}static injectHoverEffectStyles(e,t){const i="uc-hover-effects-styles";if(e){let o=e.querySelector(`#${i}`);o||(o=document.createElement("style"),o.id=i,e.appendChild(o)),t&&t.length>0?o.textContent=this.generateDynamicHoverEffectStyles(t):o.textContent=this.generateAllHoverEffectStyles()}else{let e=document.getElementById(i);e||(e=document.createElement("style"),e.id=i,document.head.appendChild(e)),t&&t.length>0?e.textContent=this.generateDynamicHoverEffectStyles(t):e.textContent=this.generateAllHoverEffectStyles()}}static generateDynamicHoverEffectStyles(e){let t="";return t+=this.generateAllKeyframes(),e.forEach((e=>{e&&e.effect&&"none"!==e.effect&&(t+=this.generateHoverEffectStyles(e))})),t+=this.generateAllHoverEffectStyles(),t}static updateHoverEffectStyles(e,t){const i="uc-hover-effects-styles";let o=e.querySelector(`#${i}`);o||(o=document.createElement("style"),o.id=i,e.appendChild(o)),o.textContent=this.generateDynamicHoverEffectStyles(t)}static removeHoverEffectStyles(e){const t="uc-hover-effects-styles";if(e){const i=e.querySelector(`#${t}`);i&&i.remove()}else{const e=document.getElementById(t);e&&e.remove()}}}},8287:(e,t,i)=>{var o=i(5183),a=i(4276),n=i(927),r=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let s=class extends o.WF{constructor(){super(...arguments),this.open=!1,this._name="",this._description="",this._tags=""}render(){return this.open?o.qy`
      <div class="dialog-overlay" @click=${this._handleOverlayClick}>
        <div class="dialog-content" @click=${e=>e.stopPropagation()}>
          <div class="dialog-header">
            <h3>Save as Favorite</h3>
            <button class="close-btn" @click=${this._close}>
              <ha-icon icon="mdi:close"></ha-icon>
            </button>
          </div>

          <div class="dialog-body">
            <div class="field">
              <label>Name *</label>
              <input
                type="text"
                .value=${this._name}
                @input=${e=>this._name=e.target.value}
                placeholder="Enter a name for this favorite"
                required
              />
            </div>

            <div class="field">
              <label>Description</label>
              <textarea
                .value=${this._description}
                @input=${e=>this._description=e.target.value}
                placeholder="Optional description"
                rows="3"
              ></textarea>
            </div>

            <div class="field">
              <label>Tags</label>
              <input
                type="text"
                .value=${this._tags}
                @input=${e=>this._tags=e.target.value}
                placeholder="Comma-separated tags (e.g., lights, bedroom, automation)"
              />
              <small>Use tags to organize and search your favorites</small>
            </div>
          </div>

          <div class="dialog-footer">
            <button class="cancel-btn" @click=${this._close}>Cancel</button>
            <button class="save-btn" @click=${this._save} ?disabled=${!this._name.trim()}>
              Save Favorite
            </button>
          </div>
        </div>
      </div>
    `:o.qy``}_handleOverlayClick(e){e.target===e.currentTarget&&this._close()}_close(){this.open=!1,this._reset(),this.dispatchEvent(new CustomEvent("close"))}_save(){if(!this._name.trim())return;const e=this._tags.split(",").map((e=>e.trim().toLowerCase())).filter(Boolean);n.B.addFavorite(this.row,this._name.trim(),this._description.trim()||void 0,e),this.dispatchEvent(new CustomEvent("saved",{detail:{name:this._name.trim()}})),this._close()}_reset(){this._name="",this._description="",this._tags=""}};s.styles=o.AH`
    :host {
      display: contents;
    }

    .dialog-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
    }

    .dialog-content {
      background: var(--card-background-color);
      border-radius: 12px;
      width: 100%;
      max-width: 500px;
      max-height: 90vh;
      overflow: auto;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .dialog-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      border-bottom: 1px solid var(--divider-color);
    }

    .dialog-header h3 {
      margin: 0;
      color: var(--primary-text-color);
      font-size: 18px;
      font-weight: 600;
    }

    .close-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: none;
      border: none;
      border-radius: 6px;
      color: var(--secondary-text-color);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .close-btn:hover {
      background: var(--secondary-background-color);
      color: var(--primary-text-color);
    }

    .dialog-body {
      padding: 24px;
    }

    .field {
      margin-bottom: 20px;
    }

    .field:last-child {
      margin-bottom: 0;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--primary-text-color);
      font-size: 14px;
    }

    input,
    textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--divider-color);
      border-radius: 6px;
      background: var(--secondary-background-color);
      color: var(--primary-text-color);
      font-size: 14px;
      font-family: inherit;
      transition: border-color 0.2s ease;
      box-sizing: border-box;
    }

    input:focus,
    textarea:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    small {
      display: block;
      margin-top: 4px;
      font-size: 12px;
      color: var(--secondary-text-color);
    }

    .dialog-footer {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 12px;
      padding: 20px 24px;
      border-top: 1px solid var(--divider-color);
    }

    .cancel-btn,
    .save-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .cancel-btn {
      background: var(--secondary-background-color);
      color: var(--secondary-text-color);
      border: 1px solid var(--divider-color);
    }

    .cancel-btn:hover {
      background: var(--divider-color);
      color: var(--primary-text-color);
    }

    .save-btn {
      background: var(--primary-color);
      color: white;
    }

    .save-btn:hover:not(:disabled) {
      background: var(--primary-color-dark);
    }

    .save-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    @media (max-width: 600px) {
      .dialog-content {
        margin: 0;
        border-radius: 0;
        height: 100vh;
        max-height: none;
      }

      .dialog-footer {
        flex-direction: column-reverse;
        gap: 8px;
      }

      .cancel-btn,
      .save-btn {
        width: 100%;
      }
    }
  `,r([(0,a.MZ)({attribute:!1})],s.prototype,"row",void 0),r([(0,a.MZ)({type:Boolean})],s.prototype,"open",void 0),r([(0,a.wk)()],s.prototype,"_name",void 0),r([(0,a.wk)()],s.prototype,"_description",void 0),r([(0,a.wk)()],s.prototype,"_tags",void 0),s=r([(0,a.EM)("uc-favorite-dialog")],s)},8914:(e,t,i)=>{i.d(t,{Q:()=>n});var o=i(5183);let a=!1;class n{static renderCleanForm(e,t,i,r){console.log(" RENDER CLEAN FORM:",{data:t,schema:i,dataKeys:Object.keys(t),timestamp:Date.now()});const s=`clean-form-${Math.random().toString(36).substr(2,9)}`;return setTimeout((()=>{const e=document.getElementById(s);e&&(n.setupFormObserver(e,s),n.aggressiveCleanup(e))}),0),setTimeout((()=>{const e=document.getElementById(s);e&&n.aggressiveCleanup(e)}),100),o.qy`
      <div class="ultra-clean-form" id="${s}">
        <ha-form
          .hass=${e}
          .data=${t}
          .schema=${i}
          .computeLabel=${()=>""}
          .computeDescription=${()=>""}
          @value-changed=${e=>{a||(a=!0,requestAnimationFrame((()=>{a=!1})),r(e),requestAnimationFrame((()=>{const e=document.getElementById(s);e&&n.aggressiveCleanup(e)})))}}
        ></ha-form>
      </div>
    `}static setupFormObserver(e,t){var i;n.activeObservers.has(t)&&(null===(i=n.activeObservers.get(t))||void 0===i||i.disconnect());const o=new MutationObserver((i=>{let o=!1;i.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&(o=!0)}))})),o&&!n.cleanupQueue.has(t)&&(n.cleanupQueue.add(t),setTimeout((()=>{n.aggressiveCleanup(e),n.cleanupQueue.delete(t)}),10))}));o.observe(e,{childList:!0,subtree:!0,characterData:!0}),n.activeObservers.set(t,o),setTimeout((()=>{document.contains(e)||(o.disconnect(),n.activeObservers.delete(t))}),3e4)}static aggressiveCleanup(e){var t;if(!e)return;const i=["action","entity","template_mode","icon","name","value","text","url","path","attribute","state","condition","enabled","disabled","template","mode","type","size","color","style","width","height","radius","opacity","service","data","latitude","longitude","navigation_path","show_icon","label","button"],o=e.querySelector("ha-form");if(!o)return;const a=document.createTreeWalker(o,NodeFilter.SHOW_TEXT,null),n=[];let r;for(;r=a.nextNode();){const e=null===(t=r.textContent)||void 0===t?void 0:t.trim().toLowerCase();e&&i.includes(e)&&n.push(r)}n.forEach((e=>{var t;const i=e.parentElement;if(i){const o=i.querySelector("input, select, ha-entity-picker, ha-selector, mwc-select, mwc-textfield");e.textContent&&e.textContent.trim().length<30&&(o||(null===(t=i.parentElement)||void 0===t?void 0:t.querySelector("input, select, ha-entity-picker, ha-selector")))&&e.remove()}})),o.querySelectorAll("*").forEach((e=>{var t,o;const a=null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase();a&&i.includes(a)&&0===e.children.length&&(null===(o=e.parentElement)||void 0===o?void 0:o.querySelector("input, select, ha-entity-picker, ha-selector"))&&(e.style.cssText="display: none !important; visibility: hidden !important; opacity: 0 !important; height: 0 !important; width: 0 !important; margin: 0 !important; padding: 0 !important;")})),['div[role="group"] > div:first-child:not([class])','div[role="group"] > span:first-child:not([class])',".mdc-form-field__label",".mdc-text-field__label",".mdc-select__label","label:not([for])","div:not([class]):not([id])","span:not([class]):not([id])"].forEach((e=>{try{o.querySelectorAll(e).forEach((e=>{var t;const o=null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase();o&&i.includes(o)&&(e.style.cssText="display: none !important;")}))}catch(e){}})),o.querySelectorAll('[class*="mdc-"]').forEach((e=>{var t;const o=null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase();o&&i.includes(o)&&0===e.children.length&&(e.classList.contains("mdc-floating-label")||e.classList.contains("mdc-form-field__label")||e.classList.contains("mdc-text-field__label"))&&(e.style.cssText="display: none !important;")})),setTimeout((()=>{var e;const t=document.createTreeWalker(o,NodeFilter.SHOW_TEXT,null),a=[];let n;for(;n=t.nextNode();){const t=null===(e=n.textContent)||void 0===e?void 0:e.trim().toLowerCase();t&&i.includes(t)&&a.push(n)}a.forEach((e=>{e.parentNode&&(e.textContent="")}))}),50)}static getCleanFormStyles(){return"\n      /* Ultra-aggressive label hiding */\n      .ultra-clean-form ha-form label,\n      .ultra-clean-form ha-form .label,\n      .ultra-clean-form ha-form .mdc-floating-label,\n      .ultra-clean-form ha-form .mdc-text-field__label,\n      .ultra-clean-form ha-form .mdc-select__label,\n      .ultra-clean-form ha-form .mdc-form-field__label,\n      .ultra-clean-form ha-form .ha-form-label,\n      .ultra-clean-form ha-form .mdc-notched-outline__leading,\n      .ultra-clean-form ha-form .mdc-notched-outline__notch,\n      .ultra-clean-form ha-form .mdc-notched-outline__trailing,\n      .ultra-clean-form ha-form .mdc-line-ripple {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        width: 0 !important;\n        margin: 0 !important;\n        padding: 0 !important;\n        font-size: 0 !important;\n        line-height: 0 !important;\n      }\n\n      /* Override any existing label styles completely */\n      .ultra-clean-form label,\n      .ultra-clean-form .ultra-clean-form label *,\n      .ultra-clean-form ha-form label,\n      .ultra-clean-form ha-form label * {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        width: 0 !important;\n        margin: 0 !important;\n        padding: 0 !important;\n        border: none !important;\n        outline: none !important;\n        background: none !important;\n        font-size: 0 !important;\n        line-height: 0 !important;\n        position: absolute !important;\n        left: -9999px !important;\n        top: -9999px !important;\n        z-index: -1 !important;\n        pointer-events: none !important;\n      }\n\n      /* Hide any text that could be a redundant label */\n      .ultra-clean-form ha-form div:not([class]):not([id]),\n      .ultra-clean-form ha-form span:not([class]):not([id]),\n      .ultra-clean-form ha-form p:not([class]):not([id]) {\n        font-size: 0 !important;\n        line-height: 0 !important;\n        color: transparent !important;\n        height: 0 !important;\n        overflow: hidden !important;\n      }\n\n      /* Make sure form inputs still work */\n      .ultra-clean-form ha-form input,\n      .ultra-clean-form ha-form select,\n      .ultra-clean-form ha-form textarea,\n      .ultra-clean-form ha-form ha-entity-picker,\n      .ultra-clean-form ha-form ha-icon-picker,\n      .ultra-clean-form ha-form ha-selector,\n      .ultra-clean-form ha-form .mdc-text-field,\n      .ultra-clean-form ha-form .mdc-select,\n      .ultra-clean-form ha-form .mdc-switch {\n        font-size: 14px !important;\n        line-height: normal !important;\n        color: var(--primary-text-color) !important;\n        height: auto !important;\n        width: auto !important;\n        margin-top: 0 !important;\n        border-radius: 8px !important;\n      }\n\n      /* Ensure dropdowns work */\n      .ultra-clean-form ha-form .mdc-select__selected-text,\n      .ultra-clean-form ha-form .mdc-select__dropdown-icon {\n        font-size: 14px !important;\n        color: var(--primary-text-color) !important;\n        opacity: 1 !important;\n        height: auto !important;\n        width: auto !important;\n      }\n\n      /* Style field titles and descriptions consistently */\n      .field-title {\n        font-size: 16px !important;\n        font-weight: 600 !important;\n       \n        margin-bottom: 4px !important;\n        display: block !important;\n      }\n\n      .field-description {\n        font-size: 13px !important;\n        color: var(--secondary-text-color) !important;\n        margin-bottom: 12px !important;\n        display: block !important;\n        opacity: 0.8 !important;\n        line-height: 1.4 !important;\n      }\n\n      .section-title {\n        font-size: 18px !important;\n        font-weight: 700 !important;\n        color: var(--primary-color) !important;\n        text-transform: uppercase !important;\n        letter-spacing: 0.5px !important;\n      }\n    "}static cleanupRedundantLabels(e){n.aggressiveCleanup(e)}static renderField(e,t,i,a,r,s){return o.qy`
      <div class="form-field-container">
        <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
          ${e}
        </div>
        <div
          class="field-description"
          style="font-size: 13px; font-weight: 400; margin-bottom: 12px; color: var(--secondary-text-color);"
        >
          ${t}
        </div>
        ${n.renderCleanForm(i,a,r,s)}
      </div>
    `}static createSchemaItem(e,t){return{name:e,selector:t}}static renderSection(e,t,i){return o.qy`
      <div
        class="settings-section"
        style="background: var(--secondary-background-color); border-radius: 8px; padding: 16px; margin-bottom: 32px;"
      >
        <div
          class="section-title"
          style="font-size: 18px; font-weight: 700; text-transform: uppercase; color: var(--primary-color); margin-bottom: 16px; padding-bottom: 0; border-bottom: none; letter-spacing: 0.5px;"
        >
          ${e}
        </div>
        ${t?o.qy`
              <div
                class="field-description"
                style="font-size: 13px; font-weight: 400; margin-bottom: 16px; color: var(--secondary-text-color);"
              >
                ${t}
              </div>
            `:""}
        ${i.map((e=>o.qy`
            <div style="margin-bottom: 16px;">
              ${n.renderField(e.title,e.description,e.hass,e.data,e.schema,e.onChange)}
            </div>
          `))}
      </div>
    `}static injectCleanFormStyles(){return o.qy`
      <style>
        ${n.getCleanFormStyles()}
      </style>
    `}}n.activeObservers=new Map,n.cleanupQueue=new Set},9247:(e,t,i)=>{i.d(t,{JW:()=>A,XX:()=>L,c0:()=>C,ge:()=>H,qy:()=>S,s6:()=>z});const o=globalThis,a=o.trustedTypes,n=a?a.createPolicy("lit-html",{createHTML:e=>e}):void 0,r="$lit$",s=`lit$${Math.random().toFixed(9).slice(2)}$`,l="?"+s,d=`<${l}>`,c=document,p=()=>c.createComment(""),u=e=>null===e||"object"!=typeof e&&"function"!=typeof e,g=Array.isArray,m=e=>g(e)||"function"==typeof e?.[Symbol.iterator],h="[ \t\n\f\r]",_=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,f=/>/g,b=RegExp(`>|${h}(?:([^\\s"'>=/]+)(${h}*=${h}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),y=/'/g,k=/"/g,x=/^(?:script|style|textarea|title)$/i,w=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),S=w(1),A=w(2),C=(w(3),Symbol.for("lit-noChange")),z=Symbol.for("lit-nothing"),T=new WeakMap,I=c.createTreeWalker(c,129);function E(e,t){if(!g(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==n?n.createHTML(t):t}const $=(e,t)=>{const i=e.length-1,o=[];let a,n=2===t?"<svg>":3===t?"<math>":"",l=_;for(let t=0;t<i;t++){const i=e[t];let c,p,u=-1,g=0;for(;g<i.length&&(l.lastIndex=g,p=l.exec(i),null!==p);)g=l.lastIndex,l===_?"!--"===p[1]?l=v:void 0!==p[1]?l=f:void 0!==p[2]?(x.test(p[2])&&(a=RegExp("</"+p[2],"g")),l=b):void 0!==p[3]&&(l=b):l===b?">"===p[0]?(l=a??_,u=-1):void 0===p[1]?u=-2:(u=l.lastIndex-p[2].length,c=p[1],l=void 0===p[3]?b:'"'===p[3]?k:y):l===k||l===y?l=b:l===v||l===f?l=_:(l=b,a=void 0);const m=l===b&&e[t+1].startsWith("/>")?" ":"";n+=l===_?i+d:u>=0?(o.push(c),i.slice(0,u)+r+i.slice(u)+s+m):i+s+(-2===u?t:m)}return[E(e,n+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),o]};class P{constructor({strings:e,_$litType$:t},i){let o;this.parts=[];let n=0,d=0;const c=e.length-1,u=this.parts,[g,m]=$(e,t);if(this.el=P.createElement(g,i),I.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(o=I.nextNode())&&u.length<c;){if(1===o.nodeType){if(o.hasAttributes())for(const e of o.getAttributeNames())if(e.endsWith(r)){const t=m[d++],i=o.getAttribute(e).split(s),a=/([.?@])?(.*)/.exec(t);u.push({type:1,index:n,name:a[2],strings:i,ctor:"."===a[1]?J:"?"===a[1]?R:"@"===a[1]?U:O}),o.removeAttribute(e)}else e.startsWith(s)&&(u.push({type:6,index:n}),o.removeAttribute(e));if(x.test(o.tagName)){const e=o.textContent.split(s),t=e.length-1;if(t>0){o.textContent=a?a.emptyScript:"";for(let i=0;i<t;i++)o.append(e[i],p()),I.nextNode(),u.push({type:2,index:++n});o.append(e[t],p())}}}else if(8===o.nodeType)if(o.data===l)u.push({type:2,index:n});else{let e=-1;for(;-1!==(e=o.data.indexOf(s,e+1));)u.push({type:7,index:n}),e+=s.length-1}n++}}static createElement(e,t){const i=c.createElement("template");return i.innerHTML=e,i}}function j(e,t,i=e,o){if(t===C)return t;let a=void 0!==o?i._$Co?.[o]:i._$Cl;const n=u(t)?void 0:t._$litDirective$;return a?.constructor!==n&&(a?._$AO?.(!1),void 0===n?a=void 0:(a=new n(e),a._$AT(e,i,o)),void 0!==o?(i._$Co??=[])[o]=a:i._$Cl=a),void 0!==a&&(t=j(e,a._$AS(e,t.values),a,o)),t}class B{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,o=(e?.creationScope??c).importNode(t,!0);I.currentNode=o;let a=I.nextNode(),n=0,r=0,s=i[0];for(;void 0!==s;){if(n===s.index){let t;2===s.type?t=new D(a,a.nextSibling,this,e):1===s.type?t=new s.ctor(a,s.name,s.strings,this,e):6===s.type&&(t=new M(a,this,e)),this._$AV.push(t),s=i[++r]}n!==s?.index&&(a=I.nextNode(),n++)}return I.currentNode=c,o}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class D{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,o){this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=j(this,e,t),u(e)?e===z||null==e||""===e?(this._$AH!==z&&this._$AR(),this._$AH=z):e!==this._$AH&&e!==C&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):m(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==z&&u(this._$AH)?this._$AA.nextSibling.data=e:this.T(c.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,o="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=P.createElement(E(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===o)this._$AH.p(t);else{const e=new B(o,this),i=e.u(this.options);e.p(t),this.T(i),this._$AH=e}}_$AC(e){let t=T.get(e.strings);return void 0===t&&T.set(e.strings,t=new P(e)),t}k(e){g(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,o=0;for(const a of e)o===t.length?t.push(i=new D(this.O(p()),this.O(p()),this,this.options)):i=t[o],i._$AI(a),o++;o<t.length&&(this._$AR(i&&i._$AB.nextSibling,o),t.length=o)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class O{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,o,a){this.type=1,this._$AH=z,this._$AN=void 0,this.element=e,this.name=t,this._$AM=o,this.options=a,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=z}_$AI(e,t=this,i,o){const a=this.strings;let n=!1;if(void 0===a)e=j(this,e,t,0),n=!u(e)||e!==this._$AH&&e!==C,n&&(this._$AH=e);else{const o=e;let r,s;for(e=a[0],r=0;r<a.length-1;r++)s=j(this,o[i+r],t,r),s===C&&(s=this._$AH[r]),n||=!u(s)||s!==this._$AH[r],s===z?e=z:e!==z&&(e+=(s??"")+a[r+1]),this._$AH[r]=s}n&&!o&&this.j(e)}j(e){e===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class J extends O{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===z?void 0:e}}class R extends O{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==z)}}class U extends O{constructor(e,t,i,o,a){super(e,t,i,o,a),this.type=5}_$AI(e,t=this){if((e=j(this,e,t,0)??z)===C)return;const i=this._$AH,o=e===z&&i!==z||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,a=e!==z&&(i===z||o);o&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class M{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){j(this,e)}}const H={M:r,P:s,A:l,C:1,L:$,R:B,D:m,V:j,I:D,H:O,N:R,U,B:J,F:M},N=o.litHtmlPolyfillSupport;N?.(P,D),(o.litHtmlVersions??=[]).push("3.2.1");const L=(e,t,i)=>{const o=i?.renderBefore??t;let a=o._$litPart$;if(void 0===a){const e=i?.renderBefore??null;o._$litPart$=a=new D(t.insertBefore(p(),e),e,void 0,i??{})}return a._$AI(e),a}},9643:(e,t,i)=>{i.d(t,{D:()=>n});var o=i(5672);const a=new class{constructor(){this.privacyRules=[{pattern:/(?:(?:192[\._]168|10[\._]|172[\._](?:1[6-9]|2[0-9]|3[01]))[\._]\d{1,3}[\._]\d{1,3}|\d{1,3}[\._]\d{1,3}[\._]\d{1,3}[\._]\d{1,3})/g,replacement:"192_168_1_100",description:"IP addresses (with dots or underscores)",category:"ip"},{pattern:/\b[0-9A-Fa-f]{2}[:-][0-9A-Fa-f]{2}[:-][0-9A-Fa-f]{2}[:-][0-9A-Fa-f]{2}[:-][0-9A-Fa-f]{2}[:-][0-9A-Fa-f]{2}\b/g,replacement:"00:11:22:33:44:55",description:"MAC addresses",category:"network"}],this.contextualPrivacyRules=[{rule:{pattern:/\bperson\.[a-zA-Z0-9_]+/g,replacement:"person.person",description:"Person entity IDs (any name)",category:"personal"},fieldPatterns:[/entity/i,/template/i,/name/i,/custom.*text/i]},{rule:{pattern:/\b(device_tracker\.|sensor\.|switch\.|light\.|climate\.|binary_sensor\.|input_boolean\.|input_text\.|input_select\.)?(emily|emma|olivia|ava|sophia|isabella|charlotte|mia|amelia|harper|evelyn|abigail|ella|elizabeth|camila|luna|sofia|avery|mila|aria|scarlett|penelope|layla|chloe|victoria|madison|eleanor|grace|nora|riley|zoey|hannah|hazel|lily|ellie|violet|lillian|zoe|stella|aurora|natalie|emilia|evelyn|leah|aubrey|willow|addison|lucy|audrey|bella|nova|brooklyn|alice|jasmine|anna|liam|noah|oliver|elijah|william|james|benjamin|lucas|henry|alexander|mason|michael|ethan|daniel|jacob|logan|jackson|levi|sebastian|mateo|jack|owen|theodore|aiden|samuel|joseph|john|david|wyatt|matthew|luke|asher|carter|julian|grayson|leo|jayden|gabriel|isaac|lincoln|anthony|hudson|dylan|ezra|thomas|charles|christopher|jaxon|maverick|josiah|isaiah|andrew|elias|joshua|nathan|caleb|ryan|adrian|miles|eli|nolan|christian|aaron|cameron|ezekiel|colton|luca|landon|hunter|jonathan|santiago|axel|easton|cooper|jeremiah|angel|roman|connor|jameson|robert|greyson|jordan|ian|carson|jaxson|leonardo|nicholas|dominic|austin|everett|brooks|xavier|kai|jose|parker|adam|jace|wesley|kayden|silas)(_\w+)?\b/gi,replacement:"person",description:"Personal names in non-person entity IDs",category:"personal"},fieldPatterns:[/entity/i,/template/i,/name/i,/custom.*text/i]},{rule:{pattern:/\b(sensor\.|switch\.|light\.|climate\.|binary_sensor\.)?(master_bedroom|kids_room|bedroom|kitchen|bathroom|garage|basement|attic|office|nursery|playroom|den|study|workshop|shed|patio|deck|porch|driveway|backyard|frontyard|living_room|dining_room|family_room|guest_room|laundry_room|utility_room|pantry|closet|hallway|stairway|foyer|entryway|mudroom)(_\w+)?\b/gi,replacement:"room",description:"Room/location identifiers",category:"location"},fieldPatterns:[/entity/i,/template/i,/name/i,/custom.*text/i]},{rule:{pattern:/\b(device_tracker\.|sensor\.)?(\w*)(phone|ipad|tablet|laptop|desktop|macbook|iphone|android|samsung|pixel|watch|airpods|headphones)(\w*)\b/gi,replacement:"device",description:"Personal device identifiers",category:"device"},fieldPatterns:[/entity/i,/template/i,/device/i,/tracker/i]},{rule:{pattern:/\b(sensor\.|switch\.|device_tracker\.)?(wifi|network|router|modem|access_point|ap)(_\w+)?\b/gi,replacement:"network_device",description:"Network device identifiers",category:"network"},fieldPatterns:[/entity/i,/template/i,/network/i]},{rule:{pattern:/\b(device_tracker\.|sensor\.)?(car|vehicle|truck|suv|van|motorcycle|bike|tesla|bmw|audi|honda|toyota|ford|chevy|chevrolet|nissan|hyundai|kia|mazda|subaru|volkswagen|vw|volvo|mercedes|benz|lexus|acura|infiniti|cadillac|buick|gmc|jeep|ram|dodge|chrysler|fiat|mini|porsche|ferrari|lamborghini|maserati|jaguar|land_rover|range_rover)(_\w+)?\b/gi,replacement:"vehicle",description:"Vehicle identifiers",category:"device"},fieldPatterns:[/entity/i,/template/i,/vehicle/i,/car/i,/tracker/i]},{rule:{pattern:/\b\d{1,5}\s+[A-Za-z\s]+(street|st|avenue|ave|road|rd|lane|ln|drive|dr|court|ct|place|pl|way|circle|cir|boulevard|blvd)\b/gi,replacement:"123 Main Street",description:"Street addresses",category:"location"},fieldPatterns:[/address/i,/location/i,/street/i,/template/i]}]}scanAndSanitize(e,t=""){const i=[];return{found:i,sanitizedData:this._deepSanitize(JSON.parse(JSON.stringify(e)),i,t)}}_deepSanitize(e,t,i){if("string"==typeof e)return this._sanitizeString(e,t,i);if(Array.isArray(e))return e.map(((e,o)=>this._deepSanitize(e,t,`${i}[${o}]`)));if(e&&"object"==typeof e){const o={};for(const[a,n]of Object.entries(e)){const e=i?`${i}.${a}`:a;o[a]=this._deepSanitize(n,t,e)}return o}return e}_sanitizeString(e,t,i){let o=e;for(const a of this.privacyRules){const n=e.match(a.pattern);if(n){for(const e of n)t.find((t=>t.original===e&&t.field===i))||t.push({original:e,replacement:a.replacement,category:a.category,description:a.description,field:i});o=o.replace(a.pattern,a.replacement)}}for(const a of this.contextualPrivacyRules)if(a.fieldPatterns.some((e=>e.test(i)))){const n=e.match(a.rule.pattern);if(n){for(const e of n)t.find((t=>t.original===e&&t.field===i))||t.push({original:e,replacement:a.rule.replacement,category:a.rule.category,description:a.rule.description,field:i});o=o.replace(a.rule.pattern,a.rule.replacement)}}return o}async showPrivacyDialog(e){return e.found.length>0&&console.log(` Privacy Protection: Automatically sanitized ${e.found.length} items`),!0}generateWarningMessage(e){if(0===e.found.length)return"No sensitive information detected. Safe to export!";const t=[...new Set(e.found.map((e=>e.category)))],i={ip:"IP addresses",personal:"Personal names",location:"Location info",device:"Device names",network:"Network info"},o=t.map((e=>i[e])).join(", "),a=e.found.length;return` Privacy Protection: Found ${a} sensitive item${a>1?"s":""} (${o}) that will be replaced with generic placeholders.`}generateDetailedReport(e){if(0===e.found.length)return" No sensitive information found - safe to export!";const t=e.found.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{});let i=" Privacy Protection Report:\n\n";for(const[e,o]of Object.entries(t))i+=`${{ip:"",personal:"",location:"",device:"",network:""}[e]} ${o[0].description}:\n`,o.forEach((e=>{i+=`  "${e.original}"  "${e.replacement}" (in ${e.field})\n`})),i+="\n";return i}_generateDialogMessage(e){const t=e.found.length;let i=" PRIVACY PROTECTION\n\n";i+=`Found ${t} potentially sensitive item${t>1?"s":""} that will be replaced:\n\n`;const o=e.found.reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{});for(const[e,t]of Object.entries(o))i+=`${{ip:"",personal:"",location:"",device:"",network:""}[e]} ${t[0].description}:\n`,t.slice(0,3).forEach((e=>{i+=`  "${e.original}"  "${e.replacement}"\n`})),t.length>3&&(i+=`  ... and ${t.length-3} more\n`),i+="\n";return i+="This protects your privacy when sharing presets.\n\n",i+="Continue with export?",i}},n=new class{async exportRowToClipboard(e,t){const i=a.scanAndSanitize(e);if(!await a.showPrivacyDialog(i))throw new Error("Export cancelled by user");const n={type:"ultra-card-row",version:o.x,data:i.sanitizedData,metadata:{exported:(new Date).toISOString(),name:t||"Exported Row",privacyProtected:i.found.length>0}},r=this._generateShortcode(n);await this._copyToClipboard(r)}async exportLayoutToClipboard(e,t){const i=a.scanAndSanitize(e);if(!await a.showPrivacyDialog(i))throw new Error("Export cancelled by user");const n={type:"ultra-card-layout",version:o.x,data:i.sanitizedData,metadata:{exported:(new Date).toISOString(),name:t||"Exported Layout",privacyProtected:i.found.length>0}},r=this._generateShortcode(n);await this._copyToClipboard(r)}async exportModuleToClipboard(e,t){const i=a.scanAndSanitize(e);if(!await a.showPrivacyDialog(i))throw new Error("Export cancelled by user");const n={type:"ultra-card-module",version:o.x,data:i.sanitizedData,metadata:{exported:(new Date).toISOString(),name:t||"Exported Module",privacyProtected:i.found.length>0}},r=this._generateShortcode(n);await this._copyToClipboard(r)}importFromShortcode(e){try{const t=e.trim().match(/\[ultra_card\]([\s\S]*?)\[\/ultra_card\]/);if(!t)throw new Error("Invalid Ultra Card shortcode format");const i=t[1].trim();if(!i||0===i.length)throw new Error("Empty shortcode data");let o;try{o=atob(i)}catch(e){throw new Error("Invalid base64 encoding in shortcode")}const a=o.trim();if(!a||0===a.length)throw new Error("Empty JSON data in shortcode");let n;try{n=JSON.parse(a)}catch(e){const t=this._attemptJsonFix(a);if(!t)throw new Error(`Invalid JSON in shortcode: ${e instanceof Error?e.message:"Unknown error"}`);n=JSON.parse(t)}if(!this._isValidExportData(n))throw new Error("Invalid export data structure");return n.data=this._regenerateIds(n.data,n.type),n}catch(e){return console.error("Failed to import from shortcode:",e),null}}async importFromClipboard(){try{if(navigator.clipboard&&navigator.clipboard.readText){const e=await navigator.clipboard.readText();return e&&0!==e.trim().length?this.importFromShortcode(e):(console.warn("Clipboard is empty"),null)}{const e=prompt("Paste your Ultra Card shortcode here:");return e&&0!==e.trim().length?this.importFromShortcode(e):null}}catch(e){console.error("Failed to read from clipboard:",e);try{const e=prompt("Clipboard access failed. Please paste your Ultra Card shortcode here:");return e&&0!==e.trim().length?this.importFromShortcode(e):null}catch(e){return console.error("Fallback paste also failed:",e),null}}}async exportToFile(e,t,i){const n=a.scanAndSanitize(e);if(!await a.showPrivacyDialog(n))throw new Error("Export cancelled by user");const r={type:t,version:o.x,data:n.sanitizedData,metadata:{exported:(new Date).toISOString(),name:i,privacyProtected:n.found.length>0}},s=JSON.stringify(r,null,2),l=new Blob([s],{type:"application/json"}),d=URL.createObjectURL(l),c=document.createElement("a");c.href=d,c.download=`${i.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ultracard`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(d)}async importFromFile(e){try{const t=await e.text(),i=JSON.parse(t);if(!this._isValidExportData(i))throw new Error("Invalid file format");return i.data=this._regenerateIds(i.data,i.type),i}catch(e){return console.error("Failed to import from file:",e),null}}_generateShortcode(e){const t=JSON.stringify(e);return`[ultra_card]${btoa(t)}[/ultra_card]`}async _copyToClipboard(e){try{await navigator.clipboard.writeText(e)}catch(t){const i=document.createElement("textarea");i.value=e,i.style.position="fixed",i.style.left="-999999px",i.style.top="-999999px",document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i)}}_isValidExportData(e){return e&&"string"==typeof e.type&&["ultra-card-row","ultra-card-layout","ultra-card-module"].includes(e.type)&&"string"==typeof e.version&&e.data&&e.metadata&&"string"==typeof e.metadata.exported}_attemptJsonFix(e){try{let t=e.replace(/,\s*([}\]])/g,"$1");t=t.replace(/[^}\]]*$/,"");const i=t.lastIndexOf("}"),o=t.lastIndexOf("]"),a=Math.max(i,o);return a>0&&(t=t.substring(0,a+1)),JSON.parse(t),t}catch(e){return null}}_regenerateIds(e,t){const i=JSON.parse(JSON.stringify(e));switch(t){case"ultra-card-row":return this._regenerateRowIds(i);case"ultra-card-layout":return this._regenerateLayoutIds(i);case"ultra-card-module":return this._regenerateModuleIds(i);default:return i}}_regenerateRowIds(e){return e.id=`row-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,e.columns=e.columns.map(((e,t)=>Object.assign(Object.assign({},e),{id:`col-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`,modules:e.modules.map(((e,t)=>Object.assign(Object.assign({},e),{id:`${e.type}-${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`})))}))),e}_regenerateLayoutIds(e){return e.rows=e.rows.map((e=>this._regenerateRowIds(e))),e}_regenerateModuleIds(e){return e.id=`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,e}}},9662:(e,t,i)=>{i.d(t,{A:()=>r});var o=i(5183),a=i(456),n=i(5575);i(6768);class r{static triggerPreviewUpdate(){const e=new CustomEvent("ultra-card-template-update",{bubbles:!0,composed:!0});window.dispatchEvent(e)}static render(e,t,i,n){var r;if(!("tap_action"in e)||!("hold_action"in e)||!("double_tap_action"in e)){const t={};"tap_action"in e||(t.tap_action={action:"default"}),"hold_action"in e||(t.hold_action={action:"default"}),"double_tap_action"in e||(t.double_tap_action={action:"default"}),Object.keys(t).length&&i(t)}const s={tap_action:e.tap_action||{action:"default"},hold_action:e.hold_action||{action:"default"},double_tap_action:e.double_tap_action||{action:"default"}},l=(e.id,JSON.stringify(s).replace(/[^a-zA-Z0-9]/g,""),(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en"),d=n||(0,a.kg)("editor.actions.title",l,"Actions Configuration");return o.qy`
      <div class="global-actions-tab">
        <style>
          .global-actions-tab {
            padding: 0px;
          }

          .actions-section {
            background: var(--secondary-background-color);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
          }

          .section-header {
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);
          }

          .section-header h4 {
            margin: 0;
            color: var(--primary-text-color);
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          .section-header p {
            margin: 6px 0 0 0;
            color: var(--secondary-text-color);
            font-size: 13px;
            line-height: 1.4;
          }

          .action-form {
            margin-bottom: 20px;
          }

          .action-description {
            color: var(--secondary-text-color);
            font-size: 13px;
            margin-bottom: 16px;
            line-height: 1.4;
            font-style: italic;
          }

          /* Allow native HA form styling to show through */
          .global-actions-tab ha-form {
            display: block;
            margin: 0;
            padding: 0;
          }

          /* Style native expansion panels if they appear */
          .global-actions-tab ha-expansion-panel {
            margin-bottom: 8px;
          }

          /* Style the action selectors */
          ha-form .mdc-text-field,
          ha-form .mdc-select,
          ha-form ha-selector {
            margin-top: 0 !important;
          }

          ha-form .mdc-text-field--outlined .mdc-notched-outline {
            border-radius: 6px;
          }

          /* Hide any blank list items generated by selector internals */
          .global-actions-tab ha-select ha-list-item:not([value]),
          .global-actions-tab ha-select ha-list-item[value=''],
          .global-actions-tab ha-select ha-list-item[aria-label=''],
          .global-actions-tab ha-select .mdc-deprecated-list-item:not([data-value]),
          .global-actions-tab ha-select .mdc-deprecated-list-item[data-value=''],
          .global-actions-tab ha-select .mdc-list-item:not([data-value]),
          .global-actions-tab ha-select .mdc-list-item[data-value=''] {
            display: none !important;
          }

          /* Hide unwanted action options */
          .global-actions-tab ha-form mwc-list-item[value='toggle'],
          .global-actions-tab
            ha-form
            mwc-list-item[graphic='icon']:has(ha-icon[icon='mdi:gesture-tap']),
          .global-actions-tab ha-form .mdc-deprecated-list-item[data-value='toggle'],
          .global-actions-tab ha-form .mdc-list-item[data-value='toggle'],
          .global-actions-tab ha-form option[value='toggle'] {
            display: none !important;
          }

          /* Hide "Default ()" option - target by text content */
          .global-actions-tab ha-form mwc-list-item:has-text('Default ()'),
          .global-actions-tab ha-form .mdc-deprecated-list-item:has-text('Default ()'),
          .global-actions-tab ha-form .mdc-list-item:has-text('Default ()'),
          .global-actions-tab ha-form option:has-text('Default ()') {
            display: none !important;
          }

          /* Alternative approach using CSS attribute selectors for text content */
          .global-actions-tab ha-form mwc-list-item[textContent*='Default ()'],
          .global-actions-tab ha-form .mdc-deprecated-list-item[textContent*='Default ()'],
          .global-actions-tab ha-form .mdc-list-item[textContent*='Default ()'] {
            display: none !important;
          }

          /* Style the ha-select dropdown */
          ha-select {
            width: 100%;
            display: block;
            --mdc-theme-surface: var(--card-background-color);
            --mdc-theme-primary: var(--primary-color);
            --mdc-select-fill-color: var(--input-fill-color, transparent);
            --mdc-select-outlined-idle-border-color: var(--input-idle-line-color);
            --mdc-select-outlined-hover-border-color: var(--input-hover-line-color);
            --mdc-select-dropdown-icon-color: var(--secondary-text-color);
            --mdc-select-label-ink-color: var(--secondary-text-color);
            --mdc-select-ink-color: var(--primary-text-color);
          }
        </style>

        <div class="actions-section">
          <div class="section-header">
            <h4>
              <ha-icon icon="mdi:gesture-tap"></ha-icon>
              ${d}
            </h4>
            <p>
              ${(0,a.kg)("editor.actions.description",l,"Configure how this module responds to user interactions. Uses Home Assistant's native action system for consistent behavior across your dashboard.")}
            </p>
          </div>

          ${this.renderActionConfig((0,a.kg)("editor.actions.tap_action",l,"Tap Action"),(0,a.kg)("editor.actions.tap_action_desc",l,"Action performed when tapping/clicking the module"),s.tap_action,t,(e=>i({tap_action:e})))}
          ${this.renderActionConfig((0,a.kg)("editor.actions.hold_action",l,"Hold Action"),(0,a.kg)("editor.actions.hold_action_desc",l,"Action performed when holding down on the module"),s.hold_action,t,(e=>i({hold_action:e})))}
          ${this.renderActionConfig((0,a.kg)("editor.actions.double_tap_action",l,"Double Tap Action"),(0,a.kg)("editor.actions.double_tap_action_desc",l,"Action performed when double-tapping the module"),s.double_tap_action,t,(e=>i({double_tap_action:e})))}
        </div>

        <!-- Hover Effects Section -->
        ${this.renderHoverEffectsSection(e,t,i)}
      </div>
    `}static getClickableClass(e){return(null==e?void 0:e.tap_action)&&"nothing"!==e.tap_action.action||(null==e?void 0:e.hold_action)&&"nothing"!==e.hold_action.action||(null==e?void 0:e.double_tap_action)&&"nothing"!==e.double_tap_action.action?"graphs-module-clickable":""}static getClickableStyle(e){return""}static getHoverStyles(){return""}static renderActionConfig(e,t,i,a,n){const r="nothing"===(null==i?void 0:i.action)?Object.assign(Object.assign({},i),{action:"default"}):i;try{a.services}catch(e){}return o.qy`
      <div class="action-form">
        <div class="action-description">${t}</div>

        <div style="margin-bottom: 12px;">
          <div
            style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--primary-text-color);"
          >
            ${e}
          </div>
          <ha-form
            .key=${`form_${JSON.stringify(r).replace(/[^a-zA-Z0-9]/g,"")}`}
            .hass=${a}
            .data=${{action_config:r}}
            .schema=${[{name:"action_config",label:"",selector:{ui_action:{actions:["more-info","toggle","navigate","url","perform-action","assist"]}}}]}
            .computeLabel=${this.computeLabel}
            @value-changed=${e=>{var t,i;const o=null===(i=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===i?void 0:i.action_config;o&&n(o)}}
          ></ha-form>
        </div>

        ${"more-info"===(null==i?void 0:i.action)?o.qy`
              <div
                class="conditional-fields-group"
                style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
              >
                <div
                  class="conditional-fields-header"
                  style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                >
                  More Info Configuration
                </div>
                <div class="conditional-fields-content" style="padding: 16px;">
                  <div
                    class="field-title"
                    style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                  >
                    Entity
                  </div>
                  <div
                    class="field-description"
                    style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
                  >
                    Select which entity to show more information for
                  </div>
                  <ha-form
                    .key=${`entity_${i.entity||"none"}_${Date.now()}`}
                    .hass=${a}
                    .data=${{entity:i.entity||""}}
                    .schema=${[{name:"entity",label:"Entity",selector:{entity:{}}}]}
                    .computeLabel=${this.computeLabel}
                    @value-changed=${e=>{var t,o;const a=null===(o=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===o?void 0:o.entity;n(Object.assign(Object.assign({},i),{entity:a}))}}
                  ></ha-form>
                </div>
              </div>
            `:""}
      </div>
    `}static renderHoverEffectsSection(e,t,i){var r;const s=e.design||{},l=s.hover_effect||{effect:"none"},d=e=>{const t=Object.assign(Object.assign({},l),e);if(Object.keys(t).forEach((e=>{const i=t[e];""!==i&&null!=i||delete t[e]})),"none"===t.effect){const e=Object.assign({},s);delete e.hover_effect,i({design:e})}else{const e=Object.assign(Object.assign({},s),{hover_effect:t});i({design:e})}},c=(null===(r=null==t?void 0:t.locale)||void 0===r?void 0:r.language)||"en",p=[{value:"none",label:(0,a.kg)("editor.hover_effects.effects.none",c,"None")},{value:"highlight",label:(0,a.kg)("editor.hover_effects.effects.highlight",c,"Highlight")},{value:"outline",label:(0,a.kg)("editor.hover_effects.effects.outline",c,"Outline")},{value:"grow",label:(0,a.kg)("editor.hover_effects.effects.grow",c,"Grow")},{value:"shrink",label:(0,a.kg)("editor.hover_effects.effects.shrink",c,"Shrink")},{value:"pulse",label:(0,a.kg)("editor.hover_effects.effects.pulse",c,"Pulse")},{value:"bounce",label:(0,a.kg)("editor.hover_effects.effects.bounce",c,"Bounce")},{value:"float",label:(0,a.kg)("editor.hover_effects.effects.float",c,"Float")},{value:"glow",label:(0,a.kg)("editor.hover_effects.effects.glow",c,"Glow")},{value:"shadow",label:(0,a.kg)("editor.hover_effects.effects.shadow",c,"Shadow")},{value:"rotate",label:(0,a.kg)("editor.hover_effects.effects.rotate",c,"Rotate")},{value:"skew",label:(0,a.kg)("editor.hover_effects.effects.skew",c,"Skew")},{value:"wobble",label:(0,a.kg)("editor.hover_effects.effects.wobble",c,"Wobble")},{value:"buzz",label:(0,a.kg)("editor.hover_effects.effects.buzz",c,"Buzz")},{value:"fade",label:(0,a.kg)("editor.hover_effects.effects.fade",c,"Fade")}];return o.qy`
      <div class="actions-section" style="margin-top: 20px;">
        <div class="section-header">
          <h4>
            <ha-icon icon="mdi:cursor-default-gesture"></ha-icon>
            ${(0,a.kg)("editor.hover_effects.title",c,"Hover Effects")}
          </h4>
          <p>
            ${(0,a.kg)("editor.hover_effects.description",c,"Configure visual effects that appear when hovering over this module, row, or column.")}
          </p>
        </div>

        <!-- Effect Type Selection -->
        <div class="action-form">
          <div class="field-title" style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">
            ${(0,a.kg)("editor.hover_effects.effect",c,"Hover Effect")}
          </div>
          <div
            class="field-description"
            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px; opacity: 0.8; line-height: 1.4;"
          >
            ${(0,a.kg)("editor.hover_effects.effect_desc",c,"Select the visual effect to apply when hovering")}
          </div>
          ${n.U.renderForm(t,{effect:l.effect||"none"},[n.U.select("effect",p)],(e=>{const t=e.detail.value.effect;t!==(l.effect||"none")&&(d({effect:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
        </div>

        ${l.effect&&"none"!==l.effect?o.qy`
              <!-- Timing and Duration Settings -->
              <div
                class="conditional-fields-group"
                style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
              >
                <div
                  class="conditional-fields-header"
                  style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                >
                  ${(0,a.kg)("editor.hover_effects.animation_settings",c,"Animation Settings")}
                </div>
                <div class="conditional-fields-content" style="padding: 16px;">
                  <!-- Duration Field -->
                  <div style="margin-bottom: 16px;">
                    <div
                      class="field-title"
                      style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                    >
                      ${(0,a.kg)("editor.hover_effects.duration",c,"Duration (ms)")}
                    </div>
                    ${n.U.renderForm(t,{duration:l.duration||300},[n.U.number("duration",100,2e3,50)],(e=>{const t=e.detail.value.duration;t!==(l.duration||300)&&(d({duration:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                  </div>

                  <!-- Timing Function Field -->
                  <div style="margin-bottom: 16px;">
                    <div
                      class="field-title"
                      style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                    >
                      ${(0,a.kg)("editor.hover_effects.timing",c,"Timing Function")}
                    </div>
                    ${n.U.renderForm(t,{timing:l.timing||"ease"},[n.U.select("timing",[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"}])],(e=>{const t=e.detail.value.timing;t!==(l.timing||"ease")&&(d({timing:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                  </div>

                  <!-- Intensity Field -->
                  <div style="margin-bottom: 16px;">
                    <div
                      class="field-title"
                      style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                    >
                      ${(0,a.kg)("editor.hover_effects.intensity",c,"Intensity")}
                    </div>
                    ${n.U.renderForm(t,{intensity:l.intensity||"normal"},[n.U.select("intensity",[{value:"subtle",label:"Subtle"},{value:"normal",label:"Normal"},{value:"strong",label:"Strong"}])],(e=>{const t=e.detail.value.intensity;t!==(l.intensity||"normal")&&(d({intensity:t}),setTimeout((()=>{this.triggerPreviewUpdate()}),50))}),!1)}
                  </div>
                </div>
              </div>

              <!-- Color Settings for Specific Effects -->
              ${"highlight"===l.effect?o.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,a.kg)("editor.hover_effects.highlight_settings",c,"Highlight Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.highlight_color",c,"Highlight Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.highlight_color_desc",c,"Background color to show when hovering")}
                          </div>
                          <ultra-color-picker
                            .value=${l.highlight_color||""}
                            .defaultValue=${"rgba(var(--rgb-primary-color), 0.2)"}
                            .hass=${t}
                            @value-changed=${e=>d({highlight_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      </div>
                    </div>
                  `:""}
              ${"outline"===l.effect?o.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,a.kg)("editor.hover_effects.outline_settings",c,"Outline Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.outline_color",c,"Outline Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.outline_color_desc",c,"Color of the outline border")}
                          </div>
                          <ultra-color-picker
                            .value=${l.outline_color||""}
                            .defaultValue=${"var(--primary-color)"}
                            .hass=${t}
                            @value-changed=${e=>d({outline_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                        <ha-form
                          .hass=${t}
                          .data=${{outline_width:l.outline_width||2}}
                          .schema=${[{name:"outline_width",label:(0,a.kg)("editor.hover_effects.outline_width",c,"Outline Width (px)"),selector:{number:{min:1,max:10,step:1}}}]}
                          .computeLabel=${this.computeLabel}
                          @value-changed=${e=>{var t,i;const o=null===(i=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===i?void 0:i.outline_width;o&&d({outline_width:o})}}
                        ></ha-form>
                      </div>
                    </div>
                  `:""}
              ${"glow"===l.effect?o.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,a.kg)("editor.hover_effects.glow_settings",c,"Glow Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.glow_color",c,"Glow Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.glow_color_desc",c,"Color of the glow effect")}
                          </div>
                          <ultra-color-picker
                            .value=${l.glow_color||""}
                            .defaultValue=${"var(--primary-color)"}
                            .hass=${t}
                            @value-changed=${e=>d({glow_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      </div>
                    </div>
                  `:""}
              ${"shadow"===l.effect?o.qy`
                    <div
                      class="conditional-fields-group"
                      style="margin-top: 16px; border-left: 4px solid var(--primary-color); background: rgba(var(--rgb-primary-color), 0.08); border-radius: 0 8px 8px 0; overflow: hidden;"
                    >
                      <div
                        class="conditional-fields-header"
                        style="background: rgba(var(--rgb-primary-color), 0.15); padding: 12px 16px; font-size: 14px; font-weight: 600; color: var(--primary-color); border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2); text-transform: uppercase; letter-spacing: 0.5px;"
                      >
                        ${(0,a.kg)("editor.hover_effects.shadow_settings",c,"Shadow Settings")}
                      </div>
                      <div class="conditional-fields-content" style="padding: 16px;">
                        <div class="field-container" style="margin-bottom: 16px;">
                          <div
                            class="field-title"
                            style="font-size: 16px; font-weight: 600; margin-bottom: 4px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.shadow_color",c,"Shadow Color")}
                          </div>
                          <div
                            class="field-description"
                            style="font-size: 13px; color: var(--secondary-text-color); margin-bottom: 12px;"
                          >
                            ${(0,a.kg)("editor.hover_effects.shadow_color_desc",c,"Color of the shadow effect")}
                          </div>
                          <ultra-color-picker
                            .value=${l.shadow_color||""}
                            .defaultValue=${"rgba(0, 0, 0, 0.3)"}
                            .hass=${t}
                            @value-changed=${e=>d({shadow_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>
                      </div>
                    </div>
                  `:""}
            `:""}
      </div>
    `}}r.computeLabel=e=>{var t;return Object.prototype.hasOwnProperty.call(e,"label")&&null!==(t=e.label)&&void 0!==t?t:""}},9811:(e,t,i)=>{i.r(t),i.d(t,{DEFAULT_DOMAIN_ICON:()=>W,DEFAULT_PANEL:()=>Z,DEFAULT_VIEW_ENTITY_ID:()=>se,DOMAINS_HIDE_MORE_INFO:()=>te,DOMAINS_MORE_INFO_NO_HISTORY:()=>ie,DOMAINS_TOGGLE:()=>ae,DOMAINS_WITH_CARD:()=>X,DOMAINS_WITH_MORE_INFO:()=>ee,NumberFormat:()=>o,STATES_OFF:()=>oe,TimeFormat:()=>a,UNIT_C:()=>ne,UNIT_F:()=>re,applyThemesOnElement:()=>R,computeCardSize:()=>U,computeDomain:()=>M,computeEntity:()=>H,computeRTL:()=>N,computeRTLDirection:()=>L,computeStateDisplay:()=>Y,computeStateDomain:()=>F,createThing:()=>pe,debounce:()=>ue,domainIcon:()=>me,evaluateFilter:()=>he,fireEvent:()=>le,fixedIcons:()=>ge,formatDate:()=>c,formatDateMonth:()=>f,formatDateMonthYear:()=>_,formatDateNumeric:()=>u,formatDateShort:()=>m,formatDateTime:()=>w,formatDateTimeNumeric:()=>z,formatDateTimeWithSeconds:()=>A,formatDateWeekday:()=>l,formatDateYear:()=>y,formatNumber:()=>Q,formatTime:()=>I,formatTimeWeekday:()=>j,formatTimeWithSeconds:()=>$,forwardHaptic:()=>_e,getLovelace:()=>ze,handleAction:()=>ke,handleActionConfig:()=>ye,handleClick:()=>xe,hasAction:()=>we,hasConfigOrEntityChanged:()=>Se,hasDoubleClick:()=>Ae,isNumericState:()=>K,navigate:()=>ve,numberFormatToLocale:()=>V,relativeTime:()=>D,round:()=>q,stateIcon:()=>Ee,timerTimeRemaining:()=>O,toggleEntity:()=>be,turnOnOffEntities:()=>Ce,turnOnOffEntity:()=>fe});var o,a,n,r=function(){return r=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},s={second:45,minute:45,hour:22,day:5},l=function(e,t){return d(t).format(e)},d=function(e){return new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric"})},c=function(e,t){return p(t).format(e)},p=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric"})},u=function(e,t){return g(t).format(e)},g=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"numeric",day:"numeric"})},m=function(e,t){return h(t).format(e)},h=function(e){return new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short"})},_=function(e,t){return v(t).format(e)},v=function(e){return new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric"})},f=function(e,t){return b(t).format(e)},b=function(e){return new Intl.DateTimeFormat(e.language,{month:"long"})},y=function(e,t){return k(t).format(e)},k=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric"})};(n=o||(o={})).language="language",n.system="system",n.comma_decimal="comma_decimal",n.decimal_comma="decimal_comma",n.space_comma="space_comma",n.none="none",function(e){e.language="language",e.system="system",e.am_pm="12",e.twenty_four="24"}(a||(a={}));var x=function(e){if(e.time_format===a.language||e.time_format===a.system){var t=e.time_format===a.language?e.language:void 0,i=(new Date).toLocaleString(t);return i.includes("AM")||i.includes("PM")}return e.time_format===a.am_pm},w=function(e,t){return S(t).format(e)},S=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:x(e)?"numeric":"2-digit",minute:"2-digit",hour12:x(e)})},A=function(e,t){return C(t).format(e)},C=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:x(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:x(e)})},z=function(e,t){return T(t).format(e)},T=function(e){return new Intl.DateTimeFormat(e.language,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:x(e)})},I=function(e,t){return E(t).format(e)},E=function(e){return new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hour12:x(e)})},$=function(e,t){return P(t).format(e)},P=function(e){return new Intl.DateTimeFormat(e.language,{hour:x(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:x(e)})},j=function(e,t){return B(t).format(e)},B=function(e){return new Intl.DateTimeFormat(e.language,{hour:x(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hour12:x(e)})},D=function(e,t,i,o){void 0===o&&(o=!0);var a=function(e,t,i){void 0===t&&(t=Date.now()),void 0===i&&(i={});var o=r(r({},s),i||{}),a=(+e-+t)/1e3;if(Math.abs(a)<o.second)return{value:Math.round(a),unit:"second"};var n=a/60;if(Math.abs(n)<o.minute)return{value:Math.round(n),unit:"minute"};var l=a/3600;if(Math.abs(l)<o.hour)return{value:Math.round(l),unit:"hour"};var d=a/86400;if(Math.abs(d)<o.day)return{value:Math.round(d),unit:"day"};var c=new Date(e),p=new Date(t),u=c.getFullYear()-p.getFullYear();if(Math.round(Math.abs(u))>0)return{value:Math.round(u),unit:"year"};var g=12*u+c.getMonth()-p.getMonth();if(Math.round(Math.abs(g))>0)return{value:Math.round(g),unit:"month"};var m=a/604800;return{value:Math.round(m),unit:"week"}}(e,i);return o?function(e){return new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})}(t).format(a.value,a.unit):Intl.NumberFormat(t.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};function O(e){var t,i=3600*(t=e.attributes.remaining.split(":").map(Number))[0]+60*t[1]+t[2];if("active"===e.state){var o=(new Date).getTime(),a=new Date(e.last_changed).getTime();i=Math.max(i-(o-a)/1e3,0)}return i}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}var R=function(e,t,i,o){void 0===o&&(o=!1),e._themes||(e._themes={});var a=t.default_theme;("default"===i||i&&t.themes[i])&&(a=i);var n=J({},e._themes);if("default"!==a){var r=t.themes[a];Object.keys(r).forEach((function(t){var i="--"+t;e._themes[i]="",n[i]=r[t]}))}if(e.updateStyles?e.updateStyles(n):window.ShadyCSS&&window.ShadyCSS.styleSubtree(e,n),o){var s=document.querySelector("meta[name=theme-color]");if(s){s.hasAttribute("default-content")||s.setAttribute("default-content",s.getAttribute("content"));var l=n["--primary-color"]||s.getAttribute("default-content");s.setAttribute("content",l)}}},U=function(e){return"function"==typeof e.getCardSize?e.getCardSize():4};function M(e){return e.substr(0,e.indexOf("."))}function H(e){return e.substr(e.indexOf(".")+1)}function N(e){var t,i=(null==e||null==(t=e.locale)?void 0:t.language)||"en";return e.translationMetadata.translations[i]&&e.translationMetadata.translations[i].isRTL||!1}function L(e){return N(e)?"rtl":"ltr"}function F(e){return M(e.entity_id)}var K=function(e){return!!e.attributes.unit_of_measurement||!!e.attributes.state_class},V=function(e){switch(e.number_format){case o.comma_decimal:return["en-US","en"];case o.decimal_comma:return["de","es","it"];case o.space_comma:return["fr","sv","cs"];case o.system:return;default:return e.language}},q=function(e,t){return void 0===t&&(t=2),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},Q=function(e,t,i){var a=t?V(t):void 0;if(Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)!==o.none&&!Number.isNaN(Number(e))&&Intl)try{return new Intl.NumberFormat(a,G(e,i)).format(Number(e))}catch(t){return console.error(t),new Intl.NumberFormat(void 0,G(e,i)).format(Number(e))}return"string"==typeof e?e:q(e,null==i?void 0:i.maximumFractionDigits).toString()+("currency"===(null==i?void 0:i.style)?" "+i.currency:"")},G=function(e,t){var i=J({maximumFractionDigits:2},t);if("string"!=typeof e)return i;if(!t||!t.minimumFractionDigits&&!t.maximumFractionDigits){var o=e.indexOf(".")>-1?e.split(".")[1].length:0;i.minimumFractionDigits=o,i.maximumFractionDigits=o}return i},Y=function(e,t,i,o){var a=void 0!==o?o:t.state;if("unknown"===a||"unavailable"===a)return e("state.default."+a);if(K(t)){if("monetary"===t.attributes.device_class)try{return Q(a,i,{style:"currency",currency:t.attributes.unit_of_measurement})}catch(e){}return Q(a,i)+(t.attributes.unit_of_measurement?" "+t.attributes.unit_of_measurement:"")}var n=F(t);if("input_datetime"===n){var r;if(void 0===o)return t.attributes.has_date&&t.attributes.has_time?(r=new Date(t.attributes.year,t.attributes.month-1,t.attributes.day,t.attributes.hour,t.attributes.minute),w(r,i)):t.attributes.has_date?(r=new Date(t.attributes.year,t.attributes.month-1,t.attributes.day),c(r,i)):t.attributes.has_time?((r=new Date).setHours(t.attributes.hour,t.attributes.minute),I(r,i)):t.state;try{var s=o.split(" ");if(2===s.length)return w(new Date(s.join("T")),i);if(1===s.length){if(o.includes("-"))return c(new Date(o+"T00:00"),i);if(o.includes(":")){var l=new Date;return I(new Date(l.toISOString().split("T")[0]+"T"+o),i)}}return o}catch(e){return o}}return"humidifier"===n&&"on"===a&&t.attributes.humidity?t.attributes.humidity+" %":"counter"===n||"number"===n||"input_number"===n?Q(a,i):t.attributes.device_class&&e("component."+n+".state."+t.attributes.device_class+"."+a)||e("component."+n+".state._."+a)||a},W="mdi:bookmark",Z="lovelace",X=["climate","cover","configurator","input_select","input_number","input_text","lock","media_player","scene","script","timer","vacuum","water_heater","weblink"],ee=["alarm_control_panel","automation","camera","climate","configurator","cover","fan","group","history_graph","input_datetime","light","lock","media_player","script","sun","updater","vacuum","water_heater","weather"],te=["input_number","input_select","input_text","scene","weblink"],ie=["camera","configurator","history_graph","scene"],oe=["closed","locked","off"],ae=new Set(["fan","input_boolean","light","switch","group","automation"]),ne="C",re="F",se="group.default_view",le=function(e,t,i,o){o=o||{},i=null==i?{}:i;var a=new Event(t,{bubbles:void 0===o.bubbles||o.bubbles,cancelable:Boolean(o.cancelable),composed:void 0===o.composed||o.composed});return a.detail=i,e.dispatchEvent(a),a},de=new Set(["call-service","divider","section","weblink","cast","select"]),ce={alert:"toggle",automation:"toggle",climate:"climate",cover:"cover",fan:"toggle",group:"group",input_boolean:"toggle",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",remote:"toggle",scene:"scene",script:"script",sensor:"sensor",timer:"timer",switch:"toggle",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime"},pe=function(e,t){void 0===t&&(t=!1);var i=function(e,t){return o("hui-error-card",{type:"error",error:e,config:t})},o=function(e,t){var o=window.document.createElement(e);try{if(!o.setConfig)return;o.setConfig(t)}catch(o){return console.error(e,o),i(o.message,t)}return o};if(!e||"object"!=typeof e||!t&&!e.type)return i("No type defined",e);var a=e.type;if(a&&a.startsWith("custom:"))a=a.substr(7);else if(t)if(de.has(a))a="hui-"+a+"-row";else{if(!e.entity)return i("Invalid config given.",e);var n=e.entity.split(".",1)[0];a="hui-"+(ce[n]||"text")+"-entity-row"}else a="hui-"+a+"-card";if(customElements.get(a))return o(a,e);var r=i("Custom element doesn't exist: "+e.type+".",e);r.style.display="None";var s=setTimeout((function(){r.style.display=""}),2e3);return customElements.whenDefined(e.type).then((function(){clearTimeout(s),le(r,"ll-rebuild",{},r)})),r},ue=function(e,t,i){var o;return void 0===i&&(i=!1),function(){var a=[].slice.call(arguments),n=this,r=i&&!o;clearTimeout(o),o=setTimeout((function(){o=null,i||e.apply(n,a)}),t),r&&e.apply(n,a)}},ge={alert:"mdi:alert",automation:"mdi:playlist-play",calendar:"mdi:calendar",camera:"mdi:video",climate:"mdi:thermostat",configurator:"mdi:settings",conversation:"mdi:text-to-speech",device_tracker:"mdi:account",fan:"mdi:fan",group:"mdi:google-circles-communities",history_graph:"mdi:chart-line",homeassistant:"mdi:home-assistant",homekit:"mdi:home-automation",image_processing:"mdi:image-filter-frames",input_boolean:"mdi:drawing",input_datetime:"mdi:calendar-clock",input_number:"mdi:ray-vertex",input_select:"mdi:format-list-bulleted",input_text:"mdi:textbox",light:"mdi:lightbulb",mailbox:"mdi:mailbox",notify:"mdi:comment-alert",person:"mdi:account",plant:"mdi:flower",proximity:"mdi:apple-safari",remote:"mdi:remote",scene:"mdi:google-pages",script:"mdi:file-document",sensor:"mdi:eye",simple_alarm:"mdi:bell",sun:"mdi:white-balance-sunny",switch:"mdi:flash",timer:"mdi:timer",updater:"mdi:cloud-upload",vacuum:"mdi:robot-vacuum",water_heater:"mdi:thermometer",weblink:"mdi:open-in-new"};function me(e,t){if(e in ge)return ge[e];switch(e){case"alarm_control_panel":switch(t){case"armed_home":return"mdi:bell-plus";case"armed_night":return"mdi:bell-sleep";case"disarmed":return"mdi:bell-outline";case"triggered":return"mdi:bell-ring";default:return"mdi:bell"}case"binary_sensor":return t&&"off"===t?"mdi:radiobox-blank":"mdi:checkbox-marked-circle";case"cover":return"closed"===t?"mdi:window-closed":"mdi:window-open";case"lock":return t&&"unlocked"===t?"mdi:lock-open":"mdi:lock";case"media_player":return t&&"off"!==t&&"idle"!==t?"mdi:cast-connected":"mdi:cast";case"zwave":switch(t){case"dead":return"mdi:emoticon-dead";case"sleeping":return"mdi:sleep";case"initializing":return"mdi:timer-sand";default:return"mdi:z-wave"}default:return console.warn("Unable to find icon for domain "+e+" ("+t+")"),"mdi:bookmark"}}var he=function(e,t){var i=t.value||t,o=t.attribute?e.attributes[t.attribute]:e.state;switch(t.operator||"=="){case"==":return o===i;case"<=":return o<=i;case"<":return o<i;case">=":return o>=i;case">":return o>i;case"!=":return o!==i;case"regex":return o.match(i);default:return!1}},_e=function(e){le(window,"haptic",e)},ve=function(e,t,i){void 0===i&&(i=!1),i?history.replaceState(null,"",t):history.pushState(null,"",t),le(window,"location-changed",{replace:i})},fe=function(e,t,i){void 0===i&&(i=!0);var o,a=M(t),n="group"===a?"homeassistant":a;switch(a){case"lock":o=i?"unlock":"lock";break;case"cover":o=i?"open_cover":"close_cover";break;default:o=i?"turn_on":"turn_off"}return e.callService(n,o,{entity_id:t})},be=function(e,t){var i=oe.includes(e.states[t].state);return fe(e,t,i)},ye=function(e,t,i,o){if(o||(o={action:"more-info"}),!o.confirmation||o.confirmation.exemptions&&o.confirmation.exemptions.some((function(e){return e.user===t.user.id}))||(_e("warning"),confirm(o.confirmation.text||"Are you sure you want to "+o.action+"?")))switch(o.action){case"more-info":(i.entity||i.camera_image)&&le(e,"hass-more-info",{entityId:i.entity?i.entity:i.camera_image});break;case"navigate":o.navigation_path&&ve(0,o.navigation_path);break;case"url":o.url_path&&window.open(o.url_path);break;case"toggle":i.entity&&(be(t,i.entity),_e("success"));break;case"call-service":if(!o.service)return void _e("failure");var a=o.service.split(".",2);t.callService(a[0],a[1],o.service_data,o.target),_e("success");break;case"fire-dom-event":le(e,"ll-custom",o)}},ke=function(e,t,i,o){var a;"double_tap"===o&&i.double_tap_action?a=i.double_tap_action:"hold"===o&&i.hold_action?a=i.hold_action:"tap"===o&&i.tap_action&&(a=i.tap_action),ye(e,t,i,a)},xe=function(e,t,i,o,a){var n;if(a&&i.double_tap_action?n=i.double_tap_action:o&&i.hold_action?n=i.hold_action:!o&&i.tap_action&&(n=i.tap_action),n||(n={action:"more-info"}),!n.confirmation||n.confirmation.exemptions&&n.confirmation.exemptions.some((function(e){return e.user===t.user.id}))||confirm(n.confirmation.text||"Are you sure you want to "+n.action+"?"))switch(n.action){case"more-info":(n.entity||i.entity||i.camera_image)&&(le(e,"hass-more-info",{entityId:n.entity?n.entity:i.entity?i.entity:i.camera_image}),n.haptic&&_e(n.haptic));break;case"navigate":n.navigation_path&&(ve(0,n.navigation_path),n.haptic&&_e(n.haptic));break;case"url":n.url_path&&window.open(n.url_path),n.haptic&&_e(n.haptic);break;case"toggle":i.entity&&(be(t,i.entity),n.haptic&&_e(n.haptic));break;case"call-service":if(!n.service)return;var r=n.service.split(".",2),s=r[0],l=r[1],d=J({},n.service_data);"entity"===d.entity_id&&(d.entity_id=i.entity),t.callService(s,l,d,n.target),n.haptic&&_e(n.haptic);break;case"fire-dom-event":le(e,"ll-custom",n),n.haptic&&_e(n.haptic)}};function we(e){return void 0!==e&&"none"!==e.action}function Se(e,t,i){if(t.has("config")||i)return!0;if(e.config.entity){var o=t.get("hass");return!o||o.states[e.config.entity]!==e.hass.states[e.config.entity]}return!1}function Ae(e){return void 0!==e&&"none"!==e.action}var Ce=function(e,t,i){void 0===i&&(i=!0);var o={};t.forEach((function(t){if(oe.includes(e.states[t].state)===i){var a=M(t),n=["cover","lock"].includes(a)?a:"homeassistant";n in o||(o[n]=[]),o[n].push(t)}})),Object.keys(o).forEach((function(t){var a;switch(t){case"lock":a=i?"unlock":"lock";break;case"cover":a=i?"open_cover":"close_cover";break;default:a=i?"turn_on":"turn_off"}e.callService(t,a,{entity_id:o[t]})}))},ze=function(){var e=document.querySelector("home-assistant");if(e=(e=(e=(e=(e=(e=(e=(e=e&&e.shadowRoot)&&e.querySelector("home-assistant-main"))&&e.shadowRoot)&&e.querySelector("app-drawer-layout partial-panel-resolver"))&&e.shadowRoot||e)&&e.querySelector("ha-panel-lovelace"))&&e.shadowRoot)&&e.querySelector("hui-root")){var t=e.lovelace;return t.current_view=e.___curView,t}return null},Te={humidity:"mdi:water-percent",illuminance:"mdi:brightness-5",temperature:"mdi:thermometer",pressure:"mdi:gauge",power:"mdi:flash",signal_strength:"mdi:wifi"},Ie={binary_sensor:function(e,t){var i="off"===e;switch(null==t?void 0:t.attributes.device_class){case"battery":return i?"mdi:battery":"mdi:battery-outline";case"battery_charging":return i?"mdi:battery":"mdi:battery-charging";case"cold":return i?"mdi:thermometer":"mdi:snowflake";case"connectivity":return i?"mdi:server-network-off":"mdi:server-network";case"door":return i?"mdi:door-closed":"mdi:door-open";case"garage_door":return i?"mdi:garage":"mdi:garage-open";case"power":case"plug":return i?"mdi:power-plug-off":"mdi:power-plug";case"gas":case"problem":case"safety":case"tamper":return i?"mdi:check-circle":"mdi:alert-circle";case"smoke":return i?"mdi:check-circle":"mdi:smoke";case"heat":return i?"mdi:thermometer":"mdi:fire";case"light":return i?"mdi:brightness-5":"mdi:brightness-7";case"lock":return i?"mdi:lock":"mdi:lock-open";case"moisture":return i?"mdi:water-off":"mdi:water";case"motion":return i?"mdi:walk":"mdi:run";case"occupancy":case"presence":return i?"mdi:home-outline":"mdi:home";case"opening":return i?"mdi:square":"mdi:square-outline";case"running":return i?"mdi:stop":"mdi:play";case"sound":return i?"mdi:music-note-off":"mdi:music-note";case"update":return i?"mdi:package":"mdi:package-up";case"vibration":return i?"mdi:crop-portrait":"mdi:vibrate";case"window":return i?"mdi:window-closed":"mdi:window-open";default:return i?"mdi:radiobox-blank":"mdi:checkbox-marked-circle"}},cover:function(e){var t="closed"!==e.state;switch(e.attributes.device_class){case"garage":return t?"mdi:garage-open":"mdi:garage";case"door":return t?"mdi:door-open":"mdi:door-closed";case"shutter":return t?"mdi:window-shutter-open":"mdi:window-shutter";case"blind":return t?"mdi:blinds-open":"mdi:blinds";case"window":return t?"mdi:window-open":"mdi:window-closed";default:return me("cover",e.state)}},sensor:function(e){var t=e.attributes.device_class;if(t&&t in Te)return Te[t];if("battery"===t){var i=Number(e.state);if(isNaN(i))return"mdi:battery-unknown";var o=10*Math.round(i/10);return o>=100?"mdi:battery":o<=0?"mdi:battery-alert":"hass:battery-"+o}var a=e.attributes.unit_of_measurement;return"C"===a||"F"===a?"mdi:thermometer":me("sensor")},input_datetime:function(e){return e.attributes.has_date?e.attributes.has_time?me("input_datetime"):"mdi:calendar":"mdi:clock"}},Ee=function(e){if(!e)return"mdi:bookmark";if(e.attributes.icon)return e.attributes.icon;var t=M(e.entity_id);return t in Ie?Ie[t](e):me(t,e.state)}},9956:(e,t,i)=>{var o=i(5183),a=i(4276),n=i(9643),r=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let s=class extends o.WF{constructor(){super(...arguments),this.open=!1,this._importText="",this._isProcessing=!1,this._error="",this._previewData=null}render(){return this.open?o.qy`
      <div class="dialog-overlay" @click=${this._handleOverlayClick}>
        <div class="dialog-content" @click=${e=>e.stopPropagation()}>
          <div class="dialog-header">
            <h3>Import Ultra Card Configuration</h3>
            <button class="close-btn" @click=${this._close}>
              <ha-icon icon="mdi:close"></ha-icon>
            </button>
          </div>

          <div class="dialog-body">
            <div class="import-methods">
              <h4>Import Methods</h4>
              <div class="method-buttons">
                <button class="method-btn" @click=${this._importFromClipboard}>
                  <ha-icon icon="mdi:clipboard-text"></ha-icon>
                  <span>From Clipboard</span>
                </button>
                <button class="method-btn" @click=${this._triggerFileInput}>
                  <ha-icon icon="mdi:file-upload"></ha-icon>
                  <span>From File</span>
                </button>
              </div>
            </div>

            <div class="manual-input">
              <label>Or paste shortcode manually:</label>
              <textarea
                .value=${this._importText}
                @input=${this._handleTextInput}
                placeholder="Paste your Ultra Card shortcode here: [ultra_card]...[/ultra_card]"
                rows="6"
              ></textarea>
            </div>

            ${this._error?o.qy`
                  <div class="error-message">
                    <ha-icon icon="mdi:alert-circle"></ha-icon>
                    <span>${this._error}</span>
                  </div>
                `:""}
            ${this._previewData?o.qy`
                  <div class="preview-section">
                    <h4>Preview</h4>
                    <div class="preview-card">
                      <div class="preview-header">
                        <ha-icon icon="${this._getTypeIcon(this._previewData.type)}"></ha-icon>
                        <div class="preview-info">
                          <strong
                            >${this._previewData.metadata.name||"Imported Configuration"}</strong
                          >
                          <small>Type: ${this._formatType(this._previewData.type)}</small>
                          <small>Version: ${this._previewData.version}</small>
                        </div>
                      </div>
                      ${this._previewData.metadata.description?o.qy`
                            <p class="preview-description">
                              ${this._previewData.metadata.description}
                            </p>
                          `:""}
                    </div>
                  </div>
                `:""}
          </div>

          <div class="dialog-footer">
            <button class="cancel-btn" @click=${this._close}>Cancel</button>
            <button
              class="import-btn"
              @click=${this._confirmImport}
              ?disabled=${!this._previewData||this._isProcessing}
            >
              ${this._isProcessing?"Processing...":"Import"}
            </button>
          </div>

          <input
            type="file"
            accept=".ultracard,.json"
            @change=${this._handleFileSelect}
            style="display: none;"
            id="file-input"
          />
        </div>
      </div>
    `:o.qy``}_handleOverlayClick(e){e.target===e.currentTarget&&this._close()}_close(){this.open=!1,this._reset(),this.dispatchEvent(new CustomEvent("close"))}_reset(){this._importText="",this._error="",this._previewData=null,this._isProcessing=!1}_handleTextInput(e){this._importText=e.target.value,this._error="",this._previewData=null,this._importText.trim()&&this._processImportText()}_processImportText(){try{const e=n.D.importFromShortcode(this._importText);e?(this._previewData=e,this._error=""):this._error="Invalid shortcode format. Please check your input."}catch(e){this._error=`Import error: ${e instanceof Error?e.message:"Unknown error"}`,this._previewData=null}}async _importFromClipboard(){this._isProcessing=!0,this._error="";try{const e=await n.D.importFromClipboard();e?(this._previewData=e,this._importText=""):this._error="No valid Ultra Card shortcode found in clipboard."}catch(e){this._error=`Clipboard error: ${e instanceof Error?e.message:"Failed to read clipboard"}`}finally{this._isProcessing=!1}}_triggerFileInput(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("file-input");null==t||t.click()}async _handleFileSelect(e){var t;const i=e.target,o=null===(t=i.files)||void 0===t?void 0:t[0];if(o){this._isProcessing=!0,this._error="";try{const e=await n.D.importFromFile(o);e?(this._previewData=e,this._importText=""):this._error="Invalid file format. Please select a valid Ultra Card export file."}catch(e){this._error=`File import error: ${e instanceof Error?e.message:"Failed to read file"}`}finally{this._isProcessing=!1,i.value=""}}}_confirmImport(){this._previewData&&(this.dispatchEvent(new CustomEvent("import",{detail:this._previewData})),this._close())}_getTypeIcon(e){switch(e){case"ultra-card-row":return"mdi:table-row";case"ultra-card-layout":return"mdi:view-dashboard";case"ultra-card-module":return"mdi:puzzle";default:return"mdi:file-import"}}_formatType(e){switch(e){case"ultra-card-row":return"Row";case"ultra-card-layout":return"Layout";case"ultra-card-module":return"Module";default:return"Unknown"}}};s.styles=o.AH`
    :host {
      display: contents;
    }

    .dialog-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
    }

    .dialog-content {
      background: var(--card-background-color);
      border-radius: 12px;
      width: 100%;
      max-width: 600px;
      max-height: 90vh;
      overflow: auto;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .dialog-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      border-bottom: 1px solid var(--divider-color);
    }

    .dialog-header h3 {
      margin: 0;
      color: var(--primary-text-color);
      font-size: 18px;
      font-weight: 600;
    }

    .close-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: none;
      border: none;
      border-radius: 6px;
      color: var(--secondary-text-color);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .close-btn:hover {
      background: var(--secondary-background-color);
      color: var(--primary-text-color);
    }

    .dialog-body {
      padding: 24px;
    }

    .import-methods {
      margin-bottom: 24px;
    }

    .import-methods h4 {
      margin: 0 0 12px 0;
      color: var(--primary-text-color);
      font-size: 14px;
      font-weight: 600;
    }

    .method-buttons {
      display: flex;
      gap: 12px;
    }

    .method-btn {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 16px 12px;
      background: var(--secondary-background-color);
      border: 1px solid var(--divider-color);
      border-radius: 8px;
      color: var(--secondary-text-color);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .method-btn:hover {
      border-color: var(--primary-color);
      color: var(--primary-color);
    }

    .method-btn ha-icon {
      --mdc-icon-size: 24px;
    }

    .method-btn span {
      font-size: 12px;
      font-weight: 500;
    }

    .manual-input {
      margin-bottom: 20px;
    }

    .manual-input label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--primary-text-color);
      font-size: 14px;
    }

    textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--divider-color);
      border-radius: 6px;
      background: var(--secondary-background-color);
      color: var(--primary-text-color);
      font-size: 13px;
      font-family: 'Courier New', monospace;
      resize: vertical;
      box-sizing: border-box;
      transition: border-color 0.2s ease;
    }

    textarea:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .error-message {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: var(--error-color-10);
      border: 1px solid var(--error-color);
      border-radius: 6px;
      color: var(--error-color);
      font-size: 14px;
      margin-bottom: 20px;
    }

    .error-message ha-icon {
      --mdc-icon-size: 18px;
      flex-shrink: 0;
    }

    .preview-section {
      margin-bottom: 20px;
    }

    .preview-section h4 {
      margin: 0 0 12px 0;
      color: var(--primary-text-color);
      font-size: 14px;
      font-weight: 600;
    }

    .preview-card {
      padding: 16px;
      background: var(--success-color-10);
      border: 1px solid var(--success-color);
      border-radius: 8px;
    }

    .preview-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .preview-header ha-icon {
      --mdc-icon-size: 20px;
      color: var(--success-color);
      flex-shrink: 0;
      margin-top: 2px;
    }

    .preview-info {
      flex: 1;
    }

    .preview-info strong {
      display: block;
      color: var(--primary-text-color);
      font-size: 14px;
      margin-bottom: 4px;
    }

    .preview-info small {
      display: block;
      color: var(--secondary-text-color);
      font-size: 12px;
      margin-bottom: 2px;
    }

    .preview-description {
      margin: 8px 0 0 0;
      padding-top: 8px;
      border-top: 1px solid var(--success-color-20);
      color: var(--secondary-text-color);
      font-size: 13px;
      line-height: 1.4;
    }

    .dialog-footer {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 12px;
      padding: 20px 24px;
      border-top: 1px solid var(--divider-color);
    }

    .cancel-btn,
    .import-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .cancel-btn {
      background: var(--secondary-background-color);
      color: var(--secondary-text-color);
      border: 1px solid var(--divider-color);
    }

    .cancel-btn:hover {
      background: var(--divider-color);
      color: var(--primary-text-color);
    }

    .import-btn {
      background: var(--primary-color);
      color: white;
    }

    .import-btn:hover:not(:disabled) {
      background: var(--primary-color-dark);
    }

    .import-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    @media (max-width: 600px) {
      .dialog-content {
        margin: 0;
        border-radius: 0;
        height: 100vh;
        max-height: none;
      }

      .method-buttons {
        flex-direction: column;
      }

      .dialog-footer {
        flex-direction: column-reverse;
        gap: 8px;
      }

      .cancel-btn,
      .import-btn {
        width: 100%;
      }
    }
  `,r([(0,a.MZ)({type:Boolean})],s.prototype,"open",void 0),r([(0,a.wk)()],s.prototype,"_importText",void 0),r([(0,a.wk)()],s.prototype,"_isProcessing",void 0),r([(0,a.wk)()],s.prototype,"_error",void 0),r([(0,a.wk)()],s.prototype,"_previewData",void 0),s=r([(0,a.EM)("uc-import-dialog")],s)}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e](n,n.exports,a),n.loaded=!0,n.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"==typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"==typeof i.then)return i}var n=Object.create(null);a.r(n);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>i[e]));return r.default=()=>i,a.d(n,r),n},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=a(5183),r=a(4276),s=a(4002),l=a(2381),d=a(1397),c=a(7593);class p{static getInstance(){return p.instance||(p.instance=new p),p.instance}validateAndCorrectConfig(e){const t=[],i=[];let o;try{o=JSON.parse(JSON.stringify(e))}catch(e){return{valid:!1,errors:["Invalid JSON structure"],warnings:[]}}return o.type||(o.type="custom:ultra-card",i.push("Added missing card type")),"custom:ultra-card"!==o.type&&t.push(`Invalid card type: ${o.type}`),o.layout||(o.layout={rows:[]},i.push("Added missing layout structure")),o.layout.rows||(o.layout.rows=[],i.push("Added missing rows array")),o.layout.rows=o.layout.rows.map(((e,o)=>{const a=this.validateAndCorrectRow(e,o);return t.push(...a.errors),i.push(...a.warnings),a.correctedRow})),o.layout.rows=o.layout.rows.filter((e=>null!==e)),{valid:0===t.length,errors:t,warnings:i,correctedConfig:o}}validateAndCorrectRow(e,t){const i=[],o=[];return e.id||(e.id=`row-${Date.now()}-${t}`,o.push(`Row ${t}: Added missing ID`)),e.columns&&Array.isArray(e.columns)||(e.columns=[{id:`col-${Date.now()}-0`,modules:[]}],o.push(`Row ${t}: Added missing columns array`)),e.columns=e.columns.map(((e,a)=>{const n=this.validateAndCorrectColumn(e,t,a);return i.push(...n.errors),o.push(...n.warnings),n.correctedColumn})).filter((e=>null!==e)),0===e.columns.length&&(e.columns=[{id:`col-${Date.now()}-fallback`,modules:[]}],o.push(`Row ${t}: Added fallback column`)),{correctedRow:e,errors:i,warnings:o}}validateAndCorrectColumn(e,t,i){const o=[],a=[];return e.id||(e.id=`col-${Date.now()}-${t}-${i}`,a.push(`Row ${t}, Column ${i}: Added missing ID`)),e.modules&&Array.isArray(e.modules)||(e.modules=[],a.push(`Row ${t}, Column ${i}: Added missing modules array`)),e.modules=e.modules.map(((e,n)=>{const r=this.validateAndCorrectModule(e,t,i,n);return r.valid?r.correctedModule?(a.push(...r.warnings||[]),r.correctedModule):e:(o.push(...r.errors),null)})).filter((e=>null!==e)),{correctedColumn:e,errors:o,warnings:a}}validateAndCorrectModule(e,t,i,o){const a=[],n=[],r=(0,c.oD)();if(e.id||(e.id=`${e.type||"unknown"}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n.push("Module: Added missing ID")),!e.type)return a.push(`Module ${e.id}: Missing type`),{valid:!1,errors:a,warnings:n};if(!r.isModuleRegistered(e.type))return a.push(`Module ${e.id}: Unknown module type "${e.type}"`),{valid:!1,errors:a,warnings:n};const s=r.getModule(e.type);if(s){const t=s.validate(e);if(!t.valid)return a.push(...t.errors.map((t=>`Module ${e.id}: ${t}`))),{valid:!1,errors:a,warnings:n};const i=s.createDefault(e.id);return{valid:!0,errors:[],warnings:n,correctedModule:this.mergeWithDefaults(e,i)}}return{valid:!1,errors:[`Module ${e.id}: No handler found for type "${e.type}"`],warnings:n}}mergeWithDefaults(e,t){const i=Object.assign({},t);return Object.keys(e).forEach((o=>{void 0!==e[o]&&null!==e[o]&&("object"!=typeof e[o]||Array.isArray(e[o])||"object"!=typeof t[o]?i[o]=e[o]:i[o]=Object.assign(Object.assign({},t[o]),e[o]))})),i}countTotalModules(e){return e.layout.rows.reduce(((e,t)=>e+t.columns.reduce(((e,t)=>e+t.modules.length),0)),0)}validateUniqueModuleIds(e){const t=new Set,i=[];for(const o of e.layout.rows)for(const e of o.columns)for(const o of e.modules)t.has(o.id)?i.push(o.id):t.add(o.id);return{valid:0===i.length,duplicates:i}}fixDuplicateModuleIds(e){const t=new Set,i=JSON.parse(JSON.stringify(e));for(const e of i.layout.rows)for(const i of e.columns)for(const e of i.modules){if(t.has(e.id)){let i=`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;for(;t.has(i);)i=`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e.id=i}t.add(e.id)}return i}}const u=p.getInstance();var g=a(7987),m=a(7073),h=a(1338);class _{constructor(){this._currentUser=null,this._listeners=new Set,this._loadFromStorage(),this._setupAutoRefresh()}getCurrentUser(){return this._currentUser}isAuthenticated(){return null!==this._currentUser&&this._isTokenValid()}async login(e){try{const t=await fetch(`${_.API_BASE}${_.JWT_ENDPOINT}/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})});if(!t.ok){const e=await t.json().catch((()=>({message:"Login failed"})));throw new Error(e.message||`HTTP ${t.status}: ${t.statusText}`)}const i=await t.json(),o=this._createUserFromAuth(i);return await this._fetchSubscriptionData(o),this._setCurrentUser(o),this._saveToStorage(),this._setupAutoRefresh(),console.log(" Successfully logged in to Ultra Card Cloud"),o}catch(e){throw console.error(" Login failed:",e),e}}async register(e){try{const t=await fetch(`${_.API_BASE}/wp/v2/users/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,email:e.email,password:e.password,first_name:e.firstName||"",last_name:e.lastName||""})});if(!t.ok){const e=await t.json().catch((()=>({message:"Registration failed"})));throw new Error(e.message||`Registration failed: ${t.statusText}`)}return await this.login({username:e.username,password:e.password})}catch(e){throw console.error(" Registration failed:",e),e}}async refreshToken(){var e;if(!(null===(e=this._currentUser)||void 0===e?void 0:e.refreshToken))throw new Error("No refresh token available");try{const e=await fetch(`${_.API_BASE}${_.JWT_ENDPOINT}/token/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:this._currentUser.refreshToken})});if(!e.ok)throw new Error(`Token refresh failed: ${e.statusText}`);const t=await e.json();return this._currentUser=Object.assign(Object.assign({},this._currentUser),{token:t.token,expiresAt:Date.now()+1e3*(t.expires_in||3600)}),this._saveToStorage(),this._notifyListeners(),console.log(" Token refreshed successfully"),t.token}catch(e){throw console.error(" Token refresh failed:",e),await this.logout(),e}}async logout(){var e;try{(null===(e=this._currentUser)||void 0===e?void 0:e.token)&&await fetch(`${_.API_BASE}${_.JWT_ENDPOINT}/token/invalidate`,{method:"POST",headers:{Authorization:`Bearer ${this._currentUser.token}`}}).catch((()=>{}))}finally{this._setCurrentUser(null),this._clearStorage(),this._clearAutoRefresh(),console.log(" Logged out successfully")}}getAuthHeader(){return this.isAuthenticated()?`Bearer ${this._currentUser.token}`:null}async authenticatedFetch(e,t={}){var i;const o=this.getAuthHeader();if(!o)throw new Error("Not authenticated");const a=await fetch(e,Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers),{Authorization:o,"Content-Type":"application/json"})}));if(401===a.status&&(null===(i=this._currentUser)||void 0===i?void 0:i.refreshToken))try{await this.refreshToken();const i=this.getAuthHeader();if(i)return fetch(e,Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers),{Authorization:i,"Content-Type":"application/json"})}))}catch(e){throw new Error("Authentication expired. Please login again.")}return a}addListener(e){this._listeners.add(e)}removeListener(e){this._listeners.delete(e)}_createUserFromAuth(e){return{id:e.user_id,username:e.user_nicename,email:e.user_email,displayName:e.user_display_name,avatar:e.avatar_url,token:e.token,refreshToken:e.refresh_token,expiresAt:Date.now()+1e3*(e.expires_in||3600)}}_setCurrentUser(e){this._currentUser=e,this._notifyListeners()}_notifyListeners(){this._listeners.forEach((e=>{try{e(this._currentUser)}catch(e){console.error("Error in auth listener:",e)}}))}_isTokenValid(){return!!this._currentUser&&Date.now()<this._currentUser.expiresAt-_.REFRESH_THRESHOLD}_setupAutoRefresh(){if(this._clearAutoRefresh(),!this._currentUser)return;const e=this._currentUser.expiresAt-Date.now()-_.REFRESH_THRESHOLD;e>0&&(this._refreshTimer=window.setTimeout((async()=>{try{await this.refreshToken(),this._setupAutoRefresh()}catch(e){console.error("Auto-refresh failed:",e)}}),e))}_clearAutoRefresh(){this._refreshTimer&&(clearTimeout(this._refreshTimer),this._refreshTimer=void 0)}async _fetchSubscriptionData(e){try{const t=await fetch(`${_.API_BASE}/ultra-card/v1/subscription`,{method:"GET",headers:{Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"}});if(t.ok){const i=await t.json();e.subscription=i,console.log(`Subscription loaded: ${i.tier} (${i.status})`)}else console.warn("Failed to fetch subscription, defaulting to free tier"),e.subscription={tier:"free",status:"active",features:{auto_backups:!0,snapshots_enabled:!1,snapshot_limit:0,backup_retention_days:30},snapshot_count:0,snapshot_limit:0}}catch(t){console.error("Error fetching subscription:",t),e.subscription={tier:"free",status:"active",features:{auto_backups:!0,snapshots_enabled:!1,snapshot_limit:0,backup_retention_days:30},snapshot_count:0,snapshot_limit:0}}}_loadFromStorage(){try{const e=localStorage.getItem(_.STORAGE_KEY);if(e){const t=JSON.parse(e);if(this._isValidStoredUser(t)){this._currentUser=t;const e=Date.now()>=t.expiresAt,i=!!t.refreshToken;e&&i?console.log(`Loaded auth for ${t.displayName} (token expired, will attempt refresh)`):e&&!i?console.warn(`Loaded auth for ${t.displayName} (token expired, no refresh token - re-login required)`):console.log(`Loaded cloud auth for user: ${t.displayName}`)}else console.warn("Invalid stored user data, clearing"),this._clearStorage()}}catch(e){console.error("Failed to load auth from storage:",e),this._clearStorage()}}_saveToStorage(){try{if(this._currentUser){const e=JSON.stringify(this._currentUser);localStorage.setItem(_.STORAGE_KEY,e),console.log(" Saved user to localStorage:",{id:this._currentUser.id,username:this._currentUser.username,email:this._currentUser.email,displayName:this._currentUser.displayName,hasToken:!!this._currentUser.token,hasRefreshToken:!!this._currentUser.refreshToken,expiresAt:this._currentUser.expiresAt})}else this._clearStorage()}catch(e){console.error("Failed to save auth to storage:",e)}}_clearStorage(){try{localStorage.removeItem(_.STORAGE_KEY)}catch(e){console.error("Failed to clear auth storage:",e)}}_isValidStoredUser(e){if(!e)return console.warn(" Validation failed: user is null/undefined"),!1;const t={"user exists":!!e,"id is number":"number"==typeof e.id,"username is string":"string"==typeof e.username,"email is string":"string"==typeof e.email,"displayName is string":"string"==typeof e.displayName,"token is string":"string"==typeof e.token,"expiresAt is number":"number"==typeof e.expiresAt},i=Object.entries(t).filter((([e,t])=>!t)).map((([e])=>e));return i.length>0?(console.warn(" Validation failed. Failed checks:",i),console.warn("   User data:",JSON.stringify(e,null,2)),!1):e&&"number"==typeof e.id&&"string"==typeof e.username&&"string"==typeof e.email&&"string"==typeof e.displayName&&"string"==typeof e.token&&"number"==typeof e.expiresAt}}_.API_BASE="https://ultracard.io/wp-json",_.JWT_ENDPOINT="/jwt-auth/v1",_.STORAGE_KEY="ultra-card-cloud-auth",_.REFRESH_THRESHOLD=3e5;const v=new _;class f{constructor(){this._syncStatus={isEnabled:!1,lastSync:null,isSyncing:!1,pendingChanges:0,conflicts:[]},this._listeners=new Set,this._pendingChanges=new Map,this._loadSyncStatus(),this._loadPendingChanges(),this._setupAuthListener()}getSyncStatus(){return Object.assign({},this._syncStatus)}async setSyncEnabled(e){this._syncStatus.isEnabled=e,this._saveSyncStatus(),this._notifyListeners(),e&&v.isAuthenticated()&&await this.syncAll()}async syncAll(){if(!this._canSync())throw new Error("Cannot sync: not authenticated or sync disabled");this._syncStatus.isSyncing=!0,this._notifyListeners();try{const e=await this.syncReviews(),t={success:!0,synced:0,conflicts:0,errors:[],lastSync:(new Date).toISOString()},i={success:!0,synced:0,conflicts:0,errors:[],lastSync:(new Date).toISOString()};return this._syncStatus.lastSync=new Date,this._syncStatus.pendingChanges=0,this._clearPendingChanges(),console.log(" Favorites: Local-only (not synced)"),console.log(" Colors: Local-only (not synced)"),{favorites:t,colors:i,reviews:e}}finally{this._syncStatus.isSyncing=!1,this._saveSyncStatus(),this._notifyListeners()}}async syncFavorites(){if(!this._canSync())throw new Error("Cannot sync favorites: not authenticated");const e={success:!1,synced:0,conflicts:0,errors:[],lastSync:(new Date).toISOString()};try{const t=this._getLocalFavorites(),i=await this._fetchRemoteFavorites(),{merged:o,conflicts:a}=await this._mergeFavorites(t,i),n=await this._uploadFavorites(o.filter((e=>e._needsUpload))),r=await this._downloadFavorites(o.filter((e=>e._needsDownload)));e.success=!0,e.synced=n.length+r.length,e.conflicts=a.length,this._syncStatus.conflicts=[...this._syncStatus.conflicts,...a],console.log(` Favorites sync completed: ${e.synced} synced, ${e.conflicts} conflicts`)}catch(t){console.error(" Favorites sync failed:",t),e.errors.push(t instanceof Error?t.message:"Unknown error")}return e}async syncFavoriteColors(){if(!this._canSync())throw new Error("Cannot sync colors: not authenticated");const e={success:!1,synced:0,conflicts:0,errors:[],lastSync:(new Date).toISOString()};try{const t=this._getLocalColors(),i=await this._fetchRemoteColors(),{merged:o,conflicts:a}=await this._mergeColors(t,i),n=await this._uploadColors(o.filter((e=>e._needsUpload))),r=await this._downloadColors(o.filter((e=>e._needsDownload)));e.success=!0,e.synced=n.length+r.length,e.conflicts=a.length,console.log(` Colors sync completed: ${e.synced} synced, ${e.conflicts} conflicts`)}catch(t){console.error(" Colors sync failed:",t),e.errors.push(t instanceof Error?t.message:"Unknown error")}return e}async syncReviews(){if(!this._canSync())throw new Error("Cannot sync reviews: not authenticated");const e={success:!1,synced:0,conflicts:0,errors:[],lastSync:(new Date).toISOString()};try{const t=this._getLocalReviews(),i=await this._fetchRemoteReviews(),{merged:o,conflicts:a}=await this._mergeReviews(t,i),n=await this._uploadReviews(o.filter((e=>e._needsUpload))),r=await this._downloadReviews(o.filter((e=>e._needsDownload)));e.success=!0,e.synced=n.length+r.length,e.conflicts=a.length,console.log(` Reviews sync completed: ${e.synced} synced, ${e.conflicts} conflicts`)}catch(t){console.error(" Reviews sync failed:",t),e.errors.push(t instanceof Error?t.message:"Unknown error")}return e}queueChange(e,t,i){const o=`${e}-${t}-${Date.now()}`;this._pendingChanges.set(o,{type:e,action:t,data:i,timestamp:Date.now()}),this._syncStatus.pendingChanges=this._pendingChanges.size,this._savePendingChanges(),this._notifyListeners(),this._canSync()&&navigator.onLine&&this._processPendingChanges().catch(console.error)}async resolveConflict(e,t){switch(this._syncStatus.conflicts=this._syncStatus.conflicts.filter((t=>t!==e)),t){case"local":await this._uploadConflictResolution(e,e.local);break;case"remote":await this._downloadConflictResolution(e,e.remote);break;case"merge":const t=await this._mergeConflictData(e);await this._uploadConflictResolution(e,t)}this._saveSyncStatus(),this._notifyListeners()}addListener(e){this._listeners.add(e)}removeListener(e){this._listeners.delete(e)}_canSync(){return this._syncStatus.isEnabled&&v.isAuthenticated()}_setupAuthListener(){v.addListener((e=>{e||(this._syncStatus.isEnabled=!1,this._syncStatus.conflicts=[],this._clearPendingChanges()),this._notifyListeners()}))}_notifyListeners(){this._listeners.forEach((e=>{try{e(this._syncStatus)}catch(e){console.error("Error in sync listener:",e)}}))}_getLocalFavorites(){try{const e=localStorage.getItem("ultra-card-favorites");return e?JSON.parse(e):[]}catch(e){return[]}}async _fetchRemoteFavorites(){const e=await v.authenticatedFetch(`${f.API_BASE}/favorites`);if(!e.ok)throw new Error(`Failed to fetch favorites: ${e.statusText}`);return e.json()}async _uploadFavorites(e){const t=[];for(const i of e)try{const e=await v.authenticatedFetch(`${f.API_BASE}/favorites`,{method:"POST",body:JSON.stringify({name:i.name,description:i.description,row_data:JSON.stringify(i.row),tags:i.tags})});e.ok&&t.push(await e.json())}catch(e){console.error("Failed to upload favorite:",e)}return t}async _downloadFavorites(e){const t=e.map((e=>({id:e.id,name:e.name,description:e.description,row:JSON.parse(e.row_data),created:e.created,tags:e.tags})));return localStorage.setItem("ultra-card-favorites",JSON.stringify(t)),t}async _mergeFavorites(e,t){const i=[],o=[],a=new Map(t.map((e=>[e.id,e]))),n=new Map(e.map((e=>[e.id,e])));for(const t of e){const e=a.get(t.id);if(e){const a=new Date(t.created||0).getTime(),n=new Date(e.updated).getTime();Math.abs(a-n)>1e3&&o.push({type:"favorite",local:t,remote:e,field:"updated"}),i.push(a>n?t:Object.assign(Object.assign({},this._convertCloudFavorite(e)),{_needsDownload:a<n}))}else i.push(Object.assign(Object.assign({},t),{_needsUpload:!0}))}for(const e of t)n.has(e.id)||i.push(Object.assign(Object.assign({},this._convertCloudFavorite(e)),{_needsDownload:!0}));return{merged:i,conflicts:o}}_convertCloudFavorite(e){return{id:e.id,name:e.name,description:e.description,row:JSON.parse(e.row_data),created:e.created,tags:e.tags}}_getLocalColors(){try{const e=localStorage.getItem("ultra-card-favorite-colors");return e?JSON.parse(e):[]}catch(e){return[]}}async _fetchRemoteColors(){const e=await v.authenticatedFetch(`${f.API_BASE}/colors`);if(!e.ok)throw new Error(`Failed to fetch colors: ${e.statusText}`);return e.json()}async _uploadColors(e){return[]}async _downloadColors(e){return[]}async _mergeColors(e,t){return{merged:[],conflicts:[]}}_getLocalReviews(){try{const e=localStorage.getItem("ultra-card-reviews");return e?JSON.parse(e):[]}catch(e){return[]}}async _fetchRemoteReviews(){const e=await v.authenticatedFetch(`${f.API_BASE}/reviews`);if(!e.ok)throw new Error(`Failed to fetch reviews: ${e.statusText}`);return e.json()}async _uploadReviews(e){return[]}async _downloadReviews(e){return[]}async _mergeReviews(e,t){return{merged:[],conflicts:[]}}async _uploadConflictResolution(e,t){}async _downloadConflictResolution(e,t){}async _mergeConflictData(e){return e.local}async _processPendingChanges(){if(0!==this._pendingChanges.size){for(const[e,t]of this._pendingChanges)try{await this._processChange(t),this._pendingChanges.delete(e)}catch(t){console.error(`Failed to process change ${e}:`,t)}this._syncStatus.pendingChanges=this._pendingChanges.size,this._savePendingChanges(),this._notifyListeners()}}async _processChange(e){switch(e.type){case"favorite":"create"===e.action&&await this._uploadFavorites([e.data]);break;case"color":"create"===e.action&&await this._uploadColors([e.data]);break;case"review":"create"===e.action&&await this._uploadReviews([e.data])}}_loadSyncStatus(){try{const e=localStorage.getItem(f.SYNC_STATUS_KEY);if(e){const t=JSON.parse(e);this._syncStatus=Object.assign(Object.assign(Object.assign({},this._syncStatus),t),{lastSync:t.lastSync?new Date(t.lastSync):null,isSyncing:!1})}}catch(e){console.error("Failed to load sync status:",e)}}_saveSyncStatus(){var e;try{localStorage.setItem(f.SYNC_STATUS_KEY,JSON.stringify(Object.assign(Object.assign({},this._syncStatus),{lastSync:null===(e=this._syncStatus.lastSync)||void 0===e?void 0:e.toISOString()})))}catch(e){console.error("Failed to save sync status:",e)}}_loadPendingChanges(){try{const e=localStorage.getItem(f.PENDING_CHANGES_KEY);if(e){const t=JSON.parse(e);this._pendingChanges=new Map(Object.entries(t)),this._syncStatus.pendingChanges=this._pendingChanges.size}}catch(e){console.error("Failed to load pending changes:",e)}}_savePendingChanges(){try{const e=Object.fromEntries(this._pendingChanges);localStorage.setItem(f.PENDING_CHANGES_KEY,JSON.stringify(e))}catch(e){console.error("Failed to save pending changes:",e)}}_clearPendingChanges(){this._pendingChanges.clear();try{localStorage.removeItem(f.PENDING_CHANGES_KEY)}catch(e){console.error("Failed to clear pending changes:",e)}}}f.API_BASE="https://ultracard.io/wp-json/ultra-card/v1",f.SYNC_STATUS_KEY="ultra-card-sync-status",f.PENDING_CHANGES_KEY="ultra-card-pending-changes";const b=new f;class y{constructor(){this._status={lastBackup:null,isSaving:!1,pendingBackup:!1,error:null},this._listeners=new Set,this._loadLastBackupTime(),this._loadPendingBackup()}getStatus(){return Object.assign({},this._status)}async autoSave(e){v.isAuthenticated()?(this._pendingConfig=e,this._status.pendingBackup=!0,this._savePendingBackup(e),this._notifyListeners(),this._autoSaveTimer&&clearTimeout(this._autoSaveTimer),this._autoSaveTimer=window.setTimeout((async()=>{this._pendingConfig&&(await this._executeSave(this._pendingConfig,"auto"),this._pendingConfig=void 0,this._clearPendingBackup())}),y.AUTO_SAVE_DEBOUNCE)):console.log("Auto-save skipped: not authenticated")}async createSnapshot(e,t,i){var o;if(!v.isAuthenticated())throw new Error("Authentication required to create snapshots");const a=v.getCurrentUser();if(!(null===(o=null==a?void 0:a.subscription)||void 0===o?void 0:o.features.snapshots_enabled))throw new Error("Pro subscription required to create snapshots");if(a.subscription.snapshot_count>=a.subscription.snapshot_limit)throw new Error(`Maximum ${a.subscription.snapshot_limit} snapshots reached. Delete old snapshots first.`);this._status.isSaving=!0,this._notifyListeners();try{const o=await v.authenticatedFetch(`${y.API_BASE}/backups`,{method:"POST",body:JSON.stringify({type:"snapshot",config:e,snapshot_name:t,snapshot_description:i,device_info:this._getDeviceInfo()})});if(!o.ok){const e=await o.json().catch((()=>({message:"Create snapshot failed"})));throw new Error(e.message||`HTTP ${o.status}`)}const a=await o.json();return console.log(` Snapshot created: ${t}`),this._status.lastBackup=new Date,this._saveLastBackupTime(),a}catch(e){throw console.error(" Create snapshot failed:",e),this._status.error=e instanceof Error?e.message:"Create snapshot failed",e}finally{this._status.isSaving=!1,this._notifyListeners()}}async listBackups(e=1,t=50,i){if(!v.isAuthenticated())throw new Error("Authentication required to list backups");const o=new URLSearchParams({page:e.toString(),per_page:t.toString()});i&&o.append("type",i);const a=await v.authenticatedFetch(`${y.API_BASE}/backups?${o.toString()}`);if(!a.ok)throw new Error(`Failed to fetch backups: ${a.statusText}`);return a.json()}async getBackup(e){if(!v.isAuthenticated())throw new Error("Authentication required");const t=await v.authenticatedFetch(`${y.API_BASE}/backups/${e}`);if(!t.ok)throw new Error(`Failed to fetch backup: ${t.statusText}`);return t.json()}async restoreBackup(e){const t=await this.getBackup(e);try{await v.authenticatedFetch(`${y.API_BASE}/backups/${e}/restore`,{method:"POST"})}catch(e){console.warn("Failed to track restore:",e)}return console.log(` Backup restored: ${t.snapshot_name||`v${t.version_number}`}`),t.config}async updateSnapshot(e,t,i){if(!v.isAuthenticated())throw new Error("Authentication required");const o=await v.authenticatedFetch(`${y.API_BASE}/backups/${e}`,{method:"PUT",body:JSON.stringify({snapshot_name:t,snapshot_description:i})});if(!o.ok)throw new Error(`Failed to update snapshot: ${o.statusText}`);console.log(` Snapshot updated: ${t}`)}async deleteSnapshot(e){if(!v.isAuthenticated())throw new Error("Authentication required");const t=await v.authenticatedFetch(`${y.API_BASE}/backups/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete snapshot: ${t.statusText}`);console.log(" Snapshot deleted")}async getSubscription(){if(!v.isAuthenticated())throw new Error("Authentication required");const e=await v.authenticatedFetch(`${y.API_BASE}/subscription`);if(!e.ok)throw new Error(`Failed to fetch subscription: ${e.statusText}`);return e.json()}async checkForUpdates(){if(!v.isAuthenticated())return null;try{const e=await this.listBackups(1,1);if(0===e.backups.length)return null;const t=e.backups[0],i=this._status.lastBackup;if(!i)return this.getBackup(t.id);return new Date(t.created).getTime()>i.getTime()?this.getBackup(t.id):null}catch(e){return console.error("Failed to check for updates:",e),null}}addListener(e){this._listeners.add(e)}removeListener(e){this._listeners.delete(e)}async _executeSave(e,t){this._status.isSaving=!0,this._status.pendingBackup=!1,this._status.error=null,this._notifyListeners();try{const i=await v.authenticatedFetch(`${y.API_BASE}/backups`,{method:"POST",body:JSON.stringify({type:t,config:e,device_info:this._getDeviceInfo()})});if(!i.ok){const e=await i.json().catch((()=>({message:"Auto-save failed"})));throw new Error(e.message||`HTTP ${i.status}`)}const o=await i.json();this._status.lastBackup=new Date(o.created),this._saveLastBackupTime(),console.log(` Auto-backup saved: v${o.version_number}`)}catch(t){console.error(" Auto-save failed:",t),this._status.error=t instanceof Error?t.message:"Auto-save failed",this._pendingConfig=e,this._status.pendingBackup=!0,this._savePendingBackup(e)}finally{this._status.isSaving=!1,this._notifyListeners()}}_getDeviceInfo(){const e=navigator.userAgent;let t="Unknown";return e.includes("Chrome")?t="Chrome":e.includes("Safari")?t="Safari":e.includes("Firefox")?t="Firefox":e.includes("Edge")&&(t="Edge"),`${t} on ${navigator.platform}`}_notifyListeners(){this._listeners.forEach((e=>{try{e(this._status)}catch(e){console.error("Error in backup listener:",e)}}))}_loadLastBackupTime(){try{const e=localStorage.getItem(y.STORAGE_KEY_LAST_BACKUP);e&&(this._status.lastBackup=new Date(e))}catch(e){console.error("Failed to load last backup time:",e)}}_saveLastBackupTime(){try{this._status.lastBackup&&localStorage.setItem(y.STORAGE_KEY_LAST_BACKUP,this._status.lastBackup.toISOString())}catch(e){console.error("Failed to save last backup time:",e)}}_loadPendingBackup(){try{const e=localStorage.getItem(y.STORAGE_KEY_PENDING);e&&(this._pendingConfig=JSON.parse(e),this._status.pendingBackup=!0,v.isAuthenticated()&&this._pendingConfig&&(console.log("Found pending backup, attempting to save..."),this._executeSave(this._pendingConfig,"auto").then((()=>{this._pendingConfig=void 0,this._clearPendingBackup()}))))}catch(e){console.error("Failed to load pending backup:",e)}}_savePendingBackup(e){try{localStorage.setItem(y.STORAGE_KEY_PENDING,JSON.stringify(e))}catch(e){console.error("Failed to save pending backup:",e)}}_clearPendingBackup(){try{localStorage.removeItem(y.STORAGE_KEY_PENDING)}catch(e){console.error("Failed to clear pending backup:",e)}}}y.API_BASE="https://ultracard.io/wp-json/ultra-card/v1",y.AUTO_SAVE_DEBOUNCE=5e3,y.STORAGE_KEY_LAST_BACKUP="ultra-card-last-backup",y.STORAGE_KEY_PENDING="ultra-card-pending-backup";const k=new y,x=new class{constructor(){this.hass=null}initialize(e){this.hass=e}async scanDashboard(){if(!this.hass)throw new Error("Dashboard scanner not initialized with Home Assistant instance");console.log(" Starting full dashboard scan for Ultra Cards...");try{const e=await this.getLovelaceConfig();if(!e)return console.warn(" Could not retrieve Lovelace configuration"),this.createEmptySnapshot();const t=this.extractViews(e);console.log(` Found ${t.length} views in dashboard`);const i=[];console.log(` Scanning ${t.length} views for Ultra Cards...`);for(const o of t){console.log(`   Scanning view: "${o.title}" (id: ${o.id}, path: ${o.path})`);const t=this.scanViewForUltraCards(o,e);i.push(...t),console.log(`     Found ${t.length} Ultra Cards in this view`)}return console.log(` Scan complete! Found ${i.length} Ultra Cards across ${t.length} views`),{cards:i,views:t,scanned_at:(new Date).toISOString(),card_count:i.length,dashboard_path:this.getCurrentDashboardPath()}}catch(e){throw console.error(" Dashboard scan failed:",e),new Error(`Failed to scan dashboard: ${e.message}`)}}async getDashboardViews(){if(!this.hass)throw new Error("Dashboard scanner not initialized");try{const e=await this.getLovelaceConfig();return e?this.extractViews(e):[]}catch(e){return console.error("Failed to get dashboard views:",e),[]}}async scanView(e){if(!this.hass)throw new Error("Dashboard scanner not initialized");try{const t=await this.getLovelaceConfig();if(!t)return[];const i=this.extractViews(t).find((t=>t.id===e||t.path===e));return i?this.scanViewForUltraCards(i,t):(console.warn(`View ${e} not found`),[])}catch(t){return console.error(`Failed to scan view ${e}:`,t),[]}}getCurrentDashboardPath(){const e=window.location.pathname.match(/\/lovelace\/([^\/]+)/);return e?e[1]:"default"}async getLovelaceConfig(){var e,t;if(!this.hass)return console.error(" Hass instance not available"),null;console.log(" Attempting to retrieve Lovelace config...");try{const i=this.getCurrentDashboardPath();console.log(`   Method 1a: WebSocket (YAML mode) for dashboard path: ${i}`);try{const e=await this.hass.callWS({type:"lovelace/config",url_path:"default"===i?null:i});if(e)return console.log(" Method 1a SUCCESS: Retrieved config via WebSocket (YAML mode)"),e}catch(e){console.warn(" Method 1a FAILED: YAML mode fetch failed, trying storage mode...")}console.log("   Method 1b: WebSocket - Getting dashboards list");try{const e=await this.hass.callWS({type:"lovelace/dashboards/list"});if(console.log(`   Found ${Array.isArray(e)?e.length:0} dashboards`),Array.isArray(e)){console.log("   Available dashboards:"),e.forEach(((e,t)=>{console.log(`     ${t+1}. id: "${e.id}", url_path: "${e.url_path}", mode: "${e.mode}", title: "${e.title}"`)})),console.log(`   Looking for: "${i}"`);const t=e.find((e=>e.url_path===i||e.id===i));if(t){console.log(`    Found matching dashboard: ${t.url_path||t.id} (mode: ${t.mode})`);const e=await this.hass.callWS({type:"lovelace/config",url_path:t.url_path||t.id});if(e)return console.log(" Method 1b SUCCESS: Retrieved storage config via dashboard list"),e;console.warn("   Dashboard found but config returned null")}else{console.warn(`    No dashboard matched "${i}", trying as default dashboard...`);try{const e=await this.hass.callWS({type:"lovelace/config",url_path:null});if(e)return console.log(" Method 1b SUCCESS: Retrieved default lovelace config"),e}catch(e){console.warn("   Could not load as default dashboard either")}}}}catch(e){console.warn(" Method 1b FAILED: Dashboard list fetch failed:",e)}console.log("   Method 2: Lovelace instance from window");const o=null===(e=document.querySelector("home-assistant"))||void 0===e?void 0:e.lovelace;if(o&&o.config)return console.log(" Method 2 SUCCESS: Retrieved config from lovelace instance"),o.config;console.warn(" Method 2 FAILED: Lovelace instance not found or no config"),console.log("   Method 3: Panel element (hui-root)");const a=document.querySelector("hui-root");if(a){console.log("   Found hui-root element");const e=a.lovelace;if(e){if(console.log("   Found lovelace on hui-root"),e.config)return console.log(" Method 3 SUCCESS: Retrieved config from panel element"),e.config;console.warn("   Lovelace found but no config property")}else console.warn("   No lovelace property on hui-root")}else console.warn(" Method 3 FAILED: hui-root element not found");console.log("   Method 4: DOM home-assistant element");const n=document.querySelector("home-assistant");if(n&&n.lovelace&&n.lovelace.config)return console.log(" Method 4 SUCCESS: Retrieved config from DOM"),n.lovelace.config;console.warn(" Method 4 FAILED: home-assistant element not found or no config"),console.log("   Method 5: ha-panel-lovelace element");const r=document.querySelector("ha-panel-lovelace");if(r){console.log("   Found ha-panel-lovelace");const e=r.lovelace||r._lovelace;if(e&&e.config)return console.log(" Method 5 SUCCESS: Retrieved config from ha-panel-lovelace"),e.config;console.warn("   ha-panel-lovelace found but no config")}else console.warn(" Method 5 FAILED: ha-panel-lovelace not found");if(console.log("   Method 6: window.__lovelace"),window.__lovelace){const e=window.__lovelace;if(e.config)return console.log(" Method 6 SUCCESS: Retrieved config from window.__lovelace"),e.config}else console.warn(" Method 6 FAILED: window.__lovelace not found");return console.error(" Could not retrieve Lovelace config via any method"),console.log("   Dashboard Path:",i),console.log("   Window location:",window.location.pathname),console.log("   Hass states available:",!!(null===(t=this.hass)||void 0===t?void 0:t.states)),console.log("   Available elements:"),console.log("     - home-assistant:",!!document.querySelector("home-assistant")),console.log("     - hui-root:",!!document.querySelector("hui-root")),console.log("     - ha-panel-lovelace:",!!document.querySelector("ha-panel-lovelace")),null}catch(e){return console.error(" Error getting Lovelace config:",e),null}}extractViews(e){if(!e||!e.views)return[];const t=[];return e.views.forEach(((e,i)=>{t.push({id:e.path||`view_${i}`,title:e.title||e.path||`View ${i+1}`,path:e.path||`${i}`,icon:e.icon,panel:e.panel||!1,theme:e.theme})})),t}scanViewForUltraCards(e,t){if(!t||!t.views)return[];const i=[],o=t.views.findIndex((t=>t.path&&t.path===e.path||t.title&&t.title===e.title));if(-1===o)return i;const a=t.views[o];return console.log(`      View config found at index ${o}`),console.log(`      View type: "${(null==a?void 0:a.type)||"panel"}"`),"sections"===a.type&&Array.isArray(a.sections)?(console.log(`      This is a SECTIONS view with ${a.sections.length} section(s)`),a.sections.forEach(((t,o)=>{console.log(`        Section ${o}: type="${t.type}"`),Array.isArray(t.cards)&&(console.log(`          Found ${t.cards.length} cards in this section`),t.cards.forEach(((t,a)=>{if(console.log(`          Card ${a}: type="${null==t?void 0:t.type}"`),this.isUltraCard(t))console.log("             This is an Ultra Card!"),i.push({config:t,card_index:i.length,view_id:e.id,view_title:e.title,view_path:e.path,card_name:t.card_name||`Ultra Card ${i.length+1}`,section_index:o,card_index_in_section:a});else{const n=this.findNestedUltraCards(t);n.length>0&&(console.log(`             Found ${n.length} nested Ultra Card(s) inside "${null==t?void 0:t.type}"`),n.forEach((t=>{i.push({config:t,card_index:i.length,view_id:e.id,view_title:e.title,view_path:e.path,card_name:t.card_name||`Ultra Card ${i.length+1}`,section_index:o,card_index_in_section:a})})))}})))})),i):a.cards&&Array.isArray(a.cards)?(console.log(`      Traditional view with ${a.cards.length} card(s)`),a.cards.forEach(((t,o)=>{if(console.log(`      Card ${o}: type="${null==t?void 0:t.type}"`),this.isUltraCard(t))console.log("         This is an Ultra Card!"),i.push({config:t,card_index:o,view_id:e.id,view_title:e.title,view_path:e.path,card_name:t.card_name||`Ultra Card ${o+1}`});else{const a=this.findNestedUltraCards(t);a.length>0&&(console.log(`         Found ${a.length} nested Ultra Card(s) inside "${null==t?void 0:t.type}"`),a.forEach((t=>{i.push({config:t,card_index:o,view_id:e.id,view_title:e.title,view_path:e.path,card_name:t.card_name||`Ultra Card ${o+1}`})})))}})),console.log(`   View "${e.title}": Found ${i.length} Ultra Cards`),i):(console.warn("       No cards array found in view config (and not a sections view)!"),i)}isUltraCard(e){return!(!e||"object"!=typeof e)&&("custom:ultra-card"===e.type||"custom:ultra-vehicle-card"===e.type||e.layout&&e.layout.rows)}findNestedUltraCards(e){const t=[];return e&&"object"==typeof e?(Array.isArray(e.cards)&&e.cards.forEach((e=>{this.isUltraCard(e)?t.push(e):t.push(...this.findNestedUltraCards(e))})),e.card&&(this.isUltraCard(e.card)?t.push(e.card):t.push(...this.findNestedUltraCards(e.card))),t):t}createEmptySnapshot(){return{cards:[],views:[],scanned_at:(new Date).toISOString(),card_count:0}}async canScan(){if(!this.hass)return!1;try{return null!==await this.getLovelaceConfig()}catch(e){return!1}}async getDashboardStats(){try{const e=await this.getLovelaceConfig();if(!e||!e.views)return{total_views:0,total_cards:0,ultra_cards:0};const t=e.views;let i=0,o=0;return t.forEach((e=>{e.cards&&Array.isArray(e.cards)&&(i+=e.cards.length,o+=e.cards.filter((e=>this.isUltraCard(e))).length)})),{total_views:t.length,total_cards:i,ultra_cards:o}}catch(e){return console.error("Failed to get dashboard stats:",e),{total_views:0,total_cards:0,ultra_cards:0}}}},w=new class{constructor(){this.hass=null,this.apiBase=""}initialize(e,t){this.hass=e,this.apiBase=`${t}/wp-json/ultra-card/v1`,x.initialize(e),console.log(" Snapshot service initialized")}async createSnapshot(){var e;if(!v.isAuthenticated())throw new Error("Must be logged in to create snapshots");const t=v.getCurrentUser();if(!t||"pro"!==(null===(e=t.subscription)||void 0===e?void 0:e.tier))throw new Error("Pro subscription required to create manual snapshots");console.log(" Creating manual dashboard snapshot...");try{const e=await x.scanDashboard();if(0===e.card_count)throw new Error("No Ultra Cards found in dashboard");console.log(` Captured ${e.card_count} Ultra Cards from ${e.views.length} views`);const t=await this.apiCall("/snapshots",{method:"POST",body:JSON.stringify({type:"manual",snapshot_data:e})});return console.log(" Manual snapshot created successfully:",t),{id:t.snapshot_id,type:"manual",date:(new Date).toISOString().split("T")[0],created:(new Date).toISOString(),snapshot_data:e}}catch(e){throw console.error(" Failed to create snapshot:",e),e}}async createAutoSnapshot(){var e;if(!v.isAuthenticated())return void console.log(" Skipping auto snapshot - not authenticated");const t=v.getCurrentUser();if(t&&"pro"===(null===(e=t.subscription)||void 0===e?void 0:e.tier))try{console.log(" Creating automatic daily snapshot...");const e=await x.scanDashboard();if(0===e.card_count)return void console.log(" No Ultra Cards found, skipping auto snapshot");await this.apiCall("/snapshots",{method:"POST",body:JSON.stringify({type:"auto",snapshot_data:e})}),console.log(` Auto snapshot created: ${e.card_count} cards backed up`)}catch(e){console.error(" Auto snapshot failed:",e)}else console.log(" Skipping auto snapshot - not a Pro user")}async listSnapshots(e=30){if(!v.isAuthenticated())throw new Error("Must be logged in to view snapshots");try{const t=Date.now();console.log(` Fetching snapshot list with cache-busting timestamp: ${t}`);const i=await this.apiCall(`/snapshots?limit=${e}&_=${t}`,{method:"GET"});return console.log(" Snapshot list received:",i),i}catch(e){throw console.error(" Failed to list snapshots:",e),e}}async getSnapshot(e){if(!v.isAuthenticated())throw new Error("Must be logged in to view snapshots");try{return await this.apiCall(`/snapshots/${e}`,{method:"GET"})}catch(t){throw console.error(`Failed to get snapshot ${e}:`,t),t}}async restoreSnapshot(e){if(!v.isAuthenticated())throw new Error("Must be logged in to restore snapshots");console.log(` Restoring snapshot ${e}...`);try{const t=(await this.apiCall(`/snapshots/${e}/restore`,{method:"POST"})).snapshot_data,i={};return t.cards.forEach((e=>{i[e.view_title]||(i[e.view_title]=[]),i[e.view_title].push(e)})),Object.keys(i).forEach((e=>{i[e].sort(((e,t)=>e.card_index-t.card_index))})),console.log(` Snapshot restored: ${t.card_count} cards across ${Object.keys(i).length} views`),{snapshot_data:t,instructions:this.generateRestoreInstructions(t,i),cards_by_view:i}}catch(t){throw console.error(`Failed to restore snapshot ${e}:`,t),t}}async deleteSnapshot(e){if(!v.isAuthenticated())throw new Error("Must be logged in to delete snapshots");try{await this.apiCall(`/snapshots/${e}`,{method:"DELETE"}),console.log(` Snapshot ${e} deleted`)}catch(t){throw console.error(`Failed to delete snapshot ${e}:`,t),t}}async getSettings(){if(!v.isAuthenticated())throw new Error("Must be logged in to view settings");try{return await this.apiCall("/snapshot-settings",{method:"GET"})}catch(e){throw console.error("Failed to get snapshot settings:",e),e}}async updateSettings(e){if(!v.isAuthenticated())throw new Error("Must be logged in to update settings");try{await this.apiCall("/snapshot-settings",{method:"PUT",body:JSON.stringify(e)}),console.log(" Snapshot settings updated:",e)}catch(e){throw console.error("Failed to update snapshot settings:",e),e}}canCreateSnapshots(){var e;const t=v.getCurrentUser();return"pro"===(null===(e=null==t?void 0:t.subscription)||void 0===e?void 0:e.tier)}async getDashboardPreview(){try{if(!await x.canScan())return{can_scan:!1,ultra_card_count:0,view_count:0,estimated_size_kb:0};const e=await x.getDashboardStats(),t=15*e.ultra_cards;return{can_scan:!0,ultra_card_count:e.ultra_cards,view_count:e.total_views,estimated_size_kb:t}}catch(e){return console.error("Failed to get dashboard preview:",e),{can_scan:!1,ultra_card_count:0,view_count:0,estimated_size_kb:0}}}generateRestoreInstructions(e,t){const i=Object.keys(t).length,o=e.card_count;let a=`This snapshot contains ${o} Ultra Card${o>1?"s":""} across ${i} view${i>1?"s":""}.\n\n`;return a+="**Restoration Instructions:**\n\n",Object.keys(t).forEach(((e,i)=>{const o=t[e];a+=`**${i+1}. ${e}** (${o.length} card${o.length>1?"s":""})\n`,o.forEach(((e,t)=>{a+=`   - Position ${e.card_index+1}: ${e.card_name||"Ultra Card"}\n`})),a+="\n"})),a+="\n**To restore:**\n",a+="1. Open each view in your Home Assistant dashboard\n",a+='2. Click "Edit Dashboard" (top right)\n',a+="3. Add or replace Ultra Cards in the positions shown above\n",a+="4. Paste the config for each card (available in detailed view)\n",a+="5. Save your changes\n",a}async apiCall(e,t={}){const i=v.getAuthHeader();if(!i)throw new Error("Not authenticated");const o=`${this.apiBase}${e}`,a=await fetch(o,Object.assign(Object.assign({},t),{headers:Object.assign({"Content-Type":"application/json",Authorization:i},t.headers||{})}));if(!a.ok){const e=await a.json().catch((()=>({message:"Unknown error"})));throw new Error(e.message||`API call failed: ${a.status}`)}return a.json()}},S=new class{constructor(){this.apiBase=""}initialize(e){this.apiBase=`${e}/wp-json/ultra-card/v1`,console.log(" Card backup service initialized")}async createBackup(e,t,i){var o;if(!v.isAuthenticated())throw new Error("Must be logged in to create backups");const a=v.getCurrentUser();if(!a||"pro"!==(null===(o=a.subscription)||void 0===o?void 0:o.tier))throw new Error("Pro subscription required to create card backups");const n=t||this.generateCardName(e);console.log(` Creating card backup: "${n}"...`);try{const t=await this.apiCall("/card-backups",{method:"POST",body:JSON.stringify({config:e,card_name:n,view_info:i||{}})});return console.log(" Card backup created successfully"),{id:t.backup_id,card_name:n,stats:this.calculateStats(e),size_kb:this.estimateSize(e),created:(new Date).toISOString(),created_timestamp:Date.now()}}catch(e){throw console.error(" Failed to create card backup:",e),e}}async listBackups(e=30){if(!v.isAuthenticated())throw new Error("Must be logged in to view backups");try{return await this.apiCall(`/card-backups?limit=${e}`,{method:"GET"})}catch(e){throw console.error("Failed to list card backups:",e),e}}async getBackup(e){if(!v.isAuthenticated())throw new Error("Must be logged in to view backups");try{return await this.apiCall(`/card-backups/${e}`,{method:"GET"})}catch(t){throw console.error(`Failed to get backup ${e}:`,t),t}}async restoreBackup(e){if(!v.isAuthenticated())throw new Error("Must be logged in to restore backups");console.log(` Restoring card backup ${e}...`);try{const t=await this.apiCall(`/card-backups/${e}/restore`,{method:"POST"});return console.log(" Card backup restored"),t.config}catch(t){throw console.error(`Failed to restore backup ${e}:`,t),t}}async deleteBackup(e){if(!v.isAuthenticated())throw new Error("Must be logged in to delete backups");try{await this.apiCall(`/card-backups/${e}`,{method:"DELETE"}),console.log(` Card backup ${e} deleted`)}catch(t){throw console.error(`Failed to delete backup ${e}:`,t),t}}async renameBackup(e,t){if(!v.isAuthenticated())throw new Error("Must be logged in to rename backups");if(!t||""===t.trim())throw new Error("Backup name cannot be empty");try{await this.apiCall(`/card-backups/${e}`,{method:"PUT",body:JSON.stringify({card_name:t.trim()})}),console.log(` Card backup ${e} renamed to "${t}"`)}catch(t){throw console.error(`Failed to rename backup ${e}:`,t),t}}canCreateBackups(){var e;const t=v.getCurrentUser();return"pro"===(null===(e=null==t?void 0:t.subscription)||void 0===e?void 0:e.tier)}async getBackupInfo(){if(!v.isAuthenticated())return{current:0,limit:30,remaining:30};try{const e=await this.listBackups(),t=30,i=e.length;return{current:i,limit:t,remaining:Math.max(0,t-i)}}catch(e){return console.error("Failed to get backup info:",e),{current:0,limit:30,remaining:30}}}downloadBackup(e){const t=JSON.stringify(e.config,null,2),i=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(i),a=document.createElement("a");a.href=o,a.download=`${e.card_name.replace(/[^a-z0-9]/gi,"_")}_backup.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),console.log(` Downloaded backup: ${e.card_name}`)}generateCardName(e){return e.card_name?e.card_name:`Ultra Card - ${(new Date).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}`}calculateStats(e){var t;const i=(null===(t=e.layout)||void 0===t?void 0:t.rows)||[];let o=0,a=0;return i.forEach((e=>{const t=e.columns||[];o+=t.length,t.forEach((e=>{const t=e.modules||[];a+=t.length}))})),{row_count:i.length,column_count:o,module_count:a}}estimateSize(e){const t=JSON.stringify(e);return Math.round(t.length/1024*100)/100}titleCase(e){return e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}async apiCall(e,t={}){const i=v.getAuthHeader();if(!i)throw new Error("Not authenticated");const o=`${this.apiBase}${e}`,a=await fetch(o,Object.assign(Object.assign({},t),{headers:Object.assign({"Content-Type":"application/json",Authorization:i},t.headers||{})}));if(!a.ok){const e=await a.json().catch((()=>({message:"Unknown error"})));throw new Error(e.message||`API call failed: ${a.status}`)}return a.json()}},A="ultra_card_last_auto_snapshot",C=new class{constructor(){this._checkInterval=null,this._isRunning=!1,this._listeners=new Set,this._loadLastSnapshotTime()}start(){this._checkInterval?console.log(" Snapshot scheduler already running"):(console.log(" Starting auto-snapshot scheduler"),this._checkAndTriggerSnapshot(),this._checkInterval=window.setInterval((()=>{this._checkAndTriggerSnapshot()}),6e4),this._notifyListeners())}stop(){this._checkInterval&&(clearInterval(this._checkInterval),this._checkInterval=null,console.log(" Auto-snapshot scheduler stopped"),this._notifyListeners())}async _checkAndTriggerSnapshot(){var e;if(this._isRunning)return;if(!v.isAuthenticated())return;const t=v.getCurrentUser();if(t&&"pro"===(null===(e=t.subscription)||void 0===e?void 0:e.tier))try{const e=await w.getSettings();if(!e.enabled)return;if(this._shouldRunSnapshot(e.time,e.timezone)){console.log(" Time to create auto-snapshot!"),this._isRunning=!0,this._notifyListeners();try{await w.createAutoSnapshot(),this._saveLastSnapshotTime(),console.log(" Auto-snapshot completed successfully")}catch(e){console.error(" Auto-snapshot failed:",e)}finally{this._isRunning=!1,this._notifyListeners()}}}catch(e){console.error(" Error checking snapshot schedule:",e)}}_shouldRunSnapshot(e,t){const i=this._getLastSnapshotTime(),o=new Date,[a,n]=e.split(":").map(Number),r=new Date(o);if(r.setHours(a,n,0,0),!i)return o>=r;const s=new Date(i);return!(s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()&&s.getDate()===o.getDate())&&o>=r}_getLastSnapshotTime(){try{return localStorage.getItem(A)}catch(e){return console.error("Failed to read last snapshot time:",e),null}}_saveLastSnapshotTime(){try{const e=(new Date).toISOString();localStorage.setItem(A,e),console.log(` Saved last snapshot time: ${e}`)}catch(e){console.error("Failed to save last snapshot time:",e)}}updateLastSnapshotTime(){this._saveLastSnapshotTime(),this._notifyListeners()}_loadLastSnapshotTime(){const e=this._getLastSnapshotTime();e?console.log(` Last auto-snapshot: ${new Date(e).toLocaleString()}`):console.log(" No previous auto-snapshot found")}async triggerManualSnapshot(){console.log(" Manually triggering snapshot...");try{await w.createSnapshot(),this._saveLastSnapshotTime(),this._notifyListeners()}catch(e){throw console.error(" Manual snapshot failed:",e),e}}async getStatus(){const e=this._getLastSnapshotTime();let t=null;try{const i=await w.getSettings();i.enabled&&(t=this._calculateNextSnapshotTime(i.time,i.timezone,e))}catch(e){console.error("Failed to get snapshot settings:",e)}return{enabled:!!this._checkInterval,nextSnapshotTime:t,lastSnapshotTime:e?new Date(e):null,isRunning:this._isRunning}}_calculateNextSnapshotTime(e,t,i){const[o,a]=e.split(":").map(Number),n=new Date,r=new Date(n);if(r.setHours(o,a,0,0),r<=n&&r.setDate(r.getDate()+1),i){const e=new Date(i);e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()&&r.getDate()===n.getDate()&&r.setDate(r.getDate()+1)}return r}subscribe(e){return this._listeners.add(e),this.getStatus().then((t=>e(t))),()=>{this._listeners.delete(e)}}_notifyListeners(){this.getStatus().then((e=>{this._listeners.forEach((t=>t(e)))}))}};function z(e){let t=e.length;for(;--t>=0;)e[t]=0}const T=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),I=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),E=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P=new Array(576);z(P);const j=new Array(60);z(j);const B=new Array(512);z(B);const D=new Array(256);z(D);const O=new Array(29);z(O);const J=new Array(30);function R(e,t,i,o,a){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=o,this.max_length=a,this.has_stree=e&&e.length}let U,M,H;function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}z(J);const L=e=>e<256?B[e]:B[256+(e>>>7)],F=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},K=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},V=(e,t,i)=>{K(e,i[2*t],i[2*t+1])},q=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},Q=(e,t,i)=>{const o=new Array(16);let a,n,r=0;for(a=1;a<=15;a++)r=r+i[a-1]<<1,o[a]=r;for(n=0;n<=t;n++){let t=e[2*n+1];0!==t&&(e[2*n]=q(o[t]++,t))}},G=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Y=e=>{e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},W=(e,t,i,o)=>{const a=2*t,n=2*i;return e[a]<e[n]||e[a]===e[n]&&o[t]<=o[i]},Z=(e,t,i)=>{const o=e.heap[i];let a=i<<1;for(;a<=e.heap_len&&(a<e.heap_len&&W(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!W(t,o,e.heap[a],e.depth));)e.heap[i]=e.heap[a],i=a,a<<=1;e.heap[i]=o},X=(e,t,i)=>{let o,a,n,r,s=0;if(0!==e.sym_next)do{o=255&e.pending_buf[e.sym_buf+s++],o+=(255&e.pending_buf[e.sym_buf+s++])<<8,a=e.pending_buf[e.sym_buf+s++],0===o?V(e,a,t):(n=D[a],V(e,n+256+1,t),r=T[n],0!==r&&(a-=O[n],K(e,a,r)),o--,n=L(o),V(e,n,i),r=I[n],0!==r&&(o-=J[n],K(e,o,r)))}while(s<e.sym_next);V(e,256,t)},ee=(e,t)=>{const i=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,n=t.stat_desc.elems;let r,s,l,d=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<n;r++)0!==i[2*r]?(e.heap[++e.heap_len]=d=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=d<2?++d:0,i[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=o[2*l+1]);for(t.max_code=d,r=e.heap_len>>1;r>=1;r--)Z(e,i,r);l=n;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Z(e,i,1),s=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=s,i[2*l]=i[2*r]+i[2*s],e.depth[l]=(e.depth[r]>=e.depth[s]?e.depth[r]:e.depth[s])+1,i[2*r+1]=i[2*s+1]=l,e.heap[1]=l++,Z(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,o=t.max_code,a=t.stat_desc.static_tree,n=t.stat_desc.has_stree,r=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let d,c,p,u,g,m,h=0;for(u=0;u<=15;u++)e.bl_count[u]=0;for(i[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)c=e.heap[d],u=i[2*i[2*c+1]+1]+1,u>l&&(u=l,h++),i[2*c+1]=u,c>o||(e.bl_count[u]++,g=0,c>=s&&(g=r[c-s]),m=i[2*c],e.opt_len+=m*(u+g),n&&(e.static_len+=m*(a[2*c+1]+g)));if(0!==h){do{for(u=l-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[l]--,h-=2}while(h>0);for(u=l;0!==u;u--)for(c=e.bl_count[u];0!==c;)p=e.heap[--d],p>o||(i[2*p+1]!==u&&(e.opt_len+=(u-i[2*p+1])*i[2*p],i[2*p+1]=u),c--)}})(e,t),Q(i,d,e.bl_count)},te=(e,t,i)=>{let o,a,n=-1,r=t[1],s=0,l=7,d=4;for(0===r&&(l=138,d=3),t[2*(i+1)+1]=65535,o=0;o<=i;o++)a=r,r=t[2*(o+1)+1],++s<l&&a===r||(s<d?e.bl_tree[2*a]+=s:0!==a?(a!==n&&e.bl_tree[2*a]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,n=a,0===r?(l=138,d=3):a===r?(l=6,d=3):(l=7,d=4))},ie=(e,t,i)=>{let o,a,n=-1,r=t[1],s=0,l=7,d=4;for(0===r&&(l=138,d=3),o=0;o<=i;o++)if(a=r,r=t[2*(o+1)+1],!(++s<l&&a===r)){if(s<d)do{V(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==n&&(V(e,a,e.bl_tree),s--),V(e,16,e.bl_tree),K(e,s-3,2)):s<=10?(V(e,17,e.bl_tree),K(e,s-3,3)):(V(e,18,e.bl_tree),K(e,s-11,7));s=0,n=a,0===r?(l=138,d=3):a===r?(l=6,d=3):(l=7,d=4)}};let oe=!1;const ae=(e,t,i,o)=>{K(e,0+(o?1:0),3),Y(e),F(e,i),F(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var ne={_tr_init:e=>{oe||((()=>{let e,t,i,o,a;const n=new Array(16);for(i=0,o=0;o<28;o++)for(O[o]=i,e=0;e<1<<T[o];e++)D[i++]=o;for(D[i-1]=o,a=0,o=0;o<16;o++)for(J[o]=a,e=0;e<1<<I[o];e++)B[a++]=o;for(a>>=7;o<30;o++)for(J[o]=a<<7,e=0;e<1<<I[o]-7;e++)B[256+a++]=o;for(t=0;t<=15;t++)n[t]=0;for(e=0;e<=143;)P[2*e+1]=8,e++,n[8]++;for(;e<=255;)P[2*e+1]=9,e++,n[9]++;for(;e<=279;)P[2*e+1]=7,e++,n[7]++;for(;e<=287;)P[2*e+1]=8,e++,n[8]++;for(Q(P,287,n),e=0;e<30;e++)j[2*e+1]=5,j[2*e]=q(e,5);U=new R(P,T,257,286,15),M=new R(j,I,0,30,15),H=new R(new Array(0),E,0,19,7)})(),oe=!0),e.l_desc=new N(e.dyn_ltree,U),e.d_desc=new N(e.dyn_dtree,M),e.bl_desc=new N(e.bl_tree,H),e.bi_buf=0,e.bi_valid=0,G(e)},_tr_stored_block:ae,_tr_flush_block:(e,t,i,o)=>{let a,n,r=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),ee(e,e.l_desc),ee(e,e.d_desc),r=(e=>{let t;for(te(e,e.dyn_ltree,e.l_desc.max_code),te(e,e.dyn_dtree,e.d_desc.max_code),ee(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*$[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=a&&(a=n)):a=n=i+5,i+4<=a&&-1!==t?ae(e,t,i,o):4===e.strategy||n===a?(K(e,2+(o?1:0),3),X(e,P,j)):(K(e,4+(o?1:0),3),((e,t,i,o)=>{let a;for(K(e,t-257,5),K(e,i-1,5),K(e,o-4,4),a=0;a<o;a++)K(e,e.bl_tree[2*$[a]+1],3);ie(e,e.dyn_ltree,t-1),ie(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,r+1),X(e,e.dyn_ltree,e.dyn_dtree)),G(e),o&&Y(e)},_tr_tally:(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(D[i]+256+1)]++,e.dyn_dtree[2*L(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{K(e,2,3),V(e,256,P),(e=>{16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},re=(e,t,i,o)=>{let a=65535&e,n=e>>>16&65535,r=0;for(;0!==i;){r=i>2e3?2e3:i,i-=r;do{a=a+t[o++]|0,n=n+a|0}while(--r);a%=65521,n%=65521}return a|n<<16};const se=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var le=(e,t,i,o)=>{const a=se,n=o+i;e^=-1;for(let i=o;i<n;i++)e=e>>>8^a[255&(e^t[i])];return~e},de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ce={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:pe,_tr_stored_block:ue,_tr_flush_block:ge,_tr_tally:me,_tr_align:he}=ne,{Z_NO_FLUSH:_e,Z_PARTIAL_FLUSH:ve,Z_FULL_FLUSH:fe,Z_FINISH:be,Z_BLOCK:ye,Z_OK:ke,Z_STREAM_END:xe,Z_STREAM_ERROR:we,Z_DATA_ERROR:Se,Z_BUF_ERROR:Ae,Z_DEFAULT_COMPRESSION:Ce,Z_FILTERED:ze,Z_HUFFMAN_ONLY:Te,Z_RLE:Ie,Z_FIXED:Ee,Z_DEFAULT_STRATEGY:$e,Z_UNKNOWN:Pe,Z_DEFLATED:je}=ce,Be=258,De=262,Oe=42,Je=113,Re=666,Ue=(e,t)=>(e.msg=de[t],t),Me=e=>2*e-(e>4?9:0),He=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ne=e=>{let t,i,o,a=e.w_size;t=e.hash_size,o=t;do{i=e.head[--o],e.head[o]=i>=a?i-a:0}while(--t);t=a,o=t;do{i=e.prev[--o],e.prev[o]=i>=a?i-a:0}while(--t)};let Le=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const Fe=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},Ke=(e,t)=>{ge(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fe(e.strm)},Ve=(e,t)=>{e.pending_buf[e.pending++]=t},qe=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Qe=(e,t,i,o)=>{let a=e.avail_in;return a>o&&(a=o),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),i),1===e.state.wrap?e.adler=re(e.adler,t,a,i):2===e.state.wrap&&(e.adler=le(e.adler,t,a,i)),e.next_in+=a,e.total_in+=a,a)},Ge=(e,t)=>{let i,o,a=e.max_chain_length,n=e.strstart,r=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-De?e.strstart-(e.w_size-De):0,d=e.window,c=e.w_mask,p=e.prev,u=e.strstart+Be;let g=d[n+r-1],m=d[n+r];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,d[i+r]===m&&d[i+r-1]===g&&d[i]===d[n]&&d[++i]===d[n+1]){n+=2,i++;do{}while(d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&n<u);if(o=Be-(u-n),n=u-Be,o>r){if(e.match_start=t,r=o,o>=s)break;g=d[n+r-1],m=d[n+r]}}}while((t=p[t&c])>l&&0!=--a);return r<=e.lookahead?r:e.lookahead},Ye=e=>{const t=e.w_size;let i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-De)&&(e.window.set(e.window.subarray(t,t+t-o),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ne(e),o+=t),0===e.strm.avail_in)break;if(i=Qe(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Le(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Le(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<De&&0!==e.strm.avail_in)},We=(e,t)=>{let i,o,a,n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r=0,s=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,o=e.strstart-e.block_start,i>o+e.strm.avail_in&&(i=o+e.strm.avail_in),i>a&&(i=a),i<n&&(0===i&&t!==be||t===_e||i!==o+e.strm.avail_in))break;r=t===be&&i===o+e.strm.avail_in?1:0,ue(e,0,0,r),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,Fe(e.strm),o&&(o>i&&(o=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,i-=o),i&&(Qe(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===r);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r?4:t!==_e&&t!==be&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Qe(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,n=a>e.w_size?e.w_size:a,o=e.strstart-e.block_start,(o>=n||(o||t===be)&&t!==_e&&0===e.strm.avail_in&&o<=a)&&(i=o>a?a:o,r=t===be&&0===e.strm.avail_in&&i===o?1:0,ue(e,e.block_start,i,r),e.block_start+=i,Fe(e.strm)),r?3:1)},Ze=(e,t)=>{let i,o;for(;;){if(e.lookahead<De){if(Ye(e),e.lookahead<De&&t===_e)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Le(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-De&&(e.match_length=Ge(e,i)),e.match_length>=3)if(o=me(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Le(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Le(e,e.ins_h,e.window[e.strstart+1]);else o=me(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(o&&(Ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===be?(Ke(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ke(e,!1),0===e.strm.avail_out)?1:2},Xe=(e,t)=>{let i,o,a;for(;;){if(e.lookahead<De){if(Ye(e),e.lookahead<De&&t===_e)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=Le(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-De&&(e.match_length=Ge(e,i),e.match_length<=5&&(e.strategy===ze||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,o=me(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Le(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,o&&(Ke(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(o=me(e,0,e.window[e.strstart-1]),o&&Ke(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(o=me(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===be?(Ke(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ke(e,!1),0===e.strm.avail_out)?1:2};function et(e,t,i,o,a){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=o,this.func=a}const tt=[new et(0,0,0,0,We),new et(4,4,8,4,Ze),new et(4,5,16,8,Ze),new et(4,6,32,32,Ze),new et(4,4,16,16,Xe),new et(8,16,32,32,Xe),new et(8,16,128,128,Xe),new et(8,32,128,256,Xe),new et(32,128,258,1024,Xe),new et(32,258,258,4096,Xe)];function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=je,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),He(this.dyn_ltree),He(this.dyn_dtree),He(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),He(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),He(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ot=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Oe&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Je&&t.status!==Re?1:0},at=e=>{if(ot(e))return Ue(e,we);e.total_in=e.total_out=0,e.data_type=Pe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Oe:Je,e.adler=2===t.wrap?0:1,t.last_flush=-2,pe(t),ke},nt=e=>{const t=at(e);var i;return t===ke&&((i=e.state).window_size=2*i.w_size,He(i.head),i.max_lazy_match=tt[i.level].max_lazy,i.good_match=tt[i.level].good_length,i.nice_match=tt[i.level].nice_length,i.max_chain_length=tt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},rt=(e,t,i,o,a,n)=>{if(!e)return we;let r=1;if(t===Ce&&(t=6),o<0?(r=0,o=-o):o>15&&(r=2,o-=16),a<1||a>9||i!==je||o<8||o>15||t<0||t>9||n<0||n>Ee||8===o&&1!==r)return Ue(e,we);8===o&&(o=9);const s=new it;return e.state=s,s.strm=e,s.status=Oe,s.wrap=r,s.gzhead=null,s.w_bits=o,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=n,s.method=i,nt(e)};var st=rt,lt=(e,t)=>ot(e)||2!==e.state.wrap?we:(e.state.gzhead=t,ke),dt=(e,t)=>{if(ot(e)||t>ye||t<0)return e?Ue(e,we):we;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===Re&&t!==be)return Ue(e,0===e.avail_out?Ae:we);const o=i.last_flush;if(i.last_flush=t,0!==i.pending){if(Fe(e),0===e.avail_out)return i.last_flush=-1,ke}else if(0===e.avail_in&&Me(t)<=Me(o)&&t!==be)return Ue(e,Ae);if(i.status===Re&&0!==e.avail_in)return Ue(e,Ae);if(i.status===Oe&&0===i.wrap&&(i.status=Je),i.status===Oe){let t=je+(i.w_bits-8<<4)<<8,o=-1;if(o=i.strategy>=Te||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=o<<6,0!==i.strstart&&(t|=32),t+=31-t%31,qe(i,t),0!==i.strstart&&(qe(i,e.adler>>>16),qe(i,65535&e.adler)),e.adler=1,i.status=Je,Fe(e),0!==i.pending)return i.last_flush=-1,ke}if(57===i.status)if(e.adler=0,Ve(i,31),Ve(i,139),Ve(i,8),i.gzhead)Ve(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ve(i,255&i.gzhead.time),Ve(i,i.gzhead.time>>8&255),Ve(i,i.gzhead.time>>16&255),Ve(i,i.gzhead.time>>24&255),Ve(i,9===i.level?2:i.strategy>=Te||i.level<2?4:0),Ve(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ve(i,255&i.gzhead.extra.length),Ve(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=le(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Ve(i,0),Ve(i,0),Ve(i,0),Ve(i,0),Ve(i,0),Ve(i,9===i.level?2:i.strategy>=Te||i.level<2?4:0),Ve(i,3),i.status=Je,Fe(e),0!==i.pending)return i.last_flush=-1,ke;if(69===i.status){if(i.gzhead.extra){let t=i.pending,o=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+o>i.pending_buf_size;){let a=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+a),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=le(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=a,Fe(e),0!==i.pending)return i.last_flush=-1,ke;t=0,o-=a}let a=new Uint8Array(i.gzhead.extra);i.pending_buf.set(a.subarray(i.gzindex,i.gzindex+o),i.pending),i.pending+=o,i.gzhead.hcrc&&i.pending>t&&(e.adler=le(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,o=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>o&&(e.adler=le(e.adler,i.pending_buf,i.pending-o,o)),Fe(e),0!==i.pending)return i.last_flush=-1,ke;o=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ve(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>o&&(e.adler=le(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,o=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>o&&(e.adler=le(e.adler,i.pending_buf,i.pending-o,o)),Fe(e),0!==i.pending)return i.last_flush=-1,ke;o=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ve(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>o&&(e.adler=le(e.adler,i.pending_buf,i.pending-o,o))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Fe(e),0!==i.pending))return i.last_flush=-1,ke;Ve(i,255&e.adler),Ve(i,e.adler>>8&255),e.adler=0}if(i.status=Je,Fe(e),0!==i.pending)return i.last_flush=-1,ke}if(0!==e.avail_in||0!==i.lookahead||t!==_e&&i.status!==Re){let o=0===i.level?We(i,t):i.strategy===Te?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(Ye(e),0===e.lookahead)){if(t===_e)return 1;break}if(e.match_length=0,i=me(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===be?(Ke(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ke(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Ie?((e,t)=>{let i,o,a,n;const r=e.window;for(;;){if(e.lookahead<=Be){if(Ye(e),e.lookahead<=Be&&t===_e)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,o=r[a],o===r[++a]&&o===r[++a]&&o===r[++a])){n=e.strstart+Be;do{}while(o===r[++a]&&o===r[++a]&&o===r[++a]&&o===r[++a]&&o===r[++a]&&o===r[++a]&&o===r[++a]&&o===r[++a]&&a<n);e.match_length=Be-(n-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=me(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=me(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===be?(Ke(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ke(e,!1),0===e.strm.avail_out)?1:2})(i,t):tt[i.level].func(i,t);if(3!==o&&4!==o||(i.status=Re),1===o||3===o)return 0===e.avail_out&&(i.last_flush=-1),ke;if(2===o&&(t===ve?he(i):t!==ye&&(ue(i,0,0,!1),t===fe&&(He(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Fe(e),0===e.avail_out))return i.last_flush=-1,ke}return t!==be?ke:i.wrap<=0?xe:(2===i.wrap?(Ve(i,255&e.adler),Ve(i,e.adler>>8&255),Ve(i,e.adler>>16&255),Ve(i,e.adler>>24&255),Ve(i,255&e.total_in),Ve(i,e.total_in>>8&255),Ve(i,e.total_in>>16&255),Ve(i,e.total_in>>24&255)):(qe(i,e.adler>>>16),qe(i,65535&e.adler)),Fe(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ke:xe)},ct=e=>{if(ot(e))return we;const t=e.state.status;return e.state=null,t===Je?Ue(e,Se):ke},pt=(e,t)=>{let i=t.length;if(ot(e))return we;const o=e.state,a=o.wrap;if(2===a||1===a&&o.status!==Oe||o.lookahead)return we;if(1===a&&(e.adler=re(e.adler,t,i,0)),o.wrap=0,i>=o.w_size){0===a&&(He(o.head),o.strstart=0,o.block_start=0,o.insert=0);let e=new Uint8Array(o.w_size);e.set(t.subarray(i-o.w_size,i),0),t=e,i=o.w_size}const n=e.avail_in,r=e.next_in,s=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Ye(o);o.lookahead>=3;){let e=o.strstart,t=o.lookahead-2;do{o.ins_h=Le(o,o.ins_h,o.window[e+3-1]),o.prev[e&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=e,e++}while(--t);o.strstart=e,o.lookahead=2,Ye(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=2,o.match_available=0,e.next_in=r,e.input=s,e.avail_in=n,o.wrap=a,ke};const ut=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var gt=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)ut(i,t)&&(e[t]=i[t])}}return e},mt=e=>{let t=0;for(let i=0,o=e.length;i<o;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,o=0,a=e.length;t<a;t++){let a=e[t];i.set(a,o),o+=a.length}return i};let ht=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ht=!1}const _t=new Uint8Array(256);for(let e=0;e<256;e++)_t[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_t[254]=_t[254]=1;var vt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,o,a,n,r=e.length,s=0;for(a=0;a<r;a++)i=e.charCodeAt(a),55296==(64512&i)&&a+1<r&&(o=e.charCodeAt(a+1),56320==(64512&o)&&(i=65536+(i-55296<<10)+(o-56320),a++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(s),n=0,a=0;n<s;a++)i=e.charCodeAt(a),55296==(64512&i)&&a+1<r&&(o=e.charCodeAt(a+1),56320==(64512&o)&&(i=65536+(i-55296<<10)+(o-56320),a++)),i<128?t[n++]=i:i<2048?(t[n++]=192|i>>>6,t[n++]=128|63&i):i<65536?(t[n++]=224|i>>>12,t[n++]=128|i>>>6&63,t[n++]=128|63&i):(t[n++]=240|i>>>18,t[n++]=128|i>>>12&63,t[n++]=128|i>>>6&63,t[n++]=128|63&i);return t},ft=(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let o,a;const n=new Array(2*i);for(a=0,o=0;o<i;){let t=e[o++];if(t<128){n[a++]=t;continue}let r=_t[t];if(r>4)n[a++]=65533,o+=r-1;else{for(t&=2===r?31:3===r?15:7;r>1&&o<i;)t=t<<6|63&e[o++],r--;r>1?n[a++]=65533:t<65536?n[a++]=t:(t-=65536,n[a++]=55296|t>>10&1023,n[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ht)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i})(n,a)},bt=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+_t[e[i]]>t?i:t},yt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const kt=Object.prototype.toString,{Z_NO_FLUSH:xt,Z_SYNC_FLUSH:wt,Z_FULL_FLUSH:St,Z_FINISH:At,Z_OK:Ct,Z_STREAM_END:zt,Z_DEFAULT_COMPRESSION:Tt,Z_DEFAULT_STRATEGY:It,Z_DEFLATED:Et}=ce;function $t(e){this.options=gt({level:Tt,method:Et,chunkSize:16384,windowBits:15,memLevel:8,strategy:It},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yt,this.strm.avail_out=0;let i=st(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==Ct)throw new Error(de[i]);if(t.header&&lt(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?vt(t.dictionary):"[object ArrayBuffer]"===kt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=pt(this.strm,e),i!==Ct)throw new Error(de[i]);this._dict_set=!0}}function Pt(e,t){const i=new $t(t);if(i.push(e,!0),i.err)throw i.msg||de[i.err];return i.result}$t.prototype.push=function(e,t){const i=this.strm,o=this.options.chunkSize;let a,n;if(this.ended)return!1;for(n=t===~~t?t:!0===t?At:xt,"string"==typeof e?i.input=vt(e):"[object ArrayBuffer]"===kt.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n===wt||n===St)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(a=dt(i,n),a===zt)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),a=ct(this.strm),this.onEnd(a),this.ended=!0,a===Ct;if(0!==i.avail_out){if(n>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},$t.prototype.onData=function(e){this.chunks.push(e)},$t.prototype.onEnd=function(e){e===Ct&&(this.result=mt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var jt={Deflate:$t,deflate:Pt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Pt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Pt(e,t)},constants:ce};const Bt=16209;var Dt=function(e,t){let i,o,a,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S,A;const C=e.state;i=e.next_in,S=e.input,o=i+(e.avail_in-5),a=e.next_out,A=e.output,n=a-(t-e.avail_out),r=a+(e.avail_out-257),s=C.dmax,l=C.wsize,d=C.whave,c=C.wnext,p=C.window,u=C.hold,g=C.bits,m=C.lencode,h=C.distcode,_=(1<<C.lenbits)-1,v=(1<<C.distbits)-1;e:do{g<15&&(u+=S[i++]<<g,g+=8,u+=S[i++]<<g,g+=8),f=m[u&_];t:for(;;){if(b=f>>>24,u>>>=b,g-=b,b=f>>>16&255,0===b)A[a++]=65535&f;else{if(!(16&b)){if(64&b){if(32&b){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Bt;break e}f=m[(65535&f)+(u&(1<<b)-1)];continue t}for(y=65535&f,b&=15,b&&(g<b&&(u+=S[i++]<<g,g+=8),y+=u&(1<<b)-1,u>>>=b,g-=b),g<15&&(u+=S[i++]<<g,g+=8,u+=S[i++]<<g,g+=8),f=h[u&v];;){if(b=f>>>24,u>>>=b,g-=b,b=f>>>16&255,16&b){if(k=65535&f,b&=15,g<b&&(u+=S[i++]<<g,g+=8,g<b&&(u+=S[i++]<<g,g+=8)),k+=u&(1<<b)-1,k>s){e.msg="invalid distance too far back",C.mode=Bt;break e}if(u>>>=b,g-=b,b=a-n,k>b){if(b=k-b,b>d&&C.sane){e.msg="invalid distance too far back",C.mode=Bt;break e}if(x=0,w=p,0===c){if(x+=l-b,b<y){y-=b;do{A[a++]=p[x++]}while(--b);x=a-k,w=A}}else if(c<b){if(x+=l+c-b,b-=c,b<y){y-=b;do{A[a++]=p[x++]}while(--b);if(x=0,c<y){b=c,y-=b;do{A[a++]=p[x++]}while(--b);x=a-k,w=A}}}else if(x+=c-b,b<y){y-=b;do{A[a++]=p[x++]}while(--b);x=a-k,w=A}for(;y>2;)A[a++]=w[x++],A[a++]=w[x++],A[a++]=w[x++],y-=3;y&&(A[a++]=w[x++],y>1&&(A[a++]=w[x++]))}else{x=a-k;do{A[a++]=A[x++],A[a++]=A[x++],A[a++]=A[x++],y-=3}while(y>2);y&&(A[a++]=A[x++],y>1&&(A[a++]=A[x++]))}break}if(64&b){e.msg="invalid distance code",C.mode=Bt;break e}f=h[(65535&f)+(u&(1<<b)-1)]}}break}}while(i<o&&a<r);y=g>>3,i-=y,g-=y<<3,u&=(1<<g)-1,e.next_in=i,e.next_out=a,e.avail_in=i<o?o-i+5:5-(i-o),e.avail_out=a<r?r-a+257:257-(a-r),C.hold=u,C.bits=g};const Ot=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Rt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ut=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Mt=(e,t,i,o,a,n,r,s)=>{const l=s.bits;let d,c,p,u,g,m,h=0,_=0,v=0,f=0,b=0,y=0,k=0,x=0,w=0,S=0,A=null;const C=new Uint16Array(16),z=new Uint16Array(16);let T,I,E,$=null;for(h=0;h<=15;h++)C[h]=0;for(_=0;_<o;_++)C[t[i+_]]++;for(b=l,f=15;f>=1&&0===C[f];f--);if(b>f&&(b=f),0===f)return a[n++]=20971520,a[n++]=20971520,s.bits=1,0;for(v=1;v<f&&0===C[v];v++);for(b<v&&(b=v),x=1,h=1;h<=15;h++)if(x<<=1,x-=C[h],x<0)return-1;if(x>0&&(0===e||1!==f))return-1;for(z[1]=0,h=1;h<15;h++)z[h+1]=z[h]+C[h];for(_=0;_<o;_++)0!==t[i+_]&&(r[z[t[i+_]]++]=_);if(0===e?(A=$=r,m=20):1===e?(A=Ot,$=Jt,m=257):(A=Rt,$=Ut,m=0),S=0,_=0,h=v,g=n,y=b,k=0,p=-1,w=1<<b,u=w-1,1===e&&w>852||2===e&&w>592)return 1;for(;;){T=h-k,r[_]+1<m?(I=0,E=r[_]):r[_]>=m?(I=$[r[_]-m],E=A[r[_]-m]):(I=96,E=0),d=1<<h-k,c=1<<y,v=c;do{c-=d,a[g+(S>>k)+c]=T<<24|I<<16|E}while(0!==c);for(d=1<<h-1;S&d;)d>>=1;if(0!==d?(S&=d-1,S+=d):S=0,_++,0==--C[h]){if(h===f)break;h=t[i+r[_]]}if(h>b&&(S&u)!==p){for(0===k&&(k=b),g+=v,y=h-k,x=1<<y;y+k<f&&(x-=C[y+k],!(x<=0));)y++,x<<=1;if(w+=1<<y,1===e&&w>852||2===e&&w>592)return 1;p=S&u,a[p]=b<<24|y<<16|g-n}}return 0!==S&&(a[g+S]=h-k<<24|64<<16),s.bits=b,0};const{Z_FINISH:Ht,Z_BLOCK:Nt,Z_TREES:Lt,Z_OK:Ft,Z_STREAM_END:Kt,Z_NEED_DICT:Vt,Z_STREAM_ERROR:qt,Z_DATA_ERROR:Qt,Z_MEM_ERROR:Gt,Z_BUF_ERROR:Yt,Z_DEFLATED:Wt}=ce,Zt=16180,Xt=16190,ei=16191,ti=16192,ii=16194,oi=16199,ai=16200,ni=16206,ri=16209,si=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function li(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const di=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Zt||t.mode>16211?1:0},ci=e=>{if(di(e))return qt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Zt,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ft},pi=e=>{if(di(e))return qt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ci(e)},ui=(e,t)=>{let i;if(di(e))return qt;const o=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?qt:(null!==o.window&&o.wbits!==t&&(o.window=null),o.wrap=i,o.wbits=t,pi(e))},gi=(e,t)=>{if(!e)return qt;const i=new li;e.state=i,i.strm=e,i.window=null,i.mode=Zt;const o=ui(e,t);return o!==Ft&&(e.state=null),o};let mi,hi,_i=!0;const vi=e=>{if(_i){mi=new Int32Array(512),hi=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mt(1,e.lens,0,288,mi,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mt(2,e.lens,0,32,hi,0,e.work,{bits:5}),_i=!1}e.lencode=mi,e.lenbits=9,e.distcode=hi,e.distbits=5},fi=(e,t,i,o)=>{let a;const n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),o>=n.wsize?(n.window.set(t.subarray(i-n.wsize,i),0),n.wnext=0,n.whave=n.wsize):(a=n.wsize-n.wnext,a>o&&(a=o),n.window.set(t.subarray(i-o,i-o+a),n.wnext),(o-=a)?(n.window.set(t.subarray(i-o,i),0),n.wnext=o,n.whave=n.wsize):(n.wnext+=a,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=a))),0};var bi=pi,yi=gi,ki=(e,t)=>{let i,o,a,n,r,s,l,d,c,p,u,g,m,h,_,v,f,b,y,k,x,w,S=0;const A=new Uint8Array(4);let C,z;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(di(e)||!e.output||!e.input&&0!==e.avail_in)return qt;i=e.state,i.mode===ei&&(i.mode=ti),r=e.next_out,a=e.output,l=e.avail_out,n=e.next_in,o=e.input,s=e.avail_in,d=i.hold,c=i.bits,p=s,u=l,w=Ft;e:for(;;)switch(i.mode){case Zt:if(0===i.wrap){i.mode=ti;break}for(;c<16;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,A[0]=255&d,A[1]=d>>>8&255,i.check=le(i.check,A,2,0),d=0,c=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",i.mode=ri;break}if((15&d)!==Wt){e.msg="unknown compression method",i.mode=ri;break}if(d>>>=4,c-=4,x=8+(15&d),0===i.wbits&&(i.wbits=x),x>15||x>i.wbits){e.msg="invalid window size",i.mode=ri;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:ei,d=0,c=0;break;case 16181:for(;c<16;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(i.flags=d,(255&i.flags)!==Wt){e.msg="unknown compression method",i.mode=ri;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=ri;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&4&i.wrap&&(A[0]=255&d,A[1]=d>>>8&255,i.check=le(i.check,A,2,0)),d=0,c=0,i.mode=16182;case 16182:for(;c<32;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}i.head&&(i.head.time=d),512&i.flags&&4&i.wrap&&(A[0]=255&d,A[1]=d>>>8&255,A[2]=d>>>16&255,A[3]=d>>>24&255,i.check=le(i.check,A,4,0)),d=0,c=0,i.mode=16183;case 16183:for(;c<16;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&4&i.wrap&&(A[0]=255&d,A[1]=d>>>8&255,i.check=le(i.check,A,2,0)),d=0,c=0,i.mode=16184;case 16184:if(1024&i.flags){for(;c<16;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&4&i.wrap&&(A[0]=255&d,A[1]=d>>>8&255,i.check=le(i.check,A,2,0)),d=0,c=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(g=i.length,g>s&&(g=s),g&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(o.subarray(n,n+g),x)),512&i.flags&&4&i.wrap&&(i.check=le(i.check,o,g,n)),s-=g,n+=g,i.length-=g),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===s)break e;g=0;do{x=o[n+g++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x))}while(x&&g<s);if(512&i.flags&&4&i.wrap&&(i.check=le(i.check,o,g,n)),s-=g,n+=g,x)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===s)break e;g=0;do{x=o[n+g++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x))}while(x&&g<s);if(512&i.flags&&4&i.wrap&&(i.check=le(i.check,o,g,n)),s-=g,n+=g,x)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;c<16;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg="header crc mismatch",i.mode=ri;break}d=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=ei;break;case 16189:for(;c<32;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}e.adler=i.check=si(d),d=0,c=0,i.mode=Xt;case Xt:if(0===i.havedict)return e.next_out=r,e.avail_out=l,e.next_in=n,e.avail_in=s,i.hold=d,i.bits=c,Vt;e.adler=i.check=1,i.mode=ei;case ei:if(t===Nt||t===Lt)break e;case ti:if(i.last){d>>>=7&c,c-=7&c,i.mode=ni;break}for(;c<3;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}switch(i.last=1&d,d>>>=1,c-=1,3&d){case 0:i.mode=16193;break;case 1:if(vi(i),i.mode=oi,t===Lt){d>>>=2,c-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=ri}d>>>=2,c-=2;break;case 16193:for(d>>>=7&c,c-=7&c;c<32;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",i.mode=ri;break}if(i.length=65535&d,d=0,c=0,i.mode=ii,t===Lt)break e;case ii:i.mode=16195;case 16195:if(g=i.length,g){if(g>s&&(g=s),g>l&&(g=l),0===g)break e;a.set(o.subarray(n,n+g),r),s-=g,n+=g,l-=g,r+=g,i.length-=g;break}i.mode=ei;break;case 16196:for(;c<14;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(i.nlen=257+(31&d),d>>>=5,c-=5,i.ndist=1+(31&d),d>>>=5,c-=5,i.ncode=4+(15&d),d>>>=4,c-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=ri;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;c<3;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}i.lens[T[i.have++]]=7&d,d>>>=3,c-=3}for(;i.have<19;)i.lens[T[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,C={bits:i.lenbits},w=Mt(0,i.lens,0,19,i.lencode,0,i.work,C),i.lenbits=C.bits,w){e.msg="invalid code lengths set",i.mode=ri;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;S=i.lencode[d&(1<<i.lenbits)-1],_=S>>>24,v=S>>>16&255,f=65535&S,!(_<=c);){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(f<16)d>>>=_,c-=_,i.lens[i.have++]=f;else{if(16===f){for(z=_+2;c<z;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(d>>>=_,c-=_,0===i.have){e.msg="invalid bit length repeat",i.mode=ri;break}x=i.lens[i.have-1],g=3+(3&d),d>>>=2,c-=2}else if(17===f){for(z=_+3;c<z;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}d>>>=_,c-=_,x=0,g=3+(7&d),d>>>=3,c-=3}else{for(z=_+7;c<z;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}d>>>=_,c-=_,x=0,g=11+(127&d),d>>>=7,c-=7}if(i.have+g>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=ri;break}for(;g--;)i.lens[i.have++]=x}}if(i.mode===ri)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=ri;break}if(i.lenbits=9,C={bits:i.lenbits},w=Mt(1,i.lens,0,i.nlen,i.lencode,0,i.work,C),i.lenbits=C.bits,w){e.msg="invalid literal/lengths set",i.mode=ri;break}if(i.distbits=6,i.distcode=i.distdyn,C={bits:i.distbits},w=Mt(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,C),i.distbits=C.bits,w){e.msg="invalid distances set",i.mode=ri;break}if(i.mode=oi,t===Lt)break e;case oi:i.mode=ai;case ai:if(s>=6&&l>=258){e.next_out=r,e.avail_out=l,e.next_in=n,e.avail_in=s,i.hold=d,i.bits=c,Dt(e,u),r=e.next_out,a=e.output,l=e.avail_out,n=e.next_in,o=e.input,s=e.avail_in,d=i.hold,c=i.bits,i.mode===ei&&(i.back=-1);break}for(i.back=0;S=i.lencode[d&(1<<i.lenbits)-1],_=S>>>24,v=S>>>16&255,f=65535&S,!(_<=c);){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(v&&!(240&v)){for(b=_,y=v,k=f;S=i.lencode[k+((d&(1<<b+y)-1)>>b)],_=S>>>24,v=S>>>16&255,f=65535&S,!(b+_<=c);){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}d>>>=b,c-=b,i.back+=b}if(d>>>=_,c-=_,i.back+=_,i.length=f,0===v){i.mode=16205;break}if(32&v){i.back=-1,i.mode=ei;break}if(64&v){e.msg="invalid literal/length code",i.mode=ri;break}i.extra=15&v,i.mode=16201;case 16201:if(i.extra){for(z=i.extra;c<z;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;S=i.distcode[d&(1<<i.distbits)-1],_=S>>>24,v=S>>>16&255,f=65535&S,!(_<=c);){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(!(240&v)){for(b=_,y=v,k=f;S=i.distcode[k+((d&(1<<b+y)-1)>>b)],_=S>>>24,v=S>>>16&255,f=65535&S,!(b+_<=c);){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}d>>>=b,c-=b,i.back+=b}if(d>>>=_,c-=_,i.back+=_,64&v){e.msg="invalid distance code",i.mode=ri;break}i.offset=f,i.extra=15&v,i.mode=16203;case 16203:if(i.extra){for(z=i.extra;c<z;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=ri;break}i.mode=16204;case 16204:if(0===l)break e;if(g=u-l,i.offset>g){if(g=i.offset-g,g>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=ri;break}g>i.wnext?(g-=i.wnext,m=i.wsize-g):m=i.wnext-g,g>i.length&&(g=i.length),h=i.window}else h=a,m=r-i.offset,g=i.length;g>l&&(g=l),l-=g,i.length-=g;do{a[r++]=h[m++]}while(--g);0===i.length&&(i.mode=ai);break;case 16205:if(0===l)break e;a[r++]=i.length,l--,i.mode=ai;break;case ni:if(i.wrap){for(;c<32;){if(0===s)break e;s--,d|=o[n++]<<c,c+=8}if(u-=l,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?le(i.check,a,u,r-u):re(i.check,a,u,r-u)),u=l,4&i.wrap&&(i.flags?d:si(d))!==i.check){e.msg="incorrect data check",i.mode=ri;break}d=0,c=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;c<32;){if(0===s)break e;s--,d+=o[n++]<<c,c+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=ri;break}d=0,c=0}i.mode=16208;case 16208:w=Kt;break e;case ri:w=Qt;break e;case 16210:return Gt;default:return qt}return e.next_out=r,e.avail_out=l,e.next_in=n,e.avail_in=s,i.hold=d,i.bits=c,(i.wsize||u!==e.avail_out&&i.mode<ri&&(i.mode<ni||t!==Ht))&&fi(e,e.output,e.next_out,u-e.avail_out),p-=e.avail_in,u-=e.avail_out,e.total_in+=p,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?le(i.check,a,u,e.next_out-u):re(i.check,a,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===ei?128:0)+(i.mode===oi||i.mode===ii?256:0),(0===p&&0===u||t===Ht)&&w===Ft&&(w=Yt),w},xi=e=>{if(di(e))return qt;let t=e.state;return t.window&&(t.window=null),e.state=null,Ft},wi=(e,t)=>{if(di(e))return qt;const i=e.state;return 2&i.wrap?(i.head=t,t.done=!1,Ft):qt},Si=(e,t)=>{const i=t.length;let o,a,n;return di(e)?qt:(o=e.state,0!==o.wrap&&o.mode!==Xt?qt:o.mode===Xt&&(a=1,a=re(a,t,i,0),a!==o.check)?Qt:(n=fi(e,t,i,i),n?(o.mode=16210,Gt):(o.havedict=1,Ft)))},Ai=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ci=Object.prototype.toString,{Z_NO_FLUSH:zi,Z_FINISH:Ti,Z_OK:Ii,Z_STREAM_END:Ei,Z_NEED_DICT:$i,Z_STREAM_ERROR:Pi,Z_DATA_ERROR:ji,Z_MEM_ERROR:Bi}=ce;function Di(e){this.options=gt({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yt,this.strm.avail_out=0;let i=yi(this.strm,t.windowBits);if(i!==Ii)throw new Error(de[i]);if(this.header=new Ai,wi(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=vt(t.dictionary):"[object ArrayBuffer]"===Ci.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Si(this.strm,t.dictionary),i!==Ii)))throw new Error(de[i])}function Oi(e,t){const i=new Di(t);if(i.push(e),i.err)throw i.msg||de[i.err];return i.result}Di.prototype.push=function(e,t){const i=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let n,r,s;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Ti:zi,"[object ArrayBuffer]"===Ci.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),n=ki(i,r),n===$i&&a&&(n=Si(i,a),n===Ii?n=ki(i,r):n===ji&&(n=$i));i.avail_in>0&&n===Ei&&i.state.wrap>0&&0!==e[i.next_in];)bi(i),n=ki(i,r);switch(n){case Pi:case ji:case $i:case Bi:return this.onEnd(n),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||n===Ei))if("string"===this.options.to){let e=bt(i.output,i.next_out),t=i.next_out-e,a=ft(i.output,e);i.next_out=t,i.avail_out=o-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(a)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==Ii||0!==s){if(n===Ei)return n=xi(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},Di.prototype.onData=function(e){this.chunks.push(e)},Di.prototype.onEnd=function(e){e===Ii&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=mt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ji={Inflate:Di,inflate:Oi,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Oi(e,t)},ungzip:Oi,constants:ce};const{Deflate:Ri,deflate:Ui,deflateRaw:Mi,gzip:Hi}=jt,{Inflate:Ni,inflate:Li,inflateRaw:Fi,ungzip:Ki}=Ji;var Vi={Deflate:Ri,deflate:Ui,deflateRaw:Mi,gzip:Hi,Inflate:Ni,inflate:Li,inflateRaw:Fi,ungzip:Ki,constants:ce};const qi="UC_CONFIG_V1:";class Qi{static encode(e){try{const t=JSON.stringify(e),i=Vi.deflate(t),o=btoa(String.fromCharCode.apply(null,Array.from(i)));return`${qi}${o}`}catch(e){throw console.error("Failed to encode config:",e),new Error("Failed to encode config")}}static decode(e){try{if(!e.startsWith(qi))throw new Error("Invalid encoded config format");const t=e.substring(13),i=atob(t),o=new Uint8Array(i.length);for(let e=0;e<i.length;e++)o[e]=i.charCodeAt(e);const a=Vi.inflate(o,{to:"string"});return JSON.parse(a)}catch(e){throw console.error("Failed to decode config:",e),new Error("Failed to decode config - invalid or corrupted data")}}static isValidEncoded(e){if(!e||"string"!=typeof e)return!1;if(!e.startsWith(qi))return!1;try{return this.decode(e),!0}catch(e){return!1}}static getSizeInfo(e){try{const t=this.decode(e),i=JSON.stringify(t),o=new Blob([e]).size/1024,a=new Blob([i]).size/1024,n=Math.round(100*(1-o/a));return{encoded_kb:Math.round(100*o)/100,original_kb:Math.round(100*a)/100,compression_ratio:n}}catch(e){return{encoded_kb:0,original_kb:0,compression_ratio:0}}}static exportToFile(e,t){try{const i=this.encode(e),o=new Blob([i],{type:"text/plain"}),a=URL.createObjectURL(o),n=document.createElement("a");n.href=a,n.download=t||`ultra-card-export-${Date.now()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),console.log(" Config exported to file")}catch(e){throw console.error("Failed to export config:",e),new Error("Failed to export config to file")}}static async importFromFile(e){return new Promise(((t,i)=>{const o=new FileReader;o.onload=e=>{var o;try{const a=null===(o=e.target)||void 0===o?void 0:o.result;if(!a)return void i(new Error("File is empty"));if(a.startsWith(qi)){const e=this.decode(a);return console.log(" Imported encoded config from file"),void t(e)}try{const e=JSON.parse(a);return console.log(" Imported plain JSON config from file"),void t(e)}catch(e){i(new Error("File does not contain valid config data"))}}catch(e){i(e)}},o.onerror=()=>{i(new Error("Failed to read file"))},o.readAsText(e)}))}static async copyToClipboard(e){try{const t=this.encode(e);await navigator.clipboard.writeText(t),console.log(" Encoded config copied to clipboard")}catch(e){throw console.error("Failed to copy to clipboard:",e),new Error("Failed to copy config to clipboard")}}static async pasteFromClipboard(){try{const e=await navigator.clipboard.readText();if(!e)throw new Error("Clipboard is empty");if(e.startsWith(qi)){const t=this.decode(e);return console.log(" Pasted encoded config from clipboard"),t}try{const t=JSON.parse(e);return console.log(" Pasted plain JSON config from clipboard"),t}catch(e){throw new Error("Clipboard does not contain valid config data")}}catch(e){throw console.error("Failed to paste from clipboard:",e),e}}}Qi.encode.bind(Qi),Qi.decode.bind(Qi),Qi.isValidEncoded.bind(Qi);var Gi=a(456),Yi=a(5672),Wi=a(1281),Zi=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Xi=class extends n.WF{render(){var e,t;const i=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en";return n.qy`
      <div class="about-tab">
        <div class="about-logo-container">
          <img
            src="${Wi.P2}"
            alt="Ultra Card"
            class="about-logo"
            @error=${e=>{const t=e.currentTarget;t&&t.src!==Wi.aR&&(t.src=Wi.aR)}}
          />
        </div>

        <div class="about-developed-by">
          ${(0,Gi.kg)("editor.about.developed_by",i,"Developed by")}
          <a href="https://wjddesigns.com" target="_blank" rel="noopener">WJD Designs</a>
        </div>

        <div class="about-description">
          <p>
            ${(0,Gi.kg)("editor.about.desc1",i,"A powerful modular card builder for Home Assistant")}
          </p>
          <p>
            ${(0,Gi.kg)("editor.about.desc2",i,"Create custom layouts with a professional page-builder interface")}
          </p>
          <p>
            ${(0,Gi.kg)("editor.about.desc3",i,"Modular layout system with conditional logic and professional design tools")}
          </p>
        </div>

        <div class="about-buttons">
          <a
            href="https://discord.gg/6xVgHxzzBV"
            target="_blank"
            rel="noopener"
            class="about-button discord"
          >
            <svg viewBox="0 0 24 24" width="24" height="24" class="about-button-icon">
              <path
                fill="currentColor"
                d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0189 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"
              />
            </svg>
            ${(0,Gi.kg)("editor.about.join_discord",i,"Join Our Discord")}
          </a>

          <a
            href="https://github.com/WJDDesigns/Ultra-Card"
            target="_blank"
            rel="noopener"
            class="about-button github"
          >
            <svg viewBox="0 0 24 24" width="24" height="24" class="about-button-icon">
              <path
                fill="currentColor"
                d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
              />
            </svg>
            ${(0,Gi.kg)("editor.about.github_repo",i,"Check Out Our Github")}
          </a>
        </div>

        <div class="support-section">
          <h3>${(0,Gi.kg)("editor.about.support_title",i,"Support Ultra Card")}</h3>
          <p>
            ${(0,Gi.kg)("editor.about.support_desc",i,"Your generous tips fuel the development of amazing features for this card! Without support from users like you, continued innovation wouldn't be possible.")}
          </p>

          <a
            href="https://www.paypal.com/ncp/payment/NLHALFSPA7PUS"
            target="_blank"
            rel="noopener"
            class="about-button paypal"
          >
            <svg viewBox="0 0 24 24" width="24" height="24" class="about-button-icon">
              <path
                fill="currentColor"
                d="M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.26-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.555.493l-1.07 6.781a.382.382 0 0 0 .378.44h3.613a.896.896 0 0 0 .884-.764l.035-.234.65-4.135.041-.29a.896.896 0 0 1 .884-.763h.557c3.748 0 6.68-1.526 7.534-5.942.356-1.846.174-3.388-.777-4.471z"
              />
            </svg>
            ${(0,Gi.kg)("editor.about.leave_tip",i,"LEAVE A TIP (PAYPAL)")}
          </a>
        </div>

        <div class="version-info">
          <p>${(0,Gi.kg)("editor.about.version",i,"Version")} ${Yi.x}</p>
        </div>
      </div>
    `}};Xi.styles=n.AH`
    .about-tab {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px;
      max-width: 600px;
      margin: 0 auto;
      color: var(--primary-text-color);
    }

    .about-logo-container {
      margin-bottom: 24px;
    }

    .about-logo {
      max-width: 300px;
      width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .about-developed-by {
      font-size: 1.2em;
      margin-bottom: 24px;
      color: var(--secondary-text-color);
      text-align: center;
    }

    .about-developed-by a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: bold;
    }

    .about-developed-by a:hover {
      text-decoration: underline;
    }

    .about-description {
      text-align: center;
      margin-bottom: 32px;
    }

    .about-description p {
      margin: 8px 0;
      color: var(--secondary-text-color);
      line-height: 1.5;
    }

    .about-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
      max-width: 300px;
      margin-bottom: 32px;
    }

    .about-button {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
      color: white;
      border: none;
      font-size: 14px;
    }

    .about-button svg {
      margin-right: 8px;
      fill: currentColor;
    }

    .about-button.discord {
      background-color: #5865f2;
    }

    .about-button.github {
      background-color: #24292e;
    }

    .about-button.paypal {
      background-color: #0070ba;
    }

    .about-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .support-section {
      text-align: center;
      margin-bottom: 32px;
      padding: 24px;
      background: var(--secondary-background-color);
      border-radius: 12px;
      width: 100%;
      max-width: 500px;
    }

    .support-section h3 {
      color: var(--primary-color);
      margin: 0 0 16px 0;
      font-size: 1.5em;
    }

    .support-section p {
      color: var(--secondary-text-color);
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .version-info {
      text-align: center;
      color: var(--secondary-text-color);
      font-size: 0.9em;
    }

    .version-info p {
      margin: 4px 0;
    }
  `,Zi([(0,r.MZ)({attribute:!1})],Xi.prototype,"hass",void 0),Xi=Zi([(0,r.EM)("ultra-about-tab")],Xi),a(6693),a(6768);var eo=a(4513),to=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let io=class extends n.WF{constructor(){super(...arguments),this._favoriteColors=[],this._editingName="",this._editingColor="",this._showAddForm=!1,this._newColorName="",this._newColorValue="#ffffff"}connectedCallback(){super.connectedCallback(),this._favoritesUnsubscribe=eo.m.subscribe((e=>{this._favoriteColors=e}))}disconnectedCallback(){super.disconnectedCallback(),this._favoritesUnsubscribe&&(this._favoritesUnsubscribe(),this._favoritesUnsubscribe=void 0)}_handleDragStart(e,t){this._draggedItem=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.id))}_handleDragOver(e,t){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this._dragOverIndex=t}_handleDragLeave(){this._dragOverIndex=void 0}_handleDrop(e,t){if(e.preventDefault(),this._dragOverIndex=void 0,!this._draggedItem)return;const i=this._favoriteColors.findIndex((e=>e.id===this._draggedItem.id));if(-1===i||i===t)return;const o=[...this._favoriteColors],[a]=o.splice(i,1);o.splice(t,0,a);const n=o.map((e=>e.id));eo.m.reorderFavorites(n),this._draggedItem=void 0}_startEdit(e){this._editingId=e.id,this._editingName=e.name,this._editingColor=e.color}_cancelEdit(){this._editingId=void 0,this._editingName="",this._editingColor=""}_saveEdit(){this._editingId&&this._editingName.trim()&&(eo.m.updateFavorite(this._editingId,{name:this._editingName.trim(),color:this._editingColor}),this._cancelEdit())}_deleteFavorite(e){confirm("Are you sure you want to delete this favorite color?")&&eo.m.deleteFavorite(e)}_showAddNewForm(){this._showAddForm=!0,this._newColorName="",this._newColorValue="#ffffff"}_cancelAdd(){this._showAddForm=!1,this._newColorName="",this._newColorValue="#ffffff"}_addNewFavorite(){this._newColorName.trim()&&(eo.m.addFavorite(this._newColorName.trim(),this._newColorValue),this._cancelAdd())}_clearAllFavorites(){confirm("Are you sure you want to delete ALL favorite colors? This cannot be undone.")&&eo.m.clearAll()}render(){return n.qy`
      <div class="favorites-manager">
        <div class="manager-header">
          <h3>Favorite Colors</h3>
          <div class="header-actions">
            <button
              class="add-btn"
              @click=${this._showAddNewForm}
              ?disabled=${this._showAddForm}
              title="Add new favorite color"
            >
              <ha-icon icon="mdi:plus"></ha-icon>
              Add Color
            </button>
            ${this._favoriteColors.length>0?n.qy`
                  <button
                    class="clear-btn"
                    @click=${this._clearAllFavorites}
                    title="Clear all favorite colors"
                  >
                    <ha-icon icon="mdi:delete-sweep"></ha-icon>
                    Clear All
                  </button>
                `:""}
          </div>
        </div>

        <div class="manager-description">
          <p>
            Manage your favorite colors that appear in all Ultra Card color pickers. Drag and drop
            to reorder.
          </p>
        </div>

        ${this._showAddForm?n.qy`
              <div class="add-form">
                <h4>Add New Favorite Color</h4>
                <div class="form-row">
                  <div class="form-field">
                    <label>Color Name</label>
                    <input
                      type="text"
                      .value=${this._newColorName}
                      @input=${e=>{this._newColorName=e.target.value}}
                      placeholder="Enter color name..."
                      maxlength="50"
                    />
                  </div>
                  <div class="form-field">
                    <label>Color Value</label>
                    <ultra-color-picker
                      .hass=${this.hass}
                      .value=${this._newColorValue}
                      .defaultValue=${"#ffffff"}
                      @value-changed=${e=>{this._newColorValue=e.detail.value}}
                    ></ultra-color-picker>
                  </div>
                </div>
                <div class="form-actions">
                  <button
                    class="save-btn"
                    @click=${this._addNewFavorite}
                    ?disabled=${!this._newColorName.trim()}
                  >
                    <ha-icon icon="mdi:check"></ha-icon>
                    Add
                  </button>
                  <button class="cancel-btn" @click=${this._cancelAdd}>
                    <ha-icon icon="mdi:close"></ha-icon>
                    Cancel
                  </button>
                </div>
              </div>
            `:""}
        ${0!==this._favoriteColors.length||this._showAddForm?"":n.qy`
              <div class="empty-state">
                <ha-icon icon="mdi:palette-outline"></ha-icon>
                <h4>No Favorite Colors</h4>
                <p>
                  Add your first favorite color to get started. These colors will appear in all
                  Ultra Card color pickers.
                </p>
              </div>
            `}
        ${this._favoriteColors.length>0?n.qy`
              <div class="favorites-list">
                ${this._favoriteColors.map(((e,t)=>n.qy`
                    <div
                      class="favorite-item ${this._dragOverIndex===t?"drag-over":""}"
                      draggable="true"
                      @dragstart=${t=>this._handleDragStart(t,e)}
                      @dragover=${e=>this._handleDragOver(e,t)}
                      @dragleave=${this._handleDragLeave}
                      @drop=${e=>this._handleDrop(e,t)}
                    >
                      <div class="drag-handle">
                        <ha-icon icon="mdi:drag-vertical"></ha-icon>
                      </div>

                      <div class="color-preview" style="background-color: ${e.color}"></div>

                      ${this._editingId===e.id?n.qy`
                            <div class="edit-form">
                              <input
                                type="text"
                                .value=${this._editingName}
                                @input=${e=>{this._editingName=e.target.value}}
                                placeholder="Color name..."
                                maxlength="50"
                              />
                              <ultra-color-picker
                                .hass=${this.hass}
                                .value=${this._editingColor}
                                .defaultValue=${e.color}
                                @value-changed=${e=>{this._editingColor=e.detail.value}}
                              ></ultra-color-picker>
                              <div class="edit-actions">
                                <button
                                  class="save-btn"
                                  @click=${this._saveEdit}
                                  ?disabled=${!this._editingName.trim()}
                                >
                                  <ha-icon icon="mdi:check"></ha-icon>
                                </button>
                                <button class="cancel-btn" @click=${this._cancelEdit}>
                                  <ha-icon icon="mdi:close"></ha-icon>
                                </button>
                              </div>
                            </div>
                          `:n.qy`
                            <div class="favorite-info">
                              <div class="favorite-name">${e.name}</div>
                              <div class="favorite-color-value">${e.color}</div>
                            </div>

                            <div class="favorite-actions">
                              <button
                                class="edit-btn"
                                @click=${()=>this._startEdit(e)}
                                title="Edit color"
                              >
                                <ha-icon icon="mdi:pencil"></ha-icon>
                              </button>
                              <button
                                class="delete-btn"
                                @click=${()=>this._deleteFavorite(e.id)}
                                title="Delete color"
                              >
                                <ha-icon icon="mdi:delete"></ha-icon>
                              </button>
                            </div>
                          `}
                    </div>
                  `))}
              </div>
            `:""}
      </div>
    `}static get styles(){return n.AH`
      .favorites-manager {
        width: 100%;
        max-width: 600px;
      }

      .manager-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
        flex-wrap: wrap;
        gap: 12px;
      }

      .manager-header h3 {
        margin: 0;
        color: var(--primary-text-color);
        font-size: 18px;
        font-weight: 500;
      }

      .header-actions {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .add-btn,
      .clear-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.2s ease;
      }

      .add-btn {
        background: var(--primary-color);
        color: white;
      }

      .add-btn:hover:not(:disabled) {
        background: var(--primary-color-dark, var(--primary-color));
        transform: translateY(-1px);
      }

      .add-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .clear-btn {
        background: var(--error-color);
        color: white;
      }

      .clear-btn:hover {
        background: var(--error-color-dark, var(--error-color));
        transform: translateY(-1px);
      }

      .manager-description {
        margin-bottom: 24px;
        padding: 12px 16px;
        background: var(--card-background-color, #f5f5f5);
        border-radius: 8px;
        border-left: 4px solid var(--primary-color);
      }

      .manager-description p {
        margin: 0;
        color: var(--secondary-text-color);
        font-size: 14px;
        line-height: 1.4;
      }

      .add-form {
        background: var(--card-background-color, white);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 24px;
      }

      .add-form h4 {
        margin: 0 0 16px 0;
        color: var(--primary-text-color);
        font-size: 16px;
        font-weight: 500;
      }

      .form-row {
        display: flex;
        gap: 16px;
        margin-bottom: 16px;
        flex-wrap: wrap;
      }

      .form-field {
        flex: 1;
        min-width: 200px;
      }

      .form-field label {
        display: block;
        margin-bottom: 6px;
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .form-field input {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        box-sizing: border-box;
      }

      .form-field input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb, 33, 150, 243), 0.2);
      }

      .form-actions {
        display: flex;
        gap: 8px;
        justify-content: flex-end;
      }

      .save-btn,
      .cancel-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.2s ease;
      }

      .save-btn {
        background: var(--success-color, #4caf50);
        color: white;
      }

      .save-btn:hover:not(:disabled) {
        background: var(--success-color-dark, #45a049);
      }

      .save-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .cancel-btn {
        background: var(--secondary-background-color, #f5f5f5);
        color: var(--primary-text-color);
        border: 1px solid var(--divider-color);
      }

      .cancel-btn:hover {
        background: var(--primary-background-color);
        border-color: var(--primary-color);
        color: var(--primary-color);
      }

      .empty-state {
        text-align: center;
        padding: 40px 20px;
        color: var(--secondary-text-color);
      }

      .empty-state ha-icon {
        --mdc-icon-size: 48px;
        margin-bottom: 16px;
        opacity: 0.5;
      }

      .empty-state h4 {
        margin: 0 0 8px 0;
        font-size: 18px;
        font-weight: 500;
      }

      .empty-state p {
        margin: 0;
        font-size: 14px;
        line-height: 1.4;
      }

      .favorites-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .favorite-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: var(--card-background-color, white);
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        transition: all 0.2s ease;
        cursor: move;
      }

      .favorite-item:hover {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .favorite-item.drag-over {
        border-color: var(--primary-color);
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.05);
      }

      .drag-handle {
        color: var(--secondary-text-color);
        cursor: grab;
      }

      .drag-handle:active {
        cursor: grabbing;
      }

      .drag-handle ha-icon {
        --mdc-icon-size: 18px;
      }

      .color-preview {
        width: 32px;
        height: 32px;
        border-radius: 6px;
        border: 2px solid var(--divider-color);
        flex-shrink: 0;
      }

      .favorite-info {
        flex: 1;
        min-width: 0;
      }

      .favorite-name {
        font-weight: 500;
        color: var(--primary-text-color);
        margin-bottom: 2px;
        word-break: break-word;
      }

      .favorite-color-value {
        font-size: 12px;
        color: var(--secondary-text-color);
        font-family: var(--code-font-family, monospace);
      }

      .favorite-actions {
        display: flex;
        gap: 4px;
      }

      .edit-btn,
      .delete-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s ease;
        background: transparent;
      }

      .edit-btn {
        color: var(--primary-color);
      }

      .edit-btn:hover {
        background: rgba(var(--primary-color-rgb, 33, 150, 243), 0.1);
      }

      .delete-btn {
        color: var(--error-color);
      }

      .delete-btn:hover {
        background: rgba(var(--error-color-rgb, 244, 67, 54), 0.1);
      }

      .edit-btn ha-icon,
      .delete-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      .edit-form {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
        min-width: 0;
      }

      .edit-form input {
        flex: 1;
        min-width: 120px;
        padding: 6px 8px;
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
      }

      .edit-form input:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      .edit-actions {
        display: flex;
        gap: 4px;
      }

      .edit-actions .save-btn,
      .edit-actions .cancel-btn {
        padding: 6px;
        min-width: auto;
      }

      .edit-actions .save-btn ha-icon,
      .edit-actions .cancel-btn ha-icon {
        --mdc-icon-size: 16px;
      }

      @media (max-width: 768px) {
        .manager-header {
          flex-direction: column;
          align-items: stretch;
        }

        .header-actions {
          justify-content: center;
        }

        .form-row {
          flex-direction: column;
        }

        .form-field {
          min-width: auto;
        }

        .favorite-item {
          flex-wrap: wrap;
          gap: 8px;
        }

        .edit-form {
          flex-direction: column;
          align-items: stretch;
          gap: 8px;
        }

        .edit-actions {
          justify-content: center;
        }
      }
    `}};to([(0,r.MZ)({attribute:!1})],io.prototype,"hass",void 0),to([(0,r.wk)()],io.prototype,"_favoriteColors",void 0),to([(0,r.wk)()],io.prototype,"_draggedItem",void 0),to([(0,r.wk)()],io.prototype,"_dragOverIndex",void 0),to([(0,r.wk)()],io.prototype,"_editingId",void 0),to([(0,r.wk)()],io.prototype,"_editingName",void 0),to([(0,r.wk)()],io.prototype,"_editingColor",void 0),to([(0,r.wk)()],io.prototype,"_showAddForm",void 0),to([(0,r.wk)()],io.prototype,"_newColorName",void 0),to([(0,r.wk)()],io.prototype,"_newColorValue",void 0),io=to([(0,r.EM)("uc-favorite-colors-manager")],io),a(8287),a(9956);var oo=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let ao=class extends n.WF{constructor(){super(...arguments),this.open=!1,this.cardCount=0,this.viewNames=[],this._selectedMethod=null}_handleMethodSelect(e){this._selectedMethod=e}_handleConfirm(){this._selectedMethod&&(this.dispatchEvent(new CustomEvent("method-selected",{detail:{method:this._selectedMethod},bubbles:!0,composed:!0})),this._close())}_close(){this.dispatchEvent(new CustomEvent("dialog-closed",{bubbles:!0,composed:!0}))}render(){return this.open?n.qy`
      <div class="backdrop" @click="${this._close}">
        <div class="dialog" @click="${e=>e.stopPropagation()}">
          <!-- Header -->
          <div class="header">
            <div class="header-icon"></div>
            <div class="header-content">
              <h2>Restore Dashboard Snapshot</h2>
              <p class="header-subtitle">
                ${this.cardCount} Ultra Cards  ${this.viewNames.length} Views
              </p>
            </div>
            <button class="close-btn" @click="${this._close}"></button>
          </div>

          <!-- Method Cards -->
          <div class="methods">
            <!-- Smart Replace Method -->
            <div
              class="method-card ${"smart"===this._selectedMethod?"selected":""}"
              @click="${()=>this._handleMethodSelect("smart")}"
            >
              <div class="method-header">
                <input
                  type="radio"
                  name="method"
                  .checked="${"smart"===this._selectedMethod}"
                  @click="${e=>e.stopPropagation()}"
                />
                <div class="method-icon smart"></div>
                <div class="method-title">
                  <h3>Smart Replace</h3>
                  <span class="badge recommended">Recommended</span>
                </div>
              </div>
              <p class="method-description">
                Intelligently matches cards by custom name OR position, replacing them in-place
                without creating duplicates.
              </p>
              <ul class="method-features">
                <li> Safe - no duplicates</li>
                <li> Works with named or unnamed cards</li>
                <li> Preserves non-matching cards</li>
                <li> Can run multiple times</li>
              </ul>
            </div>

            <!-- Clean & Restore Method -->
            <div
              class="method-card ${"clean"===this._selectedMethod?"selected":""}"
              @click="${()=>this._handleMethodSelect("clean")}"
            >
              <div class="method-header">
                <input
                  type="radio"
                  name="method"
                  .checked="${"clean"===this._selectedMethod}"
                  @click="${e=>e.stopPropagation()}"
                />
                <div class="method-icon clean"></div>
                <div class="method-title">
                  <h3>Clean & Restore</h3>
                  <span class="badge nuclear">Nuclear Option</span>
                </div>
              </div>
              <p class="method-description">
                Deletes ALL Ultra Cards first, then restores snapshot cards to their exact original
                positions and order.
              </p>
              <ul class="method-features">
                <li> Fixes duplicated cards</li>
                <li> Exact snapshot state</li>
                <li> Perfect for messed up dashboards</li>
                <li> Deletes all Ultra Cards first</li>
              </ul>
            </div>
          </div>

          <!-- Views Preview -->
          <div class="views-preview">
            <div class="preview-title">Affected Views:</div>
            <div class="view-chips">
              ${this.viewNames.map((e=>n.qy`<div class="view-chip">${e}</div>`))}
            </div>
          </div>

          <!-- Footer Actions -->
          <div class="footer">
            <button class="btn btn-secondary" @click="${this._close}">Cancel</button>
            <button
              class="btn btn-primary"
              ?disabled="${!this._selectedMethod}"
              @click="${this._handleConfirm}"
            >
              <span class="btn-icon"></span>
              Restore ${this.cardCount} Cards
            </button>
          </div>
        </div>
      </div>
    `:n.qy``}};ao.styles=n.AH`
    :host {
      --primary: #667eea;
      --primary-dark: #5568d3;
      --secondary: #764ba2;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --bg-primary: #fff;
      --bg-secondary: #f9fafb;
      --border: #e5e7eb;
      --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    * {
      box-sizing: border-box;
    }

    .backdrop {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
      animation: fadeIn 0.2s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .dialog {
      background: var(--bg-primary);
      border-radius: 16px;
      box-shadow: var(--shadow);
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 24px;
      border-bottom: 2px solid var(--border);
    }

    .header-icon {
      font-size: 48px;
      line-height: 1;
    }

    .header-content {
      flex: 1;
    }

    .header h2 {
      margin: 0;
      font-size: 24px;
      font-weight: 700;
      color: var(--text-primary);
    }

    .header-subtitle {
      margin: 4px 0 0 0;
      font-size: 14px;
      color: var(--text-secondary);
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.2s;
    }

    .close-btn:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }

    /* Methods */
    .methods {
      padding: 24px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 768px) {
      .methods {
        grid-template-columns: 1fr;
      }
    }

    .method-card {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.2s;
      background: var(--bg-primary);
    }

    .method-card:hover {
      border-color: var(--primary);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
    }

    .method-card.selected {
      border-color: var(--primary);
      background: linear-gradient(
        135deg,
        rgba(102, 126, 234, 0.05) 0%,
        rgba(118, 75, 162, 0.05) 100%
      );
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
    }

    .method-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 12px;
    }

    .method-header input[type='radio'] {
      margin-top: 4px;
      width: 20px;
      height: 20px;
      cursor: pointer;
      accent-color: var(--primary);
    }

    .method-icon {
      font-size: 32px;
      line-height: 1;
    }

    .method-title {
      flex: 1;
    }

    .method-title h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .badge {
      display: inline-block;
      margin-top: 4px;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .badge.recommended {
      background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
      color: white;
    }

    .badge.nuclear {
      background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
      color: white;
    }

    .method-description {
      margin: 12px 0;
      font-size: 14px;
      line-height: 1.6;
      color: var(--text-secondary);
    }

    .method-features {
      list-style: none;
      padding: 0;
      margin: 12px 0 0 0;
    }

    .method-features li {
      font-size: 13px;
      padding: 6px 0;
      color: var(--text-secondary);
    }

    /* Views Preview */
    .views-preview {
      padding: 20px 24px;
      background: var(--bg-secondary);
      border-top: 2px solid var(--border);
    }

    .preview-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 12px;
    }

    .view-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .view-chip {
      background: var(--bg-primary);
      border: 1px solid var(--border);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 13px;
      color: var(--text-primary);
    }

    /* Footer */
    .footer {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      padding: 20px 24px;
      border-top: 2px solid var(--border);
    }

    .btn {
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: 2px solid var(--border);
    }

    .btn-secondary:hover:not(:disabled) {
      background: #e5e7eb;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      border: none;
    }

    .btn-primary:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .btn-icon {
      font-size: 18px;
    }
  `,oo([(0,r.MZ)({type:Boolean})],ao.prototype,"open",void 0),oo([(0,r.MZ)({type:Number})],ao.prototype,"cardCount",void 0),oo([(0,r.MZ)({type:Array})],ao.prototype,"viewNames",void 0),oo([(0,r.wk)()],ao.prototype,"_selectedMethod",void 0),ao=oo([(0,r.EM)("uc-snapshot-restore-dialog")],ao);var no=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let ro=class extends n.WF{constructor(){super(...arguments),this.open=!1,this._activeTab="snapshots",this._snapshots=[],this._cardBackups=[],this._loading=!1,this._error=null,this._expandedSnapshotId=null,this._showRestoreDialog=!1,this._pendingRestoreSnapshot=null}connectedCallback(){super.connectedCallback(),this.open&&this._loadData()}updated(e){e.has("open")&&this.open&&this._loadData()}async _loadData(){console.log(` Modal _loadData() called - Active tab: ${this._activeTab}`),this._loading=!0,this._error=null;try{"snapshots"===this._activeTab?(console.log(" Requesting snapshot list..."),this._snapshots=await w.listSnapshots(30),console.log(` Loaded ${this._snapshots.length} snapshots`)):(console.log(" Requesting card backups..."),this._cardBackups=await S.listBackups(30),console.log(` Loaded ${this._cardBackups.length} card backups`))}catch(e){console.error(" Failed to load data:",e),this._error=e instanceof Error?e.message:"Failed to load data"}finally{this._loading=!1}}_handleTabChange(e){this._activeTab=e,this._expandedSnapshotId=null,this._loadData()}async _handleRestoreSnapshot(e){this._pendingRestoreSnapshot=e,this._showRestoreDialog=!0}async _handleMethodSelected(e){const{method:t}=e.detail,i=this._pendingRestoreSnapshot;if(t&&i){this._showRestoreDialog=!1,this._pendingRestoreSnapshot=null;try{const e=await w.restoreSnapshot(i.id),o="smart"===t?await this._performSmartRestore(e.snapshot_data):await this._performCleanRestore(e.snapshot_data);alert(` Snapshot Restored Successfully!\n\n${o.restored} Ultra Cards restored\n`+(o.deleted>0?`${o.deleted} cards deleted\n`:"")+(o.skipped>0?`${o.skipped} cards skipped (no match)\n`:"")+"\nRefreshing page..."),this.dispatchEvent(new CustomEvent("snapshot-restored",{detail:{snapshot:i,result:e,stats:o},bubbles:!0,composed:!0})),setTimeout((()=>{window.location.reload()}),2e3)}catch(e){console.error("Failed to restore snapshot:",e),alert(` Snapshot Restore Failed\n\nError: ${e instanceof Error?e.message:"Unknown error"}\n\nYour dashboard has not been modified.`)}}}async _performDashboardRestore(e){console.log(" Starting dashboard restore...");const t=await this._getLovelaceConfig();if(!t)throw new Error("Could not access dashboard configuration");console.log(" Current dashboard config loaded");const i=t.views||[];let o=0;const a={};if(e.cards.forEach((e=>{const t=e.view_path||e.view_id;a[t]||(a[t]=[]),a[t].push(e)})),i.forEach(((e,t)=>{const i=e.path||`view-${t}`,n=e.id||i,r=a[i]||a[n]||[];0!==r.length&&(console.log(`   Restoring ${r.length} cards in view: ${e.title||i}`),r.sort(((e,t)=>e.card_index-t.card_index)),"sections"===e.type&&e.sections?e.sections.forEach((e=>{e.cards&&(e.cards=e.cards.map(((e,t)=>{if("custom:ultra-card"===e.type){const e=r.find((e=>e.card_index===t));if(e&&e.config)return console.log(`     Restored card at index ${t}`),o++,e.config}return e})))})):e.cards&&(e.cards=e.cards.map(((e,t)=>{if("custom:ultra-card"===e.type){const e=r.find((e=>e.card_index===t));if(e&&e.config)return console.log(`     Restored card at index ${t}`),o++,e.config}return e}))))})),console.log(` Total cards restored: ${o}`),0===o)throw new Error("No Ultra Cards were found to restore. Dashboard may have changed since snapshot was taken.");await this._saveLovelaceConfig(t),console.log(" Dashboard configuration saved successfully")}async _performSmartRestore(e){console.log(" Starting SMART REPLACE restore...");const t=await this._getLovelaceConfig();if(!t)throw new Error("Could not access dashboard configuration");const i=t.views||[];let o=0,a=0;const n={},r={};if(e.cards.forEach((e=>{var t;const i=e.view_path||e.view_id,o=e.card_name||(null===(t=e.config)||void 0===t?void 0:t.card_name)||"";if(o&&!o.startsWith("Ultra Card "))n[`${i}::${o}`]=e;else{const t=`${i}::${e.card_index}`;r[t]=e}})),console.log(` Indexed ${Object.keys(n).length} custom-named cards and ${Object.keys(r).length} position-based cards`),i.forEach(((e,t)=>{const i=e.path||`view-${t}`,s=e.id||i;let l=0;"sections"===e.type&&e.sections?e.sections.forEach((t=>{t.cards&&(t.cards=t.cards.map((t=>{if("custom:ultra-card"===t.type){const d=t.card_name||"";let c=null;if(d&&!d.startsWith("Ultra Card ")?(c=n[`${i}::${d}`]||n[`${s}::${d}`],c&&console.log(`   Name match: "${d}" in ${e.title||i}`)):(c=r[`${i}::${l}`]||r[`${s}::${l}`],c&&console.log(`   Position match: card ${l} in ${e.title||i}`)),l++,c&&c.config)return o++,c.config;console.log(`   Skipped: "${d}" at position ${l-1} (no match)`),a++}return t})))})):e.cards&&(e.cards=e.cards.map((t=>{if("custom:ultra-card"===t.type){const d=t.card_name||"";let c=null;if(d&&!d.startsWith("Ultra Card ")?(c=n[`${i}::${d}`]||n[`${s}::${d}`],c&&console.log(`   Name match: "${d}" in ${e.title||i}`)):(c=r[`${i}::${l}`]||r[`${s}::${l}`],c&&console.log(`   Position match: card ${l} in ${e.title||i}`)),l++,c&&c.config)return o++,c.config;console.log(`   Skipped: "${d}" at position ${l-1} (no match)`),a++}return t})))})),console.log(` Smart restore complete: ${o} replaced, ${a} skipped`),0===o)throw new Error("No matching cards found. Check that your dashboard structure matches.");return await this._saveLovelaceConfig(t),{restored:o,deleted:0,skipped:a}}async _performCleanRestore(e){console.log(" Starting CLEAN & RESTORE...");const t=await this._getLovelaceConfig();if(!t)throw new Error("Could not access dashboard configuration");const i=t.views||[];let o=0,a=0;console.log(" Step 1: Deleting all existing Ultra Cards..."),i.forEach((e=>{if("sections"===e.type&&e.sections)e.sections.forEach((t=>{if(t.cards){const i=t.cards.length;t.cards=t.cards.filter((e=>"custom:ultra-card"!==e.type||(o++,!1))),console.log(`   Deleted ${i-t.cards.length} Ultra Cards from section in ${e.title||"view"}`)}}));else if(e.cards){const t=e.cards.length;e.cards=e.cards.filter((e=>"custom:ultra-card"!==e.type||(o++,!1))),console.log(`   Deleted ${t-e.cards.length} Ultra Cards from ${e.title||"view"}`)}})),console.log(" Step 2: Restoring snapshot cards...");const n={};return e.cards.forEach((e=>{const t=e.view_path||e.view_id;n[t]||(n[t]=[]),n[t].push(e)})),i.forEach(((e,t)=>{const i=e.path||`view-${t}`,o=e.id||i,r=n[i]||n[o]||[];if(0!==r.length)if(console.log(`   Restoring ${r.length} cards to ${e.title||i}`),"sections"===e.type&&e.sections)if(r.some((e=>void 0!==e.section_index))){console.log("     Using section info from snapshot (new format)");const t={};r.forEach((e=>{var i;const o=null!==(i=e.section_index)&&void 0!==i?i:0;t[o]||(t[o]=[]),t[o].push(e)})),Object.keys(t).forEach((t=>{const i=parseInt(t);for(;e.sections.length<=i;)e.sections.push({cards:[]});e.sections[i].cards||(e.sections[i].cards=[])})),Object.entries(t).forEach((([t,i])=>{const o=parseInt(t);i.sort(((e,t)=>{var i,o;return(null!==(i=e.card_index_in_section)&&void 0!==i?i:e.card_index)-(null!==(o=t.card_index_in_section)&&void 0!==o?o:t.card_index)})),i.forEach((t=>{e.sections[o].cards.push(t.config),a++}))}))}else{console.log("     No section info - distributing evenly across sections (old snapshot format)"),r.sort(((e,t)=>e.card_index-t.card_index));const t=e.sections.length,i=Math.ceil(r.length/t);r.forEach(((t,o)=>{const n=Math.floor(o/i);e.sections[n]||(e.sections[n]={cards:[]}),e.sections[n].cards||(e.sections[n].cards=[]),e.sections[n].cards.push(t.config),a++}))}else e.cards||(e.cards=[]),r.sort(((e,t)=>e.card_index-t.card_index)),r.forEach((t=>{e.cards.push(t.config),a++}))})),console.log(` Clean restore complete: ${o} deleted, ${a} restored`),await this._saveLovelaceConfig(t),{restored:a,deleted:o,skipped:0}}async _getLovelaceConfig(){return this.hass.callWS({type:"lovelace/config"})}async _saveLovelaceConfig(e){await this.hass.callWS({type:"lovelace/config/save",config:e})}async _handleRestoreCardBackup(e){if(confirm(`Restore "${e.card_name}"? This will replace your current card configuration.`))try{const t=await S.restoreBackup(e.id);this.dispatchEvent(new CustomEvent("card-backup-restored",{detail:{config:t,backup:e},bubbles:!0,composed:!0})),this._close()}catch(e){console.error("Failed to restore backup:",e),alert(`Failed to restore backup: ${e instanceof Error?e.message:"Unknown error"}`)}}async _handleDeleteSnapshot(e){if("auto"!==e.type){if(confirm(`Delete snapshot from ${e.date}? This cannot be undone.`))try{await w.deleteSnapshot(e.id),this._loadData()}catch(e){console.error("Failed to delete snapshot:",e),alert(`Failed to delete snapshot: ${e instanceof Error?e.message:"Unknown error"}`)}}else alert("Auto snapshots cannot be deleted manually")}async _handleDeleteCardBackup(e){if(confirm(`Delete backup "${e.card_name}"? This cannot be undone.`))try{await S.deleteBackup(e.id),this._loadData()}catch(e){console.error("Failed to delete backup:",e),alert(`Failed to delete backup: ${e instanceof Error?e.message:"Unknown error"}`)}}async _handleRenameCardBackup(e){const t=prompt("Enter new name for backup:",e.card_name);if(t&&t!==e.card_name)try{await S.renameBackup(e.id,t),this._loadData()}catch(e){console.error("Failed to rename backup:",e),alert(`Failed to rename backup: ${e instanceof Error?e.message:"Unknown error"}`)}}async _handleDownloadCardBackup(e){try{const t=await S.getBackup(e.id);S.downloadBackup(t)}catch(e){console.error("Failed to download backup:",e),alert(`Failed to download backup: ${e instanceof Error?e.message:"Unknown error"}`)}}_toggleSnapshotExpand(e){this._expandedSnapshotId=this._expandedSnapshotId===e?null:e}_close(){this.dispatchEvent(new CustomEvent("close-modal",{bubbles:!0,composed:!0}))}_formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}_formatRelativeTime(e){const t=Date.now()-1e3*e,i=Math.floor(t/6e4),o=Math.floor(i/60),a=Math.floor(o/24);return i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:a<7?`${a}d ago`:this._formatDate(new Date(1e3*e).toISOString())}render(){return this.open?n.qy`
      <div class="modal-backdrop" @click="${this._close}">
        <div class="modal-container" @click="${e=>e.stopPropagation()}">
          <div class="modal-header">
            <h2> Backup & Snapshot History</h2>
            <button class="close-btn" @click="${this._close}"></button>
          </div>

          <!-- TABS -->
          <div class="tabs">
            <button
              class="tab ${"snapshots"===this._activeTab?"active":""}"
              @click="${()=>this._handleTabChange("snapshots")}"
            >
               Dashboard Snapshots
            </button>
            <button
              class="tab ${"card-backups"===this._activeTab?"active":""}"
              @click="${()=>this._handleTabChange("card-backups")}"
            >
               Manual Card Backups
            </button>
          </div>

          <!-- CONTENT -->
          <div class="modal-body">
            ${this._loading?n.qy`<div class="loading">Loading...</div>`:this._error?n.qy`<div class="error">${this._error}</div>`:"snapshots"===this._activeTab?this._renderSnapshotsTab():this._renderCardBackupsTab()}
          </div>
        </div>
      </div>

      <!-- Restore Method Dialog -->
      ${this._showRestoreDialog&&this._pendingRestoreSnapshot?n.qy`
            <uc-snapshot-restore-dialog
              .open="${this._showRestoreDialog}"
              .cardCount="${this._pendingRestoreSnapshot.card_count}"
              .viewNames="${Object.keys(this._pendingRestoreSnapshot.views_breakdown)}"
              @method-selected="${this._handleMethodSelected}"
              @dialog-closed="${()=>{this._showRestoreDialog=!1,this._pendingRestoreSnapshot=null}}"
            ></uc-snapshot-restore-dialog>
          `:""}
    `:n.qy``}_renderSnapshotsTab(){return 0===this._snapshots.length?n.qy`
        <div class="empty-state">
          <div class="empty-icon"></div>
          <p>No dashboard snapshots yet</p>
          <p class="empty-hint">
            Dashboard snapshots capture all Ultra Cards across your entire dashboard
          </p>
        </div>
      `:n.qy`
      <div class="list">${this._snapshots.map((e=>this._renderSnapshotItem(e)))}</div>
    `}_renderSnapshotItem(e){const t=this._expandedSnapshotId===e.id,i=Object.entries(e.views_breakdown);return n.qy`
      <div class="list-item snapshot-item ${t?"expanded":""}">
        <div class="item-header" @click="${()=>this._toggleSnapshotExpand(e.id)}">
          <div class="item-main">
            <div class="item-title">
              <span class="item-icon">${"auto"===e.type?"":""}</span>
              <span class="item-name">${e.date}</span>
              <span class="badge ${e.type}">${e.type}</span>
            </div>
            <div class="item-meta">
              <span class="meta-item"> ${e.card_count} cards</span>
              <span class="meta-item"> ${e.size_kb} KB</span>
              <span class="meta-item"
                > ${this._formatRelativeTime(e.created_timestamp)}</span
              >
            </div>
          </div>
          <div class="expand-icon">${t?"":""}</div>
        </div>

        ${t?n.qy`
              <div class="item-details">
                <div class="details-section">
                  <h4>Views Breakdown:</h4>
                  <ul class="views-list">
                    ${i.map((([e,t])=>n.qy`
                        <li><strong>${e}:</strong> ${t} card${t>1?"s":""}</li>
                      `))}
                  </ul>
                </div>

                <div class="item-actions">
                  <button
                    class="btn btn-primary"
                    @click="${()=>this._handleRestoreSnapshot(e)}"
                  >
                     Restore All
                  </button>
                  ${"manual"===e.type?n.qy`
                        <button
                          class="btn btn-danger"
                          @click="${()=>this._handleDeleteSnapshot(e)}"
                        >
                           Delete
                        </button>
                      `:""}
                </div>
              </div>
            `:""}
      </div>
    `}_renderCardBackupsTab(){return 0===this._cardBackups.length?n.qy`
        <div class="empty-state">
          <div class="empty-icon"></div>
          <p>No card backups yet</p>
          <p class="empty-hint">Card backups save individual Ultra Card configurations</p>
        </div>
      `:n.qy`
      <div class="list">${this._cardBackups.map((e=>this._renderCardBackupItem(e)))}</div>
      <div class="backup-info">
        <p>
           You can have up to 30 card backups. Oldest backups are automatically removed when limit
          is reached.
        </p>
      </div>
    `}_renderCardBackupItem(e){return n.qy`
      <div class="list-item">
        <div class="item-main">
          <div class="item-title">
            <span class="item-icon"></span>
            <span class="item-name">${e.card_name}</span>
          </div>
          <div class="item-meta">
            <span class="meta-item">${e.stats.row_count} rows</span>
            <span class="meta-item">${e.stats.column_count} cols</span>
            <span class="meta-item">${e.stats.module_count} modules</span>
            <span class="meta-item"> ${e.size_kb} KB</span>
            <span class="meta-item"> ${this._formatRelativeTime(e.created_timestamp)}</span>
          </div>
        </div>

        <div class="item-actions">
          <button class="btn btn-primary" @click="${()=>this._handleRestoreCardBackup(e)}">
             Restore
          </button>
          <button class="btn btn-secondary" @click="${()=>this._handleRenameCardBackup(e)}">
             Rename
          </button>
          <button
            class="btn btn-secondary"
            @click="${()=>this._handleDownloadCardBackup(e)}"
          >
             Download
          </button>
          <button class="btn btn-danger" @click="${()=>this._handleDeleteCardBackup(e)}">
             Delete
          </button>
        </div>
      </div>
    `}};ro.styles=n.AH`
    :host {
      display: block;
    }

    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
    }

    .modal-container {
      background: var(--card-background-color, #fff);
      border-radius: 12px;
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      border-bottom: 2px solid var(--divider-color, #e0e0e0);
    }

    .modal-header h2 {
      margin: 0;
      font-size: 22px;
      font-weight: 600;
      color: var(--primary-text-color, #000);
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      padding: 4px 8px;
      color: var(--secondary-text-color, #666);
      transition: color 0.2s;
    }

    .close-btn:hover {
      color: var(--primary-color, #03a9f4);
    }

    /* TABS */
    .tabs {
      display: flex;
      border-bottom: 2px solid var(--divider-color, #e0e0e0);
      padding: 0 24px;
      gap: 8px;
    }

    .tab {
      background: none;
      border: none;
      padding: 12px 20px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      color: var(--secondary-text-color, #666);
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
    }

    .tab:hover {
      color: var(--primary-text-color, #000);
    }

    .tab.active {
      color: var(--primary-color, #03a9f4);
      border-bottom-color: var(--primary-color, #03a9f4);
    }

    /* BODY */
    .modal-body {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
    }

    .loading,
    .error {
      text-align: center;
      padding: 40px;
      color: var(--secondary-text-color, #666);
    }

    .error {
      color: var(--error-color, #f44336);
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
    }

    .empty-icon {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.3;
    }

    .empty-state p {
      margin: 8px 0;
      color: var(--secondary-text-color, #666);
    }

    .empty-hint {
      font-size: 13px;
      opacity: 0.7;
    }

    /* LIST */
    .list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .list-item {
      background: var(--secondary-background-color, #f5f5f5);
      border-radius: 8px;
      padding: 16px;
      transition: all 0.2s;
      border: 2px solid transparent;
    }

    .list-item:hover {
      border-color: var(--primary-color, #03a9f4);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .snapshot-item .item-header {
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .item-main {
      flex: 1;
    }

    .item-title {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      font-size: 15px;
      font-weight: 600;
      color: var(--primary-text-color, #000);
    }

    .item-icon {
      font-size: 18px;
    }

    .item-name {
      flex: 1;
    }

    .badge {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 12px;
      font-weight: 600;
      text-transform: uppercase;
      margin-right: 12px;
    }

    .badge.auto {
      background: #e0e0e0;
      color: #666;
    }

    .badge.manual {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
    }

    .item-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 13px;
      color: var(--secondary-text-color, #666);
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .expand-icon {
      font-size: 12px;
      color: var(--secondary-text-color, #666);
      transition: transform 0.2s;
    }

    .snapshot-item.expanded .expand-icon {
      transform: rotate(0deg);
    }

    /* DETAILS */
    .item-details {
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--divider-color, #e0e0e0);
    }

    .details-section {
      margin-bottom: 16px;
    }

    .details-section h4 {
      margin: 0 0 8px 0;
      font-size: 14px;
      font-weight: 600;
      color: var(--primary-text-color, #000);
    }

    .views-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .views-list li {
      padding: 6px 0;
      font-size: 13px;
      color: var(--secondary-text-color, #666);
    }

    /* ACTIONS */
    .item-actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary {
      background: var(--primary-color, #03a9f4);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(3, 169, 244, 0.3);
    }

    .btn-secondary {
      background: var(--secondary-background-color, #e0e0e0);
      color: var(--primary-text-color, #000);
    }

    .btn-secondary:hover {
      background: var(--divider-color, #ccc);
    }

    .btn-danger {
      background: var(--error-color, #f44336);
      color: white;
    }

    .btn-danger:hover {
      background: #d32f2f;
    }

    .backup-info {
      margin-top: 16px;
      padding: 12px;
      background: var(--secondary-background-color, #f5f5f5);
      border-radius: 6px;
      font-size: 13px;
      color: var(--secondary-text-color, #666);
    }

    .backup-info p {
      margin: 0;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .modal-backdrop {
        padding: 0;
      }

      .modal-container {
        max-height: 100vh;
        border-radius: 0;
      }

      .item-actions {
        width: 100%;
      }

      .btn {
        flex: 1;
        min-width: 0;
      }
    }
  `,no([(0,r.MZ)({attribute:!1})],ro.prototype,"hass",void 0),no([(0,r.MZ)({attribute:!1})],ro.prototype,"subscription",void 0),no([(0,r.MZ)({type:Boolean})],ro.prototype,"open",void 0),no([(0,r.wk)()],ro.prototype,"_activeTab",void 0),no([(0,r.wk)()],ro.prototype,"_snapshots",void 0),no([(0,r.wk)()],ro.prototype,"_cardBackups",void 0),no([(0,r.wk)()],ro.prototype,"_loading",void 0),no([(0,r.wk)()],ro.prototype,"_error",void 0),no([(0,r.wk)()],ro.prototype,"_expandedSnapshotId",void 0),no([(0,r.wk)()],ro.prototype,"_showRestoreDialog",void 0),no([(0,r.wk)()],ro.prototype,"_pendingRestoreSnapshot",void 0),ro=no([(0,r.EM)("uc-snapshot-history-modal")],ro);var so=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let lo=class extends n.WF{constructor(){super(...arguments),this.open=!1,this._settings={enabled:!0,time:"03:00",timezone:"UTC"},this._loading=!1,this._saving=!1,this._error=null}connectedCallback(){super.connectedCallback(),this.open&&this._loadSettings()}updated(e){e.has("open")&&this.open&&this._loadSettings()}async _loadSettings(){this._loading=!0,this._error=null;try{this._settings=await w.getSettings()}catch(e){console.error("Failed to load snapshot settings:",e),this._error=e instanceof Error?e.message:"Failed to load settings"}finally{this._loading=!1}}async _handleSave(){this._saving=!0,this._error=null;try{await w.updateSettings(this._settings),this.dispatchEvent(new CustomEvent("settings-saved",{detail:{settings:this._settings},bubbles:!0,composed:!0})),this._close()}catch(e){console.error("Failed to save settings:",e),this._error=e instanceof Error?e.message:"Failed to save settings"}finally{this._saving=!1}}_handleEnabledToggle(e){const t=e.target;this._settings=Object.assign(Object.assign({},this._settings),{enabled:t.checked})}_handleTimeChange(e){const t=e.target;this._settings=Object.assign(Object.assign({},this._settings),{time:t.value})}_handleTimezoneChange(e){const t=e.target;this._settings=Object.assign(Object.assign({},this._settings),{timezone:t.value})}_close(){this.dispatchEvent(new CustomEvent("dialog-closed",{bubbles:!0,composed:!0}))}_getNextSnapshotTime(){if(!this._settings.enabled)return"Disabled";const[e,t]=this._settings.time.split(":").map(Number),i=new Date,o=new Date(i);return o.setHours(e,t,0,0),o<=i&&o.setDate(o.getDate()+1),`${o.getDate()===i.getDate()?"Today":"Tomorrow"} at ${o.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`}render(){return this.open?n.qy`
      <div class="modal-backdrop" @click="${this._close}">
        <div class="modal-container" @click="${e=>e.stopPropagation()}">
          <div class="modal-header">
            <h2> Snapshot Settings</h2>
            <button class="close-btn" @click="${this._close}"></button>
          </div>

          <div class="modal-body">
            ${this._loading?n.qy`<div class="loading">Loading settings...</div>`:this._error?n.qy`<div class="error">${this._error}</div>`:n.qy`
                    <div class="settings-form">
                      <!-- ENABLE/DISABLE AUTO SNAPSHOTS -->
                      <div class="form-group">
                        <label class="toggle-label">
                          <input
                            type="checkbox"
                            .checked="${this._settings.enabled}"
                            @change="${this._handleEnabledToggle}"
                          />
                          <span class="toggle-text">
                            <strong>Enable Daily Auto-Snapshots</strong>
                            <p class="help-text">
                              Automatically backup all Ultra Cards in your dashboard every day
                            </p>
                          </span>
                        </label>
                      </div>

                      ${this._settings.enabled?n.qy`
                            <!-- SNAPSHOT TIME -->
                            <div class="form-group">
                              <label for="snapshot-time">
                                <strong>Snapshot Time</strong>
                                <p class="help-text">
                                  What time should snapshots be created? (24-hour format)
                                </p>
                              </label>
                              <input
                                type="time"
                                id="snapshot-time"
                                .value="${this._settings.time}"
                                @change="${this._handleTimeChange}"
                              />
                            </div>

                            <!-- TIMEZONE -->
                            <div class="form-group">
                              <label for="timezone">
                                <strong>Timezone</strong>
                                <p class="help-text">Snapshot time will use this timezone</p>
                              </label>
                              <select
                                id="timezone"
                                .value="${this._settings.timezone}"
                                @change="${this._handleTimezoneChange}"
                              >
                                <option value="UTC">UTC</option>
                                <option value="America/New_York">Eastern Time (ET)</option>
                                <option value="America/Chicago">Central Time (CT)</option>
                                <option value="America/Denver">Mountain Time (MT)</option>
                                <option value="America/Los_Angeles">Pacific Time (PT)</option>
                                <option value="Europe/London">London</option>
                                <option value="Europe/Paris">Paris</option>
                                <option value="Europe/Berlin">Berlin</option>
                                <option value="Asia/Tokyo">Tokyo</option>
                                <option value="Asia/Shanghai">Shanghai</option>
                                <option value="Australia/Sydney">Sydney</option>
                              </select>
                            </div>

                            <!-- NEXT SNAPSHOT PREVIEW -->
                            <div class="info-box">
                              <div class="info-icon"></div>
                              <div class="info-content">
                                <strong>Next Snapshot:</strong>
                                <p>${this._getNextSnapshotTime()}</p>
                              </div>
                            </div>
                          `:n.qy`
                            <div class="info-box disabled">
                              <div class="info-icon"></div>
                              <div class="info-content">
                                <p>
                                  Auto-snapshots are currently disabled. You can still create manual
                                  snapshots anytime.
                                </p>
                              </div>
                            </div>
                          `}

                      <!-- RETENTION INFO -->
                      <div class="info-box">
                        <div class="info-icon"></div>
                        <div class="info-content">
                          <strong>Storage Policy:</strong>
                          <ul>
                            <li>Auto-snapshots are kept for <strong>30 days</strong></li>
                            <li>Older snapshots are automatically deleted</li>
                            <li>Manual snapshots are never automatically deleted</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  `}
          </div>

          <div class="modal-footer">
            <button class="btn btn-secondary" @click="${this._close}" ?disabled="${this._saving}">
              Cancel
            </button>
            <button
              class="btn btn-primary"
              @click="${this._handleSave}"
              ?disabled="${this._loading||this._saving}"
            >
              ${this._saving?"Saving...":" Save Settings"}
            </button>
          </div>
        </div>
      </div>
    `:n.qy``}};lo.styles=n.AH`
    :host {
      display: block;
    }

    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
    }

    .modal-container {
      background: var(--card-background-color, #fff);
      border-radius: 12px;
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      border-bottom: 2px solid var(--divider-color, #e0e0e0);
    }

    .modal-header h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
      color: var(--primary-text-color, #000);
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      padding: 4px 8px;
      color: var(--secondary-text-color, #666);
      transition: color 0.2s;
    }

    .close-btn:hover {
      color: var(--primary-color, #03a9f4);
    }

    .modal-body {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
    }

    .loading,
    .error {
      text-align: center;
      padding: 40px;
      color: var(--secondary-text-color, #666);
    }

    .error {
      color: var(--error-color, #f44336);
    }

    /* FORM */
    .settings-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group label {
      font-size: 14px;
      color: var(--primary-text-color, #000);
    }

    .help-text {
      font-size: 12px;
      color: var(--secondary-text-color, #666);
      margin: 4px 0 0 0;
    }

    .toggle-label {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      cursor: pointer;
      padding: 16px;
      background: var(--secondary-background-color, #f5f5f5);
      border-radius: 8px;
      transition: all 0.2s;
    }

    .toggle-label:hover {
      background: var(--divider-color, #e0e0e0);
    }

    .toggle-label input[type='checkbox'] {
      width: 20px;
      height: 20px;
      cursor: pointer;
      margin-top: 2px;
    }

    .toggle-text {
      flex: 1;
    }

    .toggle-text strong {
      display: block;
      margin-bottom: 4px;
    }

    input[type='time'],
    select {
      width: 100%;
      padding: 10px 12px;
      border: 2px solid var(--divider-color, #e0e0e0);
      border-radius: 6px;
      font-size: 14px;
      background: var(--card-background-color, #fff);
      color: var(--primary-text-color, #000);
      transition: border-color 0.2s;
    }

    input[type='time']:focus,
    select:focus {
      outline: none;
      border-color: var(--primary-color, #03a9f4);
    }

    /* INFO BOX */
    .info-box {
      display: flex;
      gap: 12px;
      padding: 16px;
      background: var(--secondary-background-color, #f5f5f5);
      border-radius: 8px;
      border-left: 4px solid var(--primary-color, #03a9f4);
    }

    .info-box.disabled {
      border-left-color: var(--secondary-text-color, #666);
    }

    .info-icon {
      font-size: 24px;
    }

    .info-content {
      flex: 1;
    }

    .info-content strong {
      display: block;
      margin-bottom: 4px;
      color: var(--primary-text-color, #000);
    }

    .info-content p {
      margin: 4px 0 0 0;
      font-size: 13px;
      color: var(--secondary-text-color, #666);
    }

    .info-content ul {
      margin: 8px 0 0 0;
      padding-left: 20px;
      font-size: 13px;
      color: var(--secondary-text-color, #666);
    }

    .info-content li {
      margin: 4px 0;
    }

    /* FOOTER */
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      padding: 16px 24px;
      border-top: 2px solid var(--divider-color, #e0e0e0);
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: var(--secondary-background-color, #e0e0e0);
      color: var(--primary-text-color, #000);
    }

    .btn-secondary:hover:not(:disabled) {
      background: var(--divider-color, #ccc);
    }

    .btn-primary {
      background: var(--primary-color, #03a9f4);
      color: white;
    }

    .btn-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(3, 169, 244, 0.3);
    }

    @media (max-width: 768px) {
      .modal-backdrop {
        padding: 0;
      }

      .modal-container {
        max-height: 100vh;
        border-radius: 0;
      }
    }
  `,so([(0,r.MZ)({type:Boolean})],lo.prototype,"open",void 0),so([(0,r.wk)()],lo.prototype,"_settings",void 0),so([(0,r.wk)()],lo.prototype,"_loading",void 0),so([(0,r.wk)()],lo.prototype,"_saving",void 0),so([(0,r.wk)()],lo.prototype,"_error",void 0),lo=so([(0,r.EM)("uc-snapshot-settings-dialog")],lo);var co=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let po=class extends n.WF{constructor(){super(...arguments),this.open=!1,this._backupName="",this._isCreating=!1,this._error=""}render(){var e,t,i,o;if(!this.open)return n.qy``;const a="en",r=this.config.card_name||(0,Gi.kg)("editor.ultra_card_pro.card_name_placeholder",a,"My Ultra Card"),s=`${r} - ${(new Date).toLocaleString()}`,l=(null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows)||void 0===t?void 0:t.length)||0;let d=0,c=0;return null===(o=null===(i=this.config.layout)||void 0===i?void 0:i.rows)||void 0===o||o.forEach((e=>{var t,i;const o=(null===(t=e.columns)||void 0===t?void 0:t.length)||0;d+=o,null===(i=e.columns)||void 0===i||i.forEach((e=>{var t;c+=(null===(t=e.modules)||void 0===t?void 0:t.length)||0}))})),n.qy`
      <div class="dialog-overlay" @click="${this._handleOverlayClick}">
        <div class="dialog" @click="${e=>e.stopPropagation()}">
          <div class="dialog-header">
            <h3 class="dialog-title">
              <ha-icon icon="mdi:bookmark-plus"></ha-icon>
              ${(0,Gi.kg)("editor.ultra_card_pro.manual_backup_title",a,"Name Your Backup")}
            </h3>
            <button class="close-btn" @click="${this._handleClose}">
              <ha-icon icon="mdi:close"></ha-icon>
            </button>
          </div>

          <div class="dialog-content">
            ${this._error?n.qy`
                  <div class="error-message">
                    <ha-icon icon="mdi:alert-circle"></ha-icon>
                    ${this._error}
                  </div>
                `:""}

            <div class="card-info">
              <div class="card-info-title">
                <ha-icon icon="mdi:card-text"></ha-icon>
                Current Card: ${r}
              </div>
              <div class="card-stats">
                <div class="stat-item">
                  <ha-icon icon="mdi:view-grid"></ha-icon>
                  ${l} rows
                </div>
                <div class="stat-item">
                  <ha-icon icon="mdi:view-column"></ha-icon>
                  ${d} columns
                </div>
                <div class="stat-item">
                  <ha-icon icon="mdi:package-variant"></ha-icon>
                  ${c} modules
                </div>
              </div>
            </div>

            <div class="form-field">
              <label for="backup-name">Backup Name</label>
              <div class="description">
                ${(0,Gi.kg)("editor.ultra_card_pro.manual_backup_desc",a,"Create a manual backup that will be stored alongside backups from all your other Ultra Cards (max 30 total)")}
              </div>
              <ha-textfield
                id="backup-name"
                .value="${this._backupName||s}"
                @input="${this._handleNameInput}"
                placeholder="${s}"
                maxlength="100"
              ></ha-textfield>
            </div>
          </div>

          <div class="dialog-footer">
            <button
              class="cancel-btn"
              @click="${this._handleClose}"
              ?disabled="${this._isCreating}"
            >
              Cancel
            </button>
            <button
              class="create-btn"
              @click="${this._handleCreate}"
              ?disabled="${this._isCreating}"
            >
              ${this._isCreating?n.qy`
                    <span class="creating">
                      <ha-circular-progress active size="small"></ha-circular-progress>
                      Creating...
                    </span>
                  `:n.qy`
                    <ha-icon icon="mdi:check"></ha-icon>
                    Create Backup
                  `}
            </button>
          </div>
        </div>
      </div>
    `}_handleNameInput(e){const t=e.target;this._backupName=t.value}_handleOverlayClick(){this._isCreating||this._handleClose()}_handleClose(){this.open=!1,this._backupName="",this._error="",this.dispatchEvent(new CustomEvent("dialog-closed"))}async _handleCreate(){const e=this.config.card_name||(0,Gi.kg)("editor.ultra_card_pro.card_name_placeholder","en","My Ultra Card"),t=this._backupName||`${e} - ${(new Date).toLocaleString()}`;if(t.trim()){this._isCreating=!0,this._error="";try{await S.createBackup(this.config,t),this.dispatchEvent(new CustomEvent("backup-created",{detail:{name:t},bubbles:!0,composed:!0})),this._handleClose()}catch(e){console.error("Failed to create backup:",e),this._error=e instanceof Error?e.message:"Failed to create backup"}finally{this._isCreating=!1}}else this._error="Please enter a backup name"}};po.styles=n.AH`
    :host {
      display: block;
    }

    .dialog-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(4px);
    }

    .dialog {
      background: var(--card-background-color, #fff);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .dialog-header {
      padding: 24px;
      border-bottom: 1px solid var(--divider-color, #e0e0e0);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(135deg, var(--primary-color, #03a9f4) 0%, #00796b 100%);
      color: white;
    }

    .dialog-title {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0;
      font-size: 20px;
      font-weight: 600;
    }

    .dialog-title ha-icon {
      --mdc-icon-size: 28px;
    }

    .close-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: white;
      transition: background 0.2s;
    }

    .close-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .dialog-content {
      padding: 24px;
      overflow-y: auto;
      flex: 1;
    }

    .form-field {
      margin-bottom: 24px;
    }

    .form-field label {
      display: block;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--primary-text-color, #000);
    }

    .form-field .description {
      font-size: 13px;
      color: var(--secondary-text-color, #666);
      margin-bottom: 12px;
      line-height: 1.5;
    }

    .form-field ha-textfield {
      width: 100%;
    }

    .card-info {
      background: var(--secondary-background-color, #f5f5f5);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 24px;
    }

    .card-info-title {
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--primary-text-color, #000);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 12px;
    }

    .stat-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
    }

    .stat-item ha-icon {
      --mdc-icon-size: 18px;
      color: var(--primary-color, #03a9f4);
    }

    .error-message {
      background: #ffebee;
      color: #c62828;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dialog-footer {
      padding: 16px 24px;
      border-top: 1px solid var(--divider-color, #e0e0e0);
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .dialog-footer button {
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
    }

    .cancel-btn {
      background: transparent;
      color: var(--primary-text-color, #000);
    }

    .cancel-btn:hover {
      background: var(--secondary-background-color, #f5f5f5);
    }

    .create-btn {
      background: linear-gradient(135deg, var(--primary-color, #03a9f4) 0%, #00796b 100%);
      color: white;
      box-shadow: 0 2px 8px rgba(3, 169, 244, 0.3);
    }

    .create-btn:hover:not(:disabled) {
      box-shadow: 0 4px 12px rgba(3, 169, 244, 0.4);
      transform: translateY(-1px);
    }

    .create-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .creating {
      display: flex;
      align-items: center;
      gap: 8px;
    }
  `,co([(0,r.MZ)({attribute:!1})],po.prototype,"config",void 0),co([(0,r.MZ)({type:Boolean})],po.prototype,"open",void 0),co([(0,r.wk)()],po.prototype,"_backupName",void 0),co([(0,r.wk)()],po.prototype,"_isCreating",void 0),co([(0,r.wk)()],po.prototype,"_error",void 0),po=co([(0,r.EM)("uc-manual-backup-dialog")],po);var uo=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let go=class extends n.WF{constructor(){super(...arguments),this._activeTab="layout",this._isFullScreen=!1,this._isMobile=!1,this._cloudUser=null,this._syncStatus=null,this._backupStatus=null,this._showLoginForm=!1,this._loginError="",this._isLoggingIn=!1,this._showBackupHistory=!1,this._showCreateSnapshot=!1,this._showManualBackup=!1,this._showSnapshotSettings=!1,this._snapshotSchedulerStatus=null,this._newerBackupAvailable=null,this._showSyncNotification=!1,this._isCreatingManualSnapshot=!1,this._moduleStylesInjected=!1}setConfig(e){this.config=e||{type:"custom:ultra-card",layout:{rows:[]}}}connectedCallback(){super.connectedCallback(),this.addEventListener("config-changed",this._handleConfigChanged),this.addEventListener("keydown",this._handleKeyDown),this._checkMobileDevice(),this._resizeListener=this._checkMobileDevice.bind(this),window.addEventListener("resize",this._resizeListener),this._injectModuleStyles(),g.k.injectHoverEffectStyles(this.shadowRoot),this._updateHoverEffectStyles(),this._setupCloudSyncListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("config-changed",this._handleConfigChanged),this.removeEventListener("keydown",this._handleKeyDown),g.k.removeHoverEffectStyles(this.shadowRoot),this._resizeListener&&window.removeEventListener("resize",this._resizeListener),document.body.classList.remove("ultra-card-fullscreen"),this._cleanupCloudSyncListeners()}_checkMobileDevice(){const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=this._isMobile;this._isMobile=e||t,this._isMobile&&!i&&this._isFullScreen&&this._toggleFullScreen()}_handleConfigChanged(e){if(e.stopPropagation(),e.detail&&e.detail.config&&(this.config=e.detail.config,this._updateHoverEffectStyles(),!e.detail.isInternal)){const t=new CustomEvent("config-changed",{detail:{config:e.detail.config,isInternal:!0},bubbles:!0,composed:!0});this.dispatchEvent(t)}}_handleKeyDown(e){"Escape"===e.key&&this._isFullScreen&&(e.preventDefault(),this._toggleFullScreen())}_updateConfig(e){const t=Object.assign(Object.assign({},this.config),e);this._configDebounceTimeout&&clearTimeout(this._configDebounceTimeout),this._configDebounceTimeout=window.setTimeout((()=>{const e=u.validateAndCorrectConfig(t);if(!e.valid){const e=new CustomEvent("config-changed",{detail:{config:t,isInternal:!0},bubbles:!0,composed:!0});return void this.dispatchEvent(e)}const i=u.validateUniqueModuleIds(e.correctedConfig);let o=e.correctedConfig;i.valid||(o=u.fixDuplicateModuleIds(o));const a=new CustomEvent("config-changed",{detail:{config:o,isInternal:!0},bubbles:!0,composed:!0});this.dispatchEvent(a),v.isAuthenticated()&&k.autoSave(o)}),100)}_toggleFullScreen(){this._isFullScreen=!this._isFullScreen,this._isFullScreen?(document.body.classList.add("ultra-card-fullscreen"),"layout"!==this._activeTab&&(this._activeTab="layout")):document.body.classList.remove("ultra-card-fullscreen")}render(){var e;if(!this.hass||!this.config)return n.qy`<div>Loading...</div>`;const t=(null===(e=this.hass.locale)||void 0===e?void 0:e.language)||"en";return n.qy`
      <div class="card-config ${this._isFullScreen?"fullscreen":""}">
        <div class="tabs">
          <button
            class="tab ${"layout"===this._activeTab?"active":""}"
            @click=${()=>this._activeTab="layout"}
          >
            ${this._isFullScreen?"Ultra Card Layout Builder":(0,Gi.kg)("editor.tabs.layout",t,"Layout Builder")}
          </button>
          ${this._isFullScreen?"":n.qy`
                <button
                  class="tab ${"settings"===this._activeTab?"active":""}"
                  @click=${()=>this._activeTab="settings"}
                >
                  ${(0,Gi.kg)("editor.tabs.settings",t,"Settings")}
                </button>
                <button
                  class="tab ${"pro"===this._activeTab?"active":""}"
                  @click=${()=>this._activeTab="pro"}
                >
                  ${(0,Gi.kg)("editor.tabs.pro",t,"PRO")}
                </button>
                <button
                  class="tab ${"about"===this._activeTab?"active":""}"
                  @click=${()=>this._activeTab="about"}
                >
                  ${(0,Gi.kg)("editor.tabs.about",t,"About")}
                </button>
              `}
          ${this._isMobile?"":n.qy`
                <button
                  class="fullscreen-toggle"
                  @click=${this._toggleFullScreen}
                  title=${this._isFullScreen?(0,Gi.kg)("editor.tooltips.return_dashboard",t,"Return to Dashboard"):(0,Gi.kg)("editor.tooltips.enter_fullscreen",t,"Enter Full Screen")}
                >
                  ${this._isFullScreen?n.qy`
                        <svg viewBox="0 0 24 24" class="arrow-icon">
                          <path d="M15.41,7.41L14,6L8,12L14,18L15.41,16.59L10.83,12L15.41,7.41Z" />
                        </svg>
                        <span class="dashboard-text"
                          >${(0,Gi.kg)("editor.tooltips.dashboard",t,"Dashboard")}</span
                        >
                      `:n.qy`
                        <svg viewBox="0 0 24 24" class="arrow-icon">
                          <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" />
                        </svg>
                      `}
                </button>
              `}
        </div>

        <div class="tab-content">
          ${"layout"===this._activeTab?n.qy`<ultra-layout-tab
                .hass=${this.hass}
                .config=${this.config}
                .isFullScreen=${this._isFullScreen}
              ></ultra-layout-tab>`:"settings"===this._activeTab?this._renderSettingsTab():"pro"===this._activeTab?this._renderProTab():n.qy`<ultra-about-tab .hass=${this.hass}></ultra-about-tab>`}
        </div>
      </div>
    `}_renderSettingsTab(){var e,t,i,o,a,r,s,l,d,c;const p=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en",u="var(--card-background-color)";return n.qy`
      <div class="settings-tab">
        <div class="settings-header">
          <h3>${(0,Gi.kg)("editor.settings.title",p,"Card Settings")}</h3>
          <p>
            ${(0,Gi.kg)("editor.settings.description",p,"Configure global card appearance and behavior.")}
          </p>
        </div>

        <div class="settings-container">
          <!-- Appearance Section -->
          <div class="settings-section">
            <div class="section-header">
              <h4>${(0,Gi.kg)("editor.appearance.title",p,"Appearance")}</h4>
              <p>
                ${(0,Gi.kg)("editor.appearance.description",p,"Control the visual appearance of your card")}
              </p>
            </div>

            <div class="settings-grid">
              <div class="setting-item">
                <label>
                  ${(0,Gi.kg)("editor.fields.card_background_color",p,"Card Background Color")}
                </label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.card_background_color_desc",p,"The background color of the entire card")}
                </div>
                <ultra-color-picker
                  .label=${"Card Background Color"}
                  .value=${this.config.card_background||u}
                  .defaultValue=${u}
                  .hass=${this.hass}
                  @value-changed=${e=>this._updateConfig({card_background:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="setting-item">
                <label> ${(0,Gi.kg)("editor.fields.border_radius",p,"Border Radius")} </label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.border_radius_desc",p,"Rounded corners for the card (in pixels)")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="50"
                    .value=${null!==(i=this.config.card_border_radius)&&void 0!==i?i:""}
                    placeholder="12"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_border_radius:""===t?void 0:Number(t)})}}
                  />
                  <span class="unit">${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_border_radius:12})}
                    title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","12px")}
                  >
                    
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <label>
                  ${(0,Gi.kg)("editor.fields.card_border_color",p,"Border Color")}
                </label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.card_border_color_desc",p,"The border color of the card")}
                </div>
                <ultra-color-picker
                  .label=${"Card Border Color"}
                  .value=${this.config.card_border_color||"var(--divider-color)"}
                  .defaultValue=${"var(--divider-color)"}
                  .hass=${this.hass}
                  @value-changed=${e=>this._updateConfig({card_border_color:e.detail.value})}
                ></ultra-color-picker>
              </div>

              <div class="setting-item">
                <label>
                  ${(0,Gi.kg)("editor.fields.card_border_width",p,"Border Width")}
                </label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.card_border_width_desc",p,"The thickness of the card border (in pixels)")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="10"
                    .value=${null!==(o=this.config.card_border_width)&&void 0!==o?o:""}
                    placeholder="1"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_border_width:""===t?void 0:Number(t)})}}
                  />
                  <span class="unit">${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_border_width:1})}
                    title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","1px")}
                  >
                    
                  </button>
                </div>
              </div>

              <!-- Card Shadow Settings -->
              <div class="setting-item" style="grid-column: 1 / -1;">
                <div
                  style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;"
                >
                  <label style="margin: 0; font-weight: 500;">
                    ${(0,Gi.kg)("editor.fields.card_shadow_enabled",p,"Custom Drop Shadow")}
                  </label>
                  <ha-switch
                    .checked=${this.config.card_shadow_enabled||!1}
                    @change=${e=>{const t=e.target;this._updateConfig({card_shadow_enabled:t.checked})}}
                  ></ha-switch>
                </div>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.card_shadow_enabled_desc",p,"Enable custom shadow for the card")}
                </div>
              </div>

              ${this.config.card_shadow_enabled?n.qy`
                    <div
                      class="conditional-fields-group"
                      style="grid-column: 1 / -1; padding: 16px; margin-top: 8px;"
                    >
                      <div class="settings-grid">
                        <div class="setting-item">
                          <label>
                            ${(0,Gi.kg)("editor.fields.card_shadow_color",p,"Shadow Color")}
                          </label>
                          <div class="setting-description">
                            ${(0,Gi.kg)("editor.fields.card_shadow_color_desc",p,"The color of the card shadow")}
                          </div>
                          <ultra-color-picker
                            .label=${"Shadow Color"}
                            .value=${this.config.card_shadow_color||"rgba(0, 0, 0, 0.15)"}
                            .defaultValue=${"rgba(0, 0, 0, 0.15)"}
                            .hass=${this.hass}
                            @value-changed=${e=>this._updateConfig({card_shadow_color:e.detail.value})}
                          ></ultra-color-picker>
                        </div>

                        <div class="setting-item">
                          <label>
                            ${(0,Gi.kg)("editor.fields.card_shadow_horizontal",p,"Horizontal Offset")}
                          </label>
                          <div class="setting-description">
                            ${(0,Gi.kg)("editor.fields.card_shadow_horizontal_desc",p,"Horizontal position of the shadow (negative = left, positive = right)")}
                          </div>
                          <div class="input-with-unit">
                            <input
                              type="number"
                              min="-50"
                              max="50"
                              .value=${null!==(a=this.config.card_shadow_horizontal)&&void 0!==a?a:0}
                              @input=${e=>{const t=e.target;this._updateConfig({card_shadow_horizontal:Number(t.value)})}}
                            />
                            <span class="unit"
                              >${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span
                            >
                            <button
                              class="reset-btn"
                              @click=${()=>this._updateConfig({card_shadow_horizontal:0})}
                              title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","0px")}
                            >
                              
                            </button>
                          </div>
                        </div>

                        <div class="setting-item">
                          <label>
                            ${(0,Gi.kg)("editor.fields.card_shadow_vertical",p,"Vertical Offset")}
                          </label>
                          <div class="setting-description">
                            ${(0,Gi.kg)("editor.fields.card_shadow_vertical_desc",p,"Vertical position of the shadow (negative = up, positive = down)")}
                          </div>
                          <div class="input-with-unit">
                            <input
                              type="number"
                              min="-50"
                              max="50"
                              .value=${null!==(r=this.config.card_shadow_vertical)&&void 0!==r?r:2}
                              @input=${e=>{const t=e.target;this._updateConfig({card_shadow_vertical:Number(t.value)})}}
                            />
                            <span class="unit"
                              >${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span
                            >
                            <button
                              class="reset-btn"
                              @click=${()=>this._updateConfig({card_shadow_vertical:2})}
                              title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","2px")}
                            >
                              
                            </button>
                          </div>
                        </div>

                        <div class="setting-item">
                          <label>
                            ${(0,Gi.kg)("editor.fields.card_shadow_blur",p,"Blur Radius")}
                          </label>
                          <div class="setting-description">
                            ${(0,Gi.kg)("editor.fields.card_shadow_blur_desc",p,"How blurred the shadow appears")}
                          </div>
                          <div class="input-with-unit">
                            <input
                              type="number"
                              min="0"
                              max="100"
                              .value=${null!==(s=this.config.card_shadow_blur)&&void 0!==s?s:8}
                              @input=${e=>{const t=e.target;this._updateConfig({card_shadow_blur:Number(t.value)})}}
                            />
                            <span class="unit"
                              >${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span
                            >
                            <button
                              class="reset-btn"
                              @click=${()=>this._updateConfig({card_shadow_blur:8})}
                              title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","8px")}
                            >
                              
                            </button>
                          </div>
                        </div>

                        <div class="setting-item">
                          <label>
                            ${(0,Gi.kg)("editor.fields.card_shadow_spread",p,"Spread Radius")}
                          </label>
                          <div class="setting-description">
                            ${(0,Gi.kg)("editor.fields.card_shadow_spread_desc",p,"How much the shadow expands or contracts")}
                          </div>
                          <div class="input-with-unit">
                            <input
                              type="number"
                              min="-50"
                              max="50"
                              .value=${null!==(l=this.config.card_shadow_spread)&&void 0!==l?l:0}
                              @input=${e=>{const t=e.target;this._updateConfig({card_shadow_spread:Number(t.value)})}}
                            />
                            <span class="unit"
                              >${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span
                            >
                            <button
                              class="reset-btn"
                              @click=${()=>this._updateConfig({card_shadow_spread:0})}
                              title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","0px")}
                            >
                              
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  `:""}
            </div>
          </div>

          <!-- Spacing Section -->
          <div class="settings-section">
            <div class="section-header">
              <h4>${(0,Gi.kg)("editor.spacing.title",p,"Spacing")}</h4>
              <p>
                ${(0,Gi.kg)("editor.spacing.description",p,"Control the spacing and positioning of your card")}
              </p>
            </div>

            <div class="settings-grid">
              <div class="setting-item">
                <label>${(0,Gi.kg)("editor.fields.card_padding",p,"Card Padding")}</label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.card_padding_desc",p,"Internal spacing within the card")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="100"
                    .value=${null!==(d=this.config.card_padding)&&void 0!==d?d:""}
                    placeholder="16"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_padding:""===t?16:Number(t)})}}
                  />
                  <span class="unit">${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_padding:16})}
                    title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","16px")}
                  >
                    
                  </button>
                </div>
              </div>

              <div class="setting-item">
                <label>${(0,Gi.kg)("editor.fields.card_margin",p,"Card Margin")}</label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.fields.card_margin_desc",p,"External spacing around the card")}
                </div>
                <div class="input-with-unit">
                  <input
                    type="number"
                    min="0"
                    max="50"
                    .value=${null!==(c=this.config.card_margin)&&void 0!==c?c:""}
                    placeholder="0"
                    @input=${e=>{const t=e.target.value.trim();this._updateConfig({card_margin:""===t?0:Number(t)})}}
                  />
                  <span class="unit">${(0,Gi.kg)("editor.fields.unit_px",p,"px")}</span>
                  <button
                    class="reset-btn"
                    @click=${()=>this._updateConfig({card_margin:0})}
                    title=${(0,Gi.kg)("editor.fields.reset_default_value",p,"Reset to default ({value})").replace("{value}","0px")}
                  >
                    
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Behavior Section -->
          <div class="settings-section">
            <div class="section-header">
              <h4>${(0,Gi.kg)("editor.behavior.title",p,"Behavior")}</h4>
              <p>
                ${(0,Gi.kg)("editor.behavior.description",p,"Configure how your card responds to user interactions")}
              </p>
            </div>

            <div class="settings-grid">
              <div class="setting-item">
                <label>
                  ${(0,Gi.kg)("editor.actions.haptic_feedback",p,"Haptic Feedback")}
                </label>
                <div class="setting-description">
                  ${(0,Gi.kg)("editor.actions.haptic_feedback_desc",p,"Provide tactile feedback when buttons are pressed on supported devices")}
                  <br /><small style="opacity: 0.7;"
                    >Uses Home Assistant's native haptic system. Respects OS-level haptic
                    settings.</small
                  >
                </div>
                <ha-form
                  .hass=${this.hass}
                  .data=${{haptic_feedback:!1!==this.config.haptic_feedback}}
                  .schema=${[{name:"haptic_feedback",label:"",selector:{boolean:{}}}]}
                  .computeLabel=${()=>""}
                  @value-changed=${e=>{var t,i;const o=null===(i=null===(t=e.detail)||void 0===t?void 0:t.value)||void 0===i?void 0:i.haptic_feedback;void 0!==o&&this._updateConfig({haptic_feedback:o})}}
                ></ha-form>
              </div>
            </div>
          </div>

          <!-- Favorite Colors Section -->
          <div class="settings-section">
            <div class="section-header">
              <h4>${(0,Gi.kg)("editor.favorite_colors.title",p,"Favorite Colors")}</h4>
              <p>
                ${(0,Gi.kg)("editor.favorite_colors.description",p,"Manage your favorite colors that appear in all Ultra Card color pickers. These colors sync across all your Ultra Cards.")}
              </p>
            </div>

            <uc-favorite-colors-manager .hass=${this.hass}></uc-favorite-colors-manager>
          </div>
        </div>
      </div>
    `}_injectModuleStyles(){if(this._moduleStylesInjected||!this.shadowRoot)return;const e=(0,s.oD)().getAllModuleStyles();if(e.trim().length){const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}this._moduleStylesInjected=!0}static get styles(){return n.AH`
      /* Global styles for hiding preview in full screen */
      :host {
        --ultra-editor-transition: all 0.3s ease;
      }

      .card-config {
        padding: 16px;
        max-width: 100%;
        margin: 0 auto;
        width: 100%;
        box-sizing: border-box;
        transition: var(--ultra-editor-transition);
      }

      /* Full screen mode styles */
      .card-config.fullscreen {
        max-width: none !important;
        width: 100vw !important;
        margin: 0 !important;
        padding: 20px !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        height: 100vh !important;
        z-index: 10000 !important;
        background: var(--card-background-color) !important;
        overflow-y: auto !important;
        box-sizing: border-box !important;
      }

      /* Full screen mode tab content */
      .card-config.fullscreen .tab-content {
        min-height: calc(100vh - 120px) !important;
        width: 100% !important;
        max-width: none !important;
      }

      /* Full screen mode header adjustments */
      .card-config.fullscreen .tabs {
        border: none;
        background: var(--card-background-color);
        padding: 16px;
        position: sticky;
        top: 0;
        z-index: 100;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      /* Remove the gradient line in fullscreen */
      .card-config.fullscreen .tabs::before {
        display: none;
      }

      /* Center the single tab in fullscreen mode and remove borders */
      .card-config.fullscreen .tab {
        flex: none;
        min-width: auto;
        justify-content: center;
        border: none;
        border-radius: 12px;
        background: var(--primary-color);
        color: white;
        padding: 12px 24px;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(var(--rgb-primary-color), 0.3);
      }

      .card-config.fullscreen .tab:hover {
        background: var(--primary-color);
        opacity: 0.9;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(var(--rgb-primary-color), 0.4);
      }

      /* Hide Home Assistant preview when in full screen mode */
      :global(body.ultra-card-fullscreen) {
        overflow: hidden !important;
      }

      :global(body.ultra-card-fullscreen *) {
        .element-preview,
        .element-preview-container,
        .preview-container,
        .card-preview,
        .preview-pane,
        hui-card-preview,
        .card-config > div:last-child:not(.card-config),
        .card-config-row > div:last-child,
        .mdc-dialog .mdc-dialog__container .mdc-dialog__surface > div:last-child:not(.card-config) {
          display: none !important;
        }

        .card-config-container,
        .editor-container,
        .card-config-row,
        .mdc-dialog .mdc-dialog__container .mdc-dialog__surface {
          width: 100% !important;
          max-width: none !important;
        }

        /* Override HA dialog sizing */
        .mdc-dialog .mdc-dialog__container {
          max-width: 100vw !important;
          width: 100vw !important;
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          z-index: 9999 !important;
        }

        .mdc-dialog .mdc-dialog__surface {
          max-width: 100vw !important;
          width: 100vw !important;
          max-height: 100vh !important;
          height: 100vh !important;
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          margin: 0 !important;
          border-radius: 0 !important;
        }

        /* Hide the backdrop */
        .mdc-dialog .mdc-dialog__scrim {
          display: none !important;
        }
      }

      /* Allow action forms to display all their elements properly */
      ha-form[data-action-form] *,
      ha-form[data-action-form] .mdc-form-field,
      ha-form[data-action-form] .mdc-text-field,
      ha-form[data-action-form] .mdc-floating-label,
      ha-form[data-action-form] .mdc-notched-outline__leading,
      ha-form[data-action-form] .mdc-notched-outline__notch,
      ha-form[data-action-form] .mdc-notched-outline__trailing,
      ha-form[data-action-form] .mdc-floating-label--float-above,
      ha-form[data-action-form] label,
      ha-form[data-action-form] .ha-form-label,
      ha-form[data-action-form] .form-label,
      ha-form[data-action-form] .mdc-text-field-character-counter,
      ha-form[data-action-form] .mdc-text-field-helper-text,
      ha-form[data-action-form] mwc-formfield,
      ha-form[data-action-form] .formfield {
        display: initial !important;
        visibility: visible !important;
      }

      /* Ensure action forms themselves are visible */
      ha-form[data-action-form] {
        display: block !important;
        visibility: visible !important;
      }

      /* Hide unwanted form labels with underscores - but only for non-action forms */
      ha-form:not([data-action-form]) .mdc-form-field > label,
      ha-form:not([data-action-form]) .mdc-text-field > label,
      ha-form:not([data-action-form]) .mdc-floating-label,
      ha-form:not([data-action-form]) .mdc-notched-outline__leading,
      ha-form:not([data-action-form]) .mdc-notched-outline__notch,
      ha-form:not([data-action-form]) .mdc-notched-outline__trailing,
      ha-form:not([data-action-form]) .mdc-floating-label--float-above,
      ha-form:not([data-action-form]) label[for],
      ha-form:not([data-action-form]) .ha-form-label,
      ha-form:not([data-action-form]) .form-label {
        display: none !important;
      }

      /* Hide labels containing underscores only for non-action forms */
      ha-form:not([data-action-form]) label[data-label*='_'],
      ha-form:not([data-action-form]) .label-text:contains('_'),
      :not([data-action-form]) label:contains('_') {
        display: none !important;
      }

      /* Additional safeguards for underscore labels in non-action forms */
      ha-form:not([data-action-form]) .mdc-text-field-character-counter,
      ha-form:not([data-action-form]) .mdc-text-field-helper-text,
      ha-form:not([data-action-form]) mwc-formfield,
      ha-form:not([data-action-form]) .formfield {
        display: none !important;
      }

      /* Mobile responsive adjustments */
      @media (max-width: 768px) {
        .card-config {
          padding: 8px;
        }

        /* Hide fullscreen toggle on mobile as additional safeguard */
        .fullscreen-toggle {
          display: none !important;
        }
      }

      .tabs {
        display: flex;
        border-bottom: 2px solid var(--divider-color);
        margin-bottom: 16px;
      }

      .tab {
        background: none;
        border: none;
        padding: 12px 16px;
        cursor: pointer;
        color: var(--secondary-text-color);
        font-size: 14px;
        border-bottom: 2px solid transparent;
        transition: all 0.2s ease;
        flex: 1;
        text-align: center;
      }

      .tab:hover {
        color: var(--primary-color);
      }

      .tab.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
      }

      .fullscreen-toggle {
        background: none;
        border: none;
        padding: 8px 12px;
        cursor: pointer;
        color: var(--secondary-text-color);
        margin-left: auto;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 6px;
        transition: var(--ultra-editor-transition);
        position: relative;
        min-width: 40px;
        height: 40px;
        gap: 6px;
      }

      .fullscreen-toggle:hover {
        background: var(--divider-color);
        color: var(--primary-color);
      }

      .fullscreen-toggle:active {
        transform: scale(0.95);
      }

      /* Active fullscreen state - Dashboard button styling */
      .card-config.fullscreen .fullscreen-toggle {
        background: rgba(var(--rgb-primary-color), 0.1);
        color: var(--primary-color);
        border: 1px solid rgba(var(--rgb-primary-color), 0.2);
        padding: 8px 16px;
        min-width: auto;
        height: auto;
      }

      .card-config.fullscreen .fullscreen-toggle:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
        transform: translateX(-2px);
      }

      .arrow-icon {
        width: 20px;
        height: 20px;
        fill: currentColor;
        transition: var(--ultra-editor-transition);
        flex-shrink: 0;
      }

      .dashboard-text {
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
      }

      .tab-content {
        min-height: 400px;
        transition: var(--ultra-editor-transition);
      }

      /* Full screen mode tab content */
      .card-config.fullscreen .tab-content {
        min-height: calc(100vh - 120px);
      }

      .settings-tab,
      .pro-tab-content {
        padding: 12px;
        background: var(--card-background-color);
        border-radius: 8px;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .settings-header {
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--divider-color);
      }

      .settings-header h3 {
        margin: 0 0 8px 0;
        color: var(--primary-text-color);
        font-size: 18px;
        font-weight: 600;
      }

      .settings-header p {
        margin: 0;
        color: var(--secondary-text-color);
        font-size: 14px;
        line-height: 1.4;
      }

      .settings-container {
        display: flex;
        flex-direction: column;
        gap: 24px;
        flex: 1;
      }

      .settings-section {
        background: var(--secondary-background-color);
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        padding: 20px;
        box-sizing: border-box;
      }

      .section-header {
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(var(--rgb-primary-color), 0.2);
      }

      .section-header h4 {
        margin: 0 0 6px 0;
        color: var(--primary-text-color);
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .section-header p {
        margin: 0;
        color: var(--secondary-text-color);
        font-size: 13px;
        line-height: 1.4;
      }

      .settings-grid {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .setting-item {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .setting-item label {
        color: var(--primary-text-color);
        font-size: 14px;
        font-weight: 500;
        margin: 0;
      }

      .setting-description {
        color: var(--secondary-text-color);
        font-size: 12px;
        line-height: 1.3;
        margin-bottom: 4px;
      }

      .input-with-unit {
        display: flex;
        align-items: center;
        gap: 8px;
        max-width: 200px;
      }

      .input-with-unit input {
        flex: 1;
        padding: 10px 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        font-size: 14px;
        transition: all 0.2s ease;
        min-width: 0;
      }

      .input-with-unit input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(var(--rgb-primary-color), 0.2);
      }

      .input-with-unit .unit {
        color: var(--secondary-text-color);
        font-size: 12px;
        font-weight: 500;
        min-width: 20px;
        text-align: center;
      }

      .reset-btn {
        background: var(--secondary-background-color);
        border: 1px solid var(--divider-color);
        border-radius: 4px;
        color: var(--secondary-text-color);
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        padding: 0;
        flex-shrink: 0;
      }

      .reset-btn:hover {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
        transform: scale(1.05);
      }

      .reset-btn:active {
        transform: scale(0.95);
      }

      .setting-item ultra-color-picker {
        max-width: 300px;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .settings-tab {
          padding: 16px 12px;
        }

        .settings-section {
          padding: 16px;
        }

        .settings-grid {
          gap: 16px;
        }
      }

      /* Full screen mode responsive behavior for builder columns */
      .card-config.fullscreen {
        /* Allow horizontal layout components to display side by side */
        ::slotted(ultra-layout-tab) {
          --layout-columns-display: flex;
          --layout-columns-direction: row;
          --layout-columns-gap: 16px;
        }

        /* Style for layout builder in full screen */
        ultra-layout-tab {
          --columns-layout: horizontal;
        }
      }

      /* Default preview mode - stack columns vertically */
      .card-config:not(.fullscreen) {
        ::slotted(ultra-layout-tab) {
          --layout-columns-display: flex;
          --layout-columns-direction: column;
          --layout-columns-gap: 12px;
        }

        ultra-layout-tab {
          --columns-layout: vertical;
        }
      }

      /* Enhanced mobile behavior */
      @media (max-width: 768px) {
        .card-config.fullscreen {
          width: 100vw;
          height: 100vh;
          padding: 12px;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 9999;
          background: var(--card-background-color);
        }

        .fullscreen-toggle {
          padding: 6px 10px;
          min-width: 36px;
          height: 36px;
        }

        .arrow-icon {
          width: 16px;
          height: 16px;
        }
      }

      /* Cloud Sync Styles */
      .cloud-sync-container {
        margin-top: 16px;
      }

      .login-section {
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 20px;
        background: var(--card-background-color);
      }

      .login-prompt {
        text-align: center;
      }

      .login-benefits {
        margin-bottom: 24px;
      }

      .login-benefits h5 {
        margin: 0 0 12px 0;
        color: var(--primary-text-color);
        font-size: 16px;
      }

      .login-benefits ul {
        list-style: none;
        padding: 0;
        margin: 0;
        text-align: left;
        display: inline-block;
      }

      .login-benefits li {
        margin: 8px 0;
        color: var(--secondary-text-color);
        font-size: 14px;
      }

      .login-actions {
        margin-top: 20px;
      }

      .login-btn {
        background: var(--primary-color);
        color: var(--text-primary-color);
        border: none;
        border-radius: 6px;
        padding: 12px 24px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .login-btn:hover {
        background: var(--primary-color);
        opacity: 0.9;
        transform: translateY(-1px);
      }

      .login-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .login-note {
        margin-top: 16px;
        font-size: 13px;
        color: var(--secondary-text-color);
      }

      .login-note a {
        color: var(--primary-color);
        text-decoration: none;
      }

      .login-note a:hover {
        text-decoration: underline;
      }

      .login-form {
        max-width: 400px;
        margin: 0 auto;
      }

      .login-form h5 {
        margin: 0 0 20px 0;
        text-align: center;
        color: var(--primary-text-color);
      }

      .beta-badge {
        display: inline-block;
        background: var(--warning-color);
        color: white;
        font-size: 10px;
        font-weight: 700;
        padding: 2px 6px;
        border-radius: 4px;
        margin-left: 8px;
        vertical-align: middle;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }

      .error-message {
        background: var(--error-color);
        color: white;
        padding: 12px;
        border-radius: 6px;
        margin-bottom: 16px;
        font-size: 14px;
        text-align: center;
      }

      .form-group {
        margin-bottom: 16px;
      }

      .form-group label {
        display: block;
        margin-bottom: 6px;
        font-size: 14px;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      .form-group input {
        width: 100%;
        padding: 12px;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        font-size: 14px;
        background: var(--card-background-color);
        color: var(--primary-text-color);
        box-sizing: border-box;
      }

      .form-group input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px var(--primary-color) 20;
      }

      .form-group input:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .form-actions {
        display: flex;
        gap: 12px;
        justify-content: flex-end;
        margin-top: 24px;
      }

      .cancel-btn {
        background: transparent;
        color: var(--secondary-text-color);
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        padding: 12px 20px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .cancel-btn:hover {
        background: var(--divider-color);
      }

      .login-links {
        text-align: center;
        margin-top: 20px;
        font-size: 13px;
      }

      .login-links a {
        color: var(--primary-color);
        text-decoration: none;
      }

      .login-links a:hover {
        text-decoration: underline;
      }

      .login-links span {
        margin: 0 8px;
        color: var(--secondary-text-color);
      }

      .sync-controls {
        border: 1px solid var(--divider-color);
        border-radius: 8px;
        padding: 20px;
        background: var(--card-background-color);
      }

      .user-info {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
        padding-bottom: 16px;
        border-bottom: 1px solid var(--divider-color);
      }

      .user-details {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
      }

      .user-avatar-placeholder {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--primary-color);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 18px;
      }

      .user-text {
        display: flex;
        flex-direction: column;
      }

      .user-text strong {
        color: var(--primary-text-color);
        font-size: 16px;
      }

      .user-email {
        color: var(--secondary-text-color);
        font-size: 13px;
      }

      .logout-btn {
        background: transparent;
        border: 1px solid var(--divider-color);
        border-radius: 6px;
        padding: 8px;
        cursor: pointer;
        color: var(--secondary-text-color);
        transition: all 0.2s ease;
      }

      .logout-btn:hover {
        background: var(--error-color);
        color: white;
        border-color: var(--error-color);
      }

      .sync-status {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
      }

      .sync-info {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .sync-stat {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
      }

      .sync-stat.pending .stat-value {
        color: var(--warning-color);
        font-weight: 500;
      }

      .sync-stat.conflicts .stat-value {
        color: var(--error-color);
        font-weight: 500;
      }

      .stat-label {
        color: var(--secondary-text-color);
        min-width: 80px;
      }

      .stat-value {
        color: var(--primary-text-color);
        font-weight: 500;
      }

      .sync-btn {
        background: var(--primary-color);
        color: var(--text-primary-color);
        border: none;
        border-radius: 6px;
        padding: 10px 16px;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s ease;
      }

      .sync-btn:hover:not(:disabled) {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      .sync-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .sync-btn ha-icon {
        --mdc-icon-size: 18px;
      }

      .sync-settings {
        border-top: 1px solid var(--divider-color);
        padding-top: 16px;
      }

      .sync-toggle {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .toggle-label {
        display: flex;
        align-items: center;
        gap: 12px;
        cursor: pointer;
        font-size: 14px;
      }

      .toggle-label input[type='checkbox'] {
        width: 18px;
        height: 18px;
        cursor: pointer;
      }

      .toggle-text {
        color: var(--primary-text-color);
        font-weight: 500;
      }

      .toggle-description {
        margin: 0;
        font-size: 13px;
        color: var(--secondary-text-color);
        margin-left: 30px;
      }

      .sync-conflicts {
        margin-top: 20px;
        padding-top: 16px;
        border-top: 1px solid var(--divider-color);
      }

      .sync-conflicts h6 {
        margin: 0 0 8px 0;
        color: var(--error-color);
        font-size: 16px;
      }

      .sync-conflicts p {
        margin: 0 0 16px 0;
        font-size: 14px;
        color: var(--secondary-text-color);
      }

      .conflicts-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .conflict-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px;
        border: 1px solid var(--error-color);
        border-radius: 6px;
        background: var(--error-color) 10;
      }

      .conflict-info {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .conflict-info strong {
        color: var(--primary-text-color);
        font-size: 14px;
      }

      .conflict-field {
        color: var(--secondary-text-color);
        font-size: 12px;
      }

      .conflict-actions {
        display: flex;
        gap: 8px;
      }

      .resolve-btn {
        padding: 6px 12px;
        border: none;
        border-radius: 4px;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .resolve-btn.local {
        background: var(--primary-color);
        color: var(--text-primary-color);
      }

      .resolve-btn.remote {
        background: var(--secondary-color, var(--divider-color));
        color: var(--primary-text-color);
      }

      .resolve-btn:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      /* Mobile responsive styles */
      @media (max-width: 768px) {
        .sync-status {
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
        }

        .user-info {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .conflict-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 12px;
        }

        .conflict-actions {
          width: 100%;
          justify-content: flex-end;
        }

        .form-actions {
          flex-direction: column;
        }

        .login-benefits ul {
          width: 100%;
        }
      }

      /* ============================================
         ULTRA CARD PRO STYLES
         ============================================ */

      /* Pro Banner */
      .ultra-pro-banner {
        position: relative;
        padding: 24px;
        border-radius: 16px;
        margin-bottom: 24px;
        overflow: hidden;
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .ultra-pro-banner-minimal {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .ultra-pro-banner-free {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        box-shadow: 0 8px 24px rgba(102, 126, 234, 0.25);
      }

      .ultra-pro-banner-pro {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        box-shadow: 0 8px 24px rgba(245, 87, 108, 0.3);
        animation: proPulse 3s ease-in-out infinite;
      }

      @keyframes proPulse {
        0%,
        100% {
          box-shadow: 0 8px 24px rgba(245, 87, 108, 0.3);
        }
        50% {
          box-shadow: 0 12px 32px rgba(245, 87, 108, 0.5);
        }
      }

      .banner-gradient {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
        pointer-events: none;
      }

      .banner-icon {
        flex-shrink: 0;
        width: 56px;
        height: 56px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        backdrop-filter: blur(10px);
      }

      .banner-icon ha-icon {
        --mdc-icon-size: 32px;
      }

      .banner-content {
        flex: 1;
      }

      .banner-content h3 {
        margin: 0 0 6px 0;
        font-size: 22px;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .banner-content h3 ha-icon {
        --mdc-icon-size: 24px;
        animation: starRotate 4s linear infinite;
      }

      @keyframes starRotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .banner-content p {
        margin: 0;
        opacity: 0.95;
        font-size: 14px;
      }

      .pro-badge {
        flex-shrink: 0;
        padding: 8px 16px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 20px;
        font-weight: 700;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 6px;
        backdrop-filter: blur(10px);
      }

      .pro-badge ha-icon {
        --mdc-icon-size: 18px;
      }

      .free-badge {
        flex-shrink: 0;
        padding: 6px 14px;
        background: rgba(255, 255, 255, 0.25);
        border-radius: 16px;
        font-weight: 600;
        font-size: 13px;
        backdrop-filter: blur(10px);
      }

      /* Auth Section */
      .ultra-pro-auth-section {
        margin-bottom: 24px;
      }

      .feature-showcase {
        background: var(--card-background-color);
        border: 2px solid var(--divider-color);
        border-radius: 12px;
        padding: 24px;
        text-align: center;
      }

      .feature-showcase h4 {
        margin: 0 0 20px 0;
        font-size: 18px;
        color: var(--primary-text-color);
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
      }

      .feature-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        padding: 16px;
        background: var(--secondary-background-color);
        border-radius: 12px;
        transition: all 0.3s;
      }

      .feature-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .feature-item ha-icon {
        --mdc-icon-size: 32px;
        color: var(--primary-color);
      }

      .feature-item span {
        font-size: 13px;
        font-weight: 500;
        color: var(--secondary-text-color);
      }

      .auth-note {
        margin-top: 16px;
        font-size: 14px;
        color: var(--secondary-text-color);
      }

      .auth-note a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 600;
      }

      .auth-note a:hover {
        text-decoration: underline;
      }

      /* User Section */
      .ultra-pro-user-section {
        margin-bottom: 24px;
      }

      .user-card {
        background: var(--card-background-color);
        border: 2px solid var(--divider-color);
        border-radius: 12px;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
      }

      .user-info {
        display: flex;
        align-items: center;
        gap: 16px;
        flex: 1;
      }

      .user-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
      }

      .user-avatar-icon {
        --mdc-icon-size: 48px;
        color: var(--primary-color);
      }

      .user-details {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .user-name {
        font-weight: 600;
        font-size: 16px;
        color: var(--primary-text-color);
      }

      .user-email {
        font-size: 14px;
        color: var(--secondary-text-color);
      }

      /* Card Name Setting */
      .ultra-pro-card-name {
        background: var(--card-background-color);
        border: 2px solid var(--divider-color);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 24px;
      }

      .setting-header {
        margin-bottom: 12px;
      }

      .setting-header label {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        font-size: 15px;
        color: var(--primary-text-color);
        margin-bottom: 6px;
      }

      .setting-header label ha-icon {
        --mdc-icon-size: 20px;
        color: var(--primary-color);
      }

      .ultra-pro-card-name ha-textfield {
        width: 100%;
      }

      /* Pro Actions */
      .ultra-pro-actions {
        background: var(--card-background-color);
        border: 2px solid var(--divider-color);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 24px;
      }

      .actions-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
      }

      .actions-header h4 {
        margin: 0;
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--primary-text-color);
      }

      .actions-header h4 ha-icon {
        --mdc-icon-size: 20px;
        color: var(--primary-color);
      }

      .backup-count {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 13px;
        color: var(--secondary-text-color);
        font-weight: 500;
      }

      .backup-count ha-icon {
        --mdc-icon-size: 16px;
        color: var(--primary-color);
      }

      .limit-warning {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 13px;
        color: #f44336;
        font-weight: 600;
      }

      .limit-warning ha-icon {
        --mdc-icon-size: 16px;
      }

      .actions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 16px;
      }

      .action-card {
        background: var(--secondary-background-color);
        border: 2px solid transparent;
        border-radius: 12px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
        cursor: pointer;
        transition: all 0.3s;
        text-align: center;
      }

      .action-card:hover:not(:disabled) {
        transform: translateY(-4px);
        border-color: var(--primary-color);
        box-shadow: 0 8px 16px rgba(3, 169, 244, 0.2);
      }

      .action-card:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .action-icon {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s;
      }

      .action-icon.export {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .action-icon.import {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      }

      .action-icon.backup {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      .action-icon ha-icon {
        --mdc-icon-size: 28px;
        color: white;
      }

      .action-card:hover:not(:disabled) .action-icon {
        transform: scale(1.1);
      }

      .action-label {
        font-weight: 600;
        font-size: 14px;
        color: var(--primary-text-color);
      }

      /* Upgrade Section */
      .ultra-pro-upgrade {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        padding: 28px;
        margin-bottom: 24px;
        color: white;
      }

      .upgrade-content {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
      }

      .upgrade-content > ha-icon {
        flex-shrink: 0;
        --mdc-icon-size: 48px;
        opacity: 0.9;
      }

      .upgrade-text h4 {
        margin: 0 0 8px 0;
        font-size: 20px;
        font-weight: 700;
      }

      .upgrade-text p {
        margin: 0 0 16px 0;
        opacity: 0.95;
        font-size: 14px;
      }

      .upgrade-features {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .upgrade-features li {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 14px;
      }

      .upgrade-features li ha-icon {
        --mdc-icon-size: 18px;
        flex-shrink: 0;
      }

      /* View Backups Button */
      .ultra-pro-view-backups {
        margin-bottom: 24px;
      }

      /* Buttons */
      .ultra-btn {
        padding: 12px 24px;
        border-radius: 8px;
        border: none;
        font-weight: 600;
        font-size: 15px;
        cursor: pointer;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        width: 100%;
        justify-content: center;
      }

      .ultra-btn ha-icon {
        --mdc-icon-size: 20px;
      }

      .ultra-btn-primary {
        background: linear-gradient(135deg, var(--primary-color) 0%, #00796b 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(3, 169, 244, 0.3);
      }

      .ultra-btn-primary:hover {
        box-shadow: 0 6px 16px rgba(3, 169, 244, 0.4);
        transform: translateY(-2px);
      }

      .ultra-btn-secondary {
        background: transparent;
        color: var(--primary-text-color);
        border: 2px solid var(--divider-color);
      }

      .ultra-btn-secondary:hover {
        background: var(--secondary-background-color);
        border-color: var(--primary-color);
      }

      .ultra-btn-upgrade {
        background: rgba(255, 255, 255, 0.25);
        color: white;
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .ultra-btn-upgrade:hover {
        background: rgba(255, 255, 255, 0.35);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      }

      .ultra-btn-view-backups {
        background: var(--card-background-color);
        color: var(--primary-color);
        border: 2px solid var(--primary-color);
      }

      .ultra-btn-view-backups:hover {
        background: var(--primary-color);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(3, 169, 244, 0.3);
      }

      /* Responsive for Ultra Card Pro */
      @media (max-width: 600px) {
        .ultra-pro-banner {
          flex-direction: column;
          text-align: center;
        }

        .features-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .actions-grid {
          grid-template-columns: 1fr;
        }

        .upgrade-content {
          flex-direction: column;
          text-align: center;
        }

        .user-card {
          flex-direction: column;
        }
      }
    `}_collectHoverEffectConfigs(){var e,t;const i=[];return this.config?(null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows)||void 0===t||t.forEach((e=>{var t,o;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect),null===(o=e.columns)||void 0===o||o.forEach((e=>{var t,o;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect),null===(o=e.modules)||void 0===o||o.forEach((e=>{var t;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect)}))}))})),i):i}_updateHoverEffectStyles(){if(!this.shadowRoot)return;const e=this._collectHoverEffectConfigs();e.length>0&&g.k.updateHoverEffectStyles(this.shadowRoot,e)}async _setupCloudSyncListeners(){var e;if(this._cloudUser=v.getCurrentUser(),this._syncStatus=b.getSyncStatus(),this._backupStatus=k.getStatus(),console.log(" Setup Cloud Sync - User from storage:",this._cloudUser?"Found":"None"),console.log(" Is authenticated?",v.isAuthenticated()),this._cloudUser&&v.isAuthenticated()){console.log(" Restoring Pro session from storage..."),console.log("   User:",this._cloudUser.displayName),console.log("   Tier:",null===(e=this._cloudUser.subscription)||void 0===e?void 0:e.tier);try{await this._initializeProServices(this._cloudUser),console.log(" Pro session restored successfully")}catch(e){console.error(" Failed to restore Pro session:",e)}}else if(this._cloudUser&&!v.isAuthenticated()){console.log(" Token expired, attempting refresh..."),console.log("   Stored user:",this._cloudUser.displayName),console.log("   Has refresh token?",!!this._cloudUser.refreshToken);try{await v.refreshToken(),this._cloudUser=v.getCurrentUser(),this._cloudUser?(await this._initializeProServices(this._cloudUser),console.log(" Token refreshed and session restored")):console.warn(" Refresh succeeded but no user returned")}catch(e){console.warn(" Token refresh failed:",e),console.warn("   User needs to login again"),this._cloudUser=null}}else console.log(" No stored session to restore - user needs to login");this._authListener=e=>{this._cloudUser=e,this._loginError="",this.requestUpdate()},v.addListener(this._authListener),this._syncListener=e=>{this._syncStatus=e,this.requestUpdate()},b.addListener(this._syncListener),this._backupListener=e=>{this._backupStatus=e,this.requestUpdate()},k.addListener(this._backupListener),this._cloudUser&&this._checkForNewerBackup()}async _checkForNewerBackup(){try{const e=await k.checkForUpdates();e&&(this._newerBackupAvailable=e,this._showSyncNotification=!0)}catch(e){console.error("Failed to check for updates:",e)}}_cleanupCloudSyncListeners(){this._authListener&&(v.removeListener(this._authListener),this._authListener=void 0),this._syncListener&&(b.removeListener(this._syncListener),this._syncListener=void 0),this._backupListener&&(k.removeListener(this._backupListener),this._backupListener=void 0)}_renderProTab(){var e,t,i,o;const a=(null===(t=null===(e=this.hass)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.language)||"en",r="pro"===(null===(o=null===(i=this._cloudUser)||void 0===i?void 0:i.subscription)||void 0===o?void 0:o.tier),s=!!this._cloudUser;return n.qy`
      <div class="pro-tab-content">
        <!-- ULTRA CARD PRO BRANDED BANNER -->
        ${this._renderProBanner(a,r,s)}

        <!-- LOGIN/LOGOUT SECTION -->
        ${this._renderAuthSection(a,s,r)}

        <!-- SNAPSHOT STATUS & SETTINGS (Pro users only) -->
        ${s&&r?this._renderSnapshotStatusSection(a):""}

        <!-- CARD NAME SETTING (Always visible when logged in) -->
        ${s?this._renderCardNameSetting(a):""}

        <!-- EXPORT/IMPORT/BACKUP ACTIONS (Pro features) -->
        ${s?this._renderProActions(a,r):""}

        <!-- VIEW ALL BACKUPS BUTTON -->
        ${s?this._renderViewBackupsButton(a):""}

        <!-- MODALS -->
        ${this._showBackupHistory&&this._cloudUser?n.qy`
              <uc-snapshot-history-modal
                .open="${this._showBackupHistory}"
                .hass="${this.hass}"
                .subscription="${this._cloudUser.subscription}"
                @close-modal="${()=>this._showBackupHistory=!1}"
                @snapshot-restored="${this._handleSnapshotRestored}"
                @card-backup-restored="${this._handleCardBackupRestored}"
              ></uc-snapshot-history-modal>
            `:""}
        ${this._showManualBackup&&this._cloudUser?n.qy`
              <uc-manual-backup-dialog
                .open="${this._showManualBackup}"
                .config="${this.config}"
                @dialog-closed="${()=>this._showManualBackup=!1}"
                @backup-created="${this._handleManualBackupCreated}"
              ></uc-manual-backup-dialog>
            `:""}
        ${this._showSnapshotSettings?n.qy`
              <uc-snapshot-settings-dialog
                .open="${this._showSnapshotSettings}"
                @dialog-closed="${()=>this._showSnapshotSettings=!1}"
                @settings-saved="${this._handleSnapshotSettingsSaved}"
              ></uc-snapshot-settings-dialog>
            `:""}
      </div>
    `}_renderCloudSyncSection(e){var t,i;const o="pro"===(null===(i=null===(t=this._cloudUser)||void 0===t?void 0:t.subscription)||void 0===i?void 0:i.tier),a=!!this._cloudUser;return n.qy`
      <div class="settings-section ultra-card-pro-section">
        <!-- ULTRA CARD PRO BRANDED BANNER -->
        ${this._renderProBanner(e,o,a)}

        <!-- LOGIN/LOGOUT SECTION -->
        ${this._renderAuthSection(e,a,o)}

        <!-- CARD NAME SETTING (Always visible when logged in) -->
        ${a?this._renderCardNameSetting(e):""}

        <!-- EXPORT/IMPORT/BACKUP ACTIONS (Pro features) -->
        ${a?this._renderProActions(e,o):""}

        <!-- VIEW ALL BACKUPS BUTTON -->
        ${a?this._renderViewBackupsButton(e):""}

        <!-- MODALS -->
        ${this._showBackupHistory&&this._cloudUser?n.qy`
              <uc-snapshot-history-modal
                .open="${this._showBackupHistory}"
                .hass="${this.hass}"
                .subscription="${this._cloudUser.subscription}"
                @close-modal="${()=>this._showBackupHistory=!1}"
                @snapshot-restored="${this._handleSnapshotRestored}"
                @card-backup-restored="${this._handleCardBackupRestored}"
              ></uc-snapshot-history-modal>
            `:""}
        ${this._showManualBackup&&this._cloudUser?n.qy`
              <uc-manual-backup-dialog
                .open="${this._showManualBackup}"
                .config="${this.config}"
                @dialog-closed="${()=>this._showManualBackup=!1}"
                @backup-created="${this._handleManualBackupCreated}"
              ></uc-manual-backup-dialog>
            `:""}
      </div>
    `}_renderProBanner(e,t,i){return i?t?n.qy`
        <div class="ultra-pro-banner ultra-pro-banner-pro">
          <div class="banner-gradient"></div>
          <div class="banner-icon">
            <ha-icon icon="mdi:star-circle"></ha-icon>
          </div>
          <div class="banner-content">
            <h3>
              <ha-icon icon="mdi:star"></ha-icon>
              ${(0,Gi.kg)("editor.ultra_card_pro.pro_banner_title",e,"Ultra Card Pro")}
            </h3>
            <p>
              ${(0,Gi.kg)("editor.ultra_card_pro.pro_banner_subtitle",e,"Thank you for being a Pro member!")}
            </p>
          </div>
          <div class="pro-badge">
            <ha-icon icon="mdi:check-decagram"></ha-icon>
            PRO
          </div>
        </div>
      `:n.qy`
      <div class="ultra-pro-banner ultra-pro-banner-free">
        <div class="banner-icon">
          <ha-icon icon="mdi:star-circle-outline"></ha-icon>
        </div>
        <div class="banner-content">
          <h3>${(0,Gi.kg)("editor.ultra_card_pro.free_banner_title",e,"Ultra Card Pro")}</h3>
          <p>
            ${(0,Gi.kg)("editor.ultra_card_pro.free_banner_subtitle",e,"Professional card management and cloud backups")}
          </p>
        </div>
        <div class="free-badge">FREE</div>
      </div>
    `:n.qy`
        <div class="ultra-pro-banner ultra-pro-banner-minimal">
          <div class="banner-icon">
            <ha-icon icon="mdi:star-circle"></ha-icon>
          </div>
          <div class="banner-content">
            <h3>${(0,Gi.kg)("editor.ultra_card_pro.title",e,"Ultra Card Pro")}</h3>
            <p>
              ${(0,Gi.kg)("editor.ultra_card_pro.free_banner_subtitle",e,"Professional card management and cloud backups")}
            </p>
          </div>
        </div>
      `}_renderAuthSection(e,t,i){var o,a,r;return t?n.qy`
      <div class="ultra-pro-user-section">
        <div class="user-card">
          <div class="user-info">
            ${(null===(o=this._cloudUser)||void 0===o?void 0:o.avatar)?n.qy`<img src="${this._cloudUser.avatar}" alt="Avatar" class="user-avatar" />`:n.qy`<ha-icon icon="mdi:account-circle" class="user-avatar-icon"></ha-icon>`}
            <div class="user-details">
              <div class="user-name">${null===(a=this._cloudUser)||void 0===a?void 0:a.displayName}</div>
              <div class="user-email">${null===(r=this._cloudUser)||void 0===r?void 0:r.email}</div>
            </div>
          </div>
          <button class="ultra-btn ultra-btn-secondary" @click="${this._handleLogout}">
            <ha-icon icon="mdi:logout"></ha-icon>
            Logout
          </button>
        </div>
      </div>
    `:n.qy`
        <div class="ultra-pro-auth-section">
          ${this._showLoginForm?this._renderLoginForm(e):n.qy`
                <div class="feature-showcase">
                  <h4>${(0,Gi.kg)("editor.ultra_card_pro.features_title",e,"What You Get")}</h4>
                  <div class="features-grid">
                    <div class="feature-item">
                      <ha-icon icon="mdi:cloud-upload"></ha-icon>
                      <span>Auto cloud backups</span>
                    </div>
                    <div class="feature-item">
                      <ha-icon icon="mdi:bookmark-multiple"></ha-icon>
                      <span>Manual backups (Pro)</span>
                    </div>
                    <div class="feature-item">
                      <ha-icon icon="mdi:export"></ha-icon>
                      <span>Export configs (Pro)</span>
                    </div>
                    <div class="feature-item">
                      <ha-icon icon="mdi:import"></ha-icon>
                      <span>Import configs (Pro)</span>
                    </div>
                  </div>
                  <button
                    class="ultra-btn ultra-btn-primary"
                    @click="${()=>this._showLoginForm=!0}"
                  >
                    <ha-icon icon="mdi:login"></ha-icon>
                    Sign In to Get Started
                  </button>
                  <p class="auth-note">
                    Don't have an account?
                    <a href="https://ultracard.io/register" target="_blank" rel="noopener"
                      >Create one free</a
                    >
                  </p>
                </div>
              `}
        </div>
      `}_renderCardNameSetting(e){return n.qy`
      <div class="ultra-pro-card-name">
        <div class="setting-header">
          <label for="card-name">
            <ha-icon icon="mdi:card-text"></ha-icon>
            ${(0,Gi.kg)("editor.ultra_card_pro.card_name",e,"Card Name")}
          </label>
          <p class="setting-description">
            ${(0,Gi.kg)("editor.ultra_card_pro.card_name_desc",e,"Give this card a name to identify it in your backups")}
          </p>
        </div>
        <ha-textfield
          id="card-name"
          .value="${this.config.card_name||""}"
          @input="${this._handleCardNameChange}"
          placeholder="${(0,Gi.kg)("editor.ultra_card_pro.card_name_placeholder",e,"My Ultra Card")}"
          maxlength="100"
        ></ha-textfield>
      </div>
    `}_renderProActions(e,t){if(!t)return n.qy`
        <div class="ultra-pro-upgrade">
          <div class="upgrade-content">
            <ha-icon icon="mdi:star-box"></ha-icon>
            <div class="upgrade-text">
              <h4>
                ${(0,Gi.kg)("editor.ultra_card_pro.upgrade_title",e,"Unlock Pro Features")}
              </h4>
              <p>
                ${(0,Gi.kg)("editor.ultra_card_pro.upgrade_subtitle",e,"Get export, import, and manual backups for all your cards")}
              </p>
              <ul class="upgrade-features">
                <li>
                  <ha-icon icon="mdi:check"></ha-icon>
                  ${(0,Gi.kg)("editor.ultra_card_pro.features.export",e,"Export full card configs")}
                </li>
                <li>
                  <ha-icon icon="mdi:check"></ha-icon>
                  ${(0,Gi.kg)("editor.ultra_card_pro.features.import",e,"Import card configs")}
                </li>
                <li>
                  <ha-icon icon="mdi:check"></ha-icon>
                  ${(0,Gi.kg)("editor.ultra_card_pro.features.backups",e,"30 manual backups across all cards")}
                </li>
                <li>
                  <ha-icon icon="mdi:check"></ha-icon>
                  ${(0,Gi.kg)("editor.ultra_card_pro.features.naming",e,"Name your cards and backups")}
                </li>
                <li>
                  <ha-icon icon="mdi:check"></ha-icon>
                  ${(0,Gi.kg)("editor.ultra_card_pro.features.support",e,"Priority support")}
                </li>
              </ul>
            </div>
          </div>
          <button
            class="ultra-btn ultra-btn-upgrade"
            @click="${()=>window.open("https://ultracard.io/pro","_blank")}"
          >
            <ha-icon icon="mdi:star"></ha-icon>
            ${(0,Gi.kg)("editor.ultra_card_pro.upgrade_button",e,"Upgrade to Pro - $4.99/month")}
          </button>
        </div>
      `;const i=this._cloudUser.subscription,o=i.snapshot_count||0,a=i.snapshot_limit||30,r=o<a;return n.qy`
      <div class="ultra-pro-actions">
        <div class="actions-header">
          <h4>
            <ha-icon icon="mdi:tools"></ha-icon>
            Pro Tools
          </h4>
          ${r?n.qy`
                <div class="backup-count">
                  <ha-icon icon="mdi:bookmark-multiple"></ha-icon>
                  ${o} / ${a} backups
                </div>
              `:n.qy`
                <div class="limit-warning">
                  <ha-icon icon="mdi:alert"></ha-icon>
                  Backup limit reached (${o}/${a})
                </div>
              `}
        </div>
        <div class="actions-grid">
          <button class="action-card" @click="${this._handleExport}">
            <div class="action-icon export">
              <ha-icon icon="mdi:export"></ha-icon>
            </div>
            <div class="action-label">
              ${(0,Gi.kg)("editor.ultra_card_pro.export_card",e,"Export Card")}
            </div>
          </button>
          <button class="action-card" @click="${this._handleImport}">
            <div class="action-icon import">
              <ha-icon icon="mdi:import"></ha-icon>
            </div>
            <div class="action-label">
              ${(0,Gi.kg)("editor.ultra_card_pro.import_card",e,"Import Card")}
            </div>
          </button>
          <button
            class="action-card"
            @click="${this._handleCreateBackup}"
            ?disabled="${!r}"
          >
            <div class="action-icon backup">
              <ha-icon icon="mdi:bookmark-plus"></ha-icon>
            </div>
            <div class="action-label">
              ${(0,Gi.kg)("editor.ultra_card_pro.backup_card",e,"Create Backup")}
            </div>
          </button>
        </div>
      </div>
    `}_renderViewBackupsButton(e){return n.qy`
      <div class="ultra-pro-view-backups">
        <button
          class="ultra-btn ultra-btn-view-backups"
          @click="${()=>this._showBackupHistory=!0}"
        >
          <ha-icon icon="mdi:history"></ha-icon>
          ${(0,Gi.kg)("editor.ultra_card_pro.view_backups",e,"View All Backups")}
        </button>
      </div>
    `}_renderSnapshotStatusSection(e){const t=this._snapshotSchedulerStatus;return n.qy`
      <div class="ultra-pro-snapshot-section">
        <div class="snapshot-header">
          <div class="header-content">
            <div class="header-icon">
              <ha-icon icon="mdi:camera-timer"></ha-icon>
            </div>
            <div class="header-text">
              <h3>Auto Dashboard Snapshots</h3>
              <p>Automatic daily backups of your entire dashboard</p>
            </div>
          </div>
          <button
            class="snapshot-settings-btn"
            @click="${()=>this._showSnapshotSettings=!0}"
            title="Configure snapshot settings"
          >
            <ha-icon icon="mdi:cog"></ha-icon>
          </button>
        </div>

        <div class="snapshot-status-container">
          ${t?n.qy`
                <div class="status-card ${t.enabled?"enabled":"paused"}">
                  <div class="status-primary">
                    <ha-icon
                      icon="${t.enabled?"mdi:check-circle":"mdi:pause-circle"}"
                      class="status-icon"
                    ></ha-icon>
                    <div class="status-text">
                      <strong>${t.enabled?"Enabled":"Paused"}</strong>
                      <span class="status-desc">
                        ${t.enabled?"Daily snapshots are active":"Daily snapshots are paused"}
                      </span>
                    </div>
                  </div>

                  ${t.enabled&&t.nextSnapshotTime?n.qy`
                        <div class="status-detail">
                          <div class="detail-icon">
                            <ha-icon icon="mdi:calendar-clock"></ha-icon>
                          </div>
                          <div class="detail-content">
                            <span class="detail-label">Next Snapshot</span>
                            <span class="detail-value">
                              ${this._formatNextSnapshotTime(t.nextSnapshotTime)}
                            </span>
                          </div>
                        </div>
                      `:""}
                  ${t.lastSnapshotTime?n.qy`
                        <div class="status-detail">
                          <div class="detail-icon">
                            <ha-icon icon="mdi:history"></ha-icon>
                          </div>
                          <div class="detail-content">
                            <span class="detail-label">Last Snapshot</span>
                            <span class="detail-value">
                              ${this._formatLastSnapshotTime(t.lastSnapshotTime)}
                            </span>
                          </div>
                        </div>
                      `:""}
                  ${t.isRunning?n.qy`
                        <div class="status-detail running">
                          <div class="detail-icon">
                            <ha-icon icon="mdi:loading" class="spinning"></ha-icon>
                          </div>
                          <div class="detail-content">
                            <span class="detail-value">Creating snapshot...</span>
                          </div>
                        </div>
                      `:""}
                </div>
              `:n.qy`
                <div class="status-card loading">
                  <ha-icon icon="mdi:loading" class="spinning"></ha-icon>
                  <span>Loading snapshot status...</span>
                </div>
              `}

          <div class="manual-snapshot-action">
            <button
              class="ultra-btn ultra-btn-manual-snapshot"
              @click="${this._handleManualSnapshot}"
              ?disabled="${this._isCreatingManualSnapshot||(null==t?void 0:t.isRunning)}"
            >
              <ha-icon
                icon="${this._isCreatingManualSnapshot?"mdi:loading":"mdi:camera-plus"}"
                class="${this._isCreatingManualSnapshot?"spinning":""}"
              ></ha-icon>
              ${this._isCreatingManualSnapshot?"Creating Snapshot...":"Perform Manual Dashboard Snapshot"}
            </button>
            <p class="manual-snapshot-note">
              <ha-icon icon="mdi:information"></ha-icon>
              Manual snapshots count towards your 30-day snapshot history.
            </p>
          </div>

          <div class="snapshot-info-card">
            <div class="info-icon-container">
              <ha-icon icon="mdi:information-outline"></ha-icon>
            </div>
            <div class="info-content">
              <h4>What are Dashboard Snapshots?</h4>
              <p>
                Automatically backs up <strong>all</strong> your Ultra Cards across your entire
                dashboard once per day. Both auto and manual snapshots are kept for
                <strong>30 days</strong> and include card positions for easy restoration.
              </p>
            </div>
          </div>
        </div>

        <style>
          .ultra-pro-snapshot-section {
            margin: 16px 0;
            padding: 20px;
            background: var(--card-background-color);
            border-radius: 12px;
            border: 2px solid var(--primary-color, #03a9f4);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }

          .snapshot-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--divider-color, #e0e0e0);
          }

          .header-content {
            display: flex;
            align-items: center;
            gap: 16px;
          }

          .header-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary-color, #03a9f4) 0%, #0288d1 100%);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(3, 169, 244, 0.3);
          }

          .header-icon ha-icon {
            --mdc-icon-size: 28px;
            color: white;
          }

          .header-text h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-text-color);
          }

          .header-text p {
            margin: 4px 0 0 0;
            font-size: 13px;
            color: var(--secondary-text-color);
            opacity: 0.8;
          }

          .snapshot-settings-btn {
            padding: 10px;
            background: var(--secondary-background-color, #f5f5f5);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--primary-text-color);
          }

          .snapshot-settings-btn:hover {
            background: var(--divider-color, #e0e0e0);
            transform: rotate(90deg);
          }

          .snapshot-settings-btn ha-icon {
            --mdc-icon-size: 20px;
          }

          .snapshot-status-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
          }

          .status-card {
            background: var(--secondary-background-color, #f5f5f5);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
          }

          .status-card.enabled {
            border-left: 4px solid var(--success-color, #4caf50);
          }

          .status-card.paused {
            border-left: 4px solid var(--warning-color, #ff9800);
          }

          .status-card.loading {
            flex-direction: row;
            align-items: center;
            gap: 12px;
            justify-content: center;
            color: var(--secondary-text-color);
          }

          .status-primary {
            display: flex;
            align-items: center;
            gap: 16px;
          }

          .status-icon {
            --mdc-icon-size: 32px;
          }

          .status-card.enabled .status-icon {
            color: var(--success-color, #4caf50);
          }

          .status-card.paused .status-icon {
            color: var(--warning-color, #ff9800);
          }

          .status-text {
            display: flex;
            flex-direction: column;
            gap: 4px;
          }

          .status-text strong {
            font-size: 16px;
            color: var(--primary-text-color);
          }

          .status-desc {
            font-size: 13px;
            color: var(--secondary-text-color);
            opacity: 0.9;
          }

          .status-detail {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--card-background-color);
            border-radius: 8px;
          }

          .status-detail.running {
            background: var(--primary-color, #03a9f4);
            color: white;
          }

          .status-detail.running .detail-value {
            color: white;
          }

          .detail-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: var(--secondary-background-color, #f5f5f5);
            border-radius: 8px;
          }

          .status-detail.running .detail-icon {
            background: rgba(255, 255, 255, 0.2);
          }

          .detail-icon ha-icon {
            --mdc-icon-size: 20px;
            color: var(--primary-color, #03a9f4);
          }

          .status-detail.running .detail-icon ha-icon {
            color: white;
          }

          .detail-content {
            display: flex;
            flex-direction: column;
            gap: 2px;
          }

          .detail-label {
            font-size: 12px;
            color: var(--secondary-text-color);
            opacity: 0.8;
            text-transform: uppercase;
            font-weight: 500;
            letter-spacing: 0.5px;
          }

          .detail-value {
            font-size: 14px;
            color: var(--primary-text-color);
            font-weight: 500;
          }

          .manual-snapshot-action {
            margin: 20px 0;
            padding: 16px;
            background: linear-gradient(
              135deg,
              rgba(3, 169, 244, 0.05) 0%,
              rgba(2, 136, 209, 0.08) 100%
            );
            border-radius: 10px;
            border: 2px dashed var(--primary-color, #03a9f4);
          }

          .ultra-btn-manual-snapshot {
            width: 100%;
            padding: 14px 20px;
            font-size: 15px;
            font-weight: 600;
            background: linear-gradient(135deg, var(--primary-color, #03a9f4) 0%, #0288d1 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 12px rgba(3, 169, 244, 0.3);
          }

          .ultra-btn-manual-snapshot:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(3, 169, 244, 0.4);
          }

          .ultra-btn-manual-snapshot:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
          }

          .ultra-btn-manual-snapshot ha-icon {
            --mdc-icon-size: 22px;
          }

          .manual-snapshot-note {
            margin: 12px 0 0 0;
            padding: 0;
            font-size: 13px;
            color: var(--secondary-text-color);
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
          }

          .manual-snapshot-note ha-icon {
            --mdc-icon-size: 16px;
            color: var(--primary-color, #03a9f4);
          }

          .snapshot-info-card {
            display: flex;
            gap: 16px;
            padding: 16px;
            background: var(--secondary-background-color, #f5f5f5);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color, #03a9f4);
          }

          .info-icon-container {
            display: flex;
            align-items: flex-start;
            padding-top: 2px;
          }

          .info-icon-container ha-icon {
            --mdc-icon-size: 24px;
            color: var(--primary-color, #03a9f4);
          }

          .info-content {
            flex: 1;
          }

          .info-content h4 {
            margin: 0 0 8px 0;
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-text-color);
          }

          .info-content p {
            margin: 0;
            font-size: 13px;
            line-height: 1.5;
            color: var(--secondary-text-color);
          }

          .info-content strong {
            color: var(--primary-text-color);
            font-weight: 600;
          }

          .spinning {
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }

          @media (max-width: 768px) {
            .ultra-pro-snapshot-section {
              padding: 16px;
            }

            .header-content {
              gap: 12px;
            }

            .header-icon {
              width: 40px;
              height: 40px;
            }

            .header-icon ha-icon {
              --mdc-icon-size: 24px;
            }

            .header-text h3 {
              font-size: 16px;
            }

            .header-text p {
              font-size: 12px;
            }

            .status-primary {
              flex-direction: column;
              align-items: flex-start;
            }
          }
        </style>
      </div>
    `}_formatNextSnapshotTime(e){const t=new Date;return`${e.getDate()===t.getDate()?"Today":"Tomorrow"} at ${e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`}_formatLastSnapshotTime(e){const t=(new Date).getTime()-e.getTime(),i=Math.floor(t/6e4),o=Math.floor(i/60),a=Math.floor(o/24);return i<1?"Just now":i<60?`${i} minute${i>1?"s":""} ago`:o<24?`${o} hour${o>1?"s":""} ago`:1===a?"Yesterday":a<7?`${a} days ago`:e.toLocaleDateString()}_handleCardNameChange(e){const t=e.target,i=Object.assign(Object.assign({},this.config),{card_name:t.value});this._updateConfig(i)}_handleExport(){try{Qi.exportToFile(this.config,`${(this.config.card_name||"ultra-card").replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${Date.now()}.txt`);const e="en";alert((0,Gi.kg)("editor.ultra_card_pro.export_success",e,"Card configuration exported!"))}catch(e){console.error("Export failed:",e),alert("Failed to export card configuration")}}_handleImport(){const e=document.createElement("input");e.type="file",e.accept=".txt,.json",e.onchange=async e=>{var t;try{const i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!i)return;const o=await i.text();let a;try{a=JSON.parse(o)}catch(e){a=await Qi.importFromFile(i)}if(a.cards&&Array.isArray(a.cards))return void this._handleSnapshotImport(a);const n=a.type?a:await Qi.importFromFile(i);if("custom:ultra-card"!==n.type||!n.layout)throw new Error("Invalid Ultra Card configuration file");if(confirm("Import this card configuration? Your current config will be replaced.")){this._updateConfig(n);const e="en";alert((0,Gi.kg)("editor.ultra_card_pro.import_success",e,"Card configuration imported!"))}}catch(e){console.error("Import failed:",e),alert("Failed to import card configuration: "+(e instanceof Error?e.message:"Unknown error"))}},e.click()}_handleSnapshotImport(e){const t=e.cards||[];if(0===t.length)return void alert("No cards found in snapshot file");let i=" Snapshot Import\n\n";i+=`Found ${t.length} cards in this snapshot.\n\n`,i+="Select a card to import:\n\n";const o={};t.forEach(((e,t)=>{const i=e.view_title||"Unknown View";o[i]||(o[i]=[]),o[i].push(Object.assign(Object.assign({},e),{originalIndex:t}))}));let a=0;const n=[];Object.entries(o).forEach((([e,t])=>{i+=`\n ${e}:\n`,t.forEach((e=>{var t;a++;const o=e.card_name||(null===(t=e.config)||void 0===t?void 0:t.card_name)||`Card ${e.card_index+1}`;i+=`  ${a}. ${o}\n`,n.push(e)}))})),i+=`\n\nEnter the number of the card you want to import (1-${n.length}):`;const r=prompt(i);if(!r)return;const s=parseInt(r);if(isNaN(s)||s<1||s>n.length)return void alert("Invalid selection");const l=n[s-1],d=l.config;d&&"custom:ultra-card"===d.type?confirm(`Import "${l.card_name||"this card"}"?\n\nThis will replace your current card configuration.`)&&(this._updateConfig(d),alert(" Card imported successfully from snapshot!")):alert("Invalid card configuration in snapshot")}_handleCreateBackup(){this._showManualBackup=!0}_handleManualBackupCreated(e){const{name:t}=e.detail;this._cloudUser&&k.getSubscription().then((e=>{this._cloudUser&&(this._cloudUser.subscription=e,this.requestUpdate())})),alert((0,Gi.kg)("editor.ultra_card_pro.backup_created","en","Backup created successfully!")+`\n\n"${t}"`)}_handleBackupRestored(e){const{config:t}=e.detail;this._updateConfig(t),alert("Backup restored successfully!")}_handleSnapshotCreated(e){this._cloudUser&&k.getSubscription().then((e=>{this._cloudUser&&(this._cloudUser.subscription=e,this.requestUpdate())})),alert("Snapshot created successfully!")}_handleSnapshotRestored(e){console.log(" Snapshot restored - page will reload")}_handleCardBackupRestored(e){const{config:t}=e.detail;this._updateConfig(t),alert("Card backup restored successfully!")}async _handleSnapshotSettingsSaved(){console.log(" Snapshot settings saved"),this._updateSnapshotSchedulerStatus()}async _updateSnapshotSchedulerStatus(){try{this._snapshotSchedulerStatus=await C.getStatus()}catch(e){console.error("Failed to get snapshot scheduler status:",e)}}async _handleManualSnapshot(){if(!this._isCreatingManualSnapshot)try{this._isCreatingManualSnapshot=!0,console.log(" Starting manual dashboard snapshot..."),await w.createSnapshot(),C.updateLastSnapshotTime(),await this._updateSnapshotSchedulerStatus();const e=new CustomEvent("hass-notification",{detail:{message:" Manual dashboard snapshot created successfully!",duration:5e3},bubbles:!0,composed:!0});this.dispatchEvent(e),console.log(" Manual snapshot completed successfully")}catch(e){console.error(" Manual snapshot failed:",e);const t=e instanceof Error?e.message:"Unknown error";alert(`Failed to create manual snapshot: ${t}`)}finally{this._isCreatingManualSnapshot=!1}}async _handleLoadNewerBackup(){if(this._newerBackupAvailable&&confirm("Load the newer backup from another device? Your current unsaved changes will be lost."))try{const e=await k.restoreBackup(this._newerBackupAvailable.id);this._updateConfig(e),this._showSyncNotification=!1,this._newerBackupAvailable=null,alert("Newer backup loaded successfully!")}catch(e){console.error("Failed to load newer backup:",e),alert("Failed to load newer backup: "+(e instanceof Error?e.message:"Unknown error"))}}_handleDismissSyncNotification(){this._showSyncNotification=!1,this._newerBackupAvailable=null}_renderLoginSection(e){return n.qy`
      <div class="login-section">
        ${this._showLoginForm?this._renderLoginForm(e):n.qy`
              <div class="login-prompt">
                <div class="login-benefits">
                  <h5>Benefits of Cloud Sync:</h5>
                  <ul>
                    <li> Access your favorites on any device</li>
                    <li> Automatic backup of your custom colors</li>
                    <li> Sync your preset reviews and ratings</li>
                    <li> Never lose your configurations</li>
                  </ul>
                </div>

                <div class="login-actions">
                  <button class="login-btn primary" @click=${()=>this._showLoginForm=!0}>
                    Sign In to Ultra Card Cloud <span class="beta-badge">BETA</span>
                  </button>
                  <p class="login-note">
                    Don't have an account?
                    <a href="https://ultracard.io/register" target="_blank" rel="noopener">
                      Create one free at ultracard.io
                    </a>
                  </p>
                </div>
              </div>
            `}
      </div>
    `}_renderLoginForm(e){return n.qy`
      <div class="login-form">
        <h5>Sign In to Ultra Card Cloud <span class="beta-badge">BETA</span></h5>

        ${this._loginError?n.qy`<div class="error-message">${(0,h._)(this._loginError)}</div>`:""}

        <form @submit=${this._handleLogin}>
          <div class="form-group">
            <label for="username">Username or Email</label>
            <input
              type="text"
              id="username"
              name="username"
              required
              ?disabled=${this._isLoggingIn}
              placeholder="Enter your username or email"
            />
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              required
              ?disabled=${this._isLoggingIn}
              placeholder="Enter your password"
            />
          </div>

          <div class="form-actions">
            <button
              type="button"
              class="cancel-btn"
              @click=${()=>{this._showLoginForm=!1,this._loginError=""}}
              ?disabled=${this._isLoggingIn}
            >
              Cancel
            </button>
            <button type="submit" class="login-btn primary" ?disabled=${this._isLoggingIn}>
              ${this._isLoggingIn?"Signing In...":"Sign In"}
            </button>
          </div>
        </form>

        <div class="login-links">
          <a href="https://ultracard.io/forgot-password" target="_blank" rel="noopener">
            Forgot Password?
          </a>
          <span></span>
          <a href="https://ultracard.io/register" target="_blank" rel="noopener">
            Create Account
          </a>
        </div>
      </div>
    `}_renderSyncControls(e){var t,i,o,a,r,s,l,d,c,p;const u=null===(t=this._syncStatus)||void 0===t?void 0:t.lastSync,g=(null===(i=this._syncStatus)||void 0===i?void 0:i.isSyncing)||!1,m=(null===(o=this._syncStatus)||void 0===o?void 0:o.pendingChanges)||0,h=(null===(a=this._syncStatus)||void 0===a?void 0:a.conflicts)||[];return n.qy`
      <div class="sync-controls">
        <div class="user-info">
          <div class="user-details">
            ${(null===(r=this._cloudUser)||void 0===r?void 0:r.avatar)?n.qy`<img src="${this._cloudUser.avatar}" alt="Avatar" class="user-avatar" />`:n.qy`<div class="user-avatar-placeholder">
                  ${(null===(l=null===(s=this._cloudUser)||void 0===s?void 0:s.displayName)||void 0===l?void 0:l.charAt(0))||"?"}
                </div>`}
            <div class="user-text">
              <strong>${(null===(d=this._cloudUser)||void 0===d?void 0:d.displayName)||"Unknown User"}</strong>
              <span class="user-email">${null===(c=this._cloudUser)||void 0===c?void 0:c.email}</span>
            </div>
          </div>
          <button class="logout-btn" @click=${this._handleLogout} title="Sign Out">
            <ha-icon icon="mdi:logout"></ha-icon>
          </button>
        </div>

        <div class="sync-status">
          <div class="sync-info">
            <div class="sync-stat">
              <span class="stat-label">Last Sync:</span>
              <span class="stat-value">
                ${u?this._formatRelativeTime(u):"Never"}
              </span>
            </div>
            ${m>0?n.qy`
                  <div class="sync-stat pending">
                    <span class="stat-label">Pending:</span>
                    <span class="stat-value">${m} changes</span>
                  </div>
                `:""}
            ${h.length>0?n.qy`
                  <div class="sync-stat conflicts">
                    <span class="stat-label">Conflicts:</span>
                    <span class="stat-value">${h.length} items</span>
                  </div>
                `:""}
          </div>

          <div class="sync-actions">
            <button
              class="sync-btn"
              @click=${this._handleSyncNow}
              ?disabled=${g}
              title="Sync all data now"
            >
              <ha-icon icon="mdi:sync${g?" spin":""}"></ha-icon>
              ${g?"Syncing...":"Sync Now"}
            </button>
          </div>
        </div>

        <div class="sync-settings">
          <div class="sync-toggle">
            <label class="toggle-label">
              <input
                type="checkbox"
                ?checked=${null===(p=this._syncStatus)||void 0===p?void 0:p.isEnabled}
                @change=${this._handleSyncToggle}
                ?disabled=${g}
              />
              <span class="toggle-text">
                ${(0,Gi.kg)("editor.cloud_sync.auto_sync",e,"Automatic Sync")}
              </span>
            </label>
            <p class="toggle-description">
              ${(0,Gi.kg)("editor.cloud_sync.auto_sync_desc",e,"Automatically sync changes in the background")}
            </p>
          </div>
        </div>

        ${h.length>0?this._renderConflicts(h,e):""}
      </div>
    `}_renderConflicts(e,t){return n.qy`
      <div class="sync-conflicts">
        <h6>Sync Conflicts</h6>
        <p>The following items have conflicts that need to be resolved:</p>

        <div class="conflicts-list">
          ${e.map((e=>n.qy`
              <div class="conflict-item">
                <div class="conflict-info">
                  <strong>${e.type}: ${e.local.name||e.local.id}</strong>
                  <span class="conflict-field">Field: ${e.field}</span>
                </div>
                <div class="conflict-actions">
                  <button
                    class="resolve-btn local"
                    @click=${()=>this._resolveConflict(e,"local")}
                  >
                    Keep Local
                  </button>
                  <button
                    class="resolve-btn remote"
                    @click=${()=>this._resolveConflict(e,"remote")}
                  >
                    Keep Cloud
                  </button>
                </div>
              </div>
            `))}
        </div>
      </div>
    `}async _initializeProServices(e){var t;const i="https://ultracard.io";this.hass&&(w.initialize(this.hass,i),x.initialize(this.hass)),S.initialize(i),await b.setSyncEnabled(!0),"pro"===(null===(t=null==e?void 0:e.subscription)||void 0===t?void 0:t.tier)&&(C.start(),C.subscribe((e=>{this._snapshotSchedulerStatus=e})),this._updateSnapshotSchedulerStatus())}async _handleLogin(e){e.preventDefault();const t=e.target,i=new FormData(t),o=i.get("username"),a=i.get("password");if(o&&a){this._isLoggingIn=!0,this._loginError="";try{const e=await v.login({username:o,password:a});this._showLoginForm=!1,await this._initializeProServices(e),console.log(" Successfully logged in and initialized all services")}catch(e){this._loginError=e instanceof Error?e.message:"Login failed",console.error(" Login failed:",e)}finally{this._isLoggingIn=!1}}else this._loginError="Please enter both username and password"}async _handleLogout(){try{C.stop(),this._snapshotSchedulerStatus=null,await v.logout(),this._showLoginForm=!1,console.log(" Successfully logged out")}catch(e){console.error(" Logout failed:",e)}}async _handleSyncNow(){try{const e=await b.syncAll();console.log(" Sync completed:",e);const t=e.favorites.synced+e.colors.synced+e.reviews.synced;t>0&&console.log(`Synced ${t} items successfully`)}catch(e){console.error(" Sync failed:",e)}}async _handleSyncToggle(e){const t=e.target,i=t.checked;try{await b.setSyncEnabled(i),console.log(" Sync "+(i?"enabled":"disabled"))}catch(e){console.error(" Failed to toggle sync:",e),t.checked=!i}}async _resolveConflict(e,t){try{await b.resolveConflict(e,t),console.log(` Conflict resolved: ${t}`)}catch(e){console.error(" Failed to resolve conflict:",e)}}_formatRelativeTime(e){const t=(new Date).getTime()-e.getTime(),i=Math.floor(t/6e4),o=Math.floor(i/60),a=Math.floor(o/24);return i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:a<7?`${a}d ago`:e.toLocaleDateString()}};uo([(0,r.MZ)({attribute:!1})],go.prototype,"hass",void 0),uo([(0,r.MZ)({attribute:!1})],go.prototype,"config",void 0),uo([(0,r.wk)()],go.prototype,"_activeTab",void 0),uo([(0,r.wk)()],go.prototype,"_configDebounceTimeout",void 0),uo([(0,r.wk)()],go.prototype,"_isFullScreen",void 0),uo([(0,r.wk)()],go.prototype,"_isMobile",void 0),uo([(0,r.wk)()],go.prototype,"_cloudUser",void 0),uo([(0,r.wk)()],go.prototype,"_syncStatus",void 0),uo([(0,r.wk)()],go.prototype,"_backupStatus",void 0),uo([(0,r.wk)()],go.prototype,"_showLoginForm",void 0),uo([(0,r.wk)()],go.prototype,"_loginError",void 0),uo([(0,r.wk)()],go.prototype,"_isLoggingIn",void 0),uo([(0,r.wk)()],go.prototype,"_showBackupHistory",void 0),uo([(0,r.wk)()],go.prototype,"_showCreateSnapshot",void 0),uo([(0,r.wk)()],go.prototype,"_showManualBackup",void 0),uo([(0,r.wk)()],go.prototype,"_showSnapshotSettings",void 0),uo([(0,r.wk)()],go.prototype,"_snapshotSchedulerStatus",void 0),uo([(0,r.wk)()],go.prototype,"_newerBackupAvailable",void 0),uo([(0,r.wk)()],go.prototype,"_showSyncNotification",void 0),uo([(0,r.wk)()],go.prototype,"_isCreatingManualSnapshot",void 0),go=uo([(0,r.EM)("ultra-card-editor")],go);var mo=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let ho=class extends n.WF{constructor(){super(...arguments),this._moduleVisibilityState=new Map,this._animatingModules=new Set,this._rowVisibilityState=new Map,this._columnVisibilityState=new Map,this._animatingRows=new Set,this._animatingColumns=new Set,this._lastHassChangeTime=0,this._moduleStylesInjected=!1}connectedCallback(){super.connectedCallback(),this._injectModuleStyles(),g.k.injectHoverEffectStyles(this.shadowRoot),this._templateUpdateListener=()=>{this.requestUpdate(),this._updateHoverEffectStyles()},window.addEventListener("ultra-card-template-update",this._templateUpdateListener);const e=e=>{var t;null===(t=e.stopPropagation)||void 0===t||t.call(e),this.requestUpdate()};this.addEventListener("slider-state-changed",e),window.addEventListener("slider-state-changed",e)}disconnectedCallback(){super.disconnectedCallback(),g.k.removeHoverEffectStyles(this.shadowRoot),this._templateUpdateListener&&window.removeEventListener("ultra-card-template-update",this._templateUpdateListener)}getGridOptions(){return{columns:"full",min_columns:6}}willUpdate(e){if(e.has("config")){const t=e.get("config"),i=this.config;t&&JSON.stringify(t.layout)===JSON.stringify(null==i?void 0:i.layout)||(this._moduleVisibilityState.clear(),this._animatingModules.clear(),this._rowVisibilityState.clear(),this._columnVisibilityState.clear(),this._animatingRows.clear(),this._animatingColumns.clear()),this.requestUpdate();const o=null==i?void 0:i.card_border_radius;null!=o?this.style.setProperty("--ha-card-border-radius",`${o}px`):this.style.removeProperty("--ha-card-border-radius")}if(e.has("hass")){const e=Date.now();e-this._lastHassChangeTime>100&&(this._lastHassChangeTime=e,this.hass&&d.S.setHass(this.hass),this.requestUpdate())}}setConfig(e){if(!e)throw new Error("Invalid configuration");const t=u.validateAndCorrectConfig(e);if(!t.valid)throw new Error(`Invalid configuration: ${t.errors.join(", ")}`);const i=u.validateUniqueModuleIds(t.correctedConfig);let o=t.correctedConfig;i.valid||(o=u.fixDuplicateModuleIds(o)),this.config=Object.assign({},o),this.requestUpdate()}static getConfigElement(){return document.createElement("ultra-card-editor")}static getStubConfig(){return{type:"custom:ultra-card",card_background:"var(--card-background-color, var(--ha-card-background, white))",card_border_radius:12,card_border_color:"var(--divider-color)",card_border_width:1,card_padding:16,layout:{rows:[{id:"row1",columns:[{id:"col1",modules:[{type:"text",text:"Ultra Card",font_size:24,color:"#2196f3",alignment:"center"},{type:"image",image_type:"default",width:100,height:200,alignment:"center",border_radius:8,object_fit:"cover"}]}]}]}}}render(){if(!this.config||!this.hass)return n.qy`<div>Loading...</div>`;const e=this._getCardStyle();return this.config.layout&&this.config.layout.rows&&0!==this.config.layout.rows.length?n.qy`
      <div class="card-container" style="${e}">
        ${this.config.layout.rows.map((e=>this._renderRow(e)))}
      </div>
    `:n.qy`
        <div class="card-container" style="${e}">
          <div class="welcome-text">
            <h2>Ultra Card</h2>
            <p>Modular card builder for Home Assistant</p>
            <p>Configure using the visual editor</p>
          </div>
        </div>
      `}_getCardStyle(){var e,t,i,o;if(!this.config)return"";const a=[];if(this.config.card_background&&a.push(`background: ${this.config.card_background}`),void 0!==this.config.card_border_radius&&a.push(`border-radius: ${this.config.card_border_radius}px`),this.config.card_border_color||void 0!==this.config.card_border_width){const e=void 0!==this.config.card_border_width?this.config.card_border_width:1,t=this.config.card_border_color||"var(--divider-color)";a.push(`border: ${e}px solid ${t}`)}if(void 0!==this.config.card_padding&&a.push(`padding: ${this.config.card_padding}px`),void 0!==this.config.card_margin&&a.push(`margin: ${this.config.card_margin}px`),this.config.card_shadow_enabled){const n=this.config.card_shadow_color||"rgba(0, 0, 0, 0.15)",r=null!==(e=this.config.card_shadow_horizontal)&&void 0!==e?e:0,s=null!==(t=this.config.card_shadow_vertical)&&void 0!==t?t:2,l=null!==(i=this.config.card_shadow_blur)&&void 0!==i?i:8,d=null!==(o=this.config.card_shadow_spread)&&void 0!==o?o:0;a.push(`box-shadow: ${r}px ${s}px ${l}px ${d}px ${n}`)}return a.join("; ")}_renderRow(e){var t,i,o,a,r,s,l,c,p,u;this.hass&&d.S.setHass(this.hass);const m=d.S.evaluateRowVisibility(e),h=e,_=d.S.evaluateLogicProperties({logic_entity:null===(t=h.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=h.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(o=h.design)||void 0===o?void 0:o.logic_operator,logic_value:null===(a=h.design)||void 0===a?void 0:a.logic_value});if(!m||!_)return n.qy``;const v=e.id||`row-${Math.random()}`,f=this._rowVisibilityState.get(v),b=!0,y=(null===(r=e.design)||void 0===r?void 0:r.intro_animation)||"none",k=(null===(s=e.design)||void 0===s?void 0:s.outro_animation)||"none",x=(null===(l=e.design)||void 0===l?void 0:l.animation_duration)||"2s",w=(null===(c=e.design)||void 0===c?void 0:c.animation_delay)||"0s",S=(null===(p=e.design)||void 0===p?void 0:p.animation_timing)||"ease",A=this._getStateBasedAnimationClass(e.design);let C="",z=!1;const T=this._animatingRows.has(v);A?C=A:void 0!==f&&f!==b?"none"!==y&&(T?C=`animation-${y}`:(C=`animation-${y}`,z=!0,this._animatingRows.add(v),setTimeout((()=>{this._animatingRows.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w)))):void 0===f&&"none"!==y?(C=`animation-${y}`,z=!0,this._animatingRows.add(v),setTimeout((()=>{this._animatingRows.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w))):T&&"none"!==y&&(C=`animation-${y}`),this._rowVisibilityState.set(v,b);const I=this._generateRowStyles(e),E=null===(u=e.design)||void 0===u?void 0:u.hover_effect,$=g.k.getHoverEffectClass(E),P=n.qy`
      <div class="card-row ${$}" style=${I}>
        ${e.columns.map((e=>this._renderColumn(e)))}
      </div>
    `;return C||"none"!==y||"none"!==k||A?n.qy`
        <div
          class="row-animation-wrapper ${C}"
          style="
            --animation-duration: ${x};
            --animation-delay: ${w};
            --animation-timing: ${S};
          "
        >
          ${P}
        </div>
      `:P}_renderColumn(e){var t,i,o,a,r,s,l,c,p,u;const m=d.S.evaluateColumnVisibility(e),h=e,_=d.S.evaluateLogicProperties({logic_entity:null===(t=h.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=h.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(o=h.design)||void 0===o?void 0:o.logic_operator,logic_value:null===(a=h.design)||void 0===a?void 0:a.logic_value});if(!m||!_)return n.qy``;const v=e.id||`column-${Math.random()}`,f=this._columnVisibilityState.get(v),b=!0,y=(null===(r=e.design)||void 0===r?void 0:r.intro_animation)||"none",k=(null===(s=e.design)||void 0===s?void 0:s.outro_animation)||"none",x=(null===(l=e.design)||void 0===l?void 0:l.animation_duration)||"2s",w=(null===(c=e.design)||void 0===c?void 0:c.animation_delay)||"0s",S=(null===(p=e.design)||void 0===p?void 0:p.animation_timing)||"ease",A=this._getStateBasedAnimationClass(e.design);let C="",z=!1;const T=this._animatingColumns.has(v);A?C=A:void 0!==f&&f!==b?"none"!==y&&(T?C=`animation-${y}`:(C=`animation-${y}`,z=!0,this._animatingColumns.add(v),setTimeout((()=>{this._animatingColumns.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w)))):void 0===f&&"none"!==y?(C=`animation-${y}`,z=!0,this._animatingColumns.add(v),setTimeout((()=>{this._animatingColumns.delete(v),this.requestUpdate()}),this._parseAnimationDuration(x)+this._parseAnimationDuration(w))):T&&"none"!==y&&(C=`animation-${y}`),this._columnVisibilityState.set(v,b);const I=this._generateColumnStyles(e),E=null===(u=e.design)||void 0===u?void 0:u.hover_effect,$=g.k.getHoverEffectClass(E),P=n.qy`
      <div class="card-column ${$}" style=${I}>
        ${e.modules.map((e=>this._renderModule(e)))}
      </div>
    `;return C||"none"!==y||"none"!==k||A?n.qy`
        <div
          class="column-animation-wrapper ${C}"
          style="
            --animation-duration: ${x};
            --animation-delay: ${w};
            --animation-timing: ${S};
          "
        >
          ${P}
        </div>
      `:P}_renderModule(e){var t,i,o,a,r,s,l,c,p,u,g,h,_,v;const f=d.S.evaluateModuleVisibility(e),b=e,y=d.S.evaluateLogicProperties({logic_entity:null===(t=b.design)||void 0===t?void 0:t.logic_entity,logic_attribute:null===(i=b.design)||void 0===i?void 0:i.logic_attribute,logic_operator:null===(o=b.design)||void 0===o?void 0:o.logic_operator,logic_value:null===(a=b.design)||void 0===a?void 0:a.logic_value}),k=f&&y,x=e.id||`${e.type}-${Math.random()}`,w=this._moduleVisibilityState.get(x),S=this._animatingModules.has(x),A=b.intro_animation||(null===(r=b.design)||void 0===r?void 0:r.intro_animation)||"none",C=b.outro_animation||(null===(s=b.design)||void 0===s?void 0:s.outro_animation)||"none",z=b.animation_duration||(null===(l=b.design)||void 0===l?void 0:l.animation_duration)||"2s",T=b.animation_delay||(null===(c=b.design)||void 0===c?void 0:c.animation_delay)||"0s",I=b.animation_timing||(null===(p=b.design)||void 0===p?void 0:p.animation_timing)||"ease",E=b.animation_type||(null===(u=b.design)||void 0===u?void 0:u.animation_type),$=b.animation_entity||(null===(g=b.design)||void 0===g?void 0:g.animation_entity),P=b.animation_trigger_type||(null===(h=b.design)||void 0===h?void 0:h.animation_trigger_type)||"state",j=b.animation_attribute||(null===(_=b.design)||void 0===_?void 0:_.animation_attribute),B=b.animation_state||(null===(v=b.design)||void 0===v?void 0:v.animation_state);let D=!1;if(E&&"none"!==E)if($){if(B&&this.hass){const e=this.hass.states[$];if(e)if("attribute"===P&&j){const t=e.attributes[j];D=String(t)===B}else D=e.state===B}}else D=!0;let O="",J=!1;return D&&"none"!==E?O=`animation-${E}`:void 0!==w&&w!==k?k&&"none"!==A?S?O=`animation-${A}`:(O=`animation-${A}`,J=!0,this._animatingModules.add(x),setTimeout((()=>{this._animatingModules.delete(x),this.requestUpdate()}),this._parseAnimationDuration(z)+this._parseAnimationDuration(T))):k||"none"===C||(S?O=`animation-${C}`:(O=`animation-${C}`,J=!0,this._animatingModules.add(x),setTimeout((()=>{this._animatingModules.delete(x),this.requestUpdate()}),this._parseAnimationDuration(z)+this._parseAnimationDuration(T)))):void 0===w&&k&&"none"!==A?(O=`animation-${A}`,J=!0,this._animatingModules.add(x),setTimeout((()=>{this._animatingModules.delete(x),this.requestUpdate()}),this._parseAnimationDuration(z)+this._parseAnimationDuration(T))):S&&(k&&"none"!==A?O=`animation-${A}`:k||"none"===C||(O=`animation-${C}`)),this._moduleVisibilityState.set(x,k),(k||S||J)&&this.hass&&this.config?m.E.renderModuleContent(e,this.hass,this.config,{animationClass:O,animationDuration:z,animationDelay:T,animationTiming:I,introAnimation:A,outroAnimation:C,shouldTriggerStateAnimation:D}):n.qy``}_parseAnimationDuration(e){const t=e.match(/^(\d*\.?\d+)(s|ms)?$/);if(!t)return 300;const i=parseFloat(t[1]),o=t[2];return o?"s"===o?1e3*i:i:1e3*i}_collectHoverEffectConfigs(){var e,t;const i=[];return this.config?(null===(t=null===(e=this.config.layout)||void 0===e?void 0:e.rows)||void 0===t||t.forEach((e=>{var t,o;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect),null===(o=e.columns)||void 0===o||o.forEach((e=>{var t,o;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect),null===(o=e.modules)||void 0===o||o.forEach((e=>{var t;(null===(t=e.design)||void 0===t?void 0:t.hover_effect)&&i.push(e.design.hover_effect)}))}))})),i):i}_updateHoverEffectStyles(){if(!this.shadowRoot)return;const e=this._collectHoverEffectConfigs();e.length>0&&g.k.updateHoverEffectStyles(this.shadowRoot,e)}_getStateBasedAnimationClass(e){if(!e)return"";const t=e.animation_type,i=e.animation_entity,o=e.animation_trigger_type||"state",a=e.animation_attribute,n=e.animation_state;if(!t||"none"===t)return"";if(!i)return`animation-${t}`;if(!n||!this.hass)return"";const r=this.hass.states[i];if(!r)return"";let s=!1;if("attribute"===o&&a){const e=r.attributes[a];s=String(e)===n}else s=r.state===n;return s?`animation-${t}`:""}_countTotalModules(e){return e.layout&&e.layout.rows?e.layout.rows.reduce(((e,t)=>e+t.columns.reduce(((e,t)=>e+t.modules.length),0)),0):0}_getGridTemplateColumns(e,t){return{"1-col":"1fr","1-2-1-2":"1fr 1fr","1-3-2-3":"1fr 2fr","2-3-1-3":"2fr 1fr","2-5-3-5":"2fr 3fr","3-5-2-5":"3fr 2fr","1-3-1-3-1-3":"1fr 1fr 1fr","1-4-1-2-1-4":"1fr 2fr 1fr","1-5-3-5-1-5":"1fr 3fr 1fr","1-6-2-3-1-6":"1fr 4fr 1fr","1-4-1-4-1-4-1-4":"1fr 1fr 1fr 1fr","1-5-1-5-1-5-1-5":"1fr 1fr 1fr 1fr","1-6-1-6-1-6-1-6":"1fr 1fr 1fr 1fr","1-8-1-4-1-4-1-8":"1fr 2fr 2fr 1fr","1-5-1-5-1-5-1-5-1-5":"1fr 1fr 1fr 1fr 1fr","1-6-1-6-1-3-1-6-1-6":"1fr 1fr 2fr 1fr 1fr","1-8-1-4-1-4-1-4-1-8":"1fr 2fr 2fr 2fr 1fr","1-6-1-6-1-6-1-6-1-6-1-6":"1fr 1fr 1fr 1fr 1fr 1fr","50-50":"1fr 1fr","30-70":"3fr 7fr","70-30":"7fr 3fr","40-60":"4fr 6fr","60-40":"6fr 4fr","33-33-33":"1fr 1fr 1fr","25-50-25":"1fr 2fr 1fr","20-60-20":"1fr 3fr 1fr","25-25-25-25":"1fr 1fr 1fr 1fr"}[e]||`repeat(${t}, 1fr)`}_addPixelUnit(e){return e?/^\d+$/.test(e)?`${e}px`:/^[\d\s]+$/.test(e)?e.split(" ").map((e=>e.trim()?`${e}px`:e)).join(" "):e:e}_generateRowStyles(e){var t;const i=e.design||{},o=(e=>{switch(e){case"top":return"start";case"bottom":return"end";case"middle":return"center";default:return}})(e.column_alignment),a=(e=>{switch(e){case"start":return"start";case"end":return"end";case"center":return"center";case"stretch":return"stretch";default:return}})(e.content_alignment),n={display:"grid",gridTemplateColumns:this._getGridTemplateColumns(e.column_layout||"1-col",e.columns.length),gap:`${null!==(t=e.gap)&&void 0!==t?t:16}px`,padding:"8px 0"};void 0!==o&&(n.alignItems=o),void 0!==a&&(n.justifyItems=a);const r={padding:i.padding_top||i.padding_bottom||i.padding_left||i.padding_right?`${i.padding_top||"0"} ${i.padding_right||"0"} ${i.padding_bottom||"0"} ${i.padding_left||"0"}`:e.padding?`${e.padding}px`:void 0,margin:i.margin_top||i.margin_bottom||i.margin_left||i.margin_right?`${i.margin_top||"0"} ${i.margin_right||"0"} ${i.margin_bottom||"0"} ${i.margin_left||"0"}`:e.margin?`${e.margin}px`:void 0,background:i.background_color||e.background_color||"transparent",backgroundImage:this._resolveBackgroundImageCSS(i),backgroundSize:i.background_size||(i.background_image?"cover":void 0),backgroundPosition:i.background_position||(i.background_image?"center":void 0),backgroundRepeat:i.background_repeat||(i.background_image?"no-repeat":void 0),border:i.border_style&&"none"!==i.border_style?`${i.border_width||"1px"} ${i.border_style} ${i.border_color||"var(--divider-color)"}`:"none",borderRadius:this._addPixelUnit(i.border_radius)||(e.border_radius?`${e.border_radius}px`:"0"),position:i.position||"inherit",top:i.top||"auto",bottom:i.bottom||"auto",left:i.left||"auto",right:i.right||"auto",zIndex:i.z_index||"auto",width:i.width||"100%",height:i.height||"auto",maxWidth:i.max_width||"none",maxHeight:i.max_height||"none",minWidth:i.min_width||"none",minHeight:i.min_height||"auto",overflow:i.overflow||"visible",clipPath:i.clip_path||"none",backdropFilter:i.backdrop_filter||"none",boxShadow:i.box_shadow_h&&i.box_shadow_v?`${i.box_shadow_h||"0"} ${i.box_shadow_v||"0"} ${i.box_shadow_blur||"0"} ${i.box_shadow_spread||"0"} ${i.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},s=Object.assign(Object.assign({},n),r),l=Object.fromEntries(Object.entries(s).filter((([e,t])=>void 0!==t)));return this._styleObjectToCss(l)}_generateColumnStyles(e){const t=e.design||{},i={display:"flex",flexDirection:"column"};e.horizontal_alignment&&(i.alignItems="left"===e.horizontal_alignment?"flex-start":"right"===e.horizontal_alignment?"flex-end":"stretch"===e.horizontal_alignment?"stretch":"center"),e.vertical_alignment&&(i.justifyContent="top"===e.vertical_alignment?"flex-start":"bottom"===e.vertical_alignment?"flex-end":"stretch"===e.vertical_alignment?"stretch":"center");const o={padding:t.padding_top||t.padding_bottom||t.padding_left||t.padding_right?`${t.padding_top||"0"} ${t.padding_right||"0"} ${t.padding_bottom||"0"} ${t.padding_left||"0"}`:e.padding?`${e.padding}px`:void 0,margin:t.margin_top||t.margin_bottom||t.margin_left||t.margin_right?`${t.margin_top||"0"} ${t.margin_right||"0"} ${t.margin_bottom||"0"} ${t.margin_left||"0"}`:e.margin?`${e.margin}px`:void 0,background:t.background_color||e.background_color||"transparent",backgroundImage:this._resolveBackgroundImageCSS(t),backgroundSize:t.background_size||(t.background_image?"cover":void 0),backgroundPosition:t.background_position||(t.background_image?"center":void 0),backgroundRepeat:t.background_repeat||(t.background_image?"no-repeat":void 0),border:t.border_style&&"none"!==t.border_style?`${t.border_width||"1px"} ${t.border_style} ${t.border_color||"var(--divider-color)"}`:"none",borderRadius:this._addPixelUnit(t.border_radius)||(e.border_radius?`${e.border_radius}px`:"0"),position:t.position||"inherit",top:t.top||"auto",bottom:t.bottom||"auto",left:t.left||"auto",right:t.right||"auto",zIndex:t.z_index||"auto",width:t.width||"100%",height:t.height||"auto",maxWidth:t.max_width||"none",maxHeight:t.max_height||"none",minWidth:t.min_width||"none",minHeight:t.min_height||"auto",overflow:t.overflow||"visible",clipPath:t.clip_path||"none",backdropFilter:t.backdrop_filter||"none",boxShadow:t.box_shadow_h&&t.box_shadow_v?`${t.box_shadow_h||"0"} ${t.box_shadow_v||"0"} ${t.box_shadow_blur||"0"} ${t.box_shadow_spread||"0"} ${t.box_shadow_color||"rgba(0,0,0,0.1)"}`:"none",boxSizing:"border-box"},a=Object.assign(Object.assign({},i),o),n=Object.fromEntries(Object.entries(a).filter((([e,t])=>void 0!==t)));return this._styleObjectToCss(n)}_resolveBackgroundImageCSS(e){var t,i;const o=this.hass,a=null==e?void 0:e.background_image_type,n=null==e?void 0:e.background_image;if(!a||"none"===a)return n?`url("${o?(0,l.V)(o,n):n}")`:"none";if("upload"===a||"url"===a)return n?`url("${o?(0,l.V)(o,n):n}")`:"none";if("entity"===a){const a=null==e?void 0:e.background_image_entity;if(a&&o&&o.states[a]){const e=o.states[a];let n="";if((null===(t=e.attributes)||void 0===t?void 0:t.entity_picture)?n=e.attributes.entity_picture:(null===(i=e.attributes)||void 0===i?void 0:i.image)?n=e.attributes.image:"string"==typeof e.state&&(n=e.state),n)return`url("${(0,l.V)(o,n)}")`}return"none"}return"none"}_styleObjectToCss(e){return Object.entries(e).map((([e,t])=>`${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}: ${t}`)).join("; ")}_injectModuleStyles(){if(this._moduleStylesInjected||!this.shadowRoot)return;const e=(0,s.oD)().getAllModuleStyles();if(e.trim().length>0){const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t),this._moduleStylesInjected=!0}}static get styles(){return n.AH`
      :host {
        display: block;
        /* Ensure card adapts to container size in sections view */
        container-type: inline-size;
        width: 100%;
        min-width: 0;
      }

      .card-container {
        background: var(--card-background-color, var(--ha-card-background, white));
        border-radius: var(--ha-card-border-radius, 8px);
        box-shadow: var(--ha-card-box-shadow, 0 2px 4px rgba(0, 0, 0, 0.1));
        padding: 16px;
        transition: all 0.3s ease;
        /* Responsive sizing for sections view */
        width: 100%;
        box-sizing: border-box;
      }

      .welcome-text {
        text-align: center;
        padding: 24px;
      }

      .welcome-text h2 {
        margin: 0 0 16px 0;
        color: var(--primary-text-color);
      }

      .welcome-text p {
        margin: 8px 0;
        color: var(--secondary-text-color);
      }

      .card-row {
        /* No default margins - spacing controlled by individual modules */
      }

      .card-row:last-child {
        /* No default margins - spacing controlled by individual modules */
      }

      .card-column {
        display: flex;
        flex-direction: column;
        /* Gap is now controlled via inline styles from column.gap property */
      }

      .unknown-module {
        padding: 16px;
        background: var(--error-color);
        color: white;
        border-radius: 4px;
        text-align: center;
        font-size: 14px;
      }

      /* Animation Wrappers */
      .module-animation-wrapper,
      .row-animation-wrapper,
      .column-animation-wrapper {
        animation-duration: var(--animation-duration, 2s);
        animation-delay: var(--animation-delay, 0s);
        animation-timing-function: var(--animation-timing, ease);
        animation-fill-mode: both;
        /* Inherit width from content */
        display: inherit;
        width: inherit;
        height: inherit;
        flex: inherit;
      }

      /* Intro Animations */
      .animation-fadeIn {
        animation-name: fadeIn;
      }

      .animation-slideInUp {
        animation-name: slideInUp;
      }

      .animation-slideInDown {
        animation-name: slideInDown;
      }

      .animation-slideInLeft {
        animation-name: slideInLeft;
      }

      .animation-slideInRight {
        animation-name: slideInRight;
      }

      .animation-zoomIn {
        animation-name: zoomIn;
      }

      .animation-bounceIn {
        animation-name: bounceIn;
      }

      .animation-flipInX {
        animation-name: flipInX;
      }

      .animation-flipInY {
        animation-name: flipInY;
      }

      .animation-rotateIn {
        animation-name: rotateIn;
      }

      /* Outro Animations */
      .animation-fadeOut {
        animation-name: fadeOut;
      }

      .animation-slideOutUp {
        animation-name: slideOutUp;
      }

      .animation-slideOutDown {
        animation-name: slideOutDown;
      }

      .animation-slideOutLeft {
        animation-name: slideOutLeft;
      }

      .animation-slideOutRight {
        animation-name: slideOutRight;
      }

      .animation-zoomOut {
        animation-name: zoomOut;
      }

      .animation-bounceOut {
        animation-name: bounceOut;
      }

      .animation-flipOutX {
        animation-name: flipOutX;
      }

      .animation-flipOutY {
        animation-name: flipOutY;
      }

      .animation-rotateOut {
        animation-name: rotateOut;
      }

      /* State-based Animations */
      .animation-pulse {
        animation-name: pulse;
        animation-iteration-count: infinite;
      }

      .animation-vibrate {
        animation-name: vibrate;
        animation-iteration-count: infinite;
      }

      .animation-rotate-left {
        animation-name: rotateLeft;
        animation-iteration-count: infinite;
      }

      .animation-rotate-right {
        animation-name: rotateRight;
        animation-iteration-count: infinite;
      }

      .animation-hover {
        animation-name: hover;
        animation-iteration-count: infinite;
      }

      .animation-fade {
        animation-name: fadeInOut;
        animation-iteration-count: infinite;
      }

      .animation-scale {
        animation-name: scale;
        animation-iteration-count: infinite;
      }

      .animation-bounce {
        animation-name: bounce;
        animation-iteration-count: infinite;
      }

      .animation-shake {
        animation-name: shake;
        animation-iteration-count: infinite;
      }

      .animation-tada {
        animation-name: tada;
        animation-iteration-count: infinite;
      }

      /* Animation Keyframes */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }

      @keyframes slideInUp {
        from {
          transform: translateY(100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes zoomIn {
        from {
          transform: scale(0);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes flipInX {
        from {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
        to {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
      }

      @keyframes flipInY {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        to {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
      }

      @keyframes rotateIn {
        from {
          transform: rotate(-200deg);
          opacity: 0;
        }
        to {
          transform: rotate(0deg);
          opacity: 1;
        }
      }

      @keyframes slideOutUp {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      @keyframes slideOutDown {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(100%);
          opacity: 0;
        }
      }

      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes zoomOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0);
          opacity: 0;
        }
      }

      @keyframes bounceOut {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        25% {
          transform: scale(0.95);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(0);
          opacity: 0;
        }
      }

      @keyframes flipOutX {
        from {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
      }

      @keyframes flipOutY {
        from {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
      }

      @keyframes rotateOut {
        from {
          transform: rotate(0deg);
          opacity: 1;
        }
        to {
          transform: rotate(200deg);
          opacity: 0;
        }
      }

      /* State-based Animation Keyframes */
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes vibrate {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-2px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(2px);
        }
      }

      @keyframes rotateLeft {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(-360deg);
        }
      }

      @keyframes rotateRight {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes hover {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      @keyframes scale {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        53%,
        80%,
        100% {
          transform: translateY(0);
        }
        40%,
        43% {
          transform: translateY(-15px);
        }
        70% {
          transform: translateY(-7px);
        }
        90% {
          transform: translateY(-3px);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-5px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(5px);
        }
      }

      @keyframes tada {
        0% {
          transform: scale(1);
        }
        10%,
        20% {
          transform: scale(0.9) rotate(-3deg);
        }
        30%,
        50%,
        70%,
        90% {
          transform: scale(1.1) rotate(3deg);
        }
        40%,
        60%,
        80% {
          transform: scale(1.1) rotate(-3deg);
        }
        100% {
          transform: scale(1) rotate(0);
        }
      }

      @keyframes slideOutUp {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInDown {
        from {
          transform: translateY(-100%);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @keyframes slideOutDown {
        from {
          transform: translateY(0);
          opacity: 1;
        }
        to {
          transform: translateY(100%);
          opacity: 0;
        }
      }

      @keyframes slideInLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes zoomIn {
        from {
          transform: scale(0.3);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes zoomOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes bounceIn {
        0% {
          transform: scale(0.3);
          opacity: 0;
        }
        50% {
          transform: scale(1.05);
        }
        70% {
          transform: scale(0.9);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounceOut {
        20% {
          transform: scale(0.9);
        }
        50%,
        55% {
          transform: scale(1.05);
          opacity: 1;
        }
        100% {
          transform: scale(0.3);
          opacity: 0;
        }
      }

      @keyframes flipInX {
        from {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateX(-20deg);
        }
        60% {
          transform: perspective(400px) rotateX(10deg);
        }
        80% {
          transform: perspective(400px) rotateX(-5deg);
        }
        to {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutX {
        from {
          transform: perspective(400px) rotateX(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateX(90deg);
          opacity: 0;
        }
      }

      @keyframes flipInY {
        from {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
        40% {
          transform: perspective(400px) rotateY(-20deg);
        }
        60% {
          transform: perspective(400px) rotateY(10deg);
        }
        80% {
          transform: perspective(400px) rotateY(-5deg);
        }
        to {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
      }

      @keyframes flipOutY {
        from {
          transform: perspective(400px) rotateY(0deg);
          opacity: 1;
        }
        to {
          transform: perspective(400px) rotateY(90deg);
          opacity: 0;
        }
      }

      @keyframes rotateIn {
        from {
          transform: rotate(-200deg);
          opacity: 0;
        }
        to {
          transform: rotate(0);
          opacity: 1;
        }
      }

      @keyframes rotateOut {
        from {
          transform: rotate(0);
          opacity: 1;
        }
        to {
          transform: rotate(200deg);
          opacity: 0;
        }
      }

      /* Container queries for responsive behavior in sections view */
      @container (max-width: 300px) {
        .card-container {
          padding: 12px;
        }

        .card-row {
          margin-bottom: 8px;
        }

        .card-column {
          gap: 8px;
        }
      }

      @container (min-width: 500px) {
        .card-container {
          padding: 20px;
        }

        .card-row {
          margin-bottom: 16px;
        }
      }

      @container (max-height: 200px) {
        .card-container {
          padding: 8px 16px;
        }

        .welcome-text {
          padding: 16px;
        }
      }
    `}};mo([(0,r.MZ)({attribute:!1})],ho.prototype,"hass",void 0),mo([(0,r.MZ)({attribute:!1,type:Object})],ho.prototype,"config",void 0),mo([(0,r.wk)()],ho.prototype,"_moduleVisibilityState",void 0),mo([(0,r.wk)()],ho.prototype,"_animatingModules",void 0),mo([(0,r.wk)()],ho.prototype,"_rowVisibilityState",void 0),mo([(0,r.wk)()],ho.prototype,"_columnVisibilityState",void 0),mo([(0,r.wk)()],ho.prototype,"_animatingRows",void 0),mo([(0,r.wk)()],ho.prototype,"_animatingColumns",void 0),ho=mo([(0,r.EM)("ultra-card")],ho),setTimeout((()=>{if(!customElements.get("ultra-card"))try{customElements.define("ultra-card",ho)}catch(e){}}),0);var _o=function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let vo=class extends n.WF{constructor(){super(...arguments),this.value="",this.label="Navigation Target",this.disabled=!1}_valueChanged(e){const t=e.detail.value;this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:t},bubbles:!0,composed:!0}))}render(){return n.qy`
      <div class="navigation-picker">
        ${this.label?n.qy`<label class="label">${this.label}</label>`:""}
        ${this.helper?n.qy`<div class="helper">${this.helper}</div>`:""}

        <ha-selector
          .hass=${this.hass}
          .selector=${{navigation:{}}}
          .value=${this.value}
          .disabled=${this.disabled}
          @value-changed=${this._valueChanged}
        ></ha-selector>
      </div>
    `}};vo.styles=n.AH`
    :host {
      display: block;
    }

    .navigation-picker {
      width: 100%;
    }

    .label {
      display: block;
      font-weight: 500;
      color: var(--primary-text-color);
      margin-bottom: 8px;
    }

    .helper {
      font-size: 12px;
      color: var(--secondary-text-color);
      margin-bottom: 8px;
    }

    ha-selector {
      width: 100%;
      display: block;
    }
  `,_o([(0,r.MZ)({attribute:!1})],vo.prototype,"hass",void 0),_o([(0,r.MZ)()],vo.prototype,"value",void 0),_o([(0,r.MZ)()],vo.prototype,"label",void 0),_o([(0,r.MZ)()],vo.prototype,"helper",void 0),_o([(0,r.MZ)({type:Boolean})],vo.prototype,"disabled",void 0),vo=_o([(0,r.EM)("ultra-navigation-picker")],vo);const fo=(0,s.oD)().getRegistryStats().totalModules;console.info(`%c  Ultra Card %c v${Yi.x} %c ${fo} modules `,"color: #fff; background:#03a9f4; font-weight:700; padding:3px 8px; border-radius:14px 0 0 14px;","color: #fff; background:#555555; font-weight:700; padding:3px 8px; border-radius:0 14px 14px 0; margin-right:6px;","color: #fff; background:#2e7d32; font-weight:700; padding:3px 10px; border-radius:14px;"),window.customCards=window.customCards||[],window.customCards.push({type:"ultra-card",name:"Ultra Card",description:"A modular card system for Home Assistant with dynamic layouts and powerful customization options.",preview:!0,documentationURL:"https://github.com/WJDDesigns/Ultra-Card",version:Yi.x})})();